{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RuleModel","in":"query","schema":{"description":"{\n    \"rule\": \"a5bb24da-****-a891683e14da\",   // 行列权限规则的ID,当传入时为修改行级权限规则,否则新增\n    \"cubeId\": \"7c7223ae-****-3c744528014b\",  // 数据集ID\n    \"ruleName\": \"测试行级权限\", // 行级权限规则的名称\n    \"ruleLevelType\": \"ROW_LEVEL\", // 行级权限类型：ROW_LEVEL：行级权限,COLUMN_LEVEL：列级权限\n    \"ruleTargetScope\": \"ALL\", // 行级权限规则针对的人群：1：所有人,2：指定人\n    \"hitTakeEffect\": 1, //命中后规则生效还是不生效（针对列级权限）：1：生效 （默认生效）,0：不生效\n    \"ruleUsersModel\": {\n        \"userGroups\": [\n            \"9bd2c6440ac542****589f16bf12ca8178dd\", // 用户组人群的用户组ID\n            \"0d5fb19b-****-1248fc27ca51\",\n            \"3d2c23d4-****-f6390f325c2d\"\n        ],\n        \"users\": [\n            \"43342****3784358\", // 用户人群的UserID\n            \"Huang****2e3fa822\"\n        ]\n    },\n    \"ruleContentModel\": {\n        \"ruleContentType\": \"ROW_FIELD\", // 行列权限的规则类型\n        \"ruleContentJson\": \"{\\\"conditionNode\\\":{\\\"caption\\\":\\\"周期\\\",\\\"isMeasure\\\":false,\\\"pathId\\\":\\\"7d3b***bc6\\\",\\\"relationOperator\\\":\\\"not-null\\\",\\\"name\\\":\\\"7d3b***bc6\\\",\\\"value\\\":{\\\"value\\\":[\\\"\\\"],\\\"valueType\\\":\\\"ENUM\\\"}}}\", // 规则的JSON字符串\n        \"ruleOriginConfigJson\": \"{\\\"operator\\\":\\\"and\\\",\\\"operands\\\":[{\\\"labelName\\\":\\\"周期\\\",\\\"isValid\\\":true,\\\"uniqueId\\\":\\\"5\\\",\\\"fieldId\\\":\\\"7d3b***bc6\\\",\\\"error\\\":false,\\\"fieldType\\\":\\\"string\\\",\\\"defaultValue\\\":{\\\"selectType\\\":\\\"condition\\\",\\\"value\\\":{\\\"conditionOp\\\":\\\"not-null\\\",\\\"conditionValue\\\":\\\"\\\"},\\\"valueType\\\":\\\"ENUM\\\"}}],\\\"isRelation\\\":true}\" // 前端模板要是用的JSON结果（行级权限专用）\n    }\n}","type":"string","required":true,"docRequired":true,"example":"{\n    \"cubeId\": \"aa574353-41cf-****-8d0d-455176c101fa\",\n    \"hitTakeEffect\": 1,\n    \"isOpen\": 1,\n    \"permissionMode\": \"COMPLEX\",\n    \"ruleContentModel\": {\n        \"ruleContent\": {\n            \"pathId\": [\n                \"264b7a970b\"\n            ]\n        },\n        \"ruleContentJson\": \"{\\\"pathId\\\":[\\\"264b7a970b\\\"]}\",\n        \"ruleContentType\": \"COLUMN_FORBID\"\n    },\n    \"ruleId\": \"3971fa8e-f7e0-****-b6e3-5b3167dd7247\",\n    \"ruleLevelType\": \"COLUMN_LEVEL\",\n    \"ruleName\": \"规则名称\",\n    \"ruleTargetScope\": \"ALL\"\n}"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D8749D65-E80A-433C-AF1B-CE9C180FF3B4"},"Result":{"description":"保存成功的行列权限信息。","type":"string","example":"{\n    \"cubeId\": \"aa574353-41cf-****-8d0d-455176c101fa\",\n    \"hitTakeEffect\": 1,\n    \"isOpen\": 1,\n    \"permissionMode\": \"COMPLEX\",\n    \"ruleContentModel\": {\n        \"ruleContent\": {\n            \"pathId\": [\n                \"264b7a970b\"\n            ]\n        },\n        \"ruleContentJson\": \"{\\\"pathId\\\":[\\\"264b7a970b\\\"]}\",\n        \"ruleContentType\": \"COLUMN_FORBID\"\n    },\n    \"ruleId\": \"3971fa8e-f7e0-****-b6e3-5b3167dd7247\",\n    \"ruleLevelType\": \"COLUMN_LEVEL\",\n    \"ruleName\": \"规则名称\",\n    \"ruleTargetScope\": \"ALL\"\n}"},"Success":{"description":"是否请求成功。取值范围：\n\n- true：请求成功\n- false：请求失败","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"Cube.Not.Exist","errorMessage":"The Cube does not exist."},{"errorCode":"CubePermission.Columnlevel.VersionError","errorMessage":"You are not allowed to use the new dataLevelPermission API."},{"errorCode":"CubePermission.ColumnlevelField.Repeat","errorMessage":"There are duplicate field configurations."},{"errorCode":"RowLevelPermission.SwitchClose.Error","errorMessage":"The row level permission switch must be on."},{"errorCode":"RowLevelPermission.Rule.NotExsist","errorMessage":"The row level permission rule does not exist: %s."},{"errorCode":"RowLevelPermission.Rule.NotBelongToCube","errorMessage":"The row level permission rule does not belong to the current cube."},{"errorCode":"Cube.NotBelongTo.CurrentOrganization","errorMessage":"The cube does not belong to the current organization %s."},{"errorCode":"Internal.System.Error","errorMessage":"An internal system error occurred."},{"errorCode":"Instance.Expired","errorMessage":"Your instance has expired."},{"errorCode":"Instance.Not.Exist","errorMessage":"The specified instance does not exist."},{"errorCode":"Invalid.Organization","errorMessage":"The specified organizational unit does not exist."},{"errorCode":"User.Not.In.Organization","errorMessage":"The specified user is not in the organizational unit."},{"errorCode":"Invalid.Parameter","errorMessage":"An error occurred while verifying parameters."},{"errorCode":"Invalid.Parameter.Error","errorMessage":"The parameter is invalid:%s."},{"errorCode":"Invalid.Param.Error","errorMessage":"The parameter is invalid."},{"errorCode":"Invalid.User.Admin","errorMessage":"You are not an administrator of this organization."},{"errorCode":"System.Param.Empty","errorMessage":"You must specify the %s parameter."},{"errorCode":"Access.Forbidden","errorMessage":"Your instance version or access key is not allowed to call the API operation, only professional version supports calling."},{"errorCode":"UserInfo.Error","errorMessage":"The personal information is invalid."},{"errorCode":"ApiUser.Not.Exists","errorMessage":"The specified user does not exist."},{"errorCode":"User.Not.WorkspaceAdmin","errorMessage":"Only administrators of the group workspace can perform this operation."},{"errorCode":"Application.Object.NotExist","errorMessage":"The object you are operating does not exist or has been deleted."},{"errorCode":"Not.ApiCall.AuthUser","errorMessage":"You are not an administrator or API call auth user of this organization."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D8749D65-E80A-433C-AF1B-CE9C180FF3B4\\\",\\n  \\\"Result\\\": \\\"{\\\\n    \\\\\\\"cubeId\\\\\\\": \\\\\\\"aa574353-41cf-****-8d0d-455176c101fa\\\\\\\",\\\\n    \\\\\\\"hitTakeEffect\\\\\\\": 1,\\\\n    \\\\\\\"isOpen\\\\\\\": 1,\\\\n    \\\\\\\"permissionMode\\\\\\\": \\\\\\\"COMPLEX\\\\\\\",\\\\n    \\\\\\\"ruleContentModel\\\\\\\": {\\\\n        \\\\\\\"ruleContent\\\\\\\": {\\\\n            \\\\\\\"pathId\\\\\\\": [\\\\n                \\\\\\\"264b7a970b\\\\\\\"\\\\n            ]\\\\n        },\\\\n        \\\\\\\"ruleContentJson\\\\\\\": \\\\\\\"{\\\\\\\\\\\\\\\"pathId\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"264b7a970b\\\\\\\\\\\\\\\"]}\\\\\\\",\\\\n        \\\\\\\"ruleContentType\\\\\\\": \\\\\\\"COLUMN_FORBID\\\\\\\"\\\\n    },\\\\n    \\\\\\\"ruleId\\\\\\\": \\\\\\\"3971fa8e-f7e0-****-b6e3-5b3167dd7247\\\\\\\",\\\\n    \\\\\\\"ruleLevelType\\\\\\\": \\\\\\\"COLUMN_LEVEL\\\\\\\",\\\\n    \\\\\\\"ruleName\\\\\\\": \\\\\\\"规则名称\\\\\\\",\\\\n    \\\\\\\"ruleTargetScope\\\\\\\": \\\\\\\"ALL\\\\\\\"\\\\n}\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SetDataLevelPermissionRuleConfigResponse>\\n    <RequestId>D8749D65-E80A-433C-AF1B-CE9C180FF3B4</RequestId>\\n    <Result>true</Result>\\n    <Success>true</Success>\\n</SetDataLevelPermissionRuleConfigResponse>\",\"errorExample\":\"\"}]","title":"设置单条数据集行列权限配置信息","summary":"设置单条数据集行列权限配置信息（新增和更新）。","description":">：当前接口仅支持Quick BI新版行列权限模型。若您仍在使用老的行列权限，请先一键迁移至新的行列权限模型后再调用该接口。一键迁移至新的行列权限模型的操作步骤：在组织管理-->安全配置-->行列权限升级新版中，单击**一键升级**，升级至新版行级权限。"}