{"summary":"该接口用于查看一个DBS备份计划。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"BackupPlanId","in":"query","schema":{"description":"备份计划ID，支持查询多个备份计划，英文逗号（,）分隔。","type":"string","required":false,"example":"dbstooi01exXXXX"}},{"name":"Region","in":"query","schema":{"description":"DBS地域，可通过调用[DescribeRegions](~~437238~~)接口查看DBS支持地域。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"PageSize","in":"query","schema":{"description":"每页的记录数，取值为1~100。\n\n> 默认为**30**。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"PageNum","in":"query","schema":{"description":"页码，大于等于0且不超过Integer的最大值，默认值为：0。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"BackupPlanName","in":"query","schema":{"description":"备份计划名称。","type":"string","required":false,"example":"test123"}},{"name":"BackupPlanStatus","in":"query","schema":{"description":"备份计划状态，取值：\n\n* **wait**：未配置\n* **init**：未启动（预检查失败）\n* **running**：运行中\n* **stop**：失败\n* **pause**：暂停\n* **locked**：锁定中\n* **check_pass**：预检查通过","type":"string","required":false,"example":"wait"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。","type":"string","required":false,"example":"ASDASDASDSADASFCZXVZ"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-aekzecovzti****"}}],"responses":{"200":{"schema":{"description":"返回参数详情如下。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"PageNum":{"description":"页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"4F1888AC-1138-4995-B9FE-D2734F61C058"},"ErrCode":{"description":"错误码。","type":"string","example":"InvalidParameterValid"},"Success":{"description":"是否成功。","type":"boolean","example":"true"},"ErrMessage":{"description":"错误信息。","type":"string","example":"The specified parameter %s value is not valid.     "},"TotalPages":{"description":"总页数。","type":"integer","format":"int32","example":"4"},"TotalElements":{"description":"总备份计划数。","type":"integer","format":"int32","example":"100"},"PageSize":{"description":"每页的记录数。","type":"integer","format":"int32","example":"30"},"Items":{"type":"object","properties":{"BackupPlanDetail":{"description":"备份计划详情。","type":"array","items":{"description":"返回值。","type":"object","properties":{"CrossRoleName":{"description":"跨阿里云账号备份的RAM角色名称。","type":"string","example":"test123"},"SourceEndpointInstanceType":{"description":"数据库所在位置，返回值如下：\n- **rds**\n- **ecs**\n- **express**：通过专线/VPN网关/智能网关接入的数据库\n- **agent**：通过备份网关接入的数据库\n- **dds**：云MongoDB\n- **other**：通过IP:Port直连的数据库","type":"string","example":"rds"},"BackupSetDownloadDir":{"description":"备份集下载服务器目录。","type":"string","example":"*/test/test123"},"SourceEndpointIpPort":{"description":"数据库连接地址。","type":"string","example":"100.*.*.10:33204"},"CrossAliyunId":{"description":"跨阿里云账号备份的uid。","type":"string","example":"2xxx7778xxxxxxxxxx"},"DuplicationArchivePeriod":{"description":"转为归档冷备存储时间（天）。","type":"integer","format":"int32","example":"365"},"BackupPlanId":{"description":"备份计划ID。","type":"string","example":"dbstooi01eXXXX"},"EndTimestampForRestore":{"description":"数据库可恢复时间段的结束时间，格式为时间戳。","type":"integer","format":"int64","example":"1554560477000"},"BackupPlanStatus":{"description":"备份计划状态，返回值如下：\n- **wait**：未配置\n- **init**：未启动（预检查失败）\n- **running**：运行中\n- **stop**：失败\n- **pause**：暂停\n- **locked**：锁定中\n- **check_pass**：预检查通过","type":"string","example":"init"},"BackupSetDownloadFullDataFormat":{"description":"备份集下载全量数据格式：\n* **Native**\n* **SQL**\n* **CSV**\n* **JSON**","type":"string","example":"SQL"},"BackupRetentionPeriod":{"description":"备份数据保留时间，返回值：0~1825（天）。","type":"integer","format":"int32","example":"365"},"OSSBucketRegion":{"description":"OSS Bucket地域。","type":"string","example":"cn-hangzhou"},"SourceEndpointOracleSID":{"description":"Oracle SID名称。","type":"string","example":"test"},"BackupStorageType":{"description":"内置存储类型，返回值如下：\n\n- 空（默认）：备份数据存储在用户OSS上。\n- system ：备份数据存储在DBS的内置OSS上。","type":"string","example":"system"},"BackupMethod":{"description":"备份方式，返回值如下：\n- **logical**：逻辑备份\n- **physical**：物理备份\n- **duplication**：转储备份","type":"string","example":"logical"},"SourceEndpointRegion":{"description":"数据库地域。","type":"string","example":"cn-hangzhou"},"BackupPeriod":{"description":"全量备份周期，返回值如下：\n- **Monday**：周一\n- **Tuesday**：周二\n- **Wednesday**：周三\n- **Thursday**：周四\n- **Friday**：周五\n- **Saturday**：周六\n- **Sunday**：周日","type":"string","example":"Monday"},"SourceEndpointDatabaseName":{"description":"数据库名称。","type":"string","example":"test"},"BackupSetDownloadGatewayId":{"description":"备份集下载备份网关ID。","type":"integer","format":"int64","example":"123123"},"BackupPlanCreateTime":{"description":"备份计划创建时间戳。","type":"integer","format":"int64","example":"1582527713000"},"InstanceClass":{"description":"规格，返回值如下：\n\n- **micro**：入门型\n- **small**：低配型\n- **medium**：中配型\n- **large**：高配型\n- **xlarge**：高配型（无流量上限）","type":"string","example":"micro"},"BackupSetDownloadTargetType":{"description":"备份集下载目标类型。\n\n> 唯一取值：agent，表示已安装备份网关。","type":"string","example":"agent"},"DuplicationInfrequentAccessPeriod":{"description":"转为低频访问存储时间（天）。","type":"integer","format":"int32","example":"180"},"BackupStartTime":{"description":"全量备份开始时间，格式为HH:mm。","type":"string","example":"14:22"},"ErrMessage":{"description":"预检查任务异常信息。","type":"string","example":"  can not connect to oracle instance orcl with user dbs"},"BackupObjects":{"description":"备份对象。","type":"string","example":"[     {         \\\"DBName\\\":\\\"待备份库名\\\",         \\\"SchemaName\\\":\\\"待备份 Schema 名\\\",         \\\"TableIncludes\\\":[{             \\\"TableName\\\":\\\"待备份表表名\\\"         }],         \\\"TableExcludes\\\":[{             \\\"TableName\\\":\\\"待备份库名不需要备份表的表名\\\"         }]     } ]"},"BeginTimestampForRestore":{"description":"可数据库恢复时间段的开始时间，返回值：1554560477000。","type":"integer","format":"int64","example":"1554560477000"},"SourceEndpointInstanceID":{"description":"数据库实例ID。","type":"string","example":"test"},"OpenBackupSetAutoDownload":{"description":"是否开启自动备份集下载功能。","type":"boolean","example":"true"},"BackupPlanName":{"description":"备份计划名称。","type":"string","example":"dbstooi01e****"},"OSSBucketName":{"description":"OSS Bucket名称。","type":"string","example":"dbs-backup-1857XXXXX489"},"BackupGatewayId":{"description":"备份网关ID。","type":"integer","format":"int64","example":"827362187368736"},"SourceEndpointUserName":{"description":"数据库账号。","type":"string","example":"test"},"BackupSetDownloadIncrementDataFormat":{"description":"备份集下载全量数据格式：\n* **Native**\n* **SQL**\n* **CSV**\n* **JSON**","type":"string","example":"SQL"},"EnableBackupLog":{"description":"是否开启增量日志备份，返回值如下：\n- **true**：开启\n- **false**：关闭","type":"boolean","example":"true"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-aekzecovzti****"},"DatabaseType":{"description":"数据库类型。","type":"string","example":"MySQL"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Request.Forbidden","errorMessage":"Have no Permissions"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"PageNum\\\": 1,\\n  \\\"RequestId\\\": \\\"4F1888AC-1138-4995-B9FE-D2734F61C058\\\",\\n  \\\"ErrCode\\\": \\\"InvalidParameterValid\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrMessage\\\": \\\"The specified parameter %s value is not valid.     \\\",\\n  \\\"TotalPages\\\": 4,\\n  \\\"TotalElements\\\": 100,\\n  \\\"PageSize\\\": 30,\\n  \\\"Items\\\": {\\n    \\\"BackupPlanDetail\\\": [\\n      {\\n        \\\"CrossRoleName\\\": \\\"test123\\\",\\n        \\\"SourceEndpointInstanceType\\\": \\\"rds\\\",\\n        \\\"BackupSetDownloadDir\\\": \\\"*/test/test123\\\",\\n        \\\"SourceEndpointIpPort\\\": \\\"100.*.*.10:33204\\\",\\n        \\\"CrossAliyunId\\\": \\\"2xxx7778xxxxxxxxxx\\\",\\n        \\\"DuplicationArchivePeriod\\\": 365,\\n        \\\"BackupPlanId\\\": \\\"dbstooi01eXXXX\\\",\\n        \\\"EndTimestampForRestore\\\": 1554560477000,\\n        \\\"BackupPlanStatus\\\": \\\"init\\\",\\n        \\\"BackupSetDownloadFullDataFormat\\\": \\\"SQL\\\",\\n        \\\"BackupRetentionPeriod\\\": 365,\\n        \\\"OSSBucketRegion\\\": \\\"cn-hangzhou\\\",\\n        \\\"SourceEndpointOracleSID\\\": \\\"test\\\",\\n        \\\"BackupStorageType\\\": \\\"system\\\",\\n        \\\"BackupMethod\\\": \\\"logical\\\",\\n        \\\"SourceEndpointRegion\\\": \\\"cn-hangzhou\\\",\\n        \\\"BackupPeriod\\\": \\\"Monday\\\",\\n        \\\"SourceEndpointDatabaseName\\\": \\\"test\\\",\\n        \\\"BackupSetDownloadGatewayId\\\": 123123,\\n        \\\"BackupPlanCreateTime\\\": 1582527713000,\\n        \\\"InstanceClass\\\": \\\"micro\\\",\\n        \\\"BackupSetDownloadTargetType\\\": \\\"agent\\\",\\n        \\\"DuplicationInfrequentAccessPeriod\\\": 180,\\n        \\\"BackupStartTime\\\": \\\"14:22\\\",\\n        \\\"ErrMessage\\\": \\\"  can not connect to oracle instance orcl with user dbs\\\",\\n        \\\"BackupObjects\\\": \\\"[     {         \\\\\\\\\\\\\\\"DBName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"待备份库名\\\\\\\\\\\\\\\",         \\\\\\\\\\\\\\\"SchemaName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"待备份 Schema 名\\\\\\\\\\\\\\\",         \\\\\\\\\\\\\\\"TableIncludes\\\\\\\\\\\\\\\":[{             \\\\\\\\\\\\\\\"TableName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"待备份表表名\\\\\\\\\\\\\\\"         }],         \\\\\\\\\\\\\\\"TableExcludes\\\\\\\\\\\\\\\":[{             \\\\\\\\\\\\\\\"TableName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"待备份库名不需要备份表的表名\\\\\\\\\\\\\\\"         }]     } ]\\\",\\n        \\\"BeginTimestampForRestore\\\": 1554560477000,\\n        \\\"SourceEndpointInstanceID\\\": \\\"test\\\",\\n        \\\"OpenBackupSetAutoDownload\\\": true,\\n        \\\"BackupPlanName\\\": \\\"dbstooi01e****\\\",\\n        \\\"OSSBucketName\\\": \\\"dbs-backup-1857XXXXX489\\\",\\n        \\\"BackupGatewayId\\\": 827362187368736,\\n        \\\"SourceEndpointUserName\\\": \\\"test\\\",\\n        \\\"BackupSetDownloadIncrementDataFormat\\\": \\\"SQL\\\",\\n        \\\"EnableBackupLog\\\": true,\\n        \\\"ResourceGroupId\\\": \\\"rg-aekzecovzti****\\\",\\n        \\\"DatabaseType\\\": \\\"MySQL\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeBackupPlanListResponse>\\n    <PageSize>30</PageSize>\\n    <RequestId>4F1888AC-1138-4995-B9FE-D2734F61C058</RequestId>\\n    <PageNum>0</PageNum>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <TotalElements>1</TotalElements>\\n    <Items>\\n        <BackupPlanDetail>\\n            <BackupPlanName>dbXXXXX7ltj</BackupPlanName>\\n            <BackupMethod>logical</BackupMethod>\\n            <BackupPlanCreateTime>1583000</BackupPlanCreateTime>\\n            <BackupPeriod>MONDAY</BackupPeriod>\\n            <BackupObjects>[     {         \\\"DBName\\\":\\\"Database name to be backed up\\\",         \\\"SchemaName\\\":\\\"Schema name to be backed up\\\",         \\\"TableIncludes\\\":[{             \\\"TableName\\\":\\\"Table name of the table to be backed up\\\"         }],         \\\"TableExcludes\\\":[{             \\\"TableName\\\":\\\"The name of the database to be backed up does not need the name of the table to be backed up\\\"         }]     } ]</BackupObjects>\\n            <SourceEndpointInstanceID>rm-bp1p8XXXXXv8pxe</SourceEndpointInstanceID>\\n            <InstanceClass>medium</InstanceClass>\\n            <OSSBucketRegion>cn-hangzhou</OSSBucketRegion>\\n            <SourceEndpointRegion>cn-hangzhou</SourceEndpointRegion>\\n            <SourceEndpointIpPort>100.X.X.10:33204</SourceEndpointIpPort>\\n            <DuplicationArchivePeriod>365</DuplicationArchivePeriod>\\n            <OSSBucketName>dbs-backup-1857XXXXX489</OSSBucketName>\\n            <BackupPlanStatus>init</BackupPlanStatus>\\n            <BackupStartTime>14:22</BackupStartTime>\\n            <EnableBackupLog>true</EnableBackupLog>\\n            <BackupPlanId>dbXXXXXx7ltj</BackupPlanId>\\n            <BackupRetentionPeriod>730</BackupRetentionPeriod>\\n            <SourceEndpointInstanceType>rds</SourceEndpointInstanceType>\\n            <SourceEndpointUserName>test</SourceEndpointUserName>\\n            <DuplicationInfrequentAccessPeriod>180</DuplicationInfrequentAccessPeriod>\\n        </BackupPlanDetail>\\n    </Items>\\n    <TotalPages>1</TotalPages>\\n    <Success>true</Success>\\n</DescribeBackupPlanListResponse>\",\"errorExample\":\"\"}]","title":"查看备份计划","description":"请在使用本接口前，提前开通OSS服务，更多信息请参见[对象存储OSS](~~31817~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}