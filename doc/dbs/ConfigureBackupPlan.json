{"summary":"该接口用于配置一个DBS备份计划。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"update","riskType":"none","chargeType":"free"},"parameters":[{"name":"BackupPlanId","in":"query","schema":{"description":"备份计划ID，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。","type":"string","required":true,"example":"dbstooi0*******"}},{"name":"SourceEndpointInstanceType","in":"query","schema":{"description":"数据库所在位置，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。取值如下：\n\n- **RDS**\n- **ECS**\n- **Express**：通过专线/VPN网关/智能网关接入的数据库\n- **Agent**：通过备份网关接入的数据库\n- **DDS**：云MongoDB\n- **Other**：通过IP:Port直连的数据库","type":"string","required":true,"example":"RDS"}},{"name":"SourceEndpointRegion","in":"query","schema":{"description":"数据库地域，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **SourceEndpointInstanceType**为RDS、ECS、DDS、Express、Agent时，该参数必传。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SourceEndpointInstanceID","in":"query","schema":{"description":"数据库实例ID，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **SourceEndpoint**.**InstanceType**为**RDS**、**ECS**、**DDS**、**Express**时，该参数必传。\n","type":"string","required":false,"example":"rm-uf6wjk5*********"}},{"name":"SourceEndpointIP","in":"query","schema":{"description":"数据库连接地址，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **SourceEndpointInstanceType**为**express**、**agent**、**other**时，该参数必传。","type":"string","required":false,"example":"rm-uf6wjk5*******.mysql.rds.aliyuncs.com"}},{"name":"SourceEndpointPort","in":"query","schema":{"description":"数据库端口，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **SourceEndpoint**.**InstanceType**为**express**、**agent**、**other**、**ECS**时，该参数必传。","type":"integer","format":"int32","required":false,"example":"3306"}},{"name":"SourceEndpointDatabaseName","in":"query","schema":{"description":"数据库名称，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> 数据库类型为**PostgreSQL**、**MongoDB**时，该参数必传。","type":"string","required":false,"example":"testRDS"}},{"name":"SourceEndpointUserName","in":"query","schema":{"description":"数据库账号。\n\n> 数据库类型为**Redis**，或者数据库所在位置为**agent**且数据库类型为**SQL Server**时该参数非必须，其他场景均必传。","type":"string","required":false,"example":"testRDS"}},{"name":"SourceEndpointPassword","in":"query","schema":{"description":"密码。\n\n> 数据库类型为**Redis**，或者数据库所在位置为**agent**且数据库类型为**SQL Server**时该参数非必须，其他场景均必传。","type":"string","required":false,"example":"testPassword"}},{"name":"BackupGatewayId","in":"query","schema":{"description":"备份网关ID，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **SourceEndpointInstanceType**为**agent**时，该参数必传。","type":"integer","format":"int64","required":false,"example":"23313123312"}},{"name":"OSSBucketName","in":"query","schema":{"description":"OSS Bucket名称。\n\n> 系统默认自动生成新的名称。","type":"string","required":false,"example":"TestOssBucket"}},{"name":"BackupObjects","in":"query","schema":{"description":"备份对象，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。","type":"string","required":false,"example":"[     {         \"DBName\":\"待备份库名\",         \"SchemaName\":\"待备份 Schema 名\",         \"TableIncludes\":[{             \"TableName\":\"待备份表表名\"         }],         \"TableExcludes\":[{             \"TableName\":\"待备份库名不需要备份表的表名\"         }]     } ]"}},{"name":"BackupPeriod","in":"query","schema":{"description":"全量备份周期，取值：\n- **Monday**：周一\n- **Tuesday**：周二\n- **Wednesday**：周三\n- **Thursday**：周四\n- **Friday**：周五\n- **Saturday**：周六\n- **Sunday**：周日","type":"string","required":false,"example":"Monday"}},{"name":"BackupStartTime","in":"query","schema":{"description":"全量备份开始时间，格式为<i>HH:mm</i>Z（UTC时间）。可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。","type":"string","required":false,"example":"14:22"}},{"name":"EnableBackupLog","in":"query","schema":{"description":"是否开启增量日志备份，取值：\n- **true**：开启\n- **false**：关闭","type":"boolean","required":false,"example":"true"}},{"name":"BackupLogIntervalSeconds","in":"query","schema":{"description":"增量时间间隔，以秒（s）为单位。\n> 仅支持物理备份。","type":"integer","format":"int32","required":false,"example":"1000"}},{"name":"BackupRetentionPeriod","in":"query","schema":{"description":"备份数据保留时间，取值：0 ~ 1825，默认为730天。","type":"integer","format":"int32","required":false,"example":"730"}},{"name":"DuplicationInfrequentAccessPeriod","in":"query","schema":{"description":"转为低频访问存储时间，默认为180天。","type":"integer","format":"int32","required":false,"example":"180"}},{"name":"DuplicationArchivePeriod","in":"query","schema":{"description":"转为归档冷备存储时间，默认为365天。","type":"integer","format":"int32","required":false,"example":"365"}},{"name":"BackupPlanName","in":"query","schema":{"description":"自定义备份计划名称，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。","type":"string","required":true,"example":"dbstooi0*******"}},{"name":"SourceEndpointOracleSID","in":"query","schema":{"description":"Oracle SID名称。\n\n> 数据库类型为Oracle时，该参数必传。","type":"string","required":false,"example":"test"}},{"name":"BackupStorageType","in":"query","schema":{"description":"内置存储类型：\n- 空（默认）：备份数据存储在用户OSS上。\n- system ：备份数据存储在DBS的内置OSS上。","type":"string","required":false,"example":"无"}},{"name":"BackupSpeedLimit","in":"query","schema":{"description":"磁盘IO限制 ， 单位为KB/s。\n> 仅对MySQL物理备份生效。","type":"integer","format":"int64","required":false,"example":"262144"}},{"name":"BackupRateLimit","in":"query","schema":{"description":"网络带宽限制， 单位为KB/s ，最大允许10GB。\n> 仅对MySQL物理备份生效。","type":"integer","format":"int64","required":false,"example":"262144"}},{"name":"BackupStrategyType","in":"query","schema":{"description":"全量备份周期，取值：\n- **simple**：周期备份，和BackupPeriod、BackupStartTime配合使用。\n- **manual**：手动备份。\n\n> 默认为**simple**。","type":"string","required":false,"example":"simple"}},{"name":"CrossAliyunId","in":"query","schema":{"description":"跨阿里云账号备份的UID，可通过调用[DescribeRestoreTaskList](~~437228~~)接口获取该参数的值。","type":"string","required":false,"example":"2xxx7778xxxxxxxxxx"}},{"name":"CrossRoleName","in":"query","schema":{"description":"跨阿里云账号备份的RAM角色名称，可通过调用[DescribeRestoreTaskList](~~437228~~)接口获取该参数的值。","type":"string","required":false,"example":"test123"}},{"name":"AutoStartBackup","in":"query","schema":{"description":"是否开启自动备份。\n\n- **true**：开启\n- **false**：不开启","type":"boolean","required":false,"example":"false"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCzxxxxxxx"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-aekzecovzti****"}}],"responses":{"200":{"schema":{"description":"详情信息如下。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"RequestId":{"description":"请求ID。","type":"string","example":"F1FB49D4-B504-47F1-9F43-D7EAB33F****"},"ErrCode":{"description":"错误码。","type":"string","example":"Param.NotFound"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"ErrMessage":{"description":"错误信息。","type":"string","example":"The specified parameter %s value is not valid.     "},"BackupPlanId":{"description":"备份计划ID。","type":"string","example":"dbstooi01ex****"}}}}},"errorCodes":{"403":[{"errorCode":"Request.Forbidden","errorMessage":"Have no Permissions"}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"RequestId\\\": \\\"F1FB49D4-B504-47F1-9F43-D7EAB33F****\\\",\\n  \\\"ErrCode\\\": \\\"Param.NotFound\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrMessage\\\": \\\"The specified parameter %s value is not valid.     \\\",\\n  \\\"BackupPlanId\\\": \\\"dbstooi01ex****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ConfigureBackupPlanResponse>\\n    <RequestId>D6E068C3-25BC-455A-85FE-45F0B22E****</RequestId>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <BackupPlanId>dbstooi01ex****</BackupPlanId>\\n    <Success>true</Success>\\n</ConfigureBackupPlanResponse>\",\"errorExample\":\"\"}]","title":"配置备份计划","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}