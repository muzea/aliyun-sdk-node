{"summary":"该接口用于查看DBS恢复任务列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"BackupPlanId","in":"query","schema":{"description":"备份计划ID。\n\n> 请填入本参数BackupPlanId或RestoreTaskId。","type":"string","required":false,"example":"dbs1hvb0wwwXXXXX"}},{"name":"RestoreTaskId","in":"query","schema":{"description":"恢复任务ID，支持多个查询，使用半角逗号（,）分隔。您可以调用[CreateRestoreTask](~~437226~~)接口获取该参数。\n\n> 请填入本参数RestoreTaskId或BackupPlanId，同时填入时会导致报错。","type":"string","required":false,"example":"s102h7rf5anq"}},{"name":"PageSize","in":"query","schema":{"description":"每页的记录数，取值为1~100。\n\n> 默认为30。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"PageNum","in":"query","schema":{"description":"页码，大于等于0且不超过Integer的最大值，默认值为：0。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCzxxxxxxx"}},{"name":"StartTimestamp","in":"query","schema":{"description":"开始备份时间。","type":"integer","format":"int64","required":false,"example":"1570701361528"}},{"name":"EndTimestamp","in":"query","schema":{"description":"结束备份时间。","type":"integer","format":"int64","required":false,"example":"1570701361528"}}],"responses":{"200":{"schema":{"description":"返回参数详情如下。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"PageNum":{"description":"页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"9C397502-B4F2-4E22-AD97-C81F0049F3F3"},"ErrCode":{"description":"错误码。","type":"string","example":"Param.NotFound"},"Success":{"description":"是否成功。","type":"boolean","example":"true"},"ErrMessage":{"description":"错误信息。","type":"string","example":"The specified parameter %s value is not valid. "},"TotalPages":{"description":"总页数。","type":"integer","format":"int32","example":"1"},"TotalElements":{"description":"总恢复任务数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页的记录数。","type":"integer","format":"int32","example":"30"},"Items":{"type":"object","properties":{"RestoreTaskDetail":{"description":"备份计划详情。","type":"array","items":{"type":"object","properties":{"RestoreStatus":{"description":"恢复任务状态，取值：\n- init：未启动或预检查失败\n- running：运行中\n- stop：失败\n- pause：暂停\n- check_pass：预检查通过","type":"string","example":"running"},"FullStruAfterRestoreProgress":{"description":"全量结构后置恢复进度。","type":"integer","format":"int32","example":"100"},"CrossRoleName":{"description":"跨阿里云账号备份的RAM角色名称。","type":"string","example":"test123"},"RestoreDir":{"description":"恢复路径。","type":"string","example":"100.X.X.10:33204"},"CrossAliyunId":{"description":"跨阿里云账号备份的UID。","type":"string","example":"2xxx7778xxxxxxxxxx"},"RestoreObjects":{"description":"恢复对象。","type":"string","example":"[     {         \\\"DBName\\\":\\\"test\\\"       } ]"},"BackupPlanId":{"description":"备份计划ID。","type":"string","example":"dbs1hvb0wXXXX"},"DestinationEndpointRegion":{"description":"数据库地域。","type":"string","example":"cn-hangzhou"},"RestoreTaskCreateTime":{"description":"恢复任务创建时间，取值：1554560477000。","type":"integer","format":"int64","example":"1554560477000"},"DestinationEndpointUserName":{"description":"数据库账号。","type":"string","example":"test"},"RestoreTaskFinishTime":{"description":"恢复任务完成时间，取值：1554560477000。","type":"integer","format":"int64","example":"1554560477000"},"DestinationEndpointIpPort":{"description":"数据库连接地址。","type":"string","example":"100.X.X.10:33204"},"DestinationEndpointDatabaseName":{"description":"数据库名称。","type":"string","example":"test"},"DestinationEndpointInstanceType":{"description":"数据库所在位置，取值：\n- RDS\n- ECS\n- Express：通过专线/VPN网关/智能网关接入的数据库\n- agent：通过备份网关接入的数据库\n- dds：云MongoDB\n- other：通过IP:Port直连的数据库","type":"string","example":"RDS"},"DestinationEndpointOracleSID":{"description":"Oracle SID名称。","type":"string","example":"test"},"FullStruforeRestoreProgress":{"description":"全量结构前置恢复进度。","type":"integer","format":"int32","example":"0"},"ErrMessage":{"description":"错误信息。","type":"string","example":"NULL"},"RestoreTaskId":{"description":"恢复任务ID。","type":"string","example":"s1XXXXXX"},"FullDataRestoreProgress":{"description":"全量数据恢复进度。","type":"integer","format":"int32","example":"100"},"ContinuousRestoreProgress":{"description":"增量日志恢复进度。","type":"integer","format":"int32","example":"100"},"DestinationEndpointInstanceID":{"description":"数据库实例ID。","type":"string","example":"rm-bp1p8c2947XXX"},"BackupSetId":{"description":"恢复所使用的全量备份集ID。","type":"string","example":"1ibh2f5uXXX"},"BackupGatewayId":{"description":"备份网关ID。","type":"integer","format":"int64","example":"324234332"},"RestoreTaskName":{"description":"恢复任务名称。","type":"string","example":"test"},"RestoreTime":{"description":"恢复时间，取值：1554560477000。","type":"integer","format":"int64","example":"1554560477000"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Request.Forbidden","errorMessage":"Have no Permissions"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"PageNum\\\": 1,\\n  \\\"RequestId\\\": \\\"9C397502-B4F2-4E22-AD97-C81F0049F3F3\\\",\\n  \\\"ErrCode\\\": \\\"Param.NotFound\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrMessage\\\": \\\"The specified parameter %s value is not valid. \\\",\\n  \\\"TotalPages\\\": 1,\\n  \\\"TotalElements\\\": 1,\\n  \\\"PageSize\\\": 30,\\n  \\\"Items\\\": {\\n    \\\"RestoreTaskDetail\\\": [\\n      {\\n        \\\"RestoreStatus\\\": \\\"running\\\",\\n        \\\"FullStruAfterRestoreProgress\\\": 100,\\n        \\\"CrossRoleName\\\": \\\"test123\\\",\\n        \\\"RestoreDir\\\": \\\"100.X.X.10:33204\\\",\\n        \\\"CrossAliyunId\\\": \\\"2xxx7778xxxxxxxxxx\\\",\\n        \\\"RestoreObjects\\\": \\\"[     {         \\\\\\\\\\\\\\\"DBName\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"test\\\\\\\\\\\\\\\"       } ]\\\",\\n        \\\"BackupPlanId\\\": \\\"dbs1hvb0wXXXX\\\",\\n        \\\"DestinationEndpointRegion\\\": \\\"cn-hangzhou\\\",\\n        \\\"RestoreTaskCreateTime\\\": 1554560477000,\\n        \\\"DestinationEndpointUserName\\\": \\\"test\\\",\\n        \\\"RestoreTaskFinishTime\\\": 1554560477000,\\n        \\\"DestinationEndpointIpPort\\\": \\\"100.X.X.10:33204\\\",\\n        \\\"DestinationEndpointDatabaseName\\\": \\\"test\\\",\\n        \\\"DestinationEndpointInstanceType\\\": \\\"RDS\\\",\\n        \\\"DestinationEndpointOracleSID\\\": \\\"test\\\",\\n        \\\"FullStruforeRestoreProgress\\\": 0,\\n        \\\"ErrMessage\\\": \\\"NULL\\\",\\n        \\\"RestoreTaskId\\\": \\\"s1XXXXXX\\\",\\n        \\\"FullDataRestoreProgress\\\": 100,\\n        \\\"ContinuousRestoreProgress\\\": 100,\\n        \\\"DestinationEndpointInstanceID\\\": \\\"rm-bp1p8c2947XXX\\\",\\n        \\\"BackupSetId\\\": \\\"1ibh2f5uXXX\\\",\\n        \\\"BackupGatewayId\\\": 324234332,\\n        \\\"RestoreTaskName\\\": \\\"test\\\",\\n        \\\"RestoreTime\\\": 1554560477000\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PageSize>30</PageSize>\\n<RequestId>9C397502-B4F2-4E22-AD97-C81F0049F3F3</RequestId>\\n<PageNum>0</PageNum>\\n<HttpStatusCode>200</HttpStatusCode>\\n<TotalElements>1</TotalElements>\\n<Items>\\n    <RestoreTaskDetail>\\n        <FullStruAfterRestoreProgress>0</FullStruAfterRestoreProgress>\\n        <FullStruforeRestoreProgress>0</FullStruforeRestoreProgress>\\n        <BackupSetId>1ibXXXXX7qw</BackupSetId>\\n        <RestoreStatus>check_pass</RestoreStatus>\\n        <DestinationEndpointInstanceType>rds</DestinationEndpointInstanceType>\\n        <RestoreTime>1583741465000</RestoreTime>\\n        <DestinationEndpointRegion>cn-hangzhou</DestinationEndpointRegion>\\n        <FullDataRestoreProgress>0</FullDataRestoreProgress>\\n        <RestoreTaskId>s10XXXXnq</RestoreTaskId>\\n        <DestinationEndpointIpPort>100.X.X.10:33204</DestinationEndpointIpPort>\\n        <DestinationEndpointUserName>testygx</DestinationEndpointUserName>\\n        <RestoreObjects>[     {         \\\"DBName\\\":\\\"test_ygx\\\"       } ]</RestoreObjects>\\n        <RestoreTaskName>test</RestoreTaskName>\\n        <BackupPlanId>dbs1hvb0wwweusfa</BackupPlanId>\\n        <RestoreTaskCreateTime>1583743872000</RestoreTaskCreateTime>\\n        <DestinationEndpointInstanceID>rm-bp1p8c29479jv8pxe</DestinationEndpointInstanceID>\\n    </RestoreTaskDetail>\\n</Items>\\n<TotalPages>1</TotalPages>\\n<Success>true</Success>\",\"errorExample\":\"\"}]","title":"查看恢复任务列表","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}