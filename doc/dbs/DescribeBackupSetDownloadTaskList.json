{"summary":"该接口用于查看DBS备份集下载列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"BackupPlanId","in":"query","schema":{"description":"备份计划ID，可通过调用[DescribeBackupPlanList](~~437215~~)接口获取该参数的值。\n\n> **BackupPlanId**或**BackupSetDownloadTaskId**任选其一作为请求参数必填项。","type":"string","required":false,"example":"dbsqhnuhyw3****"}},{"name":"BackupSetDownloadTaskId","in":"query","schema":{"description":"备份集下载任务ID。\n\n- 全量备份：可通过调用[CreateFullBackupSetDownload](~~437241~~)接口获取该参数的值。\n- 增量备份：可通过调用[CreateIncrementBackupSetDownload](~~437242~~)接口获取该参数的值。","type":"string","required":false,"example":"urxgrxt7****"}},{"name":"PageSize","in":"query","schema":{"description":"每页的记录数，取值30、50、100。\n\n> 默认每页记录数为30。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"PageNum","in":"query","schema":{"description":"页码，大于等于0且不超过Integer的最大值，默认值为0。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ClientToken","in":"query","schema":{"description":"输入任意值，用于保证请求的幂等性，防止重复提交请求。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCzXXXXXX"}}],"responses":{"200":{"schema":{"description":"返回参数详情信息。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"PageNum":{"description":"页码。","type":"integer","format":"int32","example":"0"},"RequestId":{"description":"请求ID。","type":"string","example":"6DC3D286-E0E6-5988-A558-2184984B****"},"ErrCode":{"description":"错误码。","type":"string","example":"Param.NotFound"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"ErrMessage":{"description":"错误信息。","type":"string","example":"The specified parameter %s value is not valid."},"TotalPages":{"description":"总页数。","type":"integer","format":"int32","example":"1"},"TotalElements":{"description":"总备份集下载记录数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页的记录数。","type":"integer","format":"int32","example":"30"},"Items":{"type":"object","properties":{"BackupSetDownloadTaskDetail":{"description":"备份计划详情。","type":"array","items":{"description":"备份计划详情。","type":"object","properties":{"BackupSetDownloadStatus":{"description":"备份集下载状态，返回值如下：\n\n- **checking**：预检查中\n- **init**：预检查失败（未启动）\n- **check_pass**：预检查通过\n- **pause**：暂停\n- **schedule**：等待调度\n- **running**：运行中\n- **stop**：失败\n- **finish**：完成","type":"string","example":"finish"},"BackupSetDataSize":{"description":"备份集数据大小。","type":"integer","format":"int64","example":"237837"},"BackupSetDownloadTargetType":{"description":"备份集下载目标类型。\n\n> 仅自动下载显示，agent表示已安装备份网关。","type":"string","example":"无"},"BackupSetDownloadDir":{"description":"备份集下载服务器目录。\n\n> 仅自动下载有值。","type":"string","example":"无"},"ErrMessage":{"description":"异常信息。","type":"string","example":"java.lang.IndexOutOfBoundsException."},"BackupSetDownloadCreateTime":{"description":"创建时间戳。","type":"integer","format":"int64","example":"1642044001000"},"BackupPlanId":{"description":"备份计划ID。","type":"string","example":"qhnuhyw3****"},"BackupSetDbType":{"description":"数据库类型。","type":"string","example":"MySQL"},"BackupSetDownloadInternetUrl":{"description":"备份集公网下载地址。\n\n> 仅手工下载类型，且转换完成的有值。","type":"string","example":"\"//dbs-137XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou.example\""},"BackupSetId":{"description":"源备份集ID。","type":"string","example":"1h7za2yws****"},"BackupSetDownloadIntranetUrl":{"description":"备份集内网下载地址。\n\n> 仅手工下载类型，且转换完成的有值。","type":"string","example":"\"//dbs-13XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou-internal.example\""},"BackupGatewayId":{"description":"备份集备份网关，仅自动下载有值。","type":"integer","format":"int64","example":"无"},"BackupSetDownloadWay":{"description":"下载类型，返回值如下：\n\n- **manual**：手工\n- **auto**：自动","type":"string","example":"manual"},"BackupSetDownloadFinishTime":{"description":"完成时间戳。","type":"integer","format":"int64","example":"1642044013000"},"BackupSetJobType":{"description":"源备份集任务类型，返回值如下：\n\n- **cbs_backup_sub_full**：逻辑全量任务\n- **cbs_backup_sub_cont**：逻辑增量任务","type":"string","example":"cbs_backup_sub_cont"},"BackupSetDownloadTaskId":{"description":"备份集下载任务ID。","type":"string","example":"urxgrxt7****"},"BackupSetDownloadTaskName":{"description":"备份集下载任务名称。","type":"string","example":"1h7za2yws****-ManualCont"},"BackupSetDataFormat":{"description":"备份集下载数据格式，取值如下：\n\n- **Native**\n- **SQL**\n- **CSV** \n- **JSON**","type":"string","example":"Native"},"BackupSetCode":{"description":"源备份集编码。","type":"string","example":"mysql-bin.00XXXX"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Request.Forbidden","errorMessage":"Have no Permissions"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"PageNum\\\": 0,\\n  \\\"RequestId\\\": \\\"6DC3D286-E0E6-5988-A558-2184984B****\\\",\\n  \\\"ErrCode\\\": \\\"Param.NotFound\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrMessage\\\": \\\"The specified parameter %s value is not valid.\\\",\\n  \\\"TotalPages\\\": 1,\\n  \\\"TotalElements\\\": 1,\\n  \\\"PageSize\\\": 30,\\n  \\\"Items\\\": {\\n    \\\"BackupSetDownloadTaskDetail\\\": [\\n      {\\n        \\\"BackupSetDownloadStatus\\\": \\\"finish\\\",\\n        \\\"BackupSetDataSize\\\": 237837,\\n        \\\"BackupSetDownloadTargetType\\\": \\\"无\\\",\\n        \\\"BackupSetDownloadDir\\\": \\\"无\\\",\\n        \\\"ErrMessage\\\": \\\"java.lang.IndexOutOfBoundsException.\\\",\\n        \\\"BackupSetDownloadCreateTime\\\": 1642044001000,\\n        \\\"BackupPlanId\\\": \\\"qhnuhyw3****\\\",\\n        \\\"BackupSetDbType\\\": \\\"MySQL\\\",\\n        \\\"BackupSetDownloadInternetUrl\\\": \\\"\\\\\\\"//dbs-137XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou.example\\\\\\\"\\\",\\n        \\\"BackupSetId\\\": \\\"1h7za2yws****\\\",\\n        \\\"BackupSetDownloadIntranetUrl\\\": \\\"\\\\\\\"//dbs-13XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou-internal.example\\\\\\\"\\\",\\n        \\\"BackupGatewayId\\\": 0,\\n        \\\"BackupSetDownloadWay\\\": \\\"manual\\\",\\n        \\\"BackupSetDownloadFinishTime\\\": 1642044013000,\\n        \\\"BackupSetJobType\\\": \\\"cbs_backup_sub_cont\\\",\\n        \\\"BackupSetDownloadTaskId\\\": \\\"urxgrxt7****\\\",\\n        \\\"BackupSetDownloadTaskName\\\": \\\"1h7za2yws****-ManualCont\\\",\\n        \\\"BackupSetDataFormat\\\": \\\"Native\\\",\\n        \\\"BackupSetCode\\\": \\\"mysql-bin.00XXXX\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeBackupSetDownloadTaskListResponse>\\n    <RequestId>6DC3D286-E0E6-5988-A558-2184984B****</RequestId>\\n    <PageSize>30</PageSize>\\n    <PageNum>0</PageNum>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <TotalElements>1</TotalElements>\\n    <TotalPages>1</TotalPages>\\n    <Items>\\n        <BackupSetDownloadTaskDetail>\\n            <BackupSetDbType>MySQL</BackupSetDbType>\\n            <BackupSetDownloadCreateTime>1642044001000</BackupSetDownloadCreateTime>\\n            <BackupSetDownloadTaskName>1h7za2yws****-ManualCont</BackupSetDownloadTaskName>\\n            <BackupSetDownloadWay>manual</BackupSetDownloadWay>\\n            <BackupSetCode>mysql-bin.00XXXX</BackupSetCode>\\n            <BackupSetId>1h7za2yws****</BackupSetId>\\n            <BackupSetDownloadStatus>finish</BackupSetDownloadStatus>\\n            <BackupSetDownloadIntranetUrl>//dbs-13XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou-internal.example</BackupSetDownloadIntranetUrl>\\n            <BackupSetDownloadInternetUrl>//dbs-137XXXX-cn-hangzhou-1hr5cpbtmXXXX.oss-cn-hangzhou.example</BackupSetDownloadInternetUrl>\\n            <BackupSetDownloadTaskId>urxgrxt7****</BackupSetDownloadTaskId>\\n            <BackupSetDownloadFinishTime>1642044013000</BackupSetDownloadFinishTime>\\n            <BackupSetJobType>cbs_backup_sub_cont</BackupSetJobType>\\n            <BackupSetDataFormat>Native</BackupSetDataFormat>\\n            <BackupPlanId>qhnuhyw3****</BackupPlanId>\\n            <BackupSetDataSize>237837</BackupSetDataSize>\\n        </BackupSetDownloadTaskDetail>\\n    </Items>\\n    <Success>true</Success>\\n</DescribeBackupSetDownloadTaskListResponse>\",\"errorExample\":\"\"}]","title":"查看备份集下载列表"}