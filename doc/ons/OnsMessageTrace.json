{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Topic","in":"query","schema":{"description":"消息的Topic。","type":"string","required":true,"docRequired":true,"example":"test-mq_topic"}},{"name":"MsgId","in":"query","schema":{"description":"需查询消息轨迹的消息ID，即Message ID。","type":"string","required":true,"docRequired":true,"example":"1E05791C117818B4AAC23B1BB0CE****"}},{"name":"InstanceId","in":"query","schema":{"description":"需查询的消息所对应的实例ID。","type":"string","required":false,"docRequired":true,"example":"MQ_INST_111111111111_DOxxxxxx"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"公共参数，每个请求的ID都是唯一的，可用于排查和定位问题。","type":"string","example":"EAE5BE23-37A1-4354-94D6-E44AE17E****"},"Data":{"type":"object","properties":{"MessageTrack":{"description":"查询结果。","type":"array","items":{"type":"object","properties":{"TrackType":{"description":"当前状态。取值说明如下：\n\n- **CONSUMED**：已消费。\n- **CONSUMED_BUT_FILTERED**：不符合Group ID的订阅条件，消息已被过滤，未消费。\n- **NOT_CONSUME_YET**：暂未消费。\n- **NOT_ONLINE**：客户端不在线。\n- **UNKNOWN**：其他问题。","type":"string","example":"CONSUMED"},"ConsumerGroup":{"description":"订阅该Topic的消费者所对应的Group ID。","type":"string","example":"GID_test_group_id"},"InstanceId":{"description":"需查询的消息所对应的实例ID。","type":"string","example":"MQ_INST_111111111111_DOxxxxxx"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"EAE5BE23-37A1-4354-94D6-E44AE17E****\\\",\\n  \\\"Data\\\": {\\n    \\\"MessageTrack\\\": [\\n      {\\n        \\\"TrackType\\\": \\\"CONSUMED\\\",\\n        \\\"ConsumerGroup\\\": \\\"GID_test_group_id\\\",\\n        \\\"InstanceId\\\": \\\"MQ_INST_111111111111_DOxxxxxx\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<OnsMessageTraceResponse>\\n<Data>\\n    <MessageTrack>\\n        <InstanceId>MQ_INST_111111111111_DOxxxxxx</InstanceId>\\n        <ConsumerGroup>GID_test_group_id</ConsumerGroup>\\n        <TrackType>CONSUMED</TrackType>\\n    </MessageTrack>\\n</Data>\\n<RequestId>EAE5BE23-37A1-4354-94D6-E44AE17****</RequestId>\\n</OnsMessageTraceResponse>\",\"errorExample\":\"\"}]","title":"查看消息消费结果","summary":"调用OnsMessageTrace根据Message ID来判断目标消息是否曾被消费过。","description":"><notice>阿里云提供的OpenAPI属于管控类API，用于管理和查询阿里云服务的相关资源。仅推荐在管控链路集成，消息收发的核心数据链路中严禁依赖OpenAPI实现，否则可能会导致链路产生风险。></notice>\n\n- 本接口一般在消费异常，需要判断消息消费状态，初步排查原因时使用。\n\n- 本接口的实现基于云消息队列 RocketMQ 版的内部位点机制，在大部分场景下判断结果可信，但如果应用方进行过重置位点已经清除消息等操作，则判断结果可能有误。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 控制台操作\n除了调用**OnsMessageTrace**接口，您还可以通过云消息队列 RocketMQ 版控制台查看消息的消费状态。具体操作，请参见[查询消息轨迹](~~43357~~)。"}