{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Topic","in":"query","schema":{"description":"需查询的消息的Topic。","type":"string","required":true,"docRequired":true,"example":"test"}},{"name":"MsgId","in":"query","schema":{"description":"需查询的消息的ID，即Message ID。","type":"string","required":true,"docRequired":true,"example":"1E05791C117818B4AAC23B1BB0CE****"}},{"name":"BeginTime","in":"query","schema":{"description":"查询的时间范围的起始时间戳，单位：毫秒。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1570852800000"}},{"name":"EndTime","in":"query","schema":{"description":"查询的时间范围的结束时间戳，单位：毫秒。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1570968000000"}},{"name":"InstanceId","in":"query","schema":{"description":"需查询的消息的Topic所对应的实例ID。","type":"string","required":false,"docRequired":true,"example":"MQ_INST_111111111111_DOxxxxxx"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"公共参数，每个请求的ID都是唯一的，可用于排查和定位问题。","type":"string","example":"B93332A3-160D-404F-880F-1F8736D1****"},"QueryId":{"description":"该查询任务的ID，您需要根据该任务ID再调用[OnsTraceGetResult](~~59832~~)接口获取详细结果。","type":"string","example":"272967562652883649157096685****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B93332A3-160D-404F-880F-1F8736D1****\\\",\\n  \\\"QueryId\\\": \\\"272967562652883649157096685****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<OnsTraceQueryByMsgIdResponse>\\n<RequestId>B93332A3-160D-404F-880F-1F8736D1039F</RequestId>\\n<QueryId>272967562652883649157096685****</QueryId>\\n</OnsTraceQueryByMsgIdResponse>\",\"errorExample\":\"\"}]","title":"根据MsgId创建轨迹查询任务","summary":"通过传入Topic名称和Message ID创建轨迹查询任务，得到该查询任务的ID。您需要再调用OnsTraceGetResult接口，传入返回的查询任务ID，获取消息轨迹的详细结果。","description":"><notice>阿里云提供的OpenAPI属于管控类API，用于管理和查询阿里云服务的相关资源。仅推荐在管控链路集成，消息收发的核心数据链路中严禁依赖OpenAPI实现，否则可能会导致链路产生风险。></notice>","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 控制台操作\n除了调用**OnsTraceQueryByMsgId**接口，您还可以通过云消息队列 RocketMQ 版控制台创建消息轨迹查询任务。具体操作，请参见[消息查询](~~29540~~)。"}