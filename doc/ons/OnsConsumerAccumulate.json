{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"GroupId","in":"query","schema":{"description":"需查询的消费端Group ID。","type":"string","required":true,"docRequired":true,"example":"GID_test_consumer_id"}},{"name":"Detail","in":"query","schema":{"description":"是否查询各个Topic的详细信息。取值说明如下：\n\n- **true**：要查询详细信息，返回**DetailInTopicList**参数的详细信息。\n\n- **false**：不查询详细信息（默认值），**DetailInTopicList**参数返回值为空。\n","type":"boolean","required":false,"example":"true"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"docRequired":true,"example":"MQ_INST_111111111111_DOxxxxxx"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"公共参数，每个请求的ID都是唯一的，可用于排查和定位问题。","type":"string","example":"CE817BFF-B389-43CD-9419-95011AC9****"},"Data":{"description":"指定Consumer的消费堆积情况。","type":"object","properties":{"ConsumeTps":{"description":"该Group ID下消费者实例群组接收消息的总TPS。","type":"number","format":"float","example":"10"},"DelayTime":{"description":"Group ID消费消息的最大延迟时间。取值为该Group ID订阅的所有Topic中，消费延迟时间最长的Topic的值。\n\n单位：毫秒。","type":"integer","format":"int64","example":"10000"},"LastTimestamp":{"description":"该Group ID下消费者实例群组中最近消费的某条消息的生产时间。\n\n单位：毫秒级的Unix时间戳。","type":"integer","format":"int64","example":"1566231000000"},"TotalDiff":{"description":"该Group ID订阅的所有Topic的消费堆积数量。","type":"integer","format":"int64","example":"100"},"Online":{"description":"该Group ID下是否有消费者实例在线；只要有一个消费者实例在线，该Group ID状态即为在线。取值说明如下：\n\n- **true**：状态为在线\n\n- **false**：状态为不在线","type":"boolean","example":"true"},"DetailInTopicList":{"type":"object","properties":{"DetailInTopicDo":{"description":"各个Topic具体情况。如果请求参数**Detail**取值为**fasle**，则该返回参数的返回值为空。","type":"array","items":{"type":"object","properties":{"DelayTime":{"description":"该Topic中消息消费的最大延迟时间。即Topic中最早一条未消费消息的就绪时间和当前的时间差。\n\n单位：毫秒。","type":"integer","format":"int64","example":"10000"},"TotalDiff":{"description":"该Topic的消费堆积数量。","type":"integer","format":"int64","example":"100"},"LastTimestamp":{"description":"该Topic中最近消费的某条消息的生产时间。\n\n单位：毫秒级的Unix时间戳。","type":"integer","format":"int64","example":"1566231000000"},"Topic":{"description":"Topic名称。","type":"string","example":"test-mq-topic"}}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CE817BFF-B389-43CD-9419-95011AC9****\\\",\\n  \\\"Data\\\": {\\n    \\\"ConsumeTps\\\": 10,\\n    \\\"DelayTime\\\": 10000,\\n    \\\"LastTimestamp\\\": 1566231000000,\\n    \\\"TotalDiff\\\": 100,\\n    \\\"Online\\\": true,\\n    \\\"DetailInTopicList\\\": {\\n      \\\"DetailInTopicDo\\\": [\\n        {\\n          \\\"DelayTime\\\": 10000,\\n          \\\"TotalDiff\\\": 100,\\n          \\\"LastTimestamp\\\": 1566231000000,\\n          \\\"Topic\\\": \\\"test-mq-topic\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<OnsConsumerAccumulateResponse>\\n<Data>\\n    <DetailInTopicList>\\n        <DetailInTopicDo>\\n            <TotalDiff>100</TotalDiff>\\n            <LastTimestamp>1566231000000</LastTimestamp>\\n            <DelayTime>10000</DelayTime>\\n            <Topic>test-mq-topic</Topic>\\n        </DetailInTopicDo>\\n    </DetailInTopicList>\\n    <TotalDiff>100</TotalDiff>\\n    <LastTimestamp>1566231000000</LastTimestamp>\\n    <DelayTime>10000</DelayTime>\\n    <Online>true</Online>\\n    <ConsumeTps>10</ConsumeTps>\\n</Data>\\n<RequestId>0CCF6437-CBB0-4378-BFEC-E08AC258****</RequestId>\\n</OnsConsumerAccumulateResponse>\",\"errorExample\":\"\"}]","title":"查询消息消费堆积情况","summary":"查询指定Group ID的消息消费堆积情况，包括当前消息堆积数量和消费延迟时间等。","description":"><notice>阿里云提供的OpenAPI属于管控类API，用于管理和查询阿里云服务的相关资源。仅推荐在管控链路集成，消息收发的核心数据链路中严禁依赖OpenAPI实现，否则可能会导致链路产生风险。></notice>消费堆积查询一般在生产环境中需要关注Group ID消费进度时使用，用于粗略判断消息消费情况和延迟情况。您不仅可以查到该Group ID订阅的所有Topic的消息堆积情况，还可以查到每个Topic各自的消息堆积情况。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 控制台操作\n除了调用**OnsConsumerAccumulate**接口，您还可以通过云消息队列 RocketMQ 版控制台查看Group ID的消息消费堆积情况。具体操作，请参见[查看消费者状态](~~94312~~)。"}