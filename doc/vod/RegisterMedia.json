{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegisterMetadatas","in":"query","schema":{"description":"注册媒资元数据。为JSON字符串，一次最多支持设置10个媒资元数据。参数结构的更多信息，请参见下表**RegisterMetadata**。","type":"string","required":true,"docRequired":true,"example":"[{\"FileURL\":\"https://****.oss-cn-shanghai.aliyuncs.com/video/test/video123.m3u8\",\"Title\":\"VideoName\"}]"}},{"name":"TemplateGroupId","in":"query","schema":{"description":"转码模板组ID。可通过以下方式获取：\n- 登录[点播控制台](https://vod.console.aliyun.com)，选择**配置管理** > **媒体处理配置** > **转码模板组**查看转码模版组ID。\n- 通过[创建转码模板组](~~102665~~)接口创建转码模板组时，转码模板组ID为返回参数TranscodeTemplateGroupId的值。\n- 通过[查询转码配置列表](~~102669~~)接口查询转码模板组时，为请求后返回参数TranscodeTemplateGroupId的值。\n\n> - 如果不需要转码无转码，请指定TemplateGroupId为VOD\\_NO\\_TRANSCODE（不转码模板组），否则视频会出现异常。如果需要转码，则指定转码模板组ID。\n> - 如果同时传递了WorkflowId和TemplateGroupId，以WorkflowId为准。使用说明，请参见[工作流](~~115347~~)。","type":"string","required":false,"example":"ca3a8f6e49c87b65806709586****"}},{"name":"UserData","in":"query","schema":{"description":"自定义设置。为JSON字符串，支持消息回调等设置。参数详情，请参见[UserData](~~86952#section_6fg_qll_v3w~~)。\n>本接口不支持回调，即便此参数中设置了消息回调，在媒资注册完成后也不会产生回调消息。当后续对注册完成的媒资发起转码、截图等媒体处理时，若在发起转码、截图时单独设置了UserData中的消息回调，则优先使用那个回调地址；未设置，则使用此处注册媒资时UserData中设置的回调地址。","type":"string","required":false,"example":"{\"Extend\":{\"localId\":\"****\",\"test\":\"www\"}}"}},{"name":"WorkflowId","in":"query","schema":{"description":"工作流ID。可登录[点播控制台](https://vod.console.aliyun.com)，选择**配置管理** > **媒体处理配置** > **工作流管理**查看工作流ID。\n\n> 如果同时传递了WorkflowId和TemplateGroupId，以WorkflowId为准。使用说明，请参见[工作流](~~115347~~)。","type":"string","required":false,"example":"637adc2b7ba51a83d841606f8****"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"14F43C5C-8033-448B-AD04F64E5098****"},"FailedFileURLs":{"description":"注册失败的文件地址列表。\n","type":"array","items":{"description":"注册失败的文件地址列表。","type":"string","example":"[\"http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_03.mp4\"]"}},"RegisteredMediaList":{"description":"本次注册成功的Media列表，包括新增注册和已注册成功过的文件。","type":"array","items":{"description":"注册详情。","type":"object","properties":{"NewRegister":{"description":"新注册或重复注册。\n\n- **true**：表示新注册。\n- **false**：表示重复注册。","type":"boolean","example":"false"},"FileURL":{"description":"OSS文件地址。","type":"string","example":"http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_01.mp4"},"MediaId":{"description":"点播媒体ID。当注册的媒体文件为音视频时，对应点播的VideoId。","type":"string","example":"d97af32828084d1896683b1aa38****"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"14F43C5C-8033-448B-AD04F64E5098****\\\",\\n  \\\"FailedFileURLs\\\": [\\n    \\\"[\\\\\\\"http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_03.mp4\\\\\\\"]\\\"\\n  ],\\n  \\\"RegisteredMediaList\\\": [\\n    {\\n      \\\"NewRegister\\\": false,\\n      \\\"FileURL\\\": \\\"http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_01.mp4\\\",\\n      \\\"MediaId\\\": \\\"d97af32828084d1896683b1aa38****\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RegisterMediaResponse>\\n    <RequestId>14F43C5C-8033-43E7-B48B-AD04F64E5098</RequestId>\\n    <RegisteredMediaList>\\n        <MediaId>d97af328280842229aed1896683b1aa38</MediaId>\\n        <FileURL>http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_01.mp4</FileURL>\\n        <NewRegister>true</NewRegister>\\n    </RegisteredMediaList>\\n    <RegisteredMediaList>\\n        <MediaId>d97af328280842229aed1896683b1aa38</MediaId>\\n        <FileURL>http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_02.mp4</FileURL>\\n        <NewRegister>false</NewRegister>\\n    </RegisteredMediaList>\\n    <FailedFileURLs>http://****.oss-cn-shanghai.aliyuncs.com/vod_sample_03.mp4</FailedFileURLs>\\n</RegisterMediaResponse>\",\"errorExample\":\"\"}]","title":"注册媒资信息","summary":"进行媒资注册，接入点播服务的OSS自有Bucket上的存量媒资文件，需要进行媒资注册生成点播需要的关联数据后，才能正常使用点播提供的转码、截图等功能。","description":"- 针对已接入点播服务的OSS bucket，已存储在OSS bucket上的音视频媒体文件，需要通过注册媒资接口生成点播需要的关联数据后，才能在点播服务中对这些媒体文件通过媒体ID发起转码、截图和AI处理等。\n- 一次最多可注册10个OSS媒体文件，且一次提交的媒体文件对应的存储地址需要一致。\n- 在点播中上传的媒体文件，如未指定转码模板组ID，则会按照默认模板组进行转码处理；与之不同的是，注册媒资后，如未指定转码模板组ID，则不会自动触发转码；如指定了转码模板组ID，则会按照指定的模板组进行转码处理。\n- 重复注册的媒体文件，只返回与其关联的唯一媒体ID，不做其他处理。\n- 请确保您要注册的媒资文件含有合法的后缀，否则会注册失败。","requestParamsDescription":"## RegisterMetadata\n指定要注册的媒资元数据。\n|  名称  | 类型 | 是否必选 | 描述 |\n| ---- | ---- | ---- | ---- |\n|  FileURL | String | 是 | 源文件地址。可通过[获取源文件信息](~~59624~~)接口获取。<br>长度不超过1024个字节，文件名需要保证全局唯一。添加相同文件名称时，则关联唯一媒体ID。 |\n|  Title | String | 是 | 标题。长度不超过128个字节。UTF8编码。 |\n|  Description | String | 否 | 描述。长度不超过1024个字节。UTF8编码。 |\n|  Tags | String | 否 | 标签。单个标签不超过32个字节，最多不超过16个标签，多个标签之间用半角逗号(,)分隔。UTF8编码。 |\n|  CoverURL | String | 否 | 封面URL。长度不超过1024个字节。 |\n|  CateId | Long | 否 | 分类ID。可通过以下方式获取：<br>登录[点播控制台](https://vod.console.aliyun.com)，选择**配置管理** > **媒资管理配置** > **分类管理**查看分类ID。<br>通过[创建分类](~~56401~~)接口创建分类时，分类ID为返回参数CateId的值。<br>通过[获取分类及子分类](~~56406~~)接口查询分类时，为请求后返回参数CateId的值。|\n","responseParamsDescription":" ","extraInfo":" "}