{"summary":"调用RefreshMediaPlayUrls通过音视频ID发起音视频刷新或预热任务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"MediaIds","in":"query","schema":{"title":"媒资ID列表","description":"需要刷新或预热的音/视频ID。支持设置一个或多个，多个ID之前使用半角逗号（,）分隔，最多支持20个。\n音/视频ID可通过以下方式获取：\n- 通过控制台上传的音/视频，可登录[点播控制台](https://vod.console.aliyun.com)，选择**媒资库** > **音/视频**查看音/视频ID。\n- 通过[获取音视频上传地址和凭证](~~55407~~)接口获取上传地址和凭证时，音/视频ID为返回参数VideoId的值。\n- 音/视频上传后，可通过[搜索媒体信息](~~86044~~)接口查询音/视频ID，为请求后返回参数VideoId的值。","type":"string","required":true,"example":"ca3a8f6e4957b658067095869****, a6e49sfgd23p5g9ja7095863****"}},{"name":"TaskType","in":"query","schema":{"title":"Refresh: 刷新。Preload: 预热","description":"提交的任务类型。取值：\n- **Refresh**：刷新\n- **Preload**：预热","type":"string","required":true,"example":"Preload"}},{"name":"Formats","in":"query","schema":{"title":"播放流格式","description":"设置需要刷新或预热的播放流格式。支持设置多个格式，多个格式之间使用半角逗号（,）分隔。若不设置，则默认刷新或预热所有格式的播放流。支持的格式如下：\n- **mp4**\n- **m3u8**\n- **mp3**\n- **flv**\n- **webm**\n- **ts**","type":"string","required":false,"example":"mp4,m3u8"}},{"name":"Definitions","in":"query","schema":{"title":"播放流清晰度","description":"设置需要刷新或预热的播放流清晰度。支持设置多个清晰度，多个清晰度之间使用半角逗号（,）分隔。若不设置，则默认刷新或预热所有清晰度的播放流。\n> 取值必须为[媒资参数说明](~~124671~~)中**清晰度：Definition**所定义的取值。","type":"string","required":false,"example":"HD, SD"}},{"name":"StreamType","in":"query","schema":{"title":"播放流类型：视频或音频","description":"设置需要刷新或预热的播放流类型。支持设置多个播放流类型，多个播放流类型之间使用半角逗号（,）分隔。若不设置，则默认刷新或预热所有的播放流类型。取值：\n- **video**：视频\n- **audio**：音频","type":"string","required":false,"example":"video"}},{"name":"ResultType","in":"query","schema":{"title":"结果类型：Single或Multiple","description":"设置刷新或预热的结果类型。取值：\n- **Single**（默认）：每种清晰度和格式只刷新或预热一路最新转码完成的流。\n- **Multiple**：每种清晰度和格式刷新或预热所有转码完成的流。","type":"string","required":false,"example":"Single"}},{"name":"SliceFlag","in":"query","schema":{"title":"M3U8文件是否获取ts链接","description":"设置是否刷新或预热M3U8播放流的TS文件的播放链接。取值：\n- **false**（默认）：否\n- **true**：是","type":"boolean","required":false,"example":"false"}},{"name":"SliceCount","in":"query","schema":{"title":"M3U8文件的ts链接数量","description":"设置刷新或预热M3U8播放流的TS文件播放链接的个数。每个M3U8播放流仅会刷新前N个TS文件的播放链接。取值范围为1~20，默认值为5。","type":"integer","format":"int32","required":false,"example":"5"}},{"name":"UserData","in":"query","schema":{"title":"回调设置","description":"自定义设置。为JSON字符串，支持消息回调、上传加速等设置。更多信息，请参见[UserData](~~86952~~)。\n> - 此参数中消息回调的使用前提是需要在控制台配置HTTP回调地址和勾选对应的回调事件类型才能使用，否则回调设置不生效。控制台配置HTTP回调的操作，请参见[回调设置](~~86071~~)。\n> - 如需使用上传加速功能，请提交工单申请开通，更多信息，请参见[上传相关说明](~~55396~~)。关于如何提交工单，请参见[联系我们](~~464625~~)。","type":"string","required":false,"example":"{\"MessageCallback\":{\"CallbackURL\":\"http://example.aliyundoc.com\"}, \"Extend\":{\"localId\":\"xxx\",\"test\":\"www\"}}"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"MediaRefreshJobId":{"title":"刷新预热任务ID","description":"刷新或预热的任务ID","type":"string","example":"41d465e31957****"},"NonExistMediaIds":{"title":"不存在的媒资ID","description":"不存在的音/视频ID列表。","type":"string","example":"ca3a8f6e4957b658067095869****"},"ForbiddenMediaIds":{"title":"没有多应用权限的视频ID","description":"被禁止操作的音/视频ID列表，通常是由于没有多应用的权限而导致被禁止操作，更多信息，请参见[多应用](~~113600~~)。","type":"string","example":"a6e49sfgd23p5g9ja7095863****"},"RequestId":{"description":"请求ID。","type":"string","example":"25818875-5F78-4AF6-04D5-D7393642****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"MediaRefreshJobId\\\": \\\"41d465e31957****\\\",\\n  \\\"NonExistMediaIds\\\": \\\"ca3a8f6e4957b658067095869****\\\",\\n  \\\"ForbiddenMediaIds\\\": \\\"a6e49sfgd23p5g9ja7095863****\\\",\\n  \\\"RequestId\\\": \\\"25818875-5F78-4AF6-04D5-D7393642****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RefreshMediaPlayUrlsResponse>\\n    <MediaRefreshJobId>41d465e31957****</MediaRefreshJobId>\\n    <NonExistMediaIds>ca3a8f6e4957b658067095869****</NonExistMediaIds>\\n    <ForbiddenMediaIds>a6e49sfgd23p5g9ja7095863****</ForbiddenMediaIds>\\n    <RequestId>25818875-5F78-4AF6-04D5-D7393642****</RequestId>\\n</RefreshMediaPlayUrlsResponse>\",\"errorExample\":\"\"}]","title":"提交音视频刷新或预热任务","description":"- 视频点播提供资源的刷新和预热功能，通过刷新功能，您可以删除CDN节点上已经缓存的资源，并强制CDN节点回源站获取最新资源；通过预热功能，您可以在业务高峰前预热热门资源，提前将热门资源下载并缓存到CDN节点，提高资源的访问效率。\n- 本接口直接通过音/视频ID发起刷新或预热任务，且支持筛选播放流格式及清晰度等，满足用户按需选择合适的播放流进行刷新预热的需求。\n- 最多支持一次发起20个音/视频的刷新或预热任务。\n\n### QPS限制\n本接口的单用户QPS限制为50次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~342790~~)。"}