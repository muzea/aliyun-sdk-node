{"summary":"修改媒资存储类型。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"MediaIds","in":"query","schema":{"description":"媒体ID，即音/视频ID（VideoId）。多个ID之间使用半角逗号（,）分隔，最多支持20个。可通过以下方式获取：\n- 通过控制台上传的音/视频，可登录[点播控制台](https://vod.console.aliyun.com)，选择**媒资库** > **音/视频**查看音/视频ID。\n- 通过[获取音视频上传地址和凭证](~~55407~~)接口获取上传地址和凭证时，为返回参数VideoId的值。\n- 音/视频上传后，可通过[搜索媒体信息](~~86044~~)接口查询，为请求后返回参数VideoId的值。","type":"string","required":true,"docRequired":true,"example":"d56c2ac0cee271ed80004710b5ba****"}},{"name":"Scope","in":"query","schema":{"description":"变更范围。取值：\n- **All**： 将整个媒资的资源（源文件和转码流）做分级存储。\n- **SourceFile**：仅对媒资ID下的视频源文件做分级存储，源文件之外的资源为标准存储。","type":"string","required":false,"example":"All"}},{"name":"StorageClass","in":"query","schema":{"description":"存储类型。取值：\n- **Standard**：标准\n- **IA**：低频（Infrequent Access）\n- **Archive**：归档\n- **ColdArchive**：冷归档","type":"string","required":true,"docRequired":true,"example":"Archive"}},{"name":"RestoreTier","in":"query","schema":{"description":"解冻优先级（仅冷归档媒资需要）。取值：\n- **Expedited**：高级\n- **Standard**：标准\n- **Bulk**：批量","type":"string","required":false,"example":"Standard"}},{"name":"AllowUpdateWithoutTimeLimit","in":"query","schema":{"description":"是否允许存储时长不足的媒资进行存储类型变更。取值：\n\n- **true**：允许\n- **false**：不允许\n\n>如果媒资存储时长不足，强制进行存储类型变更，会涉及额外的取回费用。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"30FA0B7C-3A81-5449-93CD-ACA149E6****"},"Status":{"description":"任务状态。取值：\n\n- **Processing**：处理中。\n- **Failed**：失败。","type":"string","example":"Processing"},"IgnoredList":{"type":"object","properties":{"MediaId":{"description":"获取失败的媒资ID列表。","type":"array","items":{"description":"获取失败的媒资ID。","type":"string","example":"['19e231ee6e3e417fbf2e92ec2680****']"}}}},"ForbiddenList":{"type":"object","properties":{"MediaForbiddenReasonDTO":{"description":"处理失败的媒资ID列表。","type":"array","items":{"description":"处理失败媒资信息。","type":"object","properties":{"MediaId":{"description":"媒资ID。","type":"string","example":"19e231ee6e3e417fbf2e92ec2680****"},"Reason":{"description":"失败原因。","type":"string","example":"TargetStorageClassInconsistent"}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"30FA0B7C-3A81-5449-93CD-ACA149E6****\\\",\\n  \\\"Status\\\": \\\"Processing\\\",\\n  \\\"IgnoredList\\\": {\\n    \\\"MediaId\\\": [\\n      \\\"['19e231ee6e3e417fbf2e92ec2680****']\\\"\\n    ]\\n  },\\n  \\\"ForbiddenList\\\": {\\n    \\\"MediaForbiddenReasonDTO\\\": [\\n      {\\n        \\\"MediaId\\\": \\\"19e231ee6e3e417fbf2e92ec2680****\\\",\\n        \\\"Reason\\\": \\\"TargetStorageClassInconsistent\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"修改媒资存储类型","description":"- 修改媒资存储类型是一个异步操作，整体完成后给用户发送回调。\n\n- 若媒资当前的存储类型为归档或冷归档，调用本接口会自动触发解冻，解冻完成后修改存储类型，不需要用户手动调用RestoreMedia接口解冻媒资。其中冷归档需要传入解冻优先级，默认为RestoreTier=Standard。\n\n- 变更中的媒资不能再次发起变更任务，不能进行生产、处理。\n\n- 非标准存储的媒资有最低存储时长要求，如果存储时长不够，则无法修改成其他类型：低频/源文件低频至少存储30天；归档/源文件归档至少存储60天；冷归档、源文件冷归档至少存储180天。","requestParamsDescription":"对于冷归档类型的媒资，您可以指定解冻天数和解冻优先级，解冻天数最短为1天，最长为365天。不同解冻优先级的取回时间如下：\n- 高优先级（Expedited）：表示1小时内完成解冻。\n- 标准（Standard）：表示2~5小时内完成解冻。\n- 批量（Bulk）：表示5~12小时内完成解冻。"}