{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"要查询的加速域名。\n\n- 不传入该参数，则默认返回所有加速域名的合并数据。\n- 支持批量查询，多个域名之间用半角逗号（,）分隔，一次最多支持500个域名查询。\n- 您可以登录[视频点播控制台](https://vod.console.aliyun.com)，从左侧导航选择**配置管理 > 分发加速配置 > 域名管理**，查看您已接入到视频点播的加速域名，或者调用[DescribeVodUserDomains](~~DescribeVodUserDomains~~)接口查询加速域名列表。","type":"string","required":false,"example":"example.com"}},{"name":"StartTime","in":"query","schema":{"description":"获取数据起始时间点。 日期格式按照 ISO8601 表示法，并使用 UTC 时间，格式为 yyyy-MM-ddTHH:mm:ssZ。","type":"string","required":false,"example":"2019-01-20T13:59:58Z"}},{"name":"EndTime","in":"query","schema":{"description":"获取数据的结束时间点。\n\n日期格式按照ISO8601表示法，并使用UTC时间，格式为：yyyy-MM-ddTHH:mm:ssZ。\n> 结束时间需大于起始时间。","type":"string","required":false,"example":"2019-01-20T14:59:58Z"}},{"name":"Interval","in":"query","schema":{"description":"设置查询数据的时间粒度。单位：秒。取值：**300**、**3600**和**86400**。不传和传的值不支持时，使用默认值。根据您指定的`StartTime`和`EndTime`的时间跨度，支持设置的时间粒度如下：\n\n- 3天以内（不包含3天整）支持：**300**（默认）、**3600**、**86400**。\n- 3-31天（不包含31天整）支持：**3600**（默认）和**86400**。\n- 31天以上支持：**86400**（默认）。","type":"string","required":false,"example":"300"}},{"name":"IspNameEn","in":"query","schema":{"description":"运营商英文名。不传入该参数，默认查询所有运营商。","type":"string","required":false,"example":"unicom"}},{"name":"LocationNameEn","in":"query","schema":{"description":"地域英文名。不传入该参数，默认查询所有地域。目前仅支持上海地域。","type":"string","required":false,"example":"shanghai"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"EndTime":{"description":"数据的结束时间点。","type":"string","example":"2019-01-20T14:59:58Z"},"StartTime":{"description":"数据的起始时间点。","type":"string","example":"2019-01-20T13:59:58Z"},"RequestId":{"description":"请求ID。","type":"string","example":"D94E471F-1A27-442E-552D-D4D2000C****"},"DomainName":{"description":"加速域名。","type":"string","example":"example.com"},"TotalTraffic":{"description":"总流量。","type":"string","example":"5906662826"},"DataInterval":{"description":"每条记录的时间间隔，即数据的时间粒度。单位：秒。","type":"string","example":"300\n"},"TrafficDataPerInterval":{"type":"object","properties":{"DataModule":{"description":"每个时间间隔的流量数据列表。","type":"array","items":{"type":"object","properties":{"HttpsDomesticValue":{"description":"L1节点的HTTPS流量（中国内地）。单位：Byte。","type":"string","example":"0"},"Value":{"description":"总流量。单位：Byte。","type":"string","example":"0"},"OverseasValue":{"description":"全球（不包含中国内地）流量。单位：Byte。","type":"string","example":"0"},"HttpsValue":{"description":"L1节点的HTTPS总流量。单位：Byte。","type":"string","example":"0"},"HttpsOverseasValue":{"description":"L1节点的HTTPS流量（全球（不包含中国内地））。单位：Byte。","type":"string","example":"0"},"TimeStamp":{"description":"数据时间戳。日期格式按照ISO8601表示法，并使用UTC时间。","type":"string","example":"2019-01-20T13:59:58Z"},"DomesticValue":{"description":"中国内地流量。单位：Byte。","type":"string","example":"0"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingTimeParameter","errorMessage":"The StartTime and EndTime must be both specified."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified StartTime is invalid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The specified EndTime is invalid."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"The specified EndTime is earlier than the StartTime."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified StartTime is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2019-01-20T14:59:58Z\\\",\\n  \\\"StartTime\\\": \\\"2019-01-20T13:59:58Z\\\",\\n  \\\"RequestId\\\": \\\"D94E471F-1A27-442E-552D-D4D2000C****\\\",\\n  \\\"DomainName\\\": \\\"example.com\\\",\\n  \\\"TotalTraffic\\\": \\\"5906662826\\\",\\n  \\\"DataInterval\\\": \\\"300\\\\n\\\",\\n  \\\"TrafficDataPerInterval\\\": {\\n    \\\"DataModule\\\": [\\n      {\\n        \\\"HttpsDomesticValue\\\": \\\"0\\\",\\n        \\\"Value\\\": \\\"0\\\",\\n        \\\"OverseasValue\\\": \\\"0\\\",\\n        \\\"HttpsValue\\\": \\\"0\\\",\\n        \\\"HttpsOverseasValue\\\": \\\"0\\\",\\n        \\\"TimeStamp\\\": \\\"2019-01-20T13:59:58Z\\\",\\n        \\\"DomesticValue\\\": \\\"0\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeVodDomainTrafficDataResponse>\\n    <RequestId>D94E471F-1A27-442E-552D-D4D2000C****</RequestId>\\n    <EndTime>2019-01-20T14:59:58Z</EndTime>\\n    <TrafficDataPerInterval>\\n        <DataModule>\\n            <OverseasValue>0</OverseasValue>\\n            <HttpsValue>0</HttpsValue>\\n            <Value>0</Value>\\n            <HttpsDomesticValue>0</HttpsDomesticValue>\\n            <HttpsOverseasValue>0</HttpsOverseasValue>\\n            <TimeStamp>2019-01-15T14:00:00Z</TimeStamp>\\n            <DomesticValue>0</DomesticValue>\\n        </DataModule>\\n        <DataModule>\\n            <OverseasValue>0</OverseasValue>\\n            <HttpsValue>0</HttpsValue>\\n            <Value>0</Value>\\n            <HttpsDomesticValue>0</HttpsDomesticValue>\\n            <HttpsOverseasValue>0</HttpsOverseasValue>\\n            <TimeStamp>2019-01-15T14:00:00Z</TimeStamp>\\n            <DomesticValue>0</DomesticValue>\\n        </DataModule>\\n    </TrafficDataPerInterval>\\n    <DomainName>example.com</DomainName>\\n    <DataInterval>3600</DataInterval>\\n    <StartTime>2019-01-15T13:59:59Z</StartTime>\\n</DescribeVodDomainTrafficDataResponse>\",\"errorExample\":\"\"}]","title":"查询流量","summary":"调用DescribeVodDomainTrafficData查询加速域名的流量数据，相比DescribeVodDomainRealTimeTrafficData接口，本接口支持可查询的历史数据时间范围更长（最长可查询最近366天的数据），但其数据时间粒度更大（最小为5分钟），数据延迟更高。","description":"- 目前该接口服务地址仅支持：**华东 2（上海）**。\n- 支持批量查询，一次最多查询500个域名数据。\n- 如果您不指定`StartTime`和`EndTime`，该接口默认返回过去24小时的数据；指定`StartTime`和`EndTime`，该接口返回指定时间段的数据。\n\n**返回数据时间粒度**\n\n根据您指定`StartTime`和`EndTime`的时间跨度，且未同时设置`Interval`的情况下，默认返回的数据时间粒度，以及对应的可查询历史数据时间范围和数据延迟如下：\n|时间粒度  |单次查询的时间跨度   |  可查询历史数据时间范围  |  数据延迟   |\n| ------------- |------------   | ----------- | ----------- |\n|5分钟  | 单次查询的时间跨度 ＜ 3天   |93天  |15分钟  |\n|1小时  | 3天 ≤ 单次查询的时间跨度 ＜ 31天  |186 天  |一般延迟 3-4 小时  |\n| 1天 | 31天 ≤ 单次查询的时间跨度 ≤ 366天 |366 天  |一般延迟 4 小时，不超过 24 小时  |","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 接口错误码\n\n下表列举了本接口特有的错误码。\n| 错误代码       | 错误信息      | HTTP 状态码  | 说明   |\n| ------------- |------------   | ----- | ------ |\n| Throttling\t| Request was denied due to request throttling.\t| 503\t| 请求被流量控制限制。|\n| IllegalOperation\t| Illegal domain, operation is not permitted.\t| 403\t| 非法域名, 无法操作。|\n| OperationDenied\t| Your account does not open CDN service yet.\t| 403\t| 未开通CDN服务。|\n| OperationDenied\t| Your CDN service is suspended.\t| 403\t| CDN服务已被停止。|\n| InvalidDomain.NotFound\t| The domain provided does not belong to you.\t| 404\t| 域名不存在或不属于当前用户。|\n| InvalidDomain.Offline\t| The domain provided is offline.\t| 404\t| 域名已下线。|\n| ServiceBusy\t| The specified Domain is configuring, please retry later.\t| 403\t| 域名正在配置中, 请稍后再试。|\n| InvalidDomain.Configure_failed\t| Failed to configure the provided domain.\t| 500\t| 域名配置失败。|\n| MissingParameter\t| StartTime and EndTime can not be single.\t| 400\t| StartTime和EndTime不能单独设置。|\n| InvalidStartTime.Malformed\t| Specified start time is malformed.\t| 400\t| StartTime格式错误。|\n| InvalidEndTime.Malformed\t| Specified end time is malformed.\t| 400\t| EndTime格式错误。|\n| InvalidEndTime.Mismatch\t| Specified end time does not match the specified start time.\t| 400\t| EndTime小于StartTime。|\n| InvalidStartTime.ValueNotSupported\t| Specified end time does not match the specified start time.\t| 400\t| EndTime和StartTime差值超过90天。|"}