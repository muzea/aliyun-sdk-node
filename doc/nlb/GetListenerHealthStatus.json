{"summary":"查询网络型负载均衡实例监听的健康检查状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ListenerId","in":"query","schema":{"description":"网络型负载均衡实例的监听ID。","type":"string","required":true,"example":"lsn-bp1bpn0kn908w4nbw****"}},{"name":"NextToken","in":"query","schema":{"description":"是否拥有下一次查询的令牌（Token）。取值：\n- 第一次查询和没有下一次查询时，均无需填写。\n- 如果有下一次查询，取值为上一次API调用返回的NextToken值。","type":"string","required":false,"example":"FFmyTO70tTpLG6I3FmYAXGKPd****"}},{"name":"MaxResults","in":"query","schema":{"description":"分批次查询时每次显示的条目数。取值范围：**1**~**100**，默认值为**20**。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"RegionId","in":"query","schema":{"description":"网络型负载均衡实例所在的地域ID。 \n\n您可以通过调用[DescribeRegions](~~443657~~)接口获取地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"RpcResponse<GetListenerHealthStatusResponse>","description":"查询监听健康检查状态。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"54B48E3D-DF70-471B-AA93-08E683A1B45"},"ListenerHealthStatus":{"description":"监听的服务器组健康检查状态列表。","type":"array","items":{"description":"监听的服务器组健康检查状态列表。","type":"object","properties":{"ListenerId":{"description":"网络型负载均衡实例的监听ID。","type":"string","example":"lsn-agkd9gmjx8nd85jjs0****"},"ListenerPort":{"description":"监听的端口号。","type":"integer","format":"int32","example":"80"},"ListenerProtocol":{"description":"监听协议。取值：**TCP**、**UDP**或**TCPSSL**。","type":"string","example":"TCPSSL"},"ServerGroupInfos":{"description":"服务器组信息。","type":"array","items":{"description":"服务器组信息。","type":"object","properties":{"HeathCheckEnabled":{"description":"是否开启健康检查。取值：\n\n- **true**：开启。\n\n- **false**：关闭。","type":"boolean","example":"true"},"ServerGroupId":{"description":"服务器组ID。","type":"string","example":"sgp-ppdpc14gdm3x4o****"},"NonNormalServers":{"description":"非正常状态的后端服务器列表。","type":"array","items":{"description":"非正常状态的后端服务器列表。","type":"object","properties":{"Status":{"description":"健康检查状态。取值：\n\n- **Initial**：初始化中，表示负载均衡实例配置了健康检查，但查不到数据。\n\n- **Unhealthy**：异常，表示连续上报不健康的状态。\n\n- **Unused**：未使用，表示后端服务器的权重为0。\n\n- **Unavailable**：未开启，表示未开启健康检查。","type":"string","example":"Initial"},"Port":{"description":"后端服务器端口。","type":"integer","format":"int32","example":"80"},"Reason":{"description":"非正常状态的原因。","type":"object","properties":{"ReasonCode":{"description":"**Status**为异常状态时的详细原因。取值：\n\n- **CONNECT_TIMEOUT**：负载均衡健康检查时向后端服务器建立连接超时。\n- **CONNECT_FAIL**：负载均衡健康检查时向后端服务器建立连接失败。\n- **RECV_TIMEOUT**：负载均衡健康检查时从后端服务器接收响应超时。\n- **CONNECT_INTERRUPT**：负载均衡健康检查与后端服务器连接中断。\n- **HTTP_CODE_NOT_MATCH**：负载均衡健康HTTP检查时从后端服务器接收的响应码与预期配置返回码不一致。\n- **HTTP_INVALID_HEADER**：负载均衡健康HTTP检查时从后端服务器接收响应格式错误。","type":"string","example":"CONNECT_TIMEOUT"}}},"ServerId":{"description":"后端服务器ID。","type":"string","example":"i-bp1bt75jaujl7tjl****"},"ServerIp":{"description":"后端服务器IP。","type":"string","example":"192.168.8.10"}}}}}}}}}},"TotalCount":{"description":"列表条目数。","type":"integer","format":"int32","example":"10"},"NextToken":{"description":"是否拥有下一次查询的令牌（Token）。取值：\n- 如果**NextToken**为空表示没有下一次查询。\n- 如果**NextToken**有返回值，该取值表示下一次查询开始的令牌。","type":"string","example":"FFmyTO70tTpLG6I3FmYAXGKPd****"},"MaxResults":{"description":"分批次查询时每次显示的条目数。","type":"integer","format":"int32","example":"20"}}}}},"errorCodes":{"400":[{"errorCode":"SystemBusy","errorMessage":"System is busy, please try again later."}],"403":[{"errorCode":"Forbidden.NoPermission","errorMessage":"Authentication is failed for NoPermission."}],"404":[{"errorCode":"ResourceNotFound.loadBalancer","errorMessage":"The specified resource of loadbalancer is not found."},{"errorCode":"ResourceNotFound.listener","errorMessage":"The specified resource %s is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"54B48E3D-DF70-471B-AA93-08E683A1B45\\\",\\n  \\\"ListenerHealthStatus\\\": [\\n    {\\n      \\\"ListenerId\\\": \\\"lsn-agkd9gmjx8nd85jjs0****\\\",\\n      \\\"ListenerPort\\\": 80,\\n      \\\"ListenerProtocol\\\": \\\"TCPSSL\\\",\\n      \\\"ServerGroupInfos\\\": [\\n        {\\n          \\\"HeathCheckEnabled\\\": true,\\n          \\\"ServerGroupId\\\": \\\"sgp-ppdpc14gdm3x4o****\\\",\\n          \\\"NonNormalServers\\\": [\\n            {\\n              \\\"Status\\\": \\\"Initial\\\",\\n              \\\"Port\\\": 80,\\n              \\\"Reason\\\": {\\n                \\\"ReasonCode\\\": \\\"CONNECT_TIMEOUT\\\"\\n              },\\n              \\\"ServerId\\\": \\\"i-bp1bt75jaujl7tjl****\\\",\\n              \\\"ServerIp\\\": \\\"192.168.8.10\\\"\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"TotalCount\\\": 10,\\n  \\\"NextToken\\\": \\\"FFmyTO70tTpLG6I3FmYAXGKPd****\\\",\\n  \\\"MaxResults\\\": 20\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetListenerHealthStatusResponse>\\n    <RequestId>54B48E3D-DF70-471B-AA93-08E683A1B45</RequestId>\\n    <ListenerHealthStatus>\\n        <ListenerId>lsn-agkd9gmjx8nd85jjs0****</ListenerId>\\n        <ListenerPort>80</ListenerPort>\\n        <ListenerProtocol>TCPSSL</ListenerProtocol>\\n        <ServerGroupInfos>\\n            <HeathCheckEnabled>true</HeathCheckEnabled>\\n            <ServerGroupId>sgp-ppdpc14gdm3x4o****</ServerGroupId>\\n            <NonNormalServers>\\n                <Status>Initial</Status>\\n                <Port>80</Port>\\n                <Reason>\\n                    <ReasonCode>CONNECT_TIMEOUT</ReasonCode>\\n                </Reason>\\n                <ServerId>i-bp1bt75jaujl7tjl****</ServerId>\\n                <ServerIp>192.168.8.10</ServerIp>\\n            </NonNormalServers>\\n        </ServerGroupInfos>\\n    </ListenerHealthStatus>\\n    <TotalCount>10</TotalCount>\\n    <NextToken>FFmyTO70tTpLG6I3FmYAXGKPd****</NextToken>\\n    <MaxResults>20</MaxResults>\\n</GetListenerHealthStatusResponse>\",\"errorExample\":\"\"}]","title":"查询监听健康检查状态"}