{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"实例所属的地域ID，可调用[DescribeRegions](~~426062~~)接口获取。","type":"string","required":true,"docRequired":true,"example":"cn-shanghai"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID，可调用[GetLindormInstance](~~426067~~)接口获取。","type":"string","required":true,"docRequired":true,"example":"cn-shanghai-f"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID，可调用[GetLindormInstanceList](~~426069~~)接口获取。","type":"string","required":true,"docRequired":true,"example":"ld-bp1o3y0yme2i2****"}},{"name":"UpgradeType","in":"query","schema":{"description":"实例需要变配的类型，支持的变配类型请参见请求参数补充中的UpgradeType参数说明。","type":"string","required":true,"docRequired":true,"example":"upgrade-cold-storage"}},{"name":"ClusterStorage","in":"query","schema":{"description":"变配后实例的存储容量，单位为GB，取值：**480**~**1017600**。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"480"}},{"name":"ColdStorage","in":"query","schema":{"description":"变配后实例的冷存储容量，单位为GB，取值：**800**~**1000000**。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"800"}},{"name":"SolrSpec","in":"query","schema":{"description":"变配后实例的搜索引擎节点规格，取值：\n\n- **lindorm.g.xlarge**：表示4核16GB（独享规格）。\n- **lindorm.g.2xlarge**：表示8核32GB（独享规格）。\n- **lindorm.g.4xlarge**：表示16核64GB（独享规格）。\n- **lindorm.g.8xlarg**e：表示32核128GB（独享规格）。","type":"string","required":false,"example":"lindorm.g.xlarge"}},{"name":"SolrNum","in":"query","schema":{"description":"变配后实例的搜索引擎节点数量，取值：**0**~**60**。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"LindormSpec","in":"query","schema":{"description":"变配后实例的宽表引擎节点规格，取值：\n\n- **lindorm.c.xlarge**：表示4核8GB（独享规格）。\n- **lindorm.c.2xlarge**：表示8核16GB（独享规格）。\n- **lindorm.c.4xlarge**：表示16核32GB（独享规格）。\n- **lindorm.c.8xlarge**：表示32核64GB（独享规格）。","type":"string","required":false,"example":"lindorm.c.xlarge"}},{"name":"LindormNum","in":"query","schema":{"description":"变配后实例的宽表引擎节点数量，取值：**0**~**90**。\n\n> 本参数需要和LindormSpec参数同时传入。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"2"}},{"name":"TsdbSpec","in":"query","schema":{"description":"变配后实例的时序引擎节点规格，取值：\n\n- **lindorm.g.xlarge**：表示4核16GB（独享规格）。\n- **lindorm.g.2xlarge**：表示8核32GB（独享规格）。\n- **lindorm.g.4xlarge**：表示16核64GB（独享规格）。\n- **lindorm.g.8xlarge**：表示32核128GB（独享规格）。","type":"string","required":false,"example":"lindorm.g.xlarge"}},{"name":"TsdbNum","in":"query","schema":{"description":"变配后实例的时序引擎节点数量，取值：**0**~**24**。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"FilestoreSpec","in":"query","schema":{"description":"变配后实例的文件引擎节点规格，取值：\n\n**indorm.c.xlarge**：表示4核8GB（标准规格）。","type":"string","required":false,"example":"lindorm.c.xlarge"}},{"name":"FilestoreNum","in":"query","schema":{"description":"变配后实例的文件引擎节点数量，取值：**0**~**60**。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"StreamSpec","in":"query","schema":{"description":"变配后实例的流引擎节点规格，取值：\n\n- **lindorm.c.2xlarge**：表示8核16GB（独享规格）。\n- **lindorm.c.4xlarge**：表示16核32GB（独享规格）。\n- **lindorm.c.8xlarge**：表示32核64GB（独享规格）。","type":"string","required":false,"example":"lindorm.g.xlarge"}},{"name":"StreamNum","in":"query","schema":{"description":"变配后实例的流引擎节点数量，取值：**0**~**90**。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"LtsCoreSpec","in":"query","schema":{"description":"变配后实例的LTS节点规格，取值：\n\n- **lindorm.g.xlarge**：表示4核16GB（独享规格）。\n- **lindorm.g.2xlarge**：表示8核32GB（独享规格）。","type":"string","required":false,"example":"lindorm.g.xlarge"}},{"name":"LtsCoreNum","in":"query","schema":{"description":"变配后实例的LTS节点数量，取值：**0**~**50**。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"CoreSingleStorage","in":"query","schema":{"description":"多可用区实例，变配后实例的core单节点容量。取值范围400~64000，单位GB。**如果目标实例是多可用区实例，选填该参数。**","type":"integer","format":"int32","required":false,"example":"400GB"}},{"name":"LogSpec","in":"query","schema":{"description":"多可用区实例，变配后实例的log节点规格。取值如下：\n- **lindorm.sn1.large**：表示4核8GB（独享规格）。\n- **lindorm.sn1.2xlarge**：表示8核16GB（独享规格）。\n\n**如果目标实例是多可用区实例，选填该参数。**","type":"string","required":false,"example":"lindorm.sn1.large"}},{"name":"LogNum","in":"query","schema":{"description":"多可用区实例，变配后实例的log节点数量。取值范围4~400。**如果目标实例是多可用区实例，选填该参数。**","type":"integer","format":"int32","required":false,"example":"4"}},{"name":"LogSingleStorage","in":"query","schema":{"description":"多可用区实例，变配后实例的log单节点磁盘容量。取值范围400-64000，单位GB。**如果目标实例是多可用区实例，选填该参数。**","type":"integer","format":"int32","required":false,"example":"400GB"}}],"responses":{"200":{"schema":{"type":"object","properties":{"OrderId":{"description":"订单ID。","type":"integer","format":"int64","example":"111111111111111"},"RequestId":{"description":"请求ID。","type":"string","example":"2A7D4F9D-AA26-4E15-A2B1-3E4792C6****"}}}}},"errorCodes":{"400":[{"errorCode":"Lindorm.Errorcode.InstanceStorageInvalid","errorMessage":"The instance storage parameter is invalid: %s"},{"errorCode":"Instance.IsDeleted","errorMessage":"The  instance is deleted."},{"errorCode":"Instance.IsNotValid","errorMessage":"The  instance is invalid."},{"errorCode":"InstanceConfig.NotChanged","errorMessage":"The upgrade or downgrade configuration is not changed, please check."}],"403":[{"errorCode":"API.Forbidden","errorMessage":"The  API operation is forbidden in this environment."},{"errorCode":"Lindorm.Errorcode.OperationDenied","errorMessage":"You  are not authorized to operate on the specified resource."},{"errorCode":"Lindorm.Errorcode.ServiceLinkedRoleNoPermission","errorMessage":"No  permission to create service linked role."},{"errorCode":"Instance.NotActive","errorMessage":"Instance is not active."},{"errorCode":"OperationDenied.OrderProcessing","errorMessage":"Order in process, please try again later."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"OrderId\\\": 111111111111111,\\n  \\\"RequestId\\\": \\\"2A7D4F9D-AA26-4E15-A2B1-3E4792C6****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpgradeLindormInstanceResponse>\\n    <OrderId>111111111111111</OrderId>\\n    <RequestId>2A7D4F9D-AA26-4E15-A2B1-3E4792C6****</RequestId>\\n</UpgradeLindormInstanceResponse>\",\"errorExample\":\"\"}]","title":"变配Lindorm实例","summary":"为Lindorm实例开通冷存储，变更节点规格或节点数量，变更存储空间。","description":"Lindorm实例的数据引擎和存储规格，请参见[如何选择数据引擎](~~174643~~)和[如何选择存储规格](~~181971~~)。","requestParamsDescription":"UpgradeType参数说明\n------------------------------------\n\nUpgradeLindormInstance接口中传入UpgradeType参数指定实例的变配类型后，您还需要在对应必选参数中传入配置规格，具体信息请参见下表。\n\n\n|      UpgradeType参数       |   类型   |                                                                                     必选参数                                                                                      |               描述               |\n|--------------------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n| upgrade-cold-storage     | String | ColdStorage                                                                                                                                                                   | 开通或扩容冷存储。                      |\n| upgrade-disk-size        | String | ClusterStorage                                                                                                                                                                | 扩容云盘。                          |\n| open-search-engine       | String | **本盘类型实例**：SolrNum<br>**非本盘类型**：SolrNum、SolrSpec、ClusterStorage                                                 | 开通搜索引擎。                        |\n| upgrade-search-engine    | String | SolrSpec                                                                                                                                                                      | 升级搜索引擎规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-search-core-num  | String | SolrNum和ClusterStorage                                                                                                                                                                       | 变配搜索引擎节点数。                     |\n| open-lindorm-engine      | String | **本盘类型**：LindormNum<br>**非本盘类型**：LindormNum、LindormSpec、ClusterStorage                                        | 开通宽表引擎。                        |\n| upgrade-lindorm-engine   | String | LindormSpec                                                                                                                                                                   | 升级宽表引擎规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-lindorm-core-num | String | LindormNum和ClusterStorage                                                                                                                                                                    | 变配宽表引擎节点数。                     |\n| open-tsdb-engine         | String | TsdbSpec、TsdbNum、ClusterStorage                                                                                                                                                              | 开通时序引擎。                        |\n| upgrade-tsdb-engine      | String | TsdbSpec                                                                                                                                                                      | 升级时序引擎规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-tsdb-core-num    | String | TsdbNum和ClusterStorage                                                                                                                                                                       | 变配时序引擎节点数。                     |\n| open-stream-engine         | String | StreamSpec、StreamNum、ClusterStorage                                                                                                                                                              | 开通流引擎。                        |\n| upgrade-stream-engine      | String | StreamSpec                                                                                                                                                                      | 升级流引擎规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-stream-core-num    | String | StreamNum和ClusterStorage                                                                                                                                                                       | 变配流引擎节点数。                     |\n| upgrade-file-engine      | String | FilestoreSpec                                                                                                                                                                 | 升级文件引擎规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-file-core-num    | String | FilestoreNum                                                                                                                                                                  | 变配文件引擎节点数。                     |\n| open-bds-transfer        | String | **本盘类型**：LtsCoreNum、LtsCoreSpec和SolrNum<br>**非本盘类型**：LtsCoreNum、LtsCoreSpec、SolrNum和SolrSpec   | 开通BDS（LTS）引擎和搜索引擎。             |\n| upgrade-bds-transfer     | String | LtsCoreSpec                                                                                                                                                                   | 变更BDS（LTS）引擎规格。                |\n| upgrade-bds-core-num     | String | LtsCoreNum                                                                                                                                                                    | 变配BDS（LTS）引擎节点数。               |\n| open-bds-transfer-only   | String | LtsCoreNum和LtsCoreSpec                                                                                                                                                        | 实例已开通搜索引擎，只需开通BDS（LTS）引擎。      |\n\n若实例是多可用区实例，请参考下表。\n\n|      UpgradeType参数       |   类型   |                                                                                     必选参数                                                                                      |               描述               |\n|--------------------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n| upgrade-disk-size        | String | CoreSingleStorage和LogSingleStorage                                                                                                                                                                | 扩容Core单节点磁盘容量或Log单节点磁盘容量。                          |\n| upgrade-lindorm-engine   | String | LindormSpec和LogSpec                                                                                                                                                                  | 升级Core节点规格或Log节点规格。 **说明** 本盘类型不支持此参数变配。 |\n| upgrade-lindorm-core-num | String | LindormNum和LogNum                                                                                                                                                                    | 变配Core节点数量或Log节点数量。                     |"}