{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"86245","abilityTreeNodes":["FEATUREdrds25BO3L"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"实例所属的地域ID。\n","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DBInstanceName","in":"query","schema":{"description":"实例ID。\n\n","type":"string","required":true,"docRequired":true,"example":"pxc-********"}},{"name":"StartTime","in":"query","schema":{"description":"查询拓扑中历史实例范围开始时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","required":false,"example":"2021-10-21T10:30:45Z 04:00:00"}},{"name":"EndTime","in":"query","schema":{"description":"查询拓扑中历史实例范围结束时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","required":false,"example":"2021-10-22T10:30:45Z 04:00:00"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。\n\n","type":"string","example":"C458B1E8-1683-3645-B154-6BA32080EEA"},"Data":{"description":"数据结构体。","type":"object","properties":{"LogicInstanceTopology":{"description":"拓扑信息。","type":"object","properties":{"DBInstanceName":{"description":"实例名称。","type":"string","example":"pxc-sprcym7g7w****"},"DBInstanceCreateTime":{"description":"实例创建时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","example":"2021-10-21T10:30:45Z 04:00:00"},"MaintainStartTime":{"description":"运维开始时间，格式为HH:mm:ss。","type":"string","example":"04:00:00"},"MaintainEndTime":{"description":"运维结束时间，格式为HH:mm:ss。","type":"string","example":"05:00:00"},"LockReason":{"description":"锁定原因。","type":"string","example":"欠费"},"DBInstanceStatus":{"description":"实例状态。","type":"integer","format":"int32","example":"8"},"LockMode":{"description":"锁定状态 ：\n\n- **0**：未锁定；\n- **1**：锁定。","type":"integer","format":"int32","example":"0"},"EngineVersion":{"description":"引擎版本，默认2.0。","type":"string","example":"2.0"},"DBInstanceStorage":{"description":"存储节点个数。","type":"integer","format":"int32","example":"1"},"DBInstanceConnType":{"description":"表示用lvs做负载均衡。","type":"string","example":"lvs"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"304726047"},"Engine":{"description":"引擎， 默认：polarx。","type":"string","example":"polarx"},"DBInstanceDescription":{"description":"实例描述。","type":"string","example":"pxc-sprcym7******"},"DBInstanceStatusDescription":{"description":"实例状态描述。","type":"string","example":"TDE_MODIFYING"},"Items":{"description":"节点列表。","type":"array","items":{"description":"节点信息。","type":"object","properties":{"DBInstanceCreateTime":{"description":"实例创建时间。","type":"string","example":"2021-10-21T10:30:45Z"},"DBInstanceName":{"description":"实例名称。","type":"string","example":"pxc-i-tk6t4z****"},"CharacterType":{"description":"节点属性，取值如下：\n\n- **polarx_cn**：计算节点；\n- **polarx_store**：数据节点；\n- **polarx_gms**：GMS节点。","type":"string","example":"节点角色"},"MaintainStartTime":{"description":"运维开始时间。","type":"string","example":"不展示"},"DiskSize":{"description":"磁盘大小。","type":"integer","format":"int64","example":"3145728"},"MaintainEndTime":{"description":"运维结束时间。","type":"string","example":"不展示"},"LockReason":{"description":"锁定原因。","type":"string","example":"不展示"},"DBInstanceStatus":{"description":"实例状态。","type":"integer","format":"int32","example":"8"},"LockMode":{"description":"是否锁定，取值如下：\n\n- **0**：未锁定；\n- **1**：锁定。","type":"integer","format":"int32","example":"0"},"EngineVersion":{"description":"引擎版本，默认2.0。","type":"string","example":"5.7"},"DBInstanceConnType":{"description":"连接类型。","type":"integer","format":"int32","example":"不展示"},"MaxConnections":{"description":"最大连接数。","type":"integer","format":"int32","example":"4000"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"304726049"},"Engine":{"description":"引擎版本，取值如下：\n\n- **mysql **\n- **polarx_cdc**\n- **polarx_dn**","type":"string","example":"mysql"},"MaxIops":{"description":"最大Iops。","type":"integer","format":"int32","example":"7000"},"DBInstanceDescription":{"description":"实例描述。","type":"string","example":"不展示"},"DBInstanceStatusDescription":{"description":"实例状态描述。","type":"string","example":"不展示"},"ConnectionIp":{"description":"数据结构体。","type":"array","items":{"description":"连接信息。","type":"object","properties":{"Port":{"description":"端口。","type":"string","example":"3306"},"DBInstanceNetType":{"description":"内部连接的方式，固定取值为1，表示经典网络。","type":"integer","format":"int32","example":"1"},"ConnectionString":{"description":"连接信息。","type":"string","example":"pxc-xdb-m-pxcdym7g7w********.mysql.singapore.rds.aliyuncs.com"}}}},"Region":{"description":"节点所属地域，如果为RDS节点，多个子节点的地域以 ';' 分割。","type":"string","example":"cn-hangzhou"},"Azone":{"description":"节点所属可用区，如果为RDS节点，多个子节点的可用区以';'分割。","type":"string","example":"cn-hangzhou-a"},"Role":{"description":"节点角色，取值如下：\n\n- **master**：主节点\n- **standby**：备节点","type":"string","example":"master"},"Activated":{"description":"节点是否启用，计算层仅启用主可用区节点，在实例执行主备切换后计算层备用节点会切换为主节点，所有存储层节点均启用。","type":"boolean","example":"true"},"AzoneRoleList":{"description":"RDS三节点的数据信息列表。","type":"array","items":{"type":"object","properties":{"Azone":{"description":"RDS三节点中某个节点所属可用区。","type":"string","example":"cn-hangzhou-a"},"Role":{"description":"RDS三节点中某个节点的角色，取值如下：\n\n- **leader**：主节点\n- **follower**：从节点\n- **logger**：日志节点","type":"string","example":"leader"}}}},"Status":{"description":"节点状态：\n\n- **0**：运行中\n- **1**：创建中\n- **2**：异常\n- **3**：已过期\n- **4**：释放中\n- **5**：已释放\n- **6**：锁定","type":"string","example":"0"},"NodeClass":{"description":"节点规格：\n\n- **polarx.x4.medium.2e**：2核8 GB\n- **polarx.x4.large.2e**：4核16 GB\n- **polarx.x8.large.2e**：4核32 GB\n- **polarx.x4.xlarge.2e**：8核32 GB\n- **polarx.x8.xlarge.2e**：8核64 GB\n- **polarx.x4.2xlarge.2e**：16核64 GB\n- **polarx.x8.2xlarge.2e**：16核128 GB\n- **polarx.x4.4xlarge.2e**：32核128 GB\n- **polarx.x8.4xlarge.2e**：32核256 GB\n- **polarx.st.8xlarge.2e**：60核470 GB\n- **polarx.st.12xlarge.2e**：90核720 GB","type":"string","example":"polarx.x4.large.2e"},"Version":{"description":"日志节点版本。","type":"string","example":"polarx-cdc-kernel-2.0.0-3985896"},"PhyInstanceName":{"description":"物理实例名","type":"string","example":"pxc-unrbk8oyz**********"},"StorageUsed":{"type":"string"}}}},"HistoryItems":{"description":"历史节点列表。","type":"array","items":{"type":"object","properties":{"CharacterType":{"description":"节点属性，取值如下：\n\n- **polarx_cn**：计算节点；\n- **polarx_store**：数据节点；\n- **polarx_gms**：GMS节点。","type":"string","example":"节点角色"},"Role":{"description":"节点角色，取值如下：\n\n- **master**：主节点\n- **standby**：备节点","type":"string","example":"master"},"DBInstanceName":{"description":"实例名称。","type":"string","example":"pxc-sprcym7g7w****"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"304726049"},"Region":{"description":"节点所属地域，如果为RDS节点，多个子节点的地域以 ';' 分割。","type":"string","example":"cn-hangzhou"},"Azone":{"description":"节点所属可用区，如果为RDS节点，多个子节点的可用区以';'分割。","type":"string","example":"cn-hangzhou-a"},"Activated":{"description":"节点是否启用，计算层仅启用主可用区节点，在实例执行主备切换后计算层备用节点会切换为主节点，所有存储层节点均启用。","type":"boolean","example":"true"},"PhyInstanceName":{"description":"物理实例名。","type":"string","example":"pxc-unrbk8oyz**********"}}}}}}}}}}}},"errorCodes":{"404":[{"errorCode":"InvalidDBInstance.NotFound","errorMessage":"The specified DB instance does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C458B1E8-1683-3645-B154-6BA32080EEA\\\",\\n  \\\"Data\\\": {\\n    \\\"LogicInstanceTopology\\\": {\\n      \\\"DBInstanceName\\\": \\\"pxc-sprcym7g7w****\\\",\\n      \\\"DBInstanceCreateTime\\\": \\\"2021-10-21T10:30:45Z 04:00:00\\\",\\n      \\\"MaintainStartTime\\\": \\\"04:00:00\\\",\\n      \\\"MaintainEndTime\\\": \\\"05:00:00\\\",\\n      \\\"LockReason\\\": \\\"欠费\\\",\\n      \\\"DBInstanceStatus\\\": 8,\\n      \\\"LockMode\\\": 0,\\n      \\\"EngineVersion\\\": \\\"2.0\\\",\\n      \\\"DBInstanceStorage\\\": 1,\\n      \\\"DBInstanceConnType\\\": \\\"lvs\\\",\\n      \\\"DBInstanceId\\\": \\\"304726047\\\",\\n      \\\"Engine\\\": \\\"polarx\\\",\\n      \\\"DBInstanceDescription\\\": \\\"pxc-sprcym7******\\\",\\n      \\\"DBInstanceStatusDescription\\\": \\\"TDE_MODIFYING\\\",\\n      \\\"Items\\\": [\\n        {\\n          \\\"DBInstanceCreateTime\\\": \\\"2021-10-21T10:30:45Z\\\",\\n          \\\"DBInstanceName\\\": \\\"pxc-i-tk6t4z****\\\",\\n          \\\"CharacterType\\\": \\\"节点角色\\\",\\n          \\\"MaintainStartTime\\\": \\\"不展示\\\",\\n          \\\"DiskSize\\\": 3145728,\\n          \\\"MaintainEndTime\\\": \\\"不展示\\\",\\n          \\\"LockReason\\\": \\\"不展示\\\",\\n          \\\"DBInstanceStatus\\\": 8,\\n          \\\"LockMode\\\": 0,\\n          \\\"EngineVersion\\\": \\\"5.7\\\",\\n          \\\"DBInstanceConnType\\\": 0,\\n          \\\"MaxConnections\\\": 4000,\\n          \\\"DBInstanceId\\\": \\\"304726049\\\",\\n          \\\"Engine\\\": \\\"mysql\\\",\\n          \\\"MaxIops\\\": 7000,\\n          \\\"DBInstanceDescription\\\": \\\"不展示\\\",\\n          \\\"DBInstanceStatusDescription\\\": \\\"不展示\\\",\\n          \\\"ConnectionIp\\\": [\\n            {\\n              \\\"Port\\\": \\\"3306\\\",\\n              \\\"DBInstanceNetType\\\": 1,\\n              \\\"ConnectionString\\\": \\\"pxc-xdb-m-pxcdym7g7w********.mysql.singapore.rds.aliyuncs.com\\\"\\n            }\\n          ],\\n          \\\"Region\\\": \\\"cn-hangzhou\\\",\\n          \\\"Azone\\\": \\\"cn-hangzhou-a\\\",\\n          \\\"Role\\\": \\\"master\\\",\\n          \\\"Activated\\\": true,\\n          \\\"AzoneRoleList\\\": [\\n            {\\n              \\\"Azone\\\": \\\"cn-hangzhou-a\\\",\\n              \\\"Role\\\": \\\"leader\\\"\\n            }\\n          ],\\n          \\\"Status\\\": \\\"0\\\",\\n          \\\"NodeClass\\\": \\\"polarx.x4.large.2e\\\",\\n          \\\"Version\\\": \\\"polarx-cdc-kernel-2.0.0-3985896\\\",\\n          \\\"PhyInstanceName\\\": \\\"pxc-unrbk8oyz**********\\\",\\n          \\\"StorageUsed\\\": \\\"\\\"\\n        }\\n      ],\\n      \\\"HistoryItems\\\": [\\n        {\\n          \\\"CharacterType\\\": \\\"节点角色\\\",\\n          \\\"Role\\\": \\\"master\\\",\\n          \\\"DBInstanceName\\\": \\\"pxc-sprcym7g7w****\\\",\\n          \\\"DBInstanceId\\\": \\\"304726049\\\",\\n          \\\"Region\\\": \\\"cn-hangzhou\\\",\\n          \\\"Azone\\\": \\\"cn-hangzhou-a\\\",\\n          \\\"Activated\\\": true,\\n          \\\"PhyInstanceName\\\": \\\"pxc-unrbk8oyz**********\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBInstanceTopologyResponse>\\n    <RequestId>C458B1E8-1683-3645-B154-6BA32080EEA</RequestId>\\n    <Data>\\n        <LogicInstanceTopology>\\n            <DBInstanceName>pxc-sprcym7g7w****</DBInstanceName>\\n            <DBInstanceCreateTime>2021-10-21T10:30:45Z 04:00:00</DBInstanceCreateTime>\\n            <MaintainStartTime>04:00:00</MaintainStartTime>\\n            <MaintainEndTime>05:00:00</MaintainEndTime>\\n            <LockReason>欠费</LockReason>\\n            <DBInstanceStatus>8</DBInstanceStatus>\\n            <LockMode>0</LockMode>\\n            <EngineVersion>2.0</EngineVersion>\\n            <DBInstanceStorage>1</DBInstanceStorage>\\n            <DBInstanceConnType>lvs</DBInstanceConnType>\\n            <DBInstanceId>304726047</DBInstanceId>\\n            <Engine>polarx</Engine>\\n            <DBInstanceDescription>pxc-sprcym7******</DBInstanceDescription>\\n            <DBInstanceStatusDescription>TDE_MODIFYING</DBInstanceStatusDescription>\\n            <Items>\\n                <DBInstanceCreateTime>2021-10-21T10:30:45Z</DBInstanceCreateTime>\\n                <DBInstanceName>pxc-i-tk6t4z****</DBInstanceName>\\n                <CharacterType>节点角色</CharacterType>\\n                <MaintainStartTime>不展示</MaintainStartTime>\\n                <DiskSize>3145728</DiskSize>\\n                <MaintainEndTime>不展示</MaintainEndTime>\\n                <LockReason>不展示</LockReason>\\n                <DBInstanceStatus>8</DBInstanceStatus>\\n                <LockMode>0</LockMode>\\n                <EngineVersion>5.7</EngineVersion>\\n                <MaxConnections>4000</MaxConnections>\\n                <DBInstanceId>304726049</DBInstanceId>\\n                <Engine>mysql</Engine>\\n                <MaxIops>7000</MaxIops>\\n                <DBInstanceDescription>不展示</DBInstanceDescription>\\n                <DBInstanceStatusDescription>不展示</DBInstanceStatusDescription>\\n                <ConnectionIp>\\n                    <Port>3306</Port>\\n                    <DBInstanceNetType>1</DBInstanceNetType>\\n                    <ConnectionString>pxc-xdb-m-pxcdym7g7w********.mysql.singapore.rds.aliyuncs.com</ConnectionString>\\n                </ConnectionIp>\\n                <Region>cn-hangzhou</Region>\\n                <Azone>cn-hangzhou-a</Azone>\\n                <Role>master</Role>\\n                <Activated>true</Activated>\\n                <AzoneRoleList>\\n                    <Azone>cn-hangzhou-a</Azone>\\n                    <Role>leader</Role>\\n                </AzoneRoleList>\\n                <Status>0</Status>\\n                <NodeClass>polarx.x4.large.2e</NodeClass>\\n                <Version>polarx-cdc-kernel-2.0.0-3985896</Version>\\n                <PhyInstanceName>pxc-unrbk8oyz**********</PhyInstanceName>\\n            </Items>\\n            <HistoryItems>\\n                <CharacterType>节点角色</CharacterType>\\n                <Role>master</Role>\\n                <DBInstanceName>pxc-sprcym7g7w****</DBInstanceName>\\n                <DBInstanceId>304726049</DBInstanceId>\\n                <Region>cn-hangzhou</Region>\\n                <Azone>cn-hangzhou-a</Azone>\\n                <Activated>true</Activated>\\n                <PhyInstanceName>pxc-unrbk8oyz**********</PhyInstanceName>\\n            </HistoryItems>\\n        </LogicInstanceTopology>\\n    </Data>\\n</DescribeDBInstanceTopologyResponse>\",\"errorExample\":\"\"}]","title":"查询实例拓扑信息","summary":"调用DescribeDBInstanceTopology接口获取实例拓扑信息。"}