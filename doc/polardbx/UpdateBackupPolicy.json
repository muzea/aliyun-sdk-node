{"methods":["post","get","put"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"86292","abilityTreeNodes":["FEATUREdrds8KEOBF"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DBInstanceName","in":"query","schema":{"description":"实例名称ID。","type":"string","required":true,"docRequired":true,"example":"pxc-hzjasdyuoo"}},{"name":"BackupPeriod","in":"query","schema":{"description":"备份周期。至少需要指定2天，7位数数值，从左到右每一位数值代表周一到周日是否开启备份。取值0代表不备份，取值1代表备份：\n\n- 第一位数值：周一\n- 第二位数值：周二\n- 第三位数值：周三\n- 第四位数值：周四\n- 第五位数值：周五\n- 第六位数值：周六\n- 第七位数值：周日\n","type":"string","required":false,"example":"1001000"}},{"name":"BackupPlanBegin","in":"query","schema":{"description":"每天备份开启时间，UTC时间。","type":"string","required":false,"example":"03:00Z"}},{"name":"BackupSetRetention","in":"query","schema":{"description":"备份集保留时间，单位天。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"BackupType","in":"query","schema":{"description":"备份种类，目前只支持“0”，表示快速备份。","type":"string","required":false,"example":"0"}},{"name":"BackupWay","in":"query","schema":{"description":"备份手段，枚举值\n\n- **P**：物理备份\n- **L**：逻辑备份","type":"string","required":false,"example":"P"}},{"name":"ForceCleanOnHighSpaceUsage","in":"query","schema":{"description":"当实例总空间使用率超过80%或剩余空间不足50 GB时，是否强制清理Binlog。从最早的开始清理，直到总空间使用率降到80%以下且剩余空间大于50 GB。取值如下：\n\n- **1**：是\n- **0**：否","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"IsEnabled","in":"query","schema":{"description":"是否开启备份，固定值1，表示开启。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"LocalLogRetention","in":"query","schema":{"description":"日志备份本地保留小时数， 范围为0到7×24小时， 0表示不保留，默认7小时。","type":"integer","format":"int32","required":false,"example":"7"}},{"name":"RemoveLogRetention","in":"query","schema":{"description":"日志备份远程保留天数（ 7~730） 单位天， 默认7天。","type":"integer","format":"int32","required":false,"example":"7"}},{"name":"LogLocalRetentionSpace","in":"query","schema":{"description":"本地日志最大空间使用率，参数大小为0~50，此为循环空间，默认为30。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"ColdDataBackupInterval","in":"query","schema":{"description":"冷数据备份间隔天数，取值范围为1~59。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"ColdDataBackupRetention","in":"query","schema":{"description":"冷数据备份保留天数，取值范围为30~730。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"LocalLogRetentionNumber","in":"query","schema":{"description":"本地Binlog保留个数，默认为60，取值范围为6~100。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"IsCrossRegionDataBackupEnabled","in":"query","schema":{"description":"是否开启跨地域数据备份，默认为false。","type":"boolean","required":false,"example":"false"}},{"name":"IsCrossRegionLogBackupEnabled","in":"query","schema":{"description":"是否开启跨地域日志备份，默认为false。","type":"boolean","required":false,"example":"false"}},{"name":"DestCrossRegion","in":"query","schema":{"description":"跨地域备份的目标地域。","type":"string","required":false,"example":"cn-shanghai"}},{"name":"CrossRegionDataBackupRetention","in":"query","schema":{"description":"跨地域数据备份的保存时间，单位：天。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"CrossRegionLogBackupRetention","in":"query","schema":{"description":"跨地域日志备份的保存时间，单位：天。","type":"integer","format":"int32","required":false,"example":"30"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"返回信息，成功返回success，错误返回对应错误码。","type":"string","example":"success"},"RequestId":{"description":"请求ID。","type":"string","example":"FEA5DC20-6D8A-5979-97AA-FC57546ADC20"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"Data":{"description":"返回的策略详情。","type":"object","properties":{"LogLocalRetentionSpace":{"type":"integer","format":"int32"},"DBInstanceName":{"type":"string"},"BackupWay":{"type":"string"},"BackupPeriod":{"type":"string"},"ForceCleanOnHighSpaceUsage":{"type":"integer","format":"int32"},"BackupType":{"type":"string"},"LocalLogRetention":{"type":"integer","format":"int32"},"RemoveLogRetention":{"type":"integer","format":"int32"},"BackupPlanBegin":{"type":"string"},"BackupSetRetention":{"type":"integer","format":"int32"},"IsEnabled":{"type":"integer","format":"int32"},"ColdDataBackupInterval":{"type":"integer","format":"int32"},"ColdDataBackupRetention":{"type":"integer","format":"int32"},"LocalLogRetentionNumber":{"type":"integer","format":"int32"},"IsCrossRegionDataBackupEnabled":{"type":"boolean"},"IsCrossRegionLogBackupEnabled":{"type":"boolean"},"DestCrossRegion":{"type":"string"},"CrossRegionDataBackupRetention":{"type":"integer","format":"int32"},"CrossRegionLogBackupRetention":{"type":"integer","format":"int32"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"FEA5DC20-6D8A-5979-97AA-FC57546ADC20\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"LogLocalRetentionSpace\\\": 0,\\n    \\\"DBInstanceName\\\": \\\"\\\",\\n    \\\"BackupWay\\\": \\\"\\\",\\n    \\\"BackupPeriod\\\": \\\"\\\",\\n    \\\"ForceCleanOnHighSpaceUsage\\\": 0,\\n    \\\"BackupType\\\": \\\"\\\",\\n    \\\"LocalLogRetention\\\": 0,\\n    \\\"RemoveLogRetention\\\": 0,\\n    \\\"BackupPlanBegin\\\": \\\"\\\",\\n    \\\"BackupSetRetention\\\": 0,\\n    \\\"IsEnabled\\\": 0,\\n    \\\"ColdDataBackupInterval\\\": 0,\\n    \\\"ColdDataBackupRetention\\\": 0,\\n    \\\"LocalLogRetentionNumber\\\": 0,\\n    \\\"IsCrossRegionDataBackupEnabled\\\": true,\\n    \\\"IsCrossRegionLogBackupEnabled\\\": true,\\n    \\\"DestCrossRegion\\\": \\\"\\\",\\n    \\\"CrossRegionDataBackupRetention\\\": 0,\\n    \\\"CrossRegionLogBackupRetention\\\": 0\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateBackupPolicyResponse>\\n    <Message>success</Message>\\n    <RequestId>FEA5DC20-6D8A-5979-97AA-FC57546ADC20</RequestId>\\n    <Success>true</Success>\\n    <Data>\\n        <LogLocalRetentionSpace>30</LogLocalRetentionSpace>\\n        <DBInstanceName>pxc-hzjasdyuoo</DBInstanceName>\\n        <BackupWay>P</BackupWay>\\n        <BackupPeriod>1001000</BackupPeriod>\\n        <ForceCleanOnHighSpaceUsage>1</ForceCleanOnHighSpaceUsage>\\n        <BackupType>0</BackupType>\\n        <LocalLogRetention>7</LocalLogRetention>\\n        <RemoveLogRetention>7</RemoveLogRetention>\\n        <BackupPlanBegin>03:00Z</BackupPlanBegin>\\n        <BackupSetRetention>30</BackupSetRetention>\\n        <IsEnabled>1</IsEnabled>\\n        <ColdDataBackupInterval>30</ColdDataBackupInterval>\\n        <ColdDataBackupRetention>30</ColdDataBackupRetention>\\n        <LocalLogRetentionNumber>60</LocalLogRetentionNumber>\\n        <IsCrossRegionDataBackupEnabled>false</IsCrossRegionDataBackupEnabled>\\n        <IsCrossRegionLogBackupEnabled>false</IsCrossRegionLogBackupEnabled>\\n        <DestCrossRegion>cn-shanghai</DestCrossRegion>\\n        <CrossRegionDataBackupRetention>30</CrossRegionDataBackupRetention>\\n        <CrossRegionLogBackupRetention>30</CrossRegionLogBackupRetention>\\n    </Data>\\n</UpdateBackupPolicyResponse>\",\"errorExample\":\"\"}]","title":"修改实例备份策略","summary":"调用UpdateBackupPolicy接口修改实例备份策略。"}