{"summary":"创建一个E-HPC Instant 作业。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"paid","abilityTreeCode":"219052","abilityTreeNodes":["FEATUREehpcAU9WIU"]},"parameters":[{"name":"JobName","in":"query","schema":{"description":"作业名称。最大长度为10。","type":"string","required":true,"example":"testjob"}},{"name":"JobDescription","in":"query","schema":{"description":"作业描述。","type":"string","required":false,"example":"Demo"}},{"name":"Tasks","in":"query","style":"json","schema":{"description":"任务列表，当前仅支持1个任务。","type":"array","items":{"description":"任务详情。","type":"object","properties":{"TaskName":{"description":"任务名称。","type":"string","required":false,"example":"task0"},"TaskSpec":{"description":"任务规格详情。","type":"object","properties":{"TaskExecutor":{"description":"任务执行配置。","type":"array","items":{"description":"任务执行配置。","type":"object","properties":{"Container":{"description":"使用容器实例。","type":"object","properties":{"Image":{"description":"容器镜像。","type":"string","required":true,"example":"registry-vpc.cn-hangzhou.aliyuncs.com/ehpc/hpl:latest"},"WorkingDir":{"description":"容器工作目录。","type":"string","required":false,"example":"/usr/local/"},"Command":{"description":"容器启动命令列表。最多20个命令，单个命令最长256个字符。    \n> 当启动命令包含空格时（例如：`sleep 60s`），传入的JSON格式参数为`[\"sleep\", \"60s\"]`。","type":"array","items":{"description":"容器启动命令内容。每个命令最多包含256个字符。","type":"string","required":false,"example":"sleep"},"required":false},"EnvironmentVars":{"description":"容器的环境变量。最多20组。","type":"array","items":{"description":"容器的环境变量。最多20组。","type":"object","properties":{"Name":{"description":"环境变量名。长度为 1~128 位。格式要求：[0-9a-zA-Z]，以及下划线，不能以数字开头。","type":"string","required":false,"example":"PATH"},"Value":{"description":"环境变量值。长度为 0~256 位。","type":"string","required":false,"example":"/usr/local/bin"}},"required":false},"required":false},"AppId":{"description":"VM应用ID。","type":"string","required":false,"example":"ci-vm-32k6LXAi3cOG"}},"required":false},"VM":{"description":"使用ECS实例。","type":"object","properties":{"Image":{"description":"镜像ID。","type":"string","required":true,"example":"m-xxxx"},"PrologScript":{"description":"前处理脚本。需Base64编码。","type":"string","required":false,"example":"ZWNobyBoZWxsbyBlY3Mh"},"Script":{"description":"运行作业脚本。需Base64编码。","type":"string","required":false,"example":"ZWNobyBoZWxsbyBlY3Mh"},"AppId":{"description":"容器应用ID","type":"string","required":false,"example":"ci-vm-9jc58Pm5Leky"}},"required":false}},"required":false},"required":true},"VolumeMount":{"description":"容器挂载的数据卷列表。最多10组。","type":"array","items":{"description":"容器挂载的数据卷信息。","type":"object","properties":{"MountPath":{"description":"容器挂载数据卷的目录。\n\n> 容器挂载目录下的内容会被Volume的内容直接覆盖，请谨慎使用。","type":"string","required":false,"example":"/mnt"},"VolumeDriver":{"description":"当前支持的数据卷类型。取值为`alicloud/nas`，表示挂载 NAS。","type":"string","required":false,"example":"alicloud/nas"},"MountOptions":{"description":"数据卷挂载参数列表。为KV形式，采用JSON传递。","type":"string","required":false,"example":"{\"server\":\"xxxxx-xxxxx.cn-heyuan.nas.aliyuncs.com\",\"vers\":\"3\",\"path\":\"/data\",\"options\":\"nolock,tcp,noresvport\"}"}},"required":false},"required":false},"Resource":{"description":"资源信息。","type":"object","properties":{"Cores":{"description":"运行作业的CPU个数。","type":"number","format":"float","required":false,"example":"2"},"Memory":{"description":"运行作业的内存大小。单位为GiB。","type":"number","format":"float","required":false,"example":"4"},"Disks":{"description":"云盘数组。","type":"array","items":{"description":"云盘数组。","type":"object","properties":{"Type":{"description":"云盘类型。目前仅支持System，表示系统盘。","type":"string","required":false,"example":"System"},"Size":{"description":"云盘大小。单位为GiB。","type":"integer","format":"int32","required":false,"example":"40"}},"required":false},"required":false}},"required":false}},"required":false},"ExecutorPolicy":{"description":"任务执行策略。","type":"object","properties":{"MaxCount":{"description":"作业运行最大节点数。","type":"integer","format":"int32","required":false,"example":"1"},"ArraySpec":{"description":"数组作业详情。","type":"object","properties":{"IndexStart":{"description":"数组作业索引的起始值。取值范围：0~4999。","type":"integer","format":"int32","required":false,"example":"0"},"IndexEnd":{"description":"数组作业索引的结束值。取值范围：0~4999，且大于等于IndexStart。","type":"integer","format":"int32","required":false,"example":"9"},"IndexStep":{"description":"数组作业索引的间隔。\n> 若数组作业属性为IndexStart=1,IndexEnd=5,IndexStep=2，则该数组作业包含三个子任务，子任务索引分别为1,3,5。","type":"integer","format":"int32","required":false,"example":"1"}},"required":false}},"required":false},"TaskSustainable":{"description":"是否是长时间运行的作业。","type":"boolean","required":false,"example":"true"}},"required":false},"required":true,"minItems":1}},{"name":"DeploymentPolicy","in":"query","style":"json","schema":{"description":"资源部署策略。","type":"object","properties":{"AllocationSpec":{"description":"资源类型。当前仅支持Dedicated，需开通白名单使用。","type":"string","required":false,"example":"Dedicated"},"Network":{"description":"网络配置信息。","type":"object","properties":{"Vswitch":{"description":"交换机数组。","type":"array","items":{"description":"交换机ID。","type":"string","required":false,"example":"vsw-xxxx"},"required":false}},"required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"896D338C-E4F4-41EC-A154-D605E5DE****"},"JobId":{"description":"作业ID。","type":"string","example":"job-xxxx"},"Tasks":{"description":"任务列表。","type":"array","items":{"description":"任务列表详情。","type":"object","properties":{"TaskName":{"description":"任务名称。","type":"string","example":"task0"},"ExecutorIds":{"description":"任务包含的Executor ID列表。","type":"array","items":{"description":"Executor ID。格式为JobId-TaskName-ArrayIndex。","type":"string","example":"[\\\"job-xxxx-task0_11-2\\\"]"}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"InDebt","errorMessage":"Your account has overdue payments."},{"errorCode":"NotEnabled","errorMessage":"You have not enabled this service."}],"403":[{"errorCode":"GetResourceFailed","errorMessage":"Failed to get resource."},{"errorCode":"RecommendEmpty.InstanceTypeSoldOut","errorMessage":"The resource is out of stock."}],"404":[{"errorCode":"ImageNotFound","errorMessage":"The specified image does not exist."}],"406":[{"errorCode":"AliyunError","errorMessage":"An Alibaba Cloud product error occurred."},{"errorCode":"EcsError","errorMessage":"An error occurred while calling the ECS API operation."},{"errorCode":"DbError","errorMessage":"A database error occurred."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"896D338C-E4F4-41EC-A154-D605E5DE****\\\",\\n  \\\"JobId\\\": \\\"job-xxxx\\\",\\n  \\\"Tasks\\\": [\\n    {\\n      \\\"TaskName\\\": \\\"task0\\\",\\n      \\\"ExecutorIds\\\": [\\n        \\\"[\\\\\\\\\\\\\\\"job-xxxx-task0_11-2\\\\\\\\\\\\\\\"]\\\"\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"创建作业"}