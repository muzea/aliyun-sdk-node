{"summary":"使用新的流水线配置替换已有的流水线配置，不能修改的字段将被忽略。","path":"/2023-07-14/pipelinetriggers/{name}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"流水线触发器","description":"流水线触发器","required":false,"$ref":"#/components/schemas/PipelineTrigger"}},{"name":"name","in":"path","schema":{"title":"对象名称","description":"对象名称","type":"string","required":false,"example":"demo-name"}},{"name":"force","in":"query","schema":{"title":"强制更新","description":"强制更新","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"title":"流水线触发器","description":"流水线触发器","$ref":"#/components/schemas/PipelineTrigger"}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"uid\\\": \\\"1455541096***548\\\",\\n  \\\"generation\\\": 1,\\n  \\\"description\\\": \\\"PipelineTrigger example.\\\",\\n  \\\"kind\\\": \\\"PipelineTrigger\\\",\\n  \\\"createdTime\\\": \\\"2021-11-19T09:34:38Z\\\",\\n  \\\"name\\\": \\\"my-pipeline-trigger\\\",\\n  \\\"spec\\\": {\\n    \\\"roleArn\\\": \\\"acs:ram::1431999****8149:role/aliyundevsdefaultrole\\\",\\n    \\\"eventFilter\\\": {\\n      \\\"push\\\": {\\n        \\\"branch\\\": \\\"master\\\",\\n        \\\"tag\\\": \\\"prod-.*\\\"\\n      },\\n      \\\"pullRequest\\\": {\\n        \\\"sourceBranch\\\": \\\"feature-.*\\\",\\n        \\\"targetBranch\\\": \\\"master\\\",\\n        \\\"types\\\": [\\n          \\\"MERGE_REQUEST\\\"\\n        ]\\n      }\\n    },\\n    \\\"runPipeline\\\": {\\n      \\\"yamlFilePath\\\": \\\"\\\",\\n      \\\"yamlFileContent\\\": \\\"\\\",\\n      \\\"pipelineSpec\\\": {\\n        \\\"templateName\\\": \\\"my-pipeline-template\\\",\\n        \\\"context\\\": {\\n          \\\"data\\\": {\\n            \\\"test\\\": \\\"test\\\",\\n            \\\"test2\\\": 1\\n          }\\n        },\\n        \\\"templateSpec\\\": {\\n          \\\"context\\\": {\\n            \\\"data\\\": {\\n              \\\"test\\\": \\\"test\\\",\\n              \\\"test2\\\": 1\\n            }\\n          },\\n          \\\"tasks\\\": [\\n            {\\n              \\\"name\\\": \\\"task-1\\\",\\n              \\\"context\\\": {\\n                \\\"data\\\": {\\n                  \\\"test\\\": \\\"test\\\",\\n                  \\\"test2\\\": 1\\n                }\\n              },\\n              \\\"taskTemplate\\\": \\\"serverless-runner\\\",\\n              \\\"runAfters\\\": [\\n                {\\n                  \\\"name\\\": \\\"task-1\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"contextSchema\\\": {\\n            \\\"test\\\": \\\"test\\\",\\n            \\\"test2\\\": 1\\n          }\\n        }\\n      },\\n      \\\"variables\\\": [\\n        {\\n          \\\"value\\\": \\\"object_value\\\",\\n          \\\"name\\\": \\\"object_key\\\"\\n        }\\n      ]\\n    }\\n  },\\n  \\\"labels\\\": {\\n    \\\"key\\\": \\\"value to the label key.\\\"\\n  },\\n  \\\"resourceVersion\\\": 1\\n}\",\"type\":\"json\"}]","title":"替换流水线触发器","description":"API提供了乐观锁机制，在不设置强制更新的场景下，需要基于最新的流水线触发器配置修改后提交，否则将触发提交冲突异常。"}