{"summary":"创建项目，并在指定模板配置时自动部署此项目。","path":"/2023-07-14/projects","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"计划创建的项目实体","required":false,"$ref":"#/components/schemas/Project"}}],"responses":{"200":{"schema":{"description":"成功创建的项目实体","$ref":"#/components/schemas/Project"}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"uid\\\": \\\"1455541096***548\\\",\\n  \\\"kind\\\": \\\"Project\\\",\\n  \\\"createdTime\\\": \\\"2021-11-19T09:34:38Z\\\",\\n  \\\"name\\\": \\\"my-project\\\",\\n  \\\"spec\\\": {\\n    \\\"templateConfig\\\": {\\n      \\\"templateName\\\": \\\"start-springboot\\\",\\n      \\\"parameters\\\": {\\n        \\\"region\\\": \\\"cn-hangzhou\\\"\\n      }\\n    },\\n    \\\"roleArn\\\": \\\"acs:ram::1431999****8149:role/aliyundevsdefaultrole\\\",\\n    \\\"token\\\": \\\"9D72DE01-C732-49C0-8E85-FFD9D695436B\\\"\\n  },\\n  \\\"labels\\\": {\\n    \\\"key\\\": \\\"key=value\\\"\\n  },\\n  \\\"resourceVersion\\\": 1,\\n  \\\"description\\\": \\\"test-description\\\",\\n  \\\"status\\\": {\\n    \\\"latestReleaseDetail\\\": {\\n      \\\"pipelineTriggerEventName\\\": \\\"p-codeup-1714271977972-pa4w\\\",\\n      \\\"bizStatus\\\": \\\"Running\\\",\\n      \\\"pipelineName\\\": \\\"p-1704952599751-wUOczb\\\",\\n      \\\"templateConfigSnapshot\\\": {\\n        \\\"templateName\\\": \\\"start-springboot\\\",\\n        \\\"parameters\\\": {\\n          \\\"region\\\": \\\"cn-hangzhou\\\"\\n        }\\n      },\\n      \\\"releaseOutputs\\\": {\\n        \\\"framework\\\": {\\n          \\\"region\\\": \\\"cn-hangzhou\\\",\\n          \\\"service\\\": {\\n            \\\"serviceName\\\": \\\"web-framework\\\",\\n            \\\"description\\\": \\\"Serverless Devs Web Framework Service\\\",\\n            \\\"role\\\": \\\"\\\",\\n            \\\"logConfig\\\": {\\n              \\\"project\\\": \\\"\\\",\\n              \\\"logstore\\\": \\\"\\\",\\n              \\\"enableRequestMetrics\\\": false,\\n              \\\"enableInstanceMetrics\\\": false,\\n              \\\"logBeginRule\\\": \\\"None\\\"\\n            },\\n            \\\"serviceId\\\": \\\"4c9d0e79-16b8-4951-a6b8-169d2037d217\\\",\\n            \\\"createdTime\\\": \\\"2021-12-07T09:24:08Z\\\",\\n            \\\"lastModifiedTime\\\": \\\"2022-04-09T09:16:51Z\\\",\\n            \\\"vpcConfig\\\": {\\n              \\\"vpcId\\\": \\\"\\\",\\n              \\\"vSwitchIds\\\": [],\\n              \\\"securityGroupId\\\": \\\"\\\",\\n              \\\"role\\\": \\\"\\\"\\n            },\\n            \\\"internetAccess\\\": true,\\n            \\\"nasConfig\\\": {\\n              \\\"userId\\\": -1,\\n              \\\"groupId\\\": -1,\\n              \\\"mountPoints\\\": []\\n            },\\n            \\\"tracingConfig\\\": {},\\n            \\\"name\\\": \\\"web-framework\\\"\\n          },\\n          \\\"function\\\": {\\n            \\\"functionId\\\": \\\"e81904f0-24d0-45df-bb53-06da64d01395\\\",\\n            \\\"functionName\\\": \\\"todolist\\\",\\n            \\\"description\\\": \\\"Serverless Devs Web Framework Function\\\",\\n            \\\"runtime\\\": \\\"nodejs12\\\",\\n            \\\"handler\\\": \\\"index.handler\\\",\\n            \\\"timeout\\\": 60,\\n            \\\"initializer\\\": \\\"\\\",\\n            \\\"initializationTimeout\\\": 3,\\n            \\\"codeSize\\\": 1757093,\\n            \\\"codeChecksum\\\": \\\"7185648203525194222\\\",\\n            \\\"memorySize\\\": 256,\\n            \\\"environmentVariables\\\": {},\\n            \\\"createdTime\\\": \\\"2022-03-15T15:36:22Z\\\",\\n            \\\"lastModifiedTime\\\": \\\"2022-04-09T09:16:50Z\\\",\\n            \\\"instanceConcurrency\\\": 1,\\n            \\\"instanceType\\\": \\\"e1\\\",\\n            \\\"instanceLifecycleConfig\\\": {\\n              \\\"preFreeze\\\": {\\n                \\\"handler\\\": \\\"\\\",\\n                \\\"timeout\\\": 3\\n              },\\n              \\\"preStop\\\": {\\n                \\\"handler\\\": \\\"\\\",\\n                \\\"timeout\\\": 3\\n              }\\n            },\\n            \\\"name\\\": \\\"todolist\\\"\\n          },\\n          \\\"triggers\\\": [\\n            {\\n              \\\"triggerName\\\": \\\"httpTrigger\\\",\\n              \\\"description\\\": \\\"\\\",\\n              \\\"triggerId\\\": \\\"7f2373ce-df1a-4013-b4e5-899989d9b27e\\\",\\n              \\\"triggerType\\\": \\\"http\\\",\\n              \\\"triggerConfig\\\": {\\n                \\\"methods\\\": [\\n                  \\\"GET\\\",\\n                  \\\"POST\\\"\\n                ],\\n                \\\"authType\\\": \\\"anonymous\\\"\\n              },\\n              \\\"createdTime\\\": \\\"2022-03-15T15:36:23Z\\\",\\n              \\\"lastModifiedTime\\\": \\\"2022-04-09T09:16:51Z\\\",\\n              \\\"name\\\": \\\"httpTrigger\\\"\\n            }\\n          ],\\n          \\\"customDomains\\\": [\\n            {\\n              \\\"domainName\\\": \\\"todolist.web-framework.1835799444022432.cn-hangzhou.fc.devsapp.net\\\",\\n              \\\"accountId\\\": \\\"1835799444022432\\\",\\n              \\\"protocol\\\": \\\"HTTP\\\",\\n              \\\"certConfig\\\": {},\\n              \\\"tlsConfig\\\": {},\\n              \\\"apiVersion\\\": \\\"2016-08-15\\\",\\n              \\\"routeConfig\\\": {\\n                \\\"routes\\\": [\\n                  {\\n                    \\\"path\\\": \\\"/*\\\",\\n                    \\\"serviceName\\\": \\\"web-framework\\\",\\n                    \\\"functionName\\\": \\\"todolist\\\",\\n                    \\\"methods\\\": [\\n                      \\\"GET\\\",\\n                      \\\"POST\\\"\\n                    ]\\n                  }\\n                ]\\n              },\\n              \\\"createdTime\\\": \\\"2022-03-15T15:36:28Z\\\",\\n              \\\"lastModifiedTime\\\": \\\"2022-04-09T09:17:00Z\\\"\\n            }\\n          ]\\n        }\\n      },\\n      \\\"finishedTime\\\": \\\"2021-11-19T09:34:38Z\\\",\\n      \\\"repositorySnapshot\\\": {\\n        \\\"connectionName\\\": \\\"awesome-connection\\\",\\n        \\\"cloneUrl\\\": \\\"https://github.com/DDofDD/start-springboot-lfgy.git\\\",\\n        \\\"platform\\\": \\\"github\\\",\\n        \\\"id\\\": 312649,\\n        \\\"owner\\\": \\\"my-org-name\\\",\\n        \\\"displayName\\\": \\\"my-repo-name\\\",\\n        \\\"webUrl\\\": \\\"https://github.com/my-org-name/my-repo-name\\\"\\n      },\\n      \\\"gitEventSnapshot\\\": {\\n        \\\"branch\\\": \\\"main\\\",\\n        \\\"commitID\\\": \\\"12721ec262d03a93809ba2bbc717963cb298ceca\\\",\\n        \\\"tag\\\": \\\"1.0\\\"\\n      },\\n      \\\"message\\\": \\\"Triggered manually.\\\",\\n      \\\"latestTaskExecError\\\": {\\n        \\\"title\\\": \\\"权限不足错误\\\",\\n        \\\"message\\\": \\\"部署服务[_appcenter-xxx]失败，权限不足\\\",\\n        \\\"code\\\": \\\"AccessDenied\\\",\\n        \\\"requestId\\\": \\\"1-26d1287xxxxx\\\",\\n        \\\"extraInfo\\\": \\\"部署辅助函数权限不足，需要添加额外的权限以解决问题。https://help.aliyun.com\\\"\\n      },\\n      \\\"envName\\\": \\\"dev\\\"\\n    },\\n    \\\"observedGeneration\\\": 1,\\n    \\\"observedTime\\\": \\\"2021-11-19T09:34:38Z\\\"\\n  },\\n  \\\"generation\\\": 1\\n}\",\"type\":\"json\"}]","title":"创建项目","description":"1. 当`Project.Spec.TemplateConfig`非空时：创建项目后，开发平台会使用您提供的模板信息异步地为您自动部署该项目（创建`Environment`、`PipelineTrigger`、`PipelineTriggerEvent`、`Pipeline`实体）\n2. 当`Project.Spec.TemplateConfig`为空时：仅创建项目实体，需要您手动调用`Environment`、`PipelineTrigger`、`PipelineTriggerEvent`相关API完成部署。\n\n><notice>通过模板完成的项目部署流程完全免费，部署后项目模板所涉及的云资源将按照各云产品的计费方式计费></notice>"}