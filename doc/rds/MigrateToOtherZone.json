{"summary":"该接口用于迁移RDS实例的可用区。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****"}},{"name":"VPCId","in":"query","schema":{"description":"专有网络VPC ID。迁移可用区时VPC不能变更，需保持不变。\n\n- 专有网络实例迁移可用区时必须传入该参数。\n- 如果实例引擎为SQL Server，迁移可用区VPC可支持变更。","type":"string","required":false,"example":"vpc-****"}},{"name":"ZoneId","in":"query","schema":{"description":"目标可用区ID，可调用DescribeRegions获取。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou-b"}},{"name":"EffectiveTime","in":"query","schema":{"description":"生效时间，取值：\n* **Immediate**：默认值，立即生效。\n* **MaintainTime**：在可运维时间段内生效，请参见ModifyDBInstanceMaintainTime。\n* **ScheduleTime**：手动指定生效时间。\n\n> 如果在本参数中传入**ScheduleTime**，则还需要传入**SwitchTime**参数。","type":"string","required":false,"example":"Immediate"}},{"name":"VSwitchId","in":"query","schema":{"description":"交换机ID。\n- 专有网络实例迁移可用区时必须传入该参数。可通过调用DescribeVSwitches接口查询已创建的交换机。\n- 当RDS PostgreSQL、SQL Server实例迁移可用区配置了备可用区时，此参数可以配置多个，用英文逗号（,）分隔，与可用区对应。","type":"string","required":false,"example":"vsw-uf6adz52c2p****"}},{"name":"Category","in":"query","schema":{"description":"实例系列，取值：\n\n* **Basic**：基础系列\n* **HighAvailability**：高可用系列\n* **AlwaysOn**：SQL Server集群系列\n* **cluster**：MySQL集群系列\n* **Finance**：三节点企业系列","type":"string","required":false,"example":"HighAvailability"}},{"name":"ZoneIdSlave1","in":"query","schema":{"description":"备可用区1。\n>非基础系列实例需要传入该参数。","type":"string","required":false,"example":"cn-hangzhou-c"}},{"name":"ZoneIdSlave2","in":"query","schema":{"description":"备可用区2。\n>仅三节点企业系列实例可传入该参数。","type":"string","required":false,"example":"cn-hangzhou-d"}},{"name":"SwitchTime","in":"query","schema":{"description":"切换可用区的自定义生效时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>本参数配合**EffectiveTime**参数使用，仅在**EffectiveTime**为**ScheduleTime**时需要传入。","type":"string","required":false,"example":"2021-12-14T15:15:15Z"}},{"name":"IsModifySpec","in":"query","schema":{"description":"是否在迁移可用区时变配。\n\n- **true**：变配，当配置为**true**时，至少需要配置**DBInstanceClass**或**DBInstanceStorage**中的一个参数。\n- **false**：默认值，不变配。\n\n> 该参数仅RDS MySQL实例适用。\n","type":"string","required":false,"example":"true"}},{"name":"DBInstanceClass","in":"query","schema":{"description":"目标实例规格代码，只支持变更规格，不支持变更存储类型。\n当**IsModifySpec**参数配置为**true**时，至少需要配置本参数和**DBInstanceStorage**中的一个。\n\n实例规格代码请参见[RDS MySQL主实例规格列表](~~276975~~)。","type":"string","required":false,"example":"mysql.x4.xlarge.2"}},{"name":"DBInstanceStorage","in":"query","schema":{"description":"目标存储空间大小。当**IsModifySpec**参数配置为**true**时，至少需要配置本参数和**DBInstanceClass**中的一个。\n\n单位：GB。\n取值范围：不同规格可扩容存储空间大小不同，具体请以[RDS MySQL主实例规格列表](~~276975~~)为准。","type":"integer","format":"int64","required":false,"example":"500"}},{"name":"IoAccelerationEnabled","in":"query","schema":{"description":"<props=\"china\">是否开启通用云盘IO加速功能，参数取值含义如下：</props>\n\n<props=\"china\"> - 1：开启</props>\n<props=\"china\"> - 0：不开启</props>\n\n<props=\"china\">> 通用云盘的IO加速功能的更多信息，请参见[通用云盘IO加速功能技术介绍](~~2527067~~)。</props>\n<props=\"intl\">预留参数。</props>","type":"string","required":false,"example":"0"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"65BDA532-28AF-4122-AA39-B382721EEE64"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"rm-uf6wjk5****"},"OrderId":{"description":"订单ID，仅MySQL实例适用。","type":"integer","format":"int64","example":"21334157599****"}}}}},"errorCodes":{"400":[{"errorCode":"RenewChange.Exist","errorMessage":"The Current InstanceId existed renewChange order in RDS."},{"errorCode":"InvalidInstanceCommodityCode.NotFound","errorMessage":"Parse commodityCode from lx and instance fail."},{"errorCode":"InvalidMigrateModifyClassOrStorage","errorMessage":"Specified parameter DBInstanceClass or Storage is invalid."},{"errorCode":"EngineNotSupported","errorMessage":"Engine specified cannot be supported the operation."},{"errorCode":"IncorrectDBInstanceLockMode.ValueNotSupported","errorMessage":"The Current DB instance lock mode does not support this operation."},{"errorCode":"InvalidZoneId.NotNull","errorMessage":"The parameter ZoneId must not be null or auto"},{"errorCode":"InvalidZoneId.NotEqual","errorMessage":"The parameter ZoneId is the same as the previous one"},{"errorCode":"InvalidDispenseMode.Format","errorMessage":"The specified dispense mode is not valid."},{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance type does not support this operation."},{"errorCode":"ZoneId.NotMatchWithCategory","errorMessage":"The Number of ZoneId specified does not match with category"},{"errorCode":"InvalidDefaultVSwitch.NotFound","errorMessage":"The specified  default virtual switch is not found in specified VPC."},{"errorCode":"InsufficientResourceCapacityCheck","errorMessage":"There is insufficient capacity available for the requested instance with precheck."},{"errorCode":"UnsupportedReadOrBakReadState","errorMessage":"Current DB instance has read or bak read instance running in unsupported states"},{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."},{"errorCode":"MirrorInsExists","errorMessage":"Specified DB instance mirror ins already existed."},{"errorCode":"SSLInstanceNotSupportThisOperation","errorMessage":"The instance opened SSL, upgrade is not this operation"},{"errorCode":"BYOLInstanceNotSupportThisOperation","errorMessage":"The BYOL instance is not supported this operation"},{"errorCode":"BYOKInstanceNotSupportThisOperation","errorMessage":"The BYOK instance is not supported this operation"},{"errorCode":"ADInstanceNotSupportThisOperation","errorMessage":"The AD instance is not supported this operation"},{"errorCode":"TDEInstanceNotSupportThisOperation","errorMessage":"The instance opened TDE, this operation is not supported"},{"errorCode":"InstanceIsSnapshotBackupNotSupportThisOperation","errorMessage":"The instance backup method is snapshot backup, this operation is not supported"},{"errorCode":"InstanceHasReadOnlyInstanceNotSupportThisOperation","errorMessage":"The instance has read-only instance or is read-only instance, this operation is not supported"},{"errorCode":"VswitchIpExhausted","errorMessage":"No available ip in the specified vswitch."},{"errorCode":"OperationDenied.MasterDBInstanceState","errorMessage":"The operation is not permitted due to status of master instance."},{"errorCode":"InvalidShareInstance.NotSupport","errorMessage":"The share dbInstance is not support."},{"errorCode":"InvalidZoneIdSlave1.Missing","errorMessage":"The parameter ZoneIdSlave1 must be specified."},{"errorCode":"MigrateAlreadyExistsFault","errorMessage":"The rds instance already has a given vpc migrate task."},{"errorCode":"InvalidInstanceKind.NotSupport","errorMessage":"The instance kind does not support this operation."},{"errorCode":"MissingCategory","errorMessage":"The instance is missing a category parameter."},{"errorCode":"InvalidInstanceNodeType.NotFound","errorMessage":"The specified NodeType is not found."},{"errorCode":"EngineVersionNotSupported","errorMessage":"EngineVersion specified cannot be replicate with the source DB Instance."},{"errorCode":"CommodityCodeNotFound","errorMessage":"CommodityCodeNotFound"},{"errorCode":"InvalidTunnelId","errorMessage":"Specified conn tunnel is not valid."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."}],"403":[{"errorCode":"OperationDenied.OutofUsage","errorMessage":"The resource is out of usage."},{"errorCode":"IncorrectEffectiveTime","errorMessage":"The specified EffectiveTime params is not valid."},{"errorCode":"InvalidTempInstance.NotSupport","errorMessage":"The temp db Instance is not support."},{"errorCode":"OperationDenied.LockMode","errorMessage":"The operation is not permitted due to instance being locked."},{"errorCode":"ClassicNetworkType.NotSupport","errorMessage":"The Classic instance network create is not support."},{"errorCode":"InstanceNetworkTypeNotFoundFault","errorMessage":"The specified DBInstanceNetworkType is not found."},{"errorCode":"ProprietaryCloud.NotSupported","errorMessage":"The proprietary cloud not supported."},{"errorCode":"MigrateAlreadyReadWriteSplitExistsFault","errorMessage":"The rds instance already has a given vpc migrate task."},{"errorCode":"InvalidRegionAvzNotFound","errorMessage":"Specified user does not find the region and avz."},{"errorCode":"ZoneIdNotSupported","errorMessage":"The zone ID is not supported."},{"errorCode":"InvalidVpcInfo.NotFound","errorMessage":"Specified VPC info does not exist."},{"errorCode":"InvalidMultiparamZoneInfoList","errorMessage":"Zoneinfo list is invaild."},{"errorCode":"MigrateSlaveNotSupport","errorMessage":"Current DB instance state does not support migrating slave, please switch the Primary/Secondary Instance first."},{"errorCode":"CloudDiskEncryptionNotSupport","errorMessage":"The encryption key is not allowed for general-purpose instance."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The database instance does not exist."},{"errorCode":"IncorrectVswitchId","errorMessage":"The specified parameter VSwitchId is not valid."},{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"65BDA532-28AF-4122-AA39-B382721EEE64\\\",\\n  \\\"DBInstanceId\\\": \\\"rm-uf6wjk5****\\\",\\n  \\\"OrderId\\\": 0\\n}\",\"type\":\"json\"}]","title":"迁移RDS实例可用区","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS MySQL迁移可用区](~~96053~~)\n- [RDS PostgreSQL迁移可用区](~~96746~~)\n- [RDS SQL Server迁移可用区](~~95658~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}