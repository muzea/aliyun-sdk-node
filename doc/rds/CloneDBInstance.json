{"summary":"该接口用于将历史数据恢复至一个新实例（称为克隆实例）。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。可以通过接口DescribeRegions查看地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ZoneId","in":"query","schema":{"description":"主可用区ID。可以通过接口DescribeRegions查看可用区ID。\n\n>默认为源实例的可用区。","type":"string","required":false,"example":"cn-hangzhou-b"}},{"name":"DBInstanceClass","in":"query","schema":{"description":"实例规格，详见[实例规格表](~~26312~~)。\n\n>默认规格和主实例一致。","type":"string","required":false,"example":"mysql.n1.micro.1"}},{"name":"DBInstanceStorage","in":"query","schema":{"description":"实例存储空间，单位：GB。每5GB进行递增，详见[实例规格表](~~26312~~)。\n>默认存储空间和主实例一致。","type":"integer","format":"int32","required":false,"example":"1000"}},{"name":"DbNames","in":"query","schema":{"description":"数据库名称，格式如下：`原库名1,原库名2`。","type":"string","required":false,"example":"test1,test2"}},{"name":"PayType","in":"query","schema":{"description":"付费类型，取值：\n* **Postpaid**：后付费（按量付费）\n* **Prepaid**：预付费（包年包月）\n* **Serverless**：Serverless付费类型，不支持MariaDB实例。更多信息，请参见[MySQL Serverless实例简介](~~411291~~)、[SQL Server Serverless实例简介](~~604344~~)、[PostgreSQL Serverless实例简介](~~607742~~)。","type":"string","required":true,"docRequired":true,"example":"Postpaid"}},{"name":"InstanceNetworkType","in":"query","schema":{"description":"实例的网络类型，取值：\n* **VPC**：专有网络\n* **Classic**：经典网络\n\n>默认网络类型和主实例一致。","type":"string","required":false,"example":"VPC"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****","maxLength":65535,"minLength":1}},{"name":"BackupId","in":"query","schema":{"description":"备份集ID。\n\n您可以通过DescribeBackups接口获取备份列表。\n\n>**BackupId**和**RestoreTime**两者至少传入一个。","type":"string","required":false,"example":"902****"}},{"name":"RestoreTime","in":"query","schema":{"description":"备份保留周期内的任意时间点。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n\n>**BackupId**和**RestoreTime**两者至少传入一个。","type":"string","required":false,"example":"2011-06-11T16:00:00Z"}},{"name":"VPCId","in":"query","schema":{"description":"专有网络VPC ID。\n>请确保VPC属于对应的地域。","type":"string","required":false,"example":"vpc-uf6f7l4fg90****"}},{"name":"VSwitchId","in":"query","schema":{"description":"虚拟交换机ID。虚拟交换机所在的可用区必须和**ZoneId**中传入的可用区ID相对应。\n\n- 网络类型**InstanceNetworkType**需为**VPC**。\n- 若您填写了**ZoneSlaveId1**（备可用区ID），此处需填写两个交换机ID，并使用半角逗号（,）隔开。","type":"string","required":false,"example":"vsw-uf6adz52c2p****"}},{"name":"PrivateIpAddress","in":"query","schema":{"description":"新实例的内网IP，需要在指定交换机的IP地址范围内。系统默认通过**VPCId**和**VSwitchId**自动分配。","type":"string","required":false,"example":"172.XX.XX.69"}},{"name":"UsedTime","in":"query","schema":{"description":"购买时长，取值：\n* 当参数**Period**为**Year**时，UsedTime取值为**1~3**。\n* 当参数**Period**为**Month**时，UsedTime取值为**1~9**。\n\n> 若付费类型为**Prepaid**则该参数必须传入。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"Period","in":"query","schema":{"description":"预付费实例为包年或者包月类型，取值：\n* **Year**：包年\n* **Month**：包月\n\n> 若付费类型为**Prepaid**则该参数必须传入。","type":"string","required":false,"example":"Year","enum":["Year","Month"]}},{"name":"Category","in":"query","schema":{"description":"实例系列，取值：\n\n- **Basic**：基础系列\n- **HighAvailability**：高可用系列\n- **AlwaysOn**：集群系列（SQL Server）\n- **cluster**：集群系列（MySQL）\n- **Finance**：金融版（仅中国站支持）\n\n**Serverless实例**\n- **serverless_basic**：Serverless基础系列（仅适用MySQL和PostgreSQL）\n- **serverless_standard**：MySQL Serverless高可用系列\n- **serverless_ha**：SQL Server Serverless高可用系列\n> 该参数不需要传递，克隆时会保持和源实例相同。","type":"string","required":false,"example":"HighAvailability"}},{"name":"ZoneIdSlave1","in":"query","schema":{"description":"备节点可用区ID。如果和**ZoneId**相同，则为单可用区部署；如果和**ZoneId**不同，则为多可用区部署。","type":"string","required":false,"example":"cn-hangzhou-c"}},{"name":"ZoneIdSlave2","in":"query","schema":{"description":"<props=\"intl\">日志节点可用区ID。如果和**ZoneId**相同，则为单可用区部署；如果和**ZoneId**不同，则为多可用区部署。</props>\n\n<props=\"china\">备节点或日志节点可用区ID。如果和**ZoneId**相同，则为单可用区部署；如果和**ZoneId**不同，则为多可用区部署。</props>","type":"string","required":false,"example":"cn-hangzhou-d"}},{"name":"DBInstanceStorageType","in":"query","schema":{"description":"实例存储类型，取值：\n\n* **local_ssd**：本地SSD盘\n* **cloud_ssd**：SSD云盘\n* **cloud_essd**：ESSD PL1云盘\n* **cloud_essd2**：ESSD PL2云盘\n* **cloud_essd3**：ESSD PL3云盘\n\n> Serverless实例仅支持ESSD PL1云盘，必须传入**cloud_essd**。","type":"string","required":false,"docRequired":true,"example":"cloud_essd"}},{"name":"RestoreTable","in":"query","schema":{"description":"是否进行库表恢复，取值为**1**时表示进行库表恢复，否则不填。","type":"string","required":false,"example":"1"}},{"name":"TableMeta","in":"query","schema":{"description":"进行库表恢复时，指定恢复的库表信息。格式：\n```[{\"type\":\"db\",\"name\":\"数据库1名称\",\"newname\":\"新数据库1名称\",\"tables\":[{\"type\":\"table\",\"name\":\"数据库1内的表1名称\",\"newname\":\"新的表1名称\"},{\"type\":\"table\",\"name\":\"数据库1内的表2名称\",\"newname\":\"新的表2名称\"}]},{\"type\":\"db\",\"name\":\"数据库2名称\",\"newname\":\"新数据库2名称\",\"tables\":[{\"type\":\"table\",\"name\":\"数据库2内的表1名称\",\"newname\":\"新的表1名称\"},{\"type\":\"table\",\"name\":\"数据库2内的表2名称\",\"newname\":\"新的表2名称\"}]}]```","type":"string","required":false,"example":"[{\"type\":\"db\",\"name\":\"testdb1\",\"newname\":\"testdb1_new\",\"tables\":[{\"type\":\"table\",\"name\":\"testdb1table1\",\"newname\":\"testdb1table1_new\"}]}]"}},{"name":"DedicatedHostGroupId","in":"query","schema":{"description":"专属集群ID。","type":"string","required":false,"example":"dhg-7a9****"}},{"name":"BackupType","in":"query","schema":{"description":"备份类型，取值：\n\n* **FullBackup**：全量备份\n* **IncrementalBackup**：增量备份","type":"string","required":false,"example":"FullBackup"}},{"name":"DeletionProtection","in":"query","schema":{"description":"是否开启释放保护功能。取值：\n* **true**：开启\n* **false**（默认）：关闭","type":"boolean","required":false,"example":"true","default":"false"}},{"name":"ServerlessConfig","in":"query","style":"json","schema":{"description":"Serverless选项。仅在需要将数据克隆至Serverless实例时传入。\n\n> 该参数仅支持中国站。","type":"object","properties":{"AutoPause":{"description":"是否开启MySQL Serverless实例的自动启停功能。10分钟无任何连接进入暂停状态，连接进入时会自动唤醒。取值：\n\n- **true**：启用\n- **false**（默认）：不启用\n\n>- 仅MySQL Serverless实例支持该参数。\n>- 该参数仅支持中国站。","type":"boolean","required":false,"example":"true"},"MaxCapacity":{"description":"实例RCU（RDS Capacity Unit）的自动扩缩范围最大值。取值：\n\n- MySQL：**1~8**\n- SQL Server：**2~8**\n- PostgreSQL：**1~12**\n\n>- 该参数的值必须大于等于**MinCapacity**，且仅支持传入**整数**。\n>- 该参数仅支持中国站。","type":"number","format":"double","required":false,"example":"8"},"MinCapacity":{"description":"实例RCU（RDS Capacity Unit）的自动扩缩范围最小值。取值：\n\n- MySQL：**0.5~8**\n- SQL Server：**2~8**（仅支持整数）\n- PostgreSQL：**0.5~12**\n\n>- 该参数的值必须小于等于**MaxCapacity**。\n>- 该参数仅支持中国站。","type":"number","format":"double","required":false,"example":"0.5"},"SwitchForce":{"description":"是否开启MySQL Serverless实例的强制弹性扩缩容。实例RCU的弹性扩缩容通常会立刻生效，但在某些特殊情况下无法即时完成扩缩容，此时可开启本参数进行强制扩缩容。取值：\n\n- **true**：启用\n- **false**（默认）：不启用\n\n>- 仅MySQL Serverless实例支持该参数。\n>- 该参数仅支持中国站。","type":"boolean","required":false,"example":"false"}},"required":false}},{"name":"BpeEnabled","in":"query","schema":{"description":"弃用参数，无需配置。","type":"string","required":false,"example":"0"}},{"name":"IoAccelerationEnabled","in":"query","schema":{"description":"<props=\"china\">是否开启通用云盘IO加速功能，参数取值含义如下：</props>\n\n<props=\"china\"> - 1：开启</props>\n<props=\"china\"> - 0：不开启</props>\n\n<props=\"china\">> 通用云盘的IO加速功能的更多信息，请参见[通用云盘IO加速功能技术介绍](~~2527067~~)。</props>\n<props=\"intl\">预留参数。</props>","type":"string","required":false,"example":"0"}},{"name":"BurstingEnabled","in":"query","schema":{"description":"<props=\"intl\">无效参数，无需配置。</props>\n<props=\"china\">通用云盘IO突发功能开关。</props>\n<props=\"china\">* true：开启IO突发功能。</props>\n<props=\"china\">* false：关闭IO突发功能。</props>\n<props=\"china\">> 了解通用云盘的IO突发功能的更多信息，请参见[什么是通用云盘](~~2340501~~)。</props>","type":"boolean","required":false,"example":"false"}},{"name":"AutoPay","in":"query","schema":{"description":"是否自动支付。\n取值范围：\n\n1. **true**：自动支付。您需要确保账户余额充足。\n\n1. **false**：只生成订单不扣费。\n\n\n\n\n> 默认值为true。如果您的支付方式余额不足，可以将参数AutoPay设置为false，此时会生成未支付订单，您可以登录RDS管理控制台自行支付。\n>","type":"boolean","required":false,"example":"true","default":"true"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"DBInstanceId":{"description":"实例ID。","type":"string","example":"rm-uf6wjk5****"},"RequestId":{"description":"请求ID。","type":"string","example":"1E43AAE0-BEE8-43DA-860D-EAF2****"},"OrderId":{"description":"订单ID。","type":"string","example":"100789370****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidAvZone.Format","errorMessage":"Specified AvZone is not valid."},{"errorCode":"InvalidAvZone.NotSupport","errorMessage":"Specified availableArea multiZone does not support in RDS."},{"errorCode":"CannotDecreaseEssdPerfLevel","errorMessage":"cannot decrease cloud essd performance level."},{"errorCode":"InvalidIPAddress.Conflict","errorMessage":"IP address conflict."},{"errorCode":"CDDC.AvailableHostsNotEnoughInZone","errorMessage":"Not enough available hosts are in the target zone."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidRecoveryDbInstance.StorageType","errorMessage":"The disk local_ssd can not clone to cloud disk type"},{"errorCode":"InvalidRecoveryDbInstance.StorageSize","errorMessage":"The disk space of the new instance cannot be less than that of the current instance"},{"errorCode":"InvalidDBInstanceClass.Offline","errorMessage":"The specified instance type is no longer provided. Please specify another instance type."},{"errorCode":"InvalidTunnelId","errorMessage":"Specified conn tunnel is not valid."},{"errorCode":"ZoneId.NotMatchWithCategory","errorMessage":"The number of available zones does not match the database engine or instance edition. Please reset it."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."},{"errorCode":"SqlExecuteFailedOrTimeout","errorMessage":"sql command execution failed or timed out:%s."},{"errorCode":"ColdData.EngineVersionNotSupport","errorMessage":"The current instance engine version not support coldDataEnabled."},{"errorCode":"ColdData.MinorVersionNotSupport","errorMessage":"The current instance minor version not support coldDataEnabled."},{"errorCode":"IncorrectTargetClasscode","errorMessage":"The current instance type does not support this operation."},{"errorCode":"InvalidConnectionString.Duplicate","errorMessage":"Specified connection string already exists in the RDS."},{"errorCode":"RequiredParam.NotFound","errorMessage":"Required input param is not found."},{"errorCode":"Parameters.Invalid","errorMessage":"Parameter error, please check the parameters."},{"errorCode":"BackupPolicyNotSupport","errorMessage":"Cold Data won't open with CrossBackup or Flash Backup, please check Backup Policy."},{"errorCode":"InvalideStatus.Format","errorMessage":"The instance status does not support this operation."},{"errorCode":"InvalidReleasedKeepPolicy.Format","errorMessage":"Specified Released Keep Policy is not valid."}],"403":[{"errorCode":"IncorrectMinorVersion","errorMessage":"Current engine minor version does not support operations."},{"errorCode":"IncorrectCharacterType","errorMessage":"Current DB instance character type does not support this operation."},{"errorCode":"CloudDiskEncryptionNotSupport","errorMessage":"The encryption key is not allowed for general-purpose instance."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."},{"errorCode":"OperationDenied.ZoneResource","errorMessage":"There is no available zone for inventory."},{"errorCode":"NotInFlowController","errorMessage":"Sorry,no permission."}],"404":[{"errorCode":"InvalidDBInstance.NotFound","errorMessage":"The specified instance does not exist or is not supported."},{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."},{"errorCode":"Request.NotFound","errorMessage":"The requested resource is not available."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."},{"errorCode":"RequestMetaDataFailed","errorMessage":"The service request failed. Please try again later or contact service personnel."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DBInstanceId\\\": \\\"rm-uf6wjk5****\\\",\\n  \\\"RequestId\\\": \\\"1E43AAE0-BEE8-43DA-860D-EAF2****\\\",\\n  \\\"OrderId\\\": \\\"100789370****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CloneDBInstanceResponse>\\n    <DBInstanceId>rm-uf6wjk5xxxxxxx</DBInstanceId>\\n    <RequestId>1E43AAE0-BEE8-43DA-860D-EAF2AA0724DC</RequestId>\\n    <OrderId>100789370****</OrderId>\\n</CloneDBInstanceResponse>\",\"errorExample\":\"\"}]","title":"恢复数据（克隆实例）","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n- RDS MariaDB\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS MySQL恢复数据](~~96147~~)\n- [RDS PostgreSQL恢复数据](~~96776~~)\n- [RDS SQL Server恢复数据](~~95722~~)\n- [RDS MariaDB恢复数据](~~97151~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}