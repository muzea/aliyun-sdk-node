{"summary":"该接口用于跨地域恢复数据到已有实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"要恢复的已有实例ID。","type":"string","required":true,"docRequired":true,"example":"rm-bp****"}},{"name":"RegionId","in":"query","schema":{"description":"目标地域ID，可以通过接口DescribeRegions查看地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCz****"}},{"name":"RestoreType","in":"query","schema":{"description":"恢复方式，取值：\n* **0**：基于备份集恢复，还需要传入参数**BackupId**。\n* **1**：基于时间点恢复，还需要传入参数**RestoreTime**、**SourceRegion**、**SourceDBInstanceName**。\n\n默认值：**0**。","type":"string","required":true,"docRequired":true,"example":"0"}},{"name":"BackupId","in":"query","schema":{"description":"跨地域备份集ID。可以通过接口DescribeCrossRegionBackups查询。\n>**RestoreType**=**0**时需要传入此参数。","type":"string","required":false,"example":"279563"}},{"name":"RestoreTime","in":"query","schema":{"description":"恢复时间点恢复的时间，需要早于当前时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n\n>**RestoreType**=**1**时需要传入此参数。","type":"string","required":false,"example":"2020-04-25T16:00:00Z"}},{"name":"SourceRegion","in":"query","schema":{"description":"基于时间点恢复的来源地域。\n>**RestoreType**=**1**时需要传入此参数。","type":"string","required":false,"example":"cn-beijing"}},{"name":"SourceDBInstanceName","in":"query","schema":{"description":"基于时间点恢复的来源实例ID。\n>**RestoreType**=**1**时需要传入此参数。","type":"string","required":false,"example":"rm-bp****"}},{"name":"TableMeta","in":"query","schema":{"description":"指定恢复的库表。格式：\n```[{\"type\":\"db\",\"name\":\"<数据库1名称>\",\"newname\":\"<新数据库1名称>\",\"tables\":[{\"type\":\"table\",\"name\":\"<数据库1内的表1名称>\",\"newname\":\"<新的表1名称>\"},{\"type\":\"table\",\"name\":\"<数据库1内的表2名称>\",\"newname\":\"<新的表2名称>\"}]},{\"type\":\"db\",\"name\":\"<数据库2名称>\",\"newname\":\"<新数据库2名称>\",\"tables\":[{\"type\":\"table\",\"name\":\"<数据库2内的表3名称>\",\"newname\":\"<新的表3名称>\"},{\"type\":\"table\",\"name\":\"<数据库2内的表4名称>\",\"newname\":\"<新的表4名称>\"}]}]```\n","type":"string","required":true,"docRequired":true,"example":"[{\"type\":\"db\",\"name\":\"testdb1\",\"newname\":\"testdb1\",\"tables\":[{\"type\":\"table\",\"name\":\"test1\",\"newname\":\"test1_backup\"},{\"type\":\"table\",\"name\":\"test2\",\"newname\":\"test2_backup\"}]}]"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmy****"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"75BBF1EF-1E90-4950-BFFB-252D26E8259B"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"rm-uf6wjk5****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidRestoreType.Format","errorMessage":"Specified restore type is not valid."},{"errorCode":"InvalidRestoreTime.Format","errorMessage":"Specified restore time is not valid."},{"errorCode":"InvalidBakset.Invalid","errorMessage":"Specified bakset is not valid."},{"errorCode":"InvalidParamTableMetaForRestore.Content","errorMessage":"new dbname or table in TableMeta cannot be same with old when restore to source instance"},{"errorCode":"InvalidParamTableMeta","errorMessage":"Invalid parameter TableMeta is null or not json format"},{"errorCode":"InvalidBakHistoryDO","errorMessage":"BakHistory is inbalid when check restore TableMeta"},{"errorCode":"InvalidParamTableMeta.Content","errorMessage":"TableMeta missing old dbname or new dbname, please check"},{"errorCode":"InvalidParamTableMeta.Duplicate","errorMessage":"TableMeta has duplicate db or table with other newname, commons or system"},{"errorCode":"InvalidSourceRestoreDBName.NotFound","errorMessage":"specific source restore dbname is not found in db list"},{"errorCode":"InvalidDBName.Duplicate","errorMessage":"Specified DB name already exists in the This instance."},{"errorCode":"InvalidParameters.Format","errorMessage":"Specified parameters is not valid."},{"errorCode":"InvalidAvZone.Format","errorMessage":"Specified AvZone is not valid."},{"errorCode":"InvalidRegion.Format","errorMessage":"Specified Region is not valid."},{"errorCode":"InvalidVpcParameter","errorMessage":"Specified VPCId VSwitchId or IPAddress or TunnelId is not valid."},{"errorCode":"MissingUserID","errorMessage":"The request is missing a user_id parameter."},{"errorCode":"MissingUID","errorMessage":"The request is missing a uid parameter."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."}],"403":[{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance type does not support this operation."},{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."},{"errorCode":"ChildDBInstanceExists","errorMessage":"Current DB instance had child instance."},{"errorCode":"InvalidBackupLogStatus","errorMessage":"Current backup log enable status does not support this operation."},{"errorCode":"IncorrectBackupSetMethod","errorMessage":"Current backup set method does not support operations."},{"errorCode":"IncorrectBackupSetState","errorMessage":"Current backup set state does not support operations."}],"404":[{"errorCode":"RestoreType.NotFound","errorMessage":"RestoreType is not found."},{"errorCode":"InvalidBackupSetID.NotFound","errorMessage":"Specified backup set ID does not exist."},{"errorCode":"InsufficientResourceCapacity","errorMessage":"There is insufficient capacity available for the requested instance."},{"errorCode":"InvalidBackup.NotFound","errorMessage":"The available backup does not exist in recovery time."},{"errorCode":"InvalidBinlog.NotFound","errorMessage":"The available binlog does not exist in recovery time."},{"errorCode":"InvalidDB.NotFound","errorMessage":"Specified db does not exist or DB status does not support."},{"errorCode":"InvalidDBInstance.NotFound","errorMessage":"Specified instance does not exist or not support."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"75BBF1EF-1E90-4950-BFFB-252D26E8259B\\\",\\n  \\\"DBInstanceId\\\": \\\"rm-uf6wjk5****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RestoreDdrTableResponse>\\r\\n<RequestId>75BBF1EF-1E90-4950-BFFB-252D26E8259B</RequestId>\\r\\n</RestoreDdrTableResponse>\",\"errorExample\":\"\"}]","title":"跨地域恢复数据到已有实例","description":"> 恢复前可以调用CheckCreateDdrDBInstance接口预检查某RDS实例是否可以用跨地域备份集进行跨地域恢复。\n\n### 适用引擎\nRDS MySQL\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS MySQL跨地域备份](~~120824~~)\n- [RDS MySQL跨地域恢复](~~120875~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}