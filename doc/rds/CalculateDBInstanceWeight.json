{"summary":"该接口用于查询系统权重分配值。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"主实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C816A4BF-A6EC-4722-95F9-2055859CCFD2"},"Items":{"type":"object","properties":{"DBInstanceWeight":{"description":"系统指定权重列表。","type":"array","items":{"description":"系统指定权重详情。","type":"object","properties":{"ReadonlyInstanceSQLDelayedTime":{"description":"只读实例延迟复制时间，只读实例延迟**ReadonlyInstanceSQLDelayedTime**的时间后再同步主实例数据，单位：秒。","type":"string","example":"30"},"Weight":{"description":"系统实时计算的实例权重。","type":"string","example":"100"},"DBInstanceType":{"description":"实例类型，取值：\n* **Master**：主实例\n* **Readonly**：只读实例","type":"string","example":"Master"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"rm-uf6wjk5xxxxxxx"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."}],"403":[{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance engine and type does not support operations."},{"errorCode":"IncorrectDBInstanceConnType","errorMessage":"Current DB instance conn type does not support this operation."},{"errorCode":"IncorrectDBType","errorMessage":"The current DB type does not support this operation."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"Invalid DBInstanceId NotFound."},{"errorCode":"IncorrectDBInstanceLockMode","errorMessage":"Current DB instance lock mode does not support this operation."},{"errorCode":"InvalidDBInstanceClass.NotFound","errorMessage":"Specified DB instance class is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C816A4BF-A6EC-4722-95F9-2055859CCFD2\\\",\\n  \\\"Items\\\": {\\n    \\\"DBInstanceWeight\\\": [\\n      {\\n        \\\"ReadonlyInstanceSQLDelayedTime\\\": \\\"30\\\",\\n        \\\"Weight\\\": \\\"100\\\",\\n        \\\"DBInstanceType\\\": \\\"Master\\\",\\n        \\\"DBInstanceId\\\": \\\"rm-uf6wjk5xxxxxxx\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CalculateDBInstanceWeightResponse>\\n    <RequestId>4139E1C3-0480-5A50-B327-23E6B1028906</RequestId>\\n    <Items>\\n        <DBInstanceWeight>\\n            <Role>master</Role>\\n            <DBInstanceId>******</DBInstanceId>\\n            <DBInstanceType>Readonly</DBInstanceType>\\n            <Weight>400</Weight>\\n        </DBInstanceWeight>\\n        <DBInstanceWeight>\\n            <Role>master</Role>\\n            <DBInstanceId>******</DBInstanceId>\\n            <DBInstanceType>Master</DBInstanceType>\\n            <Weight>0</Weight>\\n        </DBInstanceWeight>\\n        <DBInstanceWeight>\\n            <Role>slave</Role>\\n            <DBInstanceId>******</DBInstanceId>\\n            <DBInstanceType>Master</DBInstanceType>\\n            <Weight>1600</Weight>\\n        </DBInstanceWeight>\\n    </Items>\\n</CalculateDBInstanceWeightResponse>\",\"errorExample\":\"\"}]","title":"查询系统权重分配值","description":"### 适用引擎\n\n- RDS MySQL\n- RDS SQL Server\n\n### 功能描述\n在开启[读写分离](~~51073~~)的情况下，该接口用于计算系统指定的权重。如果是自定义读权重，请参见[DescribeDBInstanceNetInfo](~~610423~~)。\n\n### 前体条件\n调用该接口时，实例必须满足以下条件，否则将操作失败：\n* MySQL实例使用的是共享代理。\n* 实例为如下版本：\n    * MySQL 5.7高可用版（本地SSD盘）\n    * MySQL 5.6\n    * SQL Server集群版","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}