{"summary":"该接口用于查询RDS实例的备份设置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****"}},{"name":"BackupPolicyMode","in":"query","schema":{"description":"备份类型，取值：\n* **DataBackupPolicy**：数据备份\n* **LogBackupPolicy**：日志备份","type":"string","required":false,"example":"DataBackupPolicy"}},{"name":"CompressType","in":"query","schema":{"description":"备份压缩方式，取值：\n* **0**：不压缩\n* **1**：zlib压缩\n* **2**：并行zlib压缩\n* **4**：quicklz压缩，开启了库表恢复\n* **8**：quicklz压缩但还未支持库表恢复","type":"string","required":false,"example":"1"}},{"name":"ReleasedKeepPolicy","in":"query","schema":{"description":"已删除实例的归档备份保留策略。取值：\n\n* **None**：不保留\n* **Lastest**：保留最后一个\n* **All**：全部保留\n","type":"string","required":false,"example":"Lastest"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"LogBackupRetentionPeriod":{"description":"日志备份保留天数。","type":"integer","format":"int32","example":"7"},"ArchiveBackupKeepPolicy":{"description":"归档备份的保留周期。","type":"string","example":"ByMonth"},"ArchiveBackupKeepCount":{"description":"归档备份的保留个数。","type":"string","example":"1"},"LocalLogRetentionHours":{"description":"本地日志备份保留小时数。","type":"integer","format":"int32","example":"0"},"BackupRetentionPeriod":{"description":"数据备份保留天数。","type":"integer","format":"int32","example":"7"},"RequestId":{"description":"请求ID。","type":"string","example":"B87E2AB3-B7C9-4394-9160-7F639F732031"},"PreferredBackupPeriod":{"description":"数据备份周期，多个取值用英文逗号（,）隔开。返回值：\n* **Monday**：周一\n* **Tuesday**：周二\n* **Wednesday**：周三\n* **Thursday**：周四\n* **Friday**：周五\n* **Saturday**：周六\n* **Sunday**：周日","type":"string","example":"Monday,Wednesday,Friday,Sunday"},"CompressType":{"description":"备份压缩方式。返回值：\n* **0**：不压缩\n* **1**：zlib压缩\n* **2**：并行zlib压缩\n* **4**：quicklz压缩，开启了库表恢复\n* **8**：quicklz压缩但还未支持库表恢复","type":"string","example":"1"},"SupportReleasedKeep":{"description":"备用参数。","type":"integer","format":"int32","example":"0"},"LocalLogRetentionSpace":{"description":"本地日志最大空间使用率。","type":"string","example":"30"},"SupportVolumeShadowCopy":{"description":"实例是否支持快照备份。返回值：\n\n- **1**：是\n- **0**：否\n\n> 仅SQL Server实例会返回本参数。","type":"integer","format":"int32","example":"1"},"BackupMethod":{"description":"实例的备份方式。返回值：\n* **Physical**：物理备份\n* **Snapshot**：快照备份\n\n> 仅SQL Server云盘版实例会返回本参数。","type":"string","example":"Physical"},"LogBackupFrequency":{"description":"日志备份频率。返回值：\n\n* **LogInterval**：每30分钟备份一次；\n* 默认与数据备份周期**PreferredBackupPeriod**一致。\n\n> 仅SQL Server实例会返回本参数。","type":"string","example":"LogInterval"},"PreferredNextBackupTime":{"description":"下次备份时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。","type":"string","example":"2018-01-19T15:15Z"},"HighSpaceUsageProtection":{"description":"实例使用空间大于80%，或者剩余空间小于5 GB时，是否强制清理Binlog：\n\n* **Disable**：不清理\n* **Enable**：清理","type":"string","example":"Enable"},"ArchiveBackupRetentionPeriod":{"description":"归档备份的保留天数。","type":"string","example":"365"},"BackupInterval":{"description":"备份间隔，单位：分钟。\n* 对于MySQL实例是指[快照备份频率](~~98818~~)（非快照备份周期）。\n* 对于SQL Server实例是指日志备份频率。\n","type":"string","example":"30"},"ReleasedKeepPolicy":{"description":"已删除实例的归档备份保留策略。返回值：\n* **None**：不保留\n* **Lastest**：保留最后一个\n* **All**：全部保留","type":"string","example":"None"},"PreferredBackupTime":{"description":"数据备份时间，格式：<i>HH:mm</i>Z-<i>HH:mm</i>Z（UTC时间）。","type":"string","example":"15:00Z-16:00Z"},"LogBackupLocalRetentionNumber":{"description":"本地Binlog保留个数。","type":"integer","format":"int32","example":"60"},"Category":{"description":"是否开启秒级备份。返回值：\n\n- **Flash**：开启\n- **Standard**：关闭\n\n> 仅在**BackupPolicyMode**参数为**DataBackupPolicy**时生效。","type":"string","example":"Standard"},"EnableBackupLog":{"description":"是否开启日志备份。返回值：\n* **1**：开启\n* **0**：关闭","type":"string","example":"1"},"BackupLog":{"description":"是否已开启日志备份。返回值：\n* **Enable**：是\n* **Disabled**：否","type":"string","example":"Enable"},"EnableIncrementDataBackup":{"description":"是否已开启增量备份。返回值：\n* **True**：是\n* **False**：否","type":"boolean","example":"True"},"SupportModifyBackupPriority":{"description":"是否支持修改备库备份选项。返回值：\n\n- **True**：是\n- **False**：否","type":"boolean","example":"False"},"BackupPriority":{"description":"备库备份的设置。返回值：\n- **1**：优先备库\n- **2**：强制主库\n\n> 该参数仅适用于SQL Server企业集群版实例，仅当SupportModifyBackupPriority为True时返回该参数。","type":"integer","format":"int32","example":"2"},"EnablePitrProtection":{"description":"是否已开启PITR任意时间点恢复（原日志备份的升级版）。返回值：\n- **True**：是\n- **False**：否\n\n> 仅MySQL实例会返回本参数。功能详情，请参见[设置任意时间点恢复策略](~~2666046~~)。","type":"boolean","example":"True"},"PitrRetentionPeriod":{"description":"可任意时间点恢复天数。","type":"integer","format":"int32","example":"7"}}}}},"errorCodes":{"400":[{"errorCode":"IO.Exception","errorMessage":"IO exception, retry later."},{"errorCode":"InternalFailure","errorMessage":"Internal failure, retry later."},{"errorCode":"InvalidParameter.OwnerAccount","errorMessage":"The specified parameter OwnerAccount is not valid."},{"errorCode":"InvalidEngine.Malformed","errorMessage":"Specified engine is not valid."}],"403":[{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."}],"404":[{"errorCode":"InvalidDBInstance.NotFound","errorMessage":"Specified instance does not exist or not support."},{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"Invalid DBInstanceId NotFound."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"LogBackupRetentionPeriod\\\": 7,\\n  \\\"ArchiveBackupKeepPolicy\\\": \\\"ByMonth\\\",\\n  \\\"ArchiveBackupKeepCount\\\": \\\"1\\\",\\n  \\\"LocalLogRetentionHours\\\": 0,\\n  \\\"BackupRetentionPeriod\\\": 7,\\n  \\\"RequestId\\\": \\\"B87E2AB3-B7C9-4394-9160-7F639F732031\\\",\\n  \\\"PreferredBackupPeriod\\\": \\\"Monday,Wednesday,Friday,Sunday\\\",\\n  \\\"CompressType\\\": \\\"1\\\",\\n  \\\"SupportReleasedKeep\\\": 0,\\n  \\\"LocalLogRetentionSpace\\\": \\\"30\\\",\\n  \\\"SupportVolumeShadowCopy\\\": 1,\\n  \\\"BackupMethod\\\": \\\"Physical\\\",\\n  \\\"LogBackupFrequency\\\": \\\"LogInterval\\\",\\n  \\\"PreferredNextBackupTime\\\": \\\"2018-01-19T15:15Z\\\",\\n  \\\"HighSpaceUsageProtection\\\": \\\"Enable\\\",\\n  \\\"ArchiveBackupRetentionPeriod\\\": \\\"365\\\",\\n  \\\"BackupInterval\\\": \\\"30\\\",\\n  \\\"ReleasedKeepPolicy\\\": \\\"None\\\",\\n  \\\"PreferredBackupTime\\\": \\\"15:00Z-16:00Z\\\",\\n  \\\"LogBackupLocalRetentionNumber\\\": 60,\\n  \\\"Category\\\": \\\"Standard\\\",\\n  \\\"EnableBackupLog\\\": \\\"1\\\",\\n  \\\"BackupLog\\\": \\\"Enable\\\",\\n  \\\"EnableIncrementDataBackup\\\": true,\\n  \\\"SupportModifyBackupPriority\\\": true,\\n  \\\"BackupPriority\\\": 2,\\n  \\\"EnablePitrProtection\\\": true,\\n  \\\"PitrRetentionPeriod\\\": 7\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeBackupPolicyResponse>\\n<Category>Standard</Category>\\n<ArchiveBackupRetentionPeriod>0</ArchiveBackupRetentionPeriod>\\n<RequestId>292884FE-D689-47A2-9829-C05E63366201</RequestId>\\n<Duplication/>\\n<ReleasedKeepPolicy>None</ReleasedKeepPolicy>\\n<ArchiveBackupKeepPolicy>ByMonth</ArchiveBackupKeepPolicy>\\n<PreferredBackupTime>00:00Z-01:00Z</PreferredBackupTime>\\n<LocalLogRetentionHours>18</LocalLogRetentionHours>\\n<PreferredNextBackupTime>2021-01-07T00:40Z</PreferredNextBackupTime>\\n<HighSpaceUsageProtection>Enable</HighSpaceUsageProtection>\\n<CompressType>1</CompressType>\\n<LogBackupFrequency>LogInterval</LogBackupFrequency>\\n<PreferredBackupPeriod>Tuesday,Thursday,Saturday</PreferredBackupPeriod>\\n<ArchiveBackupKeepCount>1</ArchiveBackupKeepCount>\\n<LogBackupRetentionPeriod>7</LogBackupRetentionPeriod>\\n<LogBackupLocalRetentionNumber>60</LogBackupLocalRetentionNumber>\\n<BackupLog>Enable</BackupLog>\\n<EnableBackupLog>1</EnableBackupLog>\\n<SupportReleasedKeep>0</SupportReleasedKeep>\\n<SupportVolumeShadowCopy>1</SupportVolumeShadowCopy>\\n<LocalLogRetentionSpace>30</LocalLogRetentionSpace>\\n<BackupRetentionPeriod>10</BackupRetentionPeriod>\\n<DuplicationContent/>\\n<BackupInterval>30</BackupInterval>\\n</DescribeBackupPolicyResponse>\",\"errorExample\":\"\"}]","title":"查看实例备份设置","description":"### 适用引擎\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n- RDS MariaDB","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}