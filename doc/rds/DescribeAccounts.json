{"summary":"该接口用于查询RDS实例的账号信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。\n>暂不支持SQL Server 2017集群系列实例。","type":"string","required":true,"docRequired":true,"example":"rm-bp1v6z81ho9******"}},{"name":"AccountName","in":"query","schema":{"description":"数据库账号名称。","type":"string","required":false,"example":"zhttest"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：**30~200**。默认值：**30**。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"30","default":"500"}},{"name":"PageNumber","in":"query","schema":{"description":"页码。默认值：**1**。取值为大于0且不超过Integer的最大值。\n\n","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"0","example":"1","default":"1"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"SystemAdminAccountStatus":{"description":"超级权限账号是否启用，返回值如下：\n\n- **True**：已启用\n- **False**：未启用\n\n\n> 仅SQL Server实例支持[超级权限账号](~~170736~~)，该参数有返回值。其他引擎实例的返回值为空。","type":"string","example":"True"},"SystemAdminAccountFirstActivationTime":{"description":"超级权限账号首次启用时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n\n> 仅SQL Server实例返回该参数。","type":"string","example":"2023-10-17T07:51:22Z"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"17F2EA6C-3CA2-528D-A263-DC29707AD652"},"TotalRecordCount":{"description":"总记录数。","type":"integer","format":"int32","example":"3"},"Accounts":{"type":"object","properties":{"DBInstanceAccount":{"description":"账号信息列表。","type":"array","items":{"description":"账号详情如下。","type":"object","properties":{"AccountStatus":{"description":"账号状态，返回值如下：\n* **Unavailable**：不可用\n* **Available**：可用","type":"string","example":"Available"},"AccountDescription":{"description":"账号描述。","type":"string","example":"测试数据库账号"},"DBInstanceId":{"description":"账号所属实例ID。","type":"string","example":"rm-bp1v6z81ho9******"},"PrivExceeded":{"title":"","description":"账号管理的数据库是否超过最大数量限制，返回值如下：\n* **1**：是\n* **0**：否","type":"string","example":"0"},"AccountType":{"description":"账号类型，返回值如下：\n\n- **Normal**：普通账号\n- **Super**：高权限账号\n- **Sysadmin**：具备超级权限（SA）的账号（仅SQL Server支持）","type":"string","example":"Normal"},"AccountName":{"title":"","description":"数据库账号名称。","type":"string","example":"test1"},"DatabasePrivileges":{"type":"object","properties":{"DatabasePrivilege":{"description":"账号拥有的数据库权限列表。","type":"array","items":{"description":"账号拥有的数据库权限详情。","type":"object","properties":{"DBName":{"description":"数据库名称。","type":"string","example":"test1"},"AccountPrivilege":{"description":"账号的权限类型，返回值如下：\n* **ReadWrite**：读写\n* **ReadOnly**：只读\n* **DDLOnly**：仅DDL\n* **DMLOnly**：只DML\n* **Custom**：自定义（可以通过SQL命令修改）","type":"string","example":"ReadWrite"},"AccountPrivilegeDetail":{"description":"账号权限类型对应的具体权限。请参见[账号权限列表](~~146395~~)。","type":"string","example":"SELECT,INSERT"}}}}}},"ValidUntil":{"title":"","description":"密码失效时间，返回值如下：\n\n- **infinity**：永不过期。\n- 返回为**空**：未设置。\n- 返回**实际密码失效时间**。例如：2022-10-01T00:00:00Z，格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）\n\n> 仅PostgreSQL实例返回该参数。","type":"string","example":"2022-10-01T00:00:00Z"},"CreateDB":{"description":"是否拥有创建数据库权限，返回值如下：\n\n- **t**：是\n- **f**：否\n\n> 仅PostgreSQL实例返回该参数。","type":"string","example":"t"},"Replication":{"description":"是否拥有复制权限，返回值如下：\n\n- **t**：是\n- **f**：否\n\n> 仅PostgreSQL实例返回该参数。","type":"string","example":"t"},"CreateRole":{"description":"是否拥有创建角色权限，返回值如下：\n\n- **t**：是\n- **f**：否\n\n> 仅PostgreSQL实例返回该参数。","type":"string","example":"t"},"BypassRLS":{"description":"是否拥有安全策略RLS权限，返回值如下：\n\n- **t**：是\n- **f**：否\n\n> 仅PostgreSQL实例返回该参数。","type":"string","example":"f"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"%s","errorMessage":"DB Operation Failed:%s."},{"errorCode":"IO.Exception","errorMessage":"IO exception, retry later."},{"errorCode":"Database.ConnectError","errorMessage":"Database connect error. please check instance status and database processlist"},{"errorCode":"InvalidDBInstanceStatus.NotSupport","errorMessage":"The Specified instance status is not supported to query account list."},{"errorCode":"InvalidEngine.Malformed","errorMessage":"Specified engine is not valid."},{"errorCode":"Account.QueryError","errorMessage":"Query Account failed, please check your input value."},{"errorCode":"SqlExcutionFailed","errorMessage":"Database is already open and can only have one user at a time."},{"errorCode":"SqlExecuteFailedOrTimeout","errorMessage":"sql command execution failed or timed out:%s."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."}],"403":[{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The database instance does not exist."},{"errorCode":"IncorrectDBInstanceLockMode","errorMessage":"Current DB instance lock mode does not support this operation."},{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."}],"408":[{"errorCode":"NetworkOrSqlTimeoutError","errorMessage":"Failed to create login due to potential SQL Server overload or other issues that may cause the login creation fail. Please retry later."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SystemAdminAccountStatus\\\": \\\"True\\\",\\n  \\\"SystemAdminAccountFirstActivationTime\\\": \\\"2023-10-17T07:51:22Z\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"RequestId\\\": \\\"17F2EA6C-3CA2-528D-A263-DC29707AD652\\\",\\n  \\\"TotalRecordCount\\\": 3,\\n  \\\"Accounts\\\": {\\n    \\\"DBInstanceAccount\\\": [\\n      {\\n        \\\"AccountStatus\\\": \\\"Available\\\",\\n        \\\"AccountDescription\\\": \\\"测试数据库账号\\\",\\n        \\\"DBInstanceId\\\": \\\"rm-bp1v6z81ho9******\\\",\\n        \\\"PrivExceeded\\\": \\\"0\\\",\\n        \\\"AccountType\\\": \\\"Normal\\\",\\n        \\\"AccountName\\\": \\\"test1\\\",\\n        \\\"DatabasePrivileges\\\": {\\n          \\\"DatabasePrivilege\\\": [\\n            {\\n              \\\"DBName\\\": \\\"test1\\\",\\n              \\\"AccountPrivilege\\\": \\\"ReadWrite\\\",\\n              \\\"AccountPrivilegeDetail\\\": \\\"SELECT,INSERT\\\"\\n            }\\n          ]\\n        },\\n        \\\"ValidUntil\\\": \\\"2022-10-01T00:00:00Z\\\",\\n        \\\"CreateDB\\\": \\\"t\\\",\\n        \\\"Replication\\\": \\\"t\\\",\\n        \\\"CreateRole\\\": \\\"t\\\",\\n        \\\"BypassRLS\\\": \\\"f\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeAccountsResponse>\\n    <Accounts>\\n        <DBInstanceAccount>\\n            <DatabasePrivileges>\\n                <DatabasePrivilege>\\n                    <AccountPrivilege>ReadWrite</AccountPrivilege>\\n                    <AccountPrivilegeDetail>SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,REFERENCES,INDEX,ALTER,CREATE TEMPORARY TABLES,LOCK TABLES,CREATE VIEW,SHOW VIEW,CREATE ROUTINE,ALTER ROUTINE,EXECUTE,EVENT,TRIGGER</AccountPrivilegeDetail>\\n                    <DBName>testdb</DBName>\\n                </DatabasePrivilege>\\n            </DatabasePrivileges>\\n            <AccountStatus>Available</AccountStatus>\\n            <AccountDescription/>\\n            <DBInstanceId>rm-uf6wjk5*****</DBInstanceId>\\n            <AccountName>testacc02</AccountName>\\n            <PrivExceeded>0</PrivExceeded>\\n            <AccountType>Normal</AccountType>\\n        </DBInstanceAccount>\\n    </Accounts>\\n    <RequestId>A2E94301-D07F-4457-9B49-6AA2BB388C85</RequestId>\\n</DescribeAccountsResponse>\",\"errorExample\":\"\"}]","title":"查询数据库账号信息","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n- RDS MariaDB","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}