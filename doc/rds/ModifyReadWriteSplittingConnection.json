{"summary":"该接口用于修改读写分离链路的延迟阈值和各个实例的读权重。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"主实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****"}},{"name":"ConnectionStringPrefix","in":"query","schema":{"description":"读写分离地址前缀名，不可重复，由小写字母和中划线组成，需以字母开头，长度不超过30个字符。\n>默认以“实例名+rw”字符串组成前缀。","type":"string","required":false,"example":"rm-m5****rw.mysql.rds.aliyuncs.com"}},{"name":"Port","in":"query","schema":{"description":"读写分离地址端口号。","type":"string","required":false,"example":"3306"}},{"name":"MaxDelayTime","in":"query","schema":{"description":"延迟阈值，单位为秒。当只读实例延迟时间超过该阈值时，读取流量不发往该实例。不传该参数则保持原值。\n\n> * 参数**MaxDelayTime**不适用于SQL Server 2017集群版实例。\n> * 至少传入**MaxDelayTime**或**DistributionType**中的一个。","type":"string","required":false,"example":"12"}},{"name":"DistributionType","in":"query","schema":{"description":"读权重分配模式，取值：\n* **Standard**：按规格权重自动分配\n* **Custom**：自定义分配权重\n\n>至少传入**MaxDelayTime**或**DistributionType**中的一个。","type":"string","required":false,"example":"Standard"}},{"name":"Weight","in":"query","schema":{"description":"读权重分配，即传入主实例和只读实例的读请求权重。以100递增，最大值为10000。\n* RDS实例格式：`{\"<只读实例ID>\":<权重>,\"master\":<权重>,\"slave\":<权重>}`\n* MyBASE实例格式：`[{\"instanceName\":\"<主实例ID>\",\"weight\":<权重>,\"role\":\"master\"},{\"instanceName\":\"<主实例ID>\",\"weight\":<权重>,\"role\":\"slave\"},{\"instanceName\":\"<只读实例ID>\",\"weight\":<权重>,\"role\":\"master\"}]`\n\n> * 当**DistributionType**为**Custom**时，必须传入该参数。\n> * 当**DisrtibutionType**为**Standard**时，传入该参数无效。","type":"string","required":false,"example":"{\n      \"rm-bp1****\": 800,\n      \"master\": 400,\n      \"slave\": 400\n}"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5A77D650-27A1-4E08-AD9E-59008EDB6927"}}}}},"errorCodes":{"400":[{"errorCode":"ReadUniformNetTypeNotExists","errorMessage":"The specified uniform read only network type does not exist."},{"errorCode":"ReadDBInstance.NotFound","errorMessage":"The Current DB Instance has not read-only instance."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."}],"403":[{"errorCode":"ReadDBInstance.NotFound","errorMessage":"The current database instance does not contain any read only instance."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5A77D650-27A1-4E08-AD9E-59008EDB6927\\\"\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"7463B73D-35CC-4D19-A010-6B8D65D242EF\\\",\\n    \\\"HostId\\\": \\\"rds.aliyuncs.com\\\",\\n    \\\"Code\\\": \\\"UnsupportedOperation\\\",\\n    \\\"Message\\\": \\\"The specified action is not supported.\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<ModifyReadWriteSplittingConnectionResponse>\\n\\t<RequestID>5A77D650-27A1-4E08-AD9E-59008EDB6927</RequestID>\\n</ModifyReadWriteSplittingConnectionResponse>\\n\\t\\n\",\"errorExample\":\"\"}]","title":"修改读写分离链路的延迟阈值和各个实例的读权重","description":"### 适用引擎\n\n- RDS MySQL\n- RDS SQL Server\n\n### 前提条件\n调用该接口时，实例必须满足以下条件，否则将操作失败：\n* MySQL实例使用的是共享代理。\n* MySQL实例已开通读写分离。\n* 实例为如下版本：\n    * MySQL 5.7高可用系列（本地SSD盘）\n    * MySQL 5.6\n    * SQL Server集群系列","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}