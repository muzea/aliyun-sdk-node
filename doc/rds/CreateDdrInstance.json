{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目标地域ID，可以通过接口DescribeRegions查看地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Engine","in":"query","schema":{"description":"目标数据库类型，取值：\n* **MySQL**\n* **SQLServer**\n* **PostgreSQL**","type":"string","required":true,"docRequired":true,"example":"MySQL"}},{"name":"EngineVersion","in":"query","schema":{"description":"目标数据库版本。根据**Engine**参数取值的不同，本参数取值如下：\n* MySQL：**5.5/5.6/5.7/8.0**\n* SQL Server：**2008r2/08r2_ent_ha/2012/2012_ent_ha/2012_std_ha/2012_web/2014_std_ha/2016_ent_ha/2016_std_ha/2016_web/2017_std_ha/2017_ent/2019_std_ha/2019_ent**\n* PostgreSQL：**9.4/10.0/11.0/12.0/13.0**","type":"string","required":true,"docRequired":true,"example":"5.6"}},{"name":"DBInstanceClass","in":"query","schema":{"description":"目标实例规格，详见[实例规格表](~~26312~~)。","type":"string","required":true,"docRequired":true,"example":"rds.mysql.s1.small"}},{"name":"DBInstanceStorage","in":"query","schema":{"description":"目标实例存储空间，取值：**5~2000**。\n每5G进行递增，单位：GB。详见[实例规格表](~~26312~~)。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"20"}},{"name":"SystemDBCharset","in":"query","schema":{"description":"目标实例的字符集，取值：\n* **utf8**\n* **gbk**\n* **latin1**\n* **utf8mb4**","type":"string","required":false,"example":"uft8"}},{"name":"DBInstanceNetType","in":"query","schema":{"description":"目标实例的网络连接类型，取值：\n* **Internet**：公网连接\n* **Intranet**：内网连接","type":"string","required":true,"docRequired":true,"example":"Intranet"}},{"name":"DBInstanceDescription","in":"query","schema":{"description":"目标实例名称，长度为2~256个字符。以中文、英文字母开头，可以包含数字、中文、英文、下划线（_）、短横线（-）。\n>不能以 http:// 和 https:// 开头。","type":"string","required":false,"example":"testdb"}},{"name":"SecurityIPList","in":"query","schema":{"description":"目标实例的[IP白名单](~~43185~~)，多个IP地址请以半角逗号（,）隔开，不可重复，最多1000个。支持如下两种格式：\n* IP地址形式，例如：10.23.12.24。\n* CIDR形式，例如：10.23.12.24/24（无类域间路由，24表示了地址中前缀的长度，范围为1~32）。","type":"string","required":true,"docRequired":true,"example":"127.0.0.1"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCz****"}},{"name":"PayType","in":"query","schema":{"description":"目标实例的付费类型，取值：\n* **Postpaid**：后付费（按量付费）\n* **Prepaid**：预付费（包年包月）","type":"string","required":true,"docRequired":true,"example":"Prepaid"}},{"name":"ZoneId","in":"query","schema":{"description":"目标实例的可用区ID。多可用区用英文冒号（:）分隔。\n\n> 指定了VPC和交换机时，为匹配交换机对应的可用区，该参数必填。","type":"string","required":false,"example":"cn-hangzhou-b"}},{"name":"InstanceNetworkType","in":"query","schema":{"description":"目标实例的网络类型，取值：\n\n* **VPC**：VPC网络\n* **Classic**：经典网络\n\n默认创建经典网络类型的实例。\n>当本参数值为**VPC**时，还需要传入参数**VpcId**、**VSwitchId**。\n","type":"string","required":false,"example":"Classic"}},{"name":"ConnectionMode","in":"query","schema":{"description":"目标实例的访问模式，取值：\n* **Standard**：标准访问模式\n* **Safe**：数据库代理模式\n\n默认值：**Standard**。","type":"string","required":false,"example":"Standard"}},{"name":"VPCId","in":"query","schema":{"description":"目标实例的VPC ID。当**InstanceNetworkType**=**VPC**时，本参数可用。\n>如果传入此参数，您还需要传入参数**ZoneId**。","type":"string","required":false,"example":"vpc-****"}},{"name":"VSwitchId","in":"query","schema":{"description":"目标实例的虚拟交换机ID，多个值用半角逗号（,）隔开。当**InstanceNetworkType**=**VPC**时，本参数可用。\n>如果传入此参数，您还需要传入参数**ZoneId**。","type":"string","required":false,"example":"vsw-****"}},{"name":"PrivateIpAddress","in":"query","schema":{"description":"设置目标实例的内网IP，需要在指定交换机的IP地址范围内。系统默认通过**VPCId**和**VSwitchId**自动分配。","type":"string","required":false,"example":"172.XX.XX.69"}},{"name":"UsedTime","in":"query","schema":{"description":"指定购买时长，取值：\n* 当参数**Period**为**Year**时，UsedTime取值为**1~3**。\n* 当参数**Period**为**Month**时，UsedTime取值为**1~9**。\n\n> 若付费类型为**Prepaid**则该参数必须传入。","type":"string","required":false,"example":"2"}},{"name":"Period","in":"query","schema":{"description":"指定预付费目标实例为包年或者包月类型，取值：\n* **Year**：包年\n* **Month**：包月\n\n> 若付费类型为**Prepaid**则该参数必须传入。","type":"string","required":false,"example":"Year"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmy****"}},{"name":"RestoreType","in":"query","schema":{"description":"恢复方式，取值：\n* **BackupSet**：基于备份集恢复，您还需要传入参数**BackupSetId**。\n* **BackupTime**：基于时间点恢复，您还需要传入参数**RestoreTime**、**SourceRegion**、**SourceDBInstanceName**。","type":"string","required":true,"docRequired":true,"enumValueTitles":{},"example":"BackupSet","enum":["BackupSet","BackupTime","0","1"]}},{"name":"BackupSetId","in":"query","schema":{"description":"基于备份集恢复时，使用的备份集的ID。可以通过接口DescribeCrossRegionBackups查看备份集ID。\n>**RestoreType**=**BackupSet**时必传。","type":"string","required":false,"example":"14****"}},{"name":"RestoreTime","in":"query","schema":{"description":"基于时间点恢复时，要恢复的时间节点，需要早于当前时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>**RestoreType**=**BackupTime**时必传 。","type":"string","required":false,"example":"2019-05-30T03:29:10Z"}},{"name":"SourceRegion","in":"query","schema":{"description":"基于时间点恢复时，源地域的ID。\n>**RestoreType**=**BackupTime**时必传。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SourceDBInstanceName","in":"query","schema":{"description":"基于时间点恢复时，源实例的ID。\n>**RestoreType**=**BackupTime**时必传。","type":"string","required":false,"example":"rm-uf6wjk5****"}},{"name":"DBInstanceStorageType","in":"query","schema":{"description":"目标实例存储类型，当前仅支持SSD本地盘，默认值：**local_ssd**。","type":"string","required":false,"example":"local_ssd"}}],"responses":{"200":{"headers":{},"schema":{"description":"返回参数详情。","type":"object","properties":{"DBInstanceId":{"description":"新实例ID。","type":"string","example":"rm-****"},"RequestId":{"description":"请求ID。","type":"string","example":"E52666CC-330E-418A-8E5B-A19E3FB42D13"},"Port":{"description":"新实例连接端口。\n>参数**DBInstanceNetType**决定该端口为内网端口或外网端口。","type":"string","example":"3306"},"ConnectionString":{"description":"新实例连接地址。\n>参数**DBInstanceNetType**决定该地址为内网或外网。","type":"string","example":"rm-****.mysql.rds.aliyuncs.com"},"OrderId":{"description":"订单ID。","type":"string","example":"2038691****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidZoneId.NotSupported","errorMessage":"The Specified vpc Zone not supported."},{"errorCode":"InvalidDBInstanceName.Format","errorMessage":"Specified DB instance name is not valid."},{"errorCode":"InvalidDBInstanceName.Duplicate","errorMessage":"Specified DB instance name already exists in the Aliyun RDS."},{"errorCode":"InvalidRegion.Format","errorMessage":"Specified Region is not valid."},{"errorCode":"InvalidServiceType.Format","errorMessage":"Specified service type is not valid."},{"errorCode":"InvalidEngine.Malformed","errorMessage":"Specified engine is not valid."},{"errorCode":"InvalidEngineVersion.Malformed","errorMessage":"Specified engine version is not valid."},{"errorCode":"InvalidConnectionString.Format","errorMessage":"Specified connection string is not valid."},{"errorCode":"InvalidConnectionString.Duplicate","errorMessage":"Specified connection string already exists in the Aliyun RDS."},{"errorCode":"InvalidCharacterSetName.Format","errorMessage":"Specified character set name is not valid."},{"errorCode":"InvalidDBInstanceType.Format","errorMessage":"Specified instance type is not valid."},{"errorCode":"InvalidPort.Malformed","errorMessage":"Specified port is not valid."},{"errorCode":"InvalidBackupRetentionPeriod.Malformed","errorMessage":"Specified backup retention period is not valid."},{"errorCode":"InvalidPreferredBackupTime.Format","errorMessage":"Specified preferred backup time is not valid."},{"errorCode":"InvalidPreferredBackupPeriod.Malformed","errorMessage":"Specified backup period is not valid."},{"errorCode":"InvalidOptmizationService","errorMessage":"Specified optmization service is not valid."},{"errorCode":"InvalidExpiredTime.Format","errorMessage":"Specified expired time is not valid."},{"errorCode":"InvalidSecurityIPList.Format","errorMessage":"Specified security IP list format is not valid."},{"errorCode":"InvalidSecurityIPList.Duplicate","errorMessage":"Specified security IP list is not valid: Duplicate IP address in the list"},{"errorCode":"InvalidSecurityIPList.QuotaExceeded","errorMessage":"Specified security IP list is not valid: Exceeding the allowed amount of IP address in the list."},{"errorCode":"InvalidDBInstanceDescription.Format","errorMessage":"Specified DB instance description is not valid."},{"errorCode":"InvalidStorage.Format","errorMessage":"Specified Storage is not valid."},{"errorCode":"InvalidDBInstanceConnType.Format","errorMessage":"Specified DB instance conn type is not valid."},{"errorCode":"PreCheckInvalid","errorMessage":"CreateDdrInstance PreCheck Is Invalid"},{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance engine and type does not support operations."},{"errorCode":"InvalidRestoreType.Format","errorMessage":"Specified restore type is not valid."},{"errorCode":"NoBackupSetRegion","errorMessage":"BackupSetRegion is absence."},{"errorCode":"IncorrectBackupSetType","errorMessage":"Backup set type should be value ddr."},{"errorCode":"NoBaksetName","errorMessage":"BaksetName is absence."},{"errorCode":"NoSourceInstanceName","errorMessage":"No SourceDBInstanceName."},{"errorCode":"NoAvailableDisasterRestoreBakset","errorMessage":"No available disaster restore bakset."},{"errorCode":"InvalidBackupType.Format","errorMessage":"Specified backup type is not valid."},{"errorCode":"IncorrectEngineVersion","errorMessage":"Current engine version does not support operations."},{"errorCode":"DisasterRestoreRegionNotMatched","errorMessage":"Disaster restore should be operated in the ddr region or source region."},{"errorCode":"InvalidVpcIdRegion.NotSupported","errorMessage":"The Specified vSwitchId zone not supported."},{"errorCode":"VswitchIpExhausted","errorMessage":"No available ip in the specified vswitch."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."}],"403":[{"errorCode":"IncorrectBackupSetMethod","errorMessage":"Current backup set method does not support operations."},{"errorCode":"IncorrectBaksetVersion","errorMessage":"Current bakset version does not support operations."},{"errorCode":"CrossRegionUnsupportTDE","errorMessage":"Cross-region disaster restore not support TDE bakset."},{"errorCode":"OperationDenied.Resource","errorMessage":"Specified DB instance class or storage is not available in all Availability Zones."},{"errorCode":"OperationDenied.ZoneResource","errorMessage":"There is no available zone for inventory."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."}],"404":[{"errorCode":"InvalidRegion.NotFound","errorMessage":"Specified Region does not exist in the RDS"},{"errorCode":"InvalidClusterName.NotFound","errorMessage":"The specified cluster name is not available."},{"errorCode":"InvalidDBInstanceClass.NotFound","errorMessage":"Specified DB instance class is not found."},{"errorCode":"InvalidDBInstanceNetType.NotFound","errorMessage":"Specified DB instance net type is not found."},{"errorCode":"RestoreType.NotFound","errorMessage":"RestoreType is not found."},{"errorCode":"InvalidBackupSetID.NotFound","errorMessage":"Specified backup set ID does not exist."},{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DBInstanceId\\\": \\\"rm-****\\\",\\n  \\\"RequestId\\\": \\\"E52666CC-330E-418A-8E5B-A19E3FB42D13\\\",\\n  \\\"Port\\\": \\\"3306\\\",\\n  \\\"ConnectionString\\\": \\\"rm-****.mysql.rds.aliyuncs.com\\\",\\n  \\\"OrderId\\\": \\\"2038691****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDdrInstanceResponse>\\n    <RequestId>E52666CC-330E-418A-8E5B-A19E3FB42D13</RequestId>\\n    <DBInstanceId>rm-xxxxx</DBInstanceId>\\n    <Port>3306</Port>\\n    <ConnectionString>rm-xxxxx.mysql.rds.aliyuncs.com</ConnectionString>\\n    <OrderId>2038691xxxxx</OrderId>\\n</CreateDdrInstanceResponse>\",\"errorExample\":\"\"}]","title":"跨地域恢复数据到新实例","summary":"该接口用于跨地域恢复数据到新实例。","description":"> 恢复前可以调用CheckCreateDdrDBInstance接口预检查某RDS实例是否可以用跨地域备份集进行跨地域恢复。\n\n### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS MySQL跨地域备份](~~120824~~)\n- [RDS PostgreSQL跨地域备份](~~206671~~)\n- [RDS SQL Server跨地域备份](~~187923~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}