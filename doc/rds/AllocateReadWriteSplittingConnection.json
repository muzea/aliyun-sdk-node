{"summary":"该接口用于申请只读地址。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"主实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"example":"rm-uf6wjk5****"}},{"name":"ConnectionStringPrefix","in":"query","schema":{"description":"只读地址前缀名，不可重复，由小写字母和中划线组成，需以字母开头，长度不超过30个字符。\n\n> 默认以“实例名+rw”字符串组成前缀。","type":"string","required":false,"example":"rr-m5e****-rw.mysql.rds.aliyuncs.com"}},{"name":"Port","in":"query","schema":{"description":"只读地址端口，取值为1000~5999，默认为1433。","type":"string","required":false,"example":"1433"}},{"name":"MaxDelayTime","in":"query","schema":{"description":"延迟阈值，范围是0~7200，单位：秒，默认为30。\n\n> 当只读实例延迟超过该阈值时，读取流量不发往该实例。","type":"string","required":false,"example":"30"}},{"name":"NetType","in":"query","schema":{"description":"只读地址的网络类型，取值：\n\n- **Internet**：外网\n- **Intranet**：内网\n\n> 默认为内网，且内网类型与主实例保持一致。","type":"string","required":false,"example":"Intranet","default":"0"}},{"name":"DistributionType","in":"query","schema":{"description":"读权重分配模式，取值：\n\n- **Standard**：按规格权重自动分配\n- **Custom**：自定义分配权重","type":"string","required":false,"example":"Standard","default":"0"}},{"name":"Weight","in":"query","schema":{"description":"读权重分配，即传入主实例和只读实例的读请求比例。以100进行递增，最大值为10000。\n\n* RDS实例格式：`{\"<只读实例ID>\":<权重>,\"master\":<权重>,\"slave\":<权重>}`\n* MyBASE实例格式：`[{\"instanceName\":\"<主实例ID>\",\"weight\":<权重>,\"role\":\"master\"},{\"instanceName\":\"<主实例ID>\",\"weight\":<权重>,\"role\":\"slave\"},{\"instanceName\":\"<只读实例ID>\",\"weight\":<权重>,\"role\":\"master\"}]`\n\n> - 当**DistributionType**为**Custom**时，必须传入该参数。\n> - 当**DisrtibutionType**为**Standard**时，传入该参数无效。","type":"string","required":false,"example":"{\n      \"rm-bp1****\": 800,\n      \"master\": 400,\n      \"slave\": 400\n}"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"4C467B38-3910-447D-87BC-AC049166F216"}}}}},"errorCodes":{"400":[{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."},{"errorCode":"SqlExecuteFailedOrTimeout","errorMessage":"sql command execution failed or timed out:%s."},{"errorCode":"ColdData.EngineVersionNotSupport","errorMessage":"The current instance engine version not support coldDataEnabled."},{"errorCode":"ColdData.MinorVersionNotSupport","errorMessage":"The current instance minor version not support coldDataEnabled."},{"errorCode":"IncorrectTargetClasscode","errorMessage":"The current instance type does not support this operation."},{"errorCode":"InvalidConnectionString.Duplicate","errorMessage":"Specified connection string already exists in the RDS."},{"errorCode":"RequiredParam.NotFound","errorMessage":"Required input param is not found."}],"403":[{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."}],"404":[{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4C467B38-3910-447D-87BC-AC049166F216\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AllocateReadWriteSplittingConnectionResponse>\\n    <RequestId>4C467B38-3910-447D-87BC-AC049166F216</RequestId>\\n</AllocateReadWriteSplittingConnectionResponse>\",\"errorExample\":\"\"}]","title":"申请只读地址","description":"### 适用引擎\n\n- RDS MySQL\n- RDS SQL Server\n\n### 功能描述\n对拥有只读实例的SQL Server主实例，可以创建统一只读地址。创建该地址后，不影响原主实例、只读实例的已有访问地址，以及正常的内外网申请。\n\n### 前体条件\n调用该接口时，实例必须满足以下条件，否则将操作失败：\n- MySQL实例使用的是共享代理。\n- 实例状态为运行中。\n- 实例拥有只读实例。\n- 实例没有正在执行的DTS迁移任务。\n- 实例为如下版本：\n    - SQL Server集群版。\n    - MySQL 5.7高可用版（本地SSD盘）\n    - MySQL 5.6"}