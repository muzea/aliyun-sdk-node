{"summary":"该接口用于查询RDS实例的数据库代理设置详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-bp1ja4f56s7us****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。可调用DescribeRegions获取。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-bp1ja4f56s7us****"}},{"name":"DBProxyEngineType","in":"query","schema":{"description":"废弃参数，无需配置。","type":"string","required":false,"example":"normal"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmy****"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"DBProxyInstanceLatestMinorVersion":{"description":"代理实例最新版本。","type":"string","example":"1.13.12"},"RequestId":{"description":"请求ID。","type":"string","example":"909A69EE-71C8-4417-A0B9-FF085407E1E3"},"DBProxyInstanceCurrentMinorVersion":{"description":"代理实例当前版本。","type":"string","example":"1.13.11"},"DBProxyInstanceNum":{"description":"开通的代理实例数量。\n","type":"integer","format":"int32","example":"1"},"DBProxyInstanceType":{"description":"代理服务类型。\n- 1：共享型代理\n- 2：独享型代理\n- 3：通用型代理\n\n> RDS PostgreSQL不支持共享型代理。","type":"string","enumValueTitles":{},"example":"2"},"DBProxyPersistentConnectionStatus":{"description":"连接保持状态。取值：\n- **Enabled**：开启\n- **Disabled**：关闭\n- **Unsupported**：实例不支持开启连接保持","type":"string","example":"Disabled"},"DBProxyInstanceStatus":{"description":"代理实例的运行状态。\n- DBInstanceClassChanging：变配中\n- Creating：创建中\n- Running：运行中\n- Deleting：删除中","type":"string","enumValueTitles":{},"example":"Running"},"DBProxyServiceStatus":{"description":"数据库代理功能开关状态。\n- Shutdown：关闭\n- Startup：开启","type":"string","enumValueTitles":{},"example":"Startup"},"DBProxyInstanceName":{"description":"代理实例名称。","type":"string","example":"gos787jog2wk0ye1****"},"DBProxyInstanceSize":{"description":"该参数仅RDS PostgreSQL支持。表示代理实例规格实际大小。\n\n格式：`CPU/内存`。\n\n例如：4/8表示4核CPU 8GB内存。","type":"string","example":"4/8"},"DBProxyEngineType":{"description":"内部参数，无需关注。","type":"string","example":"normal"},"DBProxyConnectStringItems":{"type":"object","properties":{"DBProxyConnectStringItems":{"description":"数据库代理的连接地址信息列表。","type":"array","items":{"description":"数据库代理的连接地址信息详情。","type":"object","properties":{"DBProxyConnectStringNetWorkType":{"description":"代理网络类型。\n- 0：公网\n- 1：经典网络\n- 2：专有网络","type":"string","enumValueTitles":{},"example":"2"},"DBProxyConnectStringNetType":{"description":"代理连接地址的网络类型。\n- OuterString：外网\n- InnerString：内网","type":"string","enumValueTitles":{},"example":"InnerString"},"DBProxyVpcInstanceId":{"description":"代理的实例ID。","type":"string","example":"rm-bp145737x5****131161274792****"},"DBProxyEndpointName":{"description":"代理终端名称，真实服务的代理终端ID。","type":"string","example":"gos787jog2wk0ye1****"},"DBProxyEndpointId":{"description":"后端代理终端ID。","type":"string","example":"20****"},"DBProxyConnectStringPort":{"description":"代理连接地址的端口。","type":"string","example":"3306"},"DBProxyConnectString":{"description":"代理终端连接地址。","type":"string","example":"gos787jog2wk0ye1****-rw4rm.rwlb.rds.aliyuncs.com"},"DBProxyVpcId":{"description":"代理服务地址的VPC。","type":"string","example":"vpc-uf6oobt****"},"DBProxyVswitchId":{"description":"代理服务地址的vSwitch。","type":"string","example":"vsw-uf6l0pic17****"}}}}}},"DbProxyEndpointItems":{"type":"object","properties":{"DbProxyEndpointItems":{"description":"代理终端信息列表。","type":"array","items":{"description":"代理终端信息详情。","type":"object","properties":{"DbProxyEndpointAliases":{"description":"代理终端的备注信息。","type":"string","example":"proxy-test"},"DbProxyEndpointName":{"description":"代理终端ID。","type":"string","example":"gos787jog2wk0ye1****"},"DbProxyEndpointType":{"description":"代理终端类型。\n- Custom：自定义代理终端\n- RWSplit：默认代理终端","type":"string","enumValueTitles":{},"example":"RWSplit"},"DbProxyReadWriteMode":{"description":"代理终端模式。\n- ReadOnly：只读模式\n- ReadWrite：读写模式","type":"string","enumValueTitles":{},"example":"ReadWrite"}}}}}},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-acfmy****"},"DBProxyAVZones":{"type":"object","properties":{"DBProxyAVZones":{"description":"代理服务所在的可用区列表。","type":"array","items":{"description":"代理服务所在的可用区。","type":"string","example":"cn-shanghai-e"}}}}}}}},"errorCodes":{"400":[{"errorCode":"RWSplitNetTypeNotExists","errorMessage":"Specified rw split net type is not eixsts."},{"errorCode":"InvalidDBInstanceName","errorMessage":"Specified parameter DBInstanceName is not valid."},{"errorCode":"InvalidInstanceLevelExtraInfo","errorMessage":"Specified class code has error extra info."}],"403":[{"errorCode":"IncorrectKindCode","errorMessage":"Current custins kindCode does not support this operation."},{"errorCode":"IncorrectDBInstanceType","errorMessage":"The database instance type does not support the operation."},{"errorCode":"IncorrectDBInstanceEngine","errorMessage":"Current DB Instance engine does not support this operation."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The database instance does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DBProxyInstanceLatestMinorVersion\\\": \\\"1.13.12\\\",\\n  \\\"RequestId\\\": \\\"909A69EE-71C8-4417-A0B9-FF085407E1E3\\\",\\n  \\\"DBProxyInstanceCurrentMinorVersion\\\": \\\"1.13.11\\\",\\n  \\\"DBProxyInstanceNum\\\": 1,\\n  \\\"DBProxyInstanceType\\\": \\\"2\\\",\\n  \\\"DBProxyPersistentConnectionStatus\\\": \\\"Disabled\\\",\\n  \\\"DBProxyInstanceStatus\\\": \\\"Running\\\",\\n  \\\"DBProxyServiceStatus\\\": \\\"Startup\\\",\\n  \\\"DBProxyInstanceName\\\": \\\"gos787jog2wk0ye1****\\\",\\n  \\\"DBProxyInstanceSize\\\": \\\"4/8\\\",\\n  \\\"DBProxyEngineType\\\": \\\"normal\\\",\\n  \\\"DBProxyConnectStringItems\\\": {\\n    \\\"DBProxyConnectStringItems\\\": [\\n      {\\n        \\\"DBProxyConnectStringNetWorkType\\\": \\\"2\\\",\\n        \\\"DBProxyConnectStringNetType\\\": \\\"InnerString\\\",\\n        \\\"DBProxyVpcInstanceId\\\": \\\"rm-bp145737x5****131161274792****\\\",\\n        \\\"DBProxyEndpointName\\\": \\\"gos787jog2wk0ye1****\\\",\\n        \\\"DBProxyEndpointId\\\": \\\"20****\\\",\\n        \\\"DBProxyConnectStringPort\\\": \\\"3306\\\",\\n        \\\"DBProxyConnectString\\\": \\\"gos787jog2wk0ye1****-rw4rm.rwlb.rds.aliyuncs.com\\\",\\n        \\\"DBProxyVpcId\\\": \\\"vpc-uf6oobt****\\\",\\n        \\\"DBProxyVswitchId\\\": \\\"vsw-uf6l0pic17****\\\"\\n      }\\n    ]\\n  },\\n  \\\"DbProxyEndpointItems\\\": {\\n    \\\"DbProxyEndpointItems\\\": [\\n      {\\n        \\\"DbProxyEndpointAliases\\\": \\\"proxy-test\\\",\\n        \\\"DbProxyEndpointName\\\": \\\"gos787jog2wk0ye1****\\\",\\n        \\\"DbProxyEndpointType\\\": \\\"RWSplit\\\",\\n        \\\"DbProxyReadWriteMode\\\": \\\"ReadWrite\\\"\\n      }\\n    ]\\n  },\\n  \\\"ResourceGroupId\\\": \\\"rg-acfmy****\\\",\\n  \\\"DBProxyAVZones\\\": {\\n    \\\"DBProxyAVZones\\\": [\\n      \\\"cn-shanghai-e\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBProxyResponse>\\r\\n    <DBProxyInstanceName>gos787jog2wk0ye1****</DBProxyInstanceName>\\r\\n    <DBProxyInstanceCurrentMinorVersion>1.13.11</DBProxyInstanceCurrentMinorVersion>\\r\\n    <DBProxyServiceStatus>Startup</DBProxyServiceStatus>\\r\\n    <DBProxyInstanceNum>1</DBProxyInstanceNum>\\r\\n    <DBProxyInstanceLatestMinorVersion>1.13.12</DBProxyInstanceLatestMinorVersion>\\r\\n    <RequestId>909A69EE-71C8-4417-A0B9-FF085407E1E3</RequestId>\\r\\n    <DbProxyEndpointItems>\\r\\n        <DbProxyEndpointItems>\\r\\n            <DbProxyEndpointName>gos787jog2wk0ye1****</DbProxyEndpointName>\\r\\n            <DbProxyEndpointAliases>proxy-test</DbProxyEndpointAliases>\\r\\n            <DbProxyEndpointType>RWSplit</DbProxyEndpointType>\\r\\n            <DbProxyReadWriteMode>ReadWrite</DbProxyReadWriteMode>\\r\\n        </DbProxyEndpointItems>\\r\\n    </DbProxyEndpointItems>\\r\\n    <DBProxyConnectStringItems>\\r\\n        <DBProxyConnectStringItems>\\r\\n            <DBProxyConnectString>gos787jog2wk0ye1****-rw4rm.rwlb.rds.aliyuncs.com</DBProxyConnectString>\\r\\n            <DBProxyEndpointId>209090</DBProxyEndpointId>\\r\\n            <DBProxyEndpointName>gos787jog2wk0ye1****</DBProxyEndpointName>\\r\\n            <DBProxyConnectStringNetWorkType>2</DBProxyConnectStringNetWorkType>\\r\\n            <DBProxyConnectStringNetType>InnerString</DBProxyConnectStringNetType>\\r\\n            <DBProxyConnectStringPort>3306</DBProxyConnectStringPort>\\r\\n            <DBProxyVpcInstanceId>rm-bp145737x5****131161274792****</DBProxyVpcInstanceId>\\r\\n        </DBProxyConnectStringItems>\\r\\n    </DBProxyConnectStringItems>\\r\\n    <DBProxyInstanceStatus>Running</DBProxyInstanceStatus>\\r\\n    <DBProxyInstanceType>2</DBProxyInstanceType>\\r\\n</DescribeDBProxyResponse>\",\"errorExample\":\"\"}]","title":"查询数据库代理详情","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}