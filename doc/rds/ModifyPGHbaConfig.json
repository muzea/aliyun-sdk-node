{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update"},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"预留参数，无需配置。","type":"string","required":false,"example":"1"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"example":"pgm-bp1lymyn1v3i****"}},{"name":"OpsType","in":"query","schema":{"description":"配置类型，支持以下几种方式修改AD域服务信息。\n- **add**：添加一条或多条记录，不能与已有PriorityId参数重复。\n- **delete**：删除一条或多条记录，将删除当前配置中**PriorityId**参数取值对应的记录。\n- **modify**：修改一条或多条记录，将修改当前配置中**PriorityId**参数取值对应的记录。\n- **update**：全量更新，将使用传入的配置覆盖当前配置。","type":"string","required":true,"example":"add"}},{"name":"HbaItem","in":"query","style":"repeatList","schema":{"description":"AD域服务信息列表。","type":"array","items":{"description":"AD域服务信息详情。","type":"object","properties":{"Type":{"description":"连接类型。\n\n支持配置以下取值：\n- **host**：该条记录验证TCP/IP连接，包括SSL连接和非SSL连接。\n- **hostssl**：该条记录只验证通过SSL建立的TCP/IP连接。\n- **hostnossl**：该条记录只验证通过非SSL建立的TCP/IP连接。\n> 如果使用hostssl连接类型，需要打开SSL链路加密，具体请参见[SSL链路加密](~~229518~~)。","type":"string","required":true,"example":"host"},"Mask":{"description":"掩码。如果**Address**为IP地址，可以通过此参数指定IP地址的掩码。","type":"string","required":false,"example":"0"},"Database":{"description":"数据库名。表示允许用户访问的数据库，all表示允许用户访问所有数据库。\n\n如果配置多个，可通过逗号（,）分隔。","type":"string","required":true,"example":"all"},"PriorityId":{"description":"表示该条记录的优先级，取值范围：0~10000，0优先级最高。\n\n此参数用于标识每条记录，新增记录时，不允许与已有记录重复。修改或删除时，需要与已有记录的PriorityId相同，用于匹配记录。\n","type":"integer","format":"int32","required":true,"example":"2"},"Address":{"description":"允许用户从哪个或哪些IP访问数据库，0.0.0.0/0表示允许用户从任意IP地址访问数据库。","type":"string","required":true,"example":"0.0.0.0/0"},"User":{"description":"允许哪些用户访问数据库，填写实例的用户名。如果配置多个，可通过逗号（,）分隔。\n","type":"string","required":true,"example":"ldapuser"},"Method":{"description":"认证方法。支持：\n- **trust**\n- **reject**\n- **scram-sha-256**\n- **md5**\n- **password**\n- **gss**\n- **sspi**\n- **ldap**\n- **radius**\n- **cert**\n- **pam**","type":"string","required":true,"example":"ldap"},"Option":{"description":"认证方式对应的可选参数。本示例使用LDAP认证，需要配置。此参数的更多参数解释，请参见[Authentication Methods](https://www.postgresql.org/docs/11/auth-methods.html)。","type":"string","required":false,"example":"ldapserver=192.168.XX.XX ldapbasedn=\"CN=Users,DC=pgsqldomain,DC=net\" ldapbinddn=\"CN=pgadminuser,CN=Users,DC=pgsqldomain,DC=net\" ldapbindpasswd=\"Test123!\" ldapsearchattribute=\"sAMAccountName\""}},"required":true},"required":true,"maxItems":1000}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"458E0781-C46C-55F5-A0E5-1DD284B28A3F"}}}}},"errorCodes":{"400":[{"errorCode":"HbaItem.InvalidType","errorMessage":"Specified hba item type is invalid."},{"errorCode":"HbaItem.InvalidMethod","errorMessage":"Specified hba item auth method is invalid."},{"errorCode":"HbaItem.InvalidIPMask","errorMessage":"Specified hba item ip mask is invalid."},{"errorCode":"HbaItem.InvalidPriority","errorMessage":"Specified hba item priorityId is out of range or duplicate."},{"errorCode":"HbaItemOpsType.Invalid","errorMessage":"Specified hba opsType is invalid."},{"errorCode":"InvalidConfigValue","errorMessage":"The ConfigValue is not valid"},{"errorCode":"MinorVersionNotSupport","errorMessage":"The current database minor version does not support the operation."},{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The specified DB instance name does not exist."},{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance type does not support this operation."},{"errorCode":"InvalidIP.Format","errorMessage":"The specified IP address is illegal or invalid."}],"403":[{"errorCode":"HbaItemPriorityIdAlreadyExist","errorMessage":"Specified hba item priorityId is exist."},{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."}],"404":[{"errorCode":"HbaItemPriorityIdNotFound","errorMessage":"Specified hba item priorityId is not found."},{"errorCode":"IncorrectDBInstanceLockMode","errorMessage":"Current DB instance lock mode does not support this operation."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"458E0781-C46C-55F5-A0E5-1DD284B28A3F\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyPGHbaConfigResponse>\\n    <RequestId>458E0781-C46C-55F5-A0E5-1DD284B28A3F</RequestId>\\n</ModifyPGHbaConfigResponse>\",\"errorExample\":\"\"}]","title":"修改RDS PostgreSQL实例pg_hba.conf文件配置","summary":"该接口用于修改RDS PostgreSQL实例的pg_hba.conf文件配置。","description":"### 适用引擎\nRDS PostgreSQL\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS PostgreSQL接入自建域](~~349288~~)\n- [PostgreSQL pg_hba.conf介绍](https://www.postgresql.org/docs/11/auth-pg-hba-conf.html)"}