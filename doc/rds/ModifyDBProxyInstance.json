{"summary":"该接口用于变更RDS数据库代理实例相关配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-t4n3a****"}},{"name":"DBProxyInstanceType","in":"query","schema":{"description":"数据库代理实例类型，取值：\n- **common**：通用型代理\n- **exclusive**：独享型代理（默认）","type":"string","required":true,"docRequired":true,"example":"exclusive"}},{"name":"DBProxyInstanceNum","in":"query","schema":{"description":"设置代理实例数量。当取值为0的时候，表示这个实例关闭此种类型代理服务。取值：**1**~**16**。\n>更多的代理实例能处理更多的请求，您可以根据监控数据了解代理实例的负载，然后设置合理的代理实例数量。","type":"string","required":true,"docRequired":true,"example":"2"}},{"name":"EffectiveTime","in":"query","schema":{"description":"生效时间，取值：\n\n* **Immediate**：立即生效。\n* **MaintainTime**：在可运维时间段内生效，请参见ModifyDBInstanceMaintainTime。\n* **SpecificTime**：指定时间生效。\n\n默认值：**MaintainTime**。","type":"string","required":false,"example":"MaintainTime"}},{"name":"EffectiveSpecificTime","in":"query","schema":{"description":"指定时间生效。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>**EffectiveTime**为**SpecificTime**时，该参数必传。","type":"string","required":false,"example":"2019-07-10T13:15:12Z"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。可调用DescribeRegions获取。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-t4n3a****"}},{"name":"DBProxyEngineType","in":"query","schema":{"description":"废弃参数，无需配置。","type":"string","required":false,"example":"normal"}},{"name":"VSwitchIds","in":"query","schema":{"description":"指定迁移至目标可用区对应的交换机ID。可通过调用[DescribeVSwitches](~~610431~~)接口查询已创建的交换机。\n\n> 当前仅支持RDS MySQL云盘版代理实例迁移可用区","type":"string","required":false,"example":" vsw-uf6adz52c2p****"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"65C55572-530E-4A53-BE03-1D08CAF0F046"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidDBInstanceName","errorMessage":"Specified parameter DBInstanceName is not valid."},{"errorCode":"InvalidParameters.Format","errorMessage":"Specified parameter is not valid"},{"errorCode":"InvalidAvZone.Format","errorMessage":"Specified AvZone is not valid."},{"errorCode":"ErrorMxsServiceInsNum.Error","errorMessage":"The Maxscale serviceIns num must be 1."},{"errorCode":"TaskExists","errorMessage":"Specified task have existed."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."}],"403":[{"errorCode":"DBInstanceStatusNotActive","errorMessage":"Current DB instance status should be active."},{"errorCode":"InvalidInstanceLevel.Malformed","errorMessage":"The specified class code does not support the endpoint number. Please check the shard number and the current endpoint number."},{"errorCode":"NotHaveProxy","errorMessage":"The current instance does not have a proxy."},{"errorCode":"MaxscaleMinorVersionNotSupport","errorMessage":"The Maxscale version used by the instance is too low, please upgrade the Maxscale version first."},{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance engine and type does not support operations."},{"errorCode":"IncorrectDBInstanceEngine","errorMessage":"Current DB Instance engine does not support this operation."},{"errorCode":"IncorrectKindCode","errorMessage":"Current custins kindCode does not support this operation."},{"errorCode":"IncorrectDBType","errorMessage":"The current DB type does not support this operation."},{"errorCode":"IncorrectDBInstanceState","errorMessage":"Current DB instance state does not support this operation."},{"errorCode":"InvalidKmsKey","errorMessage":"Kms key is disabled."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."},{"errorCode":"IncorrectDBInstance","errorMessage":"The current DB instance does not support this operation."},{"errorCode":"MaxscaleInstanceNotSupport","errorMessage":"Instances with maxscale instance do not support this operation."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."}],"404":[{"errorCode":"IncorrectDBInstanceLockMode","errorMessage":"Current DB instance lock mode does not support this operation."},{"errorCode":"InvalidDBInstanceClass.NotFound","errorMessage":"Specified DB instance class is not found."},{"errorCode":"InsufficientResourceCapacity","errorMessage":"The target availability zone does not have sufficient resources."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"65C55572-530E-4A53-BE03-1D08CAF0F046\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyDBProxyInstanceResponse>\\r\\n  <RequestId>65C55572-530E-4A53-BE03-1D08CAF0F046</RequestId>\\r\\n</ModifyDBProxyInstanceResponse>\",\"errorExample\":\"\"}]","title":"变更数据库代理实例配置","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n\n> 云数据库RDS MySQL集群系列于2023年10月17日起逐步在各个单元赠送代理数量为1的数据库独享代理服务，详情请参见[【优惠】RDS MySQL集群版赠送代理数量为1的数据库独享代理服务](~~2555466~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}