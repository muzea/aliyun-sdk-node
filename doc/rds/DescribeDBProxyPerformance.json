{"summary":"该接口用于查询RDS实例数据库代理的性能数据。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-t4n3a****"}},{"name":"DBProxyInstanceType","in":"query","schema":{"description":"数据库代理实例类型，取值：\n- common：通用型代理\n- exclusive：独享型代理","type":"string","required":false,"example":"exclusive"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2019-09-19T01:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，不能早于查询开始时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2019-09-21T18:00:00Z"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。可调用DescribeRegions获取。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"MetricsName","in":"query","schema":{"description":"性能指标。\n\nRDS MySQL仅支持**Maxscale_CpuUsage**：CPU使用率。\n\nRDS PostgreSQL查询如下性能数据：\n\n- **Maxscale_TotalConns**：连接速率\n- **Maxscale_CurrentConns**：当前连接数\n- **Maxscale_DownFlows**：出流量\n- **Maxscale_UpFlows**：入流量\n- **Maxscale_QPS**：请求速率（QPS）\n- **Maxscale_MemUsage**：内存使用率\n- **Maxscale_CpuUsage**：CPU使用率\n\n当查询多个性能数据时，可使用英文逗号（,）分隔，最多同时查询6个性能数据。","type":"string","required":true,"docRequired":true,"example":"Maxscale_CpuUsage"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-t4n3a****"}},{"name":"DBProxyEngineType","in":"query","schema":{"description":"预留参数，无需配置。","type":"string","required":false,"example":"normal"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"EndTime":{"description":"查询结束时间。","type":"string","example":"2019-09-21T18:00:00Z"},"StartTime":{"description":"查询开始时间。","type":"string","example":"2019-09-19T01:00:00Z"},"DBInstanceId":{"description":"监控实例的ID。","type":"string","example":"lsme****"},"RequestId":{"description":"请求ID。","type":"string","example":"DD31056F-A0CE-41D7-AD39-689B6ABAE982"},"DBProxyEngineType":{"description":"内部参数，无需关注。","type":"string","example":"normal"},"PerformanceKeys":{"type":"object","properties":{"PerformanceKey":{"description":"性能列表。","type":"array","items":{"description":"性能信息。","type":"object","properties":{"ValueFormat":{"description":"性能值的格式。","type":"string","example":"docker_container_cpu"},"Key":{"description":"性能参数。","type":"string","example":"cpu_ratio"},"Values":{"type":"object","properties":{"PerformanceValue":{"description":"性能值列表。","type":"array","items":{"description":"性能值详情。","type":"object","properties":{"Date":{"description":"记录日期。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2019-10-10T09:00:00Z"},"Value":{"description":"性能值。","type":"string","example":"2.83"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidDBInstanceName","errorMessage":"Specified parameter DBInstanceName is not valid."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."}],"403":[{"errorCode":"ParamNotFound","errorMessage":"The parameter is not found for the interface."},{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."}],"404":[{"errorCode":"Endpoint.NotFound","errorMessage":"Specified endpoint is not found."},{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The DBInstanceId provided does not exist in our records."},{"errorCode":"Maxscale.NotFound","errorMessage":"The relative maxscale instance is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2019-09-21T18:00:00Z\\\",\\n  \\\"StartTime\\\": \\\"2019-09-19T01:00:00Z\\\",\\n  \\\"DBInstanceId\\\": \\\"lsme****\\\",\\n  \\\"RequestId\\\": \\\"DD31056F-A0CE-41D7-AD39-689B6ABAE982\\\",\\n  \\\"DBProxyEngineType\\\": \\\"normal\\\",\\n  \\\"PerformanceKeys\\\": {\\n    \\\"PerformanceKey\\\": [\\n      {\\n        \\\"ValueFormat\\\": \\\"docker_container_cpu\\\",\\n        \\\"Key\\\": \\\"cpu_ratio\\\",\\n        \\\"Values\\\": {\\n          \\\"PerformanceValue\\\": [\\n            {\\n              \\\"Date\\\": \\\"2019-10-10T09:00:00Z\\\",\\n              \\\"Value\\\": \\\"2.83\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBProxyPerformanceResponse>\\n<DBInstanceId>lsmexxxxxxx</DBInstanceId>\\n<RequestId>DD31056F-A0CE-41D7-AD39-689B6ABAE982</RequestId>\\n<PerformanceKeys>\\n    <PerformanceKey>\\n        <Values>\\n            <PerformanceValue>\\n                <Value>2.83</Value>\\n                <Date>2019-10-10T09:00:00Z</Date>\\n            </PerformanceValue>\\n        </Values>\\n        <Key>cpu_ratio</Key>\\n        <ValueFormat>docker_container_cpu</ValueFormat>\\n    </PerformanceKey>\\n</PerformanceKeys>\\n<EndTime>2019-10-10T09:39:28Z</EndTime>\\n<StartTime>2019-10-01T09:39:28Z</StartTime>\\n</DescribeDBProxyPerformanceResponse>\",\"errorExample\":\"\"}]","title":"查询数据库代理的性能数据","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n> 云数据库RDS MySQL集群系列于2023年10月17日起逐步在各个单元赠送代理数量为1的数据库独享代理服务，详情请参见[【优惠】RDS MySQL集群版赠送代理数量为1的数据库独享代理服务](~~2555466~~)。\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [RDS MySQL查看监控数据](~~194241~~)\n- [RDS PostgreSQL查看监控数据](~~418275~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}