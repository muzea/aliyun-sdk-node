{"summary":"该接口用于升级RDS实例的内核小版本。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。\n\n> * PostgreSQL实例的存储类型必须为**云盘**。本地盘实例可以通过[重启实例](~~26230~~)接口重启，以自动升级到最新的小版本。\n> * SQL Server实例仅2019版本支持小版本升级。","type":"string","required":true,"docRequired":true,"example":"rm-bp****"}},{"name":"UpgradeTime","in":"query","schema":{"description":"升级时间，取值：\n\n* **Immediate**（默认）：立即生效。\n* **MaintainTime**：在可运维时间段内生效，修改运维时间请参见ModifyDBInstanceMaintainTime。\n* **SpecifyTime**：指定时间生效。","type":"string","required":false,"example":"Immediate"}},{"name":"SwitchTime","in":"query","schema":{"description":"指定时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>**UpgradeTime**= **SpecifyTime**时传入此参数有效。","type":"string","required":false,"example":"2020-01-15T00:00:00Z"}},{"name":"TargetMinorVersion","in":"query","schema":{"description":"指定需要升级的数据库小版本号。格式：\n* **PostgreSQL**：`rds_postgres_<大版本号>00_<小版本号>`。例如12版本的20200830：`rds_postgres_1200_20200830`。\n* **MySQL**：`<实例版本>_<小版本号>`。例如`rds_20200229`、`xcluster_20200229`或`xcluster80_20200229`。其中，实例版本分为如下三种：\n    * **rds**：高可用系列或基础系列。\n    * **xcluster**：MySQL 5.7三节点企业系列。\n    * **xcluster80**：MySQL 8.0三节点企业系列。\n* **SQLServer**：`<小版本号>`。例如`15.0.4073.23`。\n\n不传此参数则默认升级到最新的小版本。\n> 小版本号请参见：[PostgreSQL小版本Release Notes](~~126002~~)、[MySQL小版本Release Notes](~~96060~~)、[SQL Server小版本Release Notes](~~213577~~)。","type":"string","required":false,"example":"xcluster80_20210305"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"DBInstanceName":{"description":"实例ID。","type":"string","example":"rm-bp****"},"TargetMinorVersion":{"description":"升级的目标内核小版本。","type":"string","example":"xcluster80_20210305"},"RequestId":{"description":"请求ID。","type":"string","example":"DA2ECBA0-4745-4491-9166-799FF8984AC9"},"TaskId":{"description":"任务ID。","type":"string","example":"226917711"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidMinorVerison.NotFound","errorMessage":"Specify minor version not founud."},{"errorCode":"InstanceMissingMinorVersionAttr","errorMessage":"Specify instance has no minor_version attribute."},{"errorCode":"InvalidMinorVersionLowerThanInstance","errorMessage":"Specify minor version cannot not be lower than current instance."},{"errorCode":"InvalidMinorVersionAlreadyLatest","errorMessage":"Minor version for instance is already the latest version."},{"errorCode":"MissingParameter.MinorVersionTag","errorMessage":"You must specify the parameter MinorVersionTag."},{"errorCode":"EngineNotSupported","errorMessage":"The engine does not support the operation."},{"errorCode":"IncorrectDBInstanceState","errorMessage":"The current instance state does not support this operation."},{"errorCode":"TaskExists","errorMessage":"Specified task have existed."},{"errorCode":"UpgradeSQLServerMinorVersionFail","errorMessage":"Upgrade Minor Version for SQLServer failed."},{"errorCode":"UnsupportExtendDisk.NotSupport","errorMessage":"Specified DB instance is unsupport extend disk."},{"errorCode":"InvalidSwitchMode.NotFound","errorMessage":"Specified Parameter UpgradeTime is Invalid."},{"errorCode":"InvalidDBInstanceConnType.Classic","errorMessage":"Specified DB instance ConnectionAddress include classic net."},{"errorCode":"IncorrectDBInstanceTdeStatus","errorMessage":"Source DB instance and Target DB instance TDEStatus does not support this operation."},{"errorCode":"InstanceIsSnapshotBackupNotSupportThisOperation","errorMessage":"The instance backup method is snapshot backup, this operation is not supported"},{"errorCode":"TDEInstanceNotSupportThisOperation","errorMessage":"The instance opened TDE, this operation is not supported"},{"errorCode":"SSLInstanceNotSupportThisOperation","errorMessage":"The instance opened SSL, upgrade is not this operation"},{"errorCode":"BYOLInstanceNotSupportThisOperation","errorMessage":"The BYOL instance is not supported this operation"},{"errorCode":"BYOKInstanceNotSupportThisOperation","errorMessage":"The BYOK instance is not supported this operation"},{"errorCode":"ADInstanceNotSupportThisOperation","errorMessage":"The AD instance is not supported this operation"},{"errorCode":"MinorVersionNotSupport","errorMessage":"The current database minor version does not support the operation."}],"403":[{"errorCode":"IncorrectMinorVersion","errorMessage":"Current engine minor version does not support operations."},{"errorCode":"IncorrectDBInstanceLockMode","errorMessage":"Current DB instance lock mode does not support this operation."},{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance type does not support this operation."},{"errorCode":"SSLNotSupport","errorMessage":"The CharacterType of instance does not support SSL"},{"errorCode":"OperationDenied.PrePayTypeNotSupported","errorMessage":"The operation is not permitted due to pay type of instance."},{"errorCode":"CurrentRecoveryModelNotSupportThisAction","errorMessage":"Current recovery model not supported this action."},{"errorCode":"MaxscaleMinorVersionNotSupport","errorMessage":"The Maxscale version used by the instance is too low, please upgrade the Maxscale version first."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The database instance does not exist."},{"errorCode":"InvalidMaxscaleMinorVersion.Format","errorMessage":"Specified Maxscale Minor Version is Invalid."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"DBInstanceName\\\": \\\"rm-bp****\\\",\\n  \\\"TargetMinorVersion\\\": \\\"xcluster80_20210305\\\",\\n  \\\"RequestId\\\": \\\"DA2ECBA0-4745-4491-9166-799FF8984AC9\\\",\\n  \\\"TaskId\\\": \\\"226917711\\\"\\n}\",\"type\":\"json\"}]","title":"升级RDS实例内核小版本","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [MySQL升级内核小版本](~~96059~~)\n- [PostgreSQL升级内核小版本](~~146895~~)\n- [SQL Server升级内核小版本](~~213582~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}