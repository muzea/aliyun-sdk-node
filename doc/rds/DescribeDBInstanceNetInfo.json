{"summary":"该接口用于查询RDS实例的所有连接地址信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOC****"}},{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。可调用DescribeDBInstances获取。","type":"string","required":true,"docRequired":true,"example":"rm-uf6wjk5****"}},{"name":"Flag","in":"query","schema":{"description":"备用参数，无需配置。","type":"integer","format":"int32","required":false,"example":"test","default":"1"}},{"name":"DBInstanceNetRWSplitType","in":"query","schema":{"description":"连接地址类型，取值：\n* **Normal**：普通连接地址。\n* **ReadWriteSplitting**：读写分离连接地址。\n\n>默认返回所有类型连接地址。","type":"string","required":false,"example":"Normal"}},{"name":"GeneralGroupName","in":"query","schema":{"description":"专属集群MySQL通用版实例所属的组名。","type":"string","required":false,"example":"rgc-2ze****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SecurityIPMode":{"description":"白名单模式，取值：\n* **normal**：通用模式。\n* **safety**：高安全模式。","type":"string","example":"safety"},"RequestId":{"description":"请求ID。","type":"string","example":"777C4593-8053-427B-99E2-105593277CAB"},"InstanceNetworkType":{"description":"网络类型，取值：\n* **Classic**：经典网络。\n* **VPC**：专有网络。","type":"string","example":"VPC"},"DBInstanceNetInfos":{"type":"object","properties":{"DBInstanceNetInfo":{"description":"实例的连接地址信息列表。","type":"array","items":{"description":"连接地址信息详情。","type":"object","properties":{"VSwitchId":{"description":"交换机ID。","type":"string","example":"vsw-uf6adz52c2p****"},"ConnectionStringType":{"description":"连接地址类型，取值：\n* **Normal**：普通连接地址。\n* **ReadWriteSplitting**：读写分离连接地址。","type":"string","example":"Normal"},"ConnectionString":{"description":"连接地址。","type":"string","example":"rm-uf6w****.mysql.rds.aliyuncs.com"},"ExpiredTime":{"description":"混访模式下，经典网络的剩余时间，单位：秒。","type":"string","example":"1209534"},"Upgradeable":{"description":"IP版本是否能够升级，取值：\n- **Enable**：可以升级。\n- **Disabled**：不可以升级。\n>IPv4版本可以升级到IPv6版本。","type":"string","example":"Disabled"},"MaxDelayTime":{"description":"延迟阈值，只在读写分离连接地址返回该参数，单位：秒。\n>超过该延迟阈值的只读实例不会被分配流量。","type":"string","example":"12"},"IPType":{"description":"网络类型。\n* 经典网络类型取值：\n    * **Inner**：内网。\n    * **Public**：外网。\n* VPC类型取值：\n    * **Private**：内网。\n    * **Public**：外网。","type":"string","example":"Public"},"Port":{"description":"连接端口。","type":"string","example":"3306"},"BabelfishPort":{"description":"Babelfish for RDS PostgreSQL TDS端口号。\n> 该参数仅适用于RDS PostgreSQL实例，Babelfish for RDS PostgreSQL的更多介绍，请参见[Babelfish简介](~~428613~~)。","type":"string","example":"1433"},"VPCId":{"description":"VPC ID。","type":"string","example":"vpc-uf6f7l4fg90*****"},"DistributionType":{"description":"读请求分配策略，只在读写分离连接地址返回该参数，取值：\n* **Standard**：按规格权重自动分配。\n* **Custom**：自定义分配权重。","type":"string","example":"Standard"},"IPAddress":{"description":"IP地址。","type":"string","example":"192.168.XX.XX"},"SecurityIPGroups":{"type":"object","properties":{"securityIPGroup":{"description":"实例的IP白名单分组列表。","type":"array","items":{"description":"IP白名单分组详情。","type":"object","properties":{"SecurityIPs":{"description":"白名单IP。","type":"string","example":"127.0.XX.XX"},"SecurityIPGroupName":{"description":"IP白名单分组名称。","type":"string","example":"Default"}}}}}},"DBInstanceWeights":{"type":"object","properties":{"DBInstanceWeight":{"description":"实例权重信息列表。\n\n> 开通了读写分离连接地址的实例会返回该参数","type":"array","items":{"description":"实例权重信息详情。","type":"object","properties":{"Availability":{"description":"实例可用状态，取值：\n* **Unavailable**：不可用。\n* **Available**：可用。","type":"string","example":"Unavailable"},"Weight":{"description":"实例当前权重。","type":"string","example":"100"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"rm-uf6wjk5****"},"Role":{"description":"废弃参数。","type":"string","example":"无"},"DBInstanceType":{"description":"实例类型，取值：\n* **Master**：主实例。\n* **Readonly**：只读实例。","type":"string","example":"Master"}}}}}},"PGBouncerPort":{"description":"PgBouncer端口号。\n> 仅当RDS PostgreSQL实例开启了PgBouncer时，返回此参数。","type":"string","example":"6432"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"TimeoutRetryLater","errorMessage":"Timeout, retry later."},{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"DB instance name not found."},{"errorCode":"IllegalParameter","errorMessage":"Illegal parameter"},{"errorCode":"Readins.NotFound","errorMessage":"Readonly instance not found."},{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."},{"errorCode":"InsufficientAvailableQuota","errorMessage":"Your account quota limit is less than 0, please recharge before trying to purchase."},{"errorCode":"CommodityServiceCalling.Exception","errorMessage":"Failed to call commodity service."},{"errorCode":"RegionDissolvedEOM","errorMessage":"Dear customer, Alibaba Cloud plans to optimize and adjust the current region. Cloud services in this region will cease operations. You are currently unable to operate new purchase orders. Thank you for your understanding and support."},{"errorCode":"Commodity.InvalidComponent","errorMessage":"The module you purchased is not legal, please buy it again."},{"errorCode":"RegionEndTimeDissolvedIndia","errorMessage":"Cloud services in the India (Mumbai) region will be discontinued. Set the validity date to July 15, 2024 or earlier than July 15, 2024."},{"errorCode":"RegionEndTimeDissolvedAustralia","errorMessage":"Cloud services in the Australia (Sydney) region will be discontinued. Set the validity date to September 30, 2024 or earlier than September 30, 2024."},{"errorCode":"Price.CommoditySys","errorMessage":"Commodity system call exception."},{"errorCode":"Pay.InsufficientBalance","errorMessage":"Insufficient available balance."},{"errorCode":"Order.PeriodInvalid","errorMessage":"There is a problem with the period you selected, please choose again."},{"errorCode":"pay.noCreditCard","errorMessage":"Account not bound to credit card."},{"errorCode":"Order.InstHasUnpaidOrder","errorMessage":"There is an unpaid order for the service you have purchased. Please pay or void it before placing the order."},{"errorCode":"noAvailablePaymentMethod","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"BasicInfoUncompleted","errorMessage":"Your information is incomplete. Complete your information before the operation."},{"errorCode":"Risk.RiskControlRejection","errorMessage":"Your account is abnormal, please contact customer service for details."},{"errorCode":"Api.NotSupport","errorMessage":"Specified api is not supported."},{"errorCode":"ContainForbiddenLabelError","errorMessage":"There is a label that prohibits placing orders. Please contact your distributor for assistance."},{"errorCode":"InvalidDBInstanceId.NotFound","errorMessage":"The DBInstanceId provided does not exist in records."},{"errorCode":"InvalidInstanceLevel.DiskType","errorMessage":"Specified instance level not support request disk type"},{"errorCode":"InvalidParam","errorMessage":"Sepcified wal level Parameter is invalid. There are still logical slots in instance, so it can not be set as replica."},{"errorCode":"KmsApiError","errorMessage":"User secret key invalid."},{"errorCode":"System.SaleValidateFailed","errorMessage":"Sales expression validation system error."},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"account  is not found."},{"errorCode":"SqlExecuteFailedOrTimeout","errorMessage":"sql command execution failed or timed out:%s."},{"errorCode":"ColdData.EngineVersionNotSupport","errorMessage":"The current instance engine version not support coldDataEnabled."},{"errorCode":"ColdData.MinorVersionNotSupport","errorMessage":"The current instance minor version not support coldDataEnabled."},{"errorCode":"IncorrectTargetClasscode","errorMessage":"The current instance type does not support this operation."},{"errorCode":"InvalidConnectionString.Duplicate","errorMessage":"Specified connection string already exists in the RDS."},{"errorCode":"RequiredParam.NotFound","errorMessage":"Required input param is not found."},{"errorCode":"Parameters.Invalid","errorMessage":"Parameter error, please check the parameters."},{"errorCode":"BackupPolicyNotSupport","errorMessage":"Cold Data won't open with CrossBackup or Flash Backup, please check Backup Policy."}],"403":[{"errorCode":"OrderStatus.UnPaid","errorMessage":"The specified db instance has unpaid order."},{"errorCode":"InvalidReduceDiskSize","errorMessage":"The storage capacity after the scale-down must be larger than the used amount."},{"errorCode":"CloudSSDNotSupport","errorMessage":"Cloud ssd does not support this operation, please upgrade to essd."},{"errorCode":"InvalidUserOperatorPermission","errorMessage":"The user permission does not support this operation."},{"errorCode":"InvalidVswitchId","errorMessage":"Specified conn vswitch id is not valid."},{"errorCode":"IncorrectMinorVersion","errorMessage":"Current engine minor version does not support operations."}],"404":[{"errorCode":"InvalidClusterKms","errorMessage":"The current instance does not authorized to access the Key Management Service."}],"500":[{"errorCode":"ExternalFailure","errorMessage":"The request processing has failed due to external service failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SecurityIPMode\\\": \\\"safety\\\",\\n  \\\"RequestId\\\": \\\"777C4593-8053-427B-99E2-105593277CAB\\\",\\n  \\\"InstanceNetworkType\\\": \\\"VPC\\\",\\n  \\\"DBInstanceNetInfos\\\": {\\n    \\\"DBInstanceNetInfo\\\": [\\n      {\\n        \\\"VSwitchId\\\": \\\"vsw-uf6adz52c2p****\\\",\\n        \\\"ConnectionStringType\\\": \\\"Normal\\\",\\n        \\\"ConnectionString\\\": \\\"rm-uf6w****.mysql.rds.aliyuncs.com\\\",\\n        \\\"ExpiredTime\\\": \\\"1209534\\\",\\n        \\\"Upgradeable\\\": \\\"Disabled\\\",\\n        \\\"MaxDelayTime\\\": \\\"12\\\",\\n        \\\"IPType\\\": \\\"Public\\\",\\n        \\\"Port\\\": \\\"3306\\\",\\n        \\\"BabelfishPort\\\": \\\"1433\\\",\\n        \\\"VPCId\\\": \\\"vpc-uf6f7l4fg90*****\\\",\\n        \\\"DistributionType\\\": \\\"Standard\\\",\\n        \\\"IPAddress\\\": \\\"192.168.XX.XX\\\",\\n        \\\"SecurityIPGroups\\\": {\\n          \\\"securityIPGroup\\\": [\\n            {\\n              \\\"SecurityIPs\\\": \\\"127.0.XX.XX\\\",\\n              \\\"SecurityIPGroupName\\\": \\\"Default\\\"\\n            }\\n          ]\\n        },\\n        \\\"DBInstanceWeights\\\": {\\n          \\\"DBInstanceWeight\\\": [\\n            {\\n              \\\"Availability\\\": \\\"Unavailable\\\",\\n              \\\"Weight\\\": \\\"100\\\",\\n              \\\"DBInstanceId\\\": \\\"rm-uf6wjk5****\\\",\\n              \\\"Role\\\": \\\"无\\\",\\n              \\\"DBInstanceType\\\": \\\"Master\\\"\\n            }\\n          ]\\n        },\\n        \\\"PGBouncerPort\\\": \\\"6432\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBInstanceNetInfoResponse>\\n    <dBInstanceNetInfos>\\n        <connectionString>rm-uf6wjk5*****.mysql.rds.aliyuncs.com</connectionString>\\n        <connectionStringType>Normal</connectionStringType>\\n        <iPAddress>192.168.XX.XX</iPAddress>\\n        <iPType>Public</iPType>\\n        <port>3306</port>\\n        <upgradeable>Disabled</upgradeable>\\n        <vPCId/>\\n    </dBInstanceNetInfos>\\n    <instanceNetworkType>Classic</instanceNetworkType>\\n    <requestId>777C4593-8053-427B-99E2-105593277CAB</requestId>\\n</DescribeDBInstanceNetInfoResponse>\",\"errorExample\":\"\"}]","title":"查询实例的所有连接地址信息","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n- RDS MariaDB","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}