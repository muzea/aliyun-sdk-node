{"summary":"该接口用于预检查某RDS实例是否可以用跨地域备份集进行跨地域恢复。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目的实例地域ID，可以通过接口DescribeRegions查看地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Engine","in":"query","schema":{"description":"目标数据库类型，取值：\n* **MySQL**\n* **SQLServer**\n* **PostgreSQL**","type":"string","required":true,"docRequired":true,"example":"MySQL"}},{"name":"EngineVersion","in":"query","schema":{"description":"目标数据库版本。根据**Engine**参数取值的不同，本参数取值如下：\n* MySQL：**5.5/5.6/5.7/8.0**\n* SQL Server：**2008r2/08r2_ent_ha/2012/2012_ent_ha/2012_std_ha/2012_web/2014_std_ha/2016_ent_ha/2016_std_ha/2016_web/2017_std_ha/2017_ent/2019_std_ha/2019_ent**\n* PostgreSQL：**10.0/11.0/12.0/13.0/14.0/15.0**","type":"string","required":true,"docRequired":true,"example":"5.6"}},{"name":"DBInstanceClass","in":"query","schema":{"description":"目的实例规格，详见[实例规格表](~~26312~~)。","type":"string","required":true,"docRequired":true,"example":"rds.mysql.s1.small"}},{"name":"DBInstanceStorage","in":"query","schema":{"description":"目的实例存储空间，取值： **5~2000**。\n每5G进行递增，单位：GB。详见[实例规格表](~~26312~~)。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"20"}},{"name":"RestoreType","in":"query","schema":{"description":"恢复方式，取值：\n* **0**：基于备份集恢复，您还需要传入参数**BackupSetId**。\n* **1**：基于时间点恢复，您还需要传入参数**RestoreTime**、**SourceRegion**、**SourceDBInstanceName**。\n\n默认值：**0**。","type":"string","required":true,"docRequired":true,"example":"0"}},{"name":"BackupSetId","in":"query","schema":{"description":"基于备份集恢复时，使用的备份集的ID。可以通过接口DescribeCrossRegionBackups查看备份集ID。\n>**RestoreTyp**e=**0**时必传。","type":"string","required":false,"example":"14358"}},{"name":"RestoreTime","in":"query","schema":{"description":"基于时间点恢复时，要恢复的时间节点，需要早于当前时间。格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>**RestoreType**=**1**时必传 。","type":"string","required":false,"example":"2019-05-30T03:29:10Z"}},{"name":"SourceRegion","in":"query","schema":{"description":"基于时间点恢复时，源地域的ID。\n>**RestoreType**=**1**时必传。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SourceDBInstanceName","in":"query","schema":{"description":"基于时间点恢复时，源实例的ID。\n>**RestoreType**=**1**时必传。","type":"string","required":false,"example":"rm-uf6wjk5****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。可调用DescribeDBInstanceAttribute获取。","type":"string","required":false,"example":"rg-acfmy****"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"IsValid":{"description":"是否能创建容灾恢复实例。取值：\n- **true**\n- **false**","type":"string","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"1E43AAE0-BEE8-43DA-860D-EAF2AA0724DC"}}}}},"errorCodes":{"400":[{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance engine and type does not support operations."},{"errorCode":"InvalidRestoreType.Format","errorMessage":"Specified restore type is not valid."},{"errorCode":"NoBackupSetRegion","errorMessage":"BackupSetRegion is absence."},{"errorCode":"IncorrectBackupSetType","errorMessage":"Backup set type should be ddr."},{"errorCode":"NoSourceInstanceName","errorMessage":"No SourceDBInstanceName."},{"errorCode":"NoAvailableDisasterRestoreBakset","errorMessage":"No available disaster restore bakset."},{"errorCode":"IncorrectBackupSetMethod","errorMessage":"Current backup set method does not support operations."},{"errorCode":"InvalidBackupType.Format","errorMessage":"Specified backup type is not valid."},{"errorCode":"IncorrectEngineVersion","errorMessage":"Current engine version does not support operations."},{"errorCode":"IncorrectBaksetVersion","errorMessage":"Current bakset version does not support operations."},{"errorCode":"CrossRegionUnsupportTDE","errorMessage":"Cross-region disaster restore not support TDE bakset."},{"errorCode":"DisasterRestoreRegionNotMatched","errorMessage":"Disaster restore should be operated in the ddr region or source region."},{"errorCode":"InvalidMinorVersion.NotFound","errorMessage":"Specified minor version does not exists."},{"errorCode":"InvalidDBInstanceId.MalFormed","errorMessage":"The specified parameter DBInstanceId is not valid."},{"errorCode":"InvalidEngine.Malformed","errorMessage":"Specified engine is not valid."},{"errorCode":"InvalidEngineVersion.Malformed","errorMessage":"Specified engine version is not valid."},{"errorCode":"MissingUserID","errorMessage":"The request is missing a user_id parameter."},{"errorCode":"MissingUID","errorMessage":"The request is missing a uid parameter."},{"errorCode":"UserPermissionFailure","errorMessage":"The request processing has failed due to user permission."},{"errorCode":"InvalidServiceType.Format","errorMessage":"Specified service type is not valid."},{"errorCode":"InvalidStorage.Format","errorMessage":"Specified Storage is not valid."}],"403":[{"errorCode":"IncorrectDBType","errorMessage":"The current DB type does not support this operation."},{"errorCode":"IncorrectDBInstance","errorMessage":"The current DB instance does not support this operation."},{"errorCode":"ResourceConfigError","errorMessage":"The request processing has failed due to resource config error."}],"404":[{"errorCode":"RestoreType.NotFound","errorMessage":"RestoreType is not found."},{"errorCode":"InvalidBackupSetID.NotFound","errorMessage":"Specified backup set ID does not exist."},{"errorCode":"InvalidDBInstance.NotFound","errorMessage":"The specified instance does not exist or is not supported."},{"errorCode":"InvalidDBInstanceClass.NotFound","errorMessage":"Specified DB instance class is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"IsValid\\\": \\\"true\\\",\\n  \\\"RequestId\\\": \\\"1E43AAE0-BEE8-43DA-860D-EAF2AA0724DC\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CheckCreateDdrDBInstanceResponse>\\r\\n  <IsValid>true</IsValid>\\r\\n  <RequestId>346C62D7-8BB9-4516-93E7-25A469EAABCB</RequestId>\\r\\n</CheckCreateDdrDBInstanceResponse>\",\"errorExample\":\"\"}]","title":"预检查实例是否可以进行跨地域恢复","description":"### 适用引擎\n\n- RDS MySQL\n- RDS PostgreSQL\n- RDS SQL Server\n\n### 相关功能文档\n><notice>使用该接口前，请仔细阅读功能文档，确保完全了解使用接口的前提条件及使用后造成的影响后，再进行操作。></notice>\n\n- [MySQL跨地域备份](~~120824~~)、[MySQL跨地域恢复](~~120875~~)\n- [PostgreSQL跨地域备份](~~206671~~)、[PostgreSQL跨地域恢复](~~206662~~)\n- [SQL Server跨地域备份](~~187923~~)、[SQL Server跨地域恢复](~~187924~~)","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}