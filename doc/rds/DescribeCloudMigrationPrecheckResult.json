{"summary":"该接口用于查询一键上云前检查报告详细信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceName","in":"query","schema":{"description":"目标实例ID。可调用DescribeDBInstances接口查询。","type":"string","required":true,"docRequired":true,"example":"pgm-bp102g323jd4****"}},{"name":"TaskId","in":"query","schema":{"description":"任务ID。调用CreateCloudMigrationPrecheckTask接口创建一键上云前检查任务时响应消息中获取。","type":"integer","format":"int64","required":false,"example":"439946016"}},{"name":"TaskName","in":"query","schema":{"description":"任务名称。调用CreateCloudMigrationPrecheckTask接口创建一键上云前检查任务时响应消息中获取","type":"string","required":false,"example":"slf7w7wj3g"}},{"name":"SourceIpAddress","in":"query","schema":{"description":"自建PostgreSQL数据库的内网IP或公网IP。\n\n- ECS自建PostgreSQL数据库一键上云场景，配置ECS实例的私网IP。获取方法请参见[查看IP地址](~~273914~~)。\n- IDC自建PostgreSQL数据库一键上云场景，配置为IDC的内网IP。","type":"string","required":false,"example":"172.2.XX.XX"}},{"name":"SourcePort","in":"query","schema":{"description":"自建PostgreSQL数据库的端口。可通过netstat -a | grep PGSQL命令查看。","type":"integer","format":"int64","required":false,"example":"5432"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：**30**~**100**。\n默认值：30。","type":"integer","format":"int64","required":true,"example":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值：大于0且不超过Integer的最大值。默认值：**1**。","type":"integer","format":"int64","required":true,"example":"1"}}],"responses":{"200":{"schema":{"description":"返回参数详情。","type":"object","properties":{"TotalSize":{"description":"查询结果统计。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"7E4A6E1B-789B-5F16-9736-39AA57FC7374"},"Items":{"description":"一键上云检查报告列表。","type":"array","items":{"description":"一键上云检查报告详情。","type":"object","properties":{"GmtCreated":{"description":"任务创建时间。","type":"string","example":"2022-02-25T06:57:41Z"},"GmtModified":{"description":"任务修改时间。","type":"string","example":"2022-02-25T06:58:00Z"},"TaskId":{"description":"任务ID。","type":"integer","format":"int64","example":"440420798"},"TaskName":{"description":"任务名称。","type":"string","example":"lxbv6rtxno8"},"SourceCategory":{"description":"自建PostgreSQL的类型。\n\n- **idcOnVpc**：线下IDC自建PostgreSQL（IDC与VPC打通）\n- **ecsOnVpc**：阿里云ECS自建PostgreSQL","type":"string","example":"ecsonvpc"},"SourceIpAddress":{"description":"自建PostgreSQL数据库的内网IP。","type":"string","example":"172.2.XX.XX"},"SourcePort":{"description":"自建PostgreSQL数据库的端口。","type":"integer","format":"int64","example":"5432"},"SourceAccount":{"description":"用户名。","type":"string","example":"migratetest"},"SourcePassword":{"description":"密码。","type":"string","example":"123456"},"TargetEip":{"description":"预留参数，查询结果为空。","type":"string","example":"null"},"TargetInstanceName":{"description":"目标实例ID。","type":"string","example":"pgm-bp102g323jd4****"},"Detail":{"description":"上云前检查报告内容。","type":"string","example":"[Check rds empty]\\nCheck rds databases: success\\n[Check source connectivity]\\nCheck ip connectable: success\\nCheck port connectable: success\\nCheck database connectable: success\\nCheck account replication privilege: success\\nCheck account createrole privilege: success\\nCheck account monitor privilege: success\\n[Check source version]\\nCheck major version consistent: success\\n[Check source glibc version]\\nCheck source glibc version compatible: warning(warning:source glibc version is not compatible with rds pg)\\n[Check disk size]\\nCheck disk size enough: success\\n[Check wal keep size]\\nCheck wal keep size large enough: success\\n[Check spec params]\\nCheck if spec params too large: success\\n [Check triggers]\\nCheck triggers compatible: success\\n[Check user functions]\\nCheck user functions compatible: success\\n*Migrate check success*"}}}},"PageNumber":{"description":"页数。","type":"integer","format":"int64","example":"1"},"PageSize":{"description":"每页最大记录数","type":"integer","format":"int64","example":"10"}}}}},"errorCodes":{"400":[{"errorCode":"Order.ComboInstanceNotAllowOperate","errorMessage":"A package instance is not allowed to operate independently."},{"errorCode":"Price.PricingPlanResultNotFound","errorMessage":"Pricing plan price result not found."},{"errorCode":"Order.NoRealNameAuthentication","errorMessage":"You have not passed the real-name authentication and do not meet the purchase conditions. Please log in to the user center for real-name authentication."}],"404":[{"errorCode":"InvalidDBInstanceName.NotFound","errorMessage":"The database instance does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalSize\\\": 1,\\n  \\\"RequestId\\\": \\\"7E4A6E1B-789B-5F16-9736-39AA57FC7374\\\",\\n  \\\"Items\\\": [\\n    {\\n      \\\"GmtCreated\\\": \\\"2022-02-25T06:57:41Z\\\",\\n      \\\"GmtModified\\\": \\\"2022-02-25T06:58:00Z\\\",\\n      \\\"TaskId\\\": 440420798,\\n      \\\"TaskName\\\": \\\"lxbv6rtxno8\\\",\\n      \\\"SourceCategory\\\": \\\"ecsonvpc\\\",\\n      \\\"SourceIpAddress\\\": \\\"172.2.XX.XX\\\",\\n      \\\"SourcePort\\\": 5432,\\n      \\\"SourceAccount\\\": \\\"migratetest\\\",\\n      \\\"SourcePassword\\\": \\\"123456\\\",\\n      \\\"TargetEip\\\": \\\"null\\\",\\n      \\\"TargetInstanceName\\\": \\\"pgm-bp102g323jd4****\\\",\\n      \\\"Detail\\\": \\\"[Check rds empty]\\\\\\\\nCheck rds databases: success\\\\\\\\n[Check source connectivity]\\\\\\\\nCheck ip connectable: success\\\\\\\\nCheck port connectable: success\\\\\\\\nCheck database connectable: success\\\\\\\\nCheck account replication privilege: success\\\\\\\\nCheck account createrole privilege: success\\\\\\\\nCheck account monitor privilege: success\\\\\\\\n[Check source version]\\\\\\\\nCheck major version consistent: success\\\\\\\\n[Check source glibc version]\\\\\\\\nCheck source glibc version compatible: warning(warning:source glibc version is not compatible with rds pg)\\\\\\\\n[Check disk size]\\\\\\\\nCheck disk size enough: success\\\\\\\\n[Check wal keep size]\\\\\\\\nCheck wal keep size large enough: success\\\\\\\\n[Check spec params]\\\\\\\\nCheck if spec params too large: success\\\\\\\\n [Check triggers]\\\\\\\\nCheck triggers compatible: success\\\\\\\\n[Check user functions]\\\\\\\\nCheck user functions compatible: success\\\\\\\\n*Migrate check success*\\\"\\n    }\\n  ],\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 10\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeCloudMigrationPrecheckResultResponse>\\n    <TotalSize>1</TotalSize>\\n    <RequestId>7E4A6E1B-789B-5F16-9736-39AA57FC7374</RequestId>\\n    <Items>\\n        <GmtCreated>2022-02-25T06:57:41Z</GmtCreated>\\n        <GmtModified>2022-02-25T06:58:00Z</GmtModified>\\n        <TaskId>440420798</TaskId>\\n        <TaskName>lxbv6rtxno8</TaskName>\\n        <SourceCategory>ecsonvpc</SourceCategory>\\n        <SourceIpAddress>172.2.XX.XX</SourceIpAddress>\\n        <SourcePort>5432</SourcePort>\\n        <SourceAccount>migratetest</SourceAccount>\\n        <SourcePassword>123456</SourcePassword>\\n        <TargetInstanceName>pgm-bp102g323jd4****</TargetInstanceName>\\n        <Detail>[Check rds empty]\\\\nCheck rds databases: success\\\\n[Check source connectivity]\\\\nCheck ip connectable: success\\\\nCheck port connectable: success\\\\nCheck database connectable: success\\\\nCheck account replication privilege: success\\\\nCheck account createrole privilege: success\\\\nCheck account monitor privilege: success\\\\n[Check source version]\\\\nCheck major version consistent: success\\\\n[Check source glibc version]\\\\nCheck source glibc version compatible: warning(warning:source glibc version is not compatible with rds pg)\\\\n[Check disk size]\\\\nCheck disk size enough: success\\\\n[Check wal keep size]\\\\nCheck wal keep size large enough: success\\\\n[Check spec params]\\\\nCheck if spec params too large: success\\\\n [Check triggers]\\\\nCheck triggers compatible: success\\\\n[Check user functions]\\\\nCheck user functions compatible: success\\\\n*Migrate check success*</Detail>\\n    </Items>\\n    <PageNumber>1</PageNumber>\\n    <PageSize>10</PageSize>\\n</DescribeCloudMigrationPrecheckResultResponse>\",\"errorExample\":\"\"}]","title":"查询RDS PostgreSQL一键上云前检查报告","description":"### 适用引擎\n\n- RDS PostgreSQL"}