{"summary":"RefundInstance：调用本接口退订不再需要的实例。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ClientToken","in":"query","schema":{"title":"clientToken","description":"需要幂等场景必填。UUID生成的字符串。此字段用于幂等，多次调用传入同样的值，会返回第一次的结果。调用后如果返回了结果，可以解析到退款订单编号，代表调用成功。","type":"string","required":false,"example":"793F021C-B589-1225-82A9-99232AEBE494"}},{"name":"ImmediatelyRelease","in":"query","schema":{"title":"immediatelyRelease","description":"退订场景必填。1：标识立即释放。0：标识先停机，根据停机策略停机。仅部分商品支持。默认都是立即释放。","type":"string","required":false,"example":"1"}},{"name":"ProductCode","in":"query","schema":{"title":"productCode","description":"退订场景必填，产品code。如果调用后错误码提示产品不支持，可提交工单申请云产品允许开通此功能。","type":"string","required":false,"example":"ecs"}},{"name":"InstanceId","in":"query","schema":{"title":"instanceId","description":"退订场景必填，实例id，非自定义名称。","type":"string","required":false,"example":"i-bp1etb69sqxgl4*******"}},{"name":"ProductType","in":"query","schema":{"title":"productType","description":"退订场景必填，产品类型，无特殊说明传入空字符串。在调试工具上，无需手动输入，鼠标放到输入框上，会弹出\"输入空字符串\"的按钮，点击此按钮即可。通过代码发起退订时，传入英文字符下的空字符串 \"\"。","type":"string","required":false,"example":"空字符串"}}],"responses":{"200":{"schema":{"title":"result","description":"result","type":"object","properties":{"Message":{"title":"message","description":"执行结果说明","type":"string","example":"success"},"RequestId":{"title":"requestId","description":"执行链路追踪字符串，排查问题时，可以提供给平台。","type":"string","example":"UUID"},"Data":{"title":"data","description":"data","type":"object","properties":{"HostId":{"title":"hostId","description":"执行主机所在站点","type":"string","example":"cn"},"OrderId":{"title":"orderId","description":"退订成功的情况下，返回退款订单id","type":"integer","format":"int64","example":"2100000000***"}}},"Code":{"title":"code","description":"响应码","type":"string","example":"ResourceNotExists"},"Success":{"title":"success","description":"success=true代表调用执行完成。success=false代表执行出现错误。","type":"boolean","example":"false"}}}}},"errorCodes":{"400":[{"errorCode":"ResourceNotExists","errorMessage":"The specific resource is not exists."},{"errorCode":"ResourceStatusError","errorMessage":"The resource status error."},{"errorCode":"InvalidOwner","errorMessage":"The specified owner does not belong to caller."},{"errorCode":"InvalidParameter","errorMessage":"The specified request contains invalid parameters."},{"errorCode":"MissingParameter","errorMessage":"The specified request lacks essential parameters."},{"errorCode":"NotApplicable","errorMessage":"The specified API is not applicable for the user."},{"errorCode":"NotAuthorized","errorMessage":"The user is not authorized for the specified API."},{"errorCode":"BindMirrorInstanceError","errorMessage":"Charged images that are related to ECS."},{"errorCode":"ExceedRefundQuotaError","errorMessage":"The number of unsubscription times has reached the upper limit."},{"errorCode":"ExistUnPaidOrderError","errorMessage":"The instance has an unsettled order."},{"errorCode":"ExistRefundingOrderError","errorMessage":"The instance ID is invalid: the instance may have expired, been refunded, or been released."},{"errorCode":"NoRestValueError","errorMessage":"The refund amount is 0."},{"errorCode":"AmbassadorOrderLimitError","errorMessage":"The instance has an ambassador order that may raise risks."},{"errorCode":"ActivityForbiddenError","errorMessage":"Promotional orders do not support refunds."},{"errorCode":"ProductCheckError","errorMessage":"The cloud service failed SPI preflight verification."},{"errorCode":"CommodityNotSupported","errorMessage":"The specified commodity is not supported."}],"500":[{"errorCode":"InternalError","errorMessage":"An error occurred in the internal server."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"UUID\\\",\\n  \\\"Data\\\": {\\n    \\\"HostId\\\": \\\"cn\\\",\\n    \\\"OrderId\\\": 0\\n  },\\n  \\\"Code\\\": \\\"ResourceNotExists\\\",\\n  \\\"Success\\\": false\\n}\",\"type\":\"json\"}]","title":"退订实例","description":"1. 退订只退还实付金额的部分，已使用的代金券不退还。\n2. 请仔细核对退订资源的信息，并确认退订条款和退订金额，资源一经退订无法恢复。\n3. 其他问题请参照：<props=\"china\">[退订规则](https://help.aliyun.com/knowledge_detail/116043.html?spm=a2c81.e1d666e.app.2.62ae11271Kd6iM)</props><props=\"intl\">[国际站退订规则说明](https://www.alibabacloud.com/help/zh/user-center/user-guide/refund-rules)</props>","extraInfo":"**针对部分业务规则拦截返回的错误码的解释**\n\n- ResourceNotExists：实例不存在\n- ResourceStatusError：实例状态不对\n- BindMirrorInstanceError：ecs有关联的收费镜像\n- ExceedRefundQuotaError：退订次数超过quota配额上限\n- ExistUnPaidOrderError：实例下存在未支付订单\n- ExistRefundingOrderError：无效实例ID(实例已到期或已退款或已释放)\n- NoRestValueError：退款金额为0\n- AmbassadorOrderLimitError：实例下有云大使订单\n- ActivityForbiddenError：活动订单禁止退款\n- ProductCheckError：云产品规则预校验未通过"}