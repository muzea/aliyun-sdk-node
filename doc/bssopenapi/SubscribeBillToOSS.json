{"summary":"导出阿里云OSS订阅账单详单数据。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"SubscribeBucket","in":"query","schema":{"description":"指定详单导出的OSS Bucket。","type":"string","required":true,"docRequired":true,"example":"xxxxxx-bucket"}},{"name":"SubscribeType","in":"query","schema":{"description":"订阅类型。取值类型：\n- BillingItemDetailForBillingPeriod：计费项消费明细。\n- InstanceDetailForBillingPeriod：实例消费明细。\n- BillingItemDetailMonthly：计费项消费账期汇总。\n- InstanceDetailMonthly：实例消费账期汇总。\n- SplitItemDetailDaily: 分账账单按天汇总。\n- MonthBill：月账单PDF。仅支持订阅MA。\n","type":"string","required":false,"example":"BillingItemDetailForBillingPeriod"}},{"name":"MultAccountRelSubscribe","in":"query","schema":{"description":"对于多级账号，可指定推送账单的类型。可选值为：\n- MA：推送主账号及财务云非托管子账号账单。\n- ACP1：推送虚商子账号账单。\n\n默认：MA。","type":"string","required":false,"example":"MA"}},{"name":"BucketOwnerId","in":"query","schema":{"description":"存储文件的Oss Owner对应的UID。如果是Bid/ReSeller订阅，并需要推送到子账号的OSS上时指定，需要此账号为调用账号子账号，并对此账号授予AliyunConsumeDump2OSSRole权限。\n普通用户则无需指定，默认为调用账号。","type":"integer","format":"int64","required":false,"example":"12341324"}},{"name":"BeginBillingCycle","in":"query","schema":{"description":"推送起始账期。订阅成功后，系统会自动推送起始账期到当前时间的数据。月账单PDF订阅时此参数无效，不会对历史数据重新推送。最多可推送最近1年内数据。","type":"string","required":false,"example":"2021-03"}},{"name":"BucketPath","in":"query","schema":{"title":"OSS Bucket存储路径","description":"OSS Bucket存储路径。","type":"string","required":false,"example":"testpath"}},{"name":"RowLimitPerFile","in":"query","schema":{"description":"单文件行数上限。当账单文件超过上限后，会拆成多个文件，并合并成一个压缩包。","type":"integer","format":"int32","required":false,"example":"300000"}},{"name":"UsingSsl","in":"query","schema":{"description":"是否通过SSL（Secure Sockets Layer）加密协议来保护网络通信。当此参数设为true时，表示启用SSL加密，以确保数据传输的安全性和完整性。","type":"string","required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。","type":"string","example":"Success"},"Message":{"description":"错误信息。","type":"string","example":"Successful!"},"RequestId":{"description":"请求ID。","type":"string","example":"F61FCE4B-9B56-4FD9-A17E-******"},"Success":{"description":"是否成功。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"Success\\\",\\n  \\\"Message\\\": \\\"Successful!\\\",\\n  \\\"RequestId\\\": \\\"F61FCE4B-9B56-4FD9-A17E-******\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SubscribeBillToOSSResponse>\\n    <Message>Successful!</Message>\\n    <RequestId>F61FCE4B-9B56-4FD9-A17E-******</RequestId>\\n    <Success>true</Success>\\n    <Code>Success</Code>\\n</SubscribeBillToOSSResponse>\",\"errorExample\":\"\"}]","title":"导出订阅详单","description":"在调用该接口时，请注意：\n\n- 用户一次订阅一个类型的账单文件。\n\n- 订阅后次日开始每日推送上一日生成的账单文件，每月4号推送上月整账期的全量账单文件。月账单PDF每月4号推送上月账单文件。\n\n- 按天生成的账单文件可能存在时延，延迟生成的账单会在生成次日推送，也可能会包含上一日之前延迟到上一日生成的账单。建议每个月初拉取上个月全量文件。\n\n> <props=\"china\">需要给订阅用户授予[AliyunConsumeDump2OSSRole](https://ram.console.aliyun.com/#/role/authorize?request=%7B%22Requests%22:%20%7B%22request1%22:%20%7B%22RoleName%22:%20%22AliyunConsumeDump2OSSRole%22,%20%22TemplateId%22:%20%22Dump2OSSRole%22%7D%7D,%20%22ReturnUrl%22:%20%22https:%2F%2Fusercenter2.aliyun.com%22,%20%22Service%22:%20%22Consume%22%7D)权限。</props>\n\n- 本订阅与费用中心首页的“账单数据存储”为同一功能，订阅互通。\n\n- 订阅至Bucket下的目录时，请注意符合目录命名规范：\n\n    - 不允许使用表情符，请使用符合要求的 UTF-8 字符。\n    - / 用于分割路径，可快速创建子目录，但不要以 / 或 \\ 开头，不要出现连续的 /。\n    - 不允许出现名为 .. 的子目录。\n    - 总长度控制在 1~254 个字符。\n\n\n- 文件名：\n\n    - **BillingItemDetailForBillingPeriod**（计费项账单明细）\n    \n        - 每日推送文件名格式：`UID_BillingItemDetail_YYYYMMDD`，例如：`169**_BillingItemDetail_20190310`。\n    \n        - 下月初完整文件名格式：`UID_BillingItemDetail_YYYYMM`，例如：`169**_BillingItemDetail_201903`。\n    \n    - **InstanceDetailForBillingPeriod**（实例账单明细）\n    \n        - 每日推送文件名格式：`UID_InstanceDetail_YYYYMMDD`，例如：`169**_InstanceDetail_20190310`。\n    \n        - 下月初完整文件名格式：`UID_InstanceDetail_YYYYMM`，例如：`169**_InstanceDetail_201903`。\n\n    - **InstanceDetailMonthly**（实例账单账期汇总）\n    \n        - 每日推送文件名格式：`UID_InstanceDetailMonthly_YYYYMM`，例如：`169**_InstanceDetailMonthly_201903`。此文件每日更新月初至当日的全量数据，直至次月4号。\n\n    - **BillingItemDetailMonthly**（计费项账单账期汇总）\n    \n        - 每日推送文件名格式：`UID_BillingItemDetailMonthly_YYYYMM`，例如：`169**_BillingItemDetailMonthly_201903`。此文件每日更新月初至当日的全量数据，直至次月4号。\n\n    - **SplitItemDetailDaily**（分账账单按天汇总）\n    \n        - 每日推送文件名格式：`UID_SplitItemDetailDaily_YYYYMM`，例如：`169**_SplitItemDetailDaily_201903`。此文件每日更新月初至当日的全量数据，直至次月4号。\n\n    - **MonthBill**（月账单PDF）\n    \n        - 每月推送文件名格式：`UID_MonthBill_YYYYMM`，例如：`169**_MonthBill_201903`。每月4号推送上月账单文件。\n\n- 除MonthBill为PDF文件外，其余文件类型为csv文件。但如果账单数据行数超过一定阈值，会自动拆分成多个csv文件，并合并压缩成一个zip文件，zip文件名格式相同。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}