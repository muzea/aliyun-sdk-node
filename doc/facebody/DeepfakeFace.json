{"summary":"本文介绍人脸人体（facebody）类目下的换脸鉴别DeepfakeFace的语法及示例。","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"Tasks","in":"formData","style":"repeatList","schema":{"description":"输入人脸数据。","type":"array","items":{"type":"object","properties":{"ImageURL":{"description":"待检测的图像URL地址。JSON数组中的每个元素是一个图片检测任务结构体（image表）。最多支持10个元素，即同时最多对10张图片进行检测。推荐使用上海地域的OSS链接，对于文件在本地或者非上海地域OSS链接的情况，请参见[文件URL处理](~~155645~~)。\n\n> 对于该接口，系统会自动将OSS链接地址转成内网地址然后再下载文件，所以调用该接口并不会产生OSS流量计费。","type":"string","required":false,"example":"https://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/facebody/DeepfakeFace/DeepfakeFace1.jpg","isFileTransferUrl":true},"ImageData":{"description":"图像Base64编码字符串。当与URL方式共存时，URL方式优先。\n文件的Base64编码处理操作，请参见[文件Base64处理](~~468191~~)。","type":"string","required":false,"example":"/9j/4AAQSkZJRgABAQAAAQABAAD/2****"}},"required":false},"required":true,"maxItems":10}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"8E6F65D5-62A1-1E5B-BC0B-00508034AC92"},"Data":{"description":"返回的结果数据内容。","type":"object","properties":{"Elements":{"description":"返回识别的元素。","type":"array","items":{"type":"object","properties":{"ImageURL":{"description":"对应请求中的图像URL地址。","type":"string","example":"http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/facebody/DeepfakeFace/DeepfakeFace1.jpg"},"TaskId":{"description":"该检测任务的ID。","type":"string","example":"8E6F65D5-62A1-1E5B-BC0B-00508034AC92"},"Results":{"description":"返回结果。调用成功时返回结果中包含一个或多个元素。","type":"array","items":{"type":"object","properties":{"Label":{"description":"检测结果的分类，取值包括：\n\n- normalface：真脸照片\n- deepfakeface：换脸照片\n\n如果未检测到人脸，则Label返回为`deepfake`。","type":"string","example":"normalface"},"Confidence":{"description":"取值范围为\\[0.00,100.00]。数值越低表示属于真脸的概率越大。","type":"number","format":"float","example":"36.6455"},"Rect":{"description":"人脸检测框信息。","type":"object","properties":{"Left":{"description":"检测框左上角的点x坐标。","type":"integer","format":"int64","example":"373"},"Top":{"description":"检测框左上角的点y坐标。","type":"integer","format":"int64","example":"111"},"Width":{"description":"检测框宽度。","type":"integer","format":"int64","example":"207"},"Height":{"description":"检测框高度。","type":"integer","format":"int64","example":"284"}}},"MessageTips":{"description":"提示信息。\n- 如输入模糊、遮挡或大角度等的人脸，则返回提示信息：`blurred, occluded or large angle face, please check.`  \n- 如未检测到人脸，则返回提示信息：`no face detected, try again please.`","type":"string","example":"blurred, occluded or large angle face, please check."}}}},"FaceNumber":{"description":"单张图片检测到的人脸数量。\n如果未检测到人脸，FaceNumber返回为0。","type":"integer","format":"int64","example":"1"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"ParameterError","errorMessage":"The parameter is invalid. Please check again."}],"403":[{"errorCode":"AuthFailed","errorMessage":"An error occurred while performing authorization. Please check your RAM configuration."}],"408":[{"errorCode":"Timeout","errorMessage":"The request has timed out."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The service is unavailable."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8E6F65D5-62A1-1E5B-BC0B-00508034AC92\\\",\\n  \\\"Data\\\": {\\n    \\\"Elements\\\": [\\n      {\\n        \\\"ImageURL\\\": \\\"http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/facebody/DeepfakeFace/DeepfakeFace1.jpg\\\",\\n        \\\"TaskId\\\": \\\"8E6F65D5-62A1-1E5B-BC0B-00508034AC92\\\",\\n        \\\"Results\\\": [\\n          {\\n            \\\"Label\\\": \\\"normalface\\\",\\n            \\\"Confidence\\\": 36.6455,\\n            \\\"Rect\\\": {\\n              \\\"Left\\\": 373,\\n              \\\"Top\\\": 111,\\n              \\\"Width\\\": 207,\\n              \\\"Height\\\": 284\\n            },\\n            \\\"MessageTips\\\": \\\"blurred, occluded or large angle face, please check.\\\"\\n          }\\n        ],\\n        \\\"FaceNumber\\\": 1\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DeepfakeFaceResponse>\\n    <RequestId>8E6F65D5-62A1-1E5B-BC0B-00508034AC92</RequestId>\\n    <Data>\\n        <Elements>\\n            <ImageURL>http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/facebody/DeepfakeFace/DeepfakeFace1.jpg</ImageURL>\\n            <TaskId>8E6F65D5-62A1-1E5B-BC0B-00508034AC92</TaskId>\\n            <Results>\\n                <Label>normalface</Label>\\n                <Confidence>36.6455</Confidence>\\n                <Rect>\\n                    <Left>373</Left>\\n                    <Top>111</Top>\\n                    <Width>207</Width>\\n                    <Height>284</Height>\\n                </Rect>\\n                <MessageTips>blurred, occluded or large angle face, please check.</MessageTips>\\n            </Results>\\n            <FaceNumber>1</FaceNumber>\\n        </Elements>\\n    </Data>\\n</DeepfakeFaceResponse>\",\"errorExample\":\"\"}]","title":"换脸鉴别","description":"## 功能描述\n换脸鉴别基于图像算法AI技术，实现对图片人脸的真伪进行灵敏检测和深度分析。能力范围支持：\n\n1. 鉴别图片中的人脸是否为AI换脸算法所深度合成的假脸。\n2. 鉴别图片中的人脸是否为AI人脸属性编辑生成类算法所深度合成的假脸。深度伪造技术是指利用深度学习实现图片或视频换脸、人脸编辑生成的技术。\n\n关于该接口功能的示例图如下：\n\n- 未经算法合成：\n![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/file-manage-files/zh-CN/20231109/kpoj/real2.png)\n![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/file-manage-files/zh-CN/20231109/rvyz/real1.jpg)\n\n- 经过算法合成：\n![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/file-manage-files/zh-CN/20231109/vcgh/fake1.png)\n![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/file-manage-files/zh-CN/20231109/xgjj/fake2.png)\n\n> - 您可以进入[在线咨询](https://www.aliyun.com/core/online-consult?from=aZgW6LJHr2)获取在线人工帮助。\n- 当前能力可在视觉智能开放平台有完整的免费产品体验，您可以单击[立即试用](https://vision.aliyun.com/experience/detail?&tagName=facebody&children=DeepfakeFace)对该能力进行更直观试用以及在线购买。\n- 阿里云视觉智能开放平台视觉AI能力API接入、接口使用或问题咨询等，请通过钉钉群（23109592）加入阿里云视觉智能开放平台咨询群联系我们。\n\n## 应用场景\n- 打击换脸视频网络传播：互联网娱乐性质换脸小程序、APP应用爆火，换脸鉴别技术可以识别出网络短视频中的伪造视频人脸，杜绝视频换脸造假。\n- 打击互联网ID换脸诈骗：深度伪造技术高频使用，假视频与社交网络结合深深影响舆论走向和诱导诈骗。换脸鉴别可识别网上业务办理中的人脸伪造视频，减少网络诈骗。\n- 打击色情娱乐等黑灰产业：互联网的深度伪造合成的色情视频数量巨大，换脸鉴别可以识别此类伪造视频，减少伪造视频人脸色情内容传播，切断色情传播链路。\n- 人脸特征编辑鉴别：真人ID版权核验，通过换脸鉴别可以识别出版权素材库中人脸属性编辑生成算法所深度合成的假脸图片素材，杜绝换脸造假，杜绝人脸版权侵权行为。\n\n## 特色优势\n- 反制AI技术滥用：换脸鉴别基于达摩院人脸图像算法和Deepfake鉴别技术，提供对图像中的人脸特征进行全方位分析，利用AI技术反制换脸、合成脸、人脸特征编辑生成这类AI技术的滥用，保护用户合法权益、维护社会公共安全。\n- 领先鉴别技术：基于图片中人像目标的高维度全量特征，换脸鉴别服务涵盖依据视频图像的像素、纹理级别的低阶特征，到具有全局语义的高阶特征，对图像进行全方位、高语义、多层次组合分析，攻防一体式的训练，极大提升合成人脸图片检出率。\n- 准确率高：换脸鉴别结合阿里云多年人脸识别技术能力和大数据安全技术能力，能对视频图像中 AI 换脸、AI人脸生成等技术进行准确识别判断，对AI换脸攻击识别准确率高。\n- 支持单个或多个人脸判断逻辑，可直接调用的API接口，服务简单易用，易被集成，兼容性强。\n\n## 接入指引\n1. 注册阿里云账号：打开[阿里云官网](https://www.aliyun.com)，在阿里云官网右上角，单击**立即注册**，按照操作提示完成账号注册。\n2. 开通能力：请确保您已开通[人脸人体服务](https://vision.aliyun.com/facebody)，若未开通服务请[立即开通](https://common-buy.aliyun.com/?commodityCode=viapi_facebody_public_cn#/open)。\n> 本能力支持企业或个人认证用户开通。更多实名认证操作信息，请参见[实名认证](https://help.aliyun.com/knowledge_list/37170.html)。\n3. 创建AccessKey：请确保您已[创建AccessKey](~~175144~~)，如果您使用的是子账号AccessKey，您需要给子账号赋予AliyunVIAPIFullAccess权限，具体操作，请参见[RAM授权](~~145025~~)。\n4. 在线调试（可选）：您可以通过[OpenAPI Explorer](https://next.api.aliyun.com/api/facebody/2019-12-30/DeepfakeFace)在线调试能力，查看完整的调用示例代码及SDK依赖信息，也可以下载完整的工程。\n5. 开发接入步骤：\n- 在[SDK总览](~~145033~~)中选择您要接入使用的SDK语言。\n- 在对应语言的SDK文档中找到AI类目为人脸人体（facebody）的SDK包进行安装。\n- 参考文档中提供的示例代码进行适当修改后调用。\n\n6. 客户端直接调用：该能力常用的客户端调用方式包括以下几种。\n- [Web前端直接调用](~~467779~~)\n- [小程序场景下直接调用](~~467780~~)\n- [Android端直接调用](~~467781~~)\n- [iOS端直接调用](~~467782~~)\n\n## 输入限制\n\n- 图像格式：PNG、JPG、JPEG、BMP、GIF、WEBP。\n- 图像大小：不超过10 MB。如您有大图需求，请通过钉钉群（23109592）联系我们。\n- 图像分辨率：建议大于256×256像素，人脸区域大于128*128，像素过低可能会影响识别效果。\n- URL地址中不能包含中文字符。\n\n> 当图像分辨率超过最大限制时，请先将图片进行缩放，调整图片大小，具体请参见[图片缩放](~~44688~~)。\n\n## 检测说明\n\n- 最长检测时间是5秒，如果在该时间内没有完成检测，系统会强制返回超时错误码。\n- 图像下载时间限制为3秒，如果下载时间超过3秒，系统会返回下载超时。\n- 图像检测接口响应时间依赖图像的下载时间。请保证被检测图像所在的存储服务稳定可靠，建议您使用阿里云OSS存储或者CDN缓存。\n- 最多可检测10张图像。\n\n## 计费说明\n换脸鉴别能力目前处于公测期，可免费调用。","responseParamsDescription":"## SDK参考\n阿里云视觉AI人脸人体类目下的换脸鉴别能力推荐使用SDK调用，支持多种编程语言，调用时请选择AI类目为人脸人体（facebody）的SDK包，文件参数通过SDK调用可支持本地文件及任意URL，具体可参见[SDK总览](~~145033~~)。","extraInfo":"## 换脸鉴别阈值参考\n接口返回Label默认按照Confidence的阈值为50，当Confidence小于50，**Lable**为`normalface`；当Confidence大于50，**Lable**为`deepfakeface`。\nConfidence为模型置信度，取值范围是\\[0,100]，越低表示属于真脸的概率越大。您也可以通过卡Confidence阈值的方法匹配不同使用场景更灵活使用，内部实验参考数据如下。\n\n| Confidence阈值 | 伪造人脸拦截率   | 真实人脸通过率 |\n| ---- | ------------ | ---- |\n|15   |98.21%  |80.27%   |\n|30   |97.56%  |87.59%   |\n|40   |97.04%  |90.67%   |\n|50（默认）   |95.09%  |96.61%   |\n|60   |92.50%  |98.13%   |\n|70   |90.59%  |98.77%   |\n\n关于以上数值的概念定义：\n- 伪造人脸拦截率：如98%，代表100次作弊伪造人脸攻击，会有98次被API识破拒绝。\n- 真实人脸通过率：如98%，代表100次真实人脸请求，会有98次顺利通过活体验证。\n\n> 内部实验数据测算，仅供参考。\n\n## 错误码\n关于换脸鉴别的错误码，详情请参见[常见错误码](~~146756~~)。\n\n## 安全声明\n- 请确保上传的图片或文件来源符合相应的法律法规。\n- 通过体验调试上传的临时文件有效期为1小时，在24小时后会被系统自动清理删除。\n- 平台不存储用户在使用服务过程中涉及的原始人脸图片或文件信息。"}