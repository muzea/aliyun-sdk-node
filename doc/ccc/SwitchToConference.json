{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]},{"BearerToken":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"ccc-test"}},{"name":"UserId","in":"query","schema":{"description":"坐席ID，不填默认使用当前RAM账号映射的坐席。","type":"string","required":false,"docRequired":true,"example":"agent@ccc-test"}},{"name":"DeviceId","in":"query","schema":{"description":"无效字段，可以随便填写。","type":"string","required":false,"docRequired":true,"example":"device"}},{"name":"JobId","in":"query","schema":{"description":"通话ID。","type":"string","required":true,"docRequired":true,"example":"job-24114064019637****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"响应码。","type":"string","example":"OK"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"响应信息。","type":"string","example":"无"},"RequestId":{"description":"请求ID。","type":"string","example":"D9C96A73-09C9-5E2A-8CDB-85EC0BC246DA"},"Params":{"description":"响应参数列表。","type":"array","items":{"description":"响应参数。","type":"string","example":"无"}},"Data":{"description":"数据。","type":"object","properties":{"CallContext":{"description":"话务上下文环境。","type":"object","properties":{"CallType":{"description":"通话类型。","type":"string","enumValueTitles":{"INBOUND":"呼入","BARGE":"强插","CONSULTANT":"咨询","CONFERENCE":"会议","MONITOR":"监听","INTERNAL":"内部通话","OUTBOUND":"呼出","INTERCEPT":"强拆","BACK2BACK":"双呼","PREDICTIVE":"预测式外呼","COACH":"辅导"},"example":"OUTBOUND"},"InstanceId":{"description":"实例ID。","type":"string","example":"ccc-test"},"JobId":{"description":"通话ID。","type":"string","example":"job-6538214103685****"},"ChannelContexts":{"description":"话务通道列表。\n","type":"array","items":{"description":"话务通道。","type":"object","properties":{"Index":{"description":"系统自增ID，客户无需关心。","type":"integer","format":"int32","example":"1"},"ReleaseInitiator":{"description":"话务通道的挂断方，表示该话务通道是谁首先发起的挂断。","type":"string","example":"1390501****"},"ChannelState":{"description":"话务通道的状态。","type":"string","enumValueTitles":{"CREATED":"已创建","ANSWERED":"已接通","RELEASED":"已挂断","RETIRED":"已失效","EARLY_MEDIA":"早媒体阶段","NONE":"初始状态","RINGING":"振铃中"},"example":"NONE"},"Destination":{"description":"话务通道的被叫方。","type":"string","example":"8001****"},"SkillGroupId":{"description":"该通话相关技能组。呼入场景下，技能组由IVR中路由的排队队列指定。在呼出场景下，技能组是座席签入的第一个技能组。","type":"string","example":"skillgroup@ccc-test"},"UserId":{"description":"坐席ID。","type":"string","example":"agent@ccc-test"},"ChannelFlags":{"description":"话务通道标志。","type":"string","enumValueTitles":{"COACHING":"辅导中","MONITORING":"监听中","MONITORED":"被监听","COACHED":"被辅导","HOLD":"保持","MUTED":"静音"},"example":"MONITORING"},"Timestamp":{"description":"话务通道最近一次状态变化的时间戳，格式是Unix时间戳，单位毫秒。","type":"integer","format":"int64","example":"1609255716900"},"ReleaseReason":{"description":"话务通道的挂断原因，表示当前话务通道为什么会被挂断，取值来自SIP协议中定义的响应码，请客户参考SIP协议分析挂断原因。","type":"string","example":"404 - No destination"},"CallType":{"description":"话务通道的通话类型。","type":"string","enumValueTitles":{"INBOUND":"呼入","BARGE":"强插","CONSULTANT":"咨询","CONFERENCE":"会议","MONITOR":"监听","INTERNAL":"内部通话","OUTBOUND":"呼出","INTERCEPT":"强拆","BACK2BACK":"双呼","PREDICTIVE":"预测式外呼","COACH":"辅导"},"example":"OUTBOUND"},"JobId":{"description":"通话ID。","type":"string","example":"job-6538214103685****"},"ChannelId":{"description":"话务通道ID。","type":"string","example":"ch:user:131888****->8001****:1609225718294:job-6538214103685****"},"Originator":{"description":"话务通道的主叫方。","type":"string","example":"1318888****"},"UserExtension":{"description":"话务通道关联的坐席的分机号。","type":"string","example":"8032****"}}}}}},"UserContext":{"description":"坐席上下文环境。","type":"object","properties":{"Heartbeat":{"description":"上次收到坐席心跳的时间，格式为Unix时间戳，单位毫秒。","type":"integer","format":"int64","example":"agent@ccc-test"},"Extension":{"description":"坐席分机号。","type":"string","example":"8032****"},"WorkMode":{"description":"工作模式。","type":"string","enumValueTitles":{"ON_SITE":"场内模式","OFF_SITE":"场外模式","OFFICE_PHONE":"办公电话模式"},"example":"ON_SITE"},"DeviceId":{"description":"设备ID，浏览器WebRTC软电话或实体话机设备的标识ID，同一时间只允许一种设备注册。","type":"string","example":"ACC-YUNBS-1.0.10-****"},"UserId":{"description":"坐席ID。","type":"string","example":"1609136956378"},"BreakCode":{"description":"小休状态码，分为系统定义的和客户定义的两种，系统定义的小休吗包括：Warm-up （坐席上线后置闲前的临时小休状态）、RingingTimeout（坐席振铃超时导致的小休）、RejectCall（坐席拒接导致的小休）。客户自定义状态码没有限制，客户可以根据业务需要自行定义。","type":"string","enumValueTitles":{"RingingTimeout":"坐席振铃超时导致的小休","RejectCall":"坐席拒接导致的小休","Warm-up":"坐席上线后置闲前的临时小休状态"},"example":"Warm-up"},"InstanceId":{"description":"实例ID。","type":"string","example":"ccc-test"},"OutboundScenario":{"description":"坐席是否处于仅外呼模式。","type":"boolean","example":"false"},"DeviceState":{"description":"设备状态。","type":"string","enumValueTitles":{"UNREGISTERED":"未注册","ONLINE":"在线","OFFLINE":"离线"},"example":"false"},"Mobile":{"description":"坐席的个人电话号码。","type":"string","example":"1324730****"},"JobId":{"description":"通话ID。","type":"string","example":"job-6538214103685****"},"UserState":{"description":"座席状态。","type":"string","enumValueTitles":{"READY":"空闲","WORKING":"话后处理中","DIALING":"拨号中","BREAK":"小休","OFFLINE":"离线","TALKING":"通话中","RINGING":"振铃中"},"example":"TALKING"},"SignedSkillGroupIdList":{"description":"坐席签入的技能组ID列表。","type":"array","items":{"description":"技能组ID。","type":"string","example":"skillgroup1@ccc-test\n"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Parameter.Blank","errorMessage":"The parameter %s may not be null or blank."},{"errorCode":"InvalidOperation.ChannelState","errorMessage":"The operation is not allowed. Channel stats (%s) does not meet expectations (%s)."},{"errorCode":"InvalidOperation.UserState","errorMessage":"The operation is not allowed. User state (%s) does not meet expectations (%s)."}],"404":[{"errorCode":"NotExists.ChannelId","errorMessage":"The specified channel %s does not exist in call %s."},{"errorCode":"NotExists.InstanceId","errorMessage":"The specified instance %s does not exist."},{"errorCode":"NotExists.JobId","errorMessage":"The call %s does not exist."}],"500":[{"errorCode":"InternalService.CTI","errorMessage":"An internal CTI service error occurred. %s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"无\\\",\\n  \\\"RequestId\\\": \\\"D9C96A73-09C9-5E2A-8CDB-85EC0BC246DA\\\",\\n  \\\"Params\\\": [\\n    \\\"无\\\"\\n  ],\\n  \\\"Data\\\": {\\n    \\\"CallContext\\\": {\\n      \\\"CallType\\\": \\\"OUTBOUND\\\",\\n      \\\"InstanceId\\\": \\\"ccc-test\\\",\\n      \\\"JobId\\\": \\\"job-6538214103685****\\\",\\n      \\\"ChannelContexts\\\": [\\n        {\\n          \\\"Index\\\": 1,\\n          \\\"ReleaseInitiator\\\": \\\"1390501****\\\",\\n          \\\"ChannelState\\\": \\\"NONE\\\",\\n          \\\"Destination\\\": \\\"8001****\\\",\\n          \\\"SkillGroupId\\\": \\\"skillgroup@ccc-test\\\",\\n          \\\"UserId\\\": \\\"agent@ccc-test\\\",\\n          \\\"ChannelFlags\\\": \\\"MONITORING\\\",\\n          \\\"Timestamp\\\": 1609255716900,\\n          \\\"ReleaseReason\\\": \\\"404 - No destination\\\",\\n          \\\"CallType\\\": \\\"OUTBOUND\\\",\\n          \\\"JobId\\\": \\\"job-6538214103685****\\\",\\n          \\\"ChannelId\\\": \\\"ch:user:131888****->8001****:1609225718294:job-6538214103685****\\\",\\n          \\\"Originator\\\": \\\"1318888****\\\",\\n          \\\"UserExtension\\\": \\\"8032****\\\"\\n        }\\n      ]\\n    },\\n    \\\"UserContext\\\": {\\n      \\\"Heartbeat\\\": 0,\\n      \\\"Extension\\\": \\\"8032****\\\",\\n      \\\"WorkMode\\\": \\\"ON_SITE\\\",\\n      \\\"DeviceId\\\": \\\"ACC-YUNBS-1.0.10-****\\\",\\n      \\\"UserId\\\": \\\"1609136956378\\\",\\n      \\\"BreakCode\\\": \\\"Warm-up\\\",\\n      \\\"InstanceId\\\": \\\"ccc-test\\\",\\n      \\\"OutboundScenario\\\": false,\\n      \\\"DeviceState\\\": \\\"false\\\",\\n      \\\"Mobile\\\": \\\"1324730****\\\",\\n      \\\"JobId\\\": \\\"job-6538214103685****\\\",\\n      \\\"UserState\\\": \\\"TALKING\\\",\\n      \\\"SignedSkillGroupIdList\\\": [\\n        \\\"skillgroup1@ccc-test\\\\n\\\"\\n      ]\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"转会议","summary":"调用SwitchToConference将指定实例下的指定通话的状态切换至三方会议，通常用于咨询转会议的场景。"}