{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]},{"BearerToken":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"ccc-test"}},{"name":"UserId","in":"query","schema":{"description":"坐席ID，非必填，不填则默认使用当前RAM账户映射的坐席。","type":"string","required":false,"example":"agent@ccc-test"}},{"name":"ChatDeviceId","in":"query","schema":{"description":"Chat设备ID。","type":"string","required":false,"example":"4c51c9116c36537cb850dc1081d745df"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"响应码。","type":"string","example":"OK"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"响应信息。","type":"string","example":"无"},"RequestId":{"description":"请求ID。","type":"string","example":"F1A4774A-F28B-5C40-AEF6-D88D2DD6C7E4"},"Params":{"description":"响应参数","type":"array","items":{"description":"响应参数。","type":"string","example":"无"}},"Data":{"description":"登录信息数据。","type":"object","properties":{"DisplayName":{"description":"坐席展示名。","type":"string","example":"坐席小王"},"Extension":{"description":"坐席分机号。","type":"string","example":"8001****"},"Signature":{"description":"签名信息，使用非对称加密算法生成，注册SIP服务器时需要使用该信息进行鉴权。","type":"string","example":"zi31STIMtIfa/UN2l+6lww****"},"SipServerUrl":{"description":"SIP注册服务器地址，坐席需要以SIP用户的身份注册到服务器上才能进行话务操作。","type":"string","example":"sh-sip-ccc.aliyuncs.com:443"},"DeviceId":{"description":"如果座席注册了SIP话机，则此参数是SIP话机设备的设备ID，否则为空。","type":"string","example":"Yealink SIP-T23G 44.84.XX.XX"},"AgentServerUrl":{"description":"坐席数据推送服务器地址，连接成功后，服务器会推送坐席状态数据到坐席工作台。","type":"string","example":"sh-wss-ccc.aliyuncs.com"},"UserId":{"description":"坐席ID。","type":"string","example":"agent@ccc-test"},"UserKey":{"description":"签名数据，用于生成签名信息，由于该签名机制不支持中文，所以目前都使用UserKey2进行签名。","type":"string","example":"坐席@aliyun:802001:1656406628862"},"WorkMode":{"description":"工作模式。","type":"string","enumValueTitles":{"ON_SITE":"场内模式","OFF_SITE":"场外模式","OFFICE_PHONE":"办公电话模式"},"example":"ON_SITE"},"UserKey2":{"description":"签名数据，用于生成签名信息，由于UserKey不支持中文签名，因此新增了UserKey2。","type":"string","example":"802001:1656406628862\""},"Signature2":{"description":"签名信息，使用非对称加密算法生成，注册SIP服务器时需要使用该信息进行鉴权。","type":"string","example":"zi31STIMtIfa/UN2l+6lww****"},"DeviceExt":{"description":"SIP设备分机号，使用SIP话机时需要用到该字段。","type":"string","example":"8033****"},"DeviceState":{"description":"SIP设备状态。","type":"string","enumValueTitles":{"UNREGISTERED":"未注册","ONLINE":"在线","OFFLINE":"离线"},"example":"OFFLINE"},"ChatUserId":{"description":"Chat会话设备ID。","type":"string","example":"A-8000100x"},"ChatDeviceId":{"description":"Chat设备ID。","type":"string","example":"4c51c9116c36537cb850dc1081d745df"},"ChatLoginToken":{"description":"Chat会话登录令牌。","type":"string","example":"{\"accessToken\":\"oauth_cloud_key:4xxx0=\",\"accessTokenExpiredTime\":864xxxx,\"refreshToken\":\"oauth_cloud_key:Paxxxx==\"}"},"ChatAppId":{"description":"Chat会话应用ID。","type":"string","example":"7pjxxx"},"ChatAppKey":{"description":"Chat会话应用密钥。","type":"string","example":"955e4bd7xxxxxxxxxxxxxd7898ba9fa0d0"},"ChatServerUrl":{"description":"Chat会话服务器地址。","type":"string","example":"wss://wss.im.dingtalk.cn"},"Nickname":{"description":"坐席昵称","type":"string","example":"老王"},"AvatarUrl":{"description":"坐席头像地址。","type":"string","example":"http://abc.com/sam.jpb"}}}}}}},"errorCodes":{"404":[{"errorCode":"NotExists.InstanceId","errorMessage":"The specified instance %s does not exist."},{"errorCode":"NotExists.UserId","errorMessage":"The user %s does not exist in instance %s."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"无\\\",\\n  \\\"RequestId\\\": \\\"F1A4774A-F28B-5C40-AEF6-D88D2DD6C7E4\\\",\\n  \\\"Params\\\": [\\n    \\\"无\\\"\\n  ],\\n  \\\"Data\\\": {\\n    \\\"DisplayName\\\": \\\"坐席小王\\\",\\n    \\\"Extension\\\": \\\"8001****\\\",\\n    \\\"Signature\\\": \\\"zi31STIMtIfa/UN2l+6lww****\\\",\\n    \\\"SipServerUrl\\\": \\\"sh-sip-ccc.aliyuncs.com:443\\\",\\n    \\\"DeviceId\\\": \\\"Yealink SIP-T23G 44.84.XX.XX\\\",\\n    \\\"AgentServerUrl\\\": \\\"sh-wss-ccc.aliyuncs.com\\\",\\n    \\\"UserId\\\": \\\"agent@ccc-test\\\",\\n    \\\"UserKey\\\": \\\"坐席@aliyun:802001:1656406628862\\\",\\n    \\\"WorkMode\\\": \\\"ON_SITE\\\",\\n    \\\"UserKey2\\\": \\\"802001:1656406628862\\\\\\\"\\\",\\n    \\\"Signature2\\\": \\\"zi31STIMtIfa/UN2l+6lww****\\\",\\n    \\\"DeviceExt\\\": \\\"8033****\\\",\\n    \\\"DeviceState\\\": \\\"OFFLINE\\\",\\n    \\\"ChatUserId\\\": \\\"A-8000100x\\\",\\n    \\\"ChatDeviceId\\\": \\\"4c51c9116c36537cb850dc1081d745df\\\",\\n    \\\"ChatLoginToken\\\": \\\"{\\\\\\\"accessToken\\\\\\\":\\\\\\\"oauth_cloud_key:4xxx0=\\\\\\\",\\\\\\\"accessTokenExpiredTime\\\\\\\":864xxxx,\\\\\\\"refreshToken\\\\\\\":\\\\\\\"oauth_cloud_key:Paxxxx==\\\\\\\"}\\\",\\n    \\\"ChatAppId\\\": \\\"7pjxxx\\\",\\n    \\\"ChatAppKey\\\": \\\"955e4bd7xxxxxxxxxxxxxd7898ba9fa0d0\\\",\\n    \\\"ChatServerUrl\\\": \\\"wss://wss.im.dingtalk.cn\\\",\\n    \\\"Nickname\\\": \\\"老王\\\",\\n    \\\"AvatarUrl\\\": \\\"http://abc.com/sam.jpb\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"获取登录信息","summary":"调用GetLoginDetails获取坐席的登录信息，包括坐席基本信息、服务器地址信息、鉴权信息等，该接口只允许自己调用，管理员无权替他人调用。"}