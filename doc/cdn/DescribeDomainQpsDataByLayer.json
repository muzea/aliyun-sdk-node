{"methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"none"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"加速域名，多个域名用半角逗号（,）分隔，一次最多支持500个域名查询。\n\n默认查询所有加速域名。","type":"string","required":false,"example":"example.com"}},{"name":"StartTime","in":"query","schema":{"description":"获取数据起始时间点。日期格式按照ISO8601表示法，并使用UTC时间。格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","required":false,"example":"2019-11-30T05:33:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"获取数据结束时间点。日期格式按照ISO8601表示法，并使用UTC时间。格式为yyyy-MM-ddTHH:mm:ssZ。\n\n> 结束时间需大于起始时间。","type":"string","required":false,"example":"2019-11-30T05:40:00Z"}},{"name":"Interval","in":"query","schema":{"description":"指定查询数据的时间粒度，单位：秒。\n\n根据单次查询的最大时间跨度不同，该参数支持300（5分钟）、3600（1小时）和86400（1天）取值，具体请参见**使用说明**中支持查询的时间粒度。","type":"string","required":false,"example":"300"}},{"name":"IspNameEn","in":"query","schema":{"description":"运营商英文名，通过[DescribeCdnRegionAndIsp](~~91077~~)接口获得，默认查询所有运营商。","type":"string","required":false,"example":"unicom"}},{"name":"LocationNameEn","in":"query","schema":{"description":"地域英文名，通过[DescribeCdnRegionAndIsp](~~91077~~)接口获得，默认查询所有地域。\n","type":"string","required":false,"example":"beijing"}},{"name":"Layer","in":"query","schema":{"description":"查询维度。取值：\n\n- **网络层**：**IPv4**、**IPv6**。\n\n- **应用层**：**http**、**https**、**quic**。\n\n- **all**（默认值）：包含网络层和应用层。","type":"string","required":false,"example":"all"}}],"responses":{"200":{"schema":{"type":"object","properties":{"EndTime":{"description":"结束时间。","type":"string","example":"2019-11-30T05:40:00Z"},"StartTime":{"description":"开始时间。","type":"string","example":"2019-11-30T05:33:00Z"},"RequestId":{"description":"请求ID。","type":"string","example":"BEA5625F-8FCF-48F4-851B-CA63946DA664"},"Layer":{"description":"返回的查询维度。","type":"string","example":"all"},"DomainName":{"description":"加速域名信息。","type":"string","example":"example.com"},"DataInterval":{"description":"每条记录的时间间隔，单位：秒。","type":"string","example":"300"},"QpsDataInterval":{"type":"object","properties":{"DataModule":{"description":"每个时间间隔的QPS数据列表。","type":"array","items":{"type":"object","properties":{"Value":{"description":"QPS总数。","type":"string","example":"0.56"},"AccValue":{"description":"总请求次数。","type":"string","example":"56"},"AccDomesticValue":{"description":"中国内地请求数。","type":"string","example":"12"},"OverseasValue":{"description":"全球（不包含中国内地）QPS。","type":"string","example":"0.44"},"AccOverseasValue":{"description":"全球（不包含中国内地）请求数。","type":"string","example":"44"},"TimeStamp":{"description":"时间片起始时刻。","type":"string","example":"2015-12-10T21:00:00Z"},"DomesticValue":{"description":"中国内地QPS。","type":"string","example":"0.12"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingTimeParameter","errorMessage":"The StartTime and EndTime must be both specified."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified value of parameter StartTime is malformed."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The specified value of parameter EndTime is malformed."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified EndTime does not match the specified StartTime."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified StartTime is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2019-11-30T05:40:00Z\\\",\\n  \\\"StartTime\\\": \\\"2019-11-30T05:33:00Z\\\",\\n  \\\"RequestId\\\": \\\"BEA5625F-8FCF-48F4-851B-CA63946DA664\\\",\\n  \\\"Layer\\\": \\\"all\\\",\\n  \\\"DomainName\\\": \\\"example.com\\\",\\n  \\\"DataInterval\\\": \\\"300\\\",\\n  \\\"QpsDataInterval\\\": {\\n    \\\"DataModule\\\": [\\n      {\\n        \\\"Value\\\": \\\"0.56\\\",\\n        \\\"AccValue\\\": \\\"56\\\",\\n        \\\"AccDomesticValue\\\": \\\"12\\\",\\n        \\\"OverseasValue\\\": \\\"0.44\\\",\\n        \\\"AccOverseasValue\\\": \\\"44\\\",\\n        \\\"TimeStamp\\\": \\\"2015-12-10T21:00:00Z\\\",\\n        \\\"DomesticValue\\\": \\\"0.12\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDomainQpsDataByLayerResponse>\\n    <EndTime>2019-11-30T05:40:00Z</EndTime>\\n    <StartTime>2019-11-30T05:33:00Z</StartTime>\\n    <RequestId>BEA5625F-8FCF-48F4-851B-CA63946DA664</RequestId>\\n    <Layer>all</Layer>\\n    <DomainName>example.com</DomainName>\\n    <DataInterval>300</DataInterval>\\n    <QpsDataInterval>\\n        <Value>0.56</Value>\\n        <AccValue>56</AccValue>\\n        <AccDomesticValue>12</AccDomesticValue>\\n        <OverseasValue>0.44</OverseasValue>\\n        <AccOverseasValue>44</AccOverseasValue>\\n        <TimeStamp>2015-12-10T21:00:00Z</TimeStamp>\\n        <DomesticValue>0.12</DomesticValue>\\n    </QpsDataInterval>\\n</DescribeDomainQpsDataByLayerResponse>\",\"errorExample\":\"\"}]","title":"查询QPS-按协议","summary":"调用DescribeDomainQpsDataByLayer查询加速域名的每秒访问次数QPS，支持获取最近90天的数据。","description":"- 单用户调用频率：20次/秒。\n- 如果您不指定StartTime和EndTime，该接口返回过去24小时的数据；指定StartTime和EndTime，该接口返回指定时间段的数据。\n\n**支持查询的时间粒度**\n\n根据单次查询的最大时间跨度不同，请求参数Interval支持不同的查询数据时间粒度，对应的可查询历史数据时间范围和数据延迟如下：\n|时间粒度         |单次查询的最大时间跨度  |可查询历史数据时间范围|数据延迟|\n|---------------|--------|---|---|\n|5分钟|3天|93天|15分钟|\n|1小时|31天|186天|一般延迟3-4小时|\n|1天|366天|366天|一般延迟4小时，不超过24小时|","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}