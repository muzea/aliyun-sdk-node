{"methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{"operationType":"none"},"parameters":[{"name":"ObjectPath","in":"query","schema":{"description":"刷新URL，格式为**加速域名**或**刷新的文件或目录**。\n\n多个URL之间使用换行符（\\n）或（\\r\\n）分隔。","type":"string","required":true,"example":"http://example.com/image/1.png\\nhttp://aliyundoc.com/image/2.png"}},{"name":"ObjectType","in":"query","schema":{"description":"刷新任务类型，取值：\n- **File**（默认值）：文件刷新。\n- **Directory**：目录刷新。\n- **Regex**：正则刷新。\n- **IgnoreParams**：去参数刷新。去参数指的是去除请求URL中?及?之后的参数，去参数刷新指的是用户先通过接口提交去参数后的URL，然后用户提交的待刷新URL将会与已缓存资源的URL进行去参数匹配，如果已缓存资源的URL去参数以后与待刷新URL匹配，那么CDN节点将对缓存资源执行刷新处理。\n\n文件刷新和目录刷新的功能说明请参考[刷新和预热资源](~~27140~~)，正则刷新的功能说明和操作示例请参考[正则刷新说明](~~146195~~)。\n\n目录刷新默认采用标记资源过期的处理方式，不支持删除目录。目录刷新会将节点上对应目录置为过期，后续有用户访问时，CDN节点将会回源站校验目录是否更新，有更新时从源站重新拉取新版本返回给用户，未有更新时源站响应304状态码。","type":"string","required":false,"example":"File","default":"File"}},{"name":"Force","in":"query","schema":{"description":"当回源内容和源站资源对比后不一致时，是否刷新对应目录下的资源。默认为false。\n- **true**：刷新对应目录下的全部资源。选择 “刷新全部资源” 时，如果用户请求的内容匹配到了目录下的资源，CDN节点将会直接回源拉取新资源返回给用户，并重新缓存该资源。\n- **false**：刷新对应目录下发生变更的资源。选择 “刷新变更资源” 时，如果用户请求的内容匹配到了目录下的资源，CDN节点将会回源获取资源的 Last-Modified 信息，若与当前缓存资源一致，则直接返回已缓存资源，若不一致，则回源拉取新资源返回给用户，并重新缓存该资源。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RefreshTaskId":{"description":"刷新返回的任务ID，多个任务ID用半角逗号（,）分隔。刷新返回的任务ID会按照以下两条规则对刷新任务做合并：\n\n- 同一个域名、同一秒钟提交的刷新任务（URL颗粒度）会被合并为同一个RefreshTaskId。\n- 同一个域名、同一秒钟提交的刷新任务（URL颗粒度）如果超过2000条，那么会按照每2000条合并为一个RefreshTaskId的方式处理。","type":"string","example":"704222901"},"RequestId":{"description":"请求ID。","type":"string","example":"D61E4801-EAFF-4A63-AAE1-FBF6CE1CFD1C"}}}}},"errorCodes":{"400":[{"errorCode":"SingleRequest.OverLimit","errorMessage":"A maximum of 1000 URLs are supported for each request."},{"errorCode":"InvalidObjectType.Malformed","errorMessage":"The specified ObjectType is invalid."},{"errorCode":"InvalidObjectPath.Malformed","errorMessage":"The specified ObjectPath is invalid."},{"errorCode":"QuotaExceeded.Refresh","errorMessage":"Your refresh attempts have exceeded the daily limit."},{"errorCode":"InvalidExtensiveDomain.ValueNotSupported","errorMessage":"The specified ExtensiveDomain is not supported."},{"errorCode":"QuotaPerMinuteExceeded.Refresh","errorMessage":"You tried to refresh too frequently, please try again later."},{"errorCode":"TooMany.Refresh","errorMessage":"The refresh queue is full, please try again later."}],"429":[{"errorCode":"TooManyRequests","errorMessage":"Too many requests, please try again later"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RefreshTaskId\\\": \\\"704222901\\\",\\n  \\\"RequestId\\\": \\\"D61E4801-EAFF-4A63-AAE1-FBF6CE1CFD1C\\\"\\n}\",\"errorExample\":\"{\\n\\\"RefreshTaskId\\\":\\\"704222904\\\"，\\\"RequestId\\\":\\\"D61E4801-EAFF-4A63-AAE1-FBF6CE1CFD1C\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<RefreshObjectCachesResponse>\\n<RefreshTaskId>704222904</RefreshTaskId>\\n<RequestId>D61E4801-EAFF-4A63-AAE1-FBF6CE1CFD1C</RequestId>\\n</RefreshObjectCachesResponse>\",\"errorExample\":\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>，<RefreshObjectCachesResponse>，<RefreshTaskId>704225667</RefreshTaskId>，<RequestId>AB14769A-A5F2-4CCD-B85B-3368DFF63C0A</RequestId>，</RefreshObjectCachesResponse>\"}]","title":"刷新缓存","summary":"调用RefreshObjectCaches刷新节点上的文件内容。被刷新的文件缓存将立即失效，新的请求将回源获取最新的文件，支持URL批量刷新。","description":"- 请求方式：支持POST请求，参数用form表单显示。\n- 相关接口：刷新预热类接口包含[RefreshObjectCaches](~~91164~~)刷新接口和[PushObjectCache](~~91161~~)预热接口。\n- 单用户调用频率：50次/秒。\n- 如果您需要自动化刷新或预热，请参见[刷新预热自动化脚本](~~151829~~)。\n\n## 注意事项\n- 提交刷新任务并成功执行后，CDN节点上对应的缓存资源将会失效，当您再次发起访问请求时，节点会回源站拉取所需资源，并重新缓存在节点上，因此大批量提交刷新任务会清空较多缓存，导致回源带宽和请求突增，增加源站压力。\n- 刷新任务从提交到生效，大约需要5~6分钟，如果文件或者目录配置的缓存过期时间少于5分钟，您无需执行刷新操作，等待文件或者目录缓存超时更新即可。\n- 使用RAM用户来执行刷新或预热操作的，需要先获得授权，请参见[授予RAM用户刷新预热权限](~~260300~~)完成授权。\n\n### URL刷新配额\n- 默认情况下，一个账号每日最多可以提交10000条URL刷新和100个目录刷新，目录刷新包含子目录。如果您的阿里云账号的日带宽峰值大于200 Mbps，您可以参考<props=\"china\">[配额管理](~~256513~~)</props><props=\"intl\">[提交工单](https://account.alibabacloud.com/login/login.htm?oauth_callback=https%3A//ticket-intl.console.aliyun.com/%23/ticket/createIndex)</props>申请提升每日配额，阿里云将根据您业务的实际需求进行评估和配置。\n- 默认情况下，一个账号每日最多可以提交20个正则刷新、100个去参数刷新，如果您的阿里云账号的日带宽峰值大于10 Gbps，您可以通过<props=\"china\">[填写信息](https://page.aliyun.com/form/act2017566026/index.htm)</props><props=\"intl\">[提交工单](https://workorder-intl.console.aliyun.com/#/ticket/createIndex)</props>来申请提升每日配额。\n- 每次请求最多支持提交1000条URL刷新或者100个目录刷新或者1个正则刷新。\n- 单个域名每分钟最多支持提交10000条URL刷新。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}