{"methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"none"},"parameters":[{"name":"TaskId","in":"query","schema":{"description":"按任务ID查询刷新状态。","type":"string","required":false,"example":"1234321"}},{"name":"ObjectPath","in":"query","schema":{"description":"按路径查询，准确匹配。","type":"string","required":false,"example":"http://example.com/1.txt"}},{"name":"PageNumber","in":"query","schema":{"description":"取得第几页，取值范围为：**1**~**100000**。","type":"integer","format":"int32","required":false,"maximum":"100000","minimum":"1","example":"1","default":"1"}},{"name":"ObjectType","in":"query","schema":{"description":"任务类型。取值：\n- **file**：文件刷新。\n- **directory**：目录刷新。\n- **regex**：正则刷新。\n- **preload**：文件预热。\n- **block**：URL封禁。\n- **unblock**：URL解封禁。\n\n> 当指定**DomainName**或**Status**参数时，**ObjectType**参数为必传参数。","type":"string","required":false,"example":"file","enum":["file","directory","preload","regex","IgnoreParams","block","unblock"]}},{"name":"DomainName","in":"query","schema":{"description":"加速域名。仅支持单个查询，默认查询所有加速域名。","type":"string","required":false,"example":"example.com"}},{"name":"Status","in":"query","schema":{"description":"任务状态。取值：\n\n- **Complete**：完成。\n- **Refreshing**：刷新中。\n- **Failed**：刷新失败。","type":"string","required":false,"example":"Complete","enum":["Complete","Refreshing","Failed"]}},{"name":"PageSize","in":"query","schema":{"description":"分页大小，默认**20**，最大**100**。取值：**1**~**100**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"20","default":"20"}},{"name":"StartTime","in":"query","schema":{"description":"开始时间。日期格式按照ISO8601表示法，并使用UTC+0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","required":false,"example":"2017-12-21T08:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间。日期格式按照ISO8601表示法，并使用UTC+0时间，格式为yyyy-MM-ddTHH:mm:ssZ。\n\n> 结束时间需大于起始时间。","type":"string","required":false,"example":"2017-12-22T08:00:00Z"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmyuji4b6r4**"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"174F6032-AA26-470D-B90E-36F0EB205BEE"},"PageNumber":{"description":"页码。","type":"integer","format":"int64","example":"10"},"PageSize":{"description":"整页大小。","type":"integer","format":"int64","example":"1"},"TotalCount":{"description":"总条数。","type":"integer","format":"int64","example":"2"},"Tasks":{"type":"object","properties":{"CDNTask":{"description":"任务列表。","type":"array","items":{"type":"object","properties":{"Status":{"description":"状态。取值：\n\n- **Complete**：完成。\n- **Refreshing**：刷新中。\n- **Failed**：刷新失败。","type":"string","example":"Complete"},"CreationTime":{"description":"任务对象创建时间，UTC+0时间。","type":"string","example":"2014-11-27T08:23:22Z"},"ObjectType":{"description":"任务类型。\n\n- **file**：文件刷新。\n\n- **directory**：目录刷新。\n\n- **regex**：正则刷新。\n\n- **preload**：文件预热。","type":"string","example":"file"},"Process":{"description":"进度百分比。","type":"string","example":"100%"},"Description":{"description":"刷新预热失败返回的错误描述。\n\n- **InternalError**：内部错误。\n\n- **OriginTimeout**：源站响应超时。\n\n- **OriginReturnStatusCode 5XX**：源站响应5xx错误码。","type":"string","example":"Internal Error"},"ObjectPath":{"description":"刷新对象路径。","type":"string","example":"http://example.com/1.txt"},"TaskId":{"description":"任务ID。","type":"string","example":"704225667"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidTaskId.Malformed","errorMessage":"The specified TaskId is invalid."},{"errorCode":"MissingParameter.ObjectType","errorMessage":"The ObjectType parameter is required if DomainName or Status is specified."},{"errorCode":"MissingTimeParameter","errorMessage":"The StartTime and EndTime must be both specified."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"The specified EndTime is earlier than the StartTime."},{"errorCode":"DomainNameOverLimit","errorMessage":"A maximum of 500 domains are supported for each request."},{"errorCode":"InvalidTime","errorMessage":"The query time cannot exceed the last 3 days."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified StartTime is invalid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The specified EndTime is invalid."},{"errorCode":"InvalidObjectPath.Malformed","errorMessage":"The specified ObjectPath is invalid."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified StartTime is invalid."},{"errorCode":"InvalidEndTime.ValueNotSupported","errorMessage":"The specified EndTime is invalid."},{"errorCode":"InvalidObjectType.ValueNotSupported","errorMessage":"The specified ObjectType is not supported."},{"errorCode":"InvalidStatus.ValueNotSupported","errorMessage":"The specified Status is not supported."}],"429":[{"errorCode":"TooManyRequests","errorMessage":"The server is busy. Please try again later."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"174F6032-AA26-470D-B90E-36F0EB205BEE\\\",\\n  \\\"PageNumber\\\": 10,\\n  \\\"PageSize\\\": 1,\\n  \\\"TotalCount\\\": 2,\\n  \\\"Tasks\\\": {\\n    \\\"CDNTask\\\": [\\n      {\\n        \\\"Status\\\": \\\"Complete\\\",\\n        \\\"CreationTime\\\": \\\"2014-11-27T08:23:22Z\\\",\\n        \\\"ObjectType\\\": \\\"file\\\",\\n        \\\"Process\\\": \\\"100%\\\",\\n        \\\"Description\\\": \\\"Internal Error\\\",\\n        \\\"ObjectPath\\\": \\\"http://example.com/1.txt\\\",\\n        \\\"TaskId\\\": \\\"704225667\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"{\\\"RequestId\\\":\\\"16A96B9A-F203-4EC5-8E43-CB92E68F4CD8\\\",\\\"HostId\\\":\\\"cdn.aliyuncs.com\\\",\\\"Code\\\":\\\"InternalError\\\",\\\"Message\\\":\\\"The request processing has failed due to some unknown error.\\\"}\"},{\"type\":\"xml\",\"example\":\"<Tasks>\\n    <CDNTask>\\n        <CreationTime>2014-11-27T08:23:22Z</CreationTime>\\n        <ObjectPath>http://example.com/1.txt</ObjectPath>\\n        <Status>Complete</Status>\\n        <TaskId>704225667</TaskId>\\n        <ObjectType>file</ObjectType>\\n        <Process>100%</Process>\\n    </CDNTask>\\n    <CDNTask>\\n        <CreationTime>2014-11-27T08:18:38Z</CreationTime>\\n        <ObjectPath>http://aliyundoc.com/1.txt</ObjectPath>\\n        <Status>Complete</Status>\\n        <TaskId>704222904</TaskId>\\n        <ObjectType>file</ObjectType>\\n        <Process>100%</Process>\\n    </CDNTask>\\n</Tasks>\\n<PageNumber>1</PageNumber>\\n<PageSize>10</PageSize>\\n<TotalCount>2</TotalCount>\\n<RequestId>174F6032-AA26-470D-B90E-36F0EB205BEE</RequestId>\",\"errorExample\":\"\"}]","title":"查询刷新预热任务","summary":"调用DescribeRefreshTasks查询刷新、预热状态是否在全网生效。","description":"- 支持根据任务ID或URL查询。\n- 支持同时传入**TaskId**和**ObjectPath**参数，如果不指定**TaskId**和**ObjectPath**，默认查询最近3天内第一页的数据（20条）。\n- 只可查询最近3天内的数据。\n- 如果您在OSS控制台开启了CDN缓存自动刷新，则无法通过DescribeRefreshTasks接口查看OSS上的缓存自动刷新任务。\n- 单用户调用频率：10次/秒。如果您需要更高的调用频率，请使用仅支持通过任务编号查询刷新预热任务信息的接口[DescribeRefreshTaskById](~~187709~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}