{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"72137","abilityTreeNodes":["FEATUREadsDAZVRM"]},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n> 您可以调用[DescribeDBClusters](~~129857~~)接口查看目标地域下所有AnalyticDB MySQL集群的详情，包括集群ID。","type":"string","required":true,"docRequired":true,"example":"am-bp1r053byu48p****"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为Unix时间戳，单位：毫秒。\n> 最多仅支持查看14天前的数据。","type":"string","required":true,"docRequired":true,"example":"1625220210000"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，格式为Unix时间戳，单位：毫秒。\n\n> * 查询结束时间需晚于查询开始时间。\n> * 开始时间与结束时间的间隔不能超过24小时。","type":"string","required":true,"docRequired":true,"example":"1625220213000"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。\n> 您可以调用[DescribeRegions](~~143074~~)接口查看AnalyticDB MySQL版支持的地域和可用区信息，包括地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"QueryCondition","in":"query","schema":{"description":"指定SQL查询的条件，格式为JSON字符串，包含`Type`、`Value`、`Min`或`Max`等字段。其中`Type` 表示查询维度（当前仅支持`maxCost`、`status`和`cost`3个取值）；`Value`、`Min`或`Max`表示该维度下的查询范围。具体支持的取值范围如下：\n- ` {\"Type\":\"maxCost\",\"Value\":\"100\"}`：表示查看执行耗时最长的前100条SQL详情，当前`Value`的取值仅支持设置为100。\n- `{\"Type\":\"status\",\"Value\":\"finished\"}`：表示查看已完成的SQL详情。您也可以将`Value`设置为`running`或`failed`来查询正在执行或执行失败的SQL详情。\n- `{\"Type\":\"cost\",\"Min\":\"10\",\"Max\":\"200\"}`：表示查看执行耗时为10毫秒~200毫秒的SQL详情，您也可以自定义执行耗时的最大值与最小值，单位：毫秒。","type":"string","required":true,"docRequired":true,"example":"{\"Type\":\"status\",\"Value\":\"finished\"}"}},{"name":"Keyword","in":"query","schema":{"description":"查询关键字。","type":"string","required":false,"example":"select"}},{"name":"MinPeakMemory","in":"query","schema":{"description":"目标SQL的最小峰值内存，单位：Byte。","type":"integer","format":"int64","required":false,"example":"88000000"}},{"name":"MaxPeakMemory","in":"query","schema":{"description":"目标SQL的最大峰值内存，单位：Byte。","type":"integer","format":"int64","required":false,"example":"88000000"}},{"name":"MinScanSize","in":"query","schema":{"description":"目标SQL的最小扫描量，单位：Byte。","type":"integer","format":"int64","required":false,"example":"100000000"}},{"name":"MaxScanSize","in":"query","schema":{"description":"目标SQL的最大扫描量，单位：Byte。","type":"integer","format":"int64","required":false,"example":"110000000"}},{"name":"ResourceGroup","in":"query","schema":{"description":"目标SQL所属的资源组。\n> 您可以调用[DescribeDiagnosisDimensions](~~308210~~)接口查看符合指定检索条件的SQL所属的资源组、数据库名、用户名以及访问源地址信息。","type":"string","required":false,"example":"user_default"}},{"name":"UserName","in":"query","schema":{"description":"执行目标SQL的用户名。\n> 您可以调用[DescribeDiagnosisDimensions](~~308210~~)接口查看符合指定检索条件的SQL所属的资源组、数据库名、用户名以及访问源地址信息。","type":"string","required":false,"example":"test_user"}},{"name":"Database","in":"query","schema":{"description":"执行目标SQL的数据库。\n> 您可以调用[DescribeDiagnosisDimensions](~~308210~~)接口查看符合指定检索条件的SQL所属的资源组、数据库名、用户名以及访问源地址信息。","type":"string","required":false,"example":"adb_demo"}},{"name":"ClientIp","in":"query","schema":{"description":"访问源地址。\n> 您可以调用[DescribeDiagnosisDimensions](~~308210~~)接口查看符合指定检索条件的SQL所属的资源组、数据库名、用户名以及访问源地址信息。","type":"string","required":false,"example":"106.11.XX.XX"}},{"name":"Lang","in":"query","schema":{"description":"设置下载文件的文件标题以及部分错误信息的语言，支持如下语言：\n- **zh**：简体中文（默认语言）。\n- **en**：英文。\n- **ja**：日文。\n- **zh-tw**：繁体中文。","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"headers":{},"schema":{"description":"详情。","type":"object","properties":{"DownloadId":{"description":"下载ID。","type":"integer","format":"int32","example":"68"},"RequestId":{"description":"请求ID。","type":"string","example":"D4ACF4E0-2952-3A87-9A2C-474058******"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DownloadId\\\": 68,\\n  \\\"RequestId\\\": \\\"D4ACF4E0-2952-3A87-9A2C-474058******\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DownloadDiagnosisRecordsResponse>\\n    <RequestId>D4ACF4E0-2952-3A87-9A2C-474058******</RequestId>\\n    <DownloadId>68</DownloadId>\\n</DownloadDiagnosisRecordsResponse>\",\"errorExample\":\"\"}]","title":"下载诊断记录","summary":"下载目标AnalyticDB MySQL版集群中符合指定条件的查询SQL的摘要信息。"}