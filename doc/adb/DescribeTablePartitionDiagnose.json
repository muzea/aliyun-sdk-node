{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"10826","abilityTreeNodes":["FEATUREadsDAZVRM"]},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n> 您可以调用[DescribeDBClusters](~~612241~~)接口查看目标地域下所有AnalyticDB MySQL数仓版集群的集群ID。","type":"string","required":true,"docRequired":true,"example":"am-bpxxxxxxxx47"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：\n\n- 30；\n- 50；\n- 100；\n\n默认值：30。","type":"integer","format":"int32","required":false,"example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为：大于0且不超过Integer数据类型的最大值，默认值为1。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"Order","in":"query","schema":{"description":"将查询结果按指定字段进行排序。格式为JOSN字符串，例如`[{\"Field\":\"TotalSize\",\"Type\":\"Desc\"}]`。其中：\n- `Field`表示排序字段。支持如下取值：\n    - `SchemaName`：表所属的数据库名。\n    - `TableName`：表名。\n    - `TotalSize`：总数据量。\n    -  `SpaceRatio`：空间占比。\n- `Type`表示排序方式。支持如下取值：\n    - `Asc`：升序排序。\n    - `Desc`： 降序排序。\n\n> 若不设置参数，默认按照目标表的总数据量倒序排列。","type":"string","required":false,"example":"[{\\\"Field\\\":\\\"TotalSize\\\",\\\"Type\\\":\\\"Desc\\\"}]","default":"[{\"Field\":\"SchemaName\", \"Type\": \"desc\" }]"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Lang","in":"query","schema":{"description":"指定请求和接收消息的语言类型，默认为**zh**。取值：\n- **zh**：中文\n- **en**：英文\n","type":"string","required":false,"example":"zh","default":"zh"}}],"responses":{"200":{"schema":{"description":"参数列表。","type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"1AD222E9-E606-4A42-BF6D-8A4442913CEF"},"PageSize":{"description":"总页数。","type":"integer","format":"int32","example":"123"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"34"},"DBClusterId":{"description":"集群ID。","type":"string","example":"rm-uf6wjk5xxxxxxxxxx"},"SuggestMaxRecordsPerPartition":{"description":"建议每个二级分区的最大行数。","type":"integer","format":"int64","example":"640000000"},"SuggestMinRecordsPerPartition":{"description":"建议每个二级分区的最小行数。","type":"integer","format":"int64","example":"64000000"},"Items":{"description":"表统计信息。","type":"array","items":{"description":"信息列表。","type":"object","properties":{"TableName":{"description":"表名。","type":"string","example":"user"},"PartitionDetail":{"description":"不合理分区。","type":"string","example":"[20210110, 20210113,20210123]"},"SchemaName":{"description":"数据库名。","type":"string","example":"test_db"},"PartitionNumber":{"description":"分区个数。","type":"integer","format":"int32","example":"34"},"SpaceRatio":{"description":"表空间占比，单位：%。\n\n> 计算公式为：表空间占比 = 表总数据量 / 实例总数据量 * 100。","type":"number","format":"double","example":"66.23"},"TotalSize":{"description":"总数据量，单位：Byte。","type":"integer","format":"int64","example":"42949672960"}}}},"DetectionItems":{"description":"检测项及检测结果列表。","type":"array","items":{"type":"object","properties":{"Name":{"description":"检测项名字。","type":"string","example":"表分区合理性检测"},"Message":{"description":"检测结果信息。","type":"string","example":"检测到表存在分区不合理的情况"},"Status":{"description":"检测结果状态。取值：\n\n- NORMAL\n- WARNING\n- CRITICAL","type":"string","example":"WARNING"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"1AD222E9-E606-4A42-BF6D-8A4442913CEF\\\",\\n  \\\"PageSize\\\": 123,\\n  \\\"PageNumber\\\": 34,\\n  \\\"DBClusterId\\\": \\\"rm-uf6wjk5xxxxxxxxxx\\\",\\n  \\\"SuggestMaxRecordsPerPartition\\\": 640000000,\\n  \\\"SuggestMinRecordsPerPartition\\\": 64000000,\\n  \\\"Items\\\": [\\n    {\\n      \\\"TableName\\\": \\\"user\\\",\\n      \\\"PartitionDetail\\\": \\\"[20210110, 20210113,20210123]\\\",\\n      \\\"SchemaName\\\": \\\"test_db\\\",\\n      \\\"PartitionNumber\\\": 34,\\n      \\\"SpaceRatio\\\": 66.23,\\n      \\\"TotalSize\\\": 42949672960\\n    }\\n  ],\\n  \\\"DetectionItems\\\": [\\n    {\\n      \\\"Name\\\": \\\"表分区合理性检测\\\",\\n      \\\"Message\\\": \\\"检测到表存在分区不合理的情况\\\",\\n      \\\"Status\\\": \\\"WARNING\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<TotalCount>1</TotalCount>\\n<RequestId>1AD222E9-E606-4A42-BF6D-8A4442913CEF</RequestId>\\n<PageSize>123</PageSize>\\n<PageNumber>34</PageNumber>\\n<DBClusterId>rm-uf6wjk5xxxxxxxxxx</DBClusterId>\\n<SuggestMaxRecordsPerPartition>640000000</SuggestMaxRecordsPerPartition>\\n<SuggestMinRecordsPerPartition>64000000</SuggestMinRecordsPerPartition>\\n<Items>\\n    <TableName>user</TableName>\\n    <PartitionDetail>[20210110, 20210113,20210123]</PartitionDetail>\\n    <SchemaName>test_db</SchemaName>\\n    <PartitionNumber>34</PartitionNumber>\\n</Items>\",\"errorExample\":\"\"}]","title":"查询分区诊断信息","summary":"调用DescribeTablePartitionDiagnose接口查询分区诊断信息。"}