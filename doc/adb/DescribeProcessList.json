{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。","type":"string","required":true,"docRequired":true,"example":"am-bp11q28kvl688****"}},{"name":"ShowFull","in":"query","schema":{"description":"是否展示完整的SQL语句。取值说明：\n- **True**：展示完整的SQL语句。\n- **False**：只展示SQL语句的前100个字符。\n\n> 默认值False。","type":"boolean","required":false,"example":"True"}},{"name":"RunningTime","in":"query","schema":{"description":"按运行时间过滤，展示大于该运行时间的查询。单位：秒。","type":"integer","format":"int32","required":false,"example":"5"}},{"name":"User","in":"query","schema":{"description":"按用户名过滤。","type":"string","required":false,"example":"test"}},{"name":"Keyword","in":"query","schema":{"description":"过滤关键字，目前仅支持过滤**SELECT**。","type":"string","required":false,"example":"SELECT"}},{"name":"Order","in":"query","schema":{"description":"按指定字段排序，JSON格式，`[{\"Field\":\"Time\",\"Type\":\"Desc\" },{ \"Field\":\"User\", \"Type\":\"Asc\" }]`，取值说明：\n- **Field**：需要排序的字段名，支持Time，User，Host，DB字段。\n- **Type**：排序类型，**Desc**为降序，**Asc**为升序。","type":"string","required":false,"example":"[ { \"Field\":\"Time\",\"Type\":\"Desc\" },  { \"Field\":\"User\", \"Type\":\"Asc\" }]"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"30","example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为：大于0且不超过Integer数据类型的最大值，默认值为1。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"string","example":"1"},"PageSize":{"description":"总页数。","type":"string","example":"30"},"RequestId":{"description":"请求ID。","type":"string","example":"1AD222E9-E606-4A42-BF6D-8A4442913CEF"},"PageNumber":{"description":"页码。","type":"string","example":"1"},"Items":{"type":"object","properties":{"Process":{"description":"任务列表。","type":"array","items":{"type":"object","properties":{"StartTime":{"description":"任务的开始时间，UTC时间，格式：yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2020-11-19T02:48:15Z"},"Time":{"description":"查询任务已运行时间。单位：秒。","type":"integer","format":"int32","example":"11"},"ProcessId":{"description":"任务的唯一标识，KILL PROCESS时使用。","type":"string","example":"202011191048151921681492420315100****"},"Host":{"description":"发起查询的IP地址。","type":"string","example":"192.168.XX.XX:12308"},"DB":{"description":"数据库名。","type":"string","example":"adb_demo"},"Command":{"description":"命令类型，仅支持SELECT类型。","type":"string","example":"SELECT"},"User":{"description":"用户名。","type":"string","example":"test"},"Id":{"description":"工作线程ID。","type":"integer","format":"int32","example":"49104"},"Info":{"description":"正在运行的SQL语句，默认返回前100字符。当传入参数ShowFull为True时，显示全文。","type":"string","example":"select * from sbtest1,sbtest2,sbtest3,sbtest4"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"IncorrectModuleVersion","errorMessage":"The specified module version does not support this operation."},{"errorCode":"AnalyticDBKernelError","errorMessage":"Calling AnalyticDB Kernel error"}],"404":[{"errorCode":"InvalidDBCluster.NotFound","errorMessage":"The DBClusterId provided does not exist in our records."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": \\\"1\\\",\\n  \\\"PageSize\\\": \\\"30\\\",\\n  \\\"RequestId\\\": \\\"1AD222E9-E606-4A42-BF6D-8A4442913CEF\\\",\\n  \\\"PageNumber\\\": \\\"1\\\",\\n  \\\"Items\\\": {\\n    \\\"Process\\\": [\\n      {\\n        \\\"StartTime\\\": \\\"2020-11-19T02:48:15Z\\\",\\n        \\\"Time\\\": 11,\\n        \\\"ProcessId\\\": \\\"202011191048151921681492420315100****\\\",\\n        \\\"Host\\\": \\\"192.168.XX.XX:12308\\\",\\n        \\\"DB\\\": \\\"adb_demo\\\",\\n        \\\"Command\\\": \\\"SELECT\\\",\\n        \\\"User\\\": \\\"test\\\",\\n        \\\"Id\\\": 49104,\\n        \\\"Info\\\": \\\"select * from sbtest1,sbtest2,sbtest3,sbtest4\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeProcessListResponse>\\n    <TotalCount>1</TotalCount>\\n    <PageSize>30</PageSize>\\n    <RequestId>1AD222E9-E606-4A42-BF6D-8A4442913CEF</RequestId>\\n    <PageNumber>1</PageNumber>\\n    <Items>\\n        <StartTime>2020-11-19T02:48:15Z</StartTime>\\n        <Time>11</Time>\\n        <ProcessId>202011191048151921681492420315100****</ProcessId>\\n        <Host>192.168.XX.XX:12308</Host>\\n        <DB>adb_demo</DB>\\n        <Command>SELECT</Command>\\n        <User>test</User>\\n        <Id>49104</Id>\\n        <Info>select * from sbtest1,sbtest2,sbtest3,sbtest4</Info>\\n    </Items>\\n</DescribeProcessListResponse>\",\"errorExample\":\"\"}]","title":"查看集群正在运行的查询","summary":"调用DescribeProcessList接口查看实例正在运行的查询。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}