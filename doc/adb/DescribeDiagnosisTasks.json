{"summary":"获取指定查询ID和Stage ID的分布式子任务执行详情信息。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n\n> 您可以通过[DescribeDBClusters](~~129857~~)接口查看账号下AnalyticDB MySQL数仓版集群的集群ID。","type":"string","required":true,"example":"am-bp1r053byu48p****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。\n> 您可以调用[DescribeRegions](~~143074~~)接口查看指定AnalyticDB MySQL数仓版支持的地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ProcessId","in":"query","schema":{"description":"任务ID。\n> 您可以调用[DescribeProcessList](~~190092~~)接口查看目标SQL的任务ID。","type":"string","required":true,"example":"202011191048151921681492420315100****"}},{"name":"StageId","in":"query","schema":{"description":"指定`ProcessId`对应查询的某个Stage ID。","type":"string","required":true,"example":"Stage[26]"}},{"name":"Order","in":"query","schema":{"description":"按指定字段对任务进行升序或降序排列。参数值需为JSON字符串类型，例如：`[{\"Field\":\"CreateTime\", \"Type\":\"desc\"}]`\n\n> * `Field`表示需要排序的字段名，支持的字段为：`State`、`CreateTime`、`DBName`、`ProcessID`、`UpdateTime`、`JobName`和`ProcessRows`。\n> * `Type`表示排序类型，取值范围为`Desc`（降序）或`Asc`（升序），取值不区分大小写。","type":"string","required":false,"example":"[{\"Field\":\"StartTime\", \"Type\": \"desc\" }]"}},{"name":"PageNumber","in":"query","schema":{"description":"页数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：\n- 30（默认值）。\n- 50。\n- 100。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"State","in":"query","schema":{"description":"需要查询的异步导入或导出任务的状态，取值说明如下：\n* **RUNNING**：任务进行中。\n* **FINISHED**：任务执行成功。\n* **FAILED**：任务执行失败。","type":"string","required":false,"enumValueTitles":{"FAILED":"FAILED","RUNNING":"RUNNING","FINISHED":"FINISHED"},"example":"RUNNING"}},{"name":"Host","in":"query","schema":{"description":"发起查询的IP地址。","type":"string","required":false,"example":"192.168.XX.XX"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"任务列表。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"F0983B43-B2EC-536A-8791-142B5CF1E9B6"},"TaskList":{"description":"子任务列表。","type":"array","items":{"description":"子任务详情。","type":"object","properties":{"ScanCost":{"description":"带数据源的任务的扫描数据耗时。单位：毫秒（ms）。","type":"integer","format":"int64","example":"0"},"OutputDataSize":{"description":"任务的输出数据量。单位：Byte。","type":"integer","format":"int64","example":"123"},"InputDataSize":{"description":"任务的输入数据量。单位：Byte。","type":"integer","format":"int64","example":"123"},"State":{"description":"任务最终执行状态：\n\n- FINISHED：完成。\n- CANCELED：取消。\n- ABORTED：中止。\n- FAILED：失败。","type":"string","example":"FINISHED"},"OperatorCost":{"description":"任务在某个节点的算子总耗时，为多线程累加值，可用于判断计算是否存在长尾。单位：毫秒（ms）。","type":"integer","format":"int64","example":"3"},"OutputRows":{"description":"任务的输出数据行数。","type":"integer","format":"int64","example":"105"},"ScanDataSize":{"description":"任务的扫描数据量，单位：Byte。","type":"integer","format":"int64","example":"123"},"ElapsedTime":{"description":"任务从创建到结束的时长。单位：毫秒（ms）。","type":"integer","format":"int64","example":"456"},"ScanRows":{"description":"带数据源的任务的扫描数据行数。","type":"integer","format":"int64","example":"0"},"PeakMemory":{"description":"任务的峰值内存，单位Byte。","type":"integer","format":"int64","example":"234"},"TaskId":{"description":"任务ID。","type":"string","example":"22568****"},"InputRows":{"description":"任务的输入数据行数。","type":"integer","format":"int64","example":"105"},"TaskCreateTime":{"description":"任务创建时间戳。","type":"integer","format":"int64","example":"2022-12-12 00:00:12"},"TaskEndTime":{"description":"任务实际结束的时间戳。","type":"integer","format":"int64","example":"2022-12-22 00:00:00"},"TaskHost":{"description":"任务机器的IP。","type":"string","example":"192.168.XX.XX"},"Drivers":{"description":"任务执行的并行度。","type":"string","example":"16"},"QueuedTime":{"description":"任务执行前的排队时间，单位：毫秒（ms）。","type":"string","example":"12"},"ComputeTimeRatio":{"description":"任务所有算子的累加耗时除以任务的并行度后，和ElapsedTime的比值，可用于判断任务的是否为真正耗时的任务。如果比值较大，说明该任务大部分时间在实际执行计算任务；如果比值较小，说明该任务大部分时间在等待被调度或者因其他原因被阻塞。","type":"string","example":"0.89"}}}},"TotalCount":{"description":"某个Stage总的任务数。","type":"integer","format":"int32","example":"33"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F0983B43-B2EC-536A-8791-142B5CF1E9B6\\\",\\n  \\\"TaskList\\\": [\\n    {\\n      \\\"ScanCost\\\": 0,\\n      \\\"OutputDataSize\\\": 123,\\n      \\\"InputDataSize\\\": 123,\\n      \\\"State\\\": \\\"FINISHED\\\",\\n      \\\"OperatorCost\\\": 3,\\n      \\\"OutputRows\\\": 105,\\n      \\\"ScanDataSize\\\": 123,\\n      \\\"ElapsedTime\\\": 456,\\n      \\\"ScanRows\\\": 0,\\n      \\\"PeakMemory\\\": 234,\\n      \\\"TaskId\\\": \\\"22568****\\\",\\n      \\\"InputRows\\\": 105,\\n      \\\"TaskCreateTime\\\": 0,\\n      \\\"TaskEndTime\\\": 0,\\n      \\\"TaskHost\\\": \\\"192.168.XX.XX\\\",\\n      \\\"Drivers\\\": \\\"16\\\",\\n      \\\"QueuedTime\\\": \\\"12\\\",\\n      \\\"ComputeTimeRatio\\\": \\\"0.89\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 33\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDiagnosisTasksResponse>\\n    <RequestId>F0983B43-B2EC-536A-8791-142B5CF1E9B6</RequestId>\\n    <TaskList>\\n        <ScanCost>0</ScanCost>\\n        <OutputDataSize>123</OutputDataSize>\\n        <InputDataSize>123</InputDataSize>\\n        <State>FINISHED</State>\\n        <OperatorCost>3</OperatorCost>\\n        <OutputRows>105</OutputRows>\\n        <ScanDataSize>123</ScanDataSize>\\n        <ElapsedTime>456</ElapsedTime>\\n        <ScanRows>0</ScanRows>\\n        <PeakMemory>234</PeakMemory>\\n        <TaskId>22568****</TaskId>\\n        <InputRows>105</InputRows>\\n        <TaskHost>192.168.xx.xx</TaskHost>\\n        <Drivers>16</Drivers>\\n        <QueuedTime>12</QueuedTime>\\n        <ComputeTimeRatio>0.89</ComputeTimeRatio>\\n    </TaskList>\\n    <TotalCount>33</TotalCount>\\n</DescribeDiagnosisTasksResponse>\",\"errorExample\":\"\"}]","title":"Stage的子任务执行详情"}