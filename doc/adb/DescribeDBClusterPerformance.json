{"summary":"调用DescribeDBClusterPerformance接口查看目标集群的性能数据。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"AnalyticDB MySQL版集群ID。\n> 您可以调用[DescribeDBClusters](~~129857~~)接口查看目标地域下所有AnalyticDB MySQL版集群的详情，包括集群ID。","type":"string","required":true,"docRequired":true,"example":"am-8vbf80pjcz*****"}},{"name":"Key","in":"query","schema":{"description":"需要查询的性能指标名称，多个值之间用英文逗号（,）分隔。支持查询如下性能指标：\n* CPU\n    * **AnalyticDB_CPU**：CPU平均使用率。\n* 连接数\n    * **AnalyticDB_Connections**：数据库连接数。\n* 写入\n    * **AnalyticDB_TPS**：写入TPS。\n    * **AnalyticDB_InsertRT**：写入响应时间。\n    * **AnalyticDB_InsertBytes**：写入吞吐量。\n* 更新\n    * **AnalyticDB_UpdateRT**：更新响应时间。\n* 删除\n    * **AnalyticDB_DeleteRT**：删除响应时间。\n* 查询\n    * **AnalyticDB_QPS**：查询QPS。\n    * **AnalyticDB_QueryRT**：查询响应时间。\n    * **AnalyticDB_QueryWaitTime**：查询等待耗时。\n* 磁盘\n    * **AnalyticDB_IO**：磁盘IO吞吐。\n    * **AnalyticDB_IO_UTIL**：磁盘IO使用率。\n    * **AnalyticDB_IO_WAIT**：磁盘IO等待时间。    \n    * **AnalyticDB_IOPS**：磁盘IOPS。\n    * **AnalyticDB_DiskUsage**：磁盘用量。\n    * **AnalyticDB_HotDataDiskUsage**：热数据磁盘用量。\n    * **AnalyticDB_ColdDataDiskUsage**：冷数据磁盘用量。\n* 其他\n  * **AnalyticDB_BuildTaskCount**：Build任务数。\n  * **AnalyticDB_ComputeMemoryUsedRatio**: 计算内存使用率。\n\n\n> 若该参数留空，默认返回上述所有性能指标的值。","type":"string","required":false,"docRequired":true,"example":"AnalyticDB_CPU","default":"AnalyticDB_CPU_Usage_Percentage"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。格式为<i>yyyy-MM-ddTHH:mmZ</i>（UTC时间）。\n","type":"string","required":false,"docRequired":true,"example":"2021-05-03T15:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间。格式为<i>yyyy-MM-ddTHH:mmZ</i>（UTC时间）。\n\n> 查询结束时间需晚于开始时间，且开始时间和结束时间的时间间隔不能超过两天。","type":"string","required":false,"docRequired":true,"example":"2021-05-03T15:01Z"}},{"name":"RegionId","in":"query","schema":{"description":"集群所在的地域。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourcePools","in":"query","schema":{"description":"资源组名称。","type":"string","required":false,"example":"test"}}],"responses":{"200":{"schema":{"description":"列表详情。","type":"object","properties":{"EndTime":{"description":"查询结束时间。格式为<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","example":"2021-05-03T15:01:00Z"},"RequestId":{"description":"请求ID。","type":"string","example":"25B56BC7-4978-40B3-9E48-4B7067******"},"StartTime":{"description":"查询开始时间。格式为<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","example":"2021-05-03T15:00:00Z"},"DBClusterId":{"description":"集群ID。","type":"string","example":"am-8vbf80pjcz*****"},"Performances":{"description":"集群性能指标列表。","type":"array","items":{"description":"列表。","type":"object","properties":{"Key":{"description":"性能指标名称。","type":"string","example":"AnalyticDB_CPU"},"Unit":{"description":"数据单位。","type":"string","example":"%"},"Series":{"description":"性能数据列表。","type":"array","items":{"description":"列表。","type":"object","properties":{"Values":{"description":"性能指标数值详情。","type":"array","items":{"description":"不同时间点下的性能值详情。","type":"string","example":"[               \"2021-05-03T15:00:12.72Z\",               \"0.1250\"             ],             [               \"2021-05-03T15:00:42.739Z\",               \"0.3125\"             ]"}},"Name":{"description":"*   CPU\n    \n    *   **AnalyticDB\\_CPU**：CPU平均使用率。\n        \n        *   worker\\_avg\\_cpu\\_used：存储节点平均CPU使用率。\n            \n        *   worker\\_max\\_cpu\\_used：存储节点最大CPU使用率。\n            \n        *   executor\\_avg\\_cpu\\_used：计算节点平局CPU使用率。\n            \n        *   executor\\_max\\_cpu\\_used：计算节点最大CPU使用率。\n            \n*   连接数\n    \n    *   **AnalyticDB\\_Connections**：数据库连接数。\n        \n        *   connections：集群当前连接数。\n            \n*   写入\n    \n    *   **AnalyticDB\\_TPS**：写入TPS。\n        \n        *   tps：insert\\_tps、update\\_tps、 delete\\_tps和load\\_tps的累加值。\n            \n        *   insert\\_tps：INSERT INTO VALUES操作每秒成功数。\n            \n        *   update\\_tps：UPDATE操作每秒成功数。\n            \n        *   delete\\_tps：DELETE操作每秒成功数。\n            \n        *   load\\_tps：LOAD操作(INSERT OVERWRITE)每秒成功数。\n            \n    *   **AnalyticDB\\_InsertRT**：写入响应时间。\n        \n        *   insert\\_avg\\_rt：写入操作平均耗时。\n            \n        *   insert\\_max\\_rt：写入操作最大耗时。\n            \n    *   **AnalyticDB\\_InsertBytes**：写入吞吐量。\n        \n        *   insert\\_in\\_bytes：写入数据量。\n            \n*   更新\n    \n    *   **AnalyticDB\\_UpdateRT**：更新响应时间。\n        \n        *   updateinto\\_avg\\_rt：UPDATE操作平均耗时。\n            \n        *   updateinto\\_max\\_rt：UPDATE操作最大耗时。\n            \n*   删除\n    \n    *   **AnalyticDB\\_DeleteRT**：删除响应时间。\n        \n        *   delete\\_avg\\_rt：delete操作平均耗时。\n            \n        *   delete\\_max\\_rt：delete操作平均耗时。\n            \n*   查询\n    \n    *   **AnalyticDB\\_QPS**：QPS。\n        \n        *   qps：SELECT操作每秒完成数。\n            \n        *   etl\\_qps：ETL操作(INSERT OVERWRITE)每秒完成数。\n            \n    *   **AnalyticDB\\_QueryRT**：查询响应时间。\n        \n        *   query\\_avg\\_rt：查询平均耗时。\n            \n        *   query\\_max\\_rt：查询最大耗时。\n            \n        *   etl\\_avg\\_rt：ETL操作平均耗时。\n            \n        *   etl\\_max\\_rt：ETL操作最大耗时。\n            \n    *   **AnalyticDB\\_QueryWaitTime**：查询等待耗时。\n        \n        *   query\\_avg\\_wait\\_time：查询(包括SELECT和ETL)平均等待时间。\n            \n        *   query\\_max\\_wait\\_time：查询(包括SELECT和ETL)最大等待时间。\n            \n    *   AnalyticDB\\_QueryFailedRatio：查询失败率。\n        \n        *   query\\_failed\\_ratio：查询(包括SELECT和ETL)失败率。\n            \n*   磁盘\n    \n    *   **AnalyticDB\\_IO**：磁盘IO吞吐。\n        \n        *   worker\\_avg\\_read\\_bytes\\_ratio：存储节点平均读操作吞吐。\n            \n        *   worker\\_avg\\_write\\_bytes\\_ratio：存储节点平均写操作吞吐。\n            \n    *   **AnalyticDB\\_IO\\_UTIL**：磁盘IO使用率。\n        \n        *   worker\\_avg\\_io\\_util：存储节点IO使用率。\n            \n    *   **AnalyticDB\\_IO\\_WAIT**：IO等待时间。\n        \n        *   worker\\_avg\\_io\\_await：存储节点平均IO等待时间。\n            \n    *   **AnalyticDB\\_IOPS**：磁盘IOPS。\n        \n        *   worker\\_avg\\_read\\_ratio：存储节点平均读IOPS。\n            \n        *   worker\\_avg\\_write\\_ratio：存储节点平均写IOPS。\n            \n    *   **AnalyticDB\\_DiskUsage**：磁盘用量。\n        \n        *   disk\\_used\\_ratio：磁盘空间使用率。\n            \n        *   worker\\_max\\_node\\_disk\\_used\\_ratio：磁盘空间使用率最大节点的使用率。\n            \n    *   **AnalyticDB\\_HotDataDiskUsage**：热数据磁盘用量。\n        \n        *   local\\_disk\\_used：热数据磁盘使用量。\n            \n    *   **AnalyticDB\\_ColdDataDiskUsage**：冷数据磁盘用量。\n        \n        *   remote\\_disk\\_used：冷数据磁盘使用量。\n            \n    *   AnalyticDB\\_DiskUsedRatio：空间分析-节点磁盘使用率。\n        \n        *   disk\\_used\\_ratio：平均节点磁盘使用率。\n            \n        *   worker\\_max\\_node\\_disk\\_used\\_ratio：最大节点磁盘使用率。\n            \n    *   AnalyticDB\\_DiskUsedSize：集群总数据量。\n        \n        *   disk\\_no\\_log\\_used：（数仓版预留模式集群）总数据量。\n            \n        *   disk\\_no\\_log\\_used\\_max：（数仓版预留模式集群）最大节点数据量。\n            \n        *   disk\\_no\\_log\\_used\\_avg：（数仓版预留模式集群）平均节点数据量。\n            \n        *   user\\_used\\_disk\\_max：（数仓版弹性模式集群）最大节点热数据量。\n            \n        *   user\\_used\\_disk\\_avg：（数仓版弹性模式集群）最大节点热数据量。\n            \n        *   hot\\_disk\\_used：（数仓版弹性模式集群）热数据量。\n            \n        *   cold\\_disk\\_used：（数仓版弹性模式集群）冷数据量。\n            \n*   其他\n    \n    *   **AnalyticDB\\_BuildTaskCount**：Build任务数\n        \n        *   max\\_build\\_task\\_count：运行中的最大Build任务数。\n            \n        *   avg\\_build\\_task\\_count：运行中的平均Build任务数。\n            \n    *   **AnalyticDB\\_ComputeMemoryUsedRatio**: 计算内存使用率。\n        \n        *   max\\_worker\\_compute\\_memory\\_used\\_ratio：存储节点最大计算内存使用率。\n            \n        *   avg\\_worker\\_compute\\_memory\\_used\\_ratio：存储节点平均计算内存使用率。\n            \n        *   max\\_executor\\_compute\\_memory\\_used\\_ratio：计算节点最大计算内存使用率。\n            \n        *   avg\\_executor\\_compute\\_memory\\_used\\_ratio：计算节点平均计算内存使用率。\n            \n    *   AnalyticDB\\_UnavailableNodeCount：不可用节点数。\n        \n        *   worker\\_unavailable\\_node\\_count：存储节点不可用节点数。\n            \n        *   executor\\_unavailable\\_node\\_count：计算节点不可用节点数。\n            \n*   WLM相关\n    \n    *   AnalyticDB\\_WLM\\_ResubmitQueries\\_Count：WLM重新投递查询数。\n        \n        *   AnalyticDB\\_WLM\\_ResubmitQueries\\_Count：WLM重新投递查询数。\n            \n    *   AnalyticDB\\_WLM\\_SQA\\_AvgRt\\_MS：WLM小查询加速平均耗时。\n        \n        *   AnalyticDB\\_WLM\\_SQA\\_AvgRt\\_MS：WLM小查询加速平均耗时。\n            \n    *   AnalyticDB\\_WLM\\_SQA\\_Queries\\_Count：WLM小查询加速查询数。\n        \n        *   AnalyticDB\\_WLM\\_SQA\\_Queries\\_Count：WLM小查询加速查询数。\n            \n    *   AnalyticDB\\_WLM\\_TotalQueries\\_Count：WLM总查询数。\n        \n        *   AnalyticDB\\_WLM\\_TotalQueries\\_Count：WLM总查询数。\n            \n*   APS相关\n    \n    *   AnalyticDB\\_APS\\_BPS：数仓版aps bps。\n        \n        *   APS\\_Read\\_BPS：APS读BPS。\n            \n    *   AnalyticDB\\_APS\\_CPU：数仓版APS CPU利用率。\n        \n        *   APS\\_CPU\\_Avg\\_Usage\\_Percentage：APS平均CPU使用率。\n            \n        *   APS\\_CPU\\_Max\\_Usage\\_Percentage：APS最大CPU使用率。\n            \n    *   AnalyticDB\\_APS\\_Memory：数仓版APS内存利用率。\n        \n        *   APS\\_Memory\\_Avg\\_Usage\\_Percentage：APS平均内存使用率。\n            \n        *   APS\\_Memory\\_Max\\_Usage\\_Percentage：APS最大内存使用率。\n            \n    *   AnalyticDB\\_APS\\_RPS：数仓版RPS RPS。\n        \n        *   APS\\_Read\\_RPS：APS读RPS。\n            \n    *   AnalyticDB\\_APS\\_RT：数仓版APS RT。\n        \n        *   APS\\_Read\\_Avg\\_RT：APS平均耗时。\n            \n        *   APS\\_Read\\_Max\\_RT：APS最大耗时。","type":"string","example":"worker_avg_cpu_used"},"Tags":{"description":"标签。","type":"string","example":"instance_name: \"amv-8vbf80pjcz*****\""}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"IdempotentParameterMismatch","errorMessage":"The request uses the same client token as a previous, but non-identical request. Do not reuse a client token with different requests, unless the requests are identical."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2021-05-03T15:01:00Z\\\",\\n  \\\"RequestId\\\": \\\"25B56BC7-4978-40B3-9E48-4B7067******\\\",\\n  \\\"StartTime\\\": \\\"2021-05-03T15:00:00Z\\\",\\n  \\\"DBClusterId\\\": \\\"am-8vbf80pjcz*****\\\",\\n  \\\"Performances\\\": [\\n    {\\n      \\\"Key\\\": \\\"AnalyticDB_CPU\\\",\\n      \\\"Unit\\\": \\\"%\\\",\\n      \\\"Series\\\": [\\n        {\\n          \\\"Values\\\": [\\n            \\\"[               \\\\\\\"2021-05-03T15:00:12.72Z\\\\\\\",               \\\\\\\"0.1250\\\\\\\"             ],             [               \\\\\\\"2021-05-03T15:00:42.739Z\\\\\\\",               \\\\\\\"0.3125\\\\\\\"             ]\\\"\\n          ],\\n          \\\"Name\\\": \\\"worker_avg_cpu_used\\\",\\n          \\\"Tags\\\": \\\"instance_name: \\\\\\\"amv-8vbf80pjcz*****\\\\\\\"\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBClusterPerformanceResponse>\\n    <RequestId>25B56BC7-4978-40B3-9E48-4B7067******</RequestId>\\n    <EndTime>2021-05-03T15:01:00Z</EndTime>\\n    <DBClusterId>am-bp**************</DBClusterId>\\n    <StartTime>2021-05-03T15:00:00Z</StartTime>\\n    <Performances>\\n        <Series>\\n            <Values>\\n                <0>2021-05-03T15:00:12.72Z</0>\\n                <1>0.1875</1>\\n            </Values>\\n            <Values>\\n                <0>2021-05-03T15:00:42.739Z</0>\\n                <1>0.1250</1>\\n            </Values>\\n            <Name>worker_avg_cpu_used</Name>\\n        </Series>\\n        <Series>\\n            <Values>\\n                <0>2021-05-03T15:00:12.72Z</0>\\n                <1>0.1250</1>\\n            </Values>\\n            <Values>\\n                <0>2021-05-03T15:00:42.739Z</0>\\n                <1>0.3125</1>\\n            </Values>\\n            <Name>executor_avg_cpu_used</Name>\\n        </Series>\\n        <Unit>%</Unit>\\n        <Key>AnalyticDB_CPU</Key>\\n    </Performances>\\n</DescribeDBClusterPerformanceResponse>\",\"errorExample\":\"\"}]","title":"查看集群性能数据","description":"根据性能参数查看某个集群、某时间段范围内的性能监控数据。采集粒度为30秒。支持对慢SQL进行查询，提供SQL查询时长、扫描行数、扫描量等监控内容。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}