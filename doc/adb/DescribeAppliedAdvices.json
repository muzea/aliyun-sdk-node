{"summary":"调用DescribeAppliedAdvices接口来显示已采纳的优化建议。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"73895","abilityTreeNodes":["FEATUREadsDAZVRM"]},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"AnalyticDB MySQL数仓版集群ID。\n> 您可以调用[DescribeDBClusters](~~129857~~)接口查看数仓版集群的集群ID。","type":"string","required":true,"docRequired":true,"example":"am-uf6g8w25jacm7****"}},{"name":"RegionId","in":"query","schema":{"title":"RegionId","description":"地域ID。\n> 您可通过接口[DescribeRegions](~~143074~~)查看可用的地域ID。\n","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"StartTime","in":"query","schema":{"title":"StartTime","description":"查询建议的开始日期，格式为yyyyMMdd（UTC时间）。","type":"integer","format":"int64","required":false,"example":"20220811"}},{"name":"EndTime","in":"query","schema":{"title":"EndTime","description":"查询建议的结束日期，格式为yyyyMMdd（UTC时间）。","type":"integer","format":"int64","required":false,"example":"20220824"}},{"name":"Lang","in":"query","schema":{"title":"Lang","description":"设置建议的显示语言，取值说明：\n- **zh**：简体中文（默认语言）。\n- **en**：英文。\n- **ja**：日文。\n- **zh-tw**：繁体中文。","type":"string","required":false,"example":"zh"}},{"name":"PageSize","in":"query","schema":{"title":"PageSize","description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int64","required":false,"example":"30"}},{"name":"PageNumber","in":"query","schema":{"title":"PageNumber","description":"页码，取值为：大于0且不超过Integer数据类型的最大值，默认值为1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"AdviceType","in":"query","schema":{"description":"建议的类型，取值说明：\n- **INDEX**：索引优化。\n- **TIERING**：冷热数据优化。","type":"string","required":false,"example":"INDEX"}},{"name":"Keyword","in":"query","schema":{"description":"查询关键字，支持根据表名模糊搜索。","type":"string","required":false,"example":"you_table_name"}},{"name":"SchemaTableName","in":"query","schema":{"description":"数据库名和表名。格式为**数据库.表**。","type":"string","required":false,"example":"tpch.lineitem"}},{"name":"Order","in":"query","schema":{"description":"将查询结果按指定字段进行排序。格式为JSON字符串，例如`[{\"Field\":\"SchemaName\",\"Type\":\"Asc\"}]`。其中：\n- `Field`表示排序字段。支持如下取值：\n    - `SchemaName`：数据库名。\n    - `TableName`：表名。\n    - `JobStatus`：表Build任务状态。\n    - `SubmitTime`：建议下发的时间。\n    - `Benefit`：预期优化收益。\n- `Type`表示排序方式。支持如下取值：\n    - `Asc`：升序排序。\n    - `Desc`： 降序排序。\n\n> 若不设置参数，默认按照优化建议下发的时间降序排列。","type":"string","required":false,"example":"[{\"Field\":\"Benefit\",\"Type\":\"Desc\"}]"}}],"responses":{"200":{"schema":{"description":"返回对象。","type":"object","properties":{"Items":{"title":"Items","description":"详情。","type":"array","items":{"description":"建议列表。","type":"object","properties":{"AdviceId":{"title":"AdviceId","description":"建议ID。","type":"string","example":"7417db9c-914d-43f3-a123-4d0e448f****"},"SubmitTime":{"title":"SubmitTime","description":"建议下发的时间，格式：yyMMddHHmm（UTC时间）。","type":"string","example":"2208131600"},"SubmitStatus":{"title":"SubmitStatus","description":"建议的下发状态。\n取值说明：\n- **SUCCEED**：成功。\n- **FAILED**：失败。","type":"string","example":"SUCCEED"},"SQL":{"title":"SQL","description":"应用建议的SQL语句。","type":"string","example":"alter table `schema1`.`table1` drop key col1_1_idx"},"RollbackSQL":{"title":"RollbackSQL","description":"回滚建议的SQL语句。","type":"string","example":"alter table `schema1`.`table1` add key col1_1_idx(col1)"},"JobStatus":{"title":"JobStatus","description":"执行建议的任务的状态。\n取值说明：\n- **SUCCEED**：成功。\n- **FAILED**：失败。","type":"string","example":"SUCCEED"},"Benefit":{"title":"Benefit","description":"建议的收益。","type":"string","example":"节省0.4 GB的存储空间"},"BuildSQL":{"title":"Benefit","description":"执行Build任务的SQL语句。","type":"string","example":"build table `schema1`.`table1`"},"TotalCount":{"title":"TotalCount","description":"返回的建议总数，取值为：大于等于0且不超过Integer数据类型的最大值，默认值为0。","type":"integer","format":"int64","example":"1"},"PageSize":{"title":"PageSize","description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int64","example":"30"},"PageNumber":{"title":"PageNumber","description":"页码，取值为：大于0且不超过Integer数据类型的最大值，默认值为1。","type":"integer","format":"int64","example":"1"},"SchemaName":{"description":"数据库名。","type":"string","example":"adb_demo"},"TableName":{"description":"表名。","type":"string","example":"test"}}}},"PageNumber":{"description":"页码，取值为：大于0且不超过Integer数据类型的最大值，默认值为1。","type":"integer","format":"int64","example":"1"},"PageSize":{"description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int64","example":"30"},"RequestId":{"description":"请求ID。","type":"string","example":"84489769-3065-5A28-A4CB-977CD426F1C3"},"TotalCount":{"description":"返回的结果总数，取值为：大于等于0且不超过Integer数据类型的最大值，默认值为0。","type":"integer","format":"int64","example":"1"},"SchemaTableNames":{"description":"数据库名和表名的字符串拼接列表。","type":"array","items":{"description":"数据库名和表名的字符串拼接。","type":"string","example":"[\n  \"tpch.lineitem\",\n  \"tpch.partsupp\",\n  \"tpch.orders\"\n]"}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Items\\\": [\\n    {\\n      \\\"AdviceId\\\": \\\"7417db9c-914d-43f3-a123-4d0e448f****\\\",\\n      \\\"SubmitTime\\\": \\\"2208131600\\\",\\n      \\\"SubmitStatus\\\": \\\"SUCCEED\\\",\\n      \\\"SQL\\\": \\\"alter table `schema1`.`table1` drop key col1_1_idx\\\",\\n      \\\"RollbackSQL\\\": \\\"alter table `schema1`.`table1` add key col1_1_idx(col1)\\\",\\n      \\\"JobStatus\\\": \\\"SUCCEED\\\",\\n      \\\"Benefit\\\": \\\"节省0.4 GB的存储空间\\\",\\n      \\\"BuildSQL\\\": \\\"build table `schema1`.`table1`\\\",\\n      \\\"TotalCount\\\": 1,\\n      \\\"PageSize\\\": 30,\\n      \\\"PageNumber\\\": 1,\\n      \\\"SchemaName\\\": \\\"adb_demo\\\",\\n      \\\"TableName\\\": \\\"test\\\"\\n    }\\n  ],\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 30,\\n  \\\"RequestId\\\": \\\"84489769-3065-5A28-A4CB-977CD426F1C3\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"SchemaTableNames\\\": [\\n    \\\"[\\\\n  \\\\\\\"tpch.lineitem\\\\\\\",\\\\n  \\\\\\\"tpch.partsupp\\\\\\\",\\\\n  \\\\\\\"tpch.orders\\\\\\\"\\\\n]\\\"\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeAppliedAdvicesResponse>\\n    <Items>\\n        <AdviceId>7417db9c-914d-43f3-a123-4d0e448f****</AdviceId>\\n        <SubmitTime>2022-08-20T16:00:00Z</SubmitTime>\\n        <SubmitStatus>SUCCEED</SubmitStatus>\\n        <SQL>alter table `schema1`.`table1` drop key col1_1_idx</SQL>\\n        <RollbackSQL>alter table `schema1`.`table1` add key col1_1_idx(col1)</RollbackSQL>\\n        <JobStatus>SUCCEED</JobStatus>\\n        <Benefit>节省0.4GB空间</Benefit>\\n        <BuildSQL>build table `schema1`.`table1`</BuildSQL>\\n        <TotalCount>1</TotalCount>\\n        <PageSize>30</PageSize>\\n        <PageNumber>1</PageNumber>\\n    </Items>\\n    <PageNumber>1</PageNumber>\\n    <PageSize>30</PageSize>\\n    <RequestId>84489769-3065-5A28-A4CB-977CD426F1C3</RequestId>\\n    <TotalCount>1</TotalCount>\\n</DescribeAppliedAdvicesResponse>\",\"errorExample\":\"\"}]","title":"显示已采纳的优化"}