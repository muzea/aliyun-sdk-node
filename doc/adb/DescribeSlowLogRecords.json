{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"AnalyticDB MySQL数仓版（3.0）集群ID。\n> 您可以调用[DescribeDBClusters](~~129857~~)接口查看目标地域下所有AnalyticDB MySQL数仓版（3.0）集群的集群ID。","type":"string","required":true,"docRequired":true,"example":"am-bp1rqvm70uh2****"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2021-05-20T16:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。\n> 查询结束时间需晚于查询开始时间，且与查询开始时间间隔小于7天。\n","type":"string","required":true,"docRequired":true,"example":"2021-05-27T16:00:00Z"}},{"name":"DBName","in":"query","schema":{"description":"数据库名称。","type":"string","required":false,"example":"adb_demo"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值为**30**（默认值）、**50**或**100**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"30","example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为大于0且不超过Integer数据类型最大值的正整数。默认值为**1**。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1"}},{"name":"ProcessID","in":"query","schema":{"description":"进程ID。","type":"string","required":false,"example":"2021052716044317201616624903453******"}},{"name":"Order","in":"query","schema":{"description":"根据指定字段进行排序，格式为JSON，是一个有序JSON数组，按输入数组的顺序进行复合排序，包含`Field`和`Type`两个字段，例如`[{\"Field\":\"ExecutionStartTime\",\"Type\":\"Desc\"},{\"Field\":\"ScanRows\",\"Type\":\"Asc\"}]`。其中：\n* `Field`表示需要排序的字段名，支持如下取值：\n    * **HostAddress**：连接数据库的客户端地址。\n    * **UserName**：用户名。\n    * **ExecutionStartTime**：目标SQL的执行开始时间。\n    * **QueryTime**：目标SQL执行时长。\n    * **PeakMemoryUsage**：执行目标SQL语句时的峰值内存。\n    * **ScanRows**：带数据源的任务的扫描数据行数。\n    * **ScanSize**：扫描的数据量。\n    * **ScanTime**：扫描数据总耗时。\n    * **PlanningTime**：执行计划生成耗时。\n    * **WallTime**：查询中的所有算子在各个节点CPU Time的累加值。\n    * **ProcessID**：进程ID。\n\n* `Type`表示排序类型，支持如下取值：\n    * **Desc**：降序。\n    * **Asc**：升序。","type":"string","required":false,"example":"[{\"Field\":\"ExecutionStartTime\",\"Type\":\"Desc\"},{\"Field\":\"ScanRows\",\"Type\":\"Asc\"}]"}},{"name":"Range","in":"query","schema":{"description":"根据指定字段的最大值（`Max`）和最小值（`Min`）进行范围过滤，格式为JSON格式，是一个JSON数组，例如`[{\"Field\":\"ScanSize\",\"Min\":\"1000000\",\"Max\":\"10000000\"},{\"Field\":\"QueryTime\",\"Min\":\"1000\",\"Max\":\"10000\"}]`。\n\n其中`Field`字段表示需要限制范围的字段，支持如下取值：\n* **ScanSize**：扫描的数据量，单位：KB。\n* **QueryTime**：执行时长，单位：毫秒（ms）。\n* **PeakMemoryUsage**：执行目标SQL语句时的峰值内存，单位：KB。\n\n> `Min`表示查询范围最小值（左值），`Max`表示查询范围最大值（右值），数据类型都为String。\n","type":"string","required":false,"example":"[{\"Field\":\"ScanSize\",\"Min\":\"1000000\",\"Max\":\"10000000\"},{\"Field\":\"QueryTime\",\"Min\":\"1000\",\"Max\":\"10000\"}]"}},{"name":"State","in":"query","schema":{"description":"查询状态。取值说明：\n- **Successed**：成功。\n- **Failed**：失败。","type":"string","required":false,"example":"Successed"}}],"responses":{"200":{"schema":{"description":"参数列表。","type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"string","example":"100"},"PageSize":{"description":"本页记录数。","type":"string","example":"30"},"RequestId":{"description":"请求ID。","type":"string","example":"D7559209-7EC3-41E1-8F78-156990******"},"PageNumber":{"description":"页码。","type":"string","example":"1"},"DBClusterId":{"description":"AnalyticDB MySQL数仓版（3.0）集群ID。","type":"string","example":"am-bp1rqvm70uh2****"},"Items":{"type":"object","properties":{"SlowLogRecord":{"description":"慢日志明细列表。","type":"array","items":{"description":"参数列表。\n","type":"object","properties":{"HostAddress":{"description":"连接数据库的客户端地址。","type":"string","example":"172.16.**.**"},"ScanTime":{"description":"扫描数据总耗时，是多个TableScanNode在多个节点上的累加值，单位：毫秒（ms）。","type":"integer","format":"int64","example":"10"},"SQLText":{"description":"SQL语句详情。","type":"string","example":"INSERT OVERWRITE INTO hdfs_import_external\\nSELECT *\\nFROM adb_hdfs_import_source"},"OutputSize":{"description":"任务的输出数据量。单位：Byte。","type":"string","example":"0.009"},"PeakMemoryUsage":{"description":"执行目标SQL语句时的峰值内存，单位：KB。","type":"string","example":"431.447"},"State":{"description":"SQL语句的执行状态。","type":"string","example":"SUCCESSED"},"WallTime":{"description":"查询中的所有算子在各个节点CPU Time的累加值，单位：毫秒（ms）。","type":"integer","format":"int64","example":"6100"},"ScanSize":{"description":"扫描的数据量，单位：KB。","type":"string","example":"0.035"},"ExecutionStartTime":{"description":"执行开始时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","example":"2021-05-27T08:04:43Z"},"QueryTime":{"description":"SQL语句执行时长，单位：毫秒（ms）。","type":"integer","format":"int64","example":"2344"},"ReturnRowCounts":{"description":"返回行数。","type":"integer","format":"int64","example":"1"},"ScanRows":{"description":"带数据源的任务的扫描数据行数。","type":"integer","format":"int64","example":"3"},"ParseRowCounts":{"description":"解析行数。","type":"integer","format":"int64","example":"0"},"DBName":{"description":"数据库名称。","type":"string","example":"adb_demo"},"PlanningTime":{"description":"执行计划生成耗时，单位：毫秒（ms）。","type":"integer","format":"int64","example":"12"},"QueueTime":{"description":"查询执行前的排队时间，单位：毫秒（ms）。","type":"integer","format":"int64","example":"0"},"UserName":{"description":"用户名。","type":"string","example":"test"},"ProcessID":{"description":"进程ID。","type":"string","example":"2021052716044317201616624903453******"}}}}}}}}}},"errorCodes":{"404":[{"errorCode":"InvalidDBCluster.NotFound","errorMessage":"The DBClusterId provided does not exist in our records."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": \\\"100\\\",\\n  \\\"PageSize\\\": \\\"30\\\",\\n  \\\"RequestId\\\": \\\"D7559209-7EC3-41E1-8F78-156990******\\\",\\n  \\\"PageNumber\\\": \\\"1\\\",\\n  \\\"DBClusterId\\\": \\\"am-bp1rqvm70uh2****\\\",\\n  \\\"Items\\\": {\\n    \\\"SlowLogRecord\\\": [\\n      {\\n        \\\"HostAddress\\\": \\\"172.16.**.**\\\",\\n        \\\"ScanTime\\\": 10,\\n        \\\"SQLText\\\": \\\"INSERT OVERWRITE INTO hdfs_import_external\\\\\\\\nSELECT *\\\\\\\\nFROM adb_hdfs_import_source\\\",\\n        \\\"OutputSize\\\": \\\"0.009\\\",\\n        \\\"PeakMemoryUsage\\\": \\\"431.447\\\",\\n        \\\"State\\\": \\\"SUCCESSED\\\",\\n        \\\"WallTime\\\": 6100,\\n        \\\"ScanSize\\\": \\\"0.035\\\",\\n        \\\"ExecutionStartTime\\\": \\\"2021-05-27T08:04:43Z\\\",\\n        \\\"QueryTime\\\": 2344,\\n        \\\"ReturnRowCounts\\\": 1,\\n        \\\"ScanRows\\\": 3,\\n        \\\"ParseRowCounts\\\": 0,\\n        \\\"DBName\\\": \\\"adb_demo\\\",\\n        \\\"PlanningTime\\\": 12,\\n        \\\"QueueTime\\\": 0,\\n        \\\"UserName\\\": \\\"test\\\",\\n        \\\"ProcessID\\\": \\\"2021052716044317201616624903453******\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSlowLogRecordsResponse>\\n    <TotalCount>100</TotalCount>\\n    <PageSize>30</PageSize>\\n    <RequestId>D7559209-7EC3-41E1-8F78-156990******</RequestId>\\n    <PageNumber>1</PageNumber>\\n    <DBClusterId>am-bp1rqvm70uh2****</DBClusterId>\\n    <Items>\\n        <HostAddress>172.16.**.**</HostAddress>\\n        <ScanTime>10</ScanTime>\\n        <SQLText>INSERT OVERWRITE INTO hdfs_import_external\\\\nSELECT *\\\\nFROM adb_hdfs_import_source</SQLText>\\n        <OutputSize>0.009</OutputSize>\\n        <PeakMemoryUsage>431.447</PeakMemoryUsage>\\n        <State>SUCCESSED</State>\\n        <WallTime>6100</WallTime>\\n        <ScanSize>0.035</ScanSize>\\n        <ExecutionStartTime>2021-05-27T08:04:43Z</ExecutionStartTime>\\n        <QueryTime>2344</QueryTime>\\n        <ReturnRowCounts>1</ReturnRowCounts>\\n        <ScanRows>3</ScanRows>\\n        <ParseRowCounts>0</ParseRowCounts>\\n        <DBName>adb_demo</DBName>\\n        <PlanningTime>12</PlanningTime>\\n        <QueueTime>0</QueueTime>\\n        <UserName>test</UserName>\\n        <ProcessID>2021052716044317201616624903453******</ProcessID>\\n    </Items>\\n</DescribeSlowLogRecordsResponse>\",\"errorExample\":\"\"}]","title":"查询慢日志明细","summary":"调用DescribeSlowLogRecords接口查看AnalyticDB MySQL版集群的慢日志明细。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}