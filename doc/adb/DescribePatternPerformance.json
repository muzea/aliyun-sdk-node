{"summary":"调用DescribePatternPerformance接口查看指定时间段内SQL Pattern的各指标（如查询时间、平均内存消耗）详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n> 您可以调用[DescribeDBClusters](~~129857~~)接口查看目标地域下所有AnalyticDB MySQL集群的详情，包括集群ID。","type":"string","required":true,"docRequired":true,"example":"am-****************"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。\n\n> - 仅支持查看最近14天内的数据。例如：当前日期为北京时间11月22日，最早可以查询到北京时间11月9日（UTC时间：2021-11-08T16:00:00Z)的数据，若查询时间早于11月9日（UTC时间：2021-11-08T16:00:00Z)，返回值为空。\n> - 查询开始时间和查询结束时间的间隔不能大于24小时。","type":"string","required":true,"docRequired":true,"example":"2021-11-18T00:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。\n> 查询结束时间需晚于查询开始时间。\n","type":"string","required":true,"docRequired":true,"example":"2021-11-18T18:05:00Z"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。\n> 您可以调用[DescribeRegions](~~143074~~)接口查看AnalyticDB MySQL版支持的地域和可用区信息，包括地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"PatternId","in":"query","schema":{"description":"SQL Pattern的ID。\n> 您可以调用[DescribeSQLPatterns](~~321868~~)接口查看指定时间内目标AnalyticDB MySQL集群下所有的SQL Pattern列表信息，包括SQL Pattern的ID。","type":"string","required":true,"example":"3847585356974******"}}],"responses":{"200":{"headers":{},"schema":{"description":"列表。","type":"object","properties":{"EndTime":{"description":"查询结束时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","example":"2021-11-18T18:05Z"},"RequestId":{"description":"请求ID。","type":"string","example":"210f47011634026610213529******"},"StartTime":{"description":"查询开始时间。格式：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","example":"2021-11-18T00:00Z"},"Performances":{"description":"性能指标列表。","type":"array","items":{"description":"列表。","type":"object","properties":{"Key":{"description":"查询的性能指标项。取值说明：\n- **AnalyticDB_PatternQueryCount**：Pattern相关查询的总次数。\n- **AnalyticDB_PatternQueryTime**：Pattern相关查询的总耗时。\n- **AnalyticDB_PatternExecutionTime**：Pattern相关查询的执行耗时。\n- **AnalyticDB_PatternPeakMemory**：Pattern相关查询的峰值内存。\n- **AnalyticDB_PatternScanSize**：Pattern相关查询的数据读取量。","type":"string","example":"AnalyticDB_PatternQueryCount"},"Unit":{"description":"性能指标项对应的单位。取值说明：\n- 当性能指标项为查询时间相关（即`Key`值为`AnalyticDB_PatternQueryTime`或`AnalyticDB_PatternExecutionTime`）时，该返回值为**ms**。\n- 当性能指标项为峰值内存相关（即`Key`值为`AnalyticDB_PatternPeakMemory`）时，该返回值为**MB**。\n- 当性能指标项为数据读取量（即`Key`值为`AnalyticDB_PatternScanSize`）时，该返回值为**MB**。\n- 当性能指标项为查询次数（即`Key`值为`AnalyticDB_PatternQueryCount`）时，该返回值为空。","type":"string","example":"ms"},"Series":{"description":"性能指标项下各性能值的详情。","type":"array","items":{"description":"列表。","type":"object","properties":{"Values":{"description":"性能值列表。","type":"array","items":{"description":"性能值。","type":"string","example":"[               \"2021-11-18 13:38:00\",               \"224\"             ]"}},"Name":{"description":"性能值名称。取值说明：\n- 当`Key`值为`AnalyticDB_PatternQueryCount`时，该参数返回 `pattern_query_count`，即当前Pattern相关SQL的执行次数。\n- 当`Key`值为`AnalyticDB_PatternQueryTime`时，该参数返回：\n    -  `average_query_time`，即当前Pattern相关SQL的平均总耗时。\n    - `max_query_time`，即当前Pattern相关SQL的最大总耗时。\n- 当`Key`值为`AnalyticDB_PatternExecutionTime`时，该参数返回：\n    -  `average_execution_time`，即当前Pattern相关SQL的平均执行耗时。\n    - `max_execution_time`，即当前Pattern相关SQL的最大执行耗时。\n-  当`Key`值为`AnalyticDB_PatternPeakMemory`时，该参数返回：\n    - `average_peak_memory`，即当前Pattern相关SQL的平均峰值内存。\n    - `max_peak_memory`，即当前Pattern相关SQL的最大峰值内存。\n-  当`Key`值为`AnalyticDB_PatternScanSize`时，该参数返回：\n    -  `average_scan_size`，即当前Pattern相关SQL的平均读取数据量。\n    - `max_scan_size`，即当前Pattern相关SQL的最大数据读取量。\n","type":"string","example":"max_query_time"}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2021-11-18T18:05Z\\\",\\n  \\\"RequestId\\\": \\\"210f47011634026610213529******\\\",\\n  \\\"StartTime\\\": \\\"2021-11-18T00:00Z\\\",\\n  \\\"Performances\\\": [\\n    {\\n      \\\"Key\\\": \\\"AnalyticDB_PatternQueryCount\\\",\\n      \\\"Unit\\\": \\\"ms\\\",\\n      \\\"Series\\\": [\\n        {\\n          \\\"Values\\\": [\\n            \\\"[               \\\\\\\"2021-11-18 13:38:00\\\\\\\",               \\\\\\\"224\\\\\\\"             ]\\\"\\n          ],\\n          \\\"Name\\\": \\\"max_query_time\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribePatternPerformanceResponse>\\n    <EndTime>2021-11-18T18:05Z</EndTime>\\n    <RequestId>210f47011634026610213529******</RequestId>\\n    <StartTime>2021-11-18T00:00Z</StartTime>\\n    <Performances>\\n        <Key>AnalyticDB_PatternQueryCount</Key>\\n        <Unit>ms</Unit>\\n        <Series>\\n            <Values>[               \\\"2021-11-18 13:38:00\\\",               \\\"224\\\"             ]</Values>\\n            <Name>max_query_time</Name>\\n        </Series>\\n    </Performances>\\n</DescribePatternPerformanceResponse>\",\"errorExample\":\"\"}]","title":"查询模式性能"}