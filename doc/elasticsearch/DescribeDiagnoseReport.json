{"path":"/openapi/diagnosis/instances/{InstanceId}/reports/{ReportId}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-mp91kzb8m0009****"}},{"name":"lang","in":"query","schema":{"description":"生成智能诊断报告的语言。默认为浏览器语言，支持：\n\n- en：英语\n- zh：简体中文\n- zt：繁体中文\n- es：西班牙语\n- fr：法语","type":"string","required":false,"example":"en"}},{"name":"ReportId","in":"path","schema":{"description":"报告ID。可通过[ListDiagnoseReportIds](~~183774~~) API获取。","type":"string","required":true,"docRequired":true,"example":"scheduled__2020-09-15T00:40:00"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****"},"Result":{"description":"返回结果。","type":"object","properties":{"trigger":{"description":"健康诊断的触发方式。支持：SYSTEM（系统自动触发）、INNER（内部触发）和USER（用户手动触发）。","type":"string","example":"SYSTEM"},"createTime":{"description":"报告创建的时间戳，单位：ms。\n","type":"integer","format":"int64","example":"1535745731000"},"reportId":{"description":"报告ID。","type":"string","example":"trigger__2020-08-17T17:09:02"},"state":{"description":"诊断状态。支持：SUCCESS、FAILED和RUNNING。","type":"string","example":"SUCCESS"},"instanceId":{"description":"诊断的实例ID。","type":"string","example":"es-cn-abc"},"health":{"description":"报告中集群整体的健康度。支持：GREEN、YELLOW、RED和UNKNOWN。","type":"string","example":"YELLOW"},"diagnoseItems":{"description":"报告诊断项信息列表。","type":"array","items":{"type":"object","properties":{"item":{"description":"诊断项名称。","type":"string","example":"IndexAliasUseDiagnostic"},"health":{"description":"诊断项的健康度。支持：GREEN、YELLOW、RED和UNKNOWN。","type":"string","example":"YELLOW"},"detail":{"description":"诊断项详情。","type":"object","properties":{"type":{"description":"诊断结果类型。支持：TEXT（文本描述）、CONSOLE_API（控制台触发型）、ES_API（API触发型）。","type":"string","example":"ES_API"},"name":{"description":"诊断项全称。","type":"string","example":"Number of Replica Shards"},"desc":{"description":"诊断项说明。","type":"string","example":"Check whether the number of replica shards is optimal and easy to maintain"},"result":{"description":"诊断结果。","type":"string","example":"You may need to adjust the numbers of replica shards of some indices as follows: [geoname08 : 0 -&gt; 1][geoname09 : 0 -&gt; 1][geonametest01 : 0 -&gt; 1]"},"suggest":{"description":"诊断建议。","type":"string","example":"You can call the following function in the Elasticsearch API...."}}}}}}}}}}},"5XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"4XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}}},"errorCodes":{"400":[{"errorCode":"ComponentCodeValueError","errorMessage":"component value is disable"}],"401":[{"errorCode":"UserNotOpen","errorMessage":"Aliyun account is not open elasticsearch"},{"errorCode":"StsRoleAccountNoPermission","errorMessage":"Role account has no permission or expired"},{"errorCode":"SubAccountNoPermission","errorMessage":"Aliyun sub account has no permission, please authorize your sub account in Aliyun RAM"},{"errorCode":"UserUnauthorized","errorMessage":"Authentication required"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****\\\",\\n  \\\"Result\\\": {\\n    \\\"trigger\\\": \\\"SYSTEM\\\",\\n    \\\"createTime\\\": 1535745731000,\\n    \\\"reportId\\\": \\\"trigger__2020-08-17T17:09:02\\\",\\n    \\\"state\\\": \\\"SUCCESS\\\",\\n    \\\"instanceId\\\": \\\"es-cn-abc\\\",\\n    \\\"health\\\": \\\"YELLOW\\\",\\n    \\\"diagnoseItems\\\": [\\n      {\\n        \\\"item\\\": \\\"IndexAliasUseDiagnostic\\\",\\n        \\\"health\\\": \\\"YELLOW\\\",\\n        \\\"detail\\\": {\\n          \\\"type\\\": \\\"ES_API\\\",\\n          \\\"name\\\": \\\"Number of Replica Shards\\\",\\n          \\\"desc\\\": \\\"Check whether the number of replica shards is optimal and easy to maintain\\\",\\n          \\\"result\\\": \\\"You may need to adjust the numbers of replica shards of some indices as follows: [geoname08 : 0 -&gt; 1][geoname09 : 0 -&gt; 1][geonametest01 : 0 -&gt; 1]\\\",\\n          \\\"suggest\\\": \\\"You can call the following function in the Elasticsearch API....\\\"\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"查看智能运维的历史报告","summary":"调用DescribeDiagnoseReport，查看智能运维的历史报告。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}