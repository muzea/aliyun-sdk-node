{"summary":"查看ES实例不同类型的日志。","path":"/openapi/instances/{InstanceId}/search-log","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"path","schema":{"title":"","description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-n6w1o1x0w001c****"}},{"name":"type","in":"query","schema":{"description":"日志类型。可选值：\n- INSTANCELOG：主日志。\n- SEARCHSLOW：searching慢日志。\n- INDEXINGSLOW：indexing慢日志。\n- JVMLOG：GC日志。\n- ES_SEARCH_ACCESS_LOG：ES访问日志。\n- AUDIT：审计日志。\n\n查看日志的相关限制信息，请参见[查询日志](~~72026~~)。","type":"string","required":true,"docRequired":true,"example":"INSTANCELOG"}},{"name":"query","in":"query","schema":{"description":"要查询的关键词。","type":"string","required":true,"docRequired":true,"example":"host:172.16.**.** AND content:netty"}},{"name":"beginTime","in":"query","schema":{"description":"日志开始时间戳，单位：毫秒。必须为最近7天内的时间，如果不填会查询\\[当前时间-7天,endTime\\]范围内的所有日志。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"1531910852074"}},{"name":"endTime","in":"query","schema":{"description":"日志结束时间戳，单位：毫秒。必须为最近7天内的时间，建议填写，如果不填返回结果为空。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"1531910852074"}},{"name":"page","in":"query","schema":{"description":"插件列表的页码。起始值：1，默认值：1。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"1"}},{"name":"size","in":"query","schema":{"description":"分页查询时设置的每页条数。默认值：20，最小值：1，最大值：50。","type":"integer","format":"int32","required":false,"docRequired":false,"maximum":"50","minimum":"1","example":"20","default":"20"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"7F40EAA1-6F1D-4DD9-8DB8-C5F00C4E****"},"Headers":{"description":"返回头信息。","type":"object","properties":{"X-Total-Count":{"description":"实例总记录数。","type":"integer","format":"int32","example":"1000"}}},"Result":{"description":"请求返回的日志列表。","type":"array","items":{"type":"object","properties":{"level":{"description":"日志等级。取值包括：\n\n- warn：警告日志\n- info：信息日志\n- error：错误日志\n- trace：跟踪日志\n- debug：调试日志\n\nlevel信息已迁移至contentCollection字段中。","type":"string","example":"info"},"host":{"description":"生成日志的节点的IP地址。","type":"string","example":"192.168.**.**"},"content":{"description":"日志详细内容。已迁移至contentCollection字段中。","type":"string","example":"[GC (Allocation Failure) 2018-07-19T17:24:20.682+0800: 7516.513: [ParNew: 6604768K->81121K(7341504K), 0.0760606 secs] 7226662K->703015K(31813056K), 0.0762507 secs] [Times: user=0.52 sys=0.00, real=0.07 secs] "},"timestamp":{"description":"日志生成的时间戳，单位为ms。","type":"integer","format":"int64","example":"1531985112420"},"contentCollection":{"description":"日志详细信息。不同的日志类型，返回不同的内容字段。","type":"object","example":"{\"level\": \"info\", \"host\": \"192.168.**.**\", \"time\": \"2019-03-18T08:16:12.741Z\",\"content\": \"[o.e.c.r.a.AllocationService] [MnNASM_] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[my_index][3]] ...]).\"}"},"instanceId":{"description":"实例ID。","type":"string","example":"es-cn-n6w1o1x0w001c****"}}}}}}},"5XX":{},"4XX":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7F40EAA1-6F1D-4DD9-8DB8-C5F00C4E****\\\",\\n  \\\"Headers\\\": {\\n    \\\"X-Total-Count\\\": 1000\\n  },\\n  \\\"Result\\\": [\\n    {\\n      \\\"level\\\": \\\"info\\\",\\n      \\\"host\\\": \\\"192.168.**.**\\\",\\n      \\\"content\\\": \\\"[GC (Allocation Failure) 2018-07-19T17:24:20.682+0800: 7516.513: [ParNew: 6604768K->81121K(7341504K), 0.0760606 secs] 7226662K->703015K(31813056K), 0.0762507 secs] [Times: user=0.52 sys=0.00, real=0.07 secs] \\\",\\n      \\\"timestamp\\\": 1531985112420,\\n      \\\"contentCollection\\\": {\\n        \\\"level\\\": \\\"info\\\",\\n        \\\"host\\\": \\\"192.168.**.**\\\",\\n        \\\"time\\\": \\\"2019-03-18T08:16:12.741Z\\\",\\n        \\\"content\\\": \\\"[o.e.c.r.a.AllocationService] [MnNASM_] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[my_index][3]] ...]).\\\"\\n      },\\n      \\\"instanceId\\\": \\\"es-cn-n6w1o1x0w001c****\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"{}\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"查看实例日志","requestParamsDescription":" ","responseParamsDescription":"Result.contentCollection中包含以下参数。\n|  名称  | 类型  | 示例值  | 描述  |\n|  ----  | ----  | ----  | ----  |\n| time | String |  2020-07-21T11:12:53.057Z  |日志产生的时间。|\n| content | String | [o.e.c.r.a.AllocationService] [MnNASM_] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[my_index][3]] ...]).| 日志详细内容。|\n| host |String| 192.168.\\*\\*.\\*\\* |  生成日志的节点IP。 |\n| level | String | warn | 日志等级。取值包括： warn（警告日志）、info（信息日志）、error（错误日志）、trace（跟踪日志）、debug（调试日志）。|\n","extraInfo":" "}