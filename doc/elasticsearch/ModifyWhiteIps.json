{"path":"/openapi/instances/{InstanceId}/actions/modify-white-ips","methods":["patch","post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-0pp1jxvcl000z****"}},{"name":"clientToken","in":"query","schema":{"description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ascii字符。","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B3FF****"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"nodeType":{"title":"节点类型。可选值：WORKER（Elasticsearch集群）、KIBANA（Kibana集群）。如果选填了whiteIpList参数，则该参数必填。","description":"节点类型，如果选填了whiteIpList参数，则该参数必填。可选值：\n\n- WORKER：Elasticsearch集群\n- KIBANA：Kibana集群","type":"string","required":false,"example":"WORKER"},"networkType":{"title":"网络类型。可选值：PRIVATE（私网）、PUBLIC（公网）。如果选填了whiteIpList参数，则该参数必填。","description":"网络类型，如果选填了whiteIpList参数，则该参数必填。可选值：\n\n- PRIVATE：私网\n- PUBLIC：公网","type":"string","required":false,"example":"PUBLIC"},"modifyMode":{"title":"修改方式，取值含义如下：\n\nCover（默认值）：使用ips参数的值覆盖原IP白名单。\n\nAppend：在原IP白名单中增加ips参数中输入的IP地址。\n\nDelete：Delete：在原IP白名单中删除ips参数中输入的IP地址，至少需要保留一个IP地址。","description":"修改方式，可选值：\n\n- Cover（默认）：使用ips参数的值覆盖原IP白名单。\n- Append：在原IP白名单中增加ips参数中输入的IP地址。\n- Delete：在原IP白名单中删除ips参数中输入的IP地址，至少需要保留一个IP地址。","type":"string","required":false,"example":"Cover"},"whiteIpList":{"title":"白名单列表。whiteIpGroup为空时可用，更改默认分组白名单","description":"IP地址白名单列表。whiteIpGroup为空时可用，更改默认分组白名单。","type":"array","items":{"description":"IP地址白名单列表。whiteIpGroup为空时可用，该参数值会更新Default白名单分组中的IP白名单配置。\n><notice>不支持同时配置whiteIpList和whiteIpGroup。\n></notice>","type":"string","required":false,"example":"192.168.xx.xx"},"required":false},"whiteIpGroup":{"title":"以白名单组whiteIpGroup传参方式，更新实例白名单安全配置。仅支持更新一个白名单组。","description":"以白名单组方式更新实例白名单配置，仅支持更新一个白名单组。\n><notice>不支持同时配置whiteIpList和whiteIpGroup。\n></notice>","type":"object","properties":{"groupName":{"title":"白名单组的组名。如果选填了whiteIpGroup参数，则该参数必填。","description":"白名单组的组名。如果选填了whiteIpGroup参数，则该参数必填。","type":"string","required":false,"example":"test_group"},"ips":{"title":"白名单组中的IP列表。如果选填了whiteIpGroup参数，则该参数必填。","description":"白名单组中的IP地址列表。如果选填了whiteIpGroup参数，则该参数必填。","type":"array","items":{"description":"白名单组中的IP地址列表。如果选填了whiteIpGroup参数，则该参数必填。","type":"string","required":false,"example":"192.168.xx.xx"},"required":false},"whiteIpType":{"title":"ip白名单的类型","description":"IP白名单的类型，可选值：\n\n- PRIVATE_KIBANA：Kibana私网访问白名单\n- PRIVATE_ES：Elasticsearch私网访问白名单\n- PUBLIC_ES：Elasticsearch公网访问白名单\n- PUBLIC_KIBANA：Kibana公网访问白名单","type":"string","required":false,"enumValueTitles":{"PRIVATE_KIBANA":"kibana私网白名单","PRIVATE_ES":"Es实例私网白名单","PUBLIC_ES":"Es实例公网白名单","PUBLIC_KIBANA":"kibana公网白名单"},"example":"PRIVATE_ES"}},"required":false}},"required":false}}],"responses":{"200":{"schema":{"description":"返回结果对象。","type":"object","properties":{"Result":{"description":"返回结果：\n\n- true：白名单更新成功\n- false：白名单更新失败","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1DERFG"}}}},"5XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"4XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Result\\\": true,\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1DERFG\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyWhiteIpsResponse>\\n    <Result>true</Result>\\n    <RequestId>5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1DERFG</RequestId>\\n</ModifyWhiteIpsResponse>\",\"errorExample\":\"\"}]","title":"更新指定实例的访问白名单","summary":"调用ModifyWhiteIps，更新指定实例的访问白名单。","description":"## 注意事项\n- 实例状态为生效中（activating）、失效（invalid）和冻结（inactive），无法更新信息。\n- 您可以通过两种方式更新白名单：IP白名单列表和IP白名单组。两种方式不能同时使用，且除了InstanceId和clientToken外，两种方式支持配置的参数也不同，具体如下：\n    - IP白名单列表：whiteIpList、nodeType、networkType\n    - IP白名单组：modifyMode、whiteIpGroup\n- 公网访问白名单不支持配置私网IP地址，私网访问白名单不支持配置公网IP地址。","requestParamsDescription":"><notice> 白名单组的增加和删除是由modifyMode为Cover的调用来实现的，Delete和Append无法实现白名单组粒度的增删，只能修改白名单组中的IP地址列表。具体说明如下：\n\n- modifyMode为Cover时，如果ips为空，则删除该白名单组。如果groupName不在已有白名单组组名的列表中，则会新建一个白名单组。\n- modifyMode为Delete时，删除后的ips至少需要保留一个IP地址。\n- modifyMode为Append时，需要保证白名单组组名为已创建，否则会提示NotFound的错误。\n\n></notice>"}