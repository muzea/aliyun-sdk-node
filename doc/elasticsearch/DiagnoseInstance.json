{"summary":"调用DiagnoseInstance，即刻诊断实例。","path":"/openapi/diagnosis/instances/{InstanceId}/actions/diagnose","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-n6w1o1x0w001c****"}},{"name":"lang","in":"query","schema":{"description":"获取的报告的语言。默认为浏览器语言，支持：\n\n- en：英语\n- zh：简体中文\n- zt：繁体中文\n- es：西班牙语\n- fr：法语","type":"string","required":false,"example":"en"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ASCII字符。\n","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B3FF****"}},{"name":"body","in":"body","style":"json","schema":{"description":"诊断任务信息。\n","type":"object","properties":{"indices":{"description":"待诊断的索引列表。","type":"array","items":{"description":"诊断索引列表。type为ALL时，indices可设置为空。","type":"string","required":false,"example":"[\"library\"]"},"required":false},"diagnoseItems":{"description":"诊断项。","type":"array","items":{"description":"诊断项，详细信息请参见[ListDiagnosisItems](https://next.api.aliyun.com/document/elasticsearch/2017-06-13/ListDiagnosisItems)的返回结果。","type":"string","required":false,"example":"[\"ClusterBulkRejectDiagnostic\",...]"},"required":false},"type":{"description":"诊断任务类型，支持：\n\n- ALL：诊断所有索引。\n- SELECT：诊断选定的索引。","type":"string","required":false,"example":"ALL"}},"required":false,"docRequired":false,"example":"{     \"indices\":[],     \"type\":\"ALL\",     \"diagnoseItems\":[         \"ClusterBulkRejectDiagnostic\",         \"IndexAliasUseDiagnostic\"     ] }"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1D***"},"Result":{"description":"返回结果。\n","type":"object","properties":{"createTime":{"description":"诊断报告生成的时间戳。","type":"integer","format":"int64","example":"1535745731000"},"reportId":{"description":"报告ID。\n","type":"string","example":"trigger__2020-08-17T17:09:02"},"state":{"description":"诊断状态。支持：SUCCESS、FAILED和RUNNING。\n","type":"string","example":"RUNNING"},"instanceId":{"description":"诊断的实例ID。\n","type":"string","example":"es-cn-n6w1o1x0w001c****"}}}}}},"5XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"4XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1D***\\\",\\n  \\\"Result\\\": {\\n    \\\"createTime\\\": 1535745731000,\\n    \\\"reportId\\\": \\\"trigger__2020-08-17T17:09:02\\\",\\n    \\\"state\\\": \\\"RUNNING\\\",\\n    \\\"instanceId\\\": \\\"es-cn-n6w1o1x0w001c****\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"诊断实例","responseParamsDescription":" ","extraInfo":" "}