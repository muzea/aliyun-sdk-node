{"summary":"修改Elasticsearch索引生命周期策略。","path":"/openapi/instances/{InstanceId}/ilm-policies/{PolicyName}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-nif24adwc0082w2ka****"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ASCII字符。","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B3FF****"}},{"name":"PolicyName","in":"path","schema":{"description":"索引生命周期策略名称。\n\n","type":"string","required":true,"docRequired":true,"example":"my-policy"}},{"name":"body","in":"body","schema":{"type":"string","required":false,"docRequired":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"Result":{"description":"返回结果。","type":"string","example":"my-policy"},"RequestId":{"description":"请求ID。","type":"string","example":"F99407AB-2FA9-489E-A259-40CF6DCC****"}}}},"400":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"401":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"404":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"500":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Result\\\": \\\"my-policy\\\",\\n  \\\"RequestId\\\": \\\"F99407AB-2FA9-489E-A259-40CF6DCC****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"修改索引生命周期策略","requestParamsDescription":"## RequestBody\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|name|String|my-policy |是|索引生命周期策略名称。|\n|phases|Map| |否|索引生命周期策略内容。详情请参见**phases字段数据结构说明**。|\n\n**phases字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|{key}|Struct| |否|当前生命周期阶段，支持以下三种阶段：hot（热数据阶段，正在积极更新和查询索引）；cold（冷数据阶段，索引不再被更新并且很少被查询。信息仍然需要可搜索，但是如果这些查询速度较慢也可以。）；delete（删除阶段，不再需要该索引，可以安全地将其删除）。|\n|minAge|String|30d|否|索引到达目标阶段所需要的时间。|\n|actions|Struct| |否|当前阶段策略设置。详情请参见**actions字段数据结构说明**。|\n\n**actions字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|rollver|Struct| |否|hot阶段的索引滚动更新操作。详情请参见**rollver字段数据结构说明**。|\n|setPriority|Struct| |否|hot或cold阶段的索引优先级。详情请参见**setPriority字段数据结构说明**。|\n|allocate|Struct| |否|cold阶段的分配操作。详情请参见**allocate字段数据结构说明**。|\n|delete|Struct| {} |否|删除索引操作。delete阶段开启时，属性必传，为空对象。|\n\n**rollver字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|maxAge|String|30d|否|触发滚动索引所需要的时间阈值。maxAge、maxDocs和maxSize三者中至少选填一个。单位：d（天）或者h（小时）。 |\n|maxDocs|Integer|10000|否|触发滚动索引所需要的文档数量的阈值。|\n|maxSize|String|50gb|否|触发滚动索引所需要的索引大小的阈值。maxAge、maxDocs和maxSize三者中至少选填一个。单位：MB或者GB。|\n\n**setPriority字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|priority|Integer|100|否|当前节点默认的优先级。|\n\n**allocate字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|numberOfReplicas|Integer|1|否|分配指定的副本数，如果设置，则默认值为1。与migrate配合使用，开启自动迁移时，默认进行副本数分配。|\n|require |Struct| |否|可选设置，冷热分离架构集群可用。详情请参见**require字段数据结构说明**。|\n\n**require字段数据结构说明**\n|参数|类型|示例值|是否必选|描述|\n| :--- | :--- | :--- | :--- | :--- |\n|boxType|String|warm|否|自定义节点属性标识，冷热分离架构集群可用，迁移至冷节点。可选值：warm。|","responseParamsDescription":" ","extraInfo":" "}