{"summary":"获取索引迁移数据信息。","path":"/openapi/cluster/data-information","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"body","in":"body","schema":{"type":"string","required":false,"docRequired":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****"},"Result":{"description":"返回结果。","type":"object","properties":{"connectable":{"description":"是否可连通。","type":"boolean","example":"true"},"metaInfo":{"description":"集群的元数据信息。","type":"object","properties":{"mapping":{"description":"集群的Mapping配置。","type":"string","example":"{\\\"_doc\\\":{\\\"properties\\\":{\\\"user\\\":{\\\"properties\\\":{\\\"last\\\":{\\\"type\\\":\\\"text\\\",...}}}}}}"},"settings":{"description":"集群的Settings配置。","type":"string","example":"{\\n  \\\"index\\\": {\\n    \\\"replication\\\": {\\n}.....}}"},"typeName":{"type":"array","items":{"description":"指定索引的type。","type":"string","example":"[\"index1-type\"]"}},"fields":{"type":"array","items":{"description":"索引Mapping对应的字段。","type":"string","example":"[\"id\",\"name\"]"}},"indices":{"type":"array","items":{"description":"集群的索引列表。","type":"string","example":"[\"index1\",\"index2\",\"index3\"]"}}}}}}}}},"400":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"401":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"404":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"500":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****\\\",\\n  \\\"Result\\\": {\\n    \\\"connectable\\\": true,\\n    \\\"metaInfo\\\": {\\n      \\\"mapping\\\": \\\"{\\\\\\\\\\\\\\\"_doc\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"properties\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"user\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"properties\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"last\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"text\\\\\\\\\\\\\\\",...}}}}}}\\\",\\n      \\\"settings\\\": \\\"{\\\\\\\\n  \\\\\\\\\\\\\\\"index\\\\\\\\\\\\\\\": {\\\\\\\\n    \\\\\\\\\\\\\\\"replication\\\\\\\\\\\\\\\": {\\\\\\\\n}.....}}\\\",\\n      \\\"typeName\\\": [\\n        \\\"[\\\\\\\"index1-type\\\\\\\"]\\\"\\n      ],\\n      \\\"fields\\\": [\\n        \\\"[\\\\\\\"id\\\\\\\",\\\\\\\"name\\\\\\\"]\\\"\\n      ],\\n      \\\"indices\\\": [\\n        \\\"[\\\\\\\"index1\\\\\\\",\\\\\\\"index2\\\\\\\",\\\\\\\"index3\\\\\\\"]\\\"\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"索引迁移数据信息","requestParamsDescription":"请求参数为空，但需填写RequestBody。\nRequestBody中需要填入以下参数，用来指定集群信息。\n| 名称 | 类型 | 是否必选 | 示例值 | 描述 |\n| ---- | ---- | ---- | ---- |\n| dataSourceType| String | 是 | elasticsearch |集群类型，默认为elasticsearch。|\n| endpoint| String | 否 | http://10.01.xx.xx |集群公网域名。源集群的网络环境为公网时必填。|\n| instanceId| String | 否 | es-cn-09k1rnu3g0002**** |Elasticsearch实例ID。源集群的网络环境为阿里云Elasticsearch集群时必填。|\n| vpcInstancePort| Integer | 否 | 9200 |集群的访问端口号。源集群的网络环境为阿里云Elasticsearch集群、阿里云ECS服务自建集群时必填。|\n| vpcId| String | 否 | vpc-2ze59tt67m3nzkko9****  |集群所在的专有网络ID。源集群的网络环境为阿里云Elasticsearch集群、阿里云ECS服务自建集群时必填。|\n| vpcInstanceId| String | 否 | es-09k1rnu3g0002****-worker |当前集群的实例ID或负载均衡SLB（Server Load Balancer）实例ID。源集群的网络环境为阿里云Elasticsearch集群时必填。|\n| username| String | 否 | elastic |集群的访问用户名。|\n| password| String | 否 | xxxxxx |集群的访问密码。|\n| index| String | 否 | product |索引名称。|\n| type| String | 否 | default |索引类型。|\n\n\n> - index为空，可校验Elasticsearch集群是否可连通。如果可连通，返回结果中indices不为空。\n- index不为空，可获取当前index下，settings和mapping的信息。\n- type不为空，可获取当前type对应的routing字段信息。\n\n\n源集群的网络环境不同，需要填写的参数不同：\n- 公网集群：需要填写的参数包括endpoint，示例如下。\n       \n       ```\n        {\n         \"dataSourceType\": \"elasticsearch\",\n         \"endpoint\": \"http://es-cn-npk1shyiq000d****.public.elasticsearch.aliyuncs.com:9200\",\n         \"username\": \"elastic\",\n         \"password\": \"xxxxxx\",\n         \"index\": \"default\",\n         \"type\": \"default\"\n         }\n      ```\n\n- 阿里云ECS服务自建集群：需要填写的参数包括vpcInstancePort、vpcId和vpcIp，示例如下。\n     \n      ```\n       {\n            \"dataSourceType\": \"elasticsearch\",\n            \"vpcId\":\"vpc-2ze55voww95g82gak****\",\n            \"vpcInstancePort\": \"9200\",\n            \"vpcIp\": \"10.12.xx.xx\",\n            \"username\" : \"elastic\",\n            \"password\" : \"xxxxxx\",\n            \"index\":  \"product\",\n            \"type\" : \"default\"\n       }\n      ```\n      \n- 阿里云Elasticsearch集群：需要填写的参数包括vpcInstancePort、vpcId、vpcInstanceId和instanceId，示例如下。\n  \n    ```\n    {\n        \"dataSourceType\" : \"elasticsearch\",\n        \"vpcId\":\"vpc-2ze55voww95g82gak****\",\n        \"vpcInstancePort\" : \"9200\",\n        \"vpcInstanceId\" : \"es-cn-09k1rnu3g0002****-worker\",\n        \"instanceId\" : \"es-cn-oew1oxiro000f****\",\n        \"username\" : \"elastic\",\n        \"password\" : \"xxxxxx\",\n        \"index\":  \"product\",\n        \"type\" : \"default\"\n     }\n\n    ```\n","responseParamsDescription":" ","extraInfo":" "}