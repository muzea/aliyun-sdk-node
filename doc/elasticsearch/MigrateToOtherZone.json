{"path":"/openapi/instances/{InstanceId}/actions/migrate-zones","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-n6w1o1x0w001c****"}},{"name":"dryRun","in":"query","schema":{"description":"校验是否可以进行可用区节点迁移。true表示只校验不执行迁移任务；false表示校验通过后即进行迁移任务。","type":"boolean","required":true,"docRequired":true,"example":"false"}},{"name":"body","in":"body","schema":{"type":"string","required":false,"docRequired":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"Result":{"description":"返回结果：\n\n- true：迁移成功\n- false：迁移失败","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****"}}}},"5XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"4XX":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Result\\\": true,\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"迁移可用区","summary":"迁移对应可用区下的节点到目标可用区。","description":"当您升配实例，遇到可用区规格库存不足的问题时，可以通过迁移可用区节点来解决。在调用此接口前，需要确保：\n\n- 当前账号存在资源充足的可用区。\n\n   在迁移当前规格的节点到其他可用区后，需手动[升配集群](~~96650~~)，并不会在迁移过程中升配集群，因此要选择资源充足的可用区，避免集群升配失败。建议优先选择字母顺序靠后的新可用区（例如对于cn-hangzhou-e和cn-hangzhou-h可用区，优先选择cn-hangzhou-h）。\n\n- 集群处于健康状态。\n\n   可通过`GET _cat/health?v`命令查看集群健康状态。","requestParamsDescription":"## RequestBody\nRequestBody中还需填入以下参数，用来指定迁移的可用区信息。\n|  名称  | 类型  | 是否必选 | 示例值  | 描述  |\n|  ----  | ----  | ----  | ----  |\n| fromZoneId| String |  是    | cn-hangzhou-i  |实例目前所在的可用区。|\n| toZoneId| String |  是    | cn-hangzhou-b  |迁移到的目标可用区。|\n| toVswitchId| String |  是    | vsw-bp1f7r0ma00pf9h2l****  |虚拟交换机ID。|\n\n示例如下。\n\n```\n{\n    \"fromZoneId\": \"cn-hangzhou-e\",\n    \"toZoneId\": \"cn-hangzhou-f\",\n    \"toVswitchId\": \"vsw-bp16t5hpc689dgkgc****\"\n}\n```\n\n","responseParamsDescription":" ","extraInfo":" "}