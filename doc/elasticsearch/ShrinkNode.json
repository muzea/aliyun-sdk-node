{"summary":"指定Elasticsearch节点角色进行缩节点操作。","path":"/openapi/instances/{InstanceId}/actions/shrink","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-nif1q9o8r0008****"}},{"name":"nodeType","in":"query","schema":{"description":"需要缩容的节点类型，可选值：\n\n- WORKER：热节点\n- WORKER_WARM：冷节点","type":"string","required":true,"docRequired":true,"example":"WORKER"}},{"name":"clientToken","in":"query","schema":{"description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ASCII字符。","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B3FF****"}},{"name":"ignoreStatus","in":"query","schema":{"description":"是否忽略集群健康状态：\n\n- true：忽略\n- false：不忽略","type":"boolean","required":false,"example":"false"}},{"name":"count","in":"query","schema":{"description":"缩节点数量。\n><notice> 此参数仅适用于ACK架构实例，且不支持填写body中的host参数。\n></notice>","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"array","items":{"description":"请求对象。","type":"object","properties":{"host":{"description":"节点的IP地址。","type":"string","required":false,"example":"192.168.xx.xx"},"zoneId":{"description":"实例节点所在的可用区ID。例如，上海可用区C为cn-shanghai-c。","type":"string","required":false,"example":"cn-shanghai-c"},"nodeType":{"description":"需要缩容的节点类型，可选值：\n\n- WORKER：热节点\n- WORKER_WARM：冷节点","type":"string","required":false,"example":"WORKER"},"port":{"description":"节点的访问端口号。","type":"integer","format":"int32","required":false,"example":"9200"},"hostName":{"description":"云原生ACK架构集群的节点名称，可调用[ListAllNode](~~183958~~)接口获取。","type":"string","required":false,"example":"es-cn-pl32xxxxxxx-data-f-1"}},"required":false},"required":false}}],"responses":{"200":{"schema":{"description":"返回结果对象。","type":"object","properties":{"Result":{"description":"返回结果：\n\n- true：缩容成功\n- false：缩容失败","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"F99407AB-2FA9-489E-A259-40CF6DCC****"}}}},"400":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"401":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"404":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}},"500":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"},"Code":{"type":"string"},"Message":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Result\\\": true,\\n  \\\"RequestId\\\": \\\"F99407AB-2FA9-489E-A259-40CF6DCC****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"集群缩节点","description":"调用该接口时请注意：<br>\n在进行集群数据节点缩容前，需要先将待缩容节点中的数据迁移到其他节点，保证待缩容节点中无数据后，再进行集群节点缩容操作。\n","responseParamsDescription":" ","extraInfo":" "}