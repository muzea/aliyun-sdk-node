{"path":"/openapi/instances/{InstanceId}/elastic-task","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-6ja1ro4jt000c****"}},{"name":"body","in":"body","schema":{"description":"指定扩缩容信息。","type":"string","required":false,"docRequired":false,"example":"{     \"elasticExpansionTask\":     {         \"triggerType\":\"crontab\",         \"cronExpression\":\"0 0 0 ? * MON\",         \"elasticNodeCount\":\"2\",         \"targetIndices\":[\"*\"],         \"replicaCount\":\"2\"     } }"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1D****"},"Result":{"description":"返回结果。","type":"object","properties":{"elasticExpansionTask":{"description":"弹性节点扩容规则。","type":"object","properties":{"triggerType":{"description":"触发条件。固定为crontab，表示定时触发。","type":"string","example":"crontab"},"replicaCount":{"description":"目标索引的副本数。","type":"integer","format":"int32","example":"2"},"elasticNodeCount":{"description":"目标高峰期弹性数据节点数量。","type":"integer","format":"int32","example":"2"},"cronExpression":{"description":"触发周期，使用Quartz Cron表达式。","type":"string","example":"0 0 0 ? * MON"},"targetIndices":{"type":"array","items":{"description":"目标弹性索引名称，支持通配符。","type":"string","example":"[\"index\"]"}}}},"elasticShrinkTask":{"description":"弹性节点缩容规则。","type":"object","properties":{"triggerType":{"description":"触发条件。可选值：crontab，表示定时触发。","type":"string","example":"crontab"},"replicaCount":{"description":"目标索引的副本数。","type":"integer","format":"int32","example":"2"},"elasticNodeCount":{"description":"目标低峰期弹性数据节点数量。","type":"integer","format":"int32","example":"2"},"cronExpression":{"description":"触发周期，使用Quartz Cron表达式。","type":"string","example":"4 4 4 ? * WED"},"targetIndices":{"type":"array","items":{"description":"目标弹性索引名称，支持通配符。","type":"string","example":"[\"index\"] "}}}}}}}}}},"errorCodes":{"404":[{"errorCode":"InstanceNotFound","errorMessage":"The specified cluster does not exist. Check the cluster status and try again."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5FFD9ED4-C2EC-4E89-B22B-1ACB6FE1D****\\\",\\n  \\\"Result\\\": {\\n    \\\"elasticExpansionTask\\\": {\\n      \\\"triggerType\\\": \\\"crontab\\\",\\n      \\\"replicaCount\\\": 2,\\n      \\\"elasticNodeCount\\\": 2,\\n      \\\"cronExpression\\\": \\\"0 0 0 ? * MON\\\",\\n      \\\"targetIndices\\\": [\\n        \\\"[\\\\\\\"index\\\\\\\"]\\\"\\n      ]\\n    },\\n    \\\"elasticShrinkTask\\\": {\\n      \\\"triggerType\\\": \\\"crontab\\\",\\n      \\\"replicaCount\\\": 2,\\n      \\\"elasticNodeCount\\\": 2,\\n      \\\"cronExpression\\\": \\\"4 4 4 ? * WED\\\",\\n      \\\"targetIndices\\\": [\\n        \\\"[\\\\\\\"index\\\\\\\"] \\\"\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyElastictaskResponse>\\n    <RequestId>ECF7F13B-A26F-44E6-B77A-5AD5AC32****</RequestId>\\n    <Result>\\n        <elasticExpansionTask>\\n            <TriggerType>crontab</TriggerType>\\n            <ReplicaCount>2</ReplicaCount>\\n            <CronExpression>0 0 0 ? * MON</CronExpression>\\n            <ElasticNodeCount>2</ElasticNodeCount>\\n            <TargetIndices>*</TargetIndices>\\n        </elasticExpansionTask>\\n    </Result>\\n</ModifyElastictaskResponse>\",\"errorExample\":\"\"}]","title":"更新集群弹性扩缩容规则","summary":"调用ModifyElastictask，更新集群弹性扩缩容规则。","requestParamsDescription":"## RequestBody\nRequestBody中还需填入以下参数，用来指定扩缩容信息。\n| 名称 | 类型 | 是否必选 | 示例值 | 描述 |\n| ---- | ---- | ---- | ---- |\n| elasticExpansionTask|  | 否 |  |弹性节点扩容规则。|\n|  └triggerType | String | 是 | crontab |触发条件。可选值：crontab，表示定时触发。|\n|  └cronExpression | String | 是 | 0 0 0 ? * MON |触发周期，使用Quartz Cron表达式。|\n|  └elasticNodeCount | Integer | 否 | 2 |目标高峰期弹性数据节点数量。|\n|  └targetIndices | List | 否 | [\"index\"] |目标弹性索引名称，支持通配符。|\n|  └replicaCount | String | 是 | 2 |目标索引的副本数。|\n| elasticShrinkTask|  | 否 |  |弹性节点缩容规则。|\n|  └triggerType | String | 是 | crontab |触发条件。可选值：crontab，表示定时触发。|\n|  └cronExpression | String | 是 | 4 4 4 ? * WED |触发周期，使用Quartz Cron表达式。|\n|  └elasticNodeCount | Integer | 否 | 2 |目标低峰期弹性数据节点数量。|\n|  └targetIndices | List | 否 | [\"index\"] |目标弹性索引名称，支持通配符。|\n|  └replicaCount | String | 是 | 2 |目标索引的副本数。|\n\n> elasticExpansionTask和elasticShrinkTask二者必须选其一，不能都为空。\n\n示例如下。\n\n```\n{\n    \"elasticExpansionTask\":\n    {\n        \"triggerType\":\"crontab\",\n        \"cronExpression\":\"0 0 0 ? * MON\",\n        \"elasticNodeCount\":\"2\",\n        \"targetIndices\":[\"*\"],\n        \"replicaCount\":\"2\"\n    }\n}\n```","responseParamsDescription":" ","extraInfo":" "}