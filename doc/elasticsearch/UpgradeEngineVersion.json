{"summary":"升级Elasticsearch实例版本，支持版本升级和内核版本升级。","path":"/openapi/instances/{InstanceId}/actions/upgrade-version","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"es-cn-n6w1o1x0w001c****"}},{"name":"clientToken","in":"query","schema":{"title":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ASCII字符。","description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，最大不超过64个ASCII字符。","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B3FF****"}},{"name":"dryRun","in":"query","schema":{"title":"是否进行升级前校验。true表示校验，false表示不校验。\n注意：版本升级校验涉及集群YML、插件配置、集群状态、索引、资源等检查，强烈建议升级前进行前置校验，否则可能带来升级问题。","description":"是否进行升级前校验：\n\n- true：校验\n- false（默认）：不校验\n\n><warning> 版本升级校验涉及集群YML、插件配置、集群状态、索引、资源等检查，强烈建议升级前进行前置校验，否则可能带来升级问题。\n></warning>","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体。","type":"object","properties":{"version":{"title":"升级后的版本","description":"升级后的版本。当type为engineVersion时，取值为实例版本，例如6.7；当type为aliVersion时，取值为内核版本，例如ali1.2.0。","type":"string","required":false,"example":"6.7"},"type":{"title":"升级类型。","description":"升级类型，可选值：\n\n- engineVersion（默认）：大版本升级\n- aliVersion：内核版本升级","type":"string","required":false,"example":"engineVersion","enum":["engineVersion","aliVersion"]}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F99407AB-2FA9-489E-A259-40CF6DC*****"},"Result":{"description":"返回结果。","type":"array","items":{"type":"object","properties":{"validateType":{"description":"校验类型。支持：\n\n- checkClusterHealth：集群健康状态\n- checkConfigCompatible：配置兼容状态\n- checkClusterResource：资源空间状态\n- checkClusterSnapshot：是否存在快照","type":"string","example":"checkClusterHealth"},"validateResult":{"description":"校验信息。","type":"array","items":{"type":"object","properties":{"errorType":{"description":"错误类型。支持：\n\n- clusterStatus：集群健康状态\n- clusterConfigYml：集群YML文件\n- clusterConfigPlugins：集群配置文件\n- clusterResource：集群资源\n- clusterSnapshot：集群快照","type":"string","example":"clusterStatus"},"errorCode":{"description":"错误码。","type":"string","example":"ClusterStatusNotHealth"},"errorMsg":{"description":"错误信息。","type":"string","example":"The cluster status is not health"}}}},"status":{"description":"校验是否通过。支持：\n\n- success：通过\n- failed：未通过","type":"string","example":"success"}}}}}}},"400":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"401":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"404":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}},"500":{"schema":{"type":"object","properties":{"Code":{"type":"string"},"Message":{"type":"string"},"RequestId":{"type":"string"}}}}},"staticInfo":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F99407AB-2FA9-489E-A259-40CF6DC*****\\\",\\n  \\\"Result\\\": [\\n    {\\n      \\\"validateType\\\": \\\"checkClusterHealth\\\",\\n      \\\"validateResult\\\": [\\n        {\\n          \\\"errorType\\\": \\\"clusterStatus\\\",\\n          \\\"errorCode\\\": \\\"ClusterStatusNotHealth\\\",\\n          \\\"errorMsg\\\": \\\"The cluster status is not health\\\"\\n        }\\n      ],\\n      \\\"status\\\": \\\"success\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"升级实例版本或内核补丁版本","description":"> 升级实例版本功能目前只支持5.5.3版本升级到5.6.16版本、5.6.16版本升级到6.3.2版本、6.3.2版本升级到6.7.0版本，暂不支持其他版本间的升级。详情请参见[升级版本](~~148786~~)。","requestParamsDescription":"\n","responseParamsDescription":" ","extraInfo":" "}