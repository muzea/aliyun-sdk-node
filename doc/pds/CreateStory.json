{"summary":"创建推荐故事。\nPDS 会根据请求参数中的故事类型和时间范围筛选 drive 空间下的图片和视频，将符合条件的图片、视频加入该故事的文件列表。\n若没有符合条件的图片、视频，则会创建空故事。","path":"/v2/image/create_story","methods":["post"],"schemes":["https"],"tags":["api"],"security":[{"AK":[]},{"BearerToken":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"domain_id","in":"host","schema":{"type":"string","required":true}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体","type":"object","properties":{"drive_id":{"description":"空间 id","type":"string","required":true,"example":"1"},"story_id":{"description":"故事 id。由用户指定。","type":"string","required":false,"example":"9132e0d8-fe92-4e56-86c3-f5f112308003"},"story_type":{"description":"故事类型","type":"string","required":true,"enumValueTitles":{"PeopleMemory":"人物故事","TagMemory":"标签故事","TimeMemory":"时光故事","TravelMemory":"旅行故事"},"example":"TagMemory","enum":["TimeMemory","PeopleMemory","TagMemory","TravelMemory"]},"story_sub_type":{"description":"故事子类型。其值取决于故事类型，详情可见请求参数补充说明。","type":"string","required":false,"example":"Food"},"story_name":{"description":"故事名称。\n长度不超过 1024 个字节。","type":"string","required":false,"example":"美食"},"story_start_time":{"description":"创建故事照片或视频的开始时间。RFC3339。","type":"string","required":false,"example":"2016-12-30T16:00:00Z"},"story_end_time":{"description":"创建故事照片或视频的结束时间。RFC3339。","type":"string","required":false,"example":"2022-12-30T16:00:00Z"},"min_image_count":{"description":"创建故事照片或视频文件最小个数。\n须大于 0，小于等于 max\\_image\\_count，空值默认为 1。","type":"integer","format":"int64","required":false,"minimum":"1","example":"1","default":"1"},"max_image_count":{"description":"创建故事照片或视频文件最大个数。\n须小于等于 100，大于等于 min\\_image\\_count，空值默认 30。","type":"integer","format":"int64","required":false,"maximum":"100","example":"30","default":"30"},"custom_labels":{"description":"自定义标签。\n标签数量不能超过 20 个。","type":"object","deprecated":true,"required":false,"additionalProperties":{"type":"string","example":"label_value","description":"自定义标签"}},"address":{"description":"地址信息","required":false,"$ref":"#/components/schemas/Address"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回参数","type":"object","properties":{"drive_id":{"description":"空间 id","type":"string","example":"1"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"drive_id\\\": \\\"1\\\"\\n}\",\"type\":\"json\"}]","title":"创建推荐故事","description":"**请确保在使用该接口前，已充分了解 PDS 的收费方式和[价格](~~425220~~)**。\n\n使用此功能须开通增值服务图片处理功能。故事相关接口限时免费。\n\n用户创建故事时可自己指定故事 id：\n- 若指定故事 id：\n    - 若故事 id 不存在，则使用该 id 创建新故事；\n    - 若故事 id 存在，则会根据新条件生成故事并覆盖更新该故事；\n- 若不指定 id，则会由 PDS 生成故事 id。\n\n\n> \n> - 该接口为异步接口，用户创建推荐故事后需要等待一定时间生成该故事。用户可以通过 GetStory 接口或者 FindStories 接口去查询创建故事的进度。","requestParamsDescription":"### 故事类型\n\n- TimeMemory：时光故事\n\n- PeopleMemory：人物故事\n\n- TagMemory：标签故事\n\n- TravelMemory：旅行故事\n\n### 故事子类型\n\nTimeMemory：空\n\nPeopleMemory：\n\n- Solo：人物故事，单人故事。搜索数据集里人脸数目最多的人物，根据已做过的人脸聚类的结果生成人物故事，可支持通过时间参数StoryStartTime和StoryEndTime传入时间间隔，即在某段时间间隔内，照片数量最多的人物为候选人物，不会关注是否已有该人物的故事生成\n\nTagMemory：\n\n- Food：美食标签故事\n\n- Pet：宠物标签故事\n\n- PetDog：宠物狗标签故事\n\n- PetCat：宠物猫标签故事\n\n- Scenery：风景标签故事\n\nTravelMemory：空"}