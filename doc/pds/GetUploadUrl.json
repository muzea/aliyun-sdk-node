{"summary":"获取上传地址。","path":"/v2/file/get_upload_url","methods":["post"],"schemes":["https"],"tags":["api"],"security":[{"AK":[]},{"BearerToken":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{},"parameters":[{"name":"domain_id","in":"host","schema":{"type":"string","required":true}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"drive_id":{"description":"空间 id","type":"string","required":true,"example":"1"},"share_id":{"description":"分享id","type":"string","required":false,"example":"7JQX1FswpQ8"},"file_id":{"description":"文件id","type":"string","required":true,"example":"5d5b846942cf94fa72324c14a4bda34e81da635d"},"upload_id":{"description":"上传 id","type":"string","required":true,"example":"10166D06127B413BA1EC8ABB1144D111"},"part_info_list":{"description":"分片信息列表","type":"array","items":{"description":"分片信息","type":"object","properties":{"part_number":{"description":"段编号","type":"integer","format":"int32","required":false,"example":"1"},"parallel_sha1_ctx":{"description":"该分片前所有数据的SHA1上下文，该字段只在多分片并发上传的模式下有效","type":"object","properties":{"h":{"description":"该分片前所有数据的SHA1上下文的第1-5个32位变量，该字段只在多分片并发上传的模式下有效","type":"array","items":{"description":"该分片前所有数据的SHA1上下文的第1-5个32位变量","type":"integer","format":"int64","required":false,"example":"1"},"required":false},"part_offset":{"description":"到上一个数据块为止的总长度，字节，需要为64的倍数，该字段只在多分片并发上传的模式下有效","type":"integer","format":"int64","required":false,"example":"10240"}},"required":false},"content_md5":{"type":"string","required":false},"content_type":{"type":"string","required":false},"parallel_sha256_ctx":{"type":"object","properties":{"h":{"type":"array","items":{"type":"integer","format":"int64","required":false},"required":false},"part_offset":{"type":"integer","format":"int64","required":false}},"required":false}},"required":false},"required":true}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"domain_id":{"title":"Id of the request","description":"域id","type":"string","example":"bj1"},"drive_id":{"description":"空间id","type":"string","example":"1"},"file_id":{"description":"文件id","type":"string","example":"5d5b846942cf94fa72324c14a4bda34e81da635d"},"upload_id":{"description":"上传id","type":"string","example":"10166D06127B413BA1EC8ABB1144D111"},"create_at":{"description":"创建时间","type":"string","example":"2019-09-11T16:34:36.977Z"},"part_info_list":{"description":"分段信息列表","type":"array","items":{"description":"分段信息","$ref":"#/components/schemas/UploadPartInfo"}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"domain_id\\\": \\\"bj1\\\",\\n  \\\"drive_id\\\": \\\"1\\\",\\n  \\\"file_id\\\": \\\"5d5b846942cf94fa72324c14a4bda34e81da635d\\\",\\n  \\\"upload_id\\\": \\\"10166D06127B413BA1EC8ABB1144D111\\\",\\n  \\\"create_at\\\": \\\"2019-09-11T16:34:36.977Z\\\",\\n  \\\"part_info_list\\\": [\\n    {\\n      \\\"part_number\\\": 1,\\n      \\\"part_size\\\": 1024,\\n      \\\"upload_url\\\": \\\"\\\",\\n      \\\"internal_upload_url\\\": \\\"\\\",\\n      \\\"etag\\\": \\\"0CC175B9C0F1B6A831C399E269772661\\\",\\n      \\\"parallel_sha1_ctx\\\": {\\n        \\\"h\\\": [\\n          0\\n        ],\\n        \\\"part_offset\\\": 0\\n      },\\n      \\\"upload_form_info\\\": {\\n        \\\"bucket_name\\\": \\\"\\\",\\n        \\\"oss_end_point\\\": \\\"\\\",\\n        \\\"object_key\\\": \\\"\\\",\\n        \\\"oss_access_key_id\\\": \\\"\\\",\\n        \\\"oss_security_token\\\": \\\"\\\",\\n        \\\"policy\\\": \\\"\\\",\\n        \\\"signature\\\": \\\"\\\",\\n        \\\"endpoint\\\": \\\"\\\",\\n        \\\"form_data\\\": {\\n          \\\"key\\\": \\\"\\\"\\n        }\\n      },\\n      \\\"internal_upload_form_info\\\": {\\n        \\\"bucket_name\\\": \\\"\\\",\\n        \\\"oss_end_point\\\": \\\"\\\",\\n        \\\"object_key\\\": \\\"\\\",\\n        \\\"oss_access_key_id\\\": \\\"\\\",\\n        \\\"oss_security_token\\\": \\\"\\\",\\n        \\\"policy\\\": \\\"\\\",\\n        \\\"signature\\\": \\\"\\\",\\n        \\\"endpoint\\\": \\\"\\\",\\n        \\\"form_data\\\": {\\n          \\\"key\\\": \\\"\\\"\\n        }\\n      },\\n      \\\"signature_info\\\": {\\n        \\\"auth_type\\\": \\\"\\\",\\n        \\\"signature\\\": \\\"\\\",\\n        \\\"sts_token\\\": \\\"\\\"\\n      },\\n      \\\"parallel_sha256_ctx\\\": {\\n        \\\"h\\\": [\\n          0\\n        ],\\n        \\\"part_offset\\\": 0\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取上传地址"}