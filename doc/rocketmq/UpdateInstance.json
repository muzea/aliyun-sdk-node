{"summary":"更新云消息队列 RocketMQ 版实例的基本信息和规格配置。","path":"/instances/{instanceId}","methods":["patch"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"instanceId","in":"path","schema":{"title":"实例ID","description":"待更新实例的ID。","type":"string","required":true,"example":"rmq-cn-7e22ody****"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体结构。","type":"object","properties":{"instanceName":{"title":"实例名称","description":"更新后的实例名称。","type":"string","required":false,"example":"test_instance"},"remark":{"title":"实例备注","description":"更新后的实例备注信息。","type":"string","required":false,"example":"This is the remark for test."},"networkInfo":{"title":"网络信息","description":"更新后的实例网络信息。","type":"object","properties":{"internetInfo":{"title":"公网信息","description":"公网信息，仅当实例开通公网访问功能时，该参数有效。","type":"object","properties":{"ipWhitelist":{"title":"公网IP白名单列表","description":"公网访问IP白名单列表。\n\n- 若不配置IP白名单，则默认放通所有IP地址段通过公网访问云消息队列 RocketMQ 版服务端。\n- 若配置IP白名单，则仅允许白名单内的IP地址通过公网访问云消息队列 RocketMQ 版服务端。","type":"array","items":{"title":"公网IP白名单","description":"公网访问IP白名单。","type":"string","required":false,"example":"192.168.x.x/24"},"required":false}},"required":false}},"required":false},"productInfo":{"title":"扩展配置","description":"实例的扩展配置。","type":"object","properties":{"sendReceiveRatio":{"title":"消息收发比例","description":"消息发送和接收的比例。\n\n取值范围：[0.25，1]","type":"number","format":"float","required":false,"example":"0.5"},"autoScaling":{"title":"自适应弹性伸缩","description":"是否开启规格外突发弹性能力。\n\n参数取值如下：\n- true：开启弹性\n- false：关闭弹性\n\n开启弹性突发能力后，云消息队列 RocketMQ 版允许该实例在一定范围内超过基础规格限制的TPS，且超过基础规格外的部分，需要收取额外的弹性规格费用。具体计费信息，请参见[计算能力费用](~~427237~~)。\n\n\n> 仅部分规格的实例支持开启弹性突发规格能力，具体支持的实例，请参见[实例规格](~~444715~~)。","type":"boolean","required":false,"enumValueTitles":{"true":"开启弹性","false":"关闭弹性"},"example":"true"},"messageRetentionTime":{"title":"消息保留时长","description":"消息保存时长。单位：小时。\n\n取值范围，请参见[使用限制](~~440347~~)>资源配额>消息保存时长的限制值。\n\n云消息队列 RocketMQ 版的消息存储完全实现Serverless弹性，按照实际存储空间收取费用，您可以通过调整消息保存时长来控制消息的存储容量。更多信息，请参见[存储费用](~~427238~~)。","type":"integer","format":"int32","required":false,"example":"72"},"traceOn":{"description":"是否开启消息轨迹功能。\n- true：开启消息轨迹功能\n- false：关闭消息轨迹功能\n\n<props=\"intl\">该参数暂不生效，不管参数是否开启，实例都默认支持轨迹功能。</props>\n<props=\"china\">该参数仅对Serverless类型的实例生效，若开启消息轨迹功能，会产生相关的消息轨迹费用，具体计费信息，请参见[Serverless计费说明](~~2586280~~)。</props>\n<props=\"china\">对于按量付费和包年包月实例，该参数不生效，即不管参数是否开启，都默认支持消息轨迹功能。</props>","type":"boolean","required":false,"enumValueTitles":{"false":"关闭消息轨迹功能","true":"开启消息轨迹功能"},"example":"true"}},"required":false},"aclInfo":{"description":"访问控制信息。","type":"object","properties":{"aclTypes":{"description":"实例的鉴权类型。","type":"array","items":{"description":"实例的鉴权类型。\n- default: 智能身份识别\n- apache_acl: Apache RocketMQ ACL","type":"string","required":false,"enumValueTitles":{"default":"智能身份识别","apache_acl":"Apache RocketMQ ACL"},"example":"apache_acl"},"required":false},"defaultVpcAuthFree":{"description":"是否智能身份识别类型下，VPC接入免密访问\n- true 开启免密访问\n- false 关闭免密访问","type":"boolean","required":false,"enumValueTitles":{"true":"开启免密访问","false":"关闭免密访问"},"example":"false"}},"required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"Result<Boolean>","description":"Result<Boolean>","type":"object","properties":{"requestId":{"title":"请求ID","description":"请求ID，每个请求ID都是唯一的，可用于排查和定位问题。","type":"string","example":"AA87DE09-DA44-52F4-9515-78B1B607****"},"success":{"title":"是否成功","description":"执行结果是否成功。","type":"boolean","example":"true"},"data":{"title":"返回结果","description":"返回结果。","type":"boolean","example":"true"},"code":{"title":"错误码","description":"错误码。","type":"string","example":"MissingInstanceId"},"message":{"title":"错误信息","description":"错误信息。","type":"string","example":"Parameter instanceId is mandatory for this action ."},"httpStatusCode":{"title":"HTTP状态码","description":"HTTP状态码。","type":"integer","format":"int32","example":"400"},"dynamicCode":{"title":"动态错误码","description":"动态错误码。","type":"string","example":"InstanceId"},"dynamicMessage":{"title":"动态错误信息","description":"动态错误信息。","type":"string","example":"instanceId"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"AA87DE09-DA44-52F4-9515-78B1B607****\\\",\\n  \\\"success\\\": true,\\n  \\\"data\\\": true,\\n  \\\"code\\\": \\\"MissingInstanceId\\\",\\n  \\\"message\\\": \\\"Parameter instanceId is mandatory for this action .\\\",\\n  \\\"httpStatusCode\\\": 400,\\n  \\\"dynamicCode\\\": \\\"InstanceId\\\",\\n  \\\"dynamicMessage\\\": \\\"instanceId\\\"\\n}\",\"type\":\"json\"}]","title":"更新实例","description":"><notice>阿里云提供的OpenAPI属于管控类API，用于管理和查询阿里云服务的相关资源。仅推荐在管控链路集成，消息收发的核心数据链路中严禁依赖OpenAPI实现，否则可能会导致链路产生风险。></notice>"}