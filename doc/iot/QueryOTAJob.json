{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"IotInstanceId","in":"query","schema":{"description":"实例ID。您可在物联网平台控制台的**实例概览**页面，查看当前实例的**ID**。\n\n><notice>\n- 若有ID值，必须传入该ID值，否则调用会失败。\n- 若无<props=\"intl\"><ph>**实例概览**页面或</ph></props>ID值，则无需传入。\n\n></notice>\n\n实例的更多信息，请参见[实例概述](~~356505~~)。","type":"string","required":false,"example":"iot-cn-0pp1n8t****"}},{"name":"JobId","in":"query","schema":{"description":"升级批次ID。\n\n您调用[CreateOTAVerifyJob](~~147480~~)、[CreateOTAStaticUpgradeJob](~~147496~~)或[CreateOTADynamicUpgradeJob](~~147887~~)创建升级任务批次后，返回的**JobId**。您也可以在物联网平台控制台的**升级包详情**页面查看。","type":"string","required":true,"example":"wahVIzGkCMuAUE2gDERM02****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"调用失败时，返回的错误码。更多信息，请参见[错误码](~~87387~~)。","type":"string","example":"iot.system.SystemException"},"ErrorMessage":{"description":"调用失败时，返回的出错信息。","type":"string","example":"系统异常"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"30F1BB8D-EDBF-44FD-BBC0-BE97DEA73991"},"Success":{"description":"是否调用成功。\n- **true**：调用成功。\n- **false**：调用失败。","type":"boolean","example":"true"},"Data":{"description":"调用成功时，返回的升级批次信息。详情见以下Data所包含的参数。","type":"object","properties":{"UtcCreate":{"description":"批次创建时的时间，UTC格式。","type":"string","example":"2019-12-28T02:43:10.000Z"},"RetryInterval":{"description":"设备升级失败后，自动重试时间间隔，单位：分钟。\n\n创建升级批次时，设置了失败重试策略，则返回该参数。","type":"integer","format":"int32","example":"60"},"JobType":{"description":"批次类型。\n\n- **VERIFY_FIRMWARE**：升级包验证批次。\n- **UPGRADE_FIRMWARE**：批量升级批次。","type":"string","example":"UPGRADE_FIRMWARE"},"SelectionType":{"description":"升级策略。\n\n- **DYNAMIC**：动态升级。调用[CreateOTADynamicUpgradeJob](~~147887~~)创建的升级批次，该参数返回该值。\n- **STATIC**：静态升级。调用[CreateOTAStaticUpgradeJob](~~147496~~)创建的升级批次，该参数返回该值。","type":"string","example":"STATIC"},"OverwriteMode":{"description":"是否覆盖之前的升级任务。取值：\n\n- **1**：不覆盖。若设备已有升级任务，则只执行已有任务。\n- **2**：覆盖。设备只执行新的升级任务。\n\n不覆盖升级中的任务。","type":"integer","format":"int32","example":"1"},"TargetSelection":{"description":"升级范围。\n\n- **ALL**：全量升级。\n- **SPECIFIC**：定向升级。\n- **GRAY**：灰度升级。\n\n> 调用[CreateOTADynamicUpgradeJob](~~147887~~)创建的动态升级批次，该参数仅返回ALL。","type":"string","example":"SPECIFIC"},"TimeoutInMinutes":{"description":"设备升级超时时间，单位：分钟。\n\n创建升级批次时，设置了超时时间，则返回该参数。","type":"integer","format":"int32","example":"5"},"GrayPercent":{"description":"灰度升级的比例。\n\n仅升级范围为灰度升级时，返回该参数。","type":"string","example":"50.00"},"NeedPush":{"description":"物联网平台是否主动向设备推送升级任务。\n\n","type":"boolean","example":"true"},"JobStatus":{"description":"批次的状态。\n\n- **PLANNED**：计划中。批次已创建，但是定时时间未到。仅定时静态升级的批次可能返回该值。\n- **IN_PROGRESS**：执行中。\n- **COMPLETED**：已完成。\n- **CANCELED**：已取消。","type":"string","example":"IN_PROGRESS"},"JobDesc":{"description":"升级批次描述。","type":"string","example":"batch upgrade"},"UtcModified":{"description":"批次最后一次修改时的时间，UTC格式。","type":"string","example":"2019-12-28T02:43:10.000Z"},"UtcStartTime":{"description":"该批次任务开始执行时的时间，UTC格式。","type":"string","example":"2019-12-28T02:43:10.000Z"},"MultiModuleMode":{"description":"设备是否支持多模块同时升级。\n\n- **false**（默认）：否，设备不支持多模块同时升级。\n- **true**：是，设备支持多模块同时升级。\n\n更多信息，请参见[设备支持多模块同时升级说明表](~~58328~~)。","type":"boolean","example":"false"},"UtcEndTime":{"description":"该批次任务执行结束时的时间，UTC格式。\n\n仅已执行结束的升级批次才返回此参数。","type":"string","example":"2019-12-29T02:43:10.000Z"},"Name":{"description":"升级包名称。","type":"string","example":"Firmware2"},"DestVersion":{"description":"升级目标版本号。","type":"string","example":"1.0.1"},"UtcScheduleFinishTime":{"description":"定时升级结束的时间。仅定时升级任务且设置了定时升级结束时间时会返回该参数。","type":"string","example":"2019-12-30T02:43:10.000Z"},"MaximumPerMinute":{"description":"每分钟最多向多少个设备推送升级包下载URL。","type":"integer","format":"int32","example":"1000"},"DynamicMode":{"description":"动态升级模式。取值范围：\n\n- **1**：除了升级当前满足升级条件的设备，还将持续检查设备是否满足升级条件，对满足升级条件的设备进行升级。\n- **2**：仅对后续上报新版本号的设备生效。\n\n仅升级策略为动态升级时，返回该参数。","type":"integer","format":"int32","example":"1"},"RetryCount":{"description":"设备升级失败后，自动重试次数。\n\n创建升级批次时，设置了失败重试策略，则返回该参数。","type":"integer","format":"int32","example":"1"},"ProductKey":{"description":"升级包所属产品的ProductKey。","type":"string","example":"a19mzPZ****"},"GroupName":{"description":"分组升级的设备分组名称。","type":"string","example":"test"},"GroupId":{"description":"分组升级的设备分组ID。","type":"string","example":"CtjzCkNuOxUR***"},"UtcScheduleTime":{"description":"定时升级发起的时间。仅定时升级任务会返回该参数。","type":"string","example":"2019-12-29T02:43:10.000Z"},"JobId":{"description":"升级批次ID，批次的唯一标识符。","type":"string","example":"HvKuBpuk3rdk6E92CP****0200"},"DownloadProtocol":{"description":"升级包文件的下载协议。","type":"string","example":"HTTPS"},"NeedConfirm":{"description":"是否App确认升级。","type":"boolean","example":"false"},"FirmwareId":{"description":"升级包ID。","type":"string","example":"UfuxnwygsuSkVE0VCN****0100"},"Tags":{"type":"object","properties":{"OtaTagDTO":{"description":"升级批次标签。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签名。","type":"string","example":"key1"},"Value":{"description":"标签值。","type":"string","example":"value1"}}}}}},"SrcVersions":{"type":"object","properties":{"SrcVersion":{"type":"array","items":{"description":"待升级版本号列表。","type":"string","example":"{\"SrcVersion\": [\"1.0.0\"]}"}}}}}}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"iot.system.SystemException\\\",\\n  \\\"ErrorMessage\\\": \\\"系统异常\\\",\\n  \\\"RequestId\\\": \\\"30F1BB8D-EDBF-44FD-BBC0-BE97DEA73991\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"UtcCreate\\\": \\\"2019-12-28T02:43:10.000Z\\\",\\n    \\\"RetryInterval\\\": 60,\\n    \\\"JobType\\\": \\\"UPGRADE_FIRMWARE\\\",\\n    \\\"SelectionType\\\": \\\"STATIC\\\",\\n    \\\"OverwriteMode\\\": 1,\\n    \\\"TargetSelection\\\": \\\"SPECIFIC\\\",\\n    \\\"TimeoutInMinutes\\\": 5,\\n    \\\"GrayPercent\\\": \\\"50.00\\\",\\n    \\\"NeedPush\\\": true,\\n    \\\"JobStatus\\\": \\\"IN_PROGRESS\\\",\\n    \\\"JobDesc\\\": \\\"batch upgrade\\\",\\n    \\\"UtcModified\\\": \\\"2019-12-28T02:43:10.000Z\\\",\\n    \\\"UtcStartTime\\\": \\\"2019-12-28T02:43:10.000Z\\\",\\n    \\\"MultiModuleMode\\\": false,\\n    \\\"UtcEndTime\\\": \\\"2019-12-29T02:43:10.000Z\\\",\\n    \\\"Name\\\": \\\"Firmware2\\\",\\n    \\\"DestVersion\\\": \\\"1.0.1\\\",\\n    \\\"UtcScheduleFinishTime\\\": \\\"2019-12-30T02:43:10.000Z\\\",\\n    \\\"MaximumPerMinute\\\": 1000,\\n    \\\"DynamicMode\\\": 1,\\n    \\\"RetryCount\\\": 1,\\n    \\\"ProductKey\\\": \\\"a19mzPZ****\\\",\\n    \\\"GroupName\\\": \\\"test\\\",\\n    \\\"GroupId\\\": \\\"CtjzCkNuOxUR***\\\",\\n    \\\"UtcScheduleTime\\\": \\\"2019-12-29T02:43:10.000Z\\\",\\n    \\\"JobId\\\": \\\"HvKuBpuk3rdk6E92CP****0200\\\",\\n    \\\"DownloadProtocol\\\": \\\"HTTPS\\\",\\n    \\\"NeedConfirm\\\": false,\\n    \\\"FirmwareId\\\": \\\"UfuxnwygsuSkVE0VCN****0100\\\",\\n    \\\"Tags\\\": {\\n      \\\"OtaTagDTO\\\": [\\n        {\\n          \\\"Key\\\": \\\"key1\\\",\\n          \\\"Value\\\": \\\"value1\\\"\\n        }\\n      ]\\n    },\\n    \\\"SrcVersions\\\": {\\n      \\\"SrcVersion\\\": [\\n        \\\"{\\\\\\\"SrcVersion\\\\\\\": [\\\\\\\"1.0.0\\\\\\\"]}\\\"\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<QueryOTAJobResponse>\\n<Data>\\n    <TimeoutInMinutes>5</TimeoutInMinutes>\\n    <JobDesc>batch upgrade</JobDesc>\\n    <DownloadProtocol>HTTPS</DownloadProtocol>\\n    <UtcStartTime>2019-12-28T02:43:10.000Z</UtcStartTime>\\n    <UtcEndTime>2019-12-29T02:43:10.000Z</UtcEndTime>\\n    <ProductKey>a19mzPZ****</ProductKey>\\n    <UtcModified>2019-12-28T02:43:10.000Z</UtcModified>\\n    <JobStatus>IN_PROGRESS</JobStatus>\\n    <UtcCreate>2019-12-28T02:43:10.000Z</UtcCreate>\\n    <SelectionType>STATIC</SelectionType>\\n    <TargetSelection>SPECIFIC</TargetSelection>\\n    <JobType>UPGRADE_FIRMWARE</JobType>\\n    <GroupId/>\\n    <GroupName/>\\n    <RetryInterval>60</RetryInterval>\\n    <RetryCount>1</RetryCount>\\n    <OverwriteMode>1</OverwriteMode>\\n    <MultiModuleMode>true</MultiModuleMode>\\n    <MaximumPerMinute>1000</MaximumPerMinute>\\n    <SrcVersions>\\n        <SrcVersion>1.0.0</SrcVersion>\\n    </SrcVersions>\\n    <Name>firmware2</Name>\\n    <NeedConfirm>true</NeedConfirm>\\n    <NeedPush>false</NeedPush>\\n    <FirmwareId>UfuxnwygsuSkVE0VCN****0100</FirmwareId>\\n    <JobId>HvKuBpuk3rdk6E92CP****0200</JobId>\\n    <DestVersion>1.0.1</DestVersion>\\n</Data>\\n<RequestId>30F1BB8D-EDBF-44FD-BBC0-BE97DEA73991</RequestId>\\n<Success>true</Success>\\n</QueryOTAJobResponse>\",\"errorExample\":\"\"}]","title":"查询指定升级批次的详情","summary":"调用该接口查询指定升级批次的详情。","description":"## 使用说明\n您可调用[CreateOTAVerifyJob](~~147480~~)、[CreateOTAStaticUpgradeJob](~~147496~~)或[CreateOTADynamicUpgradeJob](~~147887~~)创建升级任务批次后，根据返回的**JobId**查看升级批次的详情。\n\n## QPS限制\n\n单个阿里云账号调用该接口的每秒请求数（QPS）最大限制为10。\n\n > RAM用户共享阿里云账号配额。\n","requestParamsDescription":"调用API时，除了本文介绍的该API的特有请求参数，还需传入公共请求参数。公共请求参数说明，请参见[公共参数文档](~~30561~~)。","responseParamsDescription":" ","extraInfo":" "}