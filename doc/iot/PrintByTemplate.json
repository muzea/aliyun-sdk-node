{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{},"parameters":[{"name":"ParamsJsonString","in":"formData","schema":{"description":"打印参数，您可以在寄雁传书服务控制台获取打印参数的模板，然后在模板中填入本次需要动态打印的内容。","type":"string","required":false,"example":"{   \"orderTable\": [     {       \"number\": \"1\",       \"price\": \"33.00\",       \"name\": \"糖醋排骨\"     }   ],   \"orderTime\": \"2021-01-25 10:20:00\",   \"address\": \"地址：浙江省杭州市西湖区阿里云飞天园区\",   \"phone\": \"13********\",   \"price\": \"? 74.00\",   \"distributionFee\": \"5.00\",   \"shopName\": \"XX食品商店\",   \"title\": \"XX外卖单\",   \"status\": \"--已在线支付--\" }"}},{"name":"IotId","in":"formData","schema":{"description":"设备ID。\n> 如果传入该参数，则无需传入**ProductKey**和**DeviceName**。**IotId**作为设备唯一标识符，和**ProductKey**与**DeviceName**组合是一一对应的关系。如果您同时传入**IotId**和**ProductKey**与**DeviceName**组合，则以**IotId**为准。","type":"string","required":false,"example":"4de2c367****8c585e5992**"}},{"name":"IotInstanceId","in":"formData","schema":{"description":"实例ID。\n\n<props=\"china\">您可在物联网平台控制台的**实例概览**页面，查看当前实例的**ID**。若有ID值，必须传入该ID值，否则调用会失败。</props>\n\n<props=\"china\">\n> 如果公共实例没有ID值，请参见[如何获取实例ID](~~267533~~)。</props>\n\n<props=\"intl\">无需传入此参数。</props>","type":"string","required":false,"example":"iot_instc_pu****_c*-v64********"}},{"name":"TemplateBizCode","in":"formData","schema":{"description":"模板标识，您可以在寄雁传书服务的控制台获取模板标识。","type":"string","required":true,"example":"test"}},{"name":"ProductKey","in":"formData","schema":{"description":"产品的唯一标识。\n\n> 如果传入**ProductKey**，则必须同时传入**DeviceName**。","type":"string","required":false,"example":"a1BwAGV****"}},{"name":"DeviceName","in":"formData","schema":{"description":"设备名称。","type":"string","required":false,"example":"light"}},{"name":"HistoryPrintTopic","in":"formData","schema":{"description":"是否下发历史的Topic给打印设备。\n\n- false（默认）：下发设备的Topic格式为**/ext/rrpc/+/{pk}/{dn}/user/print**\n- true：下发设备的Topic格式为**/ext/rrpc/+/{pk}/{dn}/print**\n","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"调用失败时，返回的错误码。更多信息，请参见[错误码](~~87387~~)。","type":"string","example":"iot.printservice.NotSigned"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。\n","type":"string","example":"print service not open"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"66FF51D3-***-49F1-B1A2-***\t"},"Success":{"description":"是否调用成功。\n\n- **true**：调用成功。\n\n- **false**：调用失败。","type":"boolean","example":"true"},"Data":{"description":"打印结果。","type":"object","properties":{"RetryCount":{"description":"实际重试次数。","type":"integer","format":"int32","example":"0"},"Success":{"description":"是否打印成功。\n\n- **true**：打印成功。\n\n- **false**：打印失败。","type":"boolean","example":"true"},"DeviceErrorMessage":{"description":"打印设备返回的错误详情。","type":"string","example":"no paper"},"MaxRetryCount":{"description":"最多重试次数，固定取值为2，最多重试2次。\n\n打印指令下发到设备后，如果设备回复失败或者超时，服务器将重新下发打印指令。","type":"integer","format":"int32","example":"2"},"DeviceErrorCode":{"description":"打印设备返回的错误码。\n\n- 2：缺纸\n- 3：卡纸","type":"string","example":"2"},"Id":{"description":"打印的ID。","type":"string","example":"NyWh5lw3*****RfL9LJUivhOhQV*****"}}}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"iot.printservice.NotSigned\\\",\\n  \\\"ErrorMessage\\\": \\\"print service not open\\\",\\n  \\\"RequestId\\\": \\\"66FF51D3-***-49F1-B1A2-***\\\\t\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"RetryCount\\\": 0,\\n    \\\"Success\\\": true,\\n    \\\"DeviceErrorMessage\\\": \\\"no paper\\\",\\n    \\\"MaxRetryCount\\\": 2,\\n    \\\"DeviceErrorCode\\\": \\\"2\\\",\\n    \\\"Id\\\": \\\"NyWh5lw3*****RfL9LJUivhOhQV*****\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PrintByTemplateResponse>\\n<RequestId>66FF51D3-***-49F1-B1A2-***\\t</RequestId>\\n<Data>\\n    <MaxRetryCount>2</MaxRetryCount>\\n    <RetryCount>0</RetryCount>\\n    <Id>NyWh5lw3*****RfL9LJUivhOhQV*****</Id>\\n    <DeviceErrorCode>2</DeviceErrorCode>\\n    <DeviceErrorMessage>no paper</DeviceErrorMessage>\\n    <Success>true</Success>\\n</Data>\\n<Success>true</Success>\\n</PrintByTemplateResponse>\",\"errorExample\":\"\"}]","title":"PrintByTemplate","summary":"调用该接口根据寄雁传书服务控制台创建的小票打印模板完成小票打印。","description":"## 限制说明\n\n调用该接口打印小票时，必须已经在寄雁传书控制台创建小票打印模板，否则将调用失败。\n\n## QPS限制\n单个阿里云账号调用该接口的每秒请求数（QPS）最大限制为50。\n> RAM用户共享阿里云账号配额。","requestParamsDescription":"调用API时，除了本文介绍的该API的特有请求参数，还需传入公共请求参数。公共请求参数说明，请参见[公共参数文档](~~30561~~)。","responseParamsDescription":" ","extraInfo":" "}