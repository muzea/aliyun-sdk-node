{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"IotInstanceId","in":"query","schema":{"description":"实例ID。您可在物联网平台控制台的**实例概览**页面，查看当前实例的**ID**。\n\n><notice>\n- 若有ID值，必须传入该ID值，否则调用会失败。\n- 若无<props=\"intl\"><ph>**实例概览**页面或</ph></props>ID值，则无需传入。\n\n></notice>\n\n实例的更多信息，请参见[实例概述](~~356505~~)。","type":"string","required":false,"example":"iot-cn-0pp1n8t****"}},{"name":"FirmwareName","in":"query","schema":{"description":"OTA升级包名称，需在阿里云账号下唯一，创建后不可修改。支持中文、英文字母、日文、数字、短划线（-）、下划线（_）和半角圆括号（()），必须以中文、英文、日文或数字开头，长度限制为1~40个字符。","type":"string","required":true,"example":"Firmware2"}},{"name":"DestVersion","in":"query","schema":{"description":"当前OTA升级包的版本号，仅支持英文字母、数字、半角句号（.）、短划线（-）和下划线（_）。长度限制为1~64个字符。","type":"string","required":true,"example":"2.0.0"}},{"name":"FirmwareUrl","in":"query","schema":{"description":"OTA升级包文件的URL，即升级包文件在对象存储（OSS）上的存储地址。您可调用[GenerateOTAUploadURL](~~147310~~)生成升级包文件的URL。\n\n><notice>仅当OTA升级包中添加一个文件时，才可传入此参数，且必须传入。\n></notice>","type":"string","required":false,"example":"https://iotx-ota.oss-cn-shanghai.aliyuncs.com/ota/bcd6142594d0183a16d825ad8225****/A6B3400B70CA4D6D872160D1A91A****.bin"}},{"name":"FirmwareSign","in":"query","schema":{"description":"OTA升级包文件的签名值。使用**SignMethod**对升级包文件内容加签计算得出的值。\n\n><notice> 仅当OTA升级包中添加一个文件时，才可传入此参数。若不传入，则采用对象存储（OSS）中升级包文件的MD5值作为升级包签名值。\n></notice>","type":"string","required":false,"example":"93230c3bde425a9d7984a594ac55****"}},{"name":"SignMethod","in":"query","schema":{"description":"OTA升级包签名方法。目前仅支持取值为**MD5**（MD5签名）。\n\n不传入此参数，默认为**MD5**。","type":"string","required":false,"example":"MD5"}},{"name":"FirmwareSize","in":"query","schema":{"description":"OTA升级包文件的大小，单位：字节。\n\n><notice> 仅当OTA升级包中添加一个文件时，才可传入此参数。若不传入，则采用对象存储（OSS）中升级包文件的大小。\n></notice> ","type":"integer","format":"int32","required":false,"example":"900"}},{"name":"ProductKey","in":"query","schema":{"description":"OTA升级包所属产品的**ProductKey**。","type":"string","required":false,"example":"a1uctKe****"}},{"name":"FirmwareDesc","in":"query","schema":{"description":"OTA升级包描述。长度不可超过100个字符。一个中文汉字算一个字符。","type":"string","required":false,"example":"OTA function updated"}},{"name":"Type","in":"query","schema":{"description":"OTA升级包类型。可选：\n\n- **0**：整包升级包，您上传的升级包文件包含完整的升级包，将推送整包升级包给设备进行升级。\n- **1**：差分升级包，您上传的升级包文件仅包含新版本升级包与之前版本的差异部分，仅推送差异部分给设备进行升级。\n\n不传入此参数，则默认值为**0**。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"SrcVersion","in":"query","schema":{"description":"待升级OTA模块版本号，即待升级设备的当前OTA模块版本号。\n\n可以调用[QueryDeviceDetail](~~69594~~)，查看设备OTA模块版本号（**FirmwareVersion**）。\n\n> - **Type**为**1**（差分升级包）时，必须传入该参数，且取值不能与当前升级包版本（**DestVersion**）相同。\n- **Type**为**0**（整包升级包）时，可不传入该参数。","type":"string","required":false,"example":"1.0.0"}},{"name":"ModuleName","in":"query","schema":{"description":"OTA模块名称。OTA模块是同产品下设备的不同可升级模块。\n\n> - 不传入该参数，则使用default模块，表示整个设备的固件。\n- 可调用[CreateOTAModule](~~186066~~)创建自定义OTA模块，调用[ListOTAModuleByProduct](~~186532~~)查询产品下已创建的OTA模块。","type":"string","required":false,"example":"WifiConfigModify"}},{"name":"NeedToVerify","in":"query","schema":{"description":"是否需要在创建批量升级任务前通过升级包验证。\n\n- **true**（默认）：需要\n\n- **false**：不需要\n","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"Udi","in":"query","schema":{"description":"推送给设备的自定义信息。不限制文本内容格式，长度不超过4096个字符。\n\n添加该升级包完成，并创建升级任务后，物联网平台向设备推送升级通知时，会将该自定义信息下发给设备。","type":"string","required":false,"example":"{\"ota_notice\":\"升级底层摄像头驱动，解决视频图像模糊的问题。\"}"}},{"name":"MultiFiles","in":"query","style":"repeatList","schema":{"description":"OTA升级包文件列表信息。","type":"array","items":{"type":"object","properties":{"FileMd5":{"description":"OTA升级包文件的MD5值。\n\n>OTA升级包中添加多个升级包文件时，可传入此参数。若不传入，则采用对象存储（OSS）中升级包文件的MD5值。\n","type":"string","required":false,"example":"93230c3bde425a9d7984a594ac56***"},"Size":{"description":"OTA升级包文件的大小，单位：字节。\n\n>OTA升级包中添加多个升级包文件时，可传入此参数。若不传入，则采用对象存储（OSS）中升级包文件的大小。","type":"integer","format":"int32","required":false,"example":"200"},"Url":{"description":"OTA升级包文件的URL，即升级包文件在对象存储（OSS）上的存储地址。您可调用[GenerateOTAUploadURL](~~147310~~)为每个升级包文件生成文件URL。\n\n><notice>OTA升级包中添加多个升级包文件时，必须传入此参数。\n></notice>","type":"string","required":false,"example":"https://iotx-ota.oss-cn-shanghai.aliyuncs.com/ota/bcd6142594d0183a16d825ad8225****/A6B3400B70CA4D6D872160D1A91A****.bin"},"SignValue":{"description":"OTA升级包文件的签名值。使用**SignMethod**对升级包文件内容加签计算得出的值。\n\n>OTA升级包中添加多个升级包文件时，可传入此参数。若不传入，则采用对象存储（OSS）中升级包文件的MD5值作为升级包签名值。\n","type":"string","required":false,"example":"93230c3bde425a9d7984a594ac45****"},"Name":{"description":"OTA升级包文件名称，长度限制为1~32个字符。支持最多添加20个文件名称，且多个升级包文件的名称不能重复。\n\n\n><notice> OTA升级包中添加多个升级包文件时，必须传入此参数。\n></notice>","type":"string","required":false,"example":"Firmware1"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"调用失败时，返回的错误码。更多信息，请参见[错误码](~~87387~~)。","type":"string","example":"iot.system.SystemException"},"ErrorMessage":{"description":"调用失败时，返回的出错信息。","type":"string","example":"系统异常"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"291438BA-6E10-4C4C-B761-243B9A0D324F"},"Success":{"description":"是否调用成功。\n- **true**：调用成功，表示OTA升级包创建成功。\n- **false**：调用失败，表示OTA升级包创建失败。","type":"boolean","example":"true"},"Data":{"description":"调用成功时，返回的升级包信息。更多信息，请参见**Data**下参数描述。","type":"object","properties":{"FirmwareId":{"description":"OTA升级包ID，物联网平台为升级包颁发的唯一标识符。","type":"string","example":"s8SSHiKjpBfrM3BSN0z803****"},"UtcCreate":{"description":"OTA升级包的创建时间，UTC格式。","type":"string","example":"2019-11-04T06:21:54.607Z"}}}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"iot.system.SystemException\\\",\\n  \\\"ErrorMessage\\\": \\\"系统异常\\\",\\n  \\\"RequestId\\\": \\\"291438BA-6E10-4C4C-B761-243B9A0D324F\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"FirmwareId\\\": \\\"s8SSHiKjpBfrM3BSN0z803****\\\",\\n    \\\"UtcCreate\\\": \\\"2019-11-04T06:21:54.607Z\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<CreateOTAFirmwareResponse>\\r\\n  <Data>\\r\\n    <FirmwareId>s8SSHiKjpBfrM3BSN0z803****</FirmwareId>\\r\\n    <UtcCreate>2019-11-04T06:21:54.607Z</UtcCreate>\\r\\n  </Data>\\r\\n  <RequestId>E4BD5A12-7C1D-4712-A7D5-B2432331165E</RequestId>\\r\\n  <Success>true</Success>\\r\\n</CreateOTAFirmwareResponse>\",\"errorExample\":\"\"}]","title":"CreateOTAFirmware","summary":"生成OTA升级包文件的URL后，调用该接口创建设备的OTA升级包。","description":"## 使用说明\n在调用此接口创建升级包前，已调用[GenerateOTAUploadURL](~~147310~~)生成升级包上传信息，并已调用OSS [PostObject](~~31988~~)接口上传了升级包文件。\n\n## 使用限制\n单个阿里云账号下最多可有500个升级包。\n\n## QPS限制\n单个阿里云账号调用该接口的每秒请求数（QPS）最大限制为10。\n> RAM用户共享阿里云账号配额。\n\n","requestParamsDescription":"调用API时，除了本文介绍的该API的特有请求参数，还需传入公共请求参数。公共请求参数说明，请参见[公共参数文档](~~30561~~)。","responseParamsDescription":" ","extraInfo":" "}