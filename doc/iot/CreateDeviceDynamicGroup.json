{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"IotInstanceId","in":"query","schema":{"description":"实例ID。\n\n您可在物联网平台控制台的**实例概览**页面，查看当前实例的**ID**。","type":"string","required":true,"example":"iot-***"}},{"name":"GroupDesc","in":"query","schema":{"description":"分组描述。长度不超过100个字符，一个中文占一个字符。","type":"string","required":false,"example":"test"}},{"name":"GroupName","in":"query","schema":{"description":"分组名称。名称长度为4~30个字符，可包含中文、英文字母、数字和下划线（_）。一个中文占两个字符。","type":"string","required":true,"example":"grouptest"}},{"name":"DynamicGroupExpression","in":"query","schema":{"description":"动态分组规则，用于查询并动态匹配设备到分组。规则表达式编写方法，请参见[类SQL语法说明](~~185713~~)。","type":"string","required":true,"example":"product_key = \"a1***\" and name LIKE \"test%\""}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"调用失败时，返回的错误码。更多信息，请参见[错误码](~~87387~~)。","type":"string","example":"iot.system.SystemException"},"ErrorMessage":{"description":"调用失败时，返回的出错信息。","type":"string","example":"系统异常"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"4D6D7F71-1C94-4160-8511-EFF4B8F0634D"},"Success":{"description":"表示是否调用成功。\n\n- **true**：调用成功。\n- **false**：调用失败。","type":"boolean","example":"true"},"Data":{"description":"调用成功时，返回的分组信息。","type":"object","properties":{"DynamicGroupExpression":{"description":"动态分组规则。","type":"string","example":"product_key = \"a1***\" and name LIKE \"test%\""},"GroupName":{"description":"分组名称。","type":"string","example":"grouptest"},"GroupId":{"description":"分组ID，系统为分组生成的全局唯一标识符。","type":"string","example":"HtMLECKbdJQL***"},"GroupDesc":{"description":"分组描述。","type":"string","example":"test"},"UtcCreate":{"description":"创建时间。","type":"string","example":"2021-10-17T11:19:31.000Z"}}}}}}},"errorCodes":{"400":[{"errorCode":"iot.group.DynamicGroupMatchedDeviceCountExceedMax","errorMessage":"The maximum number of device matched by dynamic group condition is exceeded."},{"errorCode":"iot.group.GroupCountExceedMax","errorMessage":"The number of device groups exceeds the limit."},{"errorCode":"iot.devicesearch.InvalidSQLError","errorMessage":"The SQL statement is invalid."},{"errorCode":"iot.devicesearch.InvalidSQLOffsetError","errorMessage":"The SQL offset is invalid."},{"errorCode":"iot.devicesearch.InvalidSQLFieldError","errorMessage":"The SQL statement contains invalid field names."},{"errorCode":"iot.devicesearch.InvalidSQLConditionError","errorMessage":"The SQL statement contains too many conditions."},{"errorCode":"iot.devicesearch.InvalidSQLOrderError","errorMessage":"The SQL statement contains invalid ORDER BY conditions."},{"errorCode":"iot.devicesearch.InvalidSQLOperatorTypeError","errorMessage":"The operator and data type in the SQL statement do not match."},{"errorCode":"iot.devicesearch.InvalidSQLParamError","errorMessage":"The SQL syntax is unsupported."},{"errorCode":"iot.devicesearch.InvalidSQLIdentfierError","errorMessage":"The TSL identifier is not configured."},{"errorCode":"iot.group.InvalidGroupName","errorMessage":"The specified device group name is invalid."},{"errorCode":"iot.group.LongGroupDescError","errorMessage":"The group description exceeds the length limit."},{"errorCode":"iot.group.SuperGroupUnsupport","errorMessage":"The super groups do not support subGroups."},{"errorCode":"iot.common.APINotSupportedInInstance","errorMessage":"This API operation is not supported in this instance."},{"errorCode":"iot.group.GroupNameExisted","errorMessage":"The specified device group name already exists."},{"errorCode":"iot.group.CreateGroupFailed","errorMessage":"An error occurred while creating a device group."},{"errorCode":"iot.device.RegionNotSupportDynamicGroup","errorMessage":"The region does not currently support the dynamic group feature."},{"errorCode":"MissingDynamicGroupExpression","errorMessage":"DynamicGroupExpression is mandatory for this action."},{"errorCode":"iot.databus.SearchIndexConfigNotFound","errorMessage":"The search index config is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"iot.system.SystemException\\\",\\n  \\\"ErrorMessage\\\": \\\"系统异常\\\",\\n  \\\"RequestId\\\": \\\"4D6D7F71-1C94-4160-8511-EFF4B8F0634D\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"DynamicGroupExpression\\\": \\\"product_key = \\\\\\\"a1***\\\\\\\" and name LIKE \\\\\\\"test%\\\\\\\"\\\",\\n    \\\"GroupName\\\": \\\"grouptest\\\",\\n    \\\"GroupId\\\": \\\"HtMLECKbdJQL***\\\",\\n    \\\"GroupDesc\\\": \\\"test\\\",\\n    \\\"UtcCreate\\\": \\\"2021-10-17T11:19:31.000Z\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDeviceDynamicGroupResponse>\\n<RequestId>4D6D7F71-1C94-4160-8511-EFF4B8F0634D</RequestId>\\n<Data>\\n    <GroupName>grouptest</GroupName>\\n    <UtcCreate>2021-10-17T11:19:31.000Z</UtcCreate>\\n    <GroupDesc>test</GroupDesc>\\n    <DynamicGroupExpression>product_key = \\\"a1***\\\" and name LIKE \\\"test%\\\"</DynamicGroupExpression>\\n    <GroupId>HtMLECKbdJQL***</GroupId>\\n</Data>\\n<Success>true</Success>\\n</CreateDeviceDynamicGroupResponse>\",\"errorExample\":\"\"}]","title":"创建动态分组","summary":"创建动态分组，将符合动态分组条件的设备加入分组。","description":"## 限制说明\n\n- 目前仅华东2（上海）地域下，企业版实例和新版公共实例，支持创建动态分组。实例详细说明，请参见[实例管理](~~147356~~)。\n\n- 单个阿里云账号下最多可创建10个动态分组。\n\n- 单个阿里云账号调用该接口的每秒请求数（QPS）最大限制为1。\n\n    > RAM用户共享阿里云账号配额。","requestParamsDescription":"调用API时，除了本文介绍的该API的特有请求参数，还需传入公共请求参数。公共请求参数说明，请参见[公共参数文档](~~30561~~)。","responseParamsDescription":" ","extraInfo":" "}