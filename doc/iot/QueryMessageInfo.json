{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"IotInstanceId","in":"query","schema":{"description":"实例ID。<props=\"china\"><ph>您可在物联网平台控制台的**实例概览**页面，查看当前实例的**ID**。</ph></props>\n\n><notice>\n- 若有ID值，必须传入该ID值，否则调用会失败。\n- 若无ID值，则无需传入。\n\n></notice>\n\n<props=\"china\">实例的更多信息，请参见[如何获取实例ID](~~267533~~)。</props>","type":"string","required":false,"example":"iot-cn-0pp1n8t***"}},{"name":"UniMsgId","in":"query","schema":{"description":"物联网平台为消息生成的唯一标识ID。\n\n您可登录[物联网平台控制台](http://iot.console.aliyun.com/)，在**监控运维 > 日志服务**页面，获取消息ID信息。","type":"string","required":true,"example":"323455***"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"调用失败时，返回的错误码。更多信息，请参见[错误码](~~87387~~)。","type":"string","example":"iot.system.SystemException"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"BB71E443-4447-4024-A000-EDE09922891E"},"ErrorMessage":{"description":"调用失败时，返回的出错信息。","type":"string","example":"系统异常"},"Success":{"description":"是否调用成功。\n\n- **true**：调用成功，表示查询消息详情成功。\n- **false**：调用失败，表示查询消息详情失败。","type":"boolean","example":"true"},"Message":{"description":"调用成功后，返回的消息详情。","type":"object","properties":{"TopicFullName":{"description":"消息所属的Topic。","type":"string","example":"/a1Q5XoY****/device1/user/get"},"MessageContent":{"description":"消息原文转换成二进制数据，并进行Base64编码后的消息内容。","type":"string","example":"eyJsYXN0VGltZSI6IjIwMjEtMDYtMjQgMTY6Mj**"},"UniMsgId":{"description":"物联网平台为消息生成的唯一标识ID。","type":"string","example":"323455***"},"TransformedMessageContent":{"description":"产品配置了消息解析时，转换成功后的消息内容。","type":"string","example":"test"},"GenerateTime":{"description":"消息产生的时间，单位为毫秒。","type":"integer","format":"int64","example":"1624419431000"},"TransformedTopicFullName":{"description":"产品配置了消息解析时，转换成功后的Topic。","type":"string","example":"/w******j/device01/user/testmsg"},"UserProperties":{"description":"使用MQTT 5.0版本通信协议时，用户自定义的属性列表信息。","type":"array","items":{"type":"object","properties":{"Key":{"description":"用户自定义属性的Key字段。","type":"string","example":"key1"},"Value":{"description":"用户自定义属性**Key**字段对应的值。","type":"string","example":"value1"}}}},"MqttProperties":{"description":"使用MQTT 5.0版本通信协议时，配置的特性属性列表。详细内容，请参见[MQTT 5.0特性](~~2330876~~)。\n","type":"array","items":{"type":"object","properties":{"Key":{"description":"属性名称。","type":"string","example":"attrkey"},"Value":{"description":"属性值。","type":"string","example":"attrvalue"}}}}}}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"iot.system.SystemException\\\",\\n  \\\"RequestId\\\": \\\"BB71E443-4447-4024-A000-EDE09922891E\\\",\\n  \\\"ErrorMessage\\\": \\\"系统异常\\\",\\n  \\\"Success\\\": true,\\n  \\\"Message\\\": {\\n    \\\"TopicFullName\\\": \\\"/a1Q5XoY****/device1/user/get\\\",\\n    \\\"MessageContent\\\": \\\"eyJsYXN0VGltZSI6IjIwMjEtMDYtMjQgMTY6Mj**\\\",\\n    \\\"UniMsgId\\\": \\\"323455***\\\",\\n    \\\"TransformedMessageContent\\\": \\\"test\\\",\\n    \\\"GenerateTime\\\": 1624419431000,\\n    \\\"TransformedTopicFullName\\\": \\\"/w******j/device01/user/testmsg\\\",\\n    \\\"UserProperties\\\": [\\n      {\\n        \\\"Key\\\": \\\"key1\\\",\\n        \\\"Value\\\": \\\"value1\\\"\\n      }\\n    ],\\n    \\\"MqttProperties\\\": [\\n      {\\n        \\\"Key\\\": \\\"attrkey\\\",\\n        \\\"Value\\\": \\\"attrvalue\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<QueryMessageInfoResponse>\\n<RequestId>BB71E443-4447-4024-A000-EDE09922891E</RequestId>\\n<Message>\\n    <MessageContent>eyJsYXN0VGltZSI6IjIwMjEtMDYtMjQgMTY6Mj**</MessageContent>\\n    <GenerateTime>1624419431000</GenerateTime>\\n    <UniMsgId>323455***</UniMsgId>\\n    <TopicFullName>/a1Q5XoY****/device1/user/get</TopicFullName>\\n    <UserProperties>\\n        <Value>value1</Value>\\n        <Key>key1</Key>\\n    </UserProperties>\\n</Message>\\n<Success>true</Success>\\n</QueryMessageInfoResponse>\",\"errorExample\":\"\"}]","title":"查询设备上下行消息的详情","summary":"查询设备上下行消息的详情，包括消息的内容、消息的产生时间、发送消息的Topic等。","description":"## 使用说明\nQoS=0和QoS=1消息的最大存储时间分别为1天和7天。调用本接口前，请确认查询的是存储时间内的消息。否则，查询消息会失败。\n\n## QPS限制\n单个阿里云账号调用该接口的每秒请求数（QPS）最大限制为10。\n\n> RAM用户共享阿里云账号配额。","requestParamsDescription":" 调用API时，除了本文介绍的该API的特有请求参数，还需传入公共请求参数。公共请求参数说明，请参见[公共参数文档](~~30561~~)。","responseParamsDescription":" ","extraInfo":" "}