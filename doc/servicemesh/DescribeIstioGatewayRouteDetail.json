{"summary":"调用DescribeIstioGatewayRouteDetail查看网关路由详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ServiceMeshId","in":"formData","schema":{"description":"服务网格实例ID。","type":"string","required":true,"docRequired":true,"example":"c08ba3fd1e6484b0f8cc1ad8fe10d****"}},{"name":"IstioGatewayName","in":"formData","schema":{"description":"ASM网关名称。","type":"string","required":false,"example":"ingressgateway"}},{"name":"RouteName","in":"formData","schema":{"description":"路由名称。","type":"string","required":false,"example":"demo-route"}}],"responses":{"200":{"schema":{"description":"响应内容。","type":"object","properties":{"RouteDetail":{"description":"路由详情","type":"object","properties":{"RouteName":{"description":"路由名称。","type":"string","example":"demo-route"},"RouteType":{"description":"路由类型，取值`HTTP`、`TLS`、`TCP`。","type":"string","example":"HTTP"},"MatchRequest":{"description":"路由匹配规则。","type":"object","properties":{"URI":{"description":"URI匹配规则 。","type":"object","properties":{"MatchingMode":{"description":"路由规则匹配模式，取值：\n\n- `exact`：精准匹配。\n\n- `prefix`：前缀匹配。\n\n- `regex`：正则匹配。","type":"string","example":"prefix"},"MatchingContent":{"description":"用于匹配的内容。","type":"string","example":"/ratings/v2/"}}},"Headers":{"description":"用于判断是否匹配的请求头部列表。","type":"array","items":{"description":"用于判断是否匹配的请求头部。","type":"object","properties":{"Name":{"description":"Header匹配的键。","type":"string","example":"x-request-id"},"MatchingMode":{"description":"Header值匹配方式，取值：\n- `exact`：精准匹配。\n\n- `prefix`：前缀匹配。\n\n- `regex`：正则匹配。","type":"string","example":"exact"},"MatchingContent":{"description":"用于Header匹配的内容。","type":"string","example":"v1"}}}},"TLSMatchAttributes":{"description":"TLS连接匹配属性列表。","type":"array","items":{"description":"TLS连接匹配属性。","type":"object","properties":{"TLSPort":{"description":"TLS端口。","type":"integer","format":"int32","example":"443"},"SNIHosts":{"description":"服务器名称标识列表。","type":"array","items":{"description":"SNI值中可以使用通配符前缀，例如`*.com`将匹配`foo.example.com`和`example.com`。\n\n> SNI值必须是相应虚拟服务主机的子集。","type":"string","example":"*.com"}}}}},"Ports":{"description":"端口列表。","type":"array","items":{"description":"指定主机上要寻址的端口。","type":"integer","format":"int32","example":"443"}}}},"HTTPAdvancedOptions":{"description":"HTTP路由高级配置选项。","type":"object","properties":{"HTTPRedirect":{"description":"HTTP重定向。","type":"object","properties":{"Uri":{"description":"在重定向时，使用此值覆盖URL的路径部分。","type":"string","example":"/v1/getProductRatings"},"Authority":{"description":"在重定向时，使用此值覆盖URL的Authority或Host部分。","type":"string","example":"newratings.default.svc.cluster.local"},"RedirectCode":{"description":"在重定向上，指定要在重定向响应中使用的HTTP状态代码。默认响应代码为301。","type":"integer","format":"int32","example":"301"}}},"Delegate":{"description":"虚拟服务流量代理。","type":"object","properties":{"Name":{"description":"名称。","type":"string","example":"reviews"},"Namespace":{"description":"命名空间。","type":"string","example":"default"}}},"Rewrite":{"description":"重写虚拟服务。","type":"object","properties":{"Uri":{"description":"用这个值重写URI的路径（或前缀）部分。","type":"string","example":"/v1/getProductRatings"},"Authority":{"description":"使用此值重写Authority或Host头。","type":"string","example":"newratings.default.svc.cluster.local"}}},"Timeout":{"description":"超时时长。","type":"string","example":"5s"},"Retries":{"description":"请求重试配置。","type":"object","properties":{"Attempts":{"description":"给定请求允许的重试次数。","type":"integer","format":"int32","example":"3"},"PerTryTimeout":{"description":"请求的每次尝试超时时间。","type":"string","example":"2s"},"RetryOn":{"description":"用于指定重试发生的条件，例如`connect-failure,refused-stream,503`。","type":"string","example":"connect-failure,refused-stream,503"},"RetryRemoteLocalities":{"description":"用于指定重试是否应重试到其他位置的标志。","type":"object","properties":{"Value":{"description":"用于指定重试是否应重试到其他位置的标志，取值：\n\n- `true`：其他位置也重试\n\n- `false`：其他位置不重试\n\n默认`false`。","type":"boolean","example":"false"}}}}},"Fault":{"description":"故障注入设置。","type":"object","properties":{"Delay":{"description":"设置延迟。","type":"object","properties":{"FixedDelay":{"description":"固定延迟时间。","type":"string","example":"5s"},"ExponentialDelay":{"description":"指数型延迟等待时间，等待时间为2的x次方，x为输入参数。","type":"string","example":"3"},"Percentage":{"description":"将注入延迟的请求的百分比。","type":"object","properties":{"Value":{"description":"使用提供的错误码中止的请求的百分比，用小数表示。","type":"number","format":"float","example":"0.1"}}}}},"Abort":{"description":"提前中止带有预先指定的错误码的请求。","type":"object","properties":{"HttpStatus":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"400"},"Percentage":{"description":"使用提供的错误码中止的请求的百分比。","type":"object","properties":{"Value":{"description":"流量镜像百分比。用小数表示","type":"number","format":"float","example":"0.1"}}}}}}},"Mirror":{"description":"除了将请求转发到预期目标之外，还将HTTP通信镜像到另一个目标。","type":"object","properties":{"Host":{"description":"服务注册表中服务的名称。","type":"string","example":"reviews.default.svc.cluster.local"},"Subset":{"description":"服务中子集的名称","type":"string","example":"v1"}}},"MirrorPercentage":{"description":"使用提供的错误码中止的请求的百分比。","type":"object","properties":{"Value":{"description":"使用提供的错误码中止的请求的百分比，用小数表示。","type":"number","format":"float","example":"0.2"}}}}},"RouteDestinations":{"description":"L4路由规则加权目的地列表。","type":"array","items":{"description":"L4路由规则加权目的地。","type":"object","properties":{"Destination":{"description":"Destination唯一标识请求或连接应转发到的服务实例。","type":"object","properties":{"Host":{"description":"服务注册表中服务的名称。","type":"string","example":"reviews"},"Subset":{"description":"服务中子集的名称。","type":"string","example":"v1"},"Port":{"description":"端口列表。","type":"object","properties":{"Number":{"description":"指定主机上要寻址的端口。","type":"integer","format":"int32","example":"443"}}}}},"Weight":{"description":"流量权重，范围：1~100。","type":"integer","format":"int32","example":"80"},"Headers":{"description":"用于判断是否匹配的请求头部列表。","type":"object","properties":{"Request":{"description":"用于判断是否匹配的请求头部。","type":"object","properties":{"Set":{"description":"用给定值覆盖键指定的Header。","type":"object","additionalProperties":{"type":"string","description":"输入Value值覆盖键Header。","example":"key"}},"Add":{"description":"添加值到Header中。","type":"object","example":"key"},"Remove":{"description":"删除Header中的值。","type":"array","items":{"description":"输入要删除的Key。","type":"string","example":"key"}}}},"Response":{"description":"返回响应前做的处理。","type":"object","properties":{"Set":{"description":"用给定值覆盖键指定的Header。","type":"object","example":"key"},"Add":{"description":"添加值到Header中。","type":"object","example":"key"},"Remove":{"description":"删除Header中的值。","type":"array","items":{"description":"输入要删除的Key。","type":"string","example":"key"}}}}}}}}},"Domains":{"description":"匹配的请求域名列表","type":"array","items":{"description":"匹配的请求域名","type":"string","example":"test.asm.aliyun.com"}},"RawVSRoute":{"description":"序列化为JSON的VirtualService原始YAML","type":"string","example":"{}"},"HasUnsafeFeatures":{"description":"如果为True，说明原始YAML中包含有当前界面上不支持的特性。","type":"boolean","example":"true"}}},"RequestId":{"description":"请求ID。","type":"string","example":"31d3a0f0-07ed-4f6e-9004-1804498c****"},"Priority":{"description":"路由优先级。整数，数字越小，优先级越高。","type":"integer","format":"int32","example":"1"},"Status":{"description":"网关路由状态，取值：\n\n- `0`：在线。\n\n- `1`：下线。\n\n- `2`：创建或更新错误。","type":"integer","format":"int32","example":"1"},"Description":{"description":"路由描述。","type":"string","example":"demo route"},"Namespace":{"description":"命名空间","type":"string","example":"default"}}}}},"errorCodes":{"500":[{"errorCode":"ERR500","errorMessage":"An internal server error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RouteDetail\\\": {\\n    \\\"RouteName\\\": \\\"demo-route\\\",\\n    \\\"RouteType\\\": \\\"HTTP\\\",\\n    \\\"MatchRequest\\\": {\\n      \\\"URI\\\": {\\n        \\\"MatchingMode\\\": \\\"prefix\\\",\\n        \\\"MatchingContent\\\": \\\"/ratings/v2/\\\"\\n      },\\n      \\\"Headers\\\": [\\n        {\\n          \\\"Name\\\": \\\"x-request-id\\\",\\n          \\\"MatchingMode\\\": \\\"exact\\\",\\n          \\\"MatchingContent\\\": \\\"v1\\\"\\n        }\\n      ],\\n      \\\"TLSMatchAttributes\\\": [\\n        {\\n          \\\"TLSPort\\\": 443,\\n          \\\"SNIHosts\\\": [\\n            \\\"*.com\\\"\\n          ]\\n        }\\n      ],\\n      \\\"Ports\\\": [\\n        443\\n      ]\\n    },\\n    \\\"HTTPAdvancedOptions\\\": {\\n      \\\"HTTPRedirect\\\": {\\n        \\\"Uri\\\": \\\"/v1/getProductRatings\\\",\\n        \\\"Authority\\\": \\\"newratings.default.svc.cluster.local\\\",\\n        \\\"RedirectCode\\\": 301\\n      },\\n      \\\"Delegate\\\": {\\n        \\\"Name\\\": \\\"reviews\\\",\\n        \\\"Namespace\\\": \\\"default\\\"\\n      },\\n      \\\"Rewrite\\\": {\\n        \\\"Uri\\\": \\\"/v1/getProductRatings\\\",\\n        \\\"Authority\\\": \\\"newratings.default.svc.cluster.local\\\"\\n      },\\n      \\\"Timeout\\\": \\\"5s\\\",\\n      \\\"Retries\\\": {\\n        \\\"Attempts\\\": 3,\\n        \\\"PerTryTimeout\\\": \\\"2s\\\",\\n        \\\"RetryOn\\\": \\\"connect-failure,refused-stream,503\\\",\\n        \\\"RetryRemoteLocalities\\\": {\\n          \\\"Value\\\": false\\n        }\\n      },\\n      \\\"Fault\\\": {\\n        \\\"Delay\\\": {\\n          \\\"FixedDelay\\\": \\\"5s\\\",\\n          \\\"ExponentialDelay\\\": \\\"3\\\",\\n          \\\"Percentage\\\": {\\n            \\\"Value\\\": 0.1\\n          }\\n        },\\n        \\\"Abort\\\": {\\n          \\\"HttpStatus\\\": 400,\\n          \\\"Percentage\\\": {\\n            \\\"Value\\\": 0.1\\n          }\\n        }\\n      },\\n      \\\"Mirror\\\": {\\n        \\\"Host\\\": \\\"reviews.default.svc.cluster.local\\\",\\n        \\\"Subset\\\": \\\"v1\\\"\\n      },\\n      \\\"MirrorPercentage\\\": {\\n        \\\"Value\\\": 0.2\\n      }\\n    },\\n    \\\"RouteDestinations\\\": [\\n      {\\n        \\\"Destination\\\": {\\n          \\\"Host\\\": \\\"reviews\\\",\\n          \\\"Subset\\\": \\\"v1\\\",\\n          \\\"Port\\\": {\\n            \\\"Number\\\": 443\\n          }\\n        },\\n        \\\"Weight\\\": 80,\\n        \\\"Headers\\\": {\\n          \\\"Request\\\": {\\n            \\\"Set\\\": {\\n              \\\"key\\\": \\\"key\\\"\\n            },\\n            \\\"Add\\\": {\\n              \\\"test\\\": \\\"test\\\",\\n              \\\"test2\\\": 1\\n            },\\n            \\\"Remove\\\": [\\n              \\\"key\\\"\\n            ]\\n          },\\n          \\\"Response\\\": {\\n            \\\"Set\\\": {\\n              \\\"test\\\": \\\"test\\\",\\n              \\\"test2\\\": 1\\n            },\\n            \\\"Add\\\": {\\n              \\\"test\\\": \\\"test\\\",\\n              \\\"test2\\\": 1\\n            },\\n            \\\"Remove\\\": [\\n              \\\"key\\\"\\n            ]\\n          }\\n        }\\n      }\\n    ],\\n    \\\"Domains\\\": [\\n      \\\"test.asm.aliyun.com\\\"\\n    ],\\n    \\\"RawVSRoute\\\": \\\"{}\\\",\\n    \\\"HasUnsafeFeatures\\\": true\\n  },\\n  \\\"RequestId\\\": \\\"31d3a0f0-07ed-4f6e-9004-1804498c****\\\",\\n  \\\"Priority\\\": 1,\\n  \\\"Status\\\": 1,\\n  \\\"Description\\\": \\\"demo route\\\",\\n  \\\"Namespace\\\": \\\"default\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeIstioGatewayRouteDetailResponse>\\n    <RouteDetail>\\n        <RouteName>demo-route</RouteName>\\n        <RouteType>HTTP</RouteType>\\n        <MatchRequest>\\n            <URI>\\n                <MatchingMode>prefix</MatchingMode>\\n                <MatchingContent>/ratings/v2/</MatchingContent>\\n            </URI>\\n            <Headers>\\n                <Name>x-request-id</Name>\\n                <MatchingMode>exact</MatchingMode>\\n                <MatchingContent>v1</MatchingContent>\\n            </Headers>\\n            <TLSMatchAttributes>\\n                <TLSPort>443</TLSPort>\\n                <SNIHosts>*.com</SNIHosts>\\n            </TLSMatchAttributes>\\n            <Ports>443</Ports>\\n        </MatchRequest>\\n        <HTTPAdvancedOptions>\\n            <HTTPRedirect>\\n                <Uri>/v1/getProductRatings</Uri>\\n                <Authority>newratings.default.svc.cluster.local</Authority>\\n                <RedirectCode>301</RedirectCode>\\n            </HTTPRedirect>\\n            <Delegate>\\n                <Name>reviews</Name>\\n                <Namespace>default</Namespace>\\n            </Delegate>\\n            <Rewrite>\\n                <Uri>/v1/getProductRatings</Uri>\\n                <Authority>newratings.default.svc.cluster.local</Authority>\\n            </Rewrite>\\n            <Timeout>5s</Timeout>\\n            <Retries>\\n                <Attempts>3</Attempts>\\n                <PerTryTimeout>2s</PerTryTimeout>\\n                <RetryOn>connect-failure,refused-stream,503</RetryOn>\\n                <RetryRemoteLocalities>\\n                    <Value>false</Value>\\n                </RetryRemoteLocalities>\\n            </Retries>\\n            <Fault>\\n                <Delay>\\n                    <FixedDelay>5s</FixedDelay>\\n                    <ExponentialDelay>3</ExponentialDelay>\\n                    <Percentage>\\n                        <Value>0.1</Value>\\n                    </Percentage>\\n                </Delay>\\n                <Abort>\\n                    <HttpStatus>400</HttpStatus>\\n                    <Percentage>\\n                        <Value>0.1</Value>\\n                    </Percentage>\\n                </Abort>\\n            </Fault>\\n            <Mirror>\\n                <Host>reviews.default.svc.cluster.local</Host>\\n                <Subset>v1</Subset>\\n            </Mirror>\\n            <MirrorPercentage>\\n                <Value>0.2</Value>\\n            </MirrorPercentage>\\n        </HTTPAdvancedOptions>\\n        <RouteDestinations>\\n            <Destination>\\n                <Host>reviews</Host>\\n                <Subset>v1</Subset>\\n                <Port>\\n                    <Number>443</Number>\\n                </Port>\\n            </Destination>\\n            <Weight>80</Weight>\\n            <Headers>\\n                <Request>\\n                    <Set>\\n                        <key>key</key>\\n                    </Set>\\n                    <Remove>key</Remove>\\n                </Request>\\n                <Response>\\n                    <Remove>key</Remove>\\n                </Response>\\n            </Headers>\\n        </RouteDestinations>\\n    </RouteDetail>\\n    <RequestId>31d3a0f0-07ed-4f6e-9004-1804498c****</RequestId>\\n    <Priority>1</Priority>\\n    <Status>1</Status>\\n    <Description>demo route</Description>\\n</DescribeIstioGatewayRouteDetailResponse>\",\"errorExample\":\"\"}]","title":"查看网关路由详情"}