{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ServiceMeshId","in":"query","schema":{"description":"服务网格ID。","type":"string","required":false,"example":"cb8963379255149cb98c8686f274x****"}},{"name":"Offset","in":"formData","allowEmptyValue":true,"schema":{"description":"本次访问的起始位置。","type":"integer","format":"int64","required":false,"example":"20"}},{"name":"Limit","in":"formData","allowEmptyValue":true,"schema":{"description":"集群列表最大数量。","type":"integer","format":"int64","required":false,"example":"30"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"31d3a0f0-07ed-4f6e-9004-1804498c****"},"Clusters":{"description":"集群列表信息。","type":"array","items":{"type":"object","properties":{"SgId":{"description":"安全组ID。","type":"string","example":"sg-bp197668l6iupljy****"},"VpcId":{"description":"专有网络ID。","type":"string","example":"vpc-8vbrwmt95b4zf6wf7****"},"CreationTime":{"description":"集群创建时间。","type":"string","example":"2020-05-12T15:38:16+08:00"},"UpdateTime":{"description":"集群最后修改时间。","type":"string","example":"2020-05-12T15:38:16+08:00"},"ErrorMessage":{"description":"集群的异常信息。","type":"string","example":"fail"},"State":{"description":"集群状态，取值：\n\n- `running`：运行中。\n\n- `starting `：启动中。\n\n- `stopping `：终止中。\n\n- `stopped`：已停止。\n\n- `failed`：失败。","type":"string","example":"running"},"ServiceMeshId":{"description":"服务网格ID。","type":"string","example":"cb8963379255149cb98c8686f274x****"},"RegionId":{"description":"集群所在地域ID。","type":"string","example":"cn-hangzhou"},"ClusterDomain":{"description":"集群域名。","type":"string","example":"c.com"},"Version":{"description":"集群版本号。","type":"string","example":"v1.16.6-aliyun.1"},"ClusterType":{"description":"集群类型。","type":"string","example":"Ask"},"Name":{"description":"集群名称。","type":"string","example":"ask1"},"ClusterId":{"description":"集群ID。","type":"string","example":"c80f45444b3da447da60a911390c2****"},"ForbiddenFlag":{"description":"数据面集群不能加入ASM的原因，取值：\n\n- `0`：表示正常，可加入。\n\n- `1`：表示您没有集群的adminlevel权限。\n\n- `2`：集群和网格位于不同的VPC中，并且它们之间没有CEN。\n\n- `3`：集群的CIDR与网格冲突。\n\n- `4`：集群已具有名为istio-system的命名空间。","type":"integer","format":"int64","example":"0"},"ForbiddenInfo":{"description":"数据面集群不能加入ASM的详细原因，格式为JSON字符串，格式为：\n```\n[\n  {\n    \"cluster\": \"cdd55bd6e054b4c6ca18ec02614******\",\n    \"object\": \"Pod\",\n    \"cidr\": \"172.16.0.0/24\"\n  },\n  {\n    \"cluster\": \"cfa37fdf7cb1641e1976f8293ac******\",\n    \"object\": \"Pod\",\n    \"cidr\": \"172.16.0.0/24\"\n  }\n]\n```\n以上例子中表示集群`cdd55bd6e054b4c6ca18ec02614******`的Pod CIDR `172.16.0.0/24`与集群`cfa37fdf7cb1641e1976f8293ac******`的Pod CIDR `172.16.0.0/24`发生了冲突。\n\n`object`取值：\n- `Pod`\n- `Service`\n- `VSwitch`\n- `VPC`\n- `VPC CIDR`","type":"string","example":"[{\"cluster\":\"cdd55bd6e054b4c6ca18ec02614******\", \"object\":\"Pod\", \"cidr\":\"172.16.0.0/24\"},{\"cluster\":\"cfa37fdf7cb1641e1976f8293ac******\", \"object\":\"Pod\", \"cidr\":\"172.16.0.0/24\"}]"}}}},"NumberOfClusters":{"description":"当前Region下的容器服务集群总数。","type":"integer","format":"int64","example":"5"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"31d3a0f0-07ed-4f6e-9004-1804498c****\\\",\\n  \\\"Clusters\\\": [\\n    {\\n      \\\"SgId\\\": \\\"sg-bp197668l6iupljy****\\\",\\n      \\\"VpcId\\\": \\\"vpc-8vbrwmt95b4zf6wf7****\\\",\\n      \\\"CreationTime\\\": \\\"2020-05-12T15:38:16+08:00\\\",\\n      \\\"UpdateTime\\\": \\\"2020-05-12T15:38:16+08:00\\\",\\n      \\\"ErrorMessage\\\": \\\"fail\\\",\\n      \\\"State\\\": \\\"running\\\",\\n      \\\"ServiceMeshId\\\": \\\"cb8963379255149cb98c8686f274x****\\\",\\n      \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"ClusterDomain\\\": \\\"c.com\\\",\\n      \\\"Version\\\": \\\"v1.16.6-aliyun.1\\\",\\n      \\\"ClusterType\\\": \\\"Ask\\\",\\n      \\\"Name\\\": \\\"ask1\\\",\\n      \\\"ClusterId\\\": \\\"c80f45444b3da447da60a911390c2****\\\",\\n      \\\"ForbiddenFlag\\\": 0,\\n      \\\"ForbiddenInfo\\\": \\\"[{\\\\\\\"cluster\\\\\\\":\\\\\\\"cdd55bd6e054b4c6ca18ec02614******\\\\\\\", \\\\\\\"object\\\\\\\":\\\\\\\"Pod\\\\\\\", \\\\\\\"cidr\\\\\\\":\\\\\\\"172.16.0.0/24\\\\\\\"},{\\\\\\\"cluster\\\\\\\":\\\\\\\"cfa37fdf7cb1641e1976f8293ac******\\\\\\\", \\\\\\\"object\\\\\\\":\\\\\\\"Pod\\\\\\\", \\\\\\\"cidr\\\\\\\":\\\\\\\"172.16.0.0/24\\\\\\\"}]\\\"\\n    }\\n  ],\\n  \\\"NumberOfClusters\\\": 5\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeServiceMeshClustersResponse>\\n    <RequestId>31d3a0f0-07ed-4f6e-9004-1804498c****</RequestId>\\n    <Clusters>\\n        <SgId>sg-bp197668l6iupljy****</SgId>\\n        <VpcId>vpc-8vbrwmt95b4zf6wf7****</VpcId>\\n        <CreationTime>2020-05-12T15:38:16+08:00</CreationTime>\\n        <UpdateTime>2020-05-12T15:38:16+08:00</UpdateTime>\\n        <ErrorMessage>fail</ErrorMessage>\\n        <State>running</State>\\n        <ServiceMeshId>cb8963379255149cb98c8686f274x****</ServiceMeshId>\\n        <RegionId>cn-hangzhou</RegionId>\\n        <ClusterDomain>c.com</ClusterDomain>\\n        <Version>v1.16.6-aliyun.1</Version>\\n        <ClusterType>Ask</ClusterType>\\n        <Name>ask1</Name>\\n        <ClusterId>c80f45444b3da447da60a911390c2****</ClusterId>\\n        <ForbiddenFlag>0</ForbiddenFlag>\\n    </Clusters>\\n</DescribeServiceMeshClustersResponse>\",\"errorExample\":\"\"}]","title":"获取服务网格的可用集群","summary":"调用DescribeServiceMeshClusters获取服务网格的可用集群。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}