{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"42928","abilityTreeNodes":["FEATUREservicemesh4LB119"]},"parameters":[{"name":"ServiceMeshId","in":"formData","schema":{"description":"ASM实例ID。","type":"string","required":true,"docRequired":true,"example":"ca04bc38979214bf2882be79d39b4****"}},{"name":"CheckMode","in":"formData","schema":{"description":"网格检查模式，取值：\n\n- `normal`：将仅检查API Server负载均衡、Pilot负载均衡、审计日志、数据面Logtail安装的状态。\n\n- `full`：将检查包括normal模式下检查项以及控制面日志、访问日志、网格安全组、APIServer EIP的状态。","type":"string","required":false,"example":"full"}}],"responses":{"200":{"schema":{"description":"状态查询结果","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"11fd0027-c27e-41bb-a565-75583054****"},"ClusterStatus":{"description":"集群状态。","type":"object","properties":{"ApiServerLoadBalancerStatus":{"description":"API Server负载均衡状态检查。","type":"object","properties":{"SLBExistStatus":{"description":"CLB状态检查结果，取值：\n\n- `exist`：存在。\n- `not_exist`：不存在。\n- `conflict`：检测存在冲突。\n- `failed`：检测失败 。\n- ` time_out`：检测超时。","type":"string","example":"exist"},"SLBBackEndServerNumStatus":{"description":"CLB数目检测结果，取值：\n\n- `too_much`：数量过多。\n\n- `num_exact`：数量刚好。\n\n- `too_little`：数量过少。","type":"string","example":"num_exact"},"Reused":{"description":"CLB是否被复用，取值：\n\n- `true`：CLB被复用。\n\n- `false`：CLB未被复用。","type":"boolean","example":"false"},"Locked":{"description":"CLB是否被锁定，取值：\n\n- `true`：CLB被锁定。\n\n- `false`：CLB未被锁定。","type":"boolean","example":"false"},"PayType":{"description":"CLB付费类型，取值：\n\n- `PrePay`：包年包月。\n\n- `PayOnDemand`：按量付费。","type":"string","example":"PrePay"}}},"PilotLoadBalancerStatus":{"description":"Pilot负载均衡状态检查。","type":"object","properties":{"SLBExistStatus":{"description":"CLB状态检查结果，取值：\n- `exist`：存在。\n- `not_exist`：不存在。\n- `conflict`：检测存在冲突。\n- `failed`：检测失败 。\n- ` time_out`：检测超时。","type":"string","example":"exist"},"SLBBackEndServerNumStatus":{"description":"CLB数目检测结果，取值：\n- `too_much`：数量过多。\n\n- `num_exact`：数量刚好。\n\n- `too_little`：数量过少。","type":"string","example":"num_exact"},"Reused":{"description":"CLB是否被复用，取值：\n\n- `true`：CLB被复用。\n\n- `false`：CLB未被复用。","type":"boolean","example":"true"},"Locked":{"description":"CLB是否被锁定，取值：\n\n- `true`：CLB被锁定。\n \n- `false`：CLB未被锁定。","type":"boolean","example":"false"},"PayType":{"description":"CLB付费类型，取值：\n\n- `PrePay`：包年包月。\n\n- `PayOnDemand`：按量付费。","type":"string","example":"PayOnDemand"}}},"CanaryPilotLoadBalancerStatus":{"description":"金丝雀版本Pilot负载均衡状态信息。","type":"object","properties":{"SLBExistStatus":{"description":"CLB是否存在，取值：\n- `exist`：存在。\n- `not_exist`：不存在。\n- `time_out`：获取状态超时。\n- `failed`：实例已失效。","type":"string","example":"exist"},"SLBBackEndServerNumStatus":{"description":"CLB后端数量状态，取值：\n- `num_exact`：符合预期。\n- `too_much`：后端数量太多。\n- `too_little`：后端数量太少。","type":"string","example":"num_exact"},"Reused":{"description":"CLB是否被复用，取值：\n- `true`：被复用，在CLB的监听中检出了非服务网格监听。\n- `false`：未被复用。","type":"boolean","example":"false"},"Locked":{"description":"CLB是否欠费锁定，取值：\n\n- `true`：已欠费锁定。\n\n- `false`：未欠费锁定。","type":"boolean","example":"false"},"PayType":{"description":"CLB的计费类型，取值：\n- `PrePay`：包年包月。\n- `PayOnDemand`（默认值）：按量付费。","type":"string","example":"PayOnDemand"}}},"AuditProjectStatus":{"description":"审计日志存在状态，取值：\n\n- `exist`：存在。\n\n- `not exist`：不存在。","type":"string","example":"exist"},"LogtailStatusRecord":{"description":"各个数据面集群的logtail安装状态。","type":"object","example":"{   \"ca35eae22013e43758a0e26d04****\":{     \"accessLogDashboards\":[       {         \"title\":\"mesh-access-log_details_cn\",         \"url\":\"https://sls.console.aliyun.com/lognext/project/****/dashboard/mesh-access-log_details_cn\"       },       {         \"title\":\"mesh-access-log_monitoring_center_cn\",         \"url\":\"https://sls.console.aliyun.com/lognext/project/****/dashboard/mesh-access-log_monitoring_center_cn\"       }     ],     \"logtailStatus\":\"exist\",     \"clusterId\":\"ca35eae22013e43758a0e26d04****\"   } }"},"ControlPlaneProjectStatus":{"description":"控制面日志存在状态，可能取值有：\n\n- `exist`：存在。\n\n- `not_exist`：不存在。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。","type":"string","example":"exist"},"SgStatus":{"description":"网格安全组复用状态，取值：\n\n- `reused`：被复用。\n\n- `not_reused`：未被复用。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。","type":"string","example":"reused"},"ApiServerEIPStatus":{"description":"ApiServer绑定EIP存在状态，取值：\n- `exist`：存在。\n\n- `not_exist`：不存在。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。\n\n- `not_in_use`：EIP未被绑定至API Server。\n\n- `locked`：EIP被锁定。","type":"string","example":"exist"},"PilotEIPStatus":{"description":"Pilot绑定EIP存在状态，取值：\n\n- `exist`：存在。\n\n- `not_exist`：不存在。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。\n\n- `not_in_use`：EIP未被绑定至API Server。\n\n- `locked`：EIP被锁定。","type":"string","example":"exist"},"AccessLogProjectStatus":{"description":"访问日志存在状态，取值：\n- `exist`：存在。\n\n- `not_exist`：不存在。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。","type":"string","example":"exist"},"RAMApplicationStatus":{"description":"与网格拓扑集成的RAM OAuth应用状态，取值：\n- `exist`：存在。\n\n- `reused`：被复用。\n\n- `not_exist`：不存在。\n\n- `failed`：检测失败。\n\n- `time_out`：检测超时。","type":"string","example":"reused"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"11fd0027-c27e-41bb-a565-75583054****\\\",\\n  \\\"ClusterStatus\\\": {\\n    \\\"ApiServerLoadBalancerStatus\\\": {\\n      \\\"SLBExistStatus\\\": \\\"exist\\\",\\n      \\\"SLBBackEndServerNumStatus\\\": \\\"num_exact\\\",\\n      \\\"Reused\\\": false,\\n      \\\"Locked\\\": false,\\n      \\\"PayType\\\": \\\"PrePay\\\"\\n    },\\n    \\\"PilotLoadBalancerStatus\\\": {\\n      \\\"SLBExistStatus\\\": \\\"exist\\\",\\n      \\\"SLBBackEndServerNumStatus\\\": \\\"num_exact\\\",\\n      \\\"Reused\\\": true,\\n      \\\"Locked\\\": false,\\n      \\\"PayType\\\": \\\"PayOnDemand\\\"\\n    },\\n    \\\"CanaryPilotLoadBalancerStatus\\\": {\\n      \\\"SLBExistStatus\\\": \\\"exist\\\",\\n      \\\"SLBBackEndServerNumStatus\\\": \\\"num_exact\\\",\\n      \\\"Reused\\\": false,\\n      \\\"Locked\\\": false,\\n      \\\"PayType\\\": \\\"PayOnDemand\\\"\\n    },\\n    \\\"AuditProjectStatus\\\": \\\"exist\\\",\\n    \\\"LogtailStatusRecord\\\": {\\n      \\\"ca35eae22013e43758a0e26d04****\\\": {\\n        \\\"accessLogDashboards\\\": [\\n          {\\n            \\\"title\\\": \\\"mesh-access-log_details_cn\\\",\\n            \\\"url\\\": \\\"https://sls.console.aliyun.com/lognext/project/****/dashboard/mesh-access-log_details_cn\\\"\\n          },\\n          {\\n            \\\"title\\\": \\\"mesh-access-log_monitoring_center_cn\\\",\\n            \\\"url\\\": \\\"https://sls.console.aliyun.com/lognext/project/****/dashboard/mesh-access-log_monitoring_center_cn\\\"\\n          }\\n        ],\\n        \\\"logtailStatus\\\": \\\"exist\\\",\\n        \\\"clusterId\\\": \\\"ca35eae22013e43758a0e26d04****\\\"\\n      }\\n    },\\n    \\\"ControlPlaneProjectStatus\\\": \\\"exist\\\",\\n    \\\"SgStatus\\\": \\\"reused\\\",\\n    \\\"ApiServerEIPStatus\\\": \\\"exist\\\",\\n    \\\"PilotEIPStatus\\\": \\\"exist\\\",\\n    \\\"AccessLogProjectStatus\\\": \\\"exist\\\",\\n    \\\"RAMApplicationStatus\\\": \\\"reused\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeServiceMeshAdditionalStatusResponse>\\n    <RequestId>11fd0027-c27e-41bb-a565-75583054****</RequestId>\\n    <ClusterStatus>\\n        <ApiServerLoadBalancerStatus>\\n            <SLBExistStatus>exist</SLBExistStatus>\\n            <SLBBackEndServerNumStatus>num_exact</SLBBackEndServerNumStatus>\\n            <Reused>false</Reused>\\n            <PayType>PrePay</PayType>\\n        </ApiServerLoadBalancerStatus>\\n        <PilotLoadBalancerStatus>\\n            <SLBExistStatus>exist</SLBExistStatus>\\n            <SLBBackEndServerNumStatus>num_exact</SLBBackEndServerNumStatus>\\n            <Reused>true</Reused>\\n            <PayType>PayOnDemand</PayType>\\n        </PilotLoadBalancerStatus>\\n        <AuditProjectStatus>exist</AuditProjectStatus>\\n        <LogtailStatusRecord>\\n            <key>\\n                <ClusterId>caeac85a793c94afbbb0a4bb20320****</ClusterId>\\n                <LogtailDetailStatus>exist</LogtailDetailStatus>\\n                <AccessLogDashboards>\\n                    <Title>audit-c186a6d9641a24098b549****</Title>\\n                    <Url>https://sls.console.aliyun.com/lognext/project/audit-c186a6d9641a24098b549xxxxxxxxxxxx/dashboard/mesh</Url>\\n                </AccessLogDashboards>\\n            </key>\\n        </LogtailStatusRecord>\\n        <ControlPlaneProjectStatus>exist</ControlPlaneProjectStatus>\\n        <SgStatus>reused</SgStatus>\\n        <ApiServerEIPStatus>exist</ApiServerEIPStatus>\\n        <AccessLogProjectStatus>exist</AccessLogProjectStatus>\\n    </ClusterStatus>\\n</DescribeServiceMeshAdditionalStatusResponse>\",\"errorExample\":\"\"}]","title":"查询ASM实例的附加检查信息","summary":"调用DescribeServiceMeshAdditionalStatus查询ASM实例的附加检查信息。"}