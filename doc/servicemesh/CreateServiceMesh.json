{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"formData","schema":{"description":"服务网格所在地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"IstioVersion","in":"formData","schema":{"description":"Istio版本号。","type":"string","required":false,"example":"v1.5.4.1-g5960ec40-aliyun"}},{"name":"VpcId","in":"formData","schema":{"description":"专有网络ID。","type":"string","required":true,"docRequired":true,"example":"vpc-xzelac2tw4ic7wz31****"}},{"name":"ApiServerPublicEip","in":"formData","schema":{"description":"是否使用公网地址暴露API Server。取值：\n\n- `true`：使用公网地址暴露API Server。\n\n- `false`：不使用公网地址暴露API Server。\n\n默认值：`false`。\n\n> 若配置为`false`则无法通过外网访问集群API Server。","type":"boolean","required":false,"example":"false"}},{"name":"Tracing","in":"formData","schema":{"description":"是否启用链路追踪。取值：\n\n- `true`：启用链路追踪。\n\n- `false`：不启用链路追踪。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"Name","in":"formData","schema":{"description":"服务网格名称。","type":"string","required":false,"example":"mesh1"}},{"name":"VSwitches","in":"formData","schema":{"description":"虚拟交换机ID。","type":"string","required":true,"docRequired":true,"example":"[\"vsw-xzegf5dndkbf4m6eg****\"]"}},{"name":"TraceSampling","in":"formData","schema":{"description":"链路追踪采样百分比。","type":"number","format":"float","required":false,"example":"100"}},{"name":"CustomizedZipkin","in":"formData","schema":{"description":"是否使用自建Zipkin。取值：\n\n- `true`：使用自建Zipkin。\n\n- `false`：使用阿里云链路追踪。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"LocalityLoadBalancing","in":"formData","schema":{"description":"是否启用服务就近访问。取值： \n\n- `true`：启用服务就近访问。\n\n- `false`：不启用服务就近访问。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"LocalityLBConf","in":"formData","schema":{"description":"服务就近访问配置。","type":"string","required":false,"example":"{\"failover\":[{\"from\":\"cn-hangzhou\",\"to\":\"cn-shanghai\"}]}"}},{"name":"Telemetry","in":"formData","schema":{"description":"是否开启采集Prometheus监控指标（建议使用[阿里云Prometheus监控](https://arms.console.aliyun.com/)）。取值：\n\n- `true`：开启采集Prometheus监控指标。\n\n- `false`：不开启采集Prometheus监控指标。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"OpenAgentPolicy","in":"formData","schema":{"description":"是否集成开放策略代理（OPA）插件。取值：\n\n- `true`：集成开放策略代理（OPA）插件。\n\n- `false`：不集成开放策略代理（OPA）插件。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"OPALogLevel","in":"formData","schema":{"description":"OPA代理容器日志级别。","type":"string","required":false,"example":"info"}},{"name":"OPARequestCPU","in":"formData","schema":{"description":"OPA代理容器的CPU资源请求，可以使用Kubernetes标准CPU表示形式。例如1为1核CPU。","type":"string","required":false,"example":"1"}},{"name":"OPARequestMemory","in":"formData","schema":{"description":"OPA代理容器的内存资源请求，可以使用Kubernetes标准内存表示形式。例如1 Mi为1024 KB。","type":"string","required":false,"example":"512Mi"}},{"name":"OPALimitCPU","in":"formData","schema":{"description":"OPA代理容器的CPU资源限制。","type":"string","required":false,"example":"2"}},{"name":"OPALimitMemory","in":"formData","schema":{"description":"OPA代理容器的内存资源限制，可以使用Kubernetes标准内存表示形式。例如1 Mi为1024 KB。","type":"string","required":false,"example":"1024Mi"}},{"name":"EnableAudit","in":"formData","schema":{"description":"是否启用网格审计（需要开通[阿里云日志服务](https://sls.console.aliyun.com/)）。取值：\n\n- `true`：启用网格审计。\n\n- `false`：不启用网格审计。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"AuditProject","in":"formData","schema":{"description":"网格审计对应的日志项目名称。\n\n默认值：mesh-log-{meshId}。","type":"string","required":false,"example":"mesh-log-xxxx"}},{"name":"ClusterDomain","in":"formData","schema":{"description":"集群本地域名。","type":"string","required":false,"example":"cluster.local"}},{"name":"ProxyRequestCPU","in":"formData","schema":{"description":"代理容器的CPU请求资源。","type":"string","required":false,"example":"100m"}},{"name":"ProxyRequestMemory","in":"formData","schema":{"description":"代理容器的内存请求资源。","type":"string","required":false,"example":"128Mi"}},{"name":"ProxyLimitCPU","in":"formData","schema":{"description":"代理容器的CPU限制资源。","type":"string","required":false,"example":"2000m"}},{"name":"ProxyLimitMemory","in":"formData","schema":{"description":"代理容器的内存限制资源。","type":"string","required":false,"example":"1024Mi"}},{"name":"IncludeIPRanges","in":"formData","schema":{"description":"拦截对外访问的地址范围。","type":"string","required":false,"example":"*"}},{"name":"ExcludeIPRanges","in":"formData","schema":{"description":"排除拦截对外访问的地址范围。","type":"string","required":false,"example":"100.100.10*.***"}},{"name":"ExcludeOutboundPorts","in":"formData","schema":{"description":"以半角英文逗号（,）分隔的出站端口列表。","type":"string","required":false,"example":"80,81"}},{"name":"ExcludeInboundPorts","in":"formData","schema":{"description":"以半角英文逗号（,）分隔的入站端口列表。","type":"string","required":false,"example":"80,81"}},{"name":"OpaEnabled","in":"formData","schema":{"description":"是否启用OPA。取值：\n\n- `true`：启用OPA。\n\n- `false`：不启用OPA。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"KialiEnabled","in":"formData","schema":{"description":"是否启用网格拓扑（需先开启采集Prometheus监控指标，当该项更新为`false`时，本项强制为`false`）。取值：\n\n- `true`：启用网格拓扑。\n\n- `false`：不启用网格拓扑。\n\n默认值：`false`。\n","type":"boolean","required":false,"example":"false"}},{"name":"AccessLogEnabled","in":"formData","schema":{"description":"是否启用访问日志。取值：\n\n- `true`：启用访问日志。\n\n- `false`：不启用访问日志。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"CustomizedPrometheus","in":"formData","schema":{"description":"是否自定义Prometheus。取值：\n\n- `true`：自定义Prometheus。\n\n- `false`：不自定义Prometheus。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"PrometheusUrl","in":"formData","schema":{"description":"自定义Prometheus服务地址。","type":"string","required":false,"example":"http://prometheus:9090"}},{"name":"RedisFilterEnabled","in":"formData","schema":{"description":"是否启用Redis Filter能力，取值：\n\n- `true`：启用Redis Filter能力。\n\n- `false`：不启用Redis Filter能力。\n\n默认值：`false`。","type":"boolean","required":false,"example":"true"}},{"name":"MysqlFilterEnabled","in":"formData","schema":{"description":"是否启用MysqlFilter，取值：\n\n\n- `true`：启用MysqlFilter。\n\n- `false`：不启用MysqlFilter。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"ThriftFilterEnabled","in":"formData","schema":{"description":"是否启用ThriftFilter。取值：\n\n- `true`：启用ThriftFilter。\n\n- `false`：不启用ThriftFilter。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"WebAssemblyFilterEnabled","in":"formData","schema":{"description":"是否启用WebAssemblyFilter。取值：\n\n\n- `true`：启用WebAssemblyFilter。\n\n- `false`：不启用WebAssemblyFilter。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"MSEEnabled","in":"formData","schema":{"description":"是否启用MSE微服务引擎。取值：\n\n\n- `true`：启用MSE微服务引擎。\n\n- `false`：不启用MSE微服务引擎。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"DNSProxyingEnabled","in":"formData","schema":{"description":"是否启用DNS代理能力。取值：\n\n- `true`：启用DNS代理能力。\n\n- `false`：不启用DNS代理能力。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"Edition","in":"formData","schema":{"description":" ASM实例版本。","type":"string","required":false,"example":"Pro"}},{"name":"ConfigSourceEnabled","in":"formData","schema":{"description":"是否启用外部服务注册中心。取值：\n\n- `true`：启用外部服务注册中心。\n\n- `false`：不启用外部服务注册中心。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"ConfigSourceNacosID","in":"formData","schema":{"description":"Nacos注册中心实例ID。","type":"string","required":false,"example":"mse-cn-tl326******"}},{"name":"DubboFilterEnabled","in":"formData","schema":{"description":"是否启用DubboFilter。取值：\n\n- `true`：启用DubboFilter。\n\n- `false`：不启用DubboFilter。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"FilterGatewayClusterConfig","in":"formData","schema":{"description":"是否启用Gateway配置过滤。取值：\n\n- `true`：启用Gateway配置过滤。\n\n- `false`：不启用Gateway配置过滤。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"EnableSDSServer","in":"formData","schema":{"description":"是否启用SDS服务。取值：\n\n- `true`：启用SDS服务。\n\n- `false`：不启用SDS服务。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"AccessLogServiceEnabled","in":"formData","schema":{"description":"是否启用Envoy的gRPC日志服务（ALS）。取值：\n\n\n- `true`：启用Envoy的gRPC日志服务。\n\n- `false`：不启用Envoy的gRPC日志服务。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"AccessLogServiceHost","in":"formData","schema":{"description":"启用Envoy的gRPC日志服务（ALS）的地址。","type":"string","required":false,"example":"0.0.0.0"}},{"name":"AccessLogServicePort","in":"formData","schema":{"description":"启用Envoy的gRPC日志服务（ALS）的端口。","type":"integer","format":"int32","required":false,"example":"9999"}},{"name":"GatewayAPIEnabled","in":"formData","schema":{"description":"是否启用Gateway API。取值：\n\n- `true`：启用Gateway API。\n\n- `false`：不启用Gateway API。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"ControlPlaneLogEnabled","in":"formData","schema":{"description":"是否启用控制面日志采集。取值：\n\n- `true`：启用控制面日志采集。\n\n- `false`：不启用控制面日志采集。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"ControlPlaneLogProject","in":"formData","schema":{"description":"控制面日志采集的SLS Project。","type":"string","required":false,"example":"mesh-log-cf245a429b6ff4b6e97f20797758*****"}},{"name":"AccessLogFormat","in":"formData","schema":{"description":"自定义访问日志的格式（需选择启用访问日志，否则自动忽略本项）。本项字符串为JSON格式，且JSON字符串中必须至少包含下述的键值：authority_for、bytes_received、bytes_sent、downstream_local_address、downstream_remote_address、duration、istio_policy_status、method、path、protocol、requested_server_name、response_code、response_flags、route_name、start_time、trace_id、upstream_cluster、upstream_host、upstream_local_address、upstream_service_time、upstream_transport_failure_reason、user_agent、x_forwarded_for。","type":"string","required":false,"example":"{\"authority_for\":\"%REQ(:AUTHORITY)%\",\"bytes_received\":\"%BYTES_RECEIVED%\",\"bytes_sent\":\"%BYTES_SENT%\",\"downstream_local_address\":\"%DOWNSTREAM_LOCAL_ADDRESS%\",\"downstream_remote_address\":\"%DOWNSTREAM_REMOTE_ADDRESS%\",\"duration\":\"%DURATION%\",\"istio_policy_status\":\"%DYNAMIC_METADATA(istio.mixer:status)%\",\"method\":\"%REQ(:METHOD)%\",\"path\":\"%REQ(X-ENVOY-ORIGINAL-PATH?:PATH)%\",\"protocol\":\"%PROTOCOL%\",\"request_id\":\"%REQ(X-REQUEST-ID)%\",\"requested_server_name\":\"%REQUESTED_SERVER_NAME%\",\"response_code\":\"%RESPONSE_CODE%\",\"response_flags\":\"%RESPONSE_FLAGS%\",\"route_name\":\"%ROUTE_NAME%\",\"start_time\":\"%START_TIME%\",\"trace_id\":\"%REQ(X-B3-TRACEID)%\",\"upstream_cluster\":\"%UPSTREAM_CLUSTER%\",\"upstream_host\":\"%UPSTREAM_HOST%\",\"upstream_local_address\":\"%UPSTREAM_LOCAL_ADDRESS%\",\"upstream_service_time\":\"%RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)%\",\"upstream_transport_failure_reason\":\"%UPSTREAM_TRANSPORT_FAILURE_REASON%\",\"user_agent\":\"%REQ(USER-AGENT)%\",\"x_forwarded_for\":\"%REQ(X-FORWARDED-FOR)%\"}"}},{"name":"AccessLogFile","in":"formData","schema":{"description":"开启和关闭访问日志。取值：\n\n- “”：关闭访问日志。\n\n- `/dev/stdout`：开启访问日志。","type":"string","required":false,"example":"/dev/stdout"}},{"name":"AccessLogProject","in":"formData","schema":{"description":"访问日志采集的SLS Project。","type":"string","required":false,"example":"mesh-log-cf245a429b6ff4b6e97f20797758*****"}},{"name":"EnableCRHistory","in":"formData","schema":{"description":"是否启用ASM的Istio资源历史版本管理功能。取值：\n\n- `true`：启用ASM的Istio资源历史版本管理功能。\n\n- `false`：不启用ASM的Istio资源历史版本管理功能。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"CRAggregationEnabled","in":"formData","schema":{"description":"是否启用数据面集群Kubernetes API访问Istio资源（需ASM实例v1.9.7.93版本以上）。取值：\n\n- `true`：启用数据面集群Kubernetes API访问Istio资源。\n\n- `false`：不启用数据面集群Kubernetes API访问Istio资源。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"}},{"name":"ApiServerLoadBalancerSpec","in":"formData","schema":{"description":"APIServer 绑定的CLB规格。取值：简约型I（`slb.s1.small`）、标准型I（`slb.s2.small`）、标准型II（`slb.s2.medium`）、高阶型I（`slb.s3.small`）、高阶型II（`slb.s3.medium`）、超强型I（`slb.s3.large`）。","type":"string","required":false,"example":"slb.s1.small"}},{"name":"PilotLoadBalancerSpec","in":"formData","schema":{"description":"服务网格控制面的Istio Pilot绑定的CLB规格。取值：简约型I（`slb.s1.small`）、标准型I（`slb.s2.small`）、标准型II（`slb.s2.medium`）、高阶型I（`slb.s3.small`）\t、高阶型II（`slb.s3.medium`）、超强型I（`slb.s3.large`）。","type":"string","required":false,"example":"slb.s1.small"}},{"name":"ChargeType","in":"formData","schema":{"description":"CLB付费类型。取值：\n\n- `PayOnDemand`：按量付费类型。\n\n- `PrePay`：包年包月类型。","type":"string","required":false,"example":"PrePay"}},{"name":"Period","in":"formData","schema":{"description":"`ChargeType`为`PrePay`时生效。表示购买包年包月类型的CLB时，购买的月份。如果为1年，则输入12。","type":"integer","format":"int32","required":false,"example":"3"}},{"name":"AutoRenew","in":"formData","schema":{"description":"CLB为包年包月类型时，是否自动续费。取值：\n\n- `true`：自动续费。\n\n- `false`：不自动续费。","type":"boolean","required":false,"example":"true"}},{"name":"AutoRenewPeriod","in":"formData","schema":{"description":"`ChargeType`为`PrePay`时生效。表示购买包年包月类型的CLB时，自动续费的时间。如果为购买时间小于1年，此参数表示自动续费多少个月；如果购买时长超过1年，此参数表示自动续费多少年。","type":"integer","format":"int32","required":false,"example":"3"}},{"name":"ClusterSpec","in":"formData","schema":{"description":"服务网格实例规格，取值：\n\n- `standard`：标准版。\n\n- `enterprise`：企业版。\n\n- `ultimate`：旗舰版。","type":"string","required":false,"example":"standard"}},{"name":"MultiBufferEnabled","in":"formData","schema":{"description":"是否启用基于MultiBuffer的TLS性能优化。取值：\n\n- `true`：开启。\n\n- `false`：不开启。\n\n默认值：`true`。","type":"boolean","required":false,"example":"true"}},{"name":"MultiBufferPollDelay","in":"formData","schema":{"description":"MultiBuffer开启状态同步时间。默认`30s`。","type":"string","required":false,"example":"30s"}},{"name":"UseExistingCA","in":"formData","schema":{"description":"使用已有的CA证书和私钥。","type":"boolean","required":false,"example":"false"}},{"name":"ExistingCaCert","in":"formData","schema":{"description":"CA证书（Base64 Encode格式），该参数一般用于自建Istio迁移ASM的场景下，对应自建Istio集群的istio-system命名空间下名称为istio-ca-secret的secret的ca-cert.pem文件内容。","type":"string","deprecated":false,"required":false,"docRequired":false,"example":"ca cert内容，base64编码格式"}},{"name":"ExistingCaKey","in":"formData","schema":{"description":"CA Key（Base64 Encode格式）。该参数一般用于自建Istio迁移ASM的场景下，对应自建Istio集群的istio-system命名空间下名称为istio-ca-secret的secret的ca-key.pem文件内容。","type":"string","deprecated":false,"required":false,"example":"ca key内容，base64编码格式"}},{"name":"ExistingCaType","in":"formData","schema":{"description":"已有的证书类型： \n\n- 1：Istiod自签证书。对应istio-system命名空间下名称为istio-ca-secret的secret。若使用该类型，还需要提供`ExistingCaCert` 和`ExsitingCaKey`两个参数。\n\n- 2：Istiod外部证书。详情请参见[plugin ca cert](https://istio.io/latest/docs/tasks/security/cert-management/plugin-ca-cert/)。一般对应为istio-system命名空间下名称为cacerts的secret。 若使用该类型，还需要提供`ExisingRootCaCert`和`ExisingRootCaKey`两个参数。","type":"string","deprecated":true,"required":false,"example":"1"}},{"name":"ExistingRootCaCert","in":"formData","schema":{"description":"已有的根证书。","type":"string","deprecated":false,"required":false,"example":"根证书内容，base64 编码格式"}},{"name":"ExistingRootCaKey","in":"formData","schema":{"description":"已有的根证书对应的私钥。","type":"string","deprecated":true,"required":false,"example":"root key的内容，base64编码格式"}},{"name":"CertChain","in":"formData","schema":{"description":"从CaCert到RootCert的证书链，至少包含两个证书。","type":"string","required":false,"example":"base64编码的PEM证书链。"}},{"name":"GuestCluster","in":"formData","schema":{"description":"创建网格时可以选择一个集群加入网格，为空时不会添加集群。该集群需要和网格在同一个VPC的同一个VSwitch中，且集群域名相同。","type":"string","required":false,"example":"ACK集群id"}},{"name":"Tag","in":"query","style":"flat","schema":{"description":"给服务网格实例打tag标签。包含以下信息：\n\n- key：标签名称。\n\n- value：标签值。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"标签名称。","type":"string","required":false,"example":"env"},"Value":{"description":"标签值。","type":"string","required":false,"example":"prod"}},"required":false},"required":false}},{"name":"EnableAmbient","in":"formData","schema":{"description":"是否为服务网格实例启用Ambient Mesh模式。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"BD65C0AD-D3C6-48D3-8D93-38D2015C****"},"ServiceMeshId":{"description":"服务网格ID。","type":"string","example":"c08ba3fd1e6484b0f8cc1ad8fe10d****"}}}}},"errorCodes":{"404":[{"errorCode":"ERR404","errorMessage":"Not found"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BD65C0AD-D3C6-48D3-8D93-38D2015C****\\\",\\n  \\\"ServiceMeshId\\\": \\\"c08ba3fd1e6484b0f8cc1ad8fe10d****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateServiceMeshResponse>\\n    <RequestId>BD65C0AD-D3C6-48D3-8D93-38D2015C****</RequestId>\\n    <ServiceMeshId>c08ba3fd1e6484b0f8cc1ad8fe10d****</ServiceMeshId>\\n</CreateServiceMeshResponse>\",\"errorExample\":\"\"}]","title":"创建一个服务网格实例","summary":"调用CreateServiceMesh创建一个服务网格实例。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}