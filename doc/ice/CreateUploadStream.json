{"summary":"获取媒体流上传地址和凭证。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"MediaId","in":"query","schema":{"description":"媒资ID。","type":"string","required":false,"example":"****20b48fb04483915d4f2cd8ac****"}},{"name":"Definition","in":"query","schema":{"description":"视频流清晰度定义。取值：\n- FD：流畅。\n- LD：标清。\n- SD：高清。\n- HD：超清\n- OD：原画。\n- 2K：2K。\n- 4K：4K。\n- SQ：普通音质。\n- HQ：高音质。","type":"string","required":false,"example":"HD"}},{"name":"FileExtension","in":"query","schema":{"description":"媒体文件扩展名。","type":"string","required":false,"example":"MP4"}},{"name":"HDRType","in":"query","schema":{"description":"转码流HDR类型。取值：\n- HDR\n- HDR10\n- HLG\n- DolbyVision\n- HDRVivid\n- SDR+\n> - 大小写不敏感。\n> - 非HDR视频该参数为空即可。\n\n","type":"string","required":false,"example":"HDR10"}},{"name":"UserData","in":"query","schema":{"description":"用户自定义参数。","type":"string","required":false,"example":"{\"MessageCallback\":{\"CallbackURL\":\"http://aliyundoc.com\"}, \"Extend\":{\"localId\":\"xxx\",\"test\":\"www\"}}"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"******11-DB8D-4A9A-875B-275798******"},"MediaId":{"description":"媒资ID。","type":"string","example":"****c469e944b5a856828dc2****"},"FileURL":{"description":"文件OSS地址（不带鉴权）。","type":"string","example":"http://outin-***.oss-cn-shanghai.aliyuncs.com/stream/48555e8b-181dd5a8c07/48555e8b-181dd5a8c07.mp4"},"UploadAddress":{"description":"上传地址。\n\n> 接口返回的上传地址是Base64加密后的值。调用SDK或API完成媒资上传时需要对其进行Base64解码后再使用。仅OSS原生SDK或OSS API方式上传需要自行解析UploadAddress。","type":"string","example":"eyJTZWN1cml0a2VuIjoiQ0FJU3p3TjF****"},"UploadAuth":{"description":"上传凭证。\n> 接口返回的上传凭证是Base64加密后的值。调用SDK或API完成媒资上传时需要对其进行Base64解码后再使用。仅OSS原生SDK或OSS API方式上传需要自行解析UploadAuth。","type":"string","example":"eyJFbmRwb2ludCI6Imm****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"******11-DB8D-4A9A-875B-275798******\\\",\\n  \\\"MediaId\\\": \\\"****c469e944b5a856828dc2****\\\",\\n  \\\"FileURL\\\": \\\"http://outin-***.oss-cn-shanghai.aliyuncs.com/stream/48555e8b-181dd5a8c07/48555e8b-181dd5a8c07.mp4\\\",\\n  \\\"UploadAddress\\\": \\\"eyJTZWN1cml0a2VuIjoiQ0FJU3p3TjF****\\\",\\n  \\\"UploadAuth\\\": \\\"eyJFbmRwb2ludCI6Imm****\\\"\\n}\",\"type\":\"json\"}]","title":"获取媒体流上传地址和凭证","description":"- 本接口用于本地上传媒体流，上传完成之后会将该媒体流挂载到指定的MediaId下。\n- 本接口仅支持上传至VOD点播存储，不支持上传至用户自有OSS存储。使用自有OSS存储的用户，可以先通过[OSS SDK](https://help.aliyun.com/document_detail/52834.html?spm=a2c4g.31815.0.0.3bc2796cc4Aouh)上传文件至OSS，再调用[RegisterMediaStream](https://help.aliyun.com/document_detail/440765.html?spm=a2c4g.441152.0.0.7fc85000aXcFYD)接口将媒体流挂载到指定媒资。\n- 本接口目前仅支持华东2（上海）、华北2（北京）、华南1（深圳）地域。"}