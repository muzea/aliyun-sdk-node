{"summary":"发起一个注册媒资的任务，赋予新媒资一个IMS的mediaId。接口根据InputURL，异步调用其他媒资信息服务，获取媒资的文件信息。同时用户可以设置一些基本信息的值，如标题、标签、描述等。接口同步返回mediaId，用户可以调用获取媒资内容信息GetMediaInfo的接口，获取具体的媒资信息。当前仅支持InputURL为OSS文件或VOD媒资。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"6889","abilityTreeNodes":["FEATUREiceFEJXOS"]},"parameters":[{"name":"InputURL","in":"query","schema":{"title":"媒资媒体url","description":"待注册的媒资在相应系统中的地址，一经注册不可更改，并与IMS的mediaId绑定。\n\n- OSS地址，支持两种格式。\n\nhttp(s)://example-bucket.oss-cn-shanghai.aliyuncs.com/example.mp4\n\noss://example-bucket/example.mp4 （此格式默认oss region与服务接入区域一致）\n\n- VOD媒资\n\nvod://\\*\\*\\*20b48fb04483915d4f2cd8ac****","type":"string","required":true,"example":"http://example-bucket.oss-cn-shanghai.aliyuncs.com/example.mp4  或  vod://****20b48fb04483915d4f2cd8ac****"}},{"name":"MediaType","in":"query","schema":{"title":"媒资媒体类型","description":"媒资媒体类型。取值范围：\n\n- \"image\" 图片\n\n- \"video\" 视频\n\n- \"audio\" 音频\n\n- \"text\" 文字\n\n此字段建议用户按需填写。当InputURL字段是OSS URL时，也支持按照文件后缀自动判断媒资类型（仅限图片、视频、音频文件后缀），对应关系见[文件格式](https://help.aliyun.com/document_detail/466207.html)。","type":"string","required":false,"example":"video"}},{"name":"BusinessType","in":"query","schema":{"title":"媒资业务类型","description":"媒资业务类型。取值范围：\n\n- \"subtitles\" 字幕\n\n- \"watermark\" 水印\n\n- \"opening\" 片头/开场\n\n- \"ending\" 片尾\n\n- \"general\" 通用","type":"string","required":false,"example":"opening"}},{"name":"Title","in":"query","schema":{"title":"标题","description":"标题，若不提供，根据日期自动生成默认title。\n\n- 长度不超过128字节。\n\n- UTF8编码。","type":"string","required":false,"example":"defaultTitle"}},{"name":"Description","in":"query","schema":{"title":"描述","description":"内容描述。\n\n- 长度不超过1024字节\n\n- UTF8编码。","type":"string","required":false,"example":"defaultDescription"}},{"name":"MediaTags","in":"query","schema":{"title":"标签,如果有多个标签用逗号隔开","description":"标签。\n\n- 最多不超过16个标签。\n\n- 多个用逗号分隔。\n\n- 单个标签不超过32字节。\n\n- UTF8编码。","type":"string","required":false,"example":"tag1,tag2"}},{"name":"CoverURL","in":"query","schema":{"title":"封面图，仅视频媒资有效","description":"封面地址。\n\n- 长度不超过128字节。\n\n- UTF8编码。","type":"string","required":false,"example":"http://example-bucket.oss-cn-shanghai.aliyuncs.com/example.png"}},{"name":"UserData","in":"query","schema":{"title":"用户数据，最大1024字节","description":"用户数据。支持自定义回调地址配置，配置说明可参考[配置剪辑完成时的回调](https://help.aliyun.com/document_detail/451631.html)\n\n- 长度不超过1024字节。\n\n- UTF8编码。\n\n- Json 格式","type":"string","required":false,"example":"{\"NotifyAddress\":\"http://xx.xx.xxx\"} 或{\"NotifyAddress\":\"https://xx.xx.xxx\"} 或{\"NotifyAddress\":\"ice-callback-demo\"}"}},{"name":"Overwrite","in":"query","schema":{"title":"是否覆盖已有媒资","description":"是否覆盖已注册媒资，默认false。\n\n-true，如果inputUrl已注册，删除原有媒资并注册新媒资；\n\n-false, 如果inputUrl已注册则不予注册新媒资，暂不支持重复的inputUrl。","type":"boolean","required":false,"example":"true"}},{"name":"ClientToken","in":"query","schema":{"title":"客户端token","description":"客户端token，32位UUID，保证请求幂等性。","type":"string","required":false,"example":"****0311a423d11a5f7dee713535****"}},{"name":"RegisterConfig","in":"query","schema":{"title":"注册媒资的配置","description":"注册配置。\n\n默认为媒资生成雪碧图，如不需要可以手动设置NeedSprite字段为false。\n\n默认生成截图，如不需要可以手动设置NeedSnapshot字段为false。","type":"string","required":false,"example":"{\n      \"NeedSprite\": \"false\"\n}"}},{"name":"CateId","in":"query","schema":{"description":"分类ID。","type":"integer","format":"int64","required":false,"example":"3048"}},{"name":"WorkflowId","in":"query","schema":{"description":"工作流ID","type":"string","required":false,"example":"******b4fb044839815d4f2cd8******"}},{"name":"ReferenceId","in":"query","schema":{"description":"自定义ID，仅支持小写字母、大写字母、数字、横线、下划线，长度6-64位。需保证用户维度唯一。","type":"string","required":false,"example":"123-123"}},{"name":"SmartTagTemplateId","in":"query","schema":{"description":"智能标签模板。取值：\n- S00000101-300080：包含NLP内容理解功能的系统模板\n\n配置该字段后，媒资注册完成会自动发起智能标签分析任务，相关计费项请参考 [智能标签标准版计费](https://help.aliyun.com/zh/ims/media-ai-billing?spm=a2c4g.11186623.0.0.3147392dWwlSjL#p-k38-3rb-dug)。","type":"string","required":false,"example":"S00000101-300080"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"请求ID","description":"请求ID。","type":"string","example":"******5A-CAAC-4850-A3AF-B74606******"},"MediaId":{"title":"ICE媒资ID","description":"IMS媒资ID。","type":"string","example":"******b48fb04483915d4f2cd8******"}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden","errorMessage":"User not authorized to operate on the specified resource."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"******5A-CAAC-4850-A3AF-B74606******\\\",\\n  \\\"MediaId\\\": \\\"******b48fb04483915d4f2cd8******\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RegisterMediaInfoResponse>\\n    <RequestId>******5A-CAAC-4850-A3AF-B74606******</RequestId>\\n    <MediaId>******b48fb04483915d4f2cd8******</MediaId>\\n</RegisterMediaInfoResponse>\",\"errorExample\":\"\"}]","title":"注册内容库资源","description":"注册媒资是一个异步任务，一般需要2-3s完成。当注册接口返回mediaId时，可能媒资还没有注册完成，此时调用GetMediaInfo无法获取到媒资的文件信息。"}