{"methods":["get","post"],"schemes":["https","http"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{},"parameters":[{"name":"Name","in":"query","schema":{"title":"任务名字","description":"任务名字。","type":"string","required":false,"example":"job-name"}},{"name":"Input","in":"query","style":"json","schema":{"title":"任务输入","description":"任务输入。","type":"object","properties":{"Type":{"title":"媒体对象类型。\n取值： \n- OSS: OSS文件。\n- Media: 媒资 ID。\n","description":"媒体对象类型。\n - OSS：OSS 文件, \n- Media：媒资 ID。","type":"string","required":true,"example":"OSS"},"Media":{"title":"媒体值：\n      type 为 OSS 时，为 URL, 支持 OSS 协议和 HTTP 协议；\n      type 为 Media 时，为媒资 ID。","description":"媒体值：\n- type 为 OSS 时，为 URL, 支持 OSS 协议和 HTTP 协议。\n> URL中的 OSS bucket 需要先添加到IMS[存储管理](~~440592~~)后再使用。\n\n- type 为 Media 时，为媒资 ID。","type":"string","required":true,"example":"oss://bucket/path/to/video.mp4"}},"required":true}},{"name":"UserData","in":"query","schema":{"title":"用户数据","description":"用户数据。","type":"string","required":false,"example":"user-data"}},{"name":"ScheduleConfig","in":"query","style":"json","schema":{"title":"调度参数","description":"调度参数。可不填。","type":"object","properties":{"PipelineId":{"title":"管道 ID。","description":"管道 ID。","type":"string","required":false,"example":"e37ebee5d98b4781897f6086e89f9c56"},"Priority":{"title":"任务优先级。数字越大优先级越高，取值范围：1~10","description":"任务优先级。数字越大优先级越高，取值范围：1~10","type":"integer","format":"int32","required":false,"example":"5"}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"title":"请求 id","description":"请求 ID","type":"string","example":"31E30781-9495-5E2D-A84D-759B0A01E262"},"MediaInfoJob":{"title":"MediaInfoJobDTO","description":"MediaInfoJobDTO","type":"object","properties":{"Name":{"title":"任务名字。","description":"任务名字。","type":"string","example":"job-name"},"TriggerSource":{"title":"任务来源。 API: API, WorkFlow: 工作流, Console: 控制台","description":"任务来源。 API: API, WorkFlow: 工作流, Console: 控制台","type":"string","example":"API"},"JobId":{"title":"任务 ID。","description":"任务 ID。","type":"string","example":"ab4802364a2e49208c99efab82dfa8e8"},"Input":{"title":"任务输入。","description":"任务输入。","type":"object","properties":{"Type":{"title":"媒体对象类型。\n取值： \n- OSS: OSS文件。\n- Media: 媒资 ID。\n","description":"媒体对象类型。\n取值： \n- OSS: OSS文件。\n- Media: 媒资 ID。\n","type":"string","example":"OSS"},"Media":{"title":"媒体值：\n      type 为 OSS 时，为 URL, 支持 OSS 协议和 HTTP 协议；\n      type 为 Media 时，为媒资 ID。","description":"媒体值：\n      type 为 OSS 时，为 URL, 支持 OSS 协议和 HTTP 协议；\n      type 为 Media 时，为媒资 ID。","type":"string","example":"oss://bucket/path/to/video.mp4"}}},"Async":{"title":"是否异步处理。","description":"是否异步处理。","type":"boolean","example":"true"},"UserData":{"title":"用户数据。","description":"用户数据。","type":"string","example":"user-data"},"ScheduleConfig":{"title":"调度信息。","description":"调度信息。","type":"object","properties":{"PipelineId":{"title":"管道 ID。","description":"管道 ID。","type":"string","example":"e37ebee5d98b4781897f6086e89f9c56"},"Priority":{"title":"任务优先级。数字越大优先级越高，取值范围：1~10","description":"任务优先级。数字越大优先级越高，取值范围：1~10","type":"integer","format":"int32","example":"5"}}},"Status":{"title":"任务状态 - Init: 已提交, Success: 成功, Fail: 失败","description":"任务状态 - Init: 已提交, Success: 成功, Fail: 失败","type":"string","example":"Init"},"SubmitResultJson":{"title":"任务提交信息。","description":"任务提交信息。","type":"object","example":"{}"},"MediaInfoProperty":{"title":"媒体信息详情。","description":"媒体信息详情。","type":"object","properties":{"FileBasicInfo":{"title":"基础文件信息","description":"基础文件信息。","type":"object","properties":{"MediaId":{"title":"媒资 ID。","description":"媒资ID","type":"string","example":"999e68259c924f52a6be603cbb3f91cc"},"FileName":{"title":"文件名。","description":"文件名。","type":"string","example":"file.m3u8"},"FileStatus":{"title":"文件状态。","description":"文件状态。 \n取值：\n- Normal","type":"string","example":"Normal"},"FileType":{"title":"文件类型。取值: source_file, transcode_file","description":"文件类型。","type":"string","example":"source_file"},"FileSize":{"title":"文件大小。单位：Byte。","description":"文件大小。单位：Byte。","type":"string","example":"31737"},"FileUrl":{"title":"文件 URL。","description":"文件 URL。","type":"string","example":"http://bucket.oss-cn-shanghai.aliyuncs.com/path/to/file.m3u8"},"Region":{"title":"文件所在区域。","description":"文件所在区域。","type":"string","example":"cn-shanghai"},"FormatName":{"title":"视频格式名称。","description":"视频格式名称。","type":"string","example":"hls,applehttp"},"Duration":{"title":"视频时长（单位: 秒）。","description":"视频时长（单位：秒）。","type":"string","example":"403.039999"},"Bitrate":{"title":"视频码率。","description":"视频码率。","type":"string","example":"888.563"},"Width":{"title":"宽。","description":"宽。","type":"string","example":"848"},"Height":{"title":"高。","description":"高。","type":"string","example":"478"}}},"AudioStreamInfoList":{"title":"音频流信息","description":"音频流信息。","type":"array","items":{"description":"音频流信息。","type":"object","properties":{"Index":{"title":"流序号。","description":"流序号。","type":"string","example":"1"},"CodecName":{"title":"编码格式。","description":"编码格式。","type":"string","example":"aac"},"CodecLongName":{"title":"编码格式名。","description":"编码格式名。","type":"string","example":"AAC (Advanced Audio Coding)"},"CodecTimeBase":{"title":"编码器时间基。","description":"编码器时间基。","type":"string","example":"1/44100"},"CodecTagString":{"title":"编码器标签名。","description":"编码器标签名。","type":"string","example":"[15][0][0][0]"},"CodecTag":{"title":"编码器标签。","description":"编码器标签。","type":"string","example":"0x000f"},"SampleFmt":{"title":"采样格式。","description":"采样格式。","type":"string","example":"fltp"},"SampleRate":{"title":"采样率（单位: Hz）。","description":"采样率（单位：Hz）。","type":"string","example":"44100"},"Channels":{"title":"声道数。","description":"声道数。","type":"string","example":"2"},"ChannelLayout":{"title":"声道布局。","description":"声道布局。","type":"string","example":"stereo"},"Timebase":{"title":"时间基。","description":"时间基。","type":"string","example":"1/90000"},"StartTime":{"title":"开始时间。","description":"开始时间。","type":"string","example":"1.473556"},"Duration":{"title":"时长（单位: 秒）。","description":"时长。","type":"string","example":"403.039989"},"Bitrate":{"title":"码率。","description":"码率。","type":"string","example":"0.f"},"Lang":{"title":"语言。","description":"语言。","type":"string","example":"us"}}}},"VideoStreamInfoList":{"title":"视频流信息","description":"视频流信息。","type":"array","items":{"description":"视频流信息。","type":"object","properties":{"Index":{"title":"流序号。","description":"流序号。","type":"string","example":"0"},"Codec_name":{"title":"编码格式。","description":"编码格式。","type":"string","example":"h264"},"Codec_long_name":{"title":"编码格式名。","description":"编码格式名。","type":"string","example":"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10"},"Profile":{"title":"编码器预设。","description":"编码器预设。","type":"string","example":"High"},"Codec_time_base":{"description":"编码时基。","type":"string","example":"1/50"},"Codec_tag_string":{"title":"编码格式标记文本。","description":"编码格式标记文本。","type":"string","example":"[27][0][0][0]"},"Codec_tag":{"title":"编码格式标记。","description":"编码格式标记。","type":"string","example":"0x001b"},"Width":{"title":"宽。","description":"宽。","type":"string","example":"848"},"Height":{"title":"高。","description":"高。","type":"string","example":"478"},"Has_b_frames":{"title":"是否有B帧。\n取值: \n- 0: 没有 B 帧, \n- 1: 有一个 B 帧, \n- 2: 有多个连续 B 帧。","description":"是否有B帧。\n取值：\n- 0：没有 B 帧, \n- 1：有一个 B 帧, \n- 2：有多个连续 B 帧。","type":"string","example":"2"},"Sar":{"title":"采集点数宽高比。","description":"采集点数宽高比。","type":"string","example":"478:477"},"Dar":{"title":"图像显示宽高比。","description":"图像显示宽高比。","type":"string","example":"16:9"},"PixFmt":{"title":"颜色存储格式。","description":"颜色存储格式。","type":"string","example":"yuv420p"},"Level":{"title":"编码等级。","description":"编码等级。","type":"string","example":"31"},"Fps":{"title":"帧率。","description":"帧率。","type":"string","example":"25.0"},"Avg_fps":{"title":"平均帧率。","description":"平均帧率。","type":"string","example":"25.0"},"Time_base":{"title":"时基。","description":"时基。","type":"string","example":"1/90000"},"Start_time":{"title":"起始时间。","description":"起始时间。","type":"string","example":"1.473556"},"Duration":{"title":"时长（单位: 秒）。","description":"时长。","type":"string","example":"403.039989"},"Bit_rate":{"title":"码率。","description":"码率。","type":"string","example":"888.563"},"NumFrames":{"title":"总帧数。","description":"总帧数。","type":"string","example":"10040"},"Lang":{"title":"语言。","description":"语言。","type":"string","example":"zh"},"Rotate":{"title":"视频画面旋转角度。\n取值 0, 90, 180, 270。\n默认值 0","description":"视频画面旋转角度。","type":"string","example":"0"}}}}}},"SubmitTime":{"title":"任务提交时间。格式为: yyyy-MM-ddTHH:mm:ssZ 。","description":"任务提交时间。格式为: yyyy-MM-ddTHH:mm:ssZ 。","type":"string","example":"2022-01-12T08:49:41Z"},"FinishTime":{"title":"任务完成时间。格式为: yyyy-MM-ddTHH:mm:ssZ 。","description":"任务完成时间。格式为: yyyy-MM-ddTHH:mm:ssZ 。","type":"string","example":"2022-01-12T08:49:41Z"},"RequestId":{"title":"请求 ID。","description":"请求 ID。","type":"string","example":"4879B9DE-E4B6-19DC-91F5-9D5F4DCE4168"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"31E30781-9495-5E2D-A84D-759B0A01E262\\\",\\n  \\\"MediaInfoJob\\\": {\\n    \\\"Name\\\": \\\"job-name\\\",\\n    \\\"TriggerSource\\\": \\\"API\\\",\\n    \\\"JobId\\\": \\\"ab4802364a2e49208c99efab82dfa8e8\\\",\\n    \\\"Input\\\": {\\n      \\\"Type\\\": \\\"OSS\\\",\\n      \\\"Media\\\": \\\"oss://bucket/path/to/video.mp4\\\"\\n    },\\n    \\\"Async\\\": true,\\n    \\\"UserData\\\": \\\"user-data\\\",\\n    \\\"ScheduleConfig\\\": {\\n      \\\"PipelineId\\\": \\\"e37ebee5d98b4781897f6086e89f9c56\\\",\\n      \\\"Priority\\\": 5\\n    },\\n    \\\"Status\\\": \\\"Init\\\",\\n    \\\"SubmitResultJson\\\": {},\\n    \\\"MediaInfoProperty\\\": {\\n      \\\"FileBasicInfo\\\": {\\n        \\\"MediaId\\\": \\\"999e68259c924f52a6be603cbb3f91cc\\\",\\n        \\\"FileName\\\": \\\"file.m3u8\\\",\\n        \\\"FileStatus\\\": \\\"Normal\\\",\\n        \\\"FileType\\\": \\\"source_file\\\",\\n        \\\"FileSize\\\": \\\"31737\\\",\\n        \\\"FileUrl\\\": \\\"http://bucket.oss-cn-shanghai.aliyuncs.com/path/to/file.m3u8\\\",\\n        \\\"Region\\\": \\\"cn-shanghai\\\",\\n        \\\"FormatName\\\": \\\"hls,applehttp\\\",\\n        \\\"Duration\\\": \\\"403.039999\\\",\\n        \\\"Bitrate\\\": \\\"888.563\\\",\\n        \\\"Width\\\": \\\"848\\\",\\n        \\\"Height\\\": \\\"478\\\"\\n      },\\n      \\\"AudioStreamInfoList\\\": [\\n        {\\n          \\\"Index\\\": \\\"1\\\",\\n          \\\"CodecName\\\": \\\"aac\\\",\\n          \\\"CodecLongName\\\": \\\"AAC (Advanced Audio Coding)\\\",\\n          \\\"CodecTimeBase\\\": \\\"1/44100\\\",\\n          \\\"CodecTagString\\\": \\\"[15][0][0][0]\\\",\\n          \\\"CodecTag\\\": \\\"0x000f\\\",\\n          \\\"SampleFmt\\\": \\\"fltp\\\",\\n          \\\"SampleRate\\\": \\\"44100\\\",\\n          \\\"Channels\\\": \\\"2\\\",\\n          \\\"ChannelLayout\\\": \\\"stereo\\\",\\n          \\\"Timebase\\\": \\\"1/90000\\\",\\n          \\\"StartTime\\\": \\\"1.473556\\\",\\n          \\\"Duration\\\": \\\"403.039989\\\",\\n          \\\"Bitrate\\\": \\\"0.f\\\",\\n          \\\"Lang\\\": \\\"us\\\"\\n        }\\n      ],\\n      \\\"VideoStreamInfoList\\\": [\\n        {\\n          \\\"Index\\\": \\\"0\\\",\\n          \\\"Codec_name\\\": \\\"h264\\\",\\n          \\\"Codec_long_name\\\": \\\"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\\\",\\n          \\\"Profile\\\": \\\"High\\\",\\n          \\\"Codec_time_base\\\": \\\"1/50\\\",\\n          \\\"Codec_tag_string\\\": \\\"[27][0][0][0]\\\",\\n          \\\"Codec_tag\\\": \\\"0x001b\\\",\\n          \\\"Width\\\": \\\"848\\\",\\n          \\\"Height\\\": \\\"478\\\",\\n          \\\"Has_b_frames\\\": \\\"2\\\",\\n          \\\"Sar\\\": \\\"478:477\\\",\\n          \\\"Dar\\\": \\\"16:9\\\",\\n          \\\"PixFmt\\\": \\\"yuv420p\\\",\\n          \\\"Level\\\": \\\"31\\\",\\n          \\\"Fps\\\": \\\"25.0\\\",\\n          \\\"Avg_fps\\\": \\\"25.0\\\",\\n          \\\"Time_base\\\": \\\"1/90000\\\",\\n          \\\"Start_time\\\": \\\"1.473556\\\",\\n          \\\"Duration\\\": \\\"403.039989\\\",\\n          \\\"Bit_rate\\\": \\\"888.563\\\",\\n          \\\"NumFrames\\\": \\\"10040\\\",\\n          \\\"Lang\\\": \\\"zh\\\",\\n          \\\"Rotate\\\": \\\"0\\\"\\n        }\\n      ]\\n    },\\n    \\\"SubmitTime\\\": \\\"2022-01-12T08:49:41Z\\\",\\n    \\\"FinishTime\\\": \\\"2022-01-12T08:49:41Z\\\",\\n    \\\"RequestId\\\": \\\"4879B9DE-E4B6-19DC-91F5-9D5F4DCE4168\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"提交同步媒体信息任务","summary":"调用SubmitSyncMediaInfoJob以同步模式提交媒体文件进行媒体信息分析。","description":"您可以调用本接口以同步模式对输入的文件进行媒体分析，适用于实时性要求较高且并发量较小的场景。\n如果遇到片源获取MediaInfo需要耗时比较久的情况，可能会因请求超时获取不到信息或者信息不准确，推荐通过[SubmitMediaInfoJob - 提交异步媒体信息任务](~~441222~~)接口获取媒体信息。"}