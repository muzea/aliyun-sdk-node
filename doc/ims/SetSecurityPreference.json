{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"EnableSaveMFATicket","in":"query","schema":{"description":"RAM用户使用多因素认证登录后，是否允许保存多因素认证的验证状态，其有效期为7天。取值：\n\n- true：允许。\n- false（默认值）：不允许。","type":"boolean","required":false,"example":"false"}},{"name":"AllowUserToChangePassword","in":"query","schema":{"description":"是否允许RAM用户自主管理密码。取值：\n\n- true（默认值）：允许。\n- false：不允许。","type":"boolean","required":false,"example":"true"}},{"name":"AllowUserToManageAccessKeys","in":"query","schema":{"description":"是否允许RAM用户自主管理访问密钥。取值：\n\n- true：允许。\n- false（默认值）：不允许。","type":"boolean","required":false,"example":"false"}},{"name":"AllowUserToManageMFADevices","in":"query","schema":{"description":"是否允许RAM用户自主管理多因素认证设备。取值：\n\n- true（默认值）：允许。\n- false：不允许。","type":"boolean","required":false,"example":"true"}},{"name":"LoginSessionDuration","in":"query","schema":{"description":"RAM用户登录有效期。\n\n取值范围：1~24。单位：小时。\n\n默认值：6。","type":"integer","format":"int32","required":false,"example":"6"}},{"name":"LoginNetworkMasks","in":"query","schema":{"description":"登录掩码。登录掩码决定哪些IP地址会受到登录控制台的影响，包括密码登录和单点登录（SSO），但使用访问密钥发起的API调用并不受影响。\n\n- 如果指定掩码，RAM用户只能从指定的IP地址进行登录。\n- 如果不指定任何掩码，登录控制台功能将适用于整个网络。\n\n当需要配置多个登录掩码时，请使用分号（;）来分隔，例如：192.168.0.0/16;10.0.0.0/8。\n\n最多配置40个登录掩码，总长度最大512个字符。","type":"string","required":false,"example":"10.0.0.0/8"}},{"name":"VerificationTypes","in":"query","style":"json","schema":{"description":"多因素认证的手段。","type":"array","items":{"description":"多因素认证的手段。取值：\n- sms：安全手机。\n- email：安全邮箱。","type":"string","required":false,"example":"[\"sms\", \"email\"]"},"required":false}},{"name":"AllowUserToManagePersonalDingTalk","in":"query","schema":{"description":"是否允许RAM用户自主管理个人钉钉的绑定与解绑。取值：\n\n- true（默认值）：允许。\n- false：不允许。","type":"boolean","required":false,"example":"true"}},{"name":"OperationForRiskLogin","in":"query","schema":{"description":"异常登录时是否二次验证MFA。取值：\n\n- autonomous（默认值）：可跳过，不强制绑定。\n- enforceVerify：强制绑定验证。","type":"string","required":false,"example":"autonomous"}},{"name":"MFAOperationForLogin","in":"query","schema":{"description":"登录时必须使用MFA（取代原EnforceMFAForLogin参数，原参数仍然有效，建议更新为新参数）。取值：\n\n- mandatory：强制所有RAM用户。原EnforceMFAForLogin对应取值为true。\n- independent（默认值）：依赖每个RAM用户的独立配置。原EnforceMFAForLogin对应取值为false。\n- adaptive：仅异常登录时使用。\n","type":"string","required":false,"example":"adaptive"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"SecurityPreference":{"description":"安全首选项信息。","type":"object","properties":{"AccessKeyPreference":{"description":"访问密钥首选项。","type":"object","properties":{"AllowUserToManageAccessKeys":{"description":"是否允许RAM用户自主管理访问密钥。","type":"boolean","example":"false"}}},"LoginProfilePreference":{"description":"登录首选项。","type":"object","properties":{"EnableSaveMFATicket":{"description":"RAM用户使用多因素认证登录后，是否允许保存多因素认证的验证状态，其有效期为7天。","type":"boolean","example":"false"},"LoginSessionDuration":{"description":"RAM用户登录有效期。","type":"integer","format":"int32","example":"6"},"LoginNetworkMasks":{"description":"登录掩码。","type":"string","example":"10.0.0.0/8"},"AllowUserToChangePassword":{"description":"是否允许RAM用户自主管理密码。","type":"boolean","example":"true"},"OperationForRiskLogin":{"description":"异常登录时是否二次验证MFA。","type":"string","example":"autonomous"},"MFAOperationForLogin":{"description":"登录时必须使用MFA（取代原EnforceMFAForLogin参数，原参数仍然有效，建议更新为新参数）。","type":"string","example":"adaptive"}}},"MFAPreference":{"description":"多因素认证首选项。","type":"object","properties":{"AllowUserToManageMFADevices":{"description":"是否允许RAM用户自主管理多因素认证设备。","type":"boolean","example":"false"}}},"VerificationPreference":{"description":"多因素认证手段的首选项。","type":"object","properties":{"VerificationTypes":{"description":"多因素认证的手段。","type":"array","items":{"description":"多因素认证的手段。","type":"string","example":"[\"sms\", \"email\"]"}}}},"PersonalInfoPreference":{"description":"个人信息首选项。","type":"object","properties":{"AllowUserToManagePersonalDingTalk":{"description":"是否允许RAM用户自主管理个人钉钉的绑定与解绑。","type":"boolean","example":"true"}}}}},"RequestId":{"description":"请求ID。","type":"string","example":"17494710-B4BA-4185-BBBB-C1A6ABDE1639"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SecurityPreference\\\": {\\n    \\\"AccessKeyPreference\\\": {\\n      \\\"AllowUserToManageAccessKeys\\\": false\\n    },\\n    \\\"LoginProfilePreference\\\": {\\n      \\\"EnableSaveMFATicket\\\": false,\\n      \\\"LoginSessionDuration\\\": 6,\\n      \\\"LoginNetworkMasks\\\": \\\"10.0.0.0/8\\\",\\n      \\\"AllowUserToChangePassword\\\": true,\\n      \\\"OperationForRiskLogin\\\": \\\"autonomous\\\",\\n      \\\"MFAOperationForLogin\\\": \\\"adaptive\\\"\\n    },\\n    \\\"MFAPreference\\\": {\\n      \\\"AllowUserToManageMFADevices\\\": false\\n    },\\n    \\\"VerificationPreference\\\": {\\n      \\\"VerificationTypes\\\": [\\n        \\\"[\\\\\\\"sms\\\\\\\", \\\\\\\"email\\\\\\\"]\\\"\\n      ]\\n    },\\n    \\\"PersonalInfoPreference\\\": {\\n      \\\"AllowUserToManagePersonalDingTalk\\\": true\\n    }\\n  },\\n  \\\"RequestId\\\": \\\"17494710-B4BA-4185-BBBB-C1A6ABDE1639\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SetSecurityPreferenceResponse>\\n    <SecurityPreference>\\n        <AccessKeyPreference>\\n            <AllowUserToManageAccessKeys>false</AllowUserToManageAccessKeys>\\n        </AccessKeyPreference>\\n        <LoginProfilePreference>\\n            <EnableSaveMFATicket>false</EnableSaveMFATicket>\\n            <LoginSessionDuration>6</LoginSessionDuration>\\n            <LoginNetworkMasks>10.0.0.0/8</LoginNetworkMasks>\\n            <AllowUserToChangePassword>true</AllowUserToChangePassword>\\n            <OperationForRiskLogin>autonomous</OperationForRiskLogin>\\n            <MFAOperationForLogin>adaptive</MFAOperationForLogin>\\n        </LoginProfilePreference>\\n        <MFAPreference>\\n            <AllowUserToManageMFADevices>false</AllowUserToManageMFADevices>\\n        </MFAPreference>\\n        <VerificationPreference>\\n            <VerificationTypes>[\\\"sms\\\", \\\"email\\\"]</VerificationTypes>\\n        </VerificationPreference>\\n        <PersonalInfoPreference>\\n            <AllowUserToManagePersonalDingTalk>true</AllowUserToManagePersonalDingTalk>\\n        </PersonalInfoPreference>\\n    </SecurityPreference>\\n    <RequestId>17494710-B4BA-4185-BBBB-C1A6ABDE1639</RequestId>\\n</SetSecurityPreferenceResponse>\",\"errorExample\":\"\"}]","title":"设置RAM用户的全局安全首选项","summary":"设置RAM用户的全局安全首选项信息。","description":"### 使用说明\n本文将提供一个示例，引导用户进行安全设置，实现在仅在RAM用户异常登录时要求进行多因素认证。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~187377~~)。","responseParamsDescription":" ","extraInfo":" "}