{"summary":"修改数据源部署信息","path":"/openapi/ha3/instances/{instanceId}/data-sources/{dataSourceName}/deploys/{deployName}","methods":["put"],"schemes":["https","http"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"instanceId","in":"path","schema":{"description":"实例ID","type":"string","required":true,"example":"ha-cn-pl32rf0****"}},{"name":"deployName","in":"path","schema":{"description":"机房","type":"string","required":true,"example":"vpc_hz_domain_1"}},{"name":"dataSourceName","in":"path","schema":{"description":"数据源名称","type":"string","required":true,"example":"ha-cn-pl32rf0****_test_api"}},{"name":"generationId","in":"query","schema":{"description":"索引全量版本","type":"integer","format":"int64","required":false,"example":"1708674867"}},{"name":"dryRun","in":"query","schema":{"description":"是否dryRun创建（仅校验数据源是否合法）。取值：-true 是 -false 否","type":"boolean","required":false,"example":"true","default":"false"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数","type":"object","properties":{"storage":{"description":"数据源信息","type":"object","properties":{"endpoint":{"title":"odps相关","description":"odps endpoint","type":"string","required":false,"example":"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api"},"accessKey":{"description":"odps数据源ak","type":"string","required":false,"example":"L***p"},"accessSecret":{"description":"odps数据源ak secret","type":"string","required":false,"example":"5**9a6"},"project":{"description":"odps数据源项目名称","type":"string","required":false,"example":"kubenest"},"partition":{"description":"分区信息","type":"string","required":false,"example":"ds=20220713"},"table":{"title":"saro、odps相关","description":"saro、odps相关","type":"string","required":false,"example":"item"},"namespace":{"title":"saro相关","description":"saro相关","type":"string","required":false,"example":"dp-dev"},"path":{"title":"hdfs相关","description":"hdfs相关","type":"string","required":false,"example":"/ude_jobs/iflow_offline_data_access"},"ossPath":{"title":"oss数据源相关","description":"oss数据源相关","type":"string","required":false,"example":"/opensearch"},"bucket":{"description":"Bucket名称。","type":"string","required":false,"example":"test-bucket"}},"required":false},"autoBuildIndex":{"title":"是否开启自动全量","description":"是否开启自动全量","type":"boolean","required":false,"example":"true"},"processor":{"description":"进程参数","type":"object","properties":{"args":{"title":"进程启动参数","description":"进程启动参数","type":"string","required":false,"example":"{\n\t\"processInfos\": [],\n\t\"groupId\": \"opensearch\",\n\t\"containerConfigs\": [],\n\t\"priority\": {\n\t\t\"minor_priority\": 0,\n\t\t\"major_priority\": 64\n\t}\n}"},"resource":{"title":"资源信息","description":"资源信息","type":"string","required":false,"example":"[{\n\t\"_bs_role\": \"processor.*.inc\",\n\t\"priority\": {\n\t\t\"major_priority\": 32,\n\t\t\"minor_priority\": 0\n\t},\n\t\"slotResources\": [{\n\t\t\"slotResources\": [{\n\t\t\t\"amount\": 200,\n\t\t\t\"name\": \"cpu\"\n\t\t}, {\n\t\t\t\"amount\": 8192,\n\t\t\t\"name\": \"mem\"\n\t\t}, {\n\t\t\t\"amount\": 0,\n\t\t\t\"name\": \"T4\"\n\t\t}, {\n\t\t\t\"amount\": 10,\n\t\t\t\"type\": \"SCALAR\",\n\t\t\t\"name\": \"disk_ratio_9999\"\n\t\t}, {\n\t\t\t\"amount\": 20480,\n\t\t\t\"type\": \"SCALAR\",\n\t\t\t\"name\": \"disk_size_9999\"\n\t\t}]\n\t}]\n}]"}},"required":false},"extend":{"description":"扩展信息。","type":"object","properties":{"saro":{"description":"saro数据源信息","type":"object","properties":{"path":{"description":"路径","type":"string","required":false,"example":"/"},"version":{"description":"版本号","type":"string","required":false,"example":"1"}},"required":false},"hdfs":{"description":"hdfs信息","type":"object","properties":{"path":{"description":"hdfs数据源路径。","type":"string","required":false,"example":"ymsh-service/src/main/java/cn/ymsh/util/jd"}},"required":false},"odps":{"description":"odps数据源信息","type":"object","properties":{"partitions":{"description":"数据源的分区信息","type":"object","required":false,"additionalProperties":{"type":"string","description":"数据源的分区信息","example":"ds=20230824"}}},"required":false},"oss":{"description":"oss信息","type":"object","properties":{"path":{"description":"oss数据源路径","type":"string","required":false,"example":"oss://test"}},"required":false}},"required":false},"swift":{"title":"增量swift信息","description":"增量swift信息","type":"object","properties":{"zk":{"description":"zk","type":"string","required":false,"example":"zk"},"topic":{"description":"topic","type":"string","required":false,"example":"ha-cn-pl32rf0****_test_api"}},"required":false}},"required":false}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"requestId":{"title":"id of request","description":"id of request","type":"string","example":"93A9E542-8CF8-5BA6-99AB-94C0FE520429"},"result":{"title":"Map","description":"Map","type":"object","example":"{}"}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"93A9E542-8CF8-5BA6-99AB-94C0FE520429\\\",\\n  \\\"result\\\": {}\\n}\",\"type\":\"json\"}]","title":"修改数据源部署信息"}