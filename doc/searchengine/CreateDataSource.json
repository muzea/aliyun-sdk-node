{"summary":"创建数据源。","path":"/openapi/ha3/instances/{instanceId}/data-sources","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"instanceId","in":"path","schema":{"description":"实例ID","type":"string","required":true,"example":"ha-cn-pl32rf0****"}},{"name":"dryRun","in":"query","schema":{"description":"是否dryRun创建（仅校验数据源是否合法）。取值：-true 是 -false 否","type":"boolean","required":false,"example":"true"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求结构。","type":"object","properties":{"name":{"title":"数据源名","description":"数据源名称","type":"string","required":false,"example":"ha-cn-pl32rf0****_test_api"},"type":{"title":"数据源类型 (odps, swift, saro, oss, unKnow)","description":"数据源类型：odps、oss、swift","type":"string","required":false,"example":"odps"},"domain":{"title":"离线部署","description":"数据源机房","type":"string","required":false,"example":"vpc_hz_domain_1"},"config":{"title":"odps 数据源配置","description":"配置信息","type":"object","properties":{"endpoint":{"title":"odps相关","description":"odps数据源的endpoint 或者 oss数据源的endpoint","type":"string","required":false,"example":"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api"},"accessKey":{"description":"odps数据源ak","type":"string","required":false,"example":"L***p"},"accessSecret":{"description":"odps数据源as","type":"string","required":false,"example":"5**9a6"},"project":{"description":"odps数据源项目名称","type":"string","required":false,"example":"kubenest"},"partition":{"description":"odps分区","type":"string","required":false,"example":"ds=20220713"},"table":{"title":"saro、odps相关","description":"odps表名称","type":"string","required":false,"example":"item"},"namespace":{"title":"saro相关","description":"命名空间","type":"string","required":false,"example":"aegis-ops"},"path":{"title":"hdfs相关","description":"hdfs文件路径","type":"string","required":false,"example":"test-hdfs-path\n"},"ossPath":{"title":"oss数据源相关","description":"oss文件路径","type":"string","required":false,"example":"/opensearch/search"},"bucket":{"description":"oss bucket","type":"string","required":false,"example":"opensearch"}},"required":false},"saroConfig":{"title":"saro数据源配置","description":"saro数据源配置","type":"object","properties":{"namespace":{"description":"saro数据源的namespace","type":"string","required":false,"example":"igraph-cn-x0r3e3abe02"},"tableName":{"description":"saro数据表名称","type":"string","required":false,"example":"index_hdfs"}},"required":false},"autoBuildIndex":{"title":"是否开启自动全量","description":"自动重建索引","type":"boolean","required":false,"example":"true"}},"required":false,"example":"{}"}}],"responses":{"200":{"schema":{"description":"Schema of Response","type":"object","properties":{"requestId":{"title":"id of request","description":"请求id","type":"string","example":"10D5E615-69F7-5F49-B850-00169ADE513C"},"result":{"title":"Map","description":"返回参数","type":"object","example":"{}"}}}},"5XX":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"10D5E615-69F7-5F49-B850-00169ADE513C\\\",\\n  \\\"result\\\": {}\\n}\",\"type\":\"json\"}]","title":"创建数据源","description":"## 方法\n`POST`\n\n## URI\n`/openapi/ha3/instances/{instanceId}/data-sources`","requestParamsDescription":"## 请求示例\n```\nPOST /openapi/ha3/instances/ha3_instances_id/data-sources\n\n{\n  \"name\": \"data_source_name\",\n  \"type\": \"odps\",\n  \"config\":{\n    \"accessKey\": \"xxx\",\n    \"accessSecret\": \"xxxs\",\n    \"project\":\"xxxx\",\n    \"table\":\"xxx\",\n    \"partition\":\"xxxx\"\n  },\n  \"autoBuildIndex\": true\n}\n```","responseParamsDescription":"## 返回示例\n### 正确返回\n```json\n{\n\t\"requestId\": \"0A6EB64B-B4C8-CF02-810F-E660812972FF\",\n    \"result\": []\n}\n```\n### 错误返回\n```\n{\n\t\"requestId\": \"0A6EB64B-B4C8-CF02-810F-E660812972FF\",\n    \"result\": {\n       \"success\": false,\n       \"data\": \"some error message\"\n  }\n}\n```\n详情可参考[响应结构](~~465311~~)"}