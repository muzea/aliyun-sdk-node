{"summary":"触发索引重建。","path":"/openapi/ha3/instances/{instanceId}/actions/build-index","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"instanceId","in":"path","schema":{"title":"实例ID","description":"实例ID","type":"string","required":true,"example":"ha-cn-pl32rf0****"}},{"name":"body","in":"body","style":"json","schema":{"description":"一个JSON格式的字符串，完整JSON字符串信息，具体内容参见以下详细信息。","type":"object","properties":{"dataSourceName":{"title":"数据源名","description":"数据源名称","type":"string","required":false,"example":"ha-cn-pl32rf0****_test_api"},"domain":{"title":"数据源部署","description":"数据源机房","type":"string","required":false,"example":"sz_vpc_domain_1"},"dataSourceType":{"title":"数据源类型 (odps: maxComputer, swift: swift, unKnow)","description":"数据源类型","type":"string","required":false,"example":"odps"},"partition":{"title":"数据源的可用分区","description":"数据源为odps时必填","type":"string","required":false,"example":"ds=20201010"},"dataTimeSec":{"title":"API推送数据源的数据时间","description":"int类型，秒级时间戳，数据源为API推送时必填","type":"integer","format":"int32","required":false,"example":"1640867288"},"buildMode":{"title":"索引重建方式 (API: API方式推送数据源, RECOVER_INDEX: 从索引中恢复数据源)","description":"重建index方式: api、indexRecover","type":"string","required":false,"example":"api"},"generation":{"title":"从索引中恢复数据源，dump表的generation","description":"历史回流ID","type":"integer","format":"int64","required":false,"example":"160131146"}},"required":false,"example":"{}"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"id of request","description":"请求ID","type":"string","example":"407BFD91-DE7D-50BA-8F88-CDE52A3B5E46"},"result":{"title":"集群列表","description":"集群列表","type":"object","example":"{}"}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"407BFD91-DE7D-50BA-8F88-CDE52A3B5E46\\\",\\n  \\\"result\\\": {}\\n}\",\"type\":\"json\"}]","title":"触发索引重建","description":"## 方法\n\n```\nPOST\n```\n\n## URI\n\n```\n/openapi/ha3/instances/{instanceId}/actions/build-index\n```\n","requestParamsDescription":"\n\n## 请求示例\n\n﻿\n\n```\nPOST /openapi/ha3/instances/ha3_instance_name/actions/build-index\n﻿\n```\n\n​\n﻿\n \n\n```\n {\n﻿\n    \"dataSourceName\": \"my_data_source\",\n﻿\n    \"domain\": \"test\", //数据源部署\n﻿\n    \"indexes\": [\n﻿\n      \"index1\",\n﻿\n      \"index2\"\n﻿\n    ],\n﻿\n    \"dataSourceType\": \"odps\", //odps 或swift，必填\n﻿\n    \"partition\": \"20201010\", //数据源为odps时必填\n﻿\n    \"dataTimeSec\": 1640867288 //int类型，秒级时间戳，数据源为api推送时必填\n﻿\n  }\n```\n\n﻿\n​\n﻿\n​\n﻿\n  \n\n```\n{\n﻿\n    \"dataSourceName\": \"my_data_source\",\n﻿\n    \"domain\": \"test\", //数据源部署\n﻿\n    \"indexes\": [\n﻿\n      \"index1\",\n﻿\n      \"index2\"\n﻿\n    ],\n﻿\n    \"dataSourceType\": \"swift\", //odps 或swift，必填\n﻿\n    \"partition\": \"20201010\", //数据源为odps时必填\n﻿\n    \"dataTimeSec\": 1640867288 //int类型，秒级时间戳，数据源为api推送时必填\n﻿\n  }\n```\n\n﻿\n​\n\n\n\n","responseParamsDescription":"## 返回示例\n\n正确返回\n﻿\n\n```\n{\n﻿\n  \"requestId\": \"0A6EB64B-B4C8-CF02-810F-E660812972FF\",\n﻿\n  \"result\": []\n﻿\n}\n```\n\n详情可参考[响应结构](~~464322~~)"}