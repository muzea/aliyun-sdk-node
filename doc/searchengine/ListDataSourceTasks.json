{"summary":"展示数据源任务。","path":"/openapi/ha3/instances/{instanceId}/data-source-tasks","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"instanceId","in":"path","schema":{"title":"实例ID","description":"实例ID","type":"string","required":true,"example":"ha-cn-pl32rf0****"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"id of request","description":"id of request","type":"string","example":"CC5EC8FA-5C0D-56AF-BEF4-6FCCEABD0511"},"result":{"title":"索引信息","description":"索引信息","type":"array","items":{"description":"数据搜索返回的结果。","type":"object","properties":{"groupType":{"title":"变更分组类型","description":"变更分组类型","type":"string","example":"Table_Update"},"fsmId":{"title":"fsmId","description":"fsmId","type":"string","example":"tisplus_opensearch@datasource_flow_fsm@1865410598556969-ha-cn-pl32rf0****_api2@bj_vpc_domain_1@null@MANUAL-ha-cn-pl32rf0****_api2@1649729867698@028315"},"name":{"title":"卡片的名字","description":"卡片的名字","type":"string","example":"ha-cn-pl32rf0****_qrs\n"},"time":{"title":"卡片的时间戳","description":"卡片的时间戳","type":"string","example":"1646279473"},"type":{"title":"卡片的类型","description":"卡片的类型","type":"string","example":"mra_table_config_trace_fsm\n"},"user":{"title":"触发生成fsm流程的用户","description":"触发生成fsm流程的用户","type":"string","example":"admin"},"status":{"title":"FSM整体状态","description":"FSM整体状态","type":"string","example":"onlyPublished"},"extraAttribute":{"title":"卡片的额外属性","description":"卡片的额外属性","type":"string","example":"{\n\t\"consoleVersion\": \"\",\n\t\"domain\": \"hz_pre_vpc_domain_1\",\n\t\"configType\": \"offline\"\n}"},"field3":{"title":"创建状态机时透传的field3字段","description":"创建状态机时透传的field3字段","type":"string","example":"{\n\t\"ha-cn-pl32rf0****_offline_adv\": 1,\n\t\"ha-cn-pl32rf0****_offline_plugin\": 1,\n\t\"ha-cn-pl32rf0****_table_ha-cn-35t3r02iq03_test_api\": 1,\n\t\"ha-cn-pl32rf0****@ha-cn-pl32rf0****_test_api@hz_pre_vpc_domain_1@test_api@index_config\": 1,\n\t\"ha-cn-pl32rf0****_offline_dict\": 1\n}\n"},"tags":{"title":"进度条的状态标签","description":"进度条的状态标签","type":"array","items":{"description":"数据源标签。","type":"object","properties":{"tagLevel":{"title":"展示tag的等级","description":"展示tag的等级","type":"string","example":"1"},"msg":{"title":"展示tag内容","description":"展示tag内容","type":"string","example":"test-tag"}}}},"taskNodes":{"title":"任务信息","description":"任务信息","type":"array","items":{"description":"任务节点信息","type":"object","properties":{"name":{"title":"任务名称","description":"任务名称","type":"string","example":"publish config version\n"},"index":{"title":"此任务的序号","description":"此任务的序号","type":"integer","format":"int64","example":"4"},"finishDate":{"title":"完成日期","description":"完成日期","type":"string","example":"2024-06-17 18:40:48\n"},"status":{"title":"任务状态","description":"任务状态","type":"string","example":"SUCCESS"}}}}}}}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"CC5EC8FA-5C0D-56AF-BEF4-6FCCEABD0511\\\",\\n  \\\"result\\\": [\\n    {\\n      \\\"groupType\\\": \\\"Table_Update\\\",\\n      \\\"fsmId\\\": \\\"tisplus_opensearch@datasource_flow_fsm@1865410598556969-ha-cn-pl32rf0****_api2@bj_vpc_domain_1@null@MANUAL-ha-cn-pl32rf0****_api2@1649729867698@028315\\\",\\n      \\\"name\\\": \\\"ha-cn-pl32rf0****_qrs\\\\n\\\",\\n      \\\"time\\\": \\\"1646279473\\\",\\n      \\\"type\\\": \\\"mra_table_config_trace_fsm\\\\n\\\",\\n      \\\"user\\\": \\\"admin\\\",\\n      \\\"status\\\": \\\"onlyPublished\\\",\\n      \\\"extraAttribute\\\": \\\"{\\\\n\\\\t\\\\\\\"consoleVersion\\\\\\\": \\\\\\\"\\\\\\\",\\\\n\\\\t\\\\\\\"domain\\\\\\\": \\\\\\\"hz_pre_vpc_domain_1\\\\\\\",\\\\n\\\\t\\\\\\\"configType\\\\\\\": \\\\\\\"offline\\\\\\\"\\\\n}\\\",\\n      \\\"field3\\\": \\\"{\\\\n\\\\t\\\\\\\"ha-cn-pl32rf0****_offline_adv\\\\\\\": 1,\\\\n\\\\t\\\\\\\"ha-cn-pl32rf0****_offline_plugin\\\\\\\": 1,\\\\n\\\\t\\\\\\\"ha-cn-pl32rf0****_table_ha-cn-35t3r02iq03_test_api\\\\\\\": 1,\\\\n\\\\t\\\\\\\"ha-cn-pl32rf0****@ha-cn-pl32rf0****_test_api@hz_pre_vpc_domain_1@test_api@index_config\\\\\\\": 1,\\\\n\\\\t\\\\\\\"ha-cn-pl32rf0****_offline_dict\\\\\\\": 1\\\\n}\\\\n\\\",\\n      \\\"tags\\\": [\\n        {\\n          \\\"tagLevel\\\": \\\"1\\\",\\n          \\\"msg\\\": \\\"test-tag\\\"\\n        }\\n      ],\\n      \\\"taskNodes\\\": [\\n        {\\n          \\\"name\\\": \\\"publish config version\\\\n\\\",\\n          \\\"index\\\": 4,\\n          \\\"finishDate\\\": \\\"2024-06-17 18:40:48\\\\n\\\",\\n          \\\"status\\\": \\\"SUCCESS\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"展示数据源任务","description":"### 方法\n\n```java\nGET\n```\n\n### URI\n\n```java\n/openapi/ha3/instances/{instanceId}/data-source-tasks\n```","requestParamsDescription":"### 请求示例\n\n```java\nGET /openapi/ha3/instances/{instanceId}/data-source-tasks\n```","responseParamsDescription":"\n### 返回示例\n\n正确返回\n\n```java\n{\n  \"requestId\": \"0A6EB64B-B4C8-CF02-810F-E660812972FF\",\n  \"result\": [\n    {\n      \"groupType\": \"table\",\n      \"fsmId\": \"tisplus_opensearch@create_online_deploy_fsm@opensearch_pre_standard_private_20211110_2@pre_domain_1@null@null@1637215469093@127746\",\n      \"name\": \"新增在线部署\",\n      \"taskNodes\": [\n        {\n          \"nodeInfo\": {\n            \"msg\": \"stopped clean fsm: []\",\n            \"name\": \"stop clean\",\n            \"index\": 0,\n            \"msg\":\"异常信息\",\n            \"finishDate\": \"2021-11-18 14:04:49\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"prepare\",\n            \"index\": 1,\n            \"finishDate\": \"2021-11-18 14:05:09\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"merger port\",\n            \"index\": 2,\n            \"finishDate\": \"2021-11-18 14:05:19\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"moss create\",\n            \"index\": 3,\n            \"finishDate\": \"2021-11-18 14:05:39\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"submit hippo\",\n            \"index\": 4,\n            \"finishDate\": \"2021-11-18 14:05:59\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"admin started\",\n            \"index\": 5,\n            \"finishDate\": \"2021-11-18 14:16:05\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"zone create\",\n            \"index\": 6,\n            \"finishDate\": \"2021-11-18 14:16:45\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"switch index\",\n            \"index\": 13,\n            \"finishDate\": \"2021-11-18 14:16:55\",\n            \"status\": \"SUCCESS\"\n          }\n        }\n      ],\n      \"time\": \"2021-11-18 14:04:29\",\n      \"type\": \"onlineGroup\",\n      \"user\": \"74087\",\n      \"status\": \"success\"\n    },\n    {\n      \"groupType\": \"table\",\n      \"fsmId\": \"tisplus_opensearch@delete_biz_fsm@multi_biz_opensearch-default@null@null@default@1631777272819@926304\",\n      \"name\": \"delete_biz_fsm\",\n      \"taskNodes\": [\n        {\n          \"nodeInfo\": {\n            \"msg\": \"stop biz create fsm success\",\n            \"name\": \"stop fsm\",\n            \"index\": 0,\n            \"finishDate\": \"2021-09-16 15:27:53\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"msg\": \"Ha3BizConfigResource [default] not exist\",\n            \"name\": \"delete moss\",\n            \"index\": 1,\n            \"finishDate\": \"2021-09-16 15:28:04\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"msg\": \"skip delete cause resource[name=default] not exist\",\n            \"name\": \"delete biz resource\",\n            \"index\": 2,\n            \"finishDate\": \"2021-09-16 15:28:14\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"msg\": \"skip check cause no InnerData.BizConfigResource is null\",\n            \"name\": \"check suez\",\n            \"index\": 3,\n            \"finishDate\": \"2021-09-16 15:28:24\",\n            \"status\": \"SUCCESS\"\n          }\n        },\n        {\n          \"nodeInfo\": {\n            \"name\": \"finished\",\n            \"index\": 4,\n            \"finishDate\": \"2021-09-16 15:28:24\",\n            \"status\": \"SUCCESS\"\n          }\n        }\n      ],\n      \"time\": \"2021-09-16 15:27:53\",\n      \"type\": \"delete_biz_fsm\",\n      \"user\": \"哈勃\",\n      \"status\": \"success\"\n    }\n  ]\n```\n"}