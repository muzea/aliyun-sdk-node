{"summary":"获取索引列表。","path":"/openapi/ha3/instances/{instanceId}/indexes","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"instanceId","in":"path","schema":{"description":"实例ID。","type":"string","required":true,"example":"ha-cn-2r42ost****"}},{"name":"newMode","in":"query","schema":{"description":"是否为新版本控制台页面。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"requestId":{"title":"id of request","description":"请求ID。","type":"string","example":"4FB0325E-8C37-5525-96AC-0333523170A3"},"result":{"title":"List","description":"索引详情列表。","type":"array","items":{"description":"索引详情列表。","type":"object","properties":{"name":{"title":"配置名称","description":"索引名称。","type":"string","example":"general"},"versions":{"title":"版本列表","description":"版本列表。","type":"array","items":{"description":"索引版本信息。","type":"object","properties":{"desc":{"title":"描述","description":"描述。","type":"string","example":"索引备注\n"},"files":{"title":"文件名列表","description":"文件名列表。","type":"array","items":{"description":"版本信息。","type":"object","properties":{"fullPathName":{"description":"全文检索后的目录名。","type":"string","example":"/qrs.json\n"},"isDir":{"description":"是否存在目录。","type":"boolean","example":"true"},"isTemplate":{"description":"是否是模板。","type":"boolean","example":"true"},"name":{"description":"文件名称。","type":"string","example":"qrs.json\n"}}}},"name":{"title":"版本名","description":"版本名。","type":"string","example":"test"},"status":{"title":"drafting、used、unused (drafting: 草稿, used: 线上使用,unused: 未使用, trash: 删除中)","description":"状态 \n\n- NEW：创建。\n- PUBLISH：正常。\n- IN_USE：使用中。\n- NOT_USE：未使用。\n- STOP_USE：停止使用中。\n- RESTORE_USE：恢复使用中。\n- FAIL：失败。","type":"string","example":"PUBLISH"},"updateTime":{"title":"更新时间","description":"更新时间","type":"integer","format":"int64","example":"2024-06-20 08:52:54"},"versionId":{"title":"版本id (edit版本为null)","description":"版本id (edit版本为null)","type":"integer","format":"int32","example":"1"}}}},"dataSource":{"title":"数据源","description":"数据源","type":"string","example":"ha-cn-pl32rf0****_test_api"},"domain":{"title":"数据源的部署名","description":"数据源的部署名","type":"string","example":"vpc_hz_domain_1"},"indexStatus":{"title":"表状态 (NEW, PUBLISH, IN_USE: 召回引擎版创建成功后为正常状态, NOT_USE, STOP_USE,RESTORE_USE)","description":"NEW, PUBLISH","type":"string","example":"PUBLISH"},"content":{"title":"文件内容","description":"schema JSON","type":"string","example":"{\"summarys\":{\"parameter\":{\"file_compressor\":\"zstd\"},\"summary_fields\":[\"id\"]},\"file_compress\":[{\"name\":\"file_compressor\",\"type\":\"zstd\"},{\"name\":\"no_compressor\",\"type\":\"\"}],\"indexs\":[{\"index_fields\":\"name\",\"index_name\":\"ids\",\"index_type\":\"STRING\"},{\"has_primary_key_attribute\":true,\"index_fields\":\"id\",\"is_primary_key_sorted\":false,\"index_name\":\"id\",\"index_type\":\"PRIMARYKEY64\"}],\"attributes\":[{\"file_compress\":\"no_compressor\",\"field_name\":\"id\"}],\"fields\":[{\"user_defined_param\":{},\"compress_type\":\"uniq\",\"field_type\":\"STRING\",\"field_name\":\"id\"},{\"compress_type\":\"uniq\",\"field_type\":\"STRING\",\"field_name\":\"name\"}],\"table_name\":\"api\"}"},"partition":{"title":"数据分片","description":"数据分片","type":"integer","format":"int32","example":"2"},"fullVersion":{"title":"数据版本","description":"全量版本  即：索引版本","type":"integer","format":"int64","example":"1688523414"},"fullUpdateTime":{"title":"全量切换时间","description":"全量切换时间","type":"string","example":"2023-07-05 10:40:38"},"incUpdateTime":{"title":"增量更新时间","description":"增量更新时间","type":"string","example":"2023-07-05 10:58:33"},"indexSize":{"title":"索引大小","description":"索引大小","type":"integer","format":"int64","example":"4689"},"description":{"title":"备注","description":"备注","type":"string","example":"备注"},"dataSourceInfo":{"title":"数据源相关信息","description":"数据源相关信息","type":"object","properties":{"processPartitionCount":{"title":"数据更新资源数","description":"数据更新资源数","type":"integer","format":"int32","example":"2"},"name":{"title":"数据源名","description":"数据源名","type":"string","example":"ha-cn-pl32rf0****_test_api"},"type":{"title":"数据源类型 (odps, swift, saro, oss, unKnow)","description":"数据源类型 (odps, swift, saro, oss, unKnow)","type":"string","example":"odps"},"domain":{"title":"离线部署","description":"离线部署","type":"string","example":"vpc_hz_domain_2"},"config":{"title":"odps 数据源配置","description":"odps 数据源配置","type":"object","properties":{"endpoint":{"title":"odps相关","description":"odps相关","type":"string","example":"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api"},"accessKey":{"description":"odps数据源ak","type":"string","example":"L***p"},"accessSecret":{"description":"odps数据源ak secret","type":"string","example":"5**9a6"},"project":{"description":"odps数据源项目名称","type":"string","example":"tisplus_dev"},"partition":{"description":"数据分片","type":"string","example":"ds=20231220"},"table":{"title":"saro、odps相关","description":"saro、odps相关","type":"string","example":"dump_odps_demo"},"namespace":{"title":"saro相关","description":"saro相关","type":"string","example":"TEST_dump_demo_sj_na61hunbu2_share_holo"},"path":{"title":"hdfs相关","description":"hdfs相关","type":"string","example":"http://test_opensearch/sift_oss_test.data"},"ossPath":{"title":"oss数据源相关","description":"oss数据源相关","type":"string","example":"/test_opensearch/sift_oss_test.data"},"bucket":{"description":"oss命名空间","type":"string","example":"ha3test-oss"}}},"saroConfig":{"title":"saro数据源配置","description":"saro数据源配置","type":"object","properties":{"namespace":{"description":"saro数据源的namespace","type":"string","example":"TEST_dump_demo_sj_na61hunbu2_share_holo"},"tableName":{"description":"saro数据表名称","type":"string","example":"dump_odps_demo"}}},"autoBuildIndex":{"title":"是否开启自动全量","description":"是否开启自动全量","type":"boolean","example":"true"}}}}}}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"4FB0325E-8C37-5525-96AC-0333523170A3\\\",\\n  \\\"result\\\": [\\n    {\\n      \\\"name\\\": \\\"general\\\",\\n      \\\"versions\\\": [\\n        {\\n          \\\"desc\\\": \\\"索引备注\\\\n\\\",\\n          \\\"files\\\": [\\n            {\\n              \\\"fullPathName\\\": \\\"/qrs.json\\\\n\\\",\\n              \\\"isDir\\\": true,\\n              \\\"isTemplate\\\": true,\\n              \\\"name\\\": \\\"qrs.json\\\\n\\\"\\n            }\\n          ],\\n          \\\"name\\\": \\\"test\\\",\\n          \\\"status\\\": \\\"PUBLISH\\\",\\n          \\\"updateTime\\\": 0,\\n          \\\"versionId\\\": 1\\n        }\\n      ],\\n      \\\"dataSource\\\": \\\"ha-cn-pl32rf0****_test_api\\\",\\n      \\\"domain\\\": \\\"vpc_hz_domain_1\\\",\\n      \\\"indexStatus\\\": \\\"PUBLISH\\\",\\n      \\\"content\\\": \\\"{\\\\\\\"summarys\\\\\\\":{\\\\\\\"parameter\\\\\\\":{\\\\\\\"file_compressor\\\\\\\":\\\\\\\"zstd\\\\\\\"},\\\\\\\"summary_fields\\\\\\\":[\\\\\\\"id\\\\\\\"]},\\\\\\\"file_compress\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"file_compressor\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"zstd\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"no_compressor\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"\\\\\\\"}],\\\\\\\"indexs\\\\\\\":[{\\\\\\\"index_fields\\\\\\\":\\\\\\\"name\\\\\\\",\\\\\\\"index_name\\\\\\\":\\\\\\\"ids\\\\\\\",\\\\\\\"index_type\\\\\\\":\\\\\\\"STRING\\\\\\\"},{\\\\\\\"has_primary_key_attribute\\\\\\\":true,\\\\\\\"index_fields\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"is_primary_key_sorted\\\\\\\":false,\\\\\\\"index_name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"index_type\\\\\\\":\\\\\\\"PRIMARYKEY64\\\\\\\"}],\\\\\\\"attributes\\\\\\\":[{\\\\\\\"file_compress\\\\\\\":\\\\\\\"no_compressor\\\\\\\",\\\\\\\"field_name\\\\\\\":\\\\\\\"id\\\\\\\"}],\\\\\\\"fields\\\\\\\":[{\\\\\\\"user_defined_param\\\\\\\":{},\\\\\\\"compress_type\\\\\\\":\\\\\\\"uniq\\\\\\\",\\\\\\\"field_type\\\\\\\":\\\\\\\"STRING\\\\\\\",\\\\\\\"field_name\\\\\\\":\\\\\\\"id\\\\\\\"},{\\\\\\\"compress_type\\\\\\\":\\\\\\\"uniq\\\\\\\",\\\\\\\"field_type\\\\\\\":\\\\\\\"STRING\\\\\\\",\\\\\\\"field_name\\\\\\\":\\\\\\\"name\\\\\\\"}],\\\\\\\"table_name\\\\\\\":\\\\\\\"api\\\\\\\"}\\\",\\n      \\\"partition\\\": 2,\\n      \\\"fullVersion\\\": 1688523414,\\n      \\\"fullUpdateTime\\\": \\\"2023-07-05 10:40:38\\\",\\n      \\\"incUpdateTime\\\": \\\"2023-07-05 10:58:33\\\",\\n      \\\"indexSize\\\": 4689,\\n      \\\"description\\\": \\\"备注\\\",\\n      \\\"dataSourceInfo\\\": {\\n        \\\"processPartitionCount\\\": 2,\\n        \\\"name\\\": \\\"ha-cn-pl32rf0****_test_api\\\",\\n        \\\"type\\\": \\\"odps\\\",\\n        \\\"domain\\\": \\\"vpc_hz_domain_2\\\",\\n        \\\"config\\\": {\\n          \\\"endpoint\\\": \\\"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api\\\",\\n          \\\"accessKey\\\": \\\"L***p\\\",\\n          \\\"accessSecret\\\": \\\"5**9a6\\\",\\n          \\\"project\\\": \\\"tisplus_dev\\\",\\n          \\\"partition\\\": \\\"ds=20231220\\\",\\n          \\\"table\\\": \\\"dump_odps_demo\\\",\\n          \\\"namespace\\\": \\\"TEST_dump_demo_sj_na61hunbu2_share_holo\\\",\\n          \\\"path\\\": \\\"http://test_opensearch/sift_oss_test.data\\\",\\n          \\\"ossPath\\\": \\\"/test_opensearch/sift_oss_test.data\\\",\\n          \\\"bucket\\\": \\\"ha3test-oss\\\"\\n        },\\n        \\\"saroConfig\\\": {\\n          \\\"namespace\\\": \\\"TEST_dump_demo_sj_na61hunbu2_share_holo\\\",\\n          \\\"tableName\\\": \\\"dump_odps_demo\\\"\\n        },\\n        \\\"autoBuildIndex\\\": true\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取索引列表","description":"## 方法\n\n```\nGET\n```\n\n## URI\n\n```\n/openapi/ha3/instances/{instanceId}/indexes?newMode={newMode}\n```","requestParamsDescription":"\n\n## 请求示例\n\n﻿\n\n```\nGET /openapi/ha3/instances/ose-test1/indexes\n```\n\n\n\n","responseParamsDescription":"## 返回示例\n\n正确返回\n﻿\n\n```\n{\n﻿\n  \"requestId\": \"38b079f1-7846-4226-8c90-3e2644b5c52b\",\n﻿\n  \"result\": [\n﻿\n    {\n﻿\n      \"name\": \"index1\",\n﻿\n      \"dataSource\": \"test_yyds_data1\",\n﻿\n    },\n﻿\n    {\n﻿\n      \"name\": \"index1\",\n﻿\n      \"dataSource\": \"test_yyds_data1\",\n﻿\n    }\n﻿\n  ]\n﻿\n}\n```"}