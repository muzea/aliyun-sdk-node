{"summary":"获取集群信息。","path":"/openapi/ha3/instances/{instanceId}/cluster-run-time-info","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"instanceId","in":"path","schema":{"title":"实例 ID","description":"实例 ID","type":"string","required":true,"example":"ha-cn-pl32rf0****\n"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求id。","type":"string","example":"E45380E8-994A-5402-9806-F114B3295FCF"},"result":{"title":"结果集","description":"结果集","type":"array","items":{"description":"集群运行时长信息。","type":"object","properties":{"clusterName":{"title":"集群名称","description":"集群名称","type":"string","example":"vpc_hz_domain_1"},"queryNode":{"title":"查询结点信息","description":"查询结点信息","type":"object","properties":{"serviceStatus":{"title":"服务状态","description":"服务状态","type":"object","properties":{"name":{"description":"集群名称","type":"string","example":"vpc_hz_domain_1\n"},"totalSize":{"title":"总大小","description":"总大小","type":"integer","format":"int32","example":"100"},"doneSize":{"title":"完成大小","description":"完成大小","type":"integer","format":"int32","example":"100"},"donePercent":{"title":"进度","description":"进度","type":"integer","format":"int32","example":"100"}}},"configStatusList":{"description":"配置状态列表。","type":"array","items":{"description":"配置状态列表。","type":"object","properties":{"configUpdateTime":{"description":"集群更新时间","type":"string","example":"2024-05-21 16:05:26"},"name":{"description":"集群名称","type":"string","example":"vpc_hz_domain_1\n"},"totalSize":{"description":"总大小","type":"integer","format":"int32","example":"6"},"doneSize":{"description":"完成大小","type":"integer","format":"int32","example":"100"},"donePercent":{"description":"进度","type":"integer","format":"int32","example":"100"}}}}}},"dataNodes":{"title":"数据结点信息","description":"数据结点信息","type":"array","items":{"description":"集群节点信息。","type":"object","properties":{"dataStatusList":{"description":"节点数据列表。","type":"array","items":{"description":"节点数据列表。","type":"object","properties":{"docSize":{"description":"存储容量 (单位:GB)","type":"integer","format":"int32","example":"2"},"fullVersion":{"description":"全量版本","type":"integer","format":"int64","example":"1718846192"},"incVersion":{"description":"增量版本","type":"integer","format":"int64","example":"1718846192"},"incUpdateTime":{"description":"增量更新时间","type":"string","example":"2024-05-21 16:05:26"},"fullUpdateTime":{"description":"全量更新时间","type":"string","example":"2024-05-21 16:05:26"},"indexConfigInfo":{"description":"索引配置","type":"object","properties":{"configMetaName":{"description":"索引配置名称","type":"string","example":"index_meta_name"},"version":{"description":"索引模板的版本。","type":"integer","format":"int64","example":"1.0.0"}}},"advanceConfigInfo":{"description":"高级配置信息","type":"object","properties":{"configMetaName":{"description":"索引配置名称","type":"string","example":"index_meta_name"},"version":{"description":"版本号。","type":"integer","format":"int64","example":"1.0"}}},"lackMemWorker":{"description":"因缺少内存而失败的worker的name","type":"array","items":{"description":"失败的worker的name","type":"string","example":"test-fail-worker\n"}},"deployFailedWorker":{"description":"因部署失败而失败的worker的name","type":"array","items":{"description":"失败的worker的name","type":"string","example":"test-fail-worker\n"}},"lackDiskWorker":{"description":"因缺少磁盘而失败的worker的name","type":"array","items":{"description":"失败的worker的name","type":"string","example":"test-fail-worker"}},"errorMsg":{"description":"错误信息。","type":"string","example":"0A3B1C48006A6C0905F6375F4821EB50"},"indexSize":{"description":"索引长度","type":"integer","format":"int64","example":"100"},"name":{"description":"节点名称","type":"string","example":"ha-cn-pl32rf0****_qrs"},"totalSize":{"description":"总大小","type":"integer","format":"int32","example":"1"},"doneSize":{"description":"完成大小","type":"integer","format":"int32","example":"100"},"donePercent":{"description":"总共完成的进度","type":"integer","format":"int32","example":"100"}}}},"serviceStatus":{"description":"服务状态。","type":"object","properties":{"name":{"description":"名称","type":"string","example":"ha-cn-pl32rf0****_qrs"},"totalSize":{"description":"集群总节点数","type":"integer","format":"int32","example":"100"},"doneSize":{"description":"集群处理中的节点数。","type":"integer","format":"int32","example":"100"},"donePercent":{"description":"总共完成进度","type":"integer","format":"int32","example":"100"}}},"configStatusList":{"description":"配置状态列表","type":"array","items":{"description":"响应体","type":"object","properties":{"configUpdateTime":{"description":"集群更新时间","type":"string","example":"2024-05-21 16:05:26"},"name":{"description":"集群名称","type":"string","example":"test_0704"},"totalSize":{"description":"总大小","type":"integer","format":"int32","example":"0"},"doneSize":{"description":"完成大小","type":"integer","format":"int32","example":"1"},"donePercent":{"description":"总共完成的进度","type":"integer","format":"int32","example":"100"}}}}}}}}}}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"E45380E8-994A-5402-9806-F114B3295FCF\\\",\\n  \\\"result\\\": [\\n    {\\n      \\\"clusterName\\\": \\\"vpc_hz_domain_1\\\",\\n      \\\"queryNode\\\": {\\n        \\\"serviceStatus\\\": {\\n          \\\"name\\\": \\\"vpc_hz_domain_1\\\\n\\\",\\n          \\\"totalSize\\\": 100,\\n          \\\"doneSize\\\": 100,\\n          \\\"donePercent\\\": 100\\n        },\\n        \\\"configStatusList\\\": [\\n          {\\n            \\\"configUpdateTime\\\": \\\"2024-05-21 16:05:26\\\",\\n            \\\"name\\\": \\\"vpc_hz_domain_1\\\\n\\\",\\n            \\\"totalSize\\\": 6,\\n            \\\"doneSize\\\": 100,\\n            \\\"donePercent\\\": 100\\n          }\\n        ]\\n      },\\n      \\\"dataNodes\\\": [\\n        {\\n          \\\"dataStatusList\\\": [\\n            {\\n              \\\"docSize\\\": 2,\\n              \\\"fullVersion\\\": 1718846192,\\n              \\\"incVersion\\\": 1718846192,\\n              \\\"incUpdateTime\\\": \\\"2024-05-21 16:05:26\\\",\\n              \\\"fullUpdateTime\\\": \\\"2024-05-21 16:05:26\\\",\\n              \\\"indexConfigInfo\\\": {\\n                \\\"configMetaName\\\": \\\"index_meta_name\\\",\\n                \\\"version\\\": 0\\n              },\\n              \\\"advanceConfigInfo\\\": {\\n                \\\"configMetaName\\\": \\\"index_meta_name\\\",\\n                \\\"version\\\": 1\\n              },\\n              \\\"lackMemWorker\\\": [\\n                \\\"test-fail-worker\\\\n\\\"\\n              ],\\n              \\\"deployFailedWorker\\\": [\\n                \\\"test-fail-worker\\\\n\\\"\\n              ],\\n              \\\"lackDiskWorker\\\": [\\n                \\\"test-fail-worker\\\"\\n              ],\\n              \\\"errorMsg\\\": \\\"0A3B1C48006A6C0905F6375F4821EB50\\\",\\n              \\\"indexSize\\\": 100,\\n              \\\"name\\\": \\\"ha-cn-pl32rf0****_qrs\\\",\\n              \\\"totalSize\\\": 1,\\n              \\\"doneSize\\\": 100,\\n              \\\"donePercent\\\": 100\\n            }\\n          ],\\n          \\\"serviceStatus\\\": {\\n            \\\"name\\\": \\\"ha-cn-pl32rf0****_qrs\\\",\\n            \\\"totalSize\\\": 100,\\n            \\\"doneSize\\\": 100,\\n            \\\"donePercent\\\": 100\\n          },\\n          \\\"configStatusList\\\": [\\n            {\\n              \\\"configUpdateTime\\\": \\\"2024-05-21 16:05:26\\\",\\n              \\\"name\\\": \\\"test_0704\\\",\\n              \\\"totalSize\\\": 0,\\n              \\\"doneSize\\\": 1,\\n              \\\"donePercent\\\": 100\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取集群信息","description":"### 方法\nGET\n### URI\n/openapi/ha3/instances/{instanceId}/cluster-run-time-info","requestParamsDescription":"### 请求示例\n`GET /openapi/ha3/instances/ose-test1/cluster-run-time-info`","responseParamsDescription":"### 返回示例\n正确返回\n\n```java\n{\n  \"requestId\": \"38b079f1-7846-4226-8c90-3e2644b5c52b\",\n  \"result\": [\n    {\n      \"clusterName\": \"\",\n      \"queryNode\": {\n        \"serviceStatus\": {\n          \"name\": \"service_name\",\n          \"totalSize\": 1,\n          \"doneSize\": 1,\n          \"donePercent\": 100\n        },\n        \"configStatusList\": [\n          {\n            \"name\": \"default\",\n            \"totalSize\": 1,\n            \"doneSize\": 1,\n            \"donePercent\": 100,\n            \"configUpdateTime\": \"\"\n          }\n        ]\n      },\n      \"dataNodes\": [\n        {\n          \"serviceStatus\": {\n            \"name\": \"service_name\",\n            \"totalSize\": 1,\n            \"doneSize\": 1,\n            \"donePercent\": 100\n          },\n          \"configStatusList\": [\n            {\n              \"name\": \"default\",\n              \"totalSize\": 1,\n              \"doneSize\": 1,\n              \"donePercent\": 100,\n              \"configUpdateTime\": \"\"\n            }\n          ],\n          \"dataStatusList\": [\n            {\n              \"name\": \"index1\",\n              \"totalSize\": 1,\n              \"doneSize\": 1,\n              \"donePercent\": 100,\n              \"docSize\": 123423,\n              \"fullVersion\": 123423,\n              \"incVersion\": 123423,\n              \"incUpdateTime\": \"\",\n              \"fullUpdateTime\": \"\",\n              \"indexConfigInfo\": {\n                \"configMetaName\": \"index_meta_name\",\n                \"version\": 13241234\n              },\n              \"advanceConfigInfo\": {\n                \"configMetaName\": \"advance_meta_name\",\n                \"version\": 13241234\n              },\n              \"lackMemWorker\": [\n                \"worker1\",\n                \"worker2\"\n              ],\n              \"deployFailedWorker\": [\n                \"worker3\",\n                \"worker4\"\n              ],\n              \"lackDiskWorker\": [\n                \"worker5\",\n                \"worker6\"\n              ],\n              \"errorMsg\": \"lackMemWorker/deployFailedWorker/lackDiskWorker\"\n            },\n            {\n              \"name\": \"index1\",\n              \"totalSize\": 1,\n              \"doneSize\": 1,\n              \"donePercent\": 100,\n              \"docSize\": 123423,\n              \"fullVersion\": 123423,\n              \"incVersion\": 123423,\n              \"incUpdateTime\": \"\",\n              \"fullUpdateTime\": \"\",\n              \"indexConfigInfo\": {\n                \"configMetaName\": \"index_meta_name\",\n                \"version\": 13241234\n              },\n              \"advanceConfigInfo\": {\n                \"configMetaName\": \"advance_meta_name\",\n                \"version\": 13241234\n              },\n              \"lackMemWorker\": [\n                \"worker1\",\n                \"worker2\"\n              ],\n              \"deployFailedWorker\": [\n                \"worker3\",\n                \"worker4\"\n              ],\n              \"lackDiskWorker\": [\n                \"worker5\",\n                \"worker6\"\n              ],\n              \"errorMsg\": \"lackMemWorker/deployFailedWorker/lackDiskWorker\"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n```\n","extraInfo":"\n\n"}