{"summary":"获取索引表信息。","path":"/openapi/ha3/instances/{instanceId}/tables/{tableName}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"218774","abilityTreeNodes":["FEATUREopensearchGTRUN8"]},"parameters":[{"name":"instanceId","in":"path","schema":{"description":"实例ID","type":"string","required":true,"example":"ha-cn-pl32rf0****"}},{"name":"tableName","in":"path","schema":{"description":"索引表名称","type":"string","required":true,"example":"test_summary"}}],"responses":{"200":{"schema":{"type":"object","properties":{"requestId":{"title":"id of request","description":"requestId","type":"string","example":"2AE63638-5420-56DC-BF59-37D8174039A0"},"result":{"title":"IndexConfigV2","description":"返回结果","type":"object","properties":{"name":{"title":"索引名","description":"索引名","type":"string","example":"test_oss"},"status":{"title":"索引表状态 (NEW, PUBLISH, IN_USE: 召回引擎版创建成功后为正常状态, NOT_USE, STOP_USE, RESTORE_USE, FAIL: 向量检索版新版本首次创建索引失败状态)","description":"索引表状态 (NEW, PUBLISH, IN_USE: 召回引擎版创建成功后为正常状态, NOT_USE, STOP_USE, RESTORE_USE, FAIL: 向量检索版新版本首次创建索引失败状态)","type":"string","example":"IN_USE"},"dataProcessorCount":{"title":"数据更新资源数","description":"数据更新资源数","type":"integer","format":"int32","example":"1"},"partitionCount":{"title":"数据分片数","description":"数据分片数","type":"integer","format":"int32","example":"1"},"dataSource":{"title":"数据源配置","description":"数据源配置","type":"object","properties":{"type":{"title":"数据源类型: 仅支持odps、swift、oss三种类型 (odps, swift, saro, oss, unKnow)","description":"数据源类型: 仅支持odps、swift、oss三种类型 (odps, swift, saro, oss, unKnow)","type":"string","example":"odps"},"dataTimeSec":{"title":"追增量时间戳","description":"追增量时间戳","type":"integer","format":"int32","example":"1715160176"},"autoBuildIndex":{"title":"是否自动索引重建","description":"是否自动索引重建","type":"boolean","example":"true"},"config":{"title":"数据源配置","description":"数据源配置","type":"object","properties":{"endpoint":{"title":"odps相关","description":"odps相关","type":"string","example":"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api"},"accessKey":{"description":"AK","type":"string","example":"ak"},"accessSecret":{"description":"AS","type":"string","example":"as"},"project":{"description":"odps数据源项目名称","type":"string","example":"dp_pdm_marketing_prod"},"partition":{"description":"分区信息","type":"string","example":"ds=20220808"},"table":{"title":"saro、odps相关","description":"saro、odps数据源表名","type":"string","example":"test_add"},"namespace":{"title":"saro相关","description":"saro相关","type":"string","example":"namespace"},"path":{"title":"hdfs相关","description":"hdfs相关","type":"string","example":"vendor/sebastian/comparator/src/exceptions"},"ossPath":{"title":"oss数据源相关","description":"oss文件路径","type":"string","example":"/opensearch_index_data/sift_oss_test.data"},"bucket":{"description":"oss命名空间","type":"string","example":"heytea-ops-oss"}}}}},"rawSchema":{"title":"如果用户传了rawSchema，则直接使用rawSchema作为ha3 schema结构，不用手动拼装","description":"如果用户传了rawSchema，则直接使用rawSchema作为ha3 schema结构，不用手动拼装","type":"string","example":"{}"},"primaryKey":{"title":"主键字段","description":"主键字段","type":"string","example":"id"},"fieldSchema":{"title":"key: 字段名","description":"字段map集合, key: 字段名 value: 字段类型","type":"object","additionalProperties":{"type":"string","description":"id","example":"INT64"}},"vectorIndex":{"title":"索引结构","description":"索引结构","type":"array","items":{"type":"object","properties":{"indexName":{"title":"索引结构名称","description":"索引结构名称","type":"string","example":"test_odps"},"vectorField":{"title":"向量字段","description":"向量字段","type":"string","example":"source_image_vector"},"sparseIndexField":{"title":"稀疏向量下标字段","description":"稀疏向量下标字段","type":"string","example":"sparse_indices"},"sparseValueField":{"title":"稀疏向量值字段","description":"稀疏向量值字段","type":"string","example":"sparse_values"},"dimension":{"title":"向量维度","description":"向量维度","type":"string","example":"128"},"vectorIndexType":{"title":"向量索引算法","description":"向量索引算法","type":"string","example":"Qc"},"distanceType":{"title":"距离类型","description":"距离类型","type":"string","example":"SquaredEuclidean"},"namespace":{"title":"命名空间字段","description":"命名空间字段","type":"string","example":"namespace"},"advanceParams":{"title":"索引结构配置","description":"索引结构配置","type":"object","properties":{"buildIndexParams":{"title":"索引构建参数","description":"索引构建参数","type":"string","example":"{\n  \"proxima.qc.builder.quantizer_class\": \"Int8QuantizerConverter\",\n  \"proxima.qc.builder.quantize_by_centroid\": true,\n  \"proxima.qc.builder.optimizer_class\": \"BruteForceBuilder\",\n  \"proxima.qc.builder.thread_count\": 10,\n  \"proxima.qc.builder.optimizer_params\": {\n    \"proxima.linear.builder.column_major_order\": true\n  },\n  \"proxima.qc.builder.store_original_features\": false,\n  \"proxima.qc.builder.train_sample_count\": 3000000,\n  \"proxima.qc.builder.train_sample_ratio\": 0.5\n}"},"searchIndexParams":{"title":"索引检索参数","description":"索引检索参数","type":"string","example":"{\"proxima.qc.searcher.scan_ratio\":0.01}"},"minScanDocCnt":{"title":"召回候选集的个数最小值","description":"召回候选集的个数最小值","type":"string","example":"20000"},"linearBuildThreshold":{"title":"线性构建的阈值","description":"线性构建的阈值","type":"string","example":"5000"}}}}}},"dataProcessConfig":{"title":"字段处理配置","description":"字段处理配置","type":"array","items":{"description":"字段处理配置","type":"object","properties":{"operator":{"title":"字段处理方式 (copy: 将源字段拷贝至目标字段, vectorize: 使用模型对源字段进行向量化，向量存储在目标字段中)","description":"字段处理方式 (copy: 将源字段拷贝至目标字段, vectorize: 使用模型对源字段进行向量化，向量存储在目标字段中)","type":"string","example":"vectorize"},"dstField":{"title":"目标字段","description":"目标字段","type":"string","example":"source_image_vector"},"srcField":{"title":"源字段","description":"源字段","type":"string","example":"source_image"},"params":{"title":"配置模型信息","description":"配置模型信息","type":"object","properties":{"vectorModel":{"title":"向量化模型","description":"向量化模型","type":"string","example":"clip"},"vectorModal":{"title":"数据类型","description":"数据类型","type":"string","example":"image"},"srcFieldConfig":{"title":"向量化信息来源","description":"向量化信息来源","type":"object","properties":{"ossEndpoint":{"description":"OSS区域地址。","type":"string","example":"oss-cn-hangzhou-internal.aliyuncs.com\n"},"ossBucket":{"description":"OSS Bucket","type":"string","example":"test"},"uid":{"description":"云账号id","type":"string","example":"uid"}}}}}}}}}}}}},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"2AE63638-5420-56DC-BF59-37D8174039A0\\\",\\n  \\\"result\\\": {\\n    \\\"name\\\": \\\"test_oss\\\",\\n    \\\"status\\\": \\\"IN_USE\\\",\\n    \\\"dataProcessorCount\\\": 1,\\n    \\\"partitionCount\\\": 1,\\n    \\\"dataSource\\\": {\\n      \\\"type\\\": \\\"odps\\\",\\n      \\\"dataTimeSec\\\": 1715160176,\\n      \\\"autoBuildIndex\\\": true,\\n      \\\"config\\\": {\\n        \\\"endpoint\\\": \\\"http://service.cn-hangzhou.maxcompute.aliyun-inc.com/api\\\",\\n        \\\"accessKey\\\": \\\"ak\\\",\\n        \\\"accessSecret\\\": \\\"as\\\",\\n        \\\"project\\\": \\\"dp_pdm_marketing_prod\\\",\\n        \\\"partition\\\": \\\"ds=20220808\\\",\\n        \\\"table\\\": \\\"test_add\\\",\\n        \\\"namespace\\\": \\\"namespace\\\",\\n        \\\"path\\\": \\\"vendor/sebastian/comparator/src/exceptions\\\",\\n        \\\"ossPath\\\": \\\"/opensearch_index_data/sift_oss_test.data\\\",\\n        \\\"bucket\\\": \\\"heytea-ops-oss\\\"\\n      }\\n    },\\n    \\\"rawSchema\\\": \\\"{}\\\",\\n    \\\"primaryKey\\\": \\\"id\\\",\\n    \\\"fieldSchema\\\": {\\n      \\\"key\\\": \\\"INT64\\\"\\n    },\\n    \\\"vectorIndex\\\": [\\n      {\\n        \\\"indexName\\\": \\\"test_odps\\\",\\n        \\\"vectorField\\\": \\\"source_image_vector\\\",\\n        \\\"sparseIndexField\\\": \\\"sparse_indices\\\",\\n        \\\"sparseValueField\\\": \\\"sparse_values\\\",\\n        \\\"dimension\\\": \\\"128\\\",\\n        \\\"vectorIndexType\\\": \\\"Qc\\\",\\n        \\\"distanceType\\\": \\\"SquaredEuclidean\\\",\\n        \\\"namespace\\\": \\\"namespace\\\",\\n        \\\"advanceParams\\\": {\\n          \\\"buildIndexParams\\\": \\\"{\\\\n  \\\\\\\"proxima.qc.builder.quantizer_class\\\\\\\": \\\\\\\"Int8QuantizerConverter\\\\\\\",\\\\n  \\\\\\\"proxima.qc.builder.quantize_by_centroid\\\\\\\": true,\\\\n  \\\\\\\"proxima.qc.builder.optimizer_class\\\\\\\": \\\\\\\"BruteForceBuilder\\\\\\\",\\\\n  \\\\\\\"proxima.qc.builder.thread_count\\\\\\\": 10,\\\\n  \\\\\\\"proxima.qc.builder.optimizer_params\\\\\\\": {\\\\n    \\\\\\\"proxima.linear.builder.column_major_order\\\\\\\": true\\\\n  },\\\\n  \\\\\\\"proxima.qc.builder.store_original_features\\\\\\\": false,\\\\n  \\\\\\\"proxima.qc.builder.train_sample_count\\\\\\\": 3000000,\\\\n  \\\\\\\"proxima.qc.builder.train_sample_ratio\\\\\\\": 0.5\\\\n}\\\",\\n          \\\"searchIndexParams\\\": \\\"{\\\\\\\"proxima.qc.searcher.scan_ratio\\\\\\\":0.01}\\\",\\n          \\\"minScanDocCnt\\\": \\\"20000\\\",\\n          \\\"linearBuildThreshold\\\": \\\"5000\\\"\\n        }\\n      }\\n    ],\\n    \\\"dataProcessConfig\\\": [\\n      {\\n        \\\"operator\\\": \\\"vectorize\\\",\\n        \\\"dstField\\\": \\\"source_image_vector\\\",\\n        \\\"srcField\\\": \\\"source_image\\\",\\n        \\\"params\\\": {\\n          \\\"vectorModel\\\": \\\"clip\\\",\\n          \\\"vectorModal\\\": \\\"image\\\",\\n          \\\"srcFieldConfig\\\": {\\n            \\\"ossEndpoint\\\": \\\"oss-cn-hangzhou-internal.aliyuncs.com\\\\n\\\",\\n            \\\"ossBucket\\\": \\\"test\\\",\\n            \\\"uid\\\": \\\"uid\\\"\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取索引表信息","requestParamsDescription":"### 请求示例\n\n﻿\n\n```java\nGET /openapi/ha3/instances/{instanceId}/tables/{tableName}\n```"}