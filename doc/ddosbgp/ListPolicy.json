{"summary":"查询防护策略。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","abilityTreeCode":"201465","abilityTreeNodes":["FEATUREddosRWSV1C"]},"parameters":[{"name":"Name","in":"query","schema":{"description":"策略名称。","type":"string","required":false,"example":"test**"}},{"name":"Type","in":"query","schema":{"description":"策略类型。取值：\n\n- **l3**：表示IP防护策略\n\n- **l4**：表示端口防护策略","type":"string","required":false,"example":"l3","enum":["l3","l4"]}},{"name":"PageNo","in":"query","schema":{"description":"分页查询时，设置当前页面的页码。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时每页的行数。默认值为**10**。","type":"integer","format":"int64","required":false,"example":"10","default":"10"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的 ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"B4B379C2-9319-4C6B-B579-FE36831B09F4"},"PolicyList":{"description":"策略列表。","type":"array","items":{"type":"object","properties":{"Id":{"description":"策略ID。","type":"string","example":"877afbdf-3982-4d36-9886-f043********"},"Name":{"description":"策略名称。","type":"string","example":"test**"},"Type":{"description":"策略类型。取值：\n- **l3**：表示IP防护策略。\n- **l4**：表示端口防护策略。","type":"string","example":"l3"},"AttachedCount":{"description":"策略关联的防护对象数量。","type":"integer","format":"int32","example":"0"},"Content":{"description":"策略内容。","type":"object","properties":{"BlackIpListExpireAt":{"description":"IP黑名单超时时间（unix时间戳）。","type":"integer","format":"int64","example":"1716878000"},"EnableIntelligence":{"description":"是否开启AI智能防护。","type":"boolean","example":"true"},"IntelligenceLevel":{"description":"AI智能防护的防护等级。取值：\n\n- **default**：表示正常。\n- **hard**：表示严格。\n- **weak**：表示宽松。","type":"string","example":"default"},"WhitenGfbrNets":{"description":"是否开启DDoS高防（中国内地&非中国内地）回源地址加白。","type":"boolean","example":"false"},"EnableDropIcmp":{"description":"是否禁用ICMP协议。","type":"boolean","example":"false"},"RegionBlockCountryList":{"description":"区域封禁的国家列表。","type":"array","items":{"description":"区域封禁的国家代号。","type":"integer","format":"int32","example":"11"}},"RegionBlockProvinceList":{"description":"区域封禁的省份列表。","type":"array","items":{"description":"区域封禁的省份代号。","type":"integer","format":"int32","example":"2"}},"SourceLimit":{"description":"源限速。","type":"object","properties":{"Pps":{"description":"源PPS限速，单位Packet/s。","type":"integer","format":"int32","example":"64"},"Bps":{"description":"源带宽限速，单位Byte/s。","type":"integer","format":"int32","example":"2048"},"SynPps":{"description":"源SYN PPS限速，单位Packet/s。","type":"integer","format":"int32","example":"64"},"SynBps":{"description":"源SYN 带宽限速，单位Byte/s。","type":"integer","format":"int32","example":"2048"}}},"SourceBlockList":{"description":"源限速拉黑列表。","type":"array","items":{"type":"object","properties":{"Type":{"description":"源限速类型。取值：\n\n- **3**：表示源PPS限速。\n\n- **4**：表示源带宽限速。\n\n- **5**：表示源SYN PPS限速。\n\n- **6**：表示源SYN 带宽限速。","type":"integer","format":"int32","example":"3"},"BlockExpireSeconds":{"description":"源IP加入黑名单的时长。单位秒。","type":"integer","format":"int32","example":"120"},"EverySeconds":{"description":"源限速拉黑的统计周期，单位秒。","type":"integer","format":"int32","example":"60"},"ExceedLimitTimes":{"description":"源IP在1个统计周期内超过限速值的次数。","type":"integer","format":"int32","example":"5"}}}},"ReflectBlockUdpPortList":{"description":"反射攻击防护过滤的端口列表。","type":"array","items":{"description":"反射攻击防护过滤的端口","type":"integer","format":"int32","example":"123"}},"PortRuleList":{"description":"端口封禁规则列表。","type":"array","items":{"type":"object","properties":{"Id":{"description":"规则ID。","type":"string","example":"8f3c3062-6c20-425d-8405-2bd1********"},"Protocol":{"description":"协议类型，取值：\n\n- **tcp**：表示传输控制协议。\n- **udp**：表示用户数据报协议。","type":"string","example":"udp"},"SrcPortStart":{"description":"源端口范围的起始值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"0"},"SrcPortEnd":{"description":"源端口范围的结束值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"65535"},"DstPortStart":{"description":"目的端口范围的起始值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"0"},"DstPortEnd":{"description":"目的端口范围的结束值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"65535"},"MatchAction":{"description":"匹配动作。取值：\n\n- **drop**：表示丢弃。","type":"string","example":"drop"},"SeqNo":{"description":"生效顺序号，使用整数表示。","type":"integer","format":"int32","example":"1"}}}},"FingerPrintRuleList":{"description":"指纹过滤规则列表。","type":"array","items":{"type":"object","properties":{"Id":{"description":"规则ID。","type":"string","example":"2c0b09cd-a565-4481-9acb-418b********"},"Protocol":{"description":"协议类型，取值：\n\n- **tcp**：表示传输控制协议。\n- **udp**：表示用户数据报协议。","type":"string","example":"udp"},"SrcPortStart":{"description":"源端口范围的开始值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"0"},"SrcPortEnd":{"description":"源端口范围的结束值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"65535"},"DstPortStart":{"description":"目的端口范围的起始值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"0"},"DstPortEnd":{"description":"目的端口范围的结束值。取值范围：**0**~**65535**。","type":"integer","format":"int32","example":"65535"},"MinPktLen":{"description":"最小包长，取值范围：**1**~**1500**。","type":"integer","format":"int32","example":"1"},"MaxPktLen":{"description":"最大包长，取值范围：**1**~**1500**。","type":"integer","format":"int32","example":"1500"},"Offset":{"description":"偏移量，取值范围：**0**~**1500**。","type":"integer","format":"int32","example":"0"},"PayloadBytes":{"description":"检测载荷。使用十六进制字符串格式表示。","type":"string","example":"abcd"},"MatchAction":{"description":"匹配动作。取值：\n\n- **accept**：表示放行满足指纹特征的流量。\n- **drop**：表示丢弃满足指纹特征的流量。\n- **ip_rate**：表示对满足指纹特征的流量来源IP进行访问限速。限速值通过**RateValue**参数设置。\n- **session_rate**：表示对满足指纹特征的流量来源会话进行访问限速。限速值通过**RateValue**参数设置。","type":"string","example":"drop"},"RateValue":{"description":"限速值。取值范围：**1**~**100000**。\n\n> 匹配后动作为源IP限速或者源Session限速时（**匹配动作**为**ip_rate**或**session_rate**），必须填写该参数。","type":"integer","format":"int32","example":"1000"},"SeqNo":{"description":"生效顺序号，使用整数表示。","type":"integer","format":"int32","example":"1"}}}},"EnableL4Defense":{"description":"是否开启端口防护。","type":"boolean","example":"true"},"L4RuleList":{"description":"端口防护规则列表。","type":"array","items":{"type":"object","properties":{"Name":{"description":"规则名称。","type":"string","example":"test**"},"Priority":{"description":"规则优先级。","type":"integer","format":"int32","example":"1"},"Method":{"description":"规则类型。取值：\n\n- **char**：表示字符串匹配。\n\n- **hex**：表示十六进制匹配。","type":"string","example":"char"},"Match":{"description":"逻辑符。取值：\n\n- **0**：表示命中执行动作。\n\n- **1**：表示未命中执行动作。","type":"string","example":"1"},"Action":{"description":"动作。取值：\n\n- **2**： 表示丢弃。","type":"string","example":"2"},"Limited":{"description":"会话流启动规则匹配的最小字节数，取值范围：**0**~**2048**","type":"integer","format":"int32","example":"0"},"ConditionList":{"description":"检测条件列表。","type":"array","items":{"type":"object","properties":{"Arg":{"description":"检测内容。\n> 规则类型为**char**，必须为ACSII字符串；规则类型为**hex**，必须为十六进制字符串。最大长度2048。","type":"string","example":"test"},"Position":{"description":"检测起始位置，取值范围：**0**~**2047**。","type":"integer","format":"int32","example":"0"},"Depth":{"description":"检测窗口长度，取值范围：**1**~**2048**。","type":"integer","format":"int32","example":"32"}}}}}}}}}}}},"Total":{"description":"策略总数。","type":"integer","format":"int64","example":"10"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B4B379C2-9319-4C6B-B579-FE36831B09F4\\\",\\n  \\\"PolicyList\\\": [\\n    {\\n      \\\"Id\\\": \\\"877afbdf-3982-4d36-9886-f043********\\\",\\n      \\\"Name\\\": \\\"test**\\\",\\n      \\\"Type\\\": \\\"l3\\\",\\n      \\\"AttachedCount\\\": 0,\\n      \\\"Content\\\": {\\n        \\\"BlackIpListExpireAt\\\": 1716878000,\\n        \\\"EnableIntelligence\\\": true,\\n        \\\"IntelligenceLevel\\\": \\\"default\\\",\\n        \\\"WhitenGfbrNets\\\": false,\\n        \\\"EnableDropIcmp\\\": false,\\n        \\\"RegionBlockCountryList\\\": [\\n          11\\n        ],\\n        \\\"RegionBlockProvinceList\\\": [\\n          2\\n        ],\\n        \\\"SourceLimit\\\": {\\n          \\\"Pps\\\": 64,\\n          \\\"Bps\\\": 2048,\\n          \\\"SynPps\\\": 64,\\n          \\\"SynBps\\\": 2048\\n        },\\n        \\\"SourceBlockList\\\": [\\n          {\\n            \\\"Type\\\": 3,\\n            \\\"BlockExpireSeconds\\\": 120,\\n            \\\"EverySeconds\\\": 60,\\n            \\\"ExceedLimitTimes\\\": 5\\n          }\\n        ],\\n        \\\"ReflectBlockUdpPortList\\\": [\\n          123\\n        ],\\n        \\\"PortRuleList\\\": [\\n          {\\n            \\\"Id\\\": \\\"8f3c3062-6c20-425d-8405-2bd1********\\\",\\n            \\\"Protocol\\\": \\\"udp\\\",\\n            \\\"SrcPortStart\\\": 0,\\n            \\\"SrcPortEnd\\\": 65535,\\n            \\\"DstPortStart\\\": 0,\\n            \\\"DstPortEnd\\\": 65535,\\n            \\\"MatchAction\\\": \\\"drop\\\",\\n            \\\"SeqNo\\\": 1\\n          }\\n        ],\\n        \\\"FingerPrintRuleList\\\": [\\n          {\\n            \\\"Id\\\": \\\"2c0b09cd-a565-4481-9acb-418b********\\\",\\n            \\\"Protocol\\\": \\\"udp\\\",\\n            \\\"SrcPortStart\\\": 0,\\n            \\\"SrcPortEnd\\\": 65535,\\n            \\\"DstPortStart\\\": 0,\\n            \\\"DstPortEnd\\\": 65535,\\n            \\\"MinPktLen\\\": 1,\\n            \\\"MaxPktLen\\\": 1500,\\n            \\\"Offset\\\": 0,\\n            \\\"PayloadBytes\\\": \\\"abcd\\\",\\n            \\\"MatchAction\\\": \\\"drop\\\",\\n            \\\"RateValue\\\": 1000,\\n            \\\"SeqNo\\\": 1\\n          }\\n        ],\\n        \\\"EnableL4Defense\\\": true,\\n        \\\"L4RuleList\\\": [\\n          {\\n            \\\"Name\\\": \\\"test**\\\",\\n            \\\"Priority\\\": 1,\\n            \\\"Method\\\": \\\"char\\\",\\n            \\\"Match\\\": \\\"1\\\",\\n            \\\"Action\\\": \\\"2\\\",\\n            \\\"Limited\\\": 0,\\n            \\\"ConditionList\\\": [\\n              {\\n                \\\"Arg\\\": \\\"test\\\",\\n                \\\"Position\\\": 0,\\n                \\\"Depth\\\": 32\\n              }\\n            ]\\n          }\\n        ]\\n      }\\n    }\\n  ],\\n  \\\"Total\\\": 10\\n}\",\"type\":\"json\"}]","title":"查询防护策略"}