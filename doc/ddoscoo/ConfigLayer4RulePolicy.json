{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"106055","abilityTreeNodes":["FEATUREddosCRC1QI"]},"parameters":[{"name":"Listeners","in":"query","schema":{"description":"设置端口转发规则。\n\n该参数使用JSON数组转换的字符串表示。JSON数组的每个元素表示一个已创建的端口转发规则。一次最多可以设置1个端口转发规则。\n\n> 您可以调用[DescribeNetworkRules](~~157484~~)查询所有已创建的端口转发规则。\n\n每个端口转发规则包含以下字段：\n\n- **InstanceId**：String类型，必选，DDoS高防实例的ID。\n- **Protocol**：String类型，必选，转发协议类型。取值：**tcp**、**udp**。\n- **FrontendPort**：Integer类型，必选，转发端口。\n- **BackendPort**：Integer类型，必选，源站端口。\n- **PriRealServers**：JSON数组类型，必选，主源站IP地址列表。JSON数组的每个元素表示一个主源站IP地址。最多支持设置20个主源站IP地址。\n\n    每个主源站IP地址包含以下字段：\n\n    - **RealServer**：String类型，必选，主源站IP地址。\n\n- **SecRealServers**：JSON数组类型，必选，备源站IP地址列表。JSON数组的每个元素表示一个备源站IP地址。最多支持设置20个备源站IP地址。\n\n    每个备源站IP地址包含以下字段：\n    \n    - **RealServer**：String类型，必选，备源站IP地址。\n \n- **CurrentRsIndex**：Integer类型，必选，要生效的源站类型。取值：\n    - **1**：表示主源站设置生效（DDoS高防将业务流量转发到主源站IP地址）。\n    - **2**：表示备源站设置生效（DDoS高防将业务流量转发到备源站IP地址）。","type":"string","required":true,"example":"[{\\\"InstanceId\\\":\\\"ddosDip-sg-4hr2b3l****\\\",\\\"Protocol\\\":\\\"udp\\\",\\\"FrontendPort\\\":2020,\\\"BackendPort\\\":2022,\\\"PriRealServers\\\":[{\\\"RealServer\\\":\\\"192.0.2.1\\\"},{\\\"RealServer\\\":\\\"192.0.2.2\\\"}],\\\"SecRealServers\\\":[{\\\"RealServer\\\":\\\"192.0.2.3\\\"},{\\\"RealServer\\\":\\\"192.0.2.4\\\"}],\\\"CurrentRsIndex\\\":1}]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"CC042262-15A3-4A49-ADF0-130968EA47BC"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CC042262-15A3-4A49-ADF0-130968EA47BC\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\r\\n<ConfigLayer4RulePolicyResponse>\\r\\n\\t<RequestId>CC042262-15A3-4A49-ADF0-130968EA47BC</RequestId>\\r\\n</ConfigLayer4RulePolicyResponse>\",\"errorExample\":\"\"}]","title":"配置4层规则策略","summary":"为端口转发规则设置主、备源站IP地址。","requestParamsDescription":"调用API时，除了本文中该API的请求参数，还需加入阿里云API公共请求参数。公共请求参数的详细介绍，请参见[公共参数](~~157269~~)。\n\n调用API的请求格式，请参见本文**示例**中的请求示例。","responseParamsDescription":" ","extraInfo":" "}