{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Domain","in":"query","schema":{"description":"要查询的网站域名。","type":"string","required":false,"example":"www.example.com"}},{"name":"QueryDomainPattern","in":"query","schema":{"description":"查询匹配模式。取值：\n\n- **fuzzy**（默认）：表示模糊查询。\n- **exact**：表示精确查询。","type":"string","required":false,"example":"fuzzy","enum":["fuzzy","exact"]}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，设置当前页面的页码。默认值为**1**。\n","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，设置每页包含转发规则的数量。","type":"integer","format":"int32","required":true,"example":"10"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"要查询的DDoS高防实例的ID列表。","type":"array","items":{"description":"要查询的DDoS高防实例的ID。\n\n> 您可以调用[DescribeInstanceIds](~~157459~~)查询所有DDoS高防实例的ID。","type":"string","required":false,"example":"ddoscoo-cn-mp91j1ao****"},"required":false,"maxItems":10}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"查询到的网站业务转发规则的总数量。","type":"integer","format":"int64","example":"1"},"RequestId":{"description":"本次请求的ID。","type":"string","example":"39499F01-19D9-4EA4-A0E9-C6014BA5CDBE"},"WebRules":{"description":"网站业务转发规则的配置。","type":"array","items":{"type":"object","properties":{"Domain":{"description":"网站业务的域名。","type":"string","example":"www.example.com"},"Http2HttpsEnable":{"description":"是否开启了HTTPS强制跳转。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"SslProtocols":{"description":"TLS协议版本。取值：\n\n- **tls1.0**：表示TLS 1.0及以上版本。\n- **tls1.1**：表示TLS 1.1及以上版本。\n- **tls1.2**：表示TLS 1.2及以上版本。","type":"string","example":"tls1.0"},"PunishReason":{"description":"域名受到违规处罚的原因。取值：\n- **1**：表示域名未履行ICP备案。\n- **2**：表示域名经营的业务不符合监管要求。\n\n如果同时包含原因**1**和**2**，该参数返回**2**。","type":"integer","format":"int32","example":"1"},"CcTemplate":{"description":"频率控制防护（CC防护）的模式。取值：\n\n- **default**：表示正常模式。\n- **gf_under_attack**：表示攻击紧急模式。\n- **gf_sos_verify**：表示严格模式。\n- **gf_sos_enhance**：表示超级严格模式。","type":"string","example":"default"},"HttpsExt":{"description":"HTTPS高级设置，仅在网站协议类型支持HTTPS（**ProxyType**包含**https**）时生效。使用JSON结构体转化的字符串格式表示，JSON结构体包含以下字段：\n\n- **Http2https**：Integer类型 | 是否开启了HTTPS的强制跳转功能，取值：**0**（表示未开启） | **1**（表示已开启）。\n- **Https2http**：Integer类型 | 是否开启了HTTP回源功能，取值：**0**（表示未开启） | **1**（表示已开启）。\n- **Http2**：Integer类型 | 是否开启了HTTP 2.0协议支持，取值：**0**（表示未开启） | **1**（表示已开启）。","type":"string","example":"{\"Https2http\":0,\"Http2\":0,\"Http2https\":0}"},"CcEnabled":{"description":"是否开启了频率控制防护（CC防护）。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"SslCiphers":{"description":"加密套件的类型。取值：\n\n- **default**：表示自定义加密套件。\n- **all**：表示全部加密套件。\n- **strong**：表示强加密套件。","type":"string","example":"default"},"CcRuleEnabled":{"description":"是否开启了自定义频率控制防护（CC防护）。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"Ssl13Enabled":{"description":"是否开启了TLS 1.3协议支持。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"RsType":{"description":"源站服务器的地址类型。取值：\n\n- **0**：表示使用IP地址格式。\n- **1**：表示使用域名格式。","type":"integer","format":"int32","example":"0"},"PunishStatus":{"description":"域名是否受到违规处罚。取值：\n\n- **true**：表示已受到违规处罚。您可以通过**PunishReason**查看受到违规处罚的具体原因。\n- **false**：表示未受到违规处罚。","type":"boolean","example":"false"},"ProxyEnabled":{"description":"DDoS高防是否对该网站业务的流量进行转发。取值：\n\n- **true**：表示进行流量转发。\n- **false**：表示已停止流量转发。","type":"boolean","example":"true"},"CertName":{"description":"域名使用的SSL证书的名称。","type":"string","example":"49944XX.pem"},"PolicyMode":{"description":"回源负载算法的类型。取值：\n\n- **ip_hash**：表示IP Hash算法。该算法根据请求来源IP进行HASH映射，将同一个IP的所有请求定向到一个源站服务器。\n- **rr**：表示轮转算法。该算法将所有请求轮流分配给不同源站服务器。\n- **least_time**：表示Least Time算法。该算法通过智能DNS解析能力，保证业务流量从接入防护节点到转发回源站服务器整个链路的时延最短。","type":"string","example":"ip_hash"},"Cname":{"description":"域名对应的DDoS高防CNAME地址。","type":"string","example":"0ekb69x3j9wvXXXX.aliyunddosXXXX.com"},"OcspEnabled":{"description":"是否启用了OCSP（Online Certificate Status Protocol）功能。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"Http2Enable":{"description":"是否开启了HTTP 2.0。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"Https2HttpEnable":{"description":"是否开启了HTTP回源功能。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"ProxyTypes":{"description":"网站的协议及端口配置。","type":"array","items":{"type":"object","properties":{"ProxyType":{"description":"网站对外服务使用的协议类型。取值：\n\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。\n- **websocket**：表示WebSocket协议。\n- **websockets**：表示WebSockets协议。","type":"string","example":"http"},"ProxyPorts":{"description":"网站对外服务使用的端口列表。","type":"array","items":{"description":"网站对外服务使用的端口。","type":"string","example":"80"}}}}},"InstanceIds":{"description":"域名关联的DDoS高防实例的ID列表。","type":"array","items":{"description":"域名关联的DDoS高防实例的ID。","type":"string","example":"ddoscoo-cn-st21zbyq****"}},"CustomCiphers":{"description":"自定义加密套件列表。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"ECDHE-RSA-AES256-SHA384"}},"WhiteList":{"description":"针对当前域名的白名单IP列表。","type":"array","items":{"description":"针对当前域名的白名单IP。\n\n> 仅在您已经为该域名配置了**IP白名单（针对域名）**时返回该结果。您可以调用[ConfigWebIpSet](~~157469~~)为网站域名配置IP黑白名单。","type":"string","example":"3.XX.XX.3"}},"BlackList":{"description":"针对当前域名的黑名单IP列表。","type":"array","items":{"description":"针对当前域名的黑名单IP。\n\n> 仅在您已经为该域名配置了 **IP黑名单（针对域名）** 时返回该结果。您可以调用[ConfigWebIpSet](~~157469~~)为网站域名配置IP黑白名单。","type":"string","example":"2.XX.XX.2"}},"RealServers":{"description":"源站服务器地址列表。","type":"array","items":{"description":"源站服务器地址。","type":"string","example":"1.XX.XX.1"}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"39499F01-19D9-4EA4-A0E9-C6014BA5CDBE\\\",\\n  \\\"WebRules\\\": [\\n    {\\n      \\\"Domain\\\": \\\"www.example.com\\\",\\n      \\\"Http2HttpsEnable\\\": false,\\n      \\\"SslProtocols\\\": \\\"tls1.0\\\",\\n      \\\"PunishReason\\\": 1,\\n      \\\"CcTemplate\\\": \\\"default\\\",\\n      \\\"HttpsExt\\\": \\\"{\\\\\\\"Https2http\\\\\\\":0,\\\\\\\"Http2\\\\\\\":0,\\\\\\\"Http2https\\\\\\\":0}\\\",\\n      \\\"CcEnabled\\\": true,\\n      \\\"SslCiphers\\\": \\\"default\\\",\\n      \\\"CcRuleEnabled\\\": true,\\n      \\\"Ssl13Enabled\\\": false,\\n      \\\"RsType\\\": 0,\\n      \\\"PunishStatus\\\": false,\\n      \\\"ProxyEnabled\\\": true,\\n      \\\"CertName\\\": \\\"49944XX.pem\\\",\\n      \\\"PolicyMode\\\": \\\"ip_hash\\\",\\n      \\\"Cname\\\": \\\"0ekb69x3j9wvXXXX.aliyunddosXXXX.com\\\",\\n      \\\"OcspEnabled\\\": false,\\n      \\\"Http2Enable\\\": false,\\n      \\\"Https2HttpEnable\\\": false,\\n      \\\"ProxyTypes\\\": [\\n        {\\n          \\\"ProxyType\\\": \\\"http\\\",\\n          \\\"ProxyPorts\\\": [\\n            \\\"80\\\"\\n          ]\\n        }\\n      ],\\n      \\\"InstanceIds\\\": [\\n        \\\"ddoscoo-cn-st21zbyq****\\\"\\n      ],\\n      \\\"CustomCiphers\\\": [\\n        \\\"ECDHE-RSA-AES256-SHA384\\\"\\n      ],\\n      \\\"WhiteList\\\": [\\n        \\\"3.XX.XX.3\\\"\\n      ],\\n      \\\"BlackList\\\": [\\n        \\\"2.XX.XX.2\\\"\\n      ],\\n      \\\"RealServers\\\": [\\n        \\\"1.XX.XX.1\\\"\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDomainResourceResponse>\\n    <TotalCount>1</TotalCount>\\n    <WebRules>\\n        <Domain>www.example.com</Domain>\\n        <Http2HttpsEnable>false</Http2HttpsEnable>\\n        <BlackList>2.XX.XX.2</BlackList>\\n        <WhiteList>3.XX.XX.3</WhiteList>\\n        <CustomCiphers>ECDHE-RSA-AES256-SHA384</CustomCiphers>\\n        <RealServers>1.XX.XX.1</RealServers>\\n        <ProxyTypes>\\n            <ProxyPorts>80</ProxyPorts>\\n            <ProxyType>http</ProxyType>\\n        </ProxyTypes>\\n        <SslProtocols>tls1.0</SslProtocols>\\n        <PunishReason>1</PunishReason>\\n        <CcTemplate>default</CcTemplate>\\n        <CcEnabled>true</CcEnabled>\\n        <SslCiphers>default</SslCiphers>\\n        <Ssl13Enabled>false</Ssl13Enabled>\\n        <CcRuleEnabled>true</CcRuleEnabled>\\n        <PunishStatus>false</PunishStatus>\\n        <RsType>0</RsType>\\n        <ProxyEnabled>true</ProxyEnabled>\\n        <CertName>49944XX.pem</CertName>\\n        <PolicyMode>ip_hash</PolicyMode>\\n        <Cname>0ekb69x3j9wvXXXX.aliyunddosXXXX.com</Cname>\\n        <Http2Enable>false</Http2Enable>\\n        <Https2HttpEnable>false</Https2HttpEnable>\\n        <InstanceIds>ddoscoo-cn-st21zbyq****</InstanceIds>\\n        <HttpsExt>{\\\"Https2http\\\":0,\\\"Http2\\\":0,\\\"Http2https\\\":0}</HttpsExt>\\n    </WebRules>\\n    <RequestId>39499F01-19D9-4EA4-A0E9-C6014BA5CDBE</RequestId>\\n</DescribeDomainResourceResponse>\",\"errorExample\":\"\"}]","title":"查询网站业务转发规则的配置","summary":"查询网站业务转发规则的配置。","description":"本接口用于查询分页您已创建的网站业务转发规则的详细配置，例如，网站域名、协议配置、HTTPS配置、CC安全防护配置。\n\n本接口支持与Terraform工具对接。关于Terraform的更多信息，请参见[什么是Terraform](~~95820~~)。\n\n### QPS限制\n\n本接口的单用户QPS限制为50次/秒。超过限制，API调用将会被限流，这可能影响您的业务，请合理调用。","requestParamsDescription":"调用API时，除了本文中该API的请求参数，还需加入阿里云API公共请求参数。公共请求参数的详细介绍，请参见[公共参数](~~157269~~)。\n\n调用API的请求格式，请参见本文**示例**中的请求示例。"}