{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"106211","abilityTreeNodes":["FEATUREddos64TBV6"]},"parameters":[{"name":"ResourceGroupId","in":"query","schema":{"description":"DDoS高防实例在资源管理服务中所属的资源组ID。\n\n不设置该参数表示默认资源组。","type":"string","required":false,"example":"rg-acfm2pz25js****"}},{"name":"Domain","in":"query","schema":{"description":"要查询的网站域名。\n\n> 域名必须已经配置过网站业务转发规则。您可以调用[DescribeDomains](~~91724~~)查询所有已经配置过网站业务转发规则的域名。","type":"string","required":false,"example":"example.com"}},{"name":"Cname","in":"query","schema":{"description":"要查询的CNAME地址。","type":"string","required":false,"example":"kzmk7b8tt351****.aliyunddos1014****","maxLength":128,"minLength":3}},{"name":"QueryDomainPattern","in":"query","schema":{"description":"查询匹配模式。取值：\n- **fuzzy**（默认）：表示模糊查询。\n- **exact**：表示精确查询。","type":"string","required":false,"example":"exact"}},{"name":"PageNumber","in":"query","schema":{"description":"分页查询时，设置当前页面的页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，设置每页包含转发规则的数量。取值范围：**1**~**10**。","type":"integer","format":"int32","required":true,"example":"10"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"要查询的DDoS高防实例的ID列表。","type":"array","items":{"description":"要查询的DDoS高防实例的ID。N的最大值：200，即最多可配置200个DDoS高防实例，实例ID之间用半角逗号（,）隔开。\n\n> 您可以调用[DescribeInstanceIds](~~157459~~)查询所有DDoS高防实例的ID。","type":"string","required":false,"example":"ddoscoo-cn-i7m27nf3****"},"required":false,"example":"ddoscoo-cn-mp91j1ao****","maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"查询到的网站业务转发规则的总数量。","type":"integer","format":"int64","example":"1"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"0F5B72DD-96F4-423A-B12B-A5151DD746B8"},"WebRules":{"description":"网站业务转发规则的配置。","type":"array","items":{"type":"object","properties":{"Domain":{"description":"网站域名。","type":"string","example":"example.com"},"Http2HttpsEnable":{"description":"是否开启了HTTPS强制跳转功能。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"SslProtocols":{"description":"支持的TLS协议版本。取值：\n\n- **tls1.0**：表示支持TLS 1.0及以上版本。\n- **tls1.1**：表示支持TLS 1.1及以上版本。\n- **tls1.2**：表示支持TLS 1.2及以上版本。","type":"string","example":"tls1.1"},"PunishReason":{"description":"域名受到违规处罚的原因。取值：\n- **1**：表示域名未履行ICP备案。\n- **2**：表示域名经营的业务不符合监管要求。\n\n如果同时包含原因**1**和**2**，该参数返回**2**。","type":"integer","format":"int32","example":"1"},"CcTemplate":{"description":"频率控制防护（CC防护）的模式。取值：\n- **default**：表示正常模式。\n- **gf_under_attack**：表示攻击紧急模式。\n- **gf_sos_verify**：表示严格模式。\n- **gf_sos_enhance**：表示超级严格模式。","type":"string","example":"default"},"CcEnabled":{"description":"是否开启了频率控制防护（CC防护）。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"SslCiphers":{"description":"加密套件的类型。取值：\n\n- **default**：表示自定义加密套件。\n- **all**：表示全部加密套件，包含强加密套件和弱加密套件。\n- **strong**：表示强加密套件。","type":"string","example":"default"},"Ssl13Enabled":{"description":"是否开启了TLS 1.3协议支持。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"CcRuleEnabled":{"description":"是否开启了自定义频率控制防护（CC防护）。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"OcspEnabled":{"description":"是否启用了OCSP（Online Certificate Status Protocol）功能。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"false"},"PunishStatus":{"description":"域名是否受到违规处罚。取值：\n\n- **true**：表示已受到违规处罚。您可以通过**PunishReason**查看受到违规处罚的具体原因。\n- **false**：表示未受到违规处罚。","type":"boolean","example":"true"},"ProxyEnabled":{"description":"网站业务转发是否开启。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"CertName":{"description":"证书名称。","type":"string","example":"testcert"},"PolicyMode":{"description":"回源负载算法的类型。取值：\n\n- **ip_hash**：表示IP Hash算法。根据请求来源IP进行HASH映射，将同一个IP的所有请求定向到一个源站服务器。\n- **rr**：表示轮转算法。将所有请求轮流分配给不同源站服务器。\n- **least_time**：表示Least Time算法。该算法通过智能DNS解析能力，保证业务流量从接入防护节点到转发回源站服务器整个链路的时延最短。\n\n","type":"string","example":"ip_hash"},"Cname":{"description":"网站域名对应的DDoS高防CNAME地址。","type":"string","example":"kzmk7b8tt351****.aliyunddos1014****"},"Http2Enable":{"description":"是否开启了HTTP 2.0协议支持。取值：\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"Https2HttpEnable":{"description":"是否开启了HTTP回源功能。取值：\n\n- **true**：表示已开启。\n- **false**：表示未开启。","type":"boolean","example":"true"},"ProxyTypes":{"description":"转发协议和端口配置。","type":"array","items":{"type":"object","properties":{"ProxyType":{"description":"转发协议类型。取值：\n- **http**：表示HTTP协议。\n- **https**：表示HTTPS协议。\n- **websocket**：表示WebSocket协议。\n- **websockets**：表示WebSockets协议。","type":"string","example":"https"},"ProxyPorts":{"description":"端口列表。","type":"array","items":{"description":"端口。","type":"string","example":"443"}}}}},"RealServers":{"description":"源站服务器地址信息。","type":"array","items":{"type":"object","properties":{"RsType":{"description":"源站服务器地址的类型。取值：\n\n- **0**：表示源站服务器的IP地址。\n- **1**：表示源站服务器的域名地址。通常适用于源站和高防之间还部署有其他代理服务（例如WAF）的场景，具体指代理服务的跳转地址（例如WAF CNAME地址）。","type":"integer","format":"int32","example":"0"},"RealServer":{"description":"源站服务器地址。","type":"string","example":"192.0.XX.XX"}}}},"WhiteList":{"description":"IP白名单（针对域名）列表。","type":"array","items":{"description":"针对该域名的白名单IP。\n\n> 仅在您已经为该域名配置了IP白名单（针对域名）时返回该结果。您可以调用[ConfigWebIpSet](~~157469~~)为网站域名配置IP黑白名单。","type":"string","example":"192.168.XX.XX"}},"BlackList":{"description":"IP黑名单（针对域名）列表。","type":"array","items":{"description":"针对该域名的黑名单IP。\n\n> 仅在您已经为该域名配置了IP黑名单（针对域名）时返回该结果。您可以调用[ConfigWebIpSet](~~157469~~)为网站域名配置IP黑白名单。","type":"string","example":"192.0.XX.XX"}},"CustomCiphers":{"description":"自定义加密套件列表。","type":"array","items":{"description":"自定义加密套件。","type":"string","example":"ECDHE-ECDSA-AES128-GCM-SHA256"}},"GmCert":{"description":"国密相关配置。","type":"object","properties":{"CertId":{"description":"国密标准证书的ID。","type":"string","example":"725****"},"GmEnable":{"description":"是否启用了国密验证功能。\n\n- 0：关闭\n- 1：开启","type":"integer","format":"int64","example":"1"},"GmOnly":{"description":"是否开启了仅支持国密客户端访问。\n\n- 0：关闭\n- 1：开启","type":"integer","format":"int64","example":"1"}}},"CertRegion":{"description":"证书区域。取值：\n- cn-hangzhou：中国大陆地区（默认）\n- ap-southeast-1：非中国大陆地区。","type":"string","example":"cn-hangzhou"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"0F5B72DD-96F4-423A-B12B-A5151DD746B8\\\",\\n  \\\"WebRules\\\": [\\n    {\\n      \\\"Domain\\\": \\\"example.com\\\",\\n      \\\"Http2HttpsEnable\\\": true,\\n      \\\"SslProtocols\\\": \\\"tls1.1\\\",\\n      \\\"PunishReason\\\": 1,\\n      \\\"CcTemplate\\\": \\\"default\\\",\\n      \\\"CcEnabled\\\": true,\\n      \\\"SslCiphers\\\": \\\"default\\\",\\n      \\\"Ssl13Enabled\\\": false,\\n      \\\"CcRuleEnabled\\\": false,\\n      \\\"OcspEnabled\\\": false,\\n      \\\"PunishStatus\\\": true,\\n      \\\"ProxyEnabled\\\": true,\\n      \\\"CertName\\\": \\\"testcert\\\",\\n      \\\"PolicyMode\\\": \\\"ip_hash\\\",\\n      \\\"Cname\\\": \\\"kzmk7b8tt351****.aliyunddos1014****\\\",\\n      \\\"Http2Enable\\\": true,\\n      \\\"Https2HttpEnable\\\": true,\\n      \\\"ProxyTypes\\\": [\\n        {\\n          \\\"ProxyType\\\": \\\"https\\\",\\n          \\\"ProxyPorts\\\": [\\n            \\\"443\\\"\\n          ]\\n        }\\n      ],\\n      \\\"RealServers\\\": [\\n        {\\n          \\\"RsType\\\": 0,\\n          \\\"RealServer\\\": \\\"192.0.XX.XX\\\"\\n        }\\n      ],\\n      \\\"WhiteList\\\": [\\n        \\\"192.168.XX.XX\\\"\\n      ],\\n      \\\"BlackList\\\": [\\n        \\\"192.0.XX.XX\\\"\\n      ],\\n      \\\"CustomCiphers\\\": [\\n        \\\"ECDHE-ECDSA-AES128-GCM-SHA256\\\"\\n      ],\\n      \\\"GmCert\\\": {\\n        \\\"CertId\\\": \\\"725****\\\",\\n        \\\"GmEnable\\\": 1,\\n        \\\"GmOnly\\\": 1\\n      },\\n      \\\"CertRegion\\\": \\\"cn-hangzhou\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeWebRulesResponse>\\n    <TotalCount>1</TotalCount>\\n    <RequestId>0F5B72DD-96F4-423A-B12B-A5151DD746B8</RequestId>\\n    <WebRules>\\n        <Domain>example.com</Domain>\\n        <Http2HttpsEnable>true</Http2HttpsEnable>\\n        <SslProtocols>tls1.1</SslProtocols>\\n        <PunishReason>1</PunishReason>\\n        <CcTemplate>default</CcTemplate>\\n        <CcEnabled>true</CcEnabled>\\n        <SslCiphers>default</SslCiphers>\\n        <Ssl13Enabled>false</Ssl13Enabled>\\n        <CcRuleEnabled>false</CcRuleEnabled>\\n        <OcspEnabled>false</OcspEnabled>\\n        <PunishStatus>true</PunishStatus>\\n        <ProxyEnabled>true</ProxyEnabled>\\n        <CertName>testcert</CertName>\\n        <PolicyMode>ip_hash</PolicyMode>\\n        <Cname>kzmk7b8tt351****.aliyunddos1014****</Cname>\\n        <Http2Enable>true</Http2Enable>\\n        <Https2HttpEnable>true</Https2HttpEnable>\\n        <ProxyTypes>\\n            <ProxyType>https</ProxyType>\\n            <ProxyPorts>443</ProxyPorts>\\n        </ProxyTypes>\\n        <RealServers>\\n            <RsType>0</RsType>\\n            <RealServer>192.0.XX.XX</RealServer>\\n        </RealServers>\\n        <WhiteList>192.168.XX.XX</WhiteList>\\n        <BlackList>192.0.XX.XX</BlackList>\\n        <CustomCiphers>ECDHE-ECDSA-AES128-GCM-SHA256</CustomCiphers>\\n        <GmCert>\\n            <CertId>725****</CertId>\\n            <GmEnable>1</GmEnable>\\n            <GmOnly>1</GmOnly>\\n        </GmCert>\\n    </WebRules>\\n</DescribeWebRulesResponse>\",\"errorExample\":\"\"}]","title":"查询已经创建的网站业务转发规则","summary":"查询网站业务转发规则的配置。","description":"本接口用于分页查询您已创建的网站业务转发规则的配置，例如，转发协议类型、源站服务器地址、HTTPS配置、IP黑名单配置等。\n\n调用本接口前，您必须已经调用[CreateWebRule](~~157463~~)创建了网站业务转发规则。\n\n### QPS限制\n\n本接口的单用户QPS限制为50次/秒。超过限制，API调用将会被限流，这可能影响您的业务，请合理调用。","requestParamsDescription":"调用API时，除了本文中该API的请求参数，还需加入阿里云API公共请求参数。公共请求参数的详细介绍，请参见[公共参数](~~157269~~)。\n\n调用API的请求格式，请参见本文**示例**中的请求示例。","responseParamsDescription":" ","extraInfo":" "}