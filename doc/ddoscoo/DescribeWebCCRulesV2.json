{"summary":"查询网站业务频率控制防护（CC防护）的自定义规则。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","chargeType":"free","abilityTreeCode":"198809","abilityTreeNodes":["FEATUREddosOZ1QOD"]},"parameters":[{"name":"Domain","in":"query","schema":{"description":"要接入DDoS高防进行防护的网站域名。","type":"string","required":false,"example":"example.com"}},{"name":"PageSize","in":"query","schema":{"description":"分页大小，即每页显示多少个结果。最大值**20**，默认值**20**。","type":"string","required":false,"example":"20"}},{"name":"Offset","in":"query","schema":{"description":"开始索引位置，即从第几条结果开始显示。默认从**0**开始。 ","type":"string","required":false,"example":"0"}},{"name":"Owner","in":"query","schema":{"description":"筛选规则来源。取值：\n- **manual**（默认）：手动添加\n- **clover**：自动生成","type":"string","required":false,"example":"manual"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"本次调用请求的 ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"CF33B4C3-196E-4015-AADD-5CAD00057B80"},"TotalCount":{"description":"频率控制规则总数。","type":"string","example":"12"},"Domain":{"description":"网站业务的域名。","type":"string","example":"www.aliyun.com"},"WebCCRules":{"description":"频率控制（CC防护）自定义规则。","type":"array","items":{"description":"频率控制（CC防护）自定义规则。","type":"object","properties":{"Owner":{"description":"规则来源。取值：\n- **manual**（默认）：手动添加\n- **clover**：自动生成","type":"string","example":"manual"},"Expires":{"description":"规则有效期。单位：秒。规则的匹配动作为阻断时（action为block）生效，在规则有效期内阻断访问请求。0表示永久生效。","type":"integer","format":"int64","example":"0"},"Name":{"description":"规则名称。","type":"string","example":"wq"},"RuleDetail":{"description":"规则详情。","type":"object","properties":{"Mode":{"description":"老规则格式，已废弃。","type":"string","example":"废弃"},"Count":{"description":"老规则格式，已废弃。","type":"integer","format":"int32","example":"废弃"},"Name":{"description":"规则名称。","type":"string","example":"ccauto14"},"Action":{"description":"匹配动作。取值：\n- **accept**：放行\n- **block**：封禁\n- **challenge**：挑战\n- **watch**：观察","type":"string","example":"block"},"Interval":{"description":"老规则格式，已废弃。","type":"integer","format":"int32","example":"60"},"Ttl":{"description":"老规则格式，已废弃。","type":"integer","format":"int32","example":"300"},"Uri":{"description":"老规则格式，已废弃。","type":"string","example":"/p3shijihao"},"RateLimit":{"description":"频率统计。","type":"object","properties":{"SubKey":{"description":"字段名称（仅当统计源为header时设置）。","type":"string","example":"action"},"Interval":{"description":"统计周期。单位：秒。","type":"integer","format":"int32","example":"60"},"Threshold":{"description":"触发阈值。","type":"integer","format":"int32","example":"20"},"Ttl":{"description":"封禁时长。单位：秒。","type":"integer","format":"int32","example":"15"},"Target":{"description":"统计源。取值：\n- **ip**：按照IP统计\n- **header**：按照Header统计","type":"string","example":"ip"}}},"Condition":{"description":"匹配条件列表。","type":"array","items":{"description":"匹配条件。","type":"object","properties":{"MatchMethod":{"description":"匹配方法。","type":"string","example":"belong"},"Field":{"description":"匹配字段。","type":"string","example":"ip"},"HeaderName":{"description":"自定义HTTP头部字段名称。\n\n> 仅在**Field**为**header**时有效。","type":"string","example":"null"},"Content":{"description":"匹配内容。","type":"string","example":"192.0.XX.XX"}}}},"Statistics":{"description":"去重统计，可缺省（缺省为不去重统计）。","type":"object","properties":{"Mode":{"description":"去重模式。取值：\n- **count**：不去重统计\n- **distinct**：去重统计","type":"string","example":"count"},"Field":{"description":"统计源。取值：\n- **ip**：按照IP统计\n- **header**：按照Header统计 \n- **uri**：按照uri统计","type":"string","example":"uri"},"HeaderName":{"description":"仅当统计源为header时设置。","type":"string","example":"hello"}}},"StatusCode":{"description":"状态码。","type":"object","properties":{"Enabled":{"description":"是否可用。取值：\n\n- **true**：开启。\n- **false**：关闭。","type":"boolean","example":"true"},"Code":{"description":"状态码。值范围**100**~**599**：\n\n- **200**：表示成功。\n- 其它：表示错误码。","type":"integer","format":"int32","example":"200"},"UseRatio":{"description":"是否使用比率：\n\n- **true**：使用。\n- **false**：不使用。","type":"boolean","example":"true"},"CountThreshold":{"description":"不使用比率时，仅在对应状态码达到 **CountThreshold** 时触发处置动作，值范围**2**~**50000**。","type":"integer","format":"int32","example":"10"},"RatioThreshold":{"description":"使用比率时，仅在对应状态码达到 **RatioThreshold** 时触发处置动作，值范围**1**~**100**。","type":"integer","format":"int32","example":"10"}}}}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CF33B4C3-196E-4015-AADD-5CAD00057B80\\\",\\n  \\\"TotalCount\\\": \\\"12\\\",\\n  \\\"Domain\\\": \\\"www.aliyun.com\\\",\\n  \\\"WebCCRules\\\": [\\n    {\\n      \\\"Owner\\\": \\\"manual\\\",\\n      \\\"Expires\\\": 0,\\n      \\\"Name\\\": \\\"wq\\\",\\n      \\\"RuleDetail\\\": {\\n        \\\"Mode\\\": \\\"废弃\\\",\\n        \\\"Count\\\": 0,\\n        \\\"Name\\\": \\\"ccauto14\\\",\\n        \\\"Action\\\": \\\"block\\\",\\n        \\\"Interval\\\": 60,\\n        \\\"Ttl\\\": 300,\\n        \\\"Uri\\\": \\\"/p3shijihao\\\",\\n        \\\"RateLimit\\\": {\\n          \\\"SubKey\\\": \\\"action\\\",\\n          \\\"Interval\\\": 60,\\n          \\\"Threshold\\\": 20,\\n          \\\"Ttl\\\": 15,\\n          \\\"Target\\\": \\\"ip\\\"\\n        },\\n        \\\"Condition\\\": [\\n          {\\n            \\\"MatchMethod\\\": \\\"belong\\\",\\n            \\\"Field\\\": \\\"ip\\\",\\n            \\\"HeaderName\\\": \\\"null\\\",\\n            \\\"Content\\\": \\\"192.0.XX.XX\\\"\\n          }\\n        ],\\n        \\\"Statistics\\\": {\\n          \\\"Mode\\\": \\\"count\\\",\\n          \\\"Field\\\": \\\"uri\\\",\\n          \\\"HeaderName\\\": \\\"hello\\\"\\n        },\\n        \\\"StatusCode\\\": {\\n          \\\"Enabled\\\": true,\\n          \\\"Code\\\": 200,\\n          \\\"UseRatio\\\": true,\\n          \\\"CountThreshold\\\": 10,\\n          \\\"RatioThreshold\\\": 10\\n        }\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询网站业务频率控制防护（CC防护）的自定义规则"}