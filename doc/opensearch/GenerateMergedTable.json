{"path":"/v4/openapi/assist/schema/actions/merge","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"spec","in":"query","schema":{"description":"目标版本规格（用于独享型特殊限制校验）。\n\n默认：opensearch.share.common\n\n参考：Quota 的 spec","type":"string","required":false,"example":"\"opensearch.share.common\""}},{"name":"body","in":"body","schema":{"required":false,"$ref":"#/components/schemas/Schema"}}],"responses":{"200":{"schema":{"type":"object","properties":{"requestId":{"description":"请求ID","type":"string","example":"ABCDEFGH"},"result":{"description":"返回结果","type":"object","properties":{"primaryKey":{"description":"主键","type":"string","example":"-"},"mergeTable":{"description":"合并后的表","type":"object","example":"-"},"fromTable":{"description":"需要合并的表","type":"object","example":"-"}}}}}},"5XX":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"requestId":{"type":"string"},"httpCode":{"type":"integer","format":"int32"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ABCDEFGH\\\",\\n  \\\"result\\\": {\\n    \\\"primaryKey\\\": \\\"-\\\",\\n    \\\"mergeTable\\\": {\\n      \\\"test\\\": \\\"test\\\",\\n      \\\"test2\\\": 1\\n    },\\n    \\\"fromTable\\\": {\\n      \\\"test\\\": \\\"test\\\",\\n      \\\"test2\\\": 1\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<requestId>8EF9C2DF-34C3-EDCF-6DEA-0445EE53DA20</requestId>\\n<result>\\n    <mergeTable>\\n        <id>\\n            <name>id</name>\\n            <type>INT</type>\\n            <isPk>1</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </id>\\n        <classid>\\n            <name>classid</name>\\n            <type>INT</type>\\n            <isPk>0</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </classid>\\n        <title>\\n            <name>title</name>\\n            <type>TEXT</type>\\n            <isPk>0</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </title>\\n        <js>\\n            <name>js</name>\\n            <type>TEXT</type>\\n            <isPk>0</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </js>\\n        <classid_1>\\n            <name>classid_1</name>\\n            <type>INT</type>\\n            <isPk>0</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </classid_1>\\n        <infotags>\\n            <name>infotags</name>\\n            <type>TEXT</type>\\n            <isPk>0</isPk>\\n            <isMulti>0</isMulti>\\n            <isAttribute>0</isAttribute>\\n        </infotags>\\n    </mergeTable>\\n    <fromTable>\\n        <tables>\\n            <phome_ecms_tuzhi>\\n                <id>\\n                    <name>id</name>\\n                    <type>INT</type>\\n                    <isPk>1</isPk>\\n                    <isMulti>0</isMulti>\\n                </id>\\n                <classid>\\n                    <name>classid</name>\\n                    <type>INT</type>\\n                    <isPk>0</isPk>\\n                    <isMulti>0</isMulti>\\n                </classid>\\n                <title>\\n                    <name>title</name>\\n                    <type>TEXT</type>\\n                    <isPk>0</isPk>\\n                    <isMulti>0</isMulti>\\n                </title>\\n                <js>\\n                    <name>js</name>\\n                    <type>TEXT</type>\\n                    <isPk>0</isPk>\\n                    <isMulti>0</isMulti>\\n                </js>\\n            </phome_ecms_tuzhi>\\n            <phome_ecms_tuzhi_data_1>\\n                <id_1>\\n                    <name>id_1</name>\\n                    <type>INT</type>\\n                    <isPk>1</isPk>\\n                    <isMulti>0</isMulti>\\n                </id_1>\\n                <classid_1>\\n                    <name>classid_1</name>\\n                    <type>INT</type>\\n                    <isPk>0</isPk>\\n                    <isMulti>0</isMulti>\\n                </classid_1>\\n                <infotags>\\n                    <name>infotags</name>\\n                    <type>TEXT</type>\\n                    <isPk>0</isPk>\\n                    <isMulti>0</isMulti>\\n                </infotags>\\n            </phome_ecms_tuzhi_data_1>\\n        </tables>\\n        <master>phome_ecms_tuzhi</master>\\n        <level>\\n            <phome_ecms_tuzhi>0</phome_ecms_tuzhi>\\n            <phome_ecms_tuzhi_data_1>1</phome_ecms_tuzhi_data_1>\\n        </level>\\n        <joinMap>\\n            <phome_ecms_tuzhi>\\n                <id>\\n                    <table>phome_ecms_tuzhi_data_1</table>\\n                    <key>id_1</key>\\n                    <join>\\n                        <classid_1>classid_1</classid_1>\\n                        <infotags>infotags</infotags>\\n                    </join>\\n                </id>\\n            </phome_ecms_tuzhi>\\n        </joinMap>\\n    </fromTable>\\n    <primaryKey>id</primaryKey>\\n</result>\",\"errorExample\":\"\"}]","title":"获取合并后的宽表","summary":"获取合并后的宽表。","requestParamsDescription":" **请求体**\n| 字段 | 类型 | 是否必要 | 示例值 | 描述 |\n| --- | --- | --- | --- | --- |\n| tables | Object | 是 |  | 表结构 |\n| indexes | Object | 否 |  | 索引结构 |\n","responseParamsDescription":"  **返回参数**\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| requestId | String | 请求ID |\n| result.mergeTable | Object | 合并后的宽表结果<br />键为字段名，值为字段详情 |\n| result.fromTable | Object | 源表信息 |\n| result.fromTable.tables | Object | 表信息<br />键为表名，值为表结构信息 |\n| result.fromTable.tables.* | Object | 键为字段名，值为字段详情 |\n| result.fromTable.master | String | 主表 |\n| result.fromTable.level | Object | 表层级信息，从0开始<br />键为表名，值为层级 |\n| result.fromTable.joinMap | Object | 外表连接信息<br />键为表名，值为外表连接信息 |\n| result.fromTable.joinMap.* | Object | 外表连接字段信息<br />键为字段，值为外表连接字段信息 |\n| result.primaryKey | String | 主键字段 |\n\n\n  **TableFields**\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| name | String | 字段名 |\n| type | String | 字段类型<br />参考：[数据表字段](~~179404~~) |\n| isPk | String| 是否为主键<br />0：否<br />1：是 |\n| isMulti | Integer | 是否为多值<br />0：否<br />1：是 |\n| isAttribute | Integer | 是否为属性字段<br />0：否<br />1：是 |\n\n\n  **JoinMapFields**\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| table | String | 外连表名 |\n| key | String | 外连表主键名 |\n| join | Object | 外连表的扩展字段 |\n\n\n\n\n\n","extraInfo":" "}