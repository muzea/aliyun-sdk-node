{"summary":"创建指定功能的一个算法实例。","path":"/v4/openapi/app-groups/{appGroupIdentity}/functions/{functionName}/instances","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"Body","in":"body","style":"json","schema":{"title":"body参数","description":"body参数","type":"object","properties":{"instanceName":{"title":"实例名称","description":"实例名称，度为1-30个字符，以字母开头，可以包含大小写字母、数字和下划线","type":"string","required":true,"example":"ctr_test"},"modelType":{"title":"模型类型","description":"模型类型，不同功能对应的模型类型如下：\n\n- CTR模型：tf_checkpoint\n- 人气模型：pop\n- 类目模型：offline_inference\n- 热词模型：offline_inference\n- 底纹模型：offline_inference\n- 热词模型（实时热搜）：near_realtime\n-  底纹模型（个性化底纹）：near_realtime\n- 下拉提示模型：offline_inference\n- 分词模型：text\n- 词权重模型：tf_checkpoint\n- 同义词模型：offline_inference","type":"string","required":true,"example":"tf_checkpoint"},"functionType":{"title":"功能类型","description":"功能类型：\n\n- PAAS：（默认）需要训练后才能使用","type":"string","required":false,"example":"PAAS"},"description":{"title":"实例描述","description":"描述信息","type":"string","required":false,"example":"测试实例"},"createParameters":{"title":"创建参数","description":"创建参数列表","type":"array","items":{"description":"创建参数体","type":"object","properties":{"name":{"title":"参数名称","description":"参数名称","type":"string","required":false,"example":"title_field"},"value":{"title":"参数值","description":"参数值","type":"string","required":false,"example":"title"}},"required":false,"example":"{             \"name\": \"title_field\",             \"value\": \"title\"         }"},"required":false,"example":"[   { \"name\": \"param1\", \"value\": \"val1\"   } ]"},"usageParameters":{"title":"使用参数","description":"使用参数","type":"array","items":{"description":"在线使用的参数列表，如黑白名单","type":"object","properties":{"name":{"title":"参数名称","description":"参数名称","type":"string","required":false,"example":"allow_dict_id"},"value":{"title":"参数值","description":"参数值","type":"string","required":false,"example":"123"}},"required":false},"required":false},"cron":{"title":"周期训练","description":"周期训练信息，cron语法（Minutes Hours DayofMonth Month DayofWeek），为空表示不进行周期训练（默认），其中DayofWeek 0表示星期日","type":"string","required":false,"example":"0 0 ? * 0,1,2,3,4,5,6"}},"required":false,"docRequired":true,"example":"{     \"instanceName\": \"ctr_test\",     \"modelType\": \"tf_checkpoint\",     \"createParameters\": [         {             \"name\": \"title_field\",             \"value\": \"title\"         },         {             \"name\": \"description_field\",             \"value\": \"\"         },         {             \"name\": \"tags_field\",             \"value\": \"\"         },         {             \"name\": \"id_field\",             \"value\": \"item_id\"         },         {             \"name\": \"category_field\",             \"value\": \"cate\"         }     ],     \"description\": \"测试实例\", }"}},{"name":"appGroupIdentity","in":"path","schema":{"description":"应用名称","type":"string","required":true,"example":"my_app_group_name"}},{"name":"functionName","in":"path","schema":{"description":"功能名称，支持的模型有：\n\n- CTR模型：ctr\n- 人气模型：pop\n- 类目模型：category\n- 热词模型：hot\n- 底纹模型：hint\n- 下拉提示模型：suggest\n- 分词模型：analyzer\n- 词权重模型：termweight\n- 同义词模型：synonym","type":"string","required":true,"example":"ctr"}}],"responses":{"200":{"schema":{"description":"body参数\n\n","type":"object","properties":{"Status":{"description":"状态码","type":"string","example":"OK"},"HttpCode":{"description":"http状态码","type":"integer","format":"int64","example":"200"},"RequestId":{"description":"请求id","type":"string","example":"98724351-D6B2-5D8A-B089-7FFD1821A7E9"},"Message":{"description":"错误信息，正常时为空","type":"string","example":"version not exist."},"Code":{"description":"错误码","type":"string","example":"Version.NotExist"},"Latency":{"description":"请求耗时，单位ms","type":"integer","format":"int64","example":"123"}},"example":"{   \"status\" : \"OK\",   \"requestId\" : \"\",   \"httpCode\": 200,   \"code\": \"\",   \"message\": \"\",   \"latency\" : 123,   \"result\" : {   } }"}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Status\\\": \\\"OK\\\",\\n  \\\"HttpCode\\\": 200,\\n  \\\"RequestId\\\": \\\"98724351-D6B2-5D8A-B089-7FFD1821A7E9\\\",\\n  \\\"Message\\\": \\\"version not exist.\\\",\\n  \\\"Code\\\": \\\"Version.NotExist\\\",\\n  \\\"Latency\\\": 123\\n}\",\"type\":\"json\"}]","title":"创建算法实例","description":"一般先通过[GetFunctionCurrentVersion](~~421377~~)接口获取当前功能使用的最新版本，版本中描述了创建实例所需的参数列表createParameters、usageParameters，以及参数填写要求。","requestParamsDescription":"### 示例（ctr）\n```\nPOST /v4/openapi/app-groups/my-app/functions/ctr/instances\n{\n    \"instanceName\": \"my_ctr\",\n    \"modelType\": \"tf_checkpoint\",\n    \"functionType\": \"PAAS\",\n    \"cron\": \"0 0 ? * 0,1,3,5\",\n    \"description\": \"\",\n    \"createParameters\": [\n        {\n            \"name\": \"id_field\",\n            \"value\": \"id\"\n        },\n        {\n            \"name\": \"title_field\",\n            \"value\": \"title\"\n        }\n    ],\n    \"usageParameters\": []\n}\n```\n### 示例（hot）\n```\nPOST /v4/openapi/app-groups/my-app/functions/hot/instances\n{\n    \"instanceName\":\"my_hot\",\n    \"modelType\":\"offline_inference\",\n    \"functionType\":\"PAAS\",\n    \"createParameters\":[\n        {\n            \"name\":\"filter\",\n            \"value\":\"biz_type != 1\"\n        }\n    ],\n    \"usageParameters\": [\n        {\n            \"name\":\"allow_dict_id\",\n            \"value\":\"123\"\n        },\n        {\n            \"name\":\"deny_dict_id\",\n            \"value\":\"456\"\n        }\n    ],\n    \"cron\":\"12 4 ? * 1,2,3,4,5,6,0\"\n}\n```","responseParamsDescription":"### 正常返回示例：\n```\n{\n  \"status\" : \"OK\",\n  \"requestId\" : \"98724351-D6B2-5D8A-B089-7FFD1821A7E9\",\n  \"httpCode\": 200,\n  \"code\": \"\",\n  \"message\": \"\",\n  \"latency\" : 123,\n  \"result\" : {}\n}\n```"}