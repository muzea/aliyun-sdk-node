{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"FunctionType","in":"formData","schema":{"description":"指定调用功能。包括：\n- encode_text：为采用老版本模型添加文字水印。\n\n- encode_text_plus：为采用新版本模型1添加文字水印。\n\n- encode_text_bold：为采用新版本模型2添加文字水印。\n\n- decode_text：为采用老版本模型解码图像中的文字水印，对应加水印方法encode_text。\n\n- decode_text_plus：为采用新版本模型1解码图像中的文字水印，对应加水印方法encode_text_plus。\n\n- decode_text_bold：为采用新版本模型2解码图像中的文字水印，对应加水印方法encode_text_bold。","type":"string","required":true,"example":"encode_text"}},{"name":"Text","in":"formData","schema":{"description":"待加入的水印文字，字数不超过16个，超过会影响加水印效果。\n>- 当FunctionType为`encode_text`、`encode_text_plus`或`encode_text_bold`时，该参数必填。\n- 当FunctionType为`decode_text`、`decode_text_plus`或`decode_text_bold`时，该参数不填。","type":"string","required":false,"example":"阿里云版权所有一二三四五六七八九"}},{"name":"WatermarkImageURL","in":"formData","schema":{"description":"待解析图，即带有文字水印的合成图。推荐使用上海地域的OSS链接，对于文件在本地或者非上海地域OSS链接的情况，请参见[文件URL处理](~~155645~~)。\n>- 当FunctionType为`decode_text`、`decode_text_plus`或`decode_text_bold`时，该参数必填。\n- 当FunctionType为`encode_text`、`encode_text_plus`或`encode_text_bold`，该参数不填。","type":"string","required":false,"example":"https://viapi-doc.oss-cn-shanghai.aliyuncs.com/imageenhan/xxxxx.jpg","isFileTransferUrl":true}},{"name":"OutputFileType","in":"formData","schema":{"description":"输出图格式。可以选择`png`、`jpg`、`bmp`三种格式，默认`png`。\n>- 当FunctionType为`encode_text`、`encode_text_plus`或`encode_text_bold`时，该参数必填。\n- 当FunctionType为`decode_text`、`decode_text_plus`或`decode_text_bold`时，该参数不填。","type":"string","required":false,"example":"jpg"}},{"name":"QualityFactor","in":"formData","schema":{"description":"输出图像的质量大小。图像越大质量越高，取值范围1~100，默认100。\n>仅当OutputFileType为`jpg`时有效。","type":"integer","format":"int32","required":false,"example":"100"}},{"name":"OriginImageURL","in":"formData","schema":{"description":"原始图像。推荐使用上海地域的OSS链接，对于文件在本地或者非上海地域OSS链接的情况，请参见[文件URL处理](~~155645~~)。\n>- 当FunctionType为`encode_text`、`encode_text_plus`、`encode_text_bold`或`decode_text`时，该参数必填。\n- 当FunctionType为`decode_text_plus`或`decode_text_bold`时，该参数不填。","type":"string","required":false,"example":"https://viapi-test.oss-cn-shanghai.aliyuncs.com/test-team/xxxxx.jpg","isFileTransferUrl":true}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2457E1ED-9C76-4386-B9A2-7E41B7D6E849"},"Data":{"description":"返回的结果数据内容。","type":"object","properties":{"WatermarkImageURL":{"description":"当调用功能为`encode_text`或`encode_text_plus `时，返回带有添加水印的图像URL地址。\n> 该URL地址为临时地址，有效期为30分钟，过期后将无法访问。若需要长时间或者永久保存文件，请在30分钟内访问URL地址，下载文件转存到自己的OSS或者其他存储空间。","type":"string","example":"http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&Expires=158340****&Signature=Heet1ivG0xFP3YlO6usvd0pmrH****"},"TextImageURL":{"description":"当调用功能为`decode_text`或`decode_text_plus`时，返回解析出的只含有文字的图像URL地址。\n> 该URL地址为临时地址，有效期为30分钟，过期后将无法访问。若需要长时间或者永久保存文件，请在30分钟内访问URL地址，下载文件转存到自己的OSS或者其他存储空间。","type":"string","example":"http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&Expires=158340****&Signature=Heet1ivG0xFP3YlO6usvd0pmrH****"}}}}}}},"errorCodes":{"400":[{"errorCode":"ParameterError","errorMessage":"The parameter is invalid. Please check again."}],"403":[{"errorCode":"AuthFailed","errorMessage":"An error occurred while performing authorization. Please check your RAM configuration."}],"408":[{"errorCode":"Timeout","errorMessage":"The request has timed out."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The service is unavailable."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2457E1ED-9C76-4386-B9A2-7E41B7D6E849\\\",\\n  \\\"Data\\\": {\\n    \\\"WatermarkImageURL\\\": \\\"http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&Expires=158340****&Signature=Heet1ivG0xFP3YlO6usvd0pmrH****\\\",\\n    \\\"TextImageURL\\\": \\\"http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&Expires=158340****&Signature=Heet1ivG0xFP3YlO6usvd0pmrH****\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RequestId>2457E1ED-9C76-4386-B9A2-7E41B7D6E849</RequestId>\\n<Data>\\n    <TextImageURL>http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&amp;Expires=158340****&amp;Signature=Heet1ivG0xFP3YlO6usvd0pmrH****</TextImageURL>\\n    <WatermarkImageURL>http://algo-app-taobao-mm-cn-shanghai-prod.oss-cn-shanghai.aliyuncs.com/pixelai-portrait-beauty%2F2020_03_04%2F61f544a1a5004c88a2bf29452db494e9.jpeg?OSSAccessKeyId=LTAI4Fmdm1gQonFLrghJ****&amp;Expires=158340****&amp;Signature=Heet1ivG0xFP3YlO6usvd0pmrH****</WatermarkImageURL>\\n</Data>\",\"errorExample\":\"\"}]","title":"图像隐形文字水印","summary":"本文介绍图像隐形文字水印ImageBlindCharacterWatermark语法及示例。","description":"## 功能描述\n图像隐形文字水印能力可以为图片添加或者解析指定文字水印。\n关于该接口功能的示例图如下：\n![](https://img.alicdn.com/tfs/TB1jJ0SAkY2gK0jSZFgXXc5OFXa-746-395.png)\n\n> - 您可以进入[在线咨询](https://www.aliyun.com/core/online-consult?from=aZgW6LJHr2)获取在线人工帮助。\n- 当前能力可在视觉智能开放平台有完整的免费产品体验，您可以单击[立即试用](https://vision.aliyun.com/experience/detail?&tagName=imageenhan&children=ImageBlindCharacterWatermark)对该能力进行更直观试用以及在线购买。\n- 阿里云视觉智能开放平台视觉AI能力API接入、接口使用或问题咨询等，请通过钉钉群（23109592）加入阿里云视觉智能开放平台咨询群联系我们。\n\n## 应用场景\n- 著作权保护：图片的作者依法享有著作权。在图像中增加隐形水印，可以为图片的作者或被授权人证明图片的著作权归属，避免图片在未获得作者授权的情况下被非法使用。\n- 防止信息泄露：在涉密信息的图片中，对不同的访问者打上不同的隐形水印。如果图片一旦被泄露，可以通过解析隐形水印，排查出泄密源。\n\n## 特色优势\n隐形水印与传统图章水印相比，其无法被观看者察觉，不影响图片效果。水印无法被使用者察觉，也无法通过普通的去水印方法去除，但可以通过图像隐形文字水印解析出水印，证明图片的著作权归属。\n\n## 接入指引\n1. 注册阿里云账号：打开[阿里云官网](https://www.aliyun.com)，在阿里云官网右上角，单击**立即注册**，按照操作提示完成账号注册。\n2. 开通能力：请确保您已开通[图像生产服务](https://vision.aliyun.com/imageenhan)，若未开通服务请[立即开通](https://common-buy.aliyun.com/?commodityCode=viapi_imageenhan_public_cn#/open)。\n3. 创建AccessKey：请确保您已[创建AccessKey](~~175144~~)，如果您使用的是子账号AccessKey，您需要给子账号赋予AliyunVIAPIFullAccess权限，具体操作，请参见[RAM授权](~~145025~~)。\n4. 在线调试（可选）：您可以通过[OpenAPI Explorer](https://next.api.aliyun.com/api/imageenhan/2019-09-30/ImageBlindCharacterWatermark?lang=JAVA&sdkStyle=dara&params=%7B%22OriginImageURL%22%3A%22http%3A%2F%2Fviapi-test.oss-cn-shanghai.aliyuncs.com%2Fviapi-3.0domepic%2Fimageenhan%2FImageBlindCharacterWatermark%2FImageBlindCharacterWatermark1.png%22%2C%22Text%22%3A%22%E9%98%BF%E9%87%8C%E4%BA%91%E7%89%88%E6%9D%83%E6%89%80%E6%9C%89%22%2C%22FunctionType%22%3A%22encode_text_plus%22%2C%22QualityFactor%22%3A100%2C%22OutputFileType%22%3A%22jpg%22%7D&tab=DEMO)在线调试能力，查看完整的调用示例代码及SDK依赖信息，也可以下载完整的工程。\n5. 开发接入步骤：\n- 在[SDK总览](~~145033~~)中选择您要接入使用的SDK语言。\n- 在对应语言的SDK文档中找到AI类目为图像生产（imageenhan）的SDK包进行安装。\n- 参考文档中提供的示例代码进行适当修改后调用。\n\n6. 客户端直接调用：该能力常用的客户端调用方式包括以下几种。\n- [Web前端直接调用](~~467779~~)\n- [小程序场景下直接调用](~~467780~~)\n- [Android端直接调用](~~467781~~)\n- [iOS端直接调用](~~467782~~)\n\n## 输入限制\n\n- 图像格式：JPEG、JPG、PNG、BMP。\n- 图像大小：不超过3 MB。\n- 图像分辨率：大于5×5像素。\n- URL地址中不能包含中文字符。\n\n## 计费说明\n关于图像隐形文字水印的计费方式及报价，请参见[计费介绍](~~202482~~)。\n\n> 下方调试接口为付费接口，如需免费体验调试请前往[体验中心](https://vision.aliyun.com/experience/detail?&tagName=imageenhan&children=ImageBlindCharacterWatermark)。","requestParamsDescription":" ","responseParamsDescription":"## SDK参考\n阿里云视觉AI图像生产类目下的图像隐形文字水印能力推荐使用SDK调用，支持多种编程语言，调用时请选择AI类目为图像生产（imageenhan）的SDK包，文件参数通过SDK调用可支持本地文件及任意URL，具体可参见[SDK总览](~~145033~~)。","extraInfo":"## 错误码\n关于图像隐形文字水印的错误码，详情请参见[常见错误码](~~145023~~)。\n\n## 安全声明\n- 请确保上传的图片或文件来源符合相应的法律法规。\n- 通过体验调试上传的临时文件有效期为1小时，在24小时后会被系统自动清理删除。"}