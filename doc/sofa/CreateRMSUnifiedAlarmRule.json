{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{},"parameters":[{"name":"Name","in":"formData","schema":{"description":"报警规则名称","type":"string","required":true,"docRequired":true,"example":"uitest1645783390369"}},{"name":"Category","in":"formData","schema":{"description":"规则类型","type":"string","required":true,"docRequired":true,"example":"CUSTOM"}},{"name":"RuleConfig","in":"formData","schema":{"description":"规则配置信息","type":"string","required":true,"docRequired":true,"example":"{\\\"trafficType\\\":\\\"i\\\",\\\"methodName\\\":\\\"*\\\",\\\"faultInjectRuleItems\\\":[{\\\"action\\\":{\\\"type\\\":\\\"REJECT\\\"},\\\"ruleType\\\":\\\"ABORT\\\",\\\"configs\\\":{\\\"faultPercent\\\":100}}]} "}},{"name":"AlarmNodata","in":"formData","schema":{"description":"报警通知结果数据","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"Level","in":"formData","schema":{"description":"Prometheus告警规则的等级。\n\n- P1：一般用于影响核心业务可用性，影响范围很大，可能导致严重后果的重大问题的告警通知。\n- P2：一般用于部分业务出错，会对系统可用性造成一定影响，但是影响范围相对有限的问题的告警通知。\n- P3：一般用于对可能导致业务出错或者受影响的问题的告警通知，或者在相对重要程度较低的业务发送的告警通知。\n- P4： 用于需要通知，但是优先级较低，也不会对业务造成影响的场景发送告警通知。\n- 默认：如果不需要区分告警等级，可以使用默认级别。","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0","example":"1"}},{"name":"Emergency","in":"formData","schema":{"description":"应急处理人","type":"string","required":false,"docRequired":false}},{"name":"EmergencyUrl","in":"formData","schema":{"description":"应急处理链接","type":"string","required":false,"docRequired":false}},{"name":"PendingHit","in":"formData","schema":{"description":"\t触发周期","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"RecoveredHit","in":"formData","schema":{"description":"恢复周期","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"Step","in":"formData","schema":{"description":"检测频率","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0","example":"1"}},{"name":"SilenceTime","in":"formData","schema":{"description":"通知静默时间","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0","example":"300"}},{"name":"NotifyFiring","in":"formData","schema":{"description":"告警触发时通知 1:勾选 0:不勾选","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"NotifyRecovered","in":"formData","schema":{"description":"告警恢复时通知 1:勾选 0:不勾选","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"NotifyNodata","in":"formData","schema":{"description":"待删除的订阅数据总量","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0"}},{"name":"NotifyTimeFilterJsonStr","in":"formData","schema":{"description":"查询告警规则的时间范围","type":"string","required":false,"docRequired":false}},{"name":"WorkspaceName","in":"formData","schema":{"description":"工作空间名称","type":"string","required":true,"docRequired":true,"example":"prod"}},{"name":"ChannelsRepeatList","in":"formData","style":"repeatList","schema":{"description":"告警通知渠道","type":"array","items":{"description":"告警渠道名称","type":"string","required":false},"required":true,"maxItems":100}},{"name":"NotifyTarget","in":"formData","style":"repeatList","schema":{"description":"告警通知对象。取值：accountContact。","type":"array","items":{"description":"告警通知对象。取值：accountContact。","type":"object","properties":{"SubscriberSource":{"description":"\t\n订阅者来源","type":"string","required":true,"example":"LOCAL"},"SubscriberType":{"description":"订阅者类型","type":"string","required":true,"example":"USER_GROUP"},"Subscriber":{"description":"通知人id","type":"string","required":true,"example":"1"},"SubscriberUuid":{"type":"string","required":true,"example":"400"},"SubscriberName":{"description":"告警对象的名称","type":"string","required":true,"example":"实人认证-灰度测试"}},"required":false},"required":false,"maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"ResultMessage":{"description":"结果描述","type":"string","example":"OK"},"ResultCode":{"description":"结果码","type":"string","example":"OK"},"RequestId":{"description":"请求ID","type":"string","example":"5F656C56-F99E-5C1E-AE7F-D9F78AC8D706"}}}}},"errorCodes":{},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ResultMessage\\\": \\\"OK\\\",\\n  \\\"ResultCode\\\": \\\"OK\\\",\\n  \\\"RequestId\\\": \\\"5F656C56-F99E-5C1E-AE7F-D9F78AC8D706\\\"\\n}\",\"type\":\"json\"}]","title":"创建告警规则","summary":"创建告警规则。"}