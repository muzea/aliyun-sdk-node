{"summary":"调用DescribeFlowLogs接口查询流日志。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"流日志所属的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"FlowLogName","in":"query","schema":{"description":"流日志名称。\n\n名称长度为1～128个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"myFlowlog"}},{"name":"FlowLogId","in":"query","schema":{"description":"流日志ID。","type":"string","required":false,"example":"fl-bp1f6qqhsrc2c12ta****"}},{"name":"Description","in":"query","schema":{"description":"流日志描述信息。\n\n描述长度为1～256个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"This is my Flowlog."}},{"name":"ResourceType","in":"query","schema":{"description":"要捕获的流量的资源类型。取值：\n          \n- **NetworkInterface**：弹性网卡。\n  \n- **VSwitch**：交换机内的所有弹性网卡。\n  \n- **VPC**：专有网络内的所有弹性网卡。\n","type":"string","required":false,"example":"NetworkInterface"}},{"name":"ResourceId","in":"query","schema":{"description":"要捕获的流量的资源ID。","type":"string","required":false,"example":"eni-askldfas****"}},{"name":"TrafficType","in":"query","schema":{"description":"采集的流量类型。取值：\n          \n- **All**：全部流量。\n  \n- **Allow**：访问控制允许的流量。\n  \n- **Drop**：访问控制拒绝的流量。\n","type":"string","required":false,"example":"All"}},{"name":"ProjectName","in":"query","schema":{"description":"管理捕获到的流量的Project。","type":"string","required":false,"example":"FlowLogProject"}},{"name":"LogStoreName","in":"query","schema":{"description":"存储捕获到的流量的Logstore。","type":"string","required":false,"example":"FlowLogStore"}},{"name":"Status","in":"query","schema":{"description":"流日志的状态。取值：\n- **Active**：流日志为启动状态。\n\n- **Activating**：流日志正在创建中。\n\n- **Inactive**：流日志为未启动状态。","type":"string","required":false,"example":"Active"}},{"name":"PageNumber","in":"query","schema":{"description":"列表的页码，默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时每页的行数，最大值为**50**，默认值为**20**。","type":"integer","format":"int32","required":false,"example":"20","default":"20"}},{"name":"VpcId","in":"query","schema":{"description":"所要查看流日志的VPC的ID。","type":"string","required":false,"example":"vpc-bp1nwd16gvo1wgs****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"流日志所属的资源组ID。","type":"string","required":false,"example":"rg-bp67acfmxazb4ph****"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"资源的标签键。最多支持输入20个标签键。如需传入该值，则不能输入空字符串。\n\n一个标签键最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"FinanceDept"},"Value":{"description":"资源的标签值。最多支持输入20个标签值。如需传入该值，可以输入空字符串。\n\n最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"FinanceJoshua"}},"required":false},"required":false,"maxItems":10}}],"responses":{"200":{"schema":{"description":"流日志详细信息。","type":"object","properties":{"PageSize":{"description":"分页查询时每页的行数。","type":"string","example":"20"},"PageNumber":{"description":"列表的页码。","type":"string","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"F7DDDC17-FA06-4AC2-8F35-59D2470FCFC1"},"TotalCount":{"description":"查询到的流日志列表条目数。","type":"string","example":"1"},"Success":{"description":"是否调用成功。取值：\n\n- **true**：调用成功。\n- **false**：调用失败。","type":"string","example":"true"},"FlowLogs":{"type":"object","properties":{"FlowLog":{"description":"流日志列表。","type":"array","items":{"description":"流日志列表。","type":"object","properties":{"Status":{"description":"流日志的状态。取值：\n- **Active**：流日志为启动状态。\n\n- **Activating**：流日志正在创建中。\n\n- **Inactive**：流日志为未启动状态。","type":"string","example":"Active"},"CreationTime":{"description":"流日志的创建时间。","type":"string","example":"2022-01-21T03:08:50Z"},"FlowLogName":{"description":"流日志名称。","type":"string","example":"myFlowlog"},"TrafficType":{"description":"流日志捕获的流量类型。取值：\n\n- **All**：全部流量。\n- **Allow**：访问控制允许的流量。\n- **Drop**：访问控制拒绝的流量。","type":"string","example":"All"},"ResourceType":{"description":"流日志捕获的流量的资源类型：\n\n- **NetworkInterface**：弹性网卡。\n- **VSwitch**：交换机内的所有弹性网卡。\n- **VPC**：专有网络内的所有弹性网卡。","type":"string","example":"NetworkInterface"},"Description":{"description":"流日志描述信息。","type":"string","example":"Description"},"ProjectName":{"description":"管理捕获到的流量的Project。","type":"string","example":"FlowLogProject"},"LogStoreName":{"description":"存储捕获到的流量的Logstore。","type":"string","example":"FlowLogStore"},"ResourceId":{"description":"流日志捕获的流量的资源ID。","type":"string","example":"eni-askldfas****"},"RegionId":{"description":"流日志所属地域ID。","type":"string","example":"cn-hangzhou"},"FlowLogId":{"description":"流日志ID。","type":"string","example":"fl-bp1f6qqhsrc2c12ta****"},"BusinessStatus":{"description":"业务状态。取值：\n\n- **Normal**：正常状态。\n- **FinancialLocked**：欠费锁定。","type":"string","example":"Normal"},"AggregationInterval":{"description":"流日志的采样间隔。单位：分钟。","type":"integer","format":"int32","example":"10"},"TrafficPath":{"type":"object","properties":{"TrafficPathList":{"description":"采集的流量路径。取值：\n\n- **all**：表示全量采集。\n- **internetGateway**：表示公网流量采集。","type":"array","items":{"description":"采集的流量路径。取值：\n\n- **all**（默认值）：表示全量采集。\n- **internetGateway**：表示公网流量采集。\n\n<props=\"china\">\n> 流量路径功能默认不开放，如需使用，请[提交工单](https://selfservice.console.aliyun.com/ticket/category/ga/today)申请。</props>\n\n\n<props=\"intl\">\n> 流量路径功能默认不开放，如需使用，请[提交工单](https://workorder-intl.console.aliyun.com/?spm=5176.11182188.console-base-top.dworkorder.18ae4882n3v6ZW#/ticket/createIndex)申请。</props>\n","type":"string","example":"all"}}}},"ServiceType":{"description":"云服务的托管类型。\n\n- 可以为空，表示该流日志为用户自己创建。\n- 非空时只支持取值为：**sls**，表示该流日志为通过日志服务控制台创建。\n\n> 通过日志服务控制台创建的流日志实例可以展示在VPC列表中，但在VPC中无法对该流日志实例进行修改、启动、停止、删除操作，如果您需要对该流日志进行相关操作，您可以登录[日志服务控制台](https://sls.console.aliyun.com)对其进行修改、启动、停止、删除操作。","type":"string","example":"sls"},"ResourceGroupId":{"description":"流日志所属的资源组ID。","type":"string","example":"rg-bp67acfmxazb4ph****"},"Tags":{"type":"object","properties":{"Tag":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"标签键。","type":"string","example":"FinanceDept"},"Value":{"description":"标签值。","type":"string","example":"FinanceJoshua"}}}}}},"FlowLogDeliverStatus":{"description":"流日志的投递状态，取值：\n\n- **SUCCESS**：投递成功。\n- **FAILED**：投递失败。","type":"string","example":"FAILED"},"FlowLogDeliverErrorMessage":{"description":"当流日志投递失败时，可以根据报错信息排查问题，可能的报错信息有：\n\n- **UnavaliableTarget**：日志服务SLS的Logstore不可用，无法接收日志。建议查看对应Logstore是否真实存在且可访问。\n- **ProjectNotExist**： 日志服务SLS的Project不存在。建议删除原流日志，创建新流日志指向真实存在的Project。\n- **UnknownError**：发生内部错误，请稍后重试。","type":"string","example":"UnavaliableTarget"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidInstanceId","errorMessage":"Instance does not exist."},{"errorCode":"ProjectOrLogstoreNotExist","errorMessage":"The specified project or logstore does not exist."},{"errorCode":"SourceProjectNotExist","errorMessage":"The Source Project or logstore does not exist."},{"errorCode":"Unauthorized","errorMessage":"This api does not support sub user or role."},{"errorCode":"ParameterInvalid","errorMessage":"Invalid parameter."},{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"PageSize\\\": \\\"20\\\",\\n  \\\"PageNumber\\\": \\\"1\\\",\\n  \\\"RequestId\\\": \\\"F7DDDC17-FA06-4AC2-8F35-59D2470FCFC1\\\",\\n  \\\"TotalCount\\\": \\\"1\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"FlowLogs\\\": {\\n    \\\"FlowLog\\\": [\\n      {\\n        \\\"Status\\\": \\\"Active\\\",\\n        \\\"CreationTime\\\": \\\"2022-01-21T03:08:50Z\\\",\\n        \\\"FlowLogName\\\": \\\"myFlowlog\\\",\\n        \\\"TrafficType\\\": \\\"All\\\",\\n        \\\"ResourceType\\\": \\\"NetworkInterface\\\",\\n        \\\"Description\\\": \\\"Description\\\",\\n        \\\"ProjectName\\\": \\\"FlowLogProject\\\",\\n        \\\"LogStoreName\\\": \\\"FlowLogStore\\\",\\n        \\\"ResourceId\\\": \\\"eni-askldfas****\\\",\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"FlowLogId\\\": \\\"fl-bp1f6qqhsrc2c12ta****\\\",\\n        \\\"BusinessStatus\\\": \\\"Normal\\\",\\n        \\\"AggregationInterval\\\": 10,\\n        \\\"TrafficPath\\\": {\\n          \\\"TrafficPathList\\\": [\\n            \\\"all\\\"\\n          ]\\n        },\\n        \\\"ServiceType\\\": \\\"sls\\\",\\n        \\\"ResourceGroupId\\\": \\\"rg-bp67acfmxazb4ph****\\\",\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"Key\\\": \\\"FinanceDept\\\",\\n              \\\"Value\\\": \\\"FinanceJoshua\\\"\\n            }\\n          ]\\n        },\\n        \\\"FlowLogDeliverStatus\\\": \\\"FAILED\\\",\\n        \\\"FlowLogDeliverErrorMessage\\\": \\\"UnavaliableTarget\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeFlowLogsResponse>\\n    <PageSize>20</PageSize>\\n    <PageNumber>1</PageNumber>\\n    <RequestId>F7DDDC17-FA06-4AC2-8F35-59D2470FCFC1</RequestId>\\n    <TotalCount>1</TotalCount>\\n    <Success>true</Success>\\n    <FlowLogs>\\n        <Status>Active</Status>\\n        <CreationTime>2022-01-21T03:08:50Z</CreationTime>\\n        <FlowLogName>myFlowlog</FlowLogName>\\n        <TrafficType>All</TrafficType>\\n        <ResourceType>NetworkInterface</ResourceType>\\n        <Description>Description</Description>\\n        <ProjectName>FlowLogProject</ProjectName>\\n        <LogStoreName>FlowLogStore</LogStoreName>\\n        <ResourceId>eni-askldfas****</ResourceId>\\n        <RegionId>cn-hangzhou</RegionId>\\n        <FlowLogId>fl-bp1f6qqhsrc2c12ta****</FlowLogId>\\n        <BusinessStatus>Normal</BusinessStatus>\\n        <AggregationInterval>10</AggregationInterval>\\n        <TrafficPath>all</TrafficPath>\\n        <ServiceType>sls</ServiceType>\\n        <ResourceGroupId>rg-bp67acfmxazb4ph****</ResourceGroupId>\\n        <Tags>\\n            <Key>FinanceDept</Key>\\n            <Value>FinanceJoshua</Value>\\n        </Tags>\\n        <FlowLogDeliverStatus>FAILED</FlowLogDeliverStatus>\\n        <FlowLogDeliverErrorMessage>UnavaliableTarget</FlowLogDeliverErrorMessage>\\n    </FlowLogs>\\n</DescribeFlowLogsResponse>\",\"errorExample\":\"\"}]","title":"查询流日志","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}