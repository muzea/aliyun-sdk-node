{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"ZoneId","in":"query","schema":{"description":"要创建的默认交换机所属的可用区ID。\n\n您可以通过调用[DescribeZones](~~36064~~)接口获取可用区ID。  ","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou-b"}},{"name":"RegionId","in":"query","schema":{"description":"要创建的默认交换机的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。 ","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Ipv6CidrBlock","in":"query","schema":{"description":"交换机IPv6网段的最后8比特位，取值：**0**～**255**。","type":"integer","format":"int32","required":false,"example":"12"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}}],"responses":{"200":{"schema":{"description":"创建的默认交换机的ID。","type":"object","properties":{"VSwitchId":{"description":"创建的默认交换机的ID。","type":"string","example":"vsw-bp1a4b5qhmxftjimq****"},"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidDescription.Malformed","errorMessage":"Invalid description."},{"errorCode":"InvalidVSwitchName.Malformed","errorMessage":"Specified virtual switch name is not valid."},{"errorCode":"InvalidVSwitchDiscription.Malformed","errorMessage":"Specified  virtual switch description is not valid."},{"errorCode":"Abs.Vpc.InvalidDescription.Malformed","errorMessage":"Specified virtual switch name is not valid."},{"errorCode":"ResourceNotAvailable","errorMessage":"Resource you requested is not available in this region or zone."},{"errorCode":"InvalidParameter","errorMessage":"Specified CIDR block is not valid in VPC."},{"errorCode":"InvalidCidrBlock.Overlapped","errorMessage":"Specified CIDR block overlapped with other subnets."},{"errorCode":"QuotaExceeded.VSwitch","errorMessage":"Virtual switch quota exceeded."},{"errorCode":"IncorrectRouteEntryStatus","errorMessage":"Some route entry status blocked this operation."},{"errorCode":"IncorrectVSwitchStatus","errorMessage":"Some virtual switch is modifying within the same VPC."},{"errorCode":"InvalidCirdrBlock.MaskLength","errorMessage":"Specified CIDR block is not valid ."},{"errorCode":"IncorrectVpcStatus","errorMessage":"Current VPC status does not support this operation."},{"errorCode":"CreateVSwitch.IncorrectStatus.cbnStatus","errorMessage":"Current CBN status does not support this operation."},{"errorCode":"InvalidCidrBlock.Malformed","errorMessage":"Specified CIDR block is not valid."},{"errorCode":"MissingParameter","errorMessage":"Miss mandatory parameter."},{"errorCode":"TaskConflict","errorMessage":"The operation is too frequent, TaskConflict."},{"errorCode":"VPC.SWITCH.RULE.QUOTA.NOT.EXISTS","errorMessage":"vSwitch quota rule not exists."},{"errorCode":"Forbidden.VpcNotFound","errorMessage":"Specified VPC can not found."},{"errorCode":"RouteConflict.AlreadyExist","errorMessage":"Route conflict exists in routing table."},{"errorCode":"OperationFailed.CidrAcross","errorMessage":"Classic link instance cidr must not across."},{"errorCode":"Duplicated.ClientToken","errorMessage":"%s"},{"errorCode":"OperationFailed.Ipv6CidrBlockExisted","errorMessage":"%s"},{"errorCode":"IllegalParam.Ipv6CidrBlock","errorMessage":"%s"},{"errorCode":"OperationFailed.VpcIpv6Disabled","errorMessage":"%s"},{"errorCode":"IncorrectStatus.cbnStatus","errorMessage":"Current CBN status does not support this operation."},{"errorCode":"OperationFailed.DefaultVpcNotExist","errorMessage":"%s"},{"errorCode":"UnsupportedFeature.CloudBoxIpv6","errorMessage":"The IPv6 feature is not supported by cloud box."},{"errorCode":"OperationDenied.VpcPeerExist","errorMessage":"The operation is not allowed because the VPC peer exists."},{"errorCode":"OperationDenied.CenAttached","errorMessage":"The operation is not allowed because the VPC is attached to CEN."},{"errorCode":"OperationDenied.NatgwExist","errorMessage":"The operation is not allowed because the NAT gateway exists in VPC."},{"errorCode":"OperationDenied.OtherSubnetCreating","errorMessage":"other subnet is creating"},{"errorCode":"OperationFailed.DefaultVSwitchExist","errorMessage":"A default vSwitch already exists in the zone."}],"404":[{"errorCode":"Invalid.NotExist","errorMessage":"witch mask rule not exists."},{"errorCode":"InvalidStatus.RouteEntry","errorMessage":"RouteEntry status error."},{"errorCode":"InvalidZoneId.NotFound","errorMessage":"Specified zone does not exist."},{"errorCode":"InvalidVpcId.NotFound","errorMessage":"Specified VPC does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"VSwitchId\\\": \\\"vsw-bp1a4b5qhmxftjimq****\\\",\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDefaultVSwitchResponse>\\n    <VSwitchId>vsw-bp1a4b5qhmxftjimq****</VSwitchId>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</CreateDefaultVSwitchResponse>\",\"errorExample\":\"\"}]","title":"创建默认交换机","summary":"调用CreateDefaultVSwitch接口创建一个默认的交换机。","description":"调用该接口创建默认交换机时，请注意以下事项：\n- 每个默认交换机网段的第1个和最后3个IP地址为系统保留地址。例如192.168.1.0/24的系统保留地址为192.168.1.0、192.168.1.253、192.168.1.254和192.168.1.255。  \n\n- 默认交换机下的云产品实例数量不允许超过VPC剩余的可用云产品实例数量（15000减去当前云产品实例数量）。  \n\n- 默认交换机不支持组播和广播。\n\n- 默认交换机创建成功后，无法修改网段。\n\n- **CreateDefaultVSwitch**接口属于异步接口，即系统会返回一个实例ID，但该默认交换机尚未创建完成，系统后台任务仍在进行中。您可以调用[DescribeVSwitchAttributes](~~94567~~)查询默认交换机的创建状态：\n    - 当默认交换机处于**Pending**状态时，表示默认交换机正在配置中。\n    - 当默认交换机处于**Available**状态时，表示默认交换机可用。\n- 当指定地域的可用区已有默认交换机时，调用该接口创建默认交换机会失败。\n- 创建默认交换机时，需要先创建一个默认VPC。您可以通过调用[CreateDefaultVpc](~~609152~~)接口创建默认VPC。"}