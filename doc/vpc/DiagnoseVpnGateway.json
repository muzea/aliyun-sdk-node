{"summary":"调用DiagnoseVpnGateway接口一键诊断指定的VPN网关实例。","description":"仅部分地域下的VPN网关实例支持一键诊断功能。关于地域的更多信息，请参见[VPN网关功能支持的地域](~~430697~~)。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"RegionId","description":"VPN网关实例所属的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。  ","type":"string","required":true,"example":"cn-qingdao"}},{"name":"ResourceId","in":"query","schema":{"title":"ResourceId","description":"待诊断的资源ID。","type":"string","required":true,"example":"vco-uf66xniofskqtuoz1****"}},{"name":"ResourceType","in":"query","schema":{"title":"ResourceType","description":"待诊断的资源类型。\n\n仅取值：**IPsec**，表示IPsec连接。","type":"string","required":true,"example":"IPsec"}},{"name":"VpnGatewayId","in":"query","schema":{"title":"VpnGatewayId","description":"VPN网关实例ID。","type":"string","required":true,"example":"vpn-m5efhj0k1p47ctuhl****"}},{"name":"IPsecExtendInfo","in":"query","schema":{"title":"IPsecExtendInfo","description":"检查指定地址间的私网连通性。取值：\n\n- **PrivateSourceIp**：源IP地址。源IP地址需为VPC侧的地址。\n- **PrivateDestinationIp**：目的IP地址。目的IP地址需为本地数据中心侧的地址。","type":"string","required":false,"example":"{\"PrivateSourceIp\":\"192.168.1.1\",\"PrivateDestinationIp\":\"192.168.0.1\"}"}},{"name":"ClientToken","in":"query","schema":{"title":"system param","description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n>若您未指定，则系统自动使用API请求的RequestId作为ClientToken标识。每次API请求的RequestId不一样。","type":"string","required":false,"example":"02fb3da4-130e-11e9-8e44-001****"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果。","type":"object","properties":{"DiagnoseId":{"title":"DiagnoseId","description":"诊断ID。\n\n当前接口返回诊断ID后，您可以调用[GetVpnGatewayDiagnoseResult](~~2521963~~)接口查询诊断报告。","type":"string","example":"vpndgn-uf6kuxbe3iv028k3s****"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"IdempotentParameterMismatch","errorMessage":"The request uses the same client token as a previous, but non-identical request. Do not reuse a client token with different requests, unless the requests are identical."},{"errorCode":"VpnGateway.Configuring","errorMessage":"The specified service is configuring."},{"errorCode":"OperationUnsupported.DiagnoseVpn","errorMessage":"Current version of the VPN does not support diagnose."},{"errorCode":"IllegalParam.ResourceType","errorMessage":"The specified resource type [%s] is invalid."},{"errorCode":"OperationFailed.VpnGatewayDiagnosing","errorMessage":"The VPN gateway is diagnosing."},{"errorCode":"OperationFailed.StartDiagnose","errorMessage":"Start VPN gateway diagnose failed."},{"errorCode":"IllegalParam.PrivateSourceIp","errorMessage":"The specified private source IP [%s] is invalid."},{"errorCode":"IllegalParam.PrivateDestinationIp","errorMessage":"The specified private destination IP [%s] is invalid."}],"403":[{"errorCode":"Forbidden","errorMessage":"User not authorized to operate on the specified resource."}],"404":[{"errorCode":"InvalidVpnGatewayInstanceId.NotFound","errorMessage":"The specified vpn gateway instance id does not exist."},{"errorCode":"InvalidResourceId.NotFound","errorMessage":"The specified resource id [%s] does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DiagnoseId\\\": \\\"vpndgn-uf6kuxbe3iv028k3s****\\\",\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DiagnoseVpnGatewayResponse>\\n    <DiagnoseId>vpndgn-uf6kuxbe3iv028k3s****</DiagnoseId>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</DiagnoseVpnGatewayResponse>\",\"errorExample\":\"\"}]","title":"一键诊断指定的VPN网关实例"}