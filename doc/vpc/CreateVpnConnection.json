{"summary":"调用CreateVpnConnection接口创建IPsec连接。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"IPsec连接所在的地域ID。您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。  ","type":"string","required":true,"docRequired":true,"example":"cn-shanghai"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"02fb3da4-130e-11e9-8e44-001****"}},{"name":"CustomerGatewayId","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数，且该参数必填。\n\n用户网关的ID。 \n\n\n\n","type":"string","required":false,"docRequired":false,"example":"cgw-p0w2jemrcj5u61un8****"}},{"name":"VpnGatewayId","in":"query","schema":{"description":"VPN网关实例ID。","type":"string","required":true,"docRequired":true,"example":"vpn-bp1q8bgx4xnkm****"}},{"name":"Name","in":"query","schema":{"description":"IPsec连接的名称。\n\n长度为1～100个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"IPsec"}},{"name":"LocalSubnet","in":"query","schema":{"description":"需要和本地数据中心互通的VPC侧的网段，用于第二阶段协商。\n\n多个网段之间用半角逗号（,）分隔，例如：192.168.1.0/24,192.168.2.0/24。\n\n关于IPsec连接路由模式的说明：\n\n- 如果**LocalSubnet**和**RemoteSubnet**均输入为0.0.0.0/0，则表示您使用目的路由模式。\n- 如果**LocalSubnet**和**RemoteSubnet**均输入具体的网段，则表示您使用感兴趣流模式。","type":"string","required":true,"docRequired":true,"example":"10.10.1.0/24,10.10.2.0/24"}},{"name":"RemoteSubnet","in":"query","schema":{"description":"需要和VPC互通的本地数据中心侧的网段，用于第二阶段协商。\n\n多个网段之间用半角逗号（,）分隔，例如：192.168.3.0/24,192.168.4.0/24。\n\n关于IPsec连接路由模式的说明：\n\n- 如果**LocalSubnet**和**RemoteSubnet**均输入为0.0.0.0/0，则表示您使用目的路由模式。\n- 如果**LocalSubnet**和**RemoteSubnet**均输入具体的网段，则表示您使用感兴趣流模式。","type":"string","required":true,"docRequired":true,"example":"10.10.3.0/24,10.10.4.0/24"}},{"name":"EffectImmediately","in":"query","schema":{"description":"选择IPsec连接的配置是否立即生效。取值：\n           \n- **true**：是，配置完成后系统立即进行IPsec协议协商。\n   \n- **false**（默认值）：否，当有流量进入时系统才进行IPsec协议协商。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"IkeConfig","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n第一阶段协商的配置信息：\n           \n- **IkeConfig.Psk**：预共享密钥，用于VPN网关与本地数据中心之间的身份认证。\n\n    - 密钥长度为1~100个字符，支持数字、大小写英文字母以及以下字符。```~!\\`@#$%^&*()_-+={}[]|;:',.<>/?```\n    - 若您未指定预共享密钥，系统会随机生成一个16位的字符串作为预共享密钥。您可以调用[DescribeVpnConnection](~~2526951~~)接口查询系统自动生成的预共享密钥。     \n\n        > IPsec连接侧的预共享密钥需和本地数据中心侧的认证密钥一致，否则本地数据中心和VPN网关之间无法建立连接。\n\n- **IkeConfig.IkeVersion**：IKE协议的版本。取值：**ikev1**或**ikev2**。默认值：**ikev1**。  \n\n    相对于IKEv1版本，IKEv2版本简化了SA的协商过程并且对于多网段的场景提供了更好的支持。\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则IKE版本仅支持**ikev1**。</ph></props>\n\n- **IkeConfig.IkeMode**：IKE版本的协商模式。取值：**main**或**aggressive**。默认值：**main**。   \n\n    - **main**：主模式，协商过程安全性高。\n    - **aggressive**：野蛮模式，协商快速且协商成功率高。\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则协商模式仅支持**main**。</ph></props>\n\n- **IkeConfig.IkeEncAlg**：第一阶段协商的加密算法。\n\n   <props=\"intl\"><ph>取值：**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。 </ph></props>\n\n   <props=\"china\">如果VPN网关实例类型为普通型，则取值为**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。</props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm4**（默认值）。</ph></props>\n\n- **IkeConfig.IkeAuthAlg**：第一阶段协商的认证算法。\n\n   <props=\"intl\"><ph>取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm3**（默认值）。</ph></props>\n\n- **IkeConfig.IkePfs**：第一阶段协商使用的Diffie-Hellman密钥交换算法。取值：**group1**、**group2**、**group5**、**group14**。默认值：**group2**。   \n\n- **IkeConfig.IkeLifetime**：第一阶段协商出的SA的生存周期。单位：秒。取值范围：**0**~**86400**。默认值：**86400**。   \n\n- **IkeConfig.LocalId**：VPN网关的标识，长度限制为100个字符，默认值为VPN网关的IP地址。 \n\n- **IkeConfig.RemoteId**：用户网关的标识，长度限制为100个字符，默认值为用户网关的IP地址。","type":"string","required":false,"example":"{\"Psk\":\"1234****\",\"IkeVersion\":\"ikev1\",\"IkeMode\":\"main\",\"IkeEncAlg\":\"aes\",\"IkeAuthAlg\":\"sha1\",\"IkePfs\":\"group2\",\"IkeLifetime\":86400,\"LocalId\":\"47.XX.XX.1\",\"RemoteId\":\"47.XX.XX.2\"}"}},{"name":"IpsecConfig","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n第二阶段协商的配置信息： \n\n- **IpsecConfig.IpsecEncAlg**：第二阶段协商的加密算法。\n\n   <props=\"intl\"><ph>取值：**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。 </ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值为**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。</ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm4**（默认值）。</ph></props>\n\n- **IpsecConfig. IpsecAuthAlg**：第二阶段协商的认证算法。\n\n   <props=\"intl\"><ph>取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n   <props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm3**（默认值）。</ph></props>\n\n- **IpsecConfig. IpsecPfs**：第二阶段协商使用的Diffie-Hellman密钥交换算法。取值：**disabled**、**group1**、**group2**、**group5**、**group14**。默认值：**group2**。   \n\n- **IpsecConfig. IpsecLifetime**：第二阶段协商出的SA的生存周期。单位：秒。取值范围：**0**~**86400**。默认值：**86400**。","type":"string","required":false,"example":"{\"IpsecEncAlg\":\"aes\",\"IpsecAuthAlg\":\"sha1\",\"IpsecPfs\":\"group2\",\"IpsecLifetime\":86400}"}},{"name":"HealthCheckConfig","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n健康检查配置信息：\n\n- **HealthCheckConfig.enable**：是否开启健康检查，取值：**true**或**false**（默认值）。\n\n- **HealthCheckConfig.dip**：健康检查的目的IP地址。\n\n- **HealthCheckConfig.sip**：健康检查的源IP地址。\n\n- **HealthCheckConfig.interval**：健康检查的重试间隔时间，单位：秒。默认值：**3**。\n\n- **HealthCheckConfig.retry**：健康检查的重试发包次数。默认值：**3**。","type":"string","required":false,"example":"{\"enable\":\"true\",\"dip\":\"192.168.10.1\",\"sip\":\"10.10.1.1\",\"interval\":\"3\",\"retry\":\"3\"}"}},{"name":"AutoConfigRoute","in":"query","schema":{"description":"是否自动配置路由。取值：\n\n- **true**（默认值）：自动配置路由。\n\n- **false**：不自动配置路由。","type":"boolean","required":false,"example":"true"}},{"name":"EnableDpd","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n是否开启DPD（对等体存活检测）功能。取值：\n\n- **true**（默认值）：开启DPD功能。IPsec发起端会发送DPD报文用来检测对端的设备是否存活，如果在设定时间内未收到正确回应则认为对端已经断线，IPsec将删除ISAKMP SA和相应的IPsec SA，安全隧道同样也会被删除。\n\n- **false**：不开启DPD功能，IPsec发起端不会发送DPD探测报文。","type":"boolean","required":false,"example":"true"}},{"name":"EnableNatTraversal","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n是否开启NAT穿越功能。取值：\n\n- **true**（默认值）：开启NAT穿越功能。开启后，IKE协商过程会删除对UDP端口号的验证过程，同时实现对VPN隧道中NAT网关设备的发现功能。\n\n- **false**：不开启NAT穿越功能。","type":"boolean","required":false,"example":"true"}},{"name":"BgpConfig","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\nBGP的配置信息：\n\n- **BgpConfig.EnableBgp**：是否开启BGP功能。取值：**true**或**false**（默认值）。\n- **BgpConfig.LocalAsn**：阿里云侧的自治系统号。自治系统号取值范围：**1**~**4294967295**。默认值：**45104**。\n    \n    支持按照两段位的格式进行输入，即：前16位比特.后16位比特。每个段位使用十进制输入。\n    \n    例如输入123.456，则表示自治系统号：123*65536+456=8061384。\n- **BgpConfig.TunnelCidr**：IPsec隧道网段。该网段需是一个在169.254.0.0/16内的掩码长度为30的网段。\n    > 一个VPN网关实例下每个IPsec连接的IPsec隧道网段需保持唯一。\n- **LocalBgpIp**：阿里云侧的BGP地址。该地址为IPsec隧道网段内的一个IP地址。 \n\n>- 在添加BGP配置前，建议您先了解BGP动态路由功能的工作机制和使用限制。更多信息，请参见[VPN网关支持BGP动态路由公告](~~170235~~)。\n>- 建议您使用自治系统号的私有号码与阿里云建立BGP连接。自治系统号的私有号码范围请自行查阅文档。","type":"string","required":false,"example":"{\"EnableBgp\":\"true\",\"LocalAsn\":\"45104\",\"TunnelCidr\":\"169.254.11.0/30\",\"LocalBgpIp\":\"169.254.11.1\"}"}},{"name":"RemoteCaCertificate","in":"query","schema":{"description":"创建单隧道模式的IPsec-VPN连接时支持配置该参数。\n\n如果当前VPN网关实例为国密型VPN网关，您需要配置对端的CA证书。\n\n- 对于国密型VPN网关，创建IPsec连接时，此项必填。\n\n- 对于普通型VPN网关，此项需要为空。","type":"string","required":false,"example":"-----BEGIN CERTIFICATE----- MIIB7zCCAZW**** -----END CERTIFICATE-----"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"IPsec连接待添加的标签列表。\n\n一次最多支持为IPsec连接添加20个标签。","type":"array","items":{"description":"标签信息。","type":"object","properties":{"Key":{"description":"标签键。一旦输入该值，则不允许为空字符串。\n\n最多支持64个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。\n\n一次最多支持输入20个标签键。","type":"string","required":false,"example":"TagKey"},"Value":{"description":"标签值。\n\n标签值最多支持128个字符，可以为空字符串，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。\n\n一个标签键对应一个标签值。一次最多支持输入20个标签值。","type":"string","required":false,"example":"TagValue"}},"required":false},"required":false,"maxItems":21}},{"name":"TunnelOptionsSpecification","in":"formData","allowEmptyValue":true,"style":"flat","schema":{"description":"配置隧道。\n\n- 创建双隧道模式的IPsec-VPN连接时支持配置**TunnelOptionsSpecification**数组下的参数。\n- 创建双隧道模式的IPsec-VPN连接时，您必须同时为IPsec-VPN连接添加主隧道和备隧道的配置。一个IPsec-VPN连接下仅支持添加主备两条隧道。","type":"array","items":{"description":"配置隧道信息。","type":"object","properties":{"CustomerGatewayId":{"description":"隧道关联的用户网关ID。\n\n>- 创建双隧道模式IPsec-VPN连接时本参数必填。\n>- 创建双隧道模式的IPsec-VPN连接时支持配置**TunnelOptionsSpecification**数组下的参数。\n>- 创建双隧道模式的IPsec-VPN连接时，您必须同时为IPsec-VPN连接添加主隧道和备隧道的配置。一个IPsec-VPN连接下仅支持添加主备两条隧道。","type":"string","required":false,"example":"cgw-p0wy363lucf1uyae8****"},"EnableDpd":{"description":"是否为隧道开启DPD（对等体存活检测）功能。取值：\n\n- **true**（默认值）：开启DPD功能。IPsec发起端会发送DPD报文用来检测对端的设备是否存活，如果在设定时间内未收到正确回应则认为对端已经断线，IPsec将删除ISAKMP SA和相应的IPsec SA，安全隧道同样也会被删除。\n\n- **false**：不开启DPD功能，IPsec发起端不会发送DPD探测报文。","type":"boolean","required":false,"example":"true"},"EnableNatTraversal":{"description":"是否为隧道开启NAT穿越功能。取值：\n\n- **true**（默认值）：开启NAT穿越功能。开启后，IKE协商过程会删除对UDP端口号的验证过程，同时实现对隧道中NAT网关设备的发现功能。\n\n- **false**：不开启NAT穿越功能。","type":"boolean","required":false,"example":"true"},"RemoteCaCertificate":{"description":"如果当前VPN网关实例为国密型VPN网关，您需要为隧道配置对端的CA证书。\n\n- 对于国密型VPN网关，此项必填。\n\n- 对于普通型VPN网关，此项需要为空。","type":"string","required":false,"example":"-----BEGIN CERTIFICATE----- MIIB7zCCAZW**** -----END CERTIFICATE-----"},"Role":{"description":"隧道的角色。取值：\n\n- **master**：表示当前隧道为主隧道。\n- **slave**：表示当前隧道为备隧道。","type":"string","required":false,"example":"master"},"TunnelBgpConfig":{"description":"为隧道添加BGP配置。","type":"object","properties":{"LocalAsn":{"description":"隧道本端（阿里云侧）的自治系统号。自治系统号取值范围：**1**~**4294967295**。默认值：**45104**。\n\n> - 当您为IPsec连接开启BGP功能后（即指定**EnableTunnelsBgp**参数的值为**true**）需要配置该参数。\n>- 在添加BGP配置前，建议您先了解BGP动态路由功能的工作机制和使用限制。更多信息，请参见[VPN网关支持BGP动态路由公告](~~170235~~)。\n>- 建议您使用自治系统号的私有号码与阿里云建立BGP连接。自治系统号的私有号码范围请自行查阅文档。","type":"integer","format":"int64","required":false,"example":"65530"},"LocalBgpIp":{"description":"隧道本端（阿里云侧）的BGP地址。该地址为BGP网段内的一个IP地址。 ","type":"string","required":false,"example":"169.254.10.1"},"TunnelCidr":{"description":"隧道的BGP网段。该网段需是一个在169.254.0.0/16内的掩码长度为30的网段。\n\n>在一个VPN网关实例下，每个隧道的BGP网段需保持唯一。","type":"string","required":false,"example":"169.254.10.0/30"}},"required":false},"TunnelIkeConfig":{"description":"第一阶段协商的配置信息。","type":"object","properties":{"IkeAuthAlg":{"description":"第一阶段协商的认证算法。\n\n<props=\"intl\"><ph>取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm3**（默认值）。</ph></props>\n","type":"string","required":false,"example":"md5"},"IkeEncAlg":{"description":"第一阶段协商的加密算法。\n\n<props=\"intl\"><ph>取值：**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。 </ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值为**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm4**（默认值）。</ph></props>","type":"string","required":false,"example":"aes"},"IkeLifetime":{"description":"第一阶段协商出的SA的生存周期。单位：秒。\n\n取值范围：**0**~**86400**。默认值：**86400**。   ","type":"integer","format":"int64","required":false,"example":"86400"},"IkeMode":{"description":"IKE版本的协商模式。取值：**main**或**aggressive**。默认值：**main**。   \n\n- **main**：主模式，协商过程安全性高。\n- **aggressive**：野蛮模式，协商快速且协商成功率高。\n\n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则协商模式仅支持**main**。</ph></props>","type":"string","required":false,"example":"main"},"IkePfs":{"description":"第一阶段协商使用的Diffie-Hellman密钥交换算法。默认值：**group2**。   \n取值：**group1**、**group2**、**group5**、**group14**。","type":"string","required":false,"example":"group2"},"IkeVersion":{"description":"IKE协议的版本。取值：**ikev1**或**ikev2**。默认值：**ikev1**。\n\n相对于IKEv1版本，IKEv2版本简化了SA的协商过程并且对于多网段的场景提供了更好的支持。\n   \n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则IKE版本仅支持**ikev1**。</ph></props>","type":"string","required":false,"example":"ikev1"},"LocalId":{"description":"隧道本端（阿里云侧）的标识，用于第一阶段的协商。长度限制为100个字符。默认值为隧道的IP地址。\n\n**LocalId**支持FQDN格式，如果您使用FQDN格式，协商模式建议选择为**aggressive**（野蛮模式）。","type":"string","required":false,"example":"47.21.XX.XX"},"Psk":{"description":"预共享密钥，用于隧道与隧道对端之间的身份认证。\n\n- 密钥长度为1~100个字符，支持数字、大小写英文字母以及以下字符。```~!\\`@#$%^&*()_-+={}[]|;:',.<>/?```\n\n- 若您未指定预共享密钥，系统会随机生成一个16位的字符串作为预共享密钥。您可以调用[DescribeVpnConnection](~~2526951~~)接口查询系统自动生成的预共享密钥。     \n\n> 隧道及隧道对端的预共享密钥需一致，否则系统无法正常建立隧道。","type":"string","required":false,"example":"123456****"},"RemoteId":{"description":"隧道对端的标识，用于第一阶段的协商。长度限制为100个字符。默认值为隧道关联的用户网关的IP地址。\n\n**RemoteId**支持FQDN格式，如果您使用FQDN格式，协商模式建议选择为**aggressive**（野蛮模式）。","type":"string","required":false,"example":"47.42.XX.XX"}},"required":false},"TunnelIpsecConfig":{"description":"第二阶段协商的配置信息。 \n\n\n  \n\n\n\n","type":"object","properties":{"IpsecAuthAlg":{"description":"第二阶段协商的认证算法。\n\n<props=\"intl\"><ph>取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值：**md5**、**sha1**、**sha256**、**sha384**、**sha512**。默认值：**md5**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm3**（默认值）。</ph></props>","type":"string","required":false,"example":"md5"},"IpsecEncAlg":{"description":"第二阶段协商的加密算法。\n\n<props=\"intl\"><ph>取值：**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。 </ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为普通型，则取值为**aes**、**aes192**、**aes256**、**des**或**3des**。默认值：**aes**。</ph></props>\n\n<props=\"china\"><ph>如果VPN网关实例类型为国密型，则取值为**sm4**（默认值）。</ph></props>\n","type":"string","required":false,"example":"aes"},"IpsecLifetime":{"description":"第二阶段协商出的SA的生存周期。单位：秒。\n\n取值范围：**0**~**86400**。默认值：**86400**。","type":"integer","format":"int64","required":false,"example":"86400"},"IpsecPfs":{"description":"第二阶段协商使用的Diffie-Hellman密钥交换算法。默认值：**group2**。   \n\n取值：**disabled**、**group1**、**group2**、**group5**、**group14**。","type":"string","required":false,"example":"group2"}},"required":false}},"required":false},"required":false}},{"name":"EnableTunnelsBgp","in":"query","allowEmptyValue":true,"schema":{"description":"创建双隧道模式的IPsec-VPN连接时支持配置该参数。\n\n是否为隧道开启BGP功能。取值：**true**或**false**（默认值）。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"082AD562-B8DB-4BB2-861F-DA1FCA01FD76"},"VpnConnectionId":{"description":"IPsec连接的ID。","type":"string","example":"vco-bp15oes1py4i6****"},"Name":{"description":"IPsec连接的名称。","type":"string","example":"test"},"CreateTime":{"description":"IPsec连接的创建时间戳。单位：毫秒。\n\n时间戳的格式采用Unix时间戳，表示从格林威治时间1970年01月01日00时00分00秒至创建IPsec连接时的总时长。","type":"integer","format":"int64","example":"1544666102000"}}}}},"errorCodes":{"400":[{"errorCode":"Resource.QuotaFull","errorMessage":"The quota of resource is full"},{"errorCode":"InvalidVpnConnection.AlreadyExists","errorMessage":"Vpn connection already exists."},{"errorCode":"VpnGateway.Configuring","errorMessage":"The specified service is configuring."},{"errorCode":"VpnGateway.FinancialLocked","errorMessage":"The specified service is financial locked."},{"errorCode":"VpnGateway.IpsecVpnDisabled","errorMessage":"The vpn gateway does not enable IPSec VPN."},{"errorCode":"VpnRouteEntry.AlreadyExists","errorMessage":"The specified route entry is already exist."},{"errorCode":"VpnRouteEntry.Conflict","errorMessage":"The specified route entry has conflict."},{"errorCode":"NotSupportVpnConnectionParameter.IpsecPfs","errorMessage":"The specified vpn connection ipsec Ipsec Pfs is not support."},{"errorCode":"NotSupportVpnConnectionParameter.IpsecAuthAlg","errorMessage":"The specified vpn connection ipsec Auth Alg is not support."},{"errorCode":"VpnRouteEntry.ConflictSSL","errorMessage":"The specified route entry has conflict with SSL client."},{"errorCode":"VpnRouteEntry.BackupRoute","errorMessage":"Validate backup route entry failed."},{"errorCode":"VpnRouteEntry.InvalidWeight","errorMessage":"Invalid route entry weight value."},{"errorCode":"InvalidParameter.VpnConnectionName","errorMessage":"The specified vpn connection name is invalid."},{"errorCode":"OperationUnsupported.SetDPD","errorMessage":"Current version of the VPN does not support setting DPD."},{"errorCode":"OperationUnsupported.SetNatTraversal","errorMessage":"Current version of the VPN does not support setting NAT traversal."},{"errorCode":"QuotaExceeded.PolicyBasedRoute","errorMessage":"The maximum number of policy-based routes is exceeded. Existing routes: %s. Routes to be created: %s. Maximum routes: %s."},{"errorCode":"MissingParameter.TunnelCidr","errorMessage":"The parameter TunnelCidr is mandatory when BGP is enabled."},{"errorCode":"OperationUnsupported.EnableBgp","errorMessage":"Current version of the VPN does not support enable BGP."},{"errorCode":"MissingParam.CustomerGatewayAsn","errorMessage":"Asn of customer gateway is mandatory when BGP is enabled."},{"errorCode":"IllegalParam.LocalAsn","errorMessage":"The specified LocalAsn is invalid."},{"errorCode":"IllegalParam.BgpConfig","errorMessage":"The specified BgpConfig is invalid."},{"errorCode":"IllegalParam.EnableBgp","errorMessage":"VPN connection must enable BGP when VPN gateway has enabled BGP."},{"errorCode":"IllegalParam.TunnelCidr","errorMessage":"The specified TunnelCidr is invalid."},{"errorCode":"InvalidLocalBgpIp.Malformed","errorMessage":"The specified LocalBgpIp is malformed."},{"errorCode":"IllegalParam.LocalBgpIp","errorMessage":"The specified LocalBgpIp is invalid."},{"errorCode":"IllegalParam.LocalSubnet","errorMessage":"The specified \"LocalSubnet\" (%s) is invalid."},{"errorCode":"IllegalParam.RemoteSubnet","errorMessage":"The specified \"RemoteSubnet\" (%s) is invalid."},{"errorCode":"OperationFailed.MissCertificate","errorMessage":"The VPN gateway has not associated any certificates."},{"errorCode":"MissingParam.RemoteId","errorMessage":"The remote ID is mandatory when creating national standard VPN connection."},{"errorCode":"OperationFailed.CenLevelNotSupport","errorMessage":"When the VPC to which the VPN gateway belongs is attached to a FULL-mode CEN, the VPN gateway cannot enable BGP."},{"errorCode":"CustomerGateway.ConflictRouteEntry","errorMessage":"The specified customer gateway has conflict with route entry."},{"errorCode":"VpnTask.CONFLICT","errorMessage":"Vpn task has conflict."},{"errorCode":"Forbidden.TagKey.Duplicated","errorMessage":"The specified tag key already exists."},{"errorCode":"SizeLimitExceeded.TagNum","errorMessage":"The maximum number of tags is exceeded."},{"errorCode":"InvalidParameter.TagValue","errorMessage":"The specified parameter TagValue is invalid."},{"errorCode":"InvalidParameter.TagKey","errorMessage":"The specified parameter TagKey is invalid."},{"errorCode":"Duplicated.TagKey","errorMessage":"The specified parameter TagKey is duplicated."},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."},{"errorCode":"InvalidTunnelCidr.Malformed","errorMessage":"The specified TunnelCidr is malformed."},{"errorCode":"VpnConnectionParamInvalid.SameVpnAndCgwDifferentIkeConfigs","errorMessage":"IPSec connections associated with the same user gateway and VPN gateway should have the same pre-shared key and IKE configuration."},{"errorCode":"VpnConnectionParamInvalid.SameVpnAndCgwTrafficSelectorOverlap","errorMessage":"Traffic selectors of IPSec connections associated with the same user gateway and VPN gateway should not overlap."},{"errorCode":"CustomerGateway.ConflictVpnIp","errorMessage":"The customer gateway associated with the IPSec connection should not have the same IP address as the VPN gateway."},{"errorCode":"VpnGateway.IPsecServerAndVpnConnectionConflict","errorMessage":"The IPSec connection and IPSec server cannot be configured on the same VPN gateway at the same time."},{"errorCode":"InvalidSslVpnServerCertId.NotFound","errorMessage":"The parameter is incorrect. The corresponding SSL VPN server certificate cannot be found."},{"errorCode":"MissingParameter.TunnelOptionsSpecification","errorMessage":"The required parameters are missing when creating a tunnel for dual-tunnel VPN."},{"errorCode":"CreateDbrRoutesQuotaFull.QuotaFull","errorMessage":"The number of created destination routes exceeds the quota limit."},{"errorCode":"CreatePbrRoutesQuotaFull.QuotaFull","errorMessage":"The number of policy routes exceeds the quota limit."},{"errorCode":"CreateVpnConnectionsQuotaFull.QuotaFull","errorMessage":"The number of VPN connections exceeds the quota limit."}],"403":[{"errorCode":"Forbbiden.SubUser","errorMessage":"User not authorized to operate on the specified resource as your account is created by another user."},{"errorCode":"Forbidden","errorMessage":"User not authorized to operate on the specified resource."}],"404":[{"errorCode":"InvalidCustomerGatewayInstanceId.NotFound","errorMessage":"The specified customer gateway instance id does not exist."},{"errorCode":"InvalidVpnGatewayInstanceId.NotFound","errorMessage":"The specified vpn gateway instance id does not exist."}]},"staticInfo":{"returnType":"asynchronous","callback":"Vpc::2016-04-28::DescribeVpnGateway","callbackInterval":2000,"maxCallbackTimes":60},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"082AD562-B8DB-4BB2-861F-DA1FCA01FD76\\\",\\n  \\\"VpnConnectionId\\\": \\\"vco-bp15oes1py4i6****\\\",\\n  \\\"Name\\\": \\\"test\\\",\\n  \\\"CreateTime\\\": 1544666102000\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateVpnConnectionResponse>\\n    <RequestId>082AD562-B8DB-4BB2-861F-DA1FCA01FD76</RequestId>\\n    <VpnConnectionId>vco-bp15oes1py4i6****</VpnConnectionId>\\n    <Name>test</Name>\\n    <CreateTime>1544666102000</CreateTime>\\n</CreateVpnConnectionResponse>\",\"errorExample\":\"\"}]","title":"创建IPsec连接","description":"- 如果VPN网关实例支持创建双隧道模式的IPsec-VPN连接，则调用`CreateVpnConnection`接口时除支持配置必填参数外，还支持配置以下请求参数：\n\n    **ClientToken**、**Name**、**EffectImmediately**、**AutoConfigRoute**、**Tags**数组、**TunnelOptionsSpecification**数组、**EnableTunnelsBgp**。\n\n    支持创建双隧道模式IPsec-VPN连接的地域和可用区信息，请参见[IPsec-VPN连接升级为双隧道模式](~~2358946~~)。\n- 如果VPN网关实例仅支持创建单隧道模式的IPsec-VPN连接，则调用`CreateVpnConnection`接口时除支持配置必填参数外，还支持配置以下请求参数：\n\n     **ClientToken**、**CustomerGatewayId**、**Name**、**EffectImmediately**、**IkeConfig**、**IpsecConfig**、**HealthCheckConfig**、**AutoConfigRoute**、**EnableDpd**、**EnableNatTraversal**、**BgpConfig**、**RemoteCaCertificate**、**Tags**数组。\n\n- **CreateVpnConnection**接口属于异步接口，即系统返回一个实例ID，但该IPsec连接尚未创建成功，系统后台的创建任务仍在进行。您可以调用[DescribeVpnGateway](~~73720~~)查询VPN网关实例的状态，来确定IPsec连接的创建状态：\n    - 当VPN网关实例处于**updating**状态时，表示IPsec连接正在创建中。\n    - 当VPN网关实例处于**active**状态时，表示IPsec连接创建成功。\n\n- **CreateVpnConnection**接口不支持在同一VPN网关下并发创建IPsec连接。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}