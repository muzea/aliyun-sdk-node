{"summary":"调用AssociateEipAddress将弹性公网IP（EIP）绑定到同地域的云产品实例上。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"要绑定云产品实例的EIP所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。 ","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou"}},{"name":"AllocationId","in":"query","schema":{"description":"绑定云产品实例的EIP的ID。 ","type":"string","required":true,"docRequired":true,"example":"eip-2zeerraiwb7ujsxdc****"}},{"name":"InstanceId","in":"query","schema":{"description":"要绑定EIP的实例ID。\n\n支持输入NAT网关实例ID、传统型负载均衡CLB实例ID、云服务器ECS实例ID、辅助弹性网卡实例ID、高可用虚拟IP实例ID、IP地址。","type":"string","required":true,"docRequired":true,"example":"i-2zebb08phyczzawe****"}},{"name":"InstanceType","in":"query","schema":{"description":"要绑定EIP的实例的类型，取值：\n\n- **Nat**：NAT网关。\n\n- **SlbInstance**：传统型负载均衡CLB。\n\n- **EcsInstance**（默认值）：云服务器ECS。\n\n- **NetworkInterface**：辅助弹性网卡。\n\n- **HaVip**：高可用虚拟IP。 \n\n- **IpAddress**：IP地址。\n\n> 默认要绑定EIP的实例类型为**EcsInstance**，如果您需要绑定EIP的实例类型不为**EcsInstance**，则该值必填。","type":"string","required":false,"example":"EcsInstance"}},{"name":"InstanceRegionId","in":"query","schema":{"description":"要绑定EIP的实例所属地域的ID。\n\n>仅在EIP加入到带宽共享型全球加速实例后，才需要填写该参数。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"PrivateIpAddress","in":"query","schema":{"description":"交换机网段内的一个IP地址。\n\n如果不输入该参数，系统根据VPC ID和交换机ID自动分配一个私网IP地址。\n> 当**InstanceType**配置为**NetworkInterface**时，该参数必填，需输入要绑定的私网IP。","type":"string","required":false,"example":"192.168.XX.XX"}},{"name":"Mode","in":"query","schema":{"description":"绑定模式，取值：\n\n- **NAT**（默认值）：NAT模式（普通模式）。\n\n- **MULTI_BINDED**：多EIP网卡可见模式。\n\n- **BINDED**：EIP网卡可见模式。\n\n\n> 仅**InstanceType**配置为**NetworkInterface**时，才需要配置该参数。\n","type":"string","required":false,"example":"NAT"}},{"name":"VpcId","in":"query","schema":{"description":"开通了IPv4网关功能且与EIP同地域的VPC ID。\n\nEIP绑定IP地址时，系统可以根据该VPC的路由配置，使绑定的IP地址具备公网访问能力。\n\n> **InstanceType**取值为**IpAddress**时，即要绑定EIP的实例类型为IP地址时，该参数必填。","type":"string","required":false,"example":"vpc-257gqcdfvx6n****"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}}],"responses":{"200":{"schema":{"description":"返回信息列表。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidAssociation.Duplicated","errorMessage":"Specified instance already is associated."},{"errorCode":"OperationDenied","errorMessage":"Specified instance is not in VPC."},{"errorCode":"InvalidParameter.Mismatch","errorMessage":"Specified elastic IP address and ECS instance are not in the same region."},{"errorCode":"IncorrectEipStatus","errorMessage":"Current elastic IP status does not support this operation"},{"errorCode":"IncorrectInstanceStatus","errorMessage":"Current instance status does not support this operation."},{"errorCode":"InvalidInstanceType.ValueNotSupported","errorMessage":"The specified value of InstanceType is not supported."},{"errorCode":"IncorrectHaVipStatus","errorMessage":"HaVip can be operated by this action only when it's status is Available or InUse."},{"errorCode":"InvalidParameter","errorMessage":"The specified parameter is not valid."},{"errorCode":"TaskConflict","errorMessage":"The eip operate too frequent, TaskConflict."},{"errorCode":"InvalidBindingStatus","errorMessage":"The eip binding status invalid."},{"errorCode":"BIND_INSTANCE_HAVE_PORTMAP_OR_BIND_EIP","errorMessage":"The instance may have portMap or already bind eip."},{"errorCode":"EIP_CAN_NOT_ASSOCIATE_WITH_PUBLIC_IP","errorMessage":"instance already bind natpublicip,cannot bind eip."},{"errorCode":"BIND_INSTANCE_OWENER_ERROR","errorMessage":"Cannot operate the eip."},{"errorCode":"NATGATEWAY_FINANCIALLOCKED","errorMessage":"The NatGateway has expire, cannot do bind operation."},{"errorCode":"InvalidParameter.InstanceTypeNotSupport","errorMessage":"The specified instance type is not support."},{"errorCode":"QuotaExceeded.NumberOfTrafficEip","errorMessage":"The number of traffic eip on natgw exceed limitation."},{"errorCode":"QuotaExceeded.NumberOfEip","errorMessage":"Binded eip Quota exceed on this NatGw."},{"errorCode":"Forbidden.EipCanNotBindGatgw","errorMessage":"Eip can not bind on natgw."},{"errorCode":"InvalidAction.Denied","errorMessage":"Action is denied due to unfinished Eip configuration modification."},{"errorCode":"InstanceType.NotSupport","errorMessage":"The instance type is invalid."},{"errorCode":"InvalidParams.NotFound","errorMessage":"instance not found"},{"errorCode":"BindInstance.NotSupported","errorMessage":"bind instance type %s is not supported."},{"errorCode":"Forbidden.InstanceBandwidthNotZero","errorMessage":"Eip can not bind with instance when it's bandwidth is not zero."},{"errorCode":"INSTANCE_TYPE_NOT_SUPPORT","errorMessage":"The instance type is invalid."},{"errorCode":"ServerRegion.Invalid","errorMessage":"Eip bind remote server region invalid."},{"errorCode":"Eni.Attached","errorMessage":"The eni should be detached from ecs when associating with direct eip."},{"errorCode":"Eni.HasSubIp","errorMessage":"Eni has sub ip can not bind direct eip."},{"errorCode":"Invalid.DirectEip.BindType","errorMessage":"The direct eip can be only associated with eni."},{"errorCode":"InvalidStatus.EcsStatusNotSupport","errorMessage":"The special instance status is not support operate"},{"errorCode":"Invalid.Function.NotSupported","errorMessage":"Multi-IP function is under test, the region or uid is not supported."},{"errorCode":"InvalidStatus.EniStatusNotSupport","errorMessage":"%s"},{"errorCode":"InvalidParameter.EniInstanceId","errorMessage":"%s"},{"errorCode":"InvalidNexthop.DirectEni","errorMessage":"The direct Eni cannot be nexthop."},{"errorCode":"Mode.Conflict","errorMessage":"The eni can bind only one mode of eip."},{"errorCode":"Mode.NotSupport","errorMessage":"The user cannot use multi direct eip."},{"errorCode":"QuotaExceed.MultiBindedEip","errorMessage":"The number of multi binded eip is over limit."},{"errorCode":"InvalidEIPStatus.BizDisabled","errorMessage":"The EIP has been locked."},{"errorCode":"OperationFailed.EniSubIp","errorMessage":"Eni has sub ip can not bind direct eip."},{"errorCode":"InvalidEip.EipQuotaExceeded","errorMessage":"The specified eni assigned eip is more than privateIp."},{"errorCode":"OperationFailed.QueryCommodityInfo","errorMessage":"Operation failed because quey commodity info error."},{"errorCode":"OperationUnsupported.MultiIp","errorMessage":"Multi ip function is not support."},{"errorCode":"InvalidNicOrVm.NotFound","errorMessage":"Bind nic or vm not exist."},{"errorCode":"OperationUnsupported.EipBindModel","errorMessage":"The instance type of ecs does not support MULTI_BINDED model Eip."},{"errorCode":"IncorrectStatus.NatGateway","errorMessage":"%s"},{"errorCode":"EipBindRemote.BackendRegionMustBeSingle","errorMessage":"eip bind remote instance, backend region must be single"},{"errorCode":"InvalidParameter.BindingInstanceRegion","errorMessage":"The specified BindingInstanceRegion is not supported."},{"errorCode":"OperationFailed.HavipBoundPortmap","errorMessage":"%s"},{"errorCode":"IllegalParam.Mode","errorMessage":"%s"},{"errorCode":"InvalidStatus.NotAllow","errorMessage":"Bind instance status invalid"},{"errorCode":"InvalidInstance.NotExist","errorMessage":"Bind instance data not exist"},{"errorCode":"InvalidBandwidthPackageId.NotFound","errorMessage":"The specified BandwidthPackageId not exist."},{"errorCode":"ResourceQueryError","errorMessage":"The specified resource is queried error."},{"errorCode":"InvalidStatus.InstanceHasBandWidth","errorMessage":"The specified instance bandwidth invalid."},{"errorCode":"OperationDenied.CloudBoxResourceExist","errorMessage":"The operation is not allowed because there are resources related to the cloud box in VPC."},{"errorCode":"OperationDenied.CloudBoxVSwitchExist","errorMessage":"The operation is not allowed because a cloud box type vSwitch exists in VPC."},{"errorCode":"OperationDenied.NoAvailablePrivateIp","errorMessage":"The operation is failed because of vSwitch has not availalbe private ip"},{"errorCode":"UnsupportedRegion","errorMessage":"%s"},{"errorCode":"ResourceAlreadyAssociated.IpAddress","errorMessage":"%s"},{"errorCode":"OperationFailed.Ipv4GatewayNotOpenedInVpc","errorMessage":"The operation is failed because Ipv4Gateway is not opened in Vpc."},{"errorCode":"OperationFailed.Ipv4GatewayNotActivatedInVpc","errorMessage":"The operation is failed because Ipv4Gateway is not activated in Vpc."},{"errorCode":"OperationDenied.L2EipBindIpAddress","errorMessage":"%s"},{"errorCode":"Forbidden","errorMessage":"The eip instance owner error"},{"errorCode":"Forbidden.FinancialLocked","errorMessage":"The ip business status is invalid."},{"errorCode":"UnsupportedFeature.EipBindIpAddress","errorMessage":"The feature of EipBindIpAddress is not supported."},{"errorCode":"OperationFailed.InstanceNotExist","errorMessage":"The ECS instance does not exist, or is not a VPC VM."},{"errorCode":"OperationDenied.Ipv4GatewayExist","errorMessage":"The operation is not allowed because of Ipv4GatewayExist."},{"errorCode":"OperationFailed.EipBindModeConflict","errorMessage":"Eips can not bind Eni with NAT mode and  MULTI_BINDED mode at the same time."},{"errorCode":"OperationFailed.EcsMigrating","errorMessage":"The operation is failed because of ECS is migrating."},{"errorCode":"OperationFailed.IpPrefixConflict","errorMessage":"The operation failed due to the IP prefix of the ENI."},{"errorCode":"UnsupportedFeature.EipBindPrefixIp","errorMessage":"The feature of EipBindPrefixIp is not supported."},{"errorCode":"OperationDenied.UnsupportedEipBindMode","errorMessage":"The operation is not supported for the NAT gateway due to its EIP binding mode."},{"errorCode":"OperationDenied.Unauthorized","errorMessage":"The operation is not allowed because the user is not in the whitelist."},{"errorCode":"OperationFailed.SystemBusy","errorMessage":"Operation failed because system is busy."},{"errorCode":"OperationFailed.PrivateIpAddressNotExist","errorMessage":"The operation failed because the PrivateIpAddress is not found."}],"404":[{"errorCode":"InvalidAllocationId.NotFound","errorMessage":"Specified allocation ID is not found."},{"errorCode":"InvalidInstanId.NotFound","errorMessage":"Specified instance does not exist."},{"errorCode":"InvalidRegionId.NotFound","errorMessage":"Specified value of InstanceRegionId is not supported."},{"errorCode":"Forbidden.RegionNotFound","errorMessage":"Specified instance is not found during access authentication."},{"errorCode":"OperationDenied.VpcIpv4GatewayEnabled","errorMessage":"The operation is not allowed because of the VPC of the NAT gateway has opened IPv4 Gateway."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AssociateEipAddressResponse>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</AssociateEipAddressResponse>\",\"errorExample\":\"\"}]","title":"将EIP绑定到云产品实例","description":"- EIP实例可绑定到同地域的专有网络类型的ECS实例、专有网络类型的CLB实例、辅助弹性网卡、NAT网关和高可用虚拟IP上。\n\n- **AssociateEipAddress**接口属于异步接口，即系统会先返回一个请求ID，但EIP实例与云产品实例并未绑定完成，系统后台的绑定任务仍在进行。您可以调用[DescribeEipAddresses](~~120193~~)查询EIP实例的状态：\n    - 当EIP实例处于**Associating**状态时，表示EIP实例正在绑定中，在该状态下，您只能执行查询操作，不能执行其他操作。\n    - 当EIP实例处于**InUse**状态时，表示EIP实例绑定完成。\n- **AssociateEipAddress**接口不支持同一个EIP实例并发绑定云产品实例。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}