{"summary":"调用CreateRouteEntry在VPC路由器或边界路由器（VBR）上创建自定义路由条目。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"37635","abilityTreeNodes":["FEATUREvpcJSBF65"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"路由表所属地域的ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"RouteTableId","in":"query","schema":{"description":" 要添加自定义路由条目的路由表ID。 ","type":"string","required":true,"docRequired":true,"example":"vtb-bp145q7glnuzd****"}},{"name":"DestinationCidrBlock","in":"query","schema":{"description":"自定义路由条目的目标网段，支持IPv4、IPv6、前缀列表的目标网段和前缀列表的实例ID。需满足以下要求：\n          \n- 目标网段不能指向100.64.0.0/10或被100.64.0.0/10包含。  \n \n- 同一张路由表内的不同路由条目的目标网段不能相同。","type":"string","required":true,"docRequired":true,"example":"192.168.0.0/24"}},{"name":"NextHopId","in":"query","schema":{"description":"自定义路由条目的下一跳实例的ID。","type":"string","required":false,"example":"i-j6c2fp57q8rr4jlu****"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，请确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"02fb3da4-130e-11e9-8e44-001****"}},{"name":"RouteEntryName","in":"query","schema":{"description":"要添加的自定义路由条目的名称。\n\n名称长度为1～128个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"test"}},{"name":"Description","in":"query","schema":{"description":"自定义路由条目的描述信息。\n\n描述长度为1～256个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"test"}},{"name":"NextHopType","in":"query","schema":{"description":"自定义路由条目的下一跳的类型，取值： \n\n- **Instance**（默认值）：ECS实例。\n\n- **HaVip**：高可用虚拟IP。  \n\n- **RouterInterface**：路由器接口。\n\n- **NetworkInterface**：弹性网卡。\n\n- **VpnGateway**：VPN网关。\n\n- **IPv6Gateway**：IPv6网关。\n\n- **NatGateway**：NAT网关。\n\n- **Attachment**：转发路由器。\n\n- **VpcPeer**：VPC对等连接。\n- **Ipv4Gateway**：IPv4网关。\n- **GatewayEndpoint**：网关终端节点。\n- **Ecr**：专线网关。","type":"string","required":false,"enumValueTitles":{"HaVip":"HaVip","VpnGateway":"VpnGateway","VpcPeer":"VpcPeer","Instance":"Instance","Ecr":"Ecr","NetworkInterface":"NetworkInterface","RouterInterface":"RouterInterface","NatGateway":"NatGateway","Attachment":"Attachment","IPv6Gateway":"IPv6Gateway","Ipv4Gateway":"Ipv4Gateway","GatewayEndpoint":"GatewayEndpoint"},"example":"RouterInterface"}},{"name":"NextHopList","in":"query","style":"repeatList","schema":{"description":"下一跳的信息。","type":"array","items":{"description":"下一跳的信息。","type":"object","properties":{"NextHopId":{"description":"ECMP路由的下一跳实例的ID。","type":"string","required":false,"example":"ri-2zeo3xzyf3cd8r4****"},"Weight":{"description":"ECMP路由的下一跳的路由权重。","type":"integer","format":"int32","required":false,"example":"10"},"NextHopType":{"description":"ECMP路由的下一跳的类型，目前仅取值：**RouterInterface**（路由器接口）。","type":"string","required":false,"example":"RouterInterface"}},"required":false},"required":false,"maxItems":16}}],"responses":{"200":{"schema":{"description":"自定义路由条目的ID。","type":"object","properties":{"RouteEntryId":{"description":"自定义路由条目的ID。","type":"string","example":"rte-sn6vjkioxte1gz83z****"},"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"IllegalParam.CidrBlock","errorMessage":"The specified CidrBlock is illegal."},{"errorCode":"QuotaExceeded","errorMessage":"Route entry quota exceeded in this route table."},{"errorCode":"MissingParameter","errorMessage":"Miss mandatory parameter."},{"errorCode":"InvalidCidrBlock.Malformed","errorMessage":"Specified CIDR block is not valid."},{"errorCode":"InvalidCIDRBlock.Duplicate","errorMessage":"Specified CIDR block is already exists."},{"errorCode":"IncorrectVpcStatus","errorMessage":"Current VPC status does not support this operation."},{"errorCode":"IncorrectInstanceStatus","errorMessage":"Current instance status does not support this operation."},{"errorCode":"IncorrectRouteEntryStatus","errorMessage":"Some route entry status blocked this operation."},{"errorCode":"IncorrectVSwitchStatus","errorMessage":"The current virtual switch status does not support this operation."},{"errorCode":"InvalidCidrBlock","errorMessage":"Specified CIDR block is not valid."},{"errorCode":"InvalidNextHop.NotFound","errorMessage":"Specified next hop does not exist."},{"errorCode":"InvalidVRouter.NotFound","errorMessage":"vRouter not exists."},{"errorCode":"InvalidVPC.NotFound","errorMessage":"vpc not exists."},{"errorCode":"InvalidNexthopTypeAndList.BothNull","errorMessage":"both nexthopType and nextHopList are null."},{"errorCode":"InvalidNexthopTypeAndList.BothNotNull","errorMessage":"both nexthopType and nextHopList are not null."},{"errorCode":"InvalidRouterInterface","errorMessage":"invalid router interface."},{"errorCode":"InvalidOppositeRouterType","errorMessage":"nexthop list cannot only contain router interface whose opposite router interface is on vbr."},{"errorCode":"InvalidNexthopListSize","errorMessage":"nexthop size is illegal. Must be between 2 and 4."},{"errorCode":"InvalidEntryRuleQuota.NotFound","errorMessage":"Route entry quota rule not exists."},{"errorCode":"Forbidden.CheckEntryRuleQuota","errorMessage":"Route entry quota rule check error."},{"errorCode":"InvalidVBRStatus","errorMessage":"invalid virtual border router status."},{"errorCode":"InvalidPhysicalConnectionBusinessStatus","errorMessage":"invalid physical connection business status."},{"errorCode":"InvalidRouterType","errorMessage":"Cannot specify nexthop list in vbr's route table."},{"errorCode":"IncorrectHaVipStatus","errorMessage":"This operation is denied because satus of the specified HaVip is neither Available nor InUse."},{"errorCode":"CountLimitExceed.HaVipRouteEntry","errorMessage":"The count of route entry to HaVip in one route table is exceeded."},{"errorCode":"InvalidRouteEntry.Duplicate","errorMessage":"The route entry already exist."},{"errorCode":"InvalidParam","errorMessage":"The Ecmp routerEntry with router interfaces local vgw vip not match."},{"errorCode":"INVALID_WEIGHT_PARAM","errorMessage":"Specified value of weight invalid"},{"errorCode":"FORBIDDEN_USE_VPC_AS_INTERNET_GATEWAY","errorMessage":"The Specified CIDR must be in vpc CIDR."},{"errorCode":"InvalidNexthop","errorMessage":"The Specified nexthop illegal."},{"errorCode":"INVALID_VPC_ID","errorMessage":"The Specified VpcId not match."},{"errorCode":"InvalidRouteEntrySize","errorMessage":"The Specified routerEntry size not legal."},{"errorCode":"TaskConflict","errorMessage":"The operation is too frequent, please wait a moment and try again."},{"errorCode":"InvalidRouteEntry","errorMessage":"Specified routeEntry not exist."},{"errorCode":"InvalidDestinationCidrBlock","errorMessage":"The specified destinationCidrBlock must not included in black list cidr."},{"errorCode":"Forbidden.VRouterNotFound","errorMessage":"Specified virtual switch is not found during access authentication."},{"errorCode":"DefaultValidate.Error","errorMessage":"validte fail."},{"errorCode":"Region.NotSupport","errorMessage":"The specified region does not currently support nextHopType for networkInterface"},{"errorCode":"OperationFailed.NotifyCenCreate","errorMessage":"Failed to notify cen when create route entry."},{"errorCode":"Forbidden.PrivateIpNotFound","errorMessage":"Private ip address not exist."},{"errorCode":"OperationUnsupported.InactiveMode","errorMessage":"Vpc multi scope route only support active standby."},{"errorCode":"InvalidRouteEntryName.Malformed","errorMessage":"Specified RouteEntry name is not valid."},{"errorCode":"IncorrectStatus.MultiScopeRiRouteEntry","errorMessage":"MultiScope ri status must not in idle."},{"errorCode":"OperationUnsupported.MoreThanOneVpnOrHavip","errorMessage":"MultiScope can not support more than one vpn/havip."},{"errorCode":"OperationUnsupported.EcmpRiTypeOrNumber","errorMessage":"Emcp entry not supported if vpc-vbr or vbr-vlan ri does not exist."},{"errorCode":"Duplicated.VpcNextHop","errorMessage":"Route entry nexthop duplicate."},{"errorCode":"OperationUnsupported.SubRouteTableECMP","errorMessage":"Vpc subRouteTable don't support ecmp or multiScope."},{"errorCode":"InvalidNexthop.NotFound","errorMessage":"VRouterEntry nexthop does not exist."},{"errorCode":"IllegalParam.NextHopId","errorMessage":"Instance not exists or not vpc vm."},{"errorCode":"InvalidVpnInstanceId.NotFound","errorMessage":"%s"},{"errorCode":"OperationFailed.ScopeActiveRouteEntryType","errorMessage":"%s"},{"errorCode":"OperationFailed.ScopeStandbyRouteEntryQuota","errorMessage":"%s"},{"errorCode":"OperationFailed.ScopeActiveRouteEntryQuota","errorMessage":"%s"},{"errorCode":"OperationUnsupported.ScopeInvalidRouteType","errorMessage":"%s"},{"errorCode":"OperationFailed.EcmpInvalidRouterInterfaceOppositeType","errorMessage":"%s"},{"errorCode":"OperationUnsupported.Ipv6EcmpRouteEntry","errorMessage":"%s"},{"errorCode":"OperationUnsupported.Ipv6CidrBlock","errorMessage":"%s"},{"errorCode":"OperationUnsupported.Ipv6ForVBR","errorMessage":"%s"},{"errorCode":"QuotaExceeded.HaVipRouteEntry","errorMessage":"Vpc havip route entry quota exceed."},{"errorCode":"InvalidNexthop.DirectEni","errorMessage":"The direct Eni cannot be nexthop."},{"errorCode":"OperationFailed.InvalidNexthop","errorMessage":"vpc multi scope route must has a enable nexthop."},{"errorCode":"OperationFailed.NotifyCenDelete","errorMessage":"Failed to notify cen when delete route entry."},{"errorCode":"InvalidNatGateway.NotFound","errorMessage":"Natgateway not exist."},{"errorCode":"OperationFailed.CxpRouteExist","errorMessage":"Cxp route alreay existed."},{"errorCode":"IncorrectStatus.RouteTableStatus","errorMessage":"%s"},{"errorCode":"OperationFailed.GetEniInfo","errorMessage":"Failed to get networkInterface info."},{"errorCode":"QuotaExceeded.EcmpRouteEntryNextHopCount","errorMessage":"%s"},{"errorCode":"OperationFailed.InvalidNextHopType","errorMessage":"%s"},{"errorCode":"OperationUnsupported.InvalidRouterInterfaceType","errorMessage":"Only vpc vbr interface support ecmp route."},{"errorCode":"InvalidHaVip.NotFound","errorMessage":"The specified HaVip does not exist in the specified region."},{"errorCode":"OperationFailed.MultiScopeType","errorMessage":"The specified nexthop type is not support in multiScope."},{"errorCode":"OperationFailed.DistibuteLock","errorMessage":"Distibute lock fail."},{"errorCode":"QuotaExceeded.VpnRouteEntry","errorMessage":"Vpn route entry quota exceeded."},{"errorCode":"InvalidAttachment.NotFound","errorMessage":"The attachment is not found."},{"errorCode":"OperationFailed.ActiveNetworkInterfaceNotFound","errorMessage":"No active network interface is found on the attachment."},{"errorCode":"InvalidNetworkInterface.NotFound","errorMessage":"The network interface is not found on the attachment."},{"errorCode":"OperationFailed.QueryAttachmentInfo","errorMessage":"Failed to query attachment information."},{"errorCode":"IllegalParam.AttachmentId","errorMessage":"The attachment is invalid."},{"errorCode":"OperationFailed.NotSupportIPV6","errorMessage":"The specified next hop does not support IPv6."},{"errorCode":"IncorrectStatus.Ipv6Address","errorMessage":"The IPv6 address of the specified next hop is being assigned or deleted."},{"errorCode":"OperationUnsupported.Ipv6EntryOnPrimaryNetworkInterface","errorMessage":"You cannot create IPv6 route entries on a primary network interface."},{"errorCode":"OperationUnsupported.SpecifyIpOnIpv6Entry","errorMessage":"You cannot specify the private IP address when you create IPv6 route entries."},{"errorCode":"OperationUnsupported.MutipleIpv6Address","errorMessage":"You cannot specify a next hop that has bound multiple IPv6 addresses."},{"errorCode":"OperationDenied.Ipv6EntryOnCustomTable","errorMessage":"You cannot create any IPv6 route entry on a custom route table."},{"errorCode":"OperationDenied.CloudBoxVbrEntryAllowedInCustomRouteTable","errorMessage":"The operation is not allowed because only the custom routing table can add a routing entry with the next hop pointing to the cloud box type VBR."},{"errorCode":"OperationDenied.RouteTableAssociateNotCloudBoxVSwitch","errorMessage":"The operation is not allowed because of the routing table is bound to a non-cloud box type vswitch, and routing entries pointing to the cloud box VBR cannot be added."},{"errorCode":"OperationDenied.VbrMisMatchCloudBox","errorMessage":"The operation is not allowed because the routing table is bound to a cloud box vswitch, and routing entries pointing to other cloud box VBRs cannot be added."},{"errorCode":"OperationDenied.VbrIdle","errorMessage":"The operation is not allowed because the next hop of the added routing entry is a VBR type RI at the opposite end, which cannot be in an idle state."},{"errorCode":"OperationDenied.RouterInterfaceToDifferentVpc","errorMessage":"The operation is not allowed because the router interface is connected to different VPCs."},{"errorCode":"OperationDenied.RouterInterfaceFromDifferentZones","errorMessage":"The operation is not allowed because the router interface resides in different zones."},{"errorCode":"OperationFailed.PconnTrafficNotEnable","errorMessage":"The operation is failed because of PconnTrafficNotEnable."},{"errorCode":"ResourceNotFound.VpcPeer","errorMessage":"The specified resource of %s is not found."},{"errorCode":"IncorrectStatus.VpcPeer","errorMessage":"The status of %s [%s] is incorrect."},{"errorCode":"OperationDenied.RouteTableTypeNotPermitted","errorMessage":"The operation is not allowed because the type of route table is not permitted."},{"errorCode":"OperationDenied.GatewayRouteTableNotPermitted","errorMessage":"The operation is not allowed to create a route pointing to this nextHop type on gateway route table."},{"errorCode":"UnsupportedFeature.VpcPeerIpv6","errorMessage":"IPv6 route entries for VPC peering connections cannot be created in this region."},{"errorCode":"OperationDenied.VpcIpv6NotEnabled","errorMessage":"IPv6 has not been enabled for the VPC."},{"errorCode":"IncorrectStatus.Ipv4Gateway","errorMessage":"The status of Ipv4Gateway is incorrect."},{"errorCode":"ResourceNotFound.PrefixList","errorMessage":"The specified resource of prefixList is not found."},{"errorCode":"UnsupportedFeature.CreatePrefixListEcmpRouteEntry","errorMessage":"The feature of creating ecmp route entry with prefixList is not supported."},{"errorCode":"OperationDenied.RouterInterfaceIpv6NotEnabled","errorMessage":"Routerinterface does not support IPv6."},{"errorCode":"OperationDenied.NextHopTypeNotPermitted","errorMessage":"The operation is not allowed because the nextHop type is invalid."},{"errorCode":"ResourceAlreadyAssociated.PrefixList","errorMessage":"The operation failed because the specified prefixList route entry already exists."},{"errorCode":"OperationFailed.CidrConflictWithPrefixList","errorMessage":"The specified CIDR block already exists in a prefixList route entry."},{"errorCode":"ResourceNotFound.Ipv4Gateway","errorMessage":"Specified Ipv4Gateway does not exist."},{"errorCode":"Mismatch.HaVipIdAndRouteTableId","errorMessage":"The HaVip and RouteTable are mismatched."},{"errorCode":"OperationFailed.OperationLocked","errorMessage":"The operation failed because the nextHop instance is in the O&M lock state."},{"errorCode":"Mismatch.Ipv4GatewayIdAndRouteTableId","errorMessage":"The specified IPv4Gateway and RouteTable are not matched."},{"errorCode":"OperationUnsupported.DestinationCidrBlockOverlapWithVSwitch","errorMessage":"The destination IPv6 network segment specified in the route entry overlaps with the vSwitch network segment."},{"errorCode":"ResourceNotAssociated.Cen","errorMessage":"The Vpc and Cen are not associated."},{"errorCode":"IncorrectStatus.CenRelation","errorMessage":"The status of Vpc in Cen is incorrect."},{"errorCode":"OperationDenied.CenTypeInvalid","errorMessage":"The operation is not allowed because of Cen type is invalid.."},{"errorCode":"ResourceNotFound.Cen","errorMessage":"The specified resource of Cen is not found."},{"errorCode":"ResourceNotFound.NetworkInterface","errorMessage":"The specified resource of network interface is not found."},{"errorCode":"RouteConflict.AlreadyExist","errorMessage":"Route conflict exists in routing table."},{"errorCode":"IncorrectStatus.RouterInterface","errorMessage":"The specified RouterInterface status is invalid."},{"errorCode":"InvalidNexthop.UnsupportedEniBizType","errorMessage":"The biz type of NetworkInterface is illegal."},{"errorCode":"OperationDenied.RouterInterfaceIpv6","errorMessage":"RouterInterface does not support IPv6."},{"errorCode":"InvalidNextHopType","errorMessage":"Specified parameter \"NextHopType\" is not valid."},{"errorCode":"OperationDenied.VbrAttachEcrInMiddleStatus","errorMessage":"The operation is not allowed because of VBR attach or detach ECR in middle status."},{"errorCode":"ResourceNotAssociated.Ecr","errorMessage":"The ECR is not associated."}],"403":[{"errorCode":"IncorrectInstanceStatus","errorMessage":"The current status of the resource does not support this operation."}],"404":[{"errorCode":"InvalidParameter","errorMessage":"Instance not exists or not vpc vm"},{"errorCode":"InvalidNatGatewayId.NotFound","errorMessage":"Specified value of NatGatewayId is not found in our record."},{"errorCode":"InvalidInstanId.NotFound","errorMessage":"Specified instance does not exist."},{"errorCode":"InvalidNextHopId.NotFound","errorMessage":"Specified next hop does not exist."},{"errorCode":"InvalidRouteTableId.NotFound","errorMessage":"Specified route table does not exist."},{"errorCode":"InvalidHaVipId.NotFound","errorMessage":"The specified HaVip does not exist in the specified VPC."},{"errorCode":"InvalidNetworkInterface.NotFound","errorMessage":"The specified networkInterface does not exist."},{"errorCode":"InvalidVpc.NotFound","errorMessage":"Specified vpc is not found in our record."},{"errorCode":"OperationFailed.InstanceDismatchCurrentVpc","errorMessage":"The specified instance does not exist in current vpc."},{"errorCode":"InvalidIpv6Gateway.NotFound","errorMessage":"Specified Ipv6Gateway does not exist."}],"500":[{"errorCode":"VPC.ERROR","errorMessage":"error code 500,Internal server error."},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."},{"errorCode":"IncorrectStatus.Ipv4Gateway","errorMessage":"The status of Ipv4Gateway is incorrect."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RouteEntryId\\\": \\\"rte-sn6vjkioxte1gz83z****\\\",\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateRouteEntryResponse>\\n    <RouteEntryId>rte-sn6vjkioxte1gz83z****</RouteEntryId>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</CreateRouteEntryResponse>\",\"errorExample\":\"\"}]","title":"创建自定义路由条目","description":"- **CreateRouteEntry**接口属于异步接口，即系统会返回一个实例ID，但该路由的添加尚未完成，系统后台的启动任务仍在进行。您可以调用[DescribeRouteEntryList](~~138148~~)查询路由的添加状态：\n    - 当路由处于**Creating**状态时，表示路由添加中。\n    - 当路由处于**Created**状态时，表示路由添加完成。\n- **CreateRouteEntry**接口不支持在同一个VPC或者同一个VBR中并发添加自定义路由条目。\n\n**使用该接口为VPC路由器的路由表添加自定义路由条目时，请注意以下事项：**\n> 当添加的路由为前缀列表路由时，路由配额的计算为现存路由与前缀列表路由的最大路由条目数之和是否超过路由配额的限制。\n- 同一个路由表中自定义路由条目不能超过200条。  \n\n- 自定义路由条目的目标网段（**DestinationCidrBlock**）不能和VPC内的交换机的网段相同，可以包含交换机的网段但是不能被交换机的网段包含。   \n\n- 自定义路由条目的目标网段（**DestinationCidrBlock**）不能指向100.64.0.0/10，也不能被100.64.0.0/10包含。   \n\n- 同一路由表下的路由条目的目标网段（**DestinationCidrBlock**）不允许相同。   \n\n- 如果指定的目标网段（**DestinationCidrBlock**）是一个IP地址，会按照32位掩码来处理。   \n\n- 多条自定义路由条目可以指向同一个下一跳（**NextHopId**）。  \n\n- 自定义路由条目的下一跳（**NextHopId**）必须和路由表在同一个VPC。  \n\n- 支持通过**NextHopList**参数配置ECMP路由： \n        \n\n  * 添加普通（非ECMP）自定义路由时，需指定**DestinationCidrBlock**、**NextHopType**和**NextHopId**参数，且不能指定**NextHopList**参数。   \n \n  * 添加ECMP路由时，需指定**DestinationCidrBlock**和**NextHopList**参数，且不能指定**NextHopType**和**NextHopId**参数。   \n\n\n**使用该接口为边界路由器的路由表添加自定义路由条目时，请注意以下事项：**\n\n- 同一个路由表中自定义路由条目不能超过200条。  \n       \n- 不支持**NextHopList**参数。   \n       \n- 自定义路由条目的目标网段（**DestinationCidrBlock**）不能指向100.64.0.0/10，也不能被100.64.0.0/10包含。   \n       \n- 同一路由表下的路由条目的目标网段（**DestinationCidrBlock**）不允许相同。   \n       \n- 如果指定的目标网段（**DestinationCidrBlock**）是一个IP地址，会按照32位掩码来处理。   \n      \n- 多条自定义路由条目可以指向同一个下一跳（**NextHopId**）。  \n      \n- 自定义路由条目的下一跳（**NextHopId**）必须是该VBR关联的路由器接口。  \n       \n- 只允许在VBR状态是**Active**，而且对应的物理专线状态是**Enabled**且没有被欠费锁定的情况下在VBR上新建路由条目。  \n      \n- 仅支持添加普通路由（非ECMP），需指定**DestinationCidrBlock**、**NextHopType**和**NextHopId**参数，且不能指定**NextHopList**参数。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}