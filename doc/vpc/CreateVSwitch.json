{"summary":"创建一个交换机。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"create"},"parameters":[{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"资源的标签。","type":"array","items":{"description":"标签。","type":"object","properties":{"Key":{"description":"资源的标签键。最多支持输入20个标签键。如需传入该值，则不能输入空字符串。\n\n一个标签键最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"FinanceJoshua"},"Value":{"description":"资源的标签值。最多支持输入20个标签值。如需传入该值，可以输入空字符串。\n\n最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"FinanceDept"}},"required":false},"required":false,"maxItems":21}},{"name":"ZoneId","in":"query","schema":{"description":"要创建的交换机所属的可用区ID。\n\n您可以通过调用[DescribeZones](~~36064~~)接口获取可用区ID。  ","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou-b"}},{"name":"RegionId","in":"query","schema":{"description":"要创建的交换机的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。 ","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"CidrBlock","in":"query","schema":{"description":"交换机的网段。交换机网段要求如下： \n\n- 交换机的网段的掩码长度范围为16～29位。  \n\n- 交换机的网段必须从属于所在VPC的网段。 \n\n- 交换机的网段不能与所在VPC中路由条目的目标网段相同，但可以是目标网段的子集。 \n\n- 交换机的网段不能是100.64.0.0/10及其子网网段。","type":"string","required":true,"docRequired":true,"example":"172.16.0.0/24"}},{"name":"Ipv6CidrBlock","in":"query","schema":{"description":"交换机IPv6网段的最后8比特位，取值：**0**～**255**。\n","type":"integer","format":"int32","required":false,"example":"12"}},{"name":"VpcId","in":"query","schema":{"description":"要创建的交换机所属的VPC ID。 ","type":"string","required":true,"docRequired":true,"example":"vpc-257gqcdfvx6n****"}},{"name":"VSwitchName","in":"query","schema":{"description":"交换机的名称。 \n\n名称长度为1～128个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"vSwitch-1"}},{"name":"Description","in":"query","schema":{"description":"交换机的描述信息。  \n\n描述长度为1～256个字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"vSwitch"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**可能不一样。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"VpcIpv6CidrBlock","in":"query","schema":{"description":"VPC的IPv6网段。","type":"string","required":false,"example":"2408:XXXX:0:6a::/56"}}],"responses":{"200":{"schema":{"description":"返回信息。","type":"object","properties":{"VSwitchId":{"description":"创建的交换机的ID。","type":"string","example":"vsw-25navfgbue4g****"},"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"OperationFailed.ResourceConflict","errorMessage":"vpc only support one cloud box."},{"errorCode":"OperationFailed.IdempotentTokenProcessing","errorMessage":"Action is processing."},{"errorCode":"InvalidDescription.Malformed","errorMessage":"Invalid description."},{"errorCode":"InvalidVSwitchName.Malformed","errorMessage":"Specified virtual switch name is not valid."},{"errorCode":"InvalidVSwitchDiscription.Malformed","errorMessage":"Specified  virtual switch description is not valid."},{"errorCode":"Abs.Vpc.InvalidDescription.Malformed","errorMessage":"Specified virtual switch name is not valid."},{"errorCode":"MissingParam.vpcId","errorMessage":"The parameter vpcId is mandatory."},{"errorCode":"ResourceNotAvailable","errorMessage":"Resource you requested is not available in this region or zone."},{"errorCode":"InvalidParameter","errorMessage":"Specified CIDR block is not valid in VPC."},{"errorCode":"InvalidCidrBlock.Overlapped","errorMessage":"Specified CIDR block overlapped with other subnets."},{"errorCode":"QuotaExceeded.VSwitch","errorMessage":"Virtual switch quota exceeded."},{"errorCode":"IncorrectRouteEntryStatus","errorMessage":"Some route entry status blocked this operation."},{"errorCode":"IncorrectVSwitchStatus","errorMessage":"Some virtual switch is modifying within the same VPC."},{"errorCode":"InvalidCirdrBlock.MaskLength","errorMessage":"Specified CIDR block is not valid ."},{"errorCode":"IncorrectVpcStatus","errorMessage":"Current VPC status does not support this operation."},{"errorCode":"CreateVSwitch.IncorrectStatus.cbnStatus","errorMessage":"Current CBN status does not support this operation."},{"errorCode":"InvalidCidrBlock.Malformed","errorMessage":"Specified CIDR block is not valid."},{"errorCode":"MissingParameter","errorMessage":"Miss mandatory parameter."},{"errorCode":"TaskConflict","errorMessage":"The operation is too frequent, TaskConflict."},{"errorCode":"VPC.SWITCH.RULE.QUOTA.NOT.EXISTS","errorMessage":"vSwitch quota rule not exists."},{"errorCode":"Forbidden.VpcNotFound","errorMessage":"Specified VPC can not found."},{"errorCode":"RouteConflict.AlreadyExist","errorMessage":"Route conflict exists in routing table."},{"errorCode":"OperationFailed.CidrAcross","errorMessage":"Classic link instance cidr must not across."},{"errorCode":"Duplicated.ClientToken","errorMessage":"%s"},{"errorCode":"OperationFailed.Ipv6CidrBlockExisted","errorMessage":"%s"},{"errorCode":"IllegalParam.Ipv6CidrBlock","errorMessage":"%s"},{"errorCode":"OperationFailed.VpcIpv6Disabled","errorMessage":"%s"},{"errorCode":"IncorrectStatus.cbnStatus","errorMessage":"Current CBN status does not support this operation."},{"errorCode":"OperationFailed.NotifyCenCreate","errorMessage":"Failed to notify cen when create vswitch."},{"errorCode":"OperationFailed.DistibuteLock","errorMessage":"Distibute lock fail."},{"errorCode":"UnsupportedFeature.CloudBoxIpv6","errorMessage":"The IPv6 feature is not supported by cloud box."},{"errorCode":"OperationDenied.VpcPeerExist","errorMessage":"The operation is not allowed because the VPC peer exists."},{"errorCode":"OperationDenied.CenAttached","errorMessage":"The operation is not allowed because the VPC is attached to CEN."},{"errorCode":"OperationDenied.NatgwExist","errorMessage":"The operation is not allowed because the NAT gateway exists in VPC."},{"errorCode":"MissingParam.Ipv6CidrBlock","errorMessage":"The parameter Ipv6CidrBlock is mandatory."},{"errorCode":"IllegalParam.VpcIpv6CidrBlock","errorMessage":"%s"},{"errorCode":"OperationDenied.OtherSubnetCreating","errorMessage":"The operation is not allowed because the other VSwitch is creating."},{"errorCode":"OperationDenied.VpcPeerExists","errorMessage":"The operation is not allowed because the VpcPeer exists."},{"errorCode":"IllegalParam.CidrBlock","errorMessage":"The param of CidrBlock [%s] is illegal."}],"404":[{"errorCode":"Invalid.NotExist","errorMessage":"witch mask rule not exists."},{"errorCode":"InvalidStatus.RouteEntry","errorMessage":"RouteEntry status error."},{"errorCode":"InvalidZoneId.NotFound","errorMessage":"Specified zone does not exist."},{"errorCode":"InvalidVpcId.NotFound","errorMessage":"Specified VPC does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"VSwitchId\\\": \\\"vsw-25navfgbue4g****\\\",\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateVSwitchResponse>\\n    <VSwitchId>vsw-25navfgbue4g****</VSwitchId>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</CreateVSwitchResponse>\",\"errorExample\":\"\"}]","title":"创建交换机","description":"调用该接口创建交换机时，请注意以下事项：\n\n- 每个VPC内的交换机数量不能超过150个。  \n\n- 每个交换机网段的第1个和最后3个IP地址为系统保留地址。例如192.168.1.0/24的系统保留地址为192.168.1.0、192.168.1.253、192.168.1.254和192.168.1.255。  \n\n- 交换机下的云产品实例数量不允许超过VPC剩余的可用云产品实例数量（15000减去当前云产品实例数量）。  \n\n- 一个云产品实例只能属于一个交换机。  \n\n- 交换机不支持组播和广播。\n\n- 交换机创建成功后，无法修改网段。\n\n- **CreateVSwitch**接口属于异步接口，即系统会返回一个实例ID，但该交换机尚未创建完成，系统后台任务仍在进行中。您可以调用\n[DescribeVSwitchAttributes](~~94567~~)查询交换机的创建状态：\n    - 当交换机处于**Pending**状态时，表示交换机正在配置中。\n    - 当交换机处于**Available**状态时，表示交换机可用。\n- **CreateVSwitch**接口不支持在同一个VPC中并发创建交换机。\n- **CreateVSwitch**接口不支持创建100.64.0.0/10及其子网网段的交换机。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}