{"summary":"调用AssociateHaVip接口将HaVip绑定到专有网络ECS实例或弹性网卡上。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"create"},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**可能不一样。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"RegionId","in":"query","schema":{"description":"HaVip实例所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-shanghai"}},{"name":"HaVipId","in":"query","schema":{"description":"要绑定的HaVip实例ID。","type":"string","required":true,"docRequired":true,"example":"havip-2zeo05qre24nhrqpy****"}},{"name":"InstanceId","in":"query","schema":{"description":"与HaVip实例绑定的ECS实例ID。","type":"string","required":true,"docRequired":true,"example":"i-faf344422ffsfad****"}},{"name":"InstanceType","in":"query","schema":{"description":"要绑定HaVip的实例类型，取值：\n\n- **EcsInstance**：云服务器ECS实例。\n\n- **NetworkInterface**：弹性网卡实例，当绑定HaVip的实例为弹性网卡，该参数必须填写。","type":"string","required":false,"example":"EcsInstance"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C44F62BE-9CE7-4277-B117-69243F3988BF"}}}}},"errorCodes":{"400":[{"errorCode":"OperationUnsupported.BindOnFreeNetworkInterface","errorMessage":"The network interface must be attached to an ECS instance."},{"errorCode":"OperationUnsupported.BindMultipleType","errorMessage":"You cannot bind HaVip to multiple instance types."},{"errorCode":"OperationUnsupported.BindOnMultipleVswitch","errorMessage":"The bound instance and HaVip must be on the same vSwitch."},{"errorCode":"InvalidVip.Status","errorMessage":"vip invalid status"},{"errorCode":"IncorrectHaVipStatus","errorMessage":"HaVip can be operated by this action only when it's status is Available or InUse."},{"errorCode":"IncorrectInstanceStatus","errorMessage":"ECS instance can be operated by this action only when it?s status is Running or Stopped."},{"errorCode":"CountLimitExceed.HaVipOnInstance","errorMessage":"The amount of HaVip associated with the specified Instance reach its limits."},{"errorCode":"CountLimitExceeded.HaVipOnECSInstance","errorMessage":"The amount of Instance associated with the specified HaVip reach its limits."},{"errorCode":"OperationFailed.DistibuteLock","errorMessage":"Distibute lock fail."},{"errorCode":"InvalidNetworkInterfaceId.NotFound","errorMessage":"The network interface is not found."},{"errorCode":"OperationFailed.QueryNetworkInterfaceInfo","errorMessage":"Failed to query network interface information."},{"errorCode":"IllegalParam.InstanceType","errorMessage":"The specified instance type is invalid. Only ECS instances and network interface are allowed."},{"errorCode":"OperationUnsupported.BindOnSameEcs","errorMessage":"You cannot bind two network interfaces on the same ECS instance."},{"errorCode":"OperationUnsupported.HavipBindType","errorMessage":"You cannot bind HAVIP to network interface in the specified region."},{"errorCode":"InvalidInstance.NotExist","errorMessage":"InvalidInstance.NotExist : The specified Instance does not exist in the specified region. i-bp136w25mhx503ptilrh\\r\\nRequestId : A961CC27-D797-4E16-B1B3-19B9ECBA1495"},{"errorCode":"OperationDenied.BindOnSameEcs","errorMessage":"The operation is not allowed because networkinterface bind on same instance."},{"errorCode":"Forbidden.HaVip","errorMessage":"No permissions to perform operations on HAVIPs. Please apply for privilege--vpc_privilege_allow_buy_havip_instance."},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified Instance does not exist in the specified region."},{"errorCode":"ResourceNotFound.EcsInstance","errorMessage":"The specified resource of ECS instance is not found."},{"errorCode":"InvalidStatus.NotAllow","errorMessage":"Bind instance status invalid"}],"404":[{"errorCode":"InvalidHaVip.Exist","errorMessage":"haVip already bind exist."},{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."},{"errorCode":"InvalidHaVipId.NotFound","errorMessage":"The specified HaVip does not exist in the specified region."},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified Instance does not exist in the specified region."},{"errorCode":"QuotaExceeded.HaVipBindInstance","errorMessage":"The amount of instance associated with the specified haVip reach its limits."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C44F62BE-9CE7-4277-B117-69243F3988BF\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AssociateHaVipResponse>\\n    <RequestId>C44F62BE-9CE7-4277-B117-69243F3988BF</RequestId>\\n</AssociateHaVipResponse>\",\"errorExample\":\"\"}]","title":"将HaVip绑定到专有网络ECS实例上","description":"在调用本接口绑定高可用虚拟IP时，请注意：\n\n- HaVip绑定后立即生效，无需重启ECS实例，但需要将HaVip配置到ECS实例的弹性网卡上。 \n\n- HaVip和要绑定的ECS实例必须同属于一个交换机。 \n\n- 一个HaVip最多可绑定两个ECS实例。 \n\n- 要绑定的ECS实例的状态必须为**运行中**或**停止**。 \n\n- HaVip实例的状态必须为**Available**或**InUse**。\n\n- **AssociateHaVip**接口属于异步接口，即系统返回一个请求ID，但该HaVip并未绑定完成，系统后台的绑定任务仍在进行。您可以调用[DescribeHaVips](~~114611~~)查询HaVip的绑定状态：\n    - 当HaVip处于**Associating**状态时，表示HaVip正在绑定中。\n    - 当HaVip处于**InUse**状态时，表示HaVip绑定完成。\n- **AssociateHaVip**接口不支持并发绑定同一个HaVip。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}