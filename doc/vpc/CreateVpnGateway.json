{"summary":"调用CreateVpnGateway接口创建VPN网关。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"high","chargeType":"paid"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"VPN网关所在的地域。您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。  ","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Name","in":"query","schema":{"description":"VPN网关的名称，默认值为VPN网关的ID。\n\n长度为2～100个字符，不能以`http://`或`https://`开头，需要以大写或小写字母开头，后面可包含大小写字母、数字、下划线（_）、短划线（-）和半角句号（.），不支持其他特殊字符。","type":"string","required":false,"example":"MYVPN"}},{"name":"VpcId","in":"query","schema":{"description":"VPN网关所属的VPC实例ID。 ","type":"string","required":true,"docRequired":true,"example":"vpc-bp1ub1yt9cvakoelj****"}},{"name":"InstanceChargeType","in":"query","schema":{"description":"<props=\"china\">VPN网关的计费方式。仅取值：**PREPAY**，包年包月。</props>\n<props=\"intl\">VPN网关的计费方式。仅取值：**POSTPAY**，按量计费。</props>\n<props=\"partner\">VPN网关的计费方式。仅取值：**POSTPAY**，按量计费。</props>\n\n<props=\"china\">在您创建VPN网关时，该参数为必填项。</props>","type":"string","required":false,"example":"中国站示例值：PREPAY，国际站示例值：POSTPAY","default":"POSTPAY"}},{"name":"Period","in":"query","schema":{"description":"购买时长。单位：月。取值：**1**~**9**、**12**、**24**或**36**。\n\n<props=\"china\">\n> **InstanceChargeType**参数的值为**PREPAY**时，该参数必选。</props>\n","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"AutoPay","in":"query","schema":{"description":"是否自动支付VPN网关的账单。取值：\n\n- **true**：自动支付VPN网关的账单。\n\n- **false**（默认值）：不自动支付VPN网关的账单。\n\n> 为了成功创建VPN网关实例，建议您开启自动支付。如果您关闭了自动支付，则需要手动支付账单才能成功创建VPN网关实例。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"Bandwidth","in":"query","schema":{"description":"VPN网关的带宽规格。单位：Mbps。\n\n<props=\"china\">- 如果您要创建公网VPN网关，则取值为：**5**、**10**、**20**、**50**、**100**、**200**、**500**或**1000**。</props>\n<props=\"china\">- 如果您要创建私网VPN网关，则取值为：**200**或**1000**。</props>\n<props=\"intl\">- 如果您要创建公网VPN网关，则取值为：**10**、**100**、**200**、**500**或**1000**。</props>\n<props=\"intl\">- 如果您要创建私网VPN网关，则取值为：**200**或**1000**。</props>\n\n>部分地域下VPN网关支持的最大带宽规格为500 Mbps。更多信息，请参见[VPN网关使用限制](~~65290~~)。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"5"}},{"name":"EnableIpsec","in":"query","schema":{"description":"是否开启IPsec-VPN功能。取值：\n\n- **true**（默认值）：开启IPsec-VPN功能。\n\n- **false**：不开启IPsec-VPN功能。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"EnableSsl","in":"query","schema":{"description":"是否开启SSL-VPN功能。取值：\n\n- **true**：开启SSL-VPN功能。\n\n- **false**（默认值）：不开启SSL-VPN功能。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"SslConnections","in":"query","schema":{"description":"允许同时连接的最大客户端数量。取值：**5**（默认值）、**10**、**20**、**50**、**100**、**200**、**500**、**1000**。","type":"integer","format":"int32","required":false,"example":"5"}},{"name":"VSwitchId","in":"query","schema":{"description":"指定VPN网关实例关联的交换机实例。 \n\n- 在支持创建双隧道模式IPsec-VPN连接的地域，本参数必填，您必须指定一个交换机实例，同时您还要指定**DisasterRecoveryVSwitchId**参数的值。\n- 在支持创建单隧道模式IPsec-VPN连接的地域，如果您不指定交换机实例，系统将从VPC下自动选择一个交换机实例。","type":"string","required":false,"example":"vsw-bp1j5miw2bae9s2vt****"}},{"name":"VpnType","in":"query","schema":{"description":"VPN网关类型。取值：\n- **Normal**（默认值）：普通型。\n<props=\"china\">- **NationalStandard**：国密型。</props>","type":"string","required":false,"example":"Normal"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"02fb3da4****"}},{"name":"NetworkType","in":"query","schema":{"description":"VPN网关的网络类型。取值：\n\n- **public**（默认值）：公网VPN网关。\n- **private**：私网VPN网关。","type":"string","required":false,"example":"public"}},{"name":"DisasterRecoveryVSwitchId","in":"query","allowEmptyValue":true,"schema":{"description":"指定VPN网关实例关联的第二个交换机实例。\n\n- 如果当前地域支持创建双隧道模式的IPsec-VPN连接，则本参数必填。\n- 您需要从VPN网关实例关联的VPC实例下指定两个分布在不同可用区的交换机实例，以实现IPsec-VPN连接可用区级别的容灾。\n- 对于仅支持一个可用区的地域 ，不支持可用区级别的容灾，建议您在该可用区下指定两个不同的交换机实例以实现IPsec-VPN连接的高可用，支持指定相同的交换机实例。\n\n关于支持双隧道模式IPsec-VPN连接的地域和可用区的信息，请参见[IPsec-VPN连接升级为双隧道模式](~~2358946~~)。","type":"string","required":false,"example":"vsw-p0wiz7obm0tbimu4r****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"VPN网关所属的资源组ID。\n\n- 您可以调用[ListResourceGroups](~~158855~~)接口查询资源组ID。\n- 如果您未指定资源组ID，VPN网关创建完成后将归属于默认资源组。\n- VPN网关创建完成后，如果您在VPN网关下创建SSL服务端、SSL客户端证书、IPsec服务端或IPsec连接（指IPsec连接绑定VPN网关的场景），则这些资源将直接归属在VPN网关所属的资源组下，且不支持修改。\n\n  如果您修改了VPN网关所属的资源组，则上述资源所属的资源组也将一并被修改。","type":"string","required":false,"example":"rg-acfmzs372yg****"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"VpnGatewayId":{"description":"VPN网关实例ID。","type":"string","example":"vpn-uf68lxhgr7ftbqr3p****"},"RequestId":{"description":"请求ID。","type":"string","example":"EB2C156A-41F8-49CC-A756-D55AFC8BFD69"},"Name":{"description":"VPN网关的名称。","type":"string","example":"MYVPN"},"OrderId":{"description":"订单ID。\n\n<props=\"china\">如果您未选择自动支付VPN网关的账单，请前往[阿里云用户中心](https://usercenter2.aliyun.com/home)完成支付。</props>\n<props=\"intl\">如果您未选择自动支付VPN网关的账单，请前往[阿里云用户中心](https://usercenter2-intl.aliyun.com/billing/#/account/overview)完成支付。</props>\n","type":"integer","format":"int64","example":"208240895400460"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidVpcId.NotFound","errorMessage":"The specified VPC id does not exist in our records."},{"errorCode":"InvalidName","errorMessage":"The specified value of Name not supported."},{"errorCode":"InvalidSpec.NotFound","errorMessage":"The specified Spec does not exist in our records."},{"errorCode":"InvalidPeriod","errorMessage":"The specified period is not valid"},{"errorCode":"ChargeType.NotSupport","errorMessage":"The specified charge type is not support."},{"errorCode":"InventoryNotEnough","errorMessage":"The inventory is not enough."},{"errorCode":"UnnecessarySslConnection","errorMessage":"The SSL connection is unnecessary for ssl vpn disabled."},{"errorCode":"InvalidVpnEnable","errorMessage":"Either IPsec or SSL VPN must be set enable."},{"errorCode":"Resource.QuotaFull","errorMessage":"The quota of resource is full"},{"errorCode":"InvalidVSwitchId.NotFound","errorMessage":"The specified vswitchId is not found."},{"errorCode":"OperationFailed.InventoryNotEnough","errorMessage":"No enough available resource. Try another vswitch with different available zone."},{"errorCode":"Forbidden.OperateShareResource","errorMessage":"Operating shared resources is forbidden."},{"errorCode":"OperationFailed.IpNotEnough","errorMessage":"Operation failed because private ip address of the virtual switch is not enough."},{"errorCode":"Forbidden.NoSLRPermission","errorMessage":"User not authorized to create service linked role."},{"errorCode":"OperationFailed.VSwitchConflict","errorMessage":"The vswitch can't create vpn. Try another vswitch."},{"errorCode":"OperationFailed.AzNotSupport","errorMessage":"Current available zone can't create vpn. Try another vswitch with different available zone."},{"errorCode":"OperationFailed.NetworkTypeNotMatch","errorMessage":"Create NationalStandard vpn with private networkType is unsupported."},{"errorCode":"OperationFailed.SslNotSupport","errorMessage":"Enable ssl vpn with private networkType is unsupported."},{"errorCode":"Forbidden.TagKey.Duplicated","errorMessage":"The specified tag key already exists."},{"errorCode":"SizeLimitExceeded.TagNum","errorMessage":"The maximum number of tags is exceeded."},{"errorCode":"InvalidParameter.TagValue","errorMessage":"The specified parameter TagValue is invalid."},{"errorCode":"InvalidParameter.TagKey","errorMessage":"The specified parameter TagKey is invalid."},{"errorCode":"Duplicated.TagKey","errorMessage":"The specified parameter TagKey is duplicated."},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."},{"errorCode":"InvalidVSwitchId.SecondVswitchNotSupport","errorMessage":"The available zone of vswitch2 not supported."},{"errorCode":"InvalidVSwitchId.FirstVswitchNotSupport","errorMessage":"The available zone of vswitch1 not supported."},{"errorCode":"InvalidVSwitchId.VswitchIdShouldDifferent","errorMessage":"The VSwitch ids should be different."},{"errorCode":"InvalidVSwitchId.FirstVswitchIpNotEnough","errorMessage":"The ip of vswitch1 not enough."},{"errorCode":"InvalidVSwitchId.SecondVswitchIpNotEnough","errorMessage":"The ip of vswitch2 not enough."},{"errorCode":"InvalidVSwitchId.ZoneIdShouldDifferent","errorMessage":"Two vSwitches should belong to different Availability Zones."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The specified region is not found during access authentication."}]},"staticInfo":{"returnType":"asynchronous","callback":"Vpc::2016-04-28::DescribeVpnGateway","callbackInterval":6000,"maxCallbackTimes":100},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"VpnGatewayId\\\": \\\"vpn-uf68lxhgr7ftbqr3p****\\\",\\n  \\\"RequestId\\\": \\\"EB2C156A-41F8-49CC-A756-D55AFC8BFD69\\\",\\n  \\\"Name\\\": \\\"MYVPN\\\",\\n  \\\"OrderId\\\": 208240895400460\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateVpnGatewayResponse>\\n    <VpnGatewayId>vpn-uf68lxhgr7ftbqr3p****</VpnGatewayId>\\n    <RequestId>EB2C156A-41F8-49CC-A756-D55AFC8BFD69</RequestId>\\n    <Name>MYVPN</Name>\\n    <OrderId>208240895400460</OrderId>\\n</CreateVpnGatewayResponse>\",\"errorExample\":\"\"}]","title":"创建VPN网关","description":"- 在您创建VPN网关前，建议您先了解VPN网关的使用限制。更多信息，请参见[VPN网关使用限制](~~65290~~)。\n- 部分地域的VPN网关实例默认仅支持创建双隧道模式IPsec-VPN连接，您在这些地域调用`CreateVpnGateway`接口创建VPN网关实例时，除了需要输入必填参数外，还需要输入**VSwitchId**和**DisasterRecoveryVSwitchId**参数的值。关于支持双隧道模式IPsec-VPN连接的地域和可用区信息，请参见[IPsec-VPN连接升级为双隧道模式](~~2358946~~)。\n- **CreateVpnGateway**接口属于异步接口，即系统先返回一个实例ID，但该VPN网关尚未创建成功，系统后台的创建任务仍在进行。您可以调用 [DescribeVpnGateway](~~73720~~)查询VPN网关的创建状态：\n        \n    - 当VPN网关处于**provisioning**状态时，表示VPN网关正在创建中。\n    - 当VPN网关处于**active**状态时，表示VPN网关创建成功。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}