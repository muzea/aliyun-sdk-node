{"path":"/pop/v5/k8s/acs/k8s_ingress","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"阿里云地域ID。","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClusterId","in":"query","schema":{"description":"集群ID。","type":"string","required":false,"docRequired":false,"example":"5b2b4ab4-efbc-4a81-9c45-xxxxxxxxxxxxx"}},{"name":"Namespace","in":"query","schema":{"description":"K8s集群命名空间。","type":"string","required":false,"example":"default"}},{"name":"Condition","in":"query","schema":{"description":"过滤条件，JSON类型，格式为{\"field\":\"Name\", \"pattern\":\"my-\"}，其中：\n\n- field：需要匹配的字段，支持Name和ClusterName。\n\n- pattern：匹配内容。\n\n以{\"field\":\"Name\", \"pattern\":\"my-\"}这条过滤条件为例，该条过滤规则会匹配名称为“my-”开头的路由规则。\n","type":"string","required":false,"example":"{\"field\":\"Name\", \"pattern\":\"my-\"}"}}],"responses":{"200":{"schema":{"description":"接口响应。","type":"object","properties":{"Code":{"description":"接口状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"success"},"RequestId":{"description":"请求ID。","type":"string","example":"5C1C9DE7-88FF-4B56-A47B-3DBBCEB******"},"Data":{"description":"接口响应数据。","type":"array","items":{"description":"接口响应数据对象。","type":"object","properties":{"ClusterName":{"description":"集群名称。","type":"string","example":"my-dev-cluster"},"ClusterId":{"description":"集群ID。","type":"string","example":"5b2b4ab4-efbc-4a81-9c45-a5942881****"},"RegionId":{"description":"阿里云地域ID。","type":"string","example":"cn-hangzhou"},"IngressConfs":{"description":"应用路由列表。","type":"array","items":{"description":"应用路由列表对象。","type":"object","properties":{"CreationTime":{"description":"应用路由创建时间。","type":"string","example":"2021-04-27 20:16:52"},"SslRedirect":{"description":"是否启用SSL重定向：\n- true：启用。\n- false：关闭。","type":"boolean","example":"true"},"Endpoint":{"description":"应用路由入口IP地址。","type":"string","example":"47.11x.xx.xx"},"Namespace":{"description":"应用路由所属K8s命名空间。","type":"string","example":"default"},"Name":{"description":"应用路由名称。","type":"string","example":"my-ingress"},"DashboardUrl":{"description":"应用路由监控URL。","type":"string","example":"http://grafana.console.aliyun.com/d/10xxxx/ingress"},"Rules":{"description":"应用路由规则列表。","type":"array","items":{"description":"应用路由规则对象。","type":"object","properties":{"SecretName":{"description":"保存TLS证书的Secret名称。","type":"string","example":"my-secret"},"Host":{"description":"应用路由域名。","type":"string","example":"example.com"},"Paths":{"description":"应用路由匹配路径列表。","type":"array","items":{"description":"应用路由匹配路径对象。","type":"object","properties":{"Status":{"description":"应用路由状态，支持以下状态：\n\n- **Normal**：状态正常。\n\n- **ServiceNotFound**：后端Service不存在。\n\n- **InvalidServicePort**：无效服务端口。\n\n- **NotManagedService**：非EDAS管控Service。\n\n- **Unknown**：未知错误。","type":"string","example":"Normal"},"Path":{"description":"匹配路径。","type":"string","example":"/foo/bar"},"AppName":{"description":"EDAS应用名称。","type":"string","example":"my-app"},"AppId":{"description":"EDAS应用ID。","type":"string","example":"43d30ba5-c568-460c-8080-d447ed1a****"},"Backend":{"description":"后端服务配置。","type":"object","properties":{"ServiceName":{"description":"后端服务名称。","type":"string","example":"http-service"},"ServicePort":{"description":"后端服务端口。","type":"string","example":"8080"}}},"CollectRate":{"description":"基于EDAS为网关注入TraceId支持调用链路查询能力，设置匹配该条规则流量的采样率。","type":"integer","format":"int32","example":"100"},"PathType":{"description":"路径匹配类型：\n- ImplementationSpecific：默认。\n- Exact：完整匹配。\n- Prefix：前缀匹配。","type":"string","example":"ImplementationSpecific"}}}},"EnableTls":{"description":"是否启用TLS：\n- true：启用。\n- false：不启用。","type":"boolean","example":"false"}}}},"AlbId":{"description":"应用型负载均衡ALB实例ID。","type":"string","example":"alb-5sde0tq62r********"},"IngressType":{"description":"应用路由类型：\n- **NginxIngress**：使用nginx应用路由控制器。\n- **AlbIngress**：使用ALB应用路由控制器。\n\n默认使用NginxIngress。","type":"string","example":"NginxIngress"},"OfficalBasicUrl":{"description":"社区版本基础监控地址。","type":"string","example":"https://g.console.aliyun.com/d/xxxxxx/nginx-ingress-dashboard-official"},"OfficalRequestUrl":{"description":"社区版本请求性能监控地址。","type":"string","example":"https://g.console.aliyun.com/d/xxxxxx/request-handling-performance-official"},"MseGatewayId":{"description":"MSE网关实例ID。","type":"string","example":"gw-xxxxxxxx"},"MseGatewayName":{"description":"MSE网关实例名称。","type":"string","example":"gw-test-name"},"Annotations":{"description":"注解。","type":"string","example":"{\"test-annotation\":\"test-annotation-value\"}"},"Labels":{"description":"标签。","type":"string","example":"{\"test-label\": \"test-labels\"}"}}}}}}}}}}},"errorCodes":{"500":[{"errorCode":"Edas.errorcode.PermissionDenied.message","errorMessage":"You are not authorized to perform the operation."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"5C1C9DE7-88FF-4B56-A47B-3DBBCEB******\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"ClusterName\\\": \\\"my-dev-cluster\\\",\\n      \\\"ClusterId\\\": \\\"5b2b4ab4-efbc-4a81-9c45-a5942881****\\\",\\n      \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"IngressConfs\\\": [\\n        {\\n          \\\"CreationTime\\\": \\\"2021-04-27 20:16:52\\\",\\n          \\\"SslRedirect\\\": true,\\n          \\\"Endpoint\\\": \\\"47.11x.xx.xx\\\",\\n          \\\"Namespace\\\": \\\"default\\\",\\n          \\\"Name\\\": \\\"my-ingress\\\",\\n          \\\"DashboardUrl\\\": \\\"http://grafana.console.aliyun.com/d/10xxxx/ingress\\\",\\n          \\\"Rules\\\": [\\n            {\\n              \\\"SecretName\\\": \\\"my-secret\\\",\\n              \\\"Host\\\": \\\"example.com\\\",\\n              \\\"Paths\\\": [\\n                {\\n                  \\\"Status\\\": \\\"Normal\\\",\\n                  \\\"Path\\\": \\\"/foo/bar\\\",\\n                  \\\"AppName\\\": \\\"my-app\\\",\\n                  \\\"AppId\\\": \\\"43d30ba5-c568-460c-8080-d447ed1a****\\\",\\n                  \\\"Backend\\\": {\\n                    \\\"ServiceName\\\": \\\"http-service\\\",\\n                    \\\"ServicePort\\\": \\\"8080\\\"\\n                  },\\n                  \\\"CollectRate\\\": 100,\\n                  \\\"PathType\\\": \\\"ImplementationSpecific\\\"\\n                }\\n              ],\\n              \\\"EnableTls\\\": false\\n            }\\n          ],\\n          \\\"AlbId\\\": \\\"alb-5sde0tq62r********\\\",\\n          \\\"IngressType\\\": \\\"NginxIngress\\\",\\n          \\\"OfficalBasicUrl\\\": \\\"https://g.console.aliyun.com/d/xxxxxx/nginx-ingress-dashboard-official\\\",\\n          \\\"OfficalRequestUrl\\\": \\\"https://g.console.aliyun.com/d/xxxxxx/request-handling-performance-official\\\",\\n          \\\"MseGatewayId\\\": \\\"gw-xxxxxxxx\\\",\\n          \\\"MseGatewayName\\\": \\\"gw-test-name\\\",\\n          \\\"Annotations\\\": \\\"{\\\\\\\"test-annotation\\\\\\\":\\\\\\\"test-annotation-value\\\\\\\"}\\\",\\n          \\\"Labels\\\": \\\"{\\\\\\\"test-label\\\\\\\": \\\\\\\"test-labels\\\\\\\"}\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RequestId>5C1C9DE7-88FF-4B56-A47B-3DBBCEB23256</RequestId>\\n<Message>success</Message>\\n<Data>\\n    <ClusterId>5b2b4ab4-efbc-4a81-9c45-a5942881****</ClusterId>\\n    <ClusterName>my-dev-cluster</ClusterName>\\n    <RegionId>cn-hangzhou</RegionId>\\n    <IngressConfs>\\n        <SslRedirect/>\\n        <Endpoint>47.11x.xx.xx</Endpoint>\\n        <CreationTime>2021-04-27 20:16:52</CreationTime>\\n        <Namespace>default</Namespace>\\n        <DashboardUrl>http://grafana.console.aliyun.com/d/10xxxx/ingress</DashboardUrl>\\n        <Name>my-ingress</Name>\\n        <Rules>\\n            <SecretName>my-secret</SecretName>\\n            <Host>abc.com</Host>\\n            <Paths>\\n                <Path>/foo/bar</Path>\\n                <Status>Normal</Status>\\n                <AppId>43d30ba5-c568-460c-8080-d447ed1a****</AppId>\\n                <AppName>my-app</AppName>\\n                <Backend>\\n                    <ServicePort>8080</ServicePort>\\n                    <ServiceName>http-service</ServiceName>\\n                </Backend>\\n            </Paths>\\n        </Rules>\\n    </IngressConfs>\\n</Data>\\n<Code>200</Code>\",\"errorExample\":\"\"}]","title":"获取应用路由列表","summary":"获取应用路由列表。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}