{"path":"/pop/v5/ecss/install_agent","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"ClusterId","in":"query","schema":{"description":"集群 ID","type":"string","required":true,"docRequired":true,"example":"b3e3f77b-462e-****-****-bec8727a4dc8"}},{"name":"InstanceIds","in":"query","schema":{"description":"实例 ID，如instanceId1,instanceId2","type":"string","required":true,"docRequired":true,"example":"2ze7s2v0b789k60pk1af"}},{"name":"DoAsync","in":"query","schema":{"description":"已不再使用","type":"boolean","required":false,"example":"true","default":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"Code 码","type":"integer","format":"int32","example":"200"},"Message":{"description":"信息","type":"string","example":"success"},"RequestId":{"description":"唯一请求ID","type":"string","example":"b197-40ab-9155-7ca7"},"ExecutionResultList":{"type":"object","properties":{"ExecutionResult":{"description":"执行结果","type":"array","items":{"type":"object","properties":{"Status":{"description":"命令执行状态信息","type":"string","example":"OK"},"FinishedTime":{"description":"安装结束时间","type":"string","example":"20**-11-10T07:02:17Z"},"InstanceId":{"description":"实例 ID","type":"string","example":"i-2ze7s2v0b789k*******"},"InvokeRecordStatus":{"description":"安装状态","type":"string","example":"Finished"},"Success":{"description":"是否安装成功","type":"boolean","example":"true"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"b197-40ab-9155-7ca7\\\",\\n  \\\"ExecutionResultList\\\": {\\n    \\\"ExecutionResult\\\": [\\n      {\\n        \\\"Status\\\": \\\"OK\\\",\\n        \\\"FinishedTime\\\": \\\"20**-11-10T07:02:17Z\\\",\\n        \\\"InstanceId\\\": \\\"i-2ze7s2v0b789k*******\\\",\\n        \\\"InvokeRecordStatus\\\": \\\"Finished\\\",\\n        \\\"Success\\\": true\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ExecutionResultList>\\n    <ExecutionResult>\\n        <InvokeRecordStatus>Finished</InvokeRecordStatus>\\n        <Status>OK</Status>\\n        <FinishedTime>2019-11-10T07:02:17Z</FinishedTime>\\n        <InstanceId>i-2ze7s2v0b789k60pk1af</InstanceId>\\n        <Success>true</Success>\\n    </ExecutionResult>\\n</ExecutionResultList>\\n<Message>success</Message>\\n<Code>200</Code>\",\"errorExample\":\"\"}]","title":"安装 Agent","summary":"使用ECS自带的云助手安装EDAS Agent（将ECS导入EDAS）。","description":"使用该接口将ECS导入EDAS时，不会重装系统，推荐使用该接口将ECS导入EDAS。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 注意事项\n该接口在实际执行中，会遇到在 API 接口 Client 程序端在连接 API 网关超时（默认 10 秒）的情况，所以，用户在使用该接口时，须手工设置调用该接口时读取 POP API 网关返回的数据的超时时间（推荐设置为 30 秒，因 POP API 网关到接口 Server 端的服务处理时间最长即为 30 秒）：\n- 使用 Java SDK 时，Client 端代码中使用该接口时设置读取超时时间方法：\n```java\nInstallAgentRequest request = new InstallAgentRequest();\nrequest.setSysReadTimeout(30000);  //单位毫秒，客户端 API 接口程序等待 POP API网关返回数据的超时时间.\nrequest.setClusterId(clusterId);\n........\n```\n- 使用 Python SDK 时，Client 端代码中使用该接口时设置读取超时时间方法：\n```python\nrequest = InstallAgentRequest()\nrequest.set_read_timeout(30000)\nrequest.set_ClusterId(clusterId)\n```"}