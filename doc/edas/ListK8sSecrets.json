{"summary":"调用ListK8sSecrets接口获取K8s保密配置列表。","path":"/pop/v5/k8s/acs/k8s_secret","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ClusterId","in":"query","schema":{"description":"集群ID。","type":"string","required":false,"docRequired":false,"example":"7a953f9a-2946-4c7a-9d82-9939db******"}},{"name":"Namespace","in":"query","schema":{"description":"K8s集群命名空间。","type":"string","required":false,"docRequired":false,"example":"default"}},{"name":"RegionId","in":"query","schema":{"description":"阿里云地域ID。","type":"string","required":false,"docRequired":false,"example":"cn-hangzhou"}},{"name":"PageNo","in":"query","schema":{"description":"当前页码，从0开始计数。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询，每页显示的条数。值为0时不进行分页，返回所有内容。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"Condition","in":"query","schema":{"description":"过滤条件，JSON对象字符串，示例：{\"field\":\"Name\", \"pattern\":\"configmap-\"}。","type":"string","required":false,"example":"{\\\"field\\\":\\\"Name\\\",\\\"pattern\\\":\\\"product\\\"}"}},{"name":"ShowRelatedApps","in":"query","schema":{"description":"返回使用该保密配置的应用列表。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"接口状态或POP错误码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"附加信息。","type":"string","example":"success"},"RequestId":{"description":"请求ID。","type":"string","example":"b197-40ab-9155-****"},"Result":{"description":"K8s保密配置查询结果。","type":"object","properties":{"Total":{"description":"总记录数。","type":"integer","format":"int32","example":"6"},"Secrets":{"description":"保密配置列表。","type":"array","items":{"type":"object","properties":{"Type":{"description":"保密配置类型，支持以下两种类型：\n\n- Opaque：用户自定义数据类型。\n\n- kubernetes.io/tls：TLS证书类型。","type":"string","example":"Opaque"},"CreationTime":{"description":"创建时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n","type":"string","example":"2022-05-26T02:57:02Z"},"ClusterName":{"description":"集群名称。","type":"string","example":"test-cluster"},"Namespace":{"description":"K8s集群命名空间。","type":"string","example":"default"},"Base64Encoded":{"description":"数据是否进过base64编码：\n- true：已编码。\n- false：未编码。","type":"boolean","example":"false"},"CertRegionId":{"description":"证书所属的区域。","type":"string","example":"cn-hangzhou"},"CertId":{"description":"阿里云证书服务的证书ID。","type":"string","example":"123456"},"Name":{"description":"保密配置名称，必须以字母开头，支持数字、字母和短划线（-），最多支持63个字符。\n","type":"string","example":"my-secret"},"ClusterId":{"description":"EDAS集群ID。","type":"string","example":"4472a6d3-f01d-4087-85a7-3dc52********"},"RelatedIngressRules":{"description":"关联的应用路由规则列表。","type":"array","items":{"type":"object","properties":{"Name":{"description":"应用路由规则名称。","type":"string","example":"testrulename"},"Namespace":{"description":"K8s命名空间。","type":"string","example":"default"},"RelatedApps":{"description":"应用路由关联应用列表。","type":"array","items":{"type":"object","properties":{"AppName":{"description":"EDAS应用名称。","type":"string","example":"app-test"},"AppId":{"description":"应用ID。","type":"string","example":"6dc74432-5a35-4e68-8aaa-3700********"}}}}}}},"Data":{"description":"保密配置数据。","type":"array","items":{"type":"object","properties":{"Key":{"description":"用户自定义的secret键。","type":"string","example":"name"},"Value":{"description":"用户自定义的secret值。","type":"string","example":"william"}}}},"RelatedApps":{"description":"使用了该保密配置的应用列表。","type":"array","items":{"type":"object","properties":{"AppName":{"description":"应用名称。","type":"string","example":"my-app"},"AppId":{"description":"应用ID。","type":"string","example":"b08eeb18-8946-410c-a1ea-dbbc********"}}}},"CertDetail":{"description":"SSL证书详情。","type":"object","properties":{"EndTime":{"description":"证书结束时间。","type":"string","example":"2022-02-22T02:32:41Z"},"Status":{"description":"证书状态：\n- normal：有效证书。\n- invalid：无效证书。\n- expired：证书已过期。\n- not\\_yet\\_valid：尚未到生效时间。\n- about\\_to\\_expire：证书即将过期。\n","type":"string","example":"normal"},"StartTime":{"description":"证书生效时间。","type":"string","example":"2022-01-02T22:40:00Z"},"Issuer":{"description":"证书颁发机构。","type":"string","example":"CN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE"},"DomainNames":{"description":"SSL证书关联的域名列表。","type":"array","items":{"description":"域名。","type":"string","example":"example.com"}}}}}}}}}}}}},"errorCodes":{"500":[{"errorCode":"Edas.errorcode.PermissionDenied.message","errorMessage":"You are not authorized to perform the operation."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"b197-40ab-9155-****\\\",\\n  \\\"Result\\\": {\\n    \\\"Total\\\": 6,\\n    \\\"Secrets\\\": [\\n      {\\n        \\\"Type\\\": \\\"Opaque\\\",\\n        \\\"CreationTime\\\": \\\"2022-05-26T02:57:02Z\\\",\\n        \\\"ClusterName\\\": \\\"test-cluster\\\",\\n        \\\"Namespace\\\": \\\"default\\\",\\n        \\\"Base64Encoded\\\": false,\\n        \\\"CertRegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"CertId\\\": \\\"123456\\\",\\n        \\\"Name\\\": \\\"my-secret\\\",\\n        \\\"ClusterId\\\": \\\"4472a6d3-f01d-4087-85a7-3dc52********\\\",\\n        \\\"RelatedIngressRules\\\": [\\n          {\\n            \\\"Name\\\": \\\"testrulename\\\",\\n            \\\"Namespace\\\": \\\"default\\\",\\n            \\\"RelatedApps\\\": [\\n              {\\n                \\\"AppName\\\": \\\"app-test\\\",\\n                \\\"AppId\\\": \\\"6dc74432-5a35-4e68-8aaa-3700********\\\"\\n              }\\n            ]\\n          }\\n        ],\\n        \\\"Data\\\": [\\n          {\\n            \\\"Key\\\": \\\"name\\\",\\n            \\\"Value\\\": \\\"william\\\"\\n          }\\n        ],\\n        \\\"RelatedApps\\\": [\\n          {\\n            \\\"AppName\\\": \\\"my-app\\\",\\n            \\\"AppId\\\": \\\"b08eeb18-8946-410c-a1ea-dbbc********\\\"\\n          }\\n        ],\\n        \\\"CertDetail\\\": {\\n          \\\"EndTime\\\": \\\"2022-02-22T02:32:41Z\\\",\\n          \\\"Status\\\": \\\"normal\\\",\\n          \\\"StartTime\\\": \\\"2022-01-02T22:40:00Z\\\",\\n          \\\"Issuer\\\": \\\"CN=GlobalSign Root CA, OU=Root CA, O=GlobalSign nv-sa, C=BE\\\",\\n          \\\"DomainNames\\\": [\\n            \\\"example.com\\\"\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取K8s保密配置列表"}