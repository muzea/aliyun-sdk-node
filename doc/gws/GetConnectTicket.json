{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例 id。","type":"string","required":true,"example":"i-xxx"}},{"name":"AppName","in":"query","schema":{"description":"> `WorkMode` 为 `Desktop`（桌面模式）时，不要指定此参数。\n> `WorkMode` 为 `Application`（应用模式）时，必需指定此参数\n\n应用名称。","type":"string","required":false,"example":"app-xxx"}},{"name":"UserName","in":"query","schema":{"description":"> DescribeInstances 返回字段的 DomainName 非空，且调用者身份为该实例的已分配用户时，需要此参数\n\n域用户名。","type":"string","required":false,"example":"user01"}},{"name":"Password","in":"query","schema":{"description":"> DescribeInstances 返回字段的 DomainName 非空，且调用者身份为该实例的已分配用户时，需要此参数\n\n域用户名的密码。","type":"string","required":false,"example":"***"}},{"name":"TaskId","in":"query","schema":{"description":"> 此值只在 `AsyncMode` 为 `true` 时有效\n\n非空时用来获得之前调用的执行状态。\n","type":"string","required":false,"example":"t-xxx"}},{"name":"AsyncMode","in":"query","schema":{"description":"异步模式调用。\n* false（默认）：命令执行完成后，API才会返回。\n* true：API **立即**返回。\n    * 当 `TaskId` 为空：查询命令在后台异步执行。调用方需使用**返回值**中的TaskId，继续调用此API来获得查询命令的结果。\n    * 当 `TaskId` 不为空：获得查询命令的结果。\n","type":"boolean","required":false,"example":"true","default":"false"}},{"name":"UsePrivateIp","in":"query","schema":{"description":"使用内网IP连接云桌面：\n* false（默认）：获取连接 token 时，优先级从高到低、按以下顺序选择连接云桌面的方式。\n    * 实例的弹性IP\n    * 实例的公网IP\n    * 集群关联NAT时所使用的弹性公网IP\n    * 实例的内网IP\n* true：获取连接 token 时，以实例的内网IP来连接云桌面。\n","type":"boolean","required":false,"example":"true","default":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TaskFinished":{"description":"当前调用的运行状态\n* false：还未完成。\n* true：已完成。\n","type":"boolean","example":"true"},"RequestId":{"description":"请求 id","type":"string","example":"XXX-XXX"},"Ticket":{"description":"用来连接用户实例 Ticket，使用时需要先将其内容做 base64 的 decode，保存为 xxx.ica 文件，然后打开这个文件。python 代码举例：\n\n```\nimport base64\nresponse = {\n    \"Ticket\": \"XXXX\",\n    \"RequestId\": \"XXX-XXX\",\n}\nf = open ('xxx.ica', 'w')\nout = base64.b64decode(response['Ticket'])\nf.write(out)\nf.close()\n```\n","type":"string","example":"XXXXXXXXX"},"TaskId":{"description":"当前调用对应的任务 id。调用方可使用此值，继续调用此 API 来获取运行的结果。","type":"string","example":"t-xxx"}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TaskFinished\\\": true,\\n  \\\"RequestId\\\": \\\"XXX-XXX\\\",\\n  \\\"Ticket\\\": \\\"XXXXXXXXX\\\",\\n  \\\"TaskId\\\": \\\"t-xxx\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<Ticket>XXXXXXXXX</Ticket>\\n<TaskId>t-xxx</TaskId>\\n<RequestId>XXX-XXX</RequestId>\\n<TaskFinished>true</TaskFinished>\",\"errorExample\":\"\"}]","title":"获取连接实例所需要的 token","summary":"获取连接实例所需要的token。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}