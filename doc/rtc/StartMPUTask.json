{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"parameters":[{"name":"SubSpecUsers","in":"query","style":"repeatList","schema":{"description":"指定该任务订阅的用户列表。","type":"array","items":{"description":"指定该任务订阅的用户列表，默认订阅频道内全部用户，数组下标取值范围：**1**～**16**。\n>数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"userID"},"required":false,"example":"userID","maxItems":64}},{"name":"SubSpecAudioUsers","in":"query","style":"repeatList","schema":{"description":"指定订阅房间里哪些用户音频流。","type":"array","items":{"description":"指定订阅房间里哪些用户音频流（输入allStream表示混所有人音频）。数组下标取值范围：**1**～**64**。\n>数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"audioUserID"},"required":false,"example":"audioUserID","maxItems":64}},{"name":"SubSpecShareScreenUsers","in":"query","style":"repeatList","schema":{"description":"指定订阅房间里哪些用户共享视频流。","type":"array","items":{"description":"指定订阅房间里哪些用户共享视频流（输入allStream表示混所有人共享视频）。数组下标取值范围：**1**～**64**。\n>数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"videoUserID"},"required":false,"maxItems":64}},{"name":"SubSpecCameraUsers","in":"query","style":"repeatList","schema":{"description":"指定订阅房间里哪些用户摄像头视频流。","type":"array","items":{"description":"指定订阅房间里哪些用户摄像头视频流（输入allStream表示混所有人摄像头视频）。数组下标取值范围：**1**～**64**。\n>数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"cameraUserID"},"required":false,"maxItems":64}},{"name":"UnsubSpecAudioUsers","in":"query","style":"repeatList","schema":{"description":"指定不订阅房间里哪些用户音频流。","type":"array","items":{"description":"指定不订阅房间里哪些用户音频流（输入allStream表示不混所有人音频）。数组下标取值范围：**1**～**64**。\n\n> 数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"audioUserID2"},"required":false,"maxItems":64}},{"name":"UnsubSpecShareScreenUsers","in":"query","style":"repeatList","schema":{"description":"指定不订阅房间里哪些用户共享视频流。","type":"array","items":{"description":"指定不订阅房间里哪些用户共享视频流（输入allStream表示不混所有人共享视频）。数组下标取值范围：**1**～**64**。\n\n> 数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"videoUserID2"},"required":false,"maxItems":64}},{"name":"UnsubSpecCameraUsers","in":"query","style":"repeatList","schema":{"description":"指定不订阅房间里哪些用户摄像头视频流。","type":"array","items":{"description":"指定不订阅房间里哪些用户摄像头视频流（输入allStream表示不混所有人摄像头视频）。数组下标取值范围：**1**～**64**。\n>数组下标需要从1开始并从小到大，不能中断，要连续。","type":"string","required":false,"example":"cameraUserID2"},"required":false,"maxItems":64}},{"name":"LayoutIds","in":"query","style":"repeatList","schema":{"description":"布局ID数据。","type":"array","items":{"description":"布局ID数据，您可在一次任务中指定多个布局，系统会根据当时频道中的人数进行切换。数组下标取值范围：**1**～**16**，相当于一个旁路任务中最多可以同时设置16种布局。详情请参见[布局](~~109587~~)。\n> - 数组下标需要从1开始并从小到大，不能中断，要连续。\n- 设置的布局窗格数不能相同。例：官网上的布局ID 2和3 的不能同时设置，他们两个的窗格数相同都是2。","type":"integer","format":"int64","required":false,"example":"1"},"required":false,"example":"1","maxItems":64}},{"name":"UserPanes","in":"query","style":"repeatList","schema":{"description":"布局参数列表。","type":"array","items":{"description":"布局参数，窗格图片暂不支持透明度配置。","type":"object","properties":{"Images":{"description":"当前布局的图片框位列表。","type":"array","items":{"description":"当前布局的图片框位。","type":"object","properties":{"Width":{"description":"窗格宽，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Height":{"description":"窗格高，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Y":{"description":"坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"Url":{"description":"图片的HTTP或HTTPS地址。","type":"string","required":false,"example":"https://www.example.com/image.jpg"},"Display":{"description":"图片显示，取值：\n\n- **0（None）**：不显示。\n- **1（Always）**：总是显示。\n- **2（Backup）**：当前用户无视频流时显示。","type":"integer","format":"int32","required":false,"example":"1"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"}},"required":false},"required":false,"maxItems":10},"SegmentType":{"description":"人像分割类型。取值：\n\n- **0**：无人像分割（默认值）。\n\n- **1**：人像分割，仅在开启增强参数（人像分割功能）后有效。","type":"integer","format":"int32","required":false,"example":"0"},"UserId":{"description":"对应布局框格的用户ID。取值：**1**~**16**。","type":"string","required":false,"example":"TestId"},"Texts":{"description":"当前布局的文字框位列表。","type":"array","items":{"description":"当前布局的文字框位，最多支持16个文本。","type":"object","properties":{"FontType":{"description":"字体类型，取值：\n\n- **0**：NOTO_SERIF_CJKSC_REGULAR（默认值）\n- **1**：ALIBABA_PUHUITI_REGULAR\n- **2**：ALIBABA_PUHUITI_BOLD\n- **3**：ALIBABA_PUHUITI_Heavy\n- **4**：ALIBABA_PUHUITI_LIGHT\n- **5**：ALIBABA_PUHUITI_MEDIUM","type":"integer","format":"int32","required":false,"example":"0"},"FontColor":{"description":"文字颜色（RGB）。\n\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int32","required":false,"example":"0"},"Y":{"description":"坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Text":{"description":"文本内容。","type":"string","required":false,"example":"text"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"FontSize":{"description":"字体大小，取值范围：**0**~**72**。","type":"integer","format":"int32","required":false,"example":"1"},"BorderWidth":{"description":"文字描边宽度（单位：像素），默认为0。","type":"integer","format":"int32","required":false,"minimum":"0","example":"1"},"BorderColor":{"description":"文字描边颜色。\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int64","required":false,"minimum":"0","example":"0"},"Box":{"description":"是否出现文字框。取值：\n\n- false（默认值）：不出现。\n- true：出现。","type":"boolean","required":false,"example":"false"},"BoxColor":{"description":"文字框颜色。\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int64","required":false,"minimum":"0","example":"0"},"BoxBorderWidth":{"description":"文字框宽度（单位：像素），默认为0。","type":"integer","format":"int32","required":false,"minimum":"0","example":"0"},"Alpha":{"description":"文字框和文字透明度。0.0表示透明，1.0表示完全不透明。","type":"number","format":"float","required":false,"minimum":"0","example":"0"}},"required":false},"required":false,"maxItems":16},"SourceType":{"description":"对应布局的用户视频输入。取值：\n\n- **camera**：视频流（默认值）。\n- **shareScreen**：共享屏幕流。","type":"string","required":false,"example":"camera"},"PaneId":{"description":"窗格ID，取值：**0**~**15**。\n>当指定的PaneId用户找不到的话，会默认显示其他的流，流的确定是根据用户加入频道的顺序。\n\n","type":"integer","format":"int32","required":false,"example":"2"}},"required":false},"required":false,"maxItems":16}},{"name":"Backgrounds","in":"query","style":"repeatList","schema":{"description":"画布背景图片框位列表。","type":"array","items":{"description":"画布背景图片框位，背景图片暂不支持透明度配置。","type":"object","properties":{"Width":{"description":"窗格宽，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Height":{"description":"窗格高，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Y":{"description":"坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"Url":{"description":"图片的HTTP或HTTPS地址。","type":"string","required":false,"example":"https://www.example.com/image.jpg"},"Display":{"description":"图片显示，取值：\n\n- **0（None）**：不显示。\n- **1（Always）**：总是显示。","type":"integer","format":"int32","required":false,"example":"1"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"}},"required":false},"required":false,"maxItems":10}},{"name":"Watermarks","in":"query","style":"repeatList","schema":{"description":"水印图片框位列表。","type":"array","items":{"description":"水印图片框位。","type":"object","properties":{"Alpha":{"description":"透明度。0.0表示透明，1.0表示完全不透明。\n","type":"number","format":"float","required":false,"example":"0"},"Width":{"description":"窗格宽，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Height":{"description":"窗格高，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Y":{"description":"坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"Url":{"description":"图片的HTTP或HTTPS地址。","type":"string","required":false,"example":"https://www.example.com/image.jpg"},"Display":{"description":"图片显示，取值：\n\n- **0（None）**：不显示。\n- **1（Always）**：总是显示。","type":"integer","format":"int32","required":false,"example":"0"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"}},"required":false},"required":false,"maxItems":10}},{"name":"ClockWidgets","in":"query","style":"repeatList","schema":{"description":"时钟挂件。","type":"array","items":{"description":"时钟挂件，当前仅支持单个时钟挂件。","type":"object","properties":{"FontType":{"description":"字体类型，取值：\n\n- **0**：NOTO_SERIF_CJKSC_REGULAR（默认值）\n- **1**：ALIBABA_PUHUITI_REGULAR\n- **2**：ALIBABA_PUHUITI_BOLD\n- **3**：ALIBABA_PUHUITI_Heavy\n- **4**：ALIBABA_PUHUITI_LIGHT\n- **5**：ALIBABA_PUHUITI_MEDIUM","type":"integer","format":"int32","required":false,"example":"0"},"FontColor":{"description":"文字颜色（RGB）。\n\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int32","required":false,"example":"0"},"Y":{"description":"坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"FontSize":{"description":"字体大小，取值范围：**0**~**72**。","type":"integer","format":"int32","required":false,"example":"1"},"BorderWidth":{"description":"文字描边宽度（单位：像素），默认为0。","type":"integer","format":"int32","required":false,"minimum":"0","example":"1"},"BorderColor":{"description":"文字描边颜色。\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int64","required":false,"minimum":"0","example":"0"},"Box":{"description":"是否出现文字框。取值：\n\n- false（默认值）：不出现。\n- true：出现。","type":"boolean","required":false,"example":"false"},"BoxColor":{"description":"文字框颜色。\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int64","required":false,"minimum":"0","example":"0"},"BoxBorderWidth":{"description":"文字框宽度（单位：像素），默认为0。","type":"integer","format":"int32","required":false,"minimum":"0","example":"0"},"Alpha":{"description":"文字框和文字透明度。0.0表示透明，1.0表示完全不透明。","type":"number","format":"float","required":false,"minimum":"0","example":"0"}},"required":false},"required":false,"maxItems":1}},{"name":"AppId","in":"query","schema":{"description":"应用ID，仅支持传单个ID。\n\n您可以在控制台创建和查询。","type":"string","required":true,"docRequired":true,"example":"yourAppId"}},{"name":"ChannelId","in":"query","schema":{"description":"频道ID，仅支持传单个ID。","type":"string","required":true,"docRequired":true,"example":"yourChannelId"}},{"name":"TaskId","in":"query","schema":{"description":"任务ID，仅支持传单个ID。由大小写字母、数字、下划线、短划线（-）组成，最大55字节。\n\n> 此ID为旁路转推的标识，需保证唯一。\n\n","type":"string","required":true,"docRequired":true,"example":"yourTaskId"}},{"name":"MixMode","in":"query","schema":{"description":"混流模式。取值：\n\n- **0**：单路转推，不混流转码，仅转推原始单路流，无需配置混流转码参数。\n- **1**：混流转码（默认值），支持混流转码输出。\n\n> - 单路转推模式下有效参数：**StreamType**、**SourceType**、**SubSpecUsers**。\n- 混流转码模式下有效参数：**MediaEncode**、**LayoutIds**、**BackgroundColor**、**SubSpecUsers**、**CropMode**、**UserPanes**、**Backgrounds**、**Watermarks**。\n","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"CropMode","in":"query","schema":{"description":"视频的裁剪方式。取值：\n\n- **1**：保持比例裁剪。\n\n- **2**：保持比例留边（默认值）。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"MediaEncode","in":"query","schema":{"description":"编码选项，请参见下文中的MediaEncode枚举值。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"SourceType","in":"query","schema":{"description":"单路转推模式下用户视频输入流。取值：\n\n- **camera**：摄像头。\n- **shareScreen**：屏幕共享。\n","type":"string","required":false,"example":"camera"}},{"name":"StreamType","in":"query","schema":{"description":"单路转推模式下转推音频流。取值：\n\n- **0**：转推原始流。\n- **1**：仅转推音频流。\n- **2**：仅转推视频流。\n\n默认转推原始流。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"BackgroundColor","in":"query","schema":{"description":"背景色RGB，默认是**0**（黑色）。\n\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：0~255。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"StreamURL","in":"query","schema":{"description":"直播推流地址，仅支持传单个地址。生成规则请参见[推流地址和播放地址](~~199339~~)。\n\n>- 对已开防盗链鉴权的域名，需要在推流地址中包含鉴权串。\n- 禁止同一个StreamURL在不同任务中同时使用。\n- 任务停止10S之内，禁止使用同一个StreamURL。","type":"string","required":false,"docRequired":true,"example":"rtmp://example.com/live/stream"}},{"name":"PayloadType","in":"query","schema":{"description":"载荷类型。取值：\n- **0**：不使用载荷。\n- **1**：使用VideoSEI。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"ReportVad","in":"query","schema":{"description":"语音激励标志。取值：\n- **0**：不传递语音激励信息。\n- **1**：传递语音激励信息。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"RtpExtInfo","in":"query","schema":{"description":"RTP扩展头信息。取值：\n- **0**：不传递。\n- **1**：传递。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"TimeStampRef","in":"query","schema":{"description":"时间戳。","type":"integer","format":"int64","required":false,"example":"15273582735"}},{"name":"VadInterval","in":"query","schema":{"description":"语音激励的回调间隔。","type":"integer","format":"int64","required":false,"example":"86400"}},{"name":"TaskType","in":"query","schema":{"description":"媒体处理类型。取值：\n\n- **0**：旁路转推任务。\n- **1**：MCU混流低延时分发任务。","type":"integer","format":"int32","required":false,"maximum":"1","minimum":"0","example":"0","enum":["0","1"]}},{"name":"EnhancedParam","in":"formData","style":"flat","schema":{"description":"增强参数。","type":"object","properties":{"EnablePortraitSegmentation":{"description":"人像分割功能（内测中），取值：\n\n- **true**：开启。\n- **false**（默认值）：关闭。","type":"boolean","required":false,"example":"false"}},"required":false}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"760bad53276431c499e30dc36f6b26be"}}}}},"errorCodes":{"200":[{"errorCode":"TaskExisted","errorMessage":"the task is existed"}],"400":[{"errorCode":"InvalidParameter.Format","errorMessage":"The mediaEncode is illegal:%s."},{"errorCode":"IllegalBackgroundColor","errorMessage":"strconv background_color"},{"errorCode":"InvalidLayoutID.Malformed","errorMessage":"Failed to parse layout ID."},{"errorCode":"InvalidAppID.AliveTaskExceedLimit","errorMessage":"%s."},{"errorCode":"InvalidLiveURL","errorMessage":"InvalidLiveURL.%s"}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure.%s"},{"errorCode":"InternalError.","errorMessage":"InternalError.%s."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"760bad53276431c499e30dc36f6b26be\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<StartMPUTaskResponse>\\r\\n\\t<RequestId>760bad53276431c499e30dc36f6b26be</RequestId>\\r\\n</StartMPUTaskResponse>\\r\\n\\t\\r\\n\",\"errorExample\":\"\"}]","title":"开始任务","summary":"调用StartMPUTask开始旁路转推任务。","description":"# 使用说明\n本接口用于开始旁路转推任务。当您使用旁路转推服务时，阿里云视频直播服务限制如下所示：\n\n<props=\"china\">- 并发限制任务数请参见[并发限制](https://help.aliyun.com/document_detail/71050.html#section-eaz-anq-a47)。如果有特殊需求，请提前两周[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)。</props>\n<props=\"intl\">- 并发限制任务数请参见[并发限制](https://www.alibabacloud.com/help/rtc-61399/latest/60e652#section-eaz-anq-a47)。如果有特殊需求，请提前两周[提交工单](https://workorder-intl.console.aliyun.com/#/ticket/createIndex)。</props>\n- 如果未开启转码功能，默认每个账号下每个直播加速域名最多并发推送20个原画直播流。如果有特殊需求，请[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)。\n- 如果启用转码功能，默认每个账号下每个直播加速域名最多并发推送10个转码直播流。如果有特殊需求，请[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)。\n\n# QPS限制\n本接口的单用户QPS限制为500次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~341645~~)。","requestParamsDescription":"\n**MediaEncode**枚举值如下所示。\n\n| ID | 宽 | 高 | 码流（kps） | 帧率（fps） \n| ----------- | ----- | ------ | ----------- | --- \n| 0           | 0     | 0      | 64          | 0   \n| 1           | 640   | 360    | 500         | 15  \n| 54         | 360   | 640    | 500         | 30  \n| 53         | 360   | 640    | 500         | 15  \n| 52         | 640   | 360    | 500         | 30  \n| 10          | 960   | 540    | 700         | 24  \n| 20          | 1280  | 720    | 1024        | 25  \n| 22          | 720   | 1280   | 1024        | 30  \n| 23          | 800   | 600    | 1024        | 30  \n| 30          | 1920  | 1080   | 2048        | 30 \n| 31          | 1080  | 1920   | 2048        | 30  \n| 24          | 750   | 780    | 1024        | 30  \n| 25          | 750   | 540    | 700         | 30  \n| 26          | 720   | 1280   | 2048        | 30  \n| 27          | 1280  | 720    | 2048        | 30  \n| 28          | 1280  | 720    | 3096        | 30  \n| 32          | 1024  | 768    | 1024        | 24  \n| 33          | 1280  | 960    | 1024        | 24  \n| 34          | 1024  | 768    | 2048        | 24  \n| 35          | 1280  | 960    | 2048        | 24  \n| 36          | 1280  | 720    | 1024        | 24  \n| 37          | 1280  | 720    | 2048        | 24  \n| 38          | 540   | 960    | 750         | 15  \n| 39          | 540   | 960    | 1500        | 30  \n| 40          | 1280  | 720    | 1200        | 15  \n| 41          | 720   | 1280   | 1200        | 15  \n| 42          | 720   | 1280   | 1500        | 15  \n| 43          | 540   | 960   | 1200        | 15  \n\n> 当用户使用纯音频直播的时候需要注意的问题，然后直接跳转常见问题中的[纯音频直播](https://helpcdn.aliyun.com/document_detail/159390.html?spm=a2c4g.11174283.6.729.445a3c3d4LDYq5)。","responseParamsDescription":" ","extraInfo":" "}