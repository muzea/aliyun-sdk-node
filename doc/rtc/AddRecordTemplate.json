{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"parameters":[{"name":"LayoutIds","in":"query","style":"repeatList","schema":{"description":"布局ID数据列表。","type":"array","items":{"description":"布局ID数据，您可在一次任务中指定多个布局，系统会根据当时频道中的人数进行切换。N表示数组的下标，取值范围1～16，相当于一个旁路任务中最多可以同时设置16种布局。详情请参见[布局说明](~~109587~~)。\n> - N需要从1开始并从小到大，不能中断，要连续。\n- 设置的布局窗格数不能相同。例如：官网上的布局ID 2和3不能同时设置，因为他们两个的窗格数相同都是2。","type":"integer","format":"int64","required":false,"example":"2"},"required":true,"example":"2","maxItems":64}},{"name":"Formats","in":"query","style":"repeatList","schema":{"description":"录制文件格式列表。","type":"array","items":{"description":"录制文件格式。当前文件格式仅支持：**m3u8、mp4、flv**。\n\n> 文件格式仅支持小写。","type":"string","required":false,"example":"mp4"},"required":true,"example":"mp4","maxItems":3}},{"name":"Backgrounds","in":"query","style":"repeatList","schema":{"description":"背景图片列表。","type":"array","items":{"description":"背景图片详情。","type":"object","properties":{"Width":{"description":"背景图片窗格宽，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Height":{"description":"背景图片窗格高，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Y":{"description":"背景图片坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"Url":{"description":"背景图片的HTTP或HTTPS地址。","type":"string","required":false,"example":"https://www.example.com/image.jpg"},"Display":{"description":"背景图片显示。取值：\n\n- **0**（None）：不显示。\n- **1**（Always）：总是显示。","type":"integer","format":"int32","required":false,"example":"0"},"ZOrder":{"description":"背景图片叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"背景图片坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"}},"required":false},"required":false,"maxItems":1}},{"name":"Watermarks","in":"query","style":"repeatList","schema":{"description":"水印列表。","type":"array","items":{"description":"水印详情。","type":"object","properties":{"Alpha":{"description":"水印透明度。0.0表示透明，1.0表示完全不透明。","type":"number","format":"float","required":false,"example":"0"},"Width":{"description":"水印窗格宽，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Height":{"description":"水印窗格高，归一化百分比。","type":"number","format":"float","required":false,"example":"0.2456"},"Y":{"description":"水印坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"Url":{"description":"水印的HTTP或HTTPS地址。","type":"string","required":false,"example":"https://www.example.com/image.jpg"},"Display":{"description":"水印显示。取值：\n\n- **0**（None）：不显示。\n- **1**（Always）：总是显示。","type":"integer","format":"int32","required":false,"example":"0"},"ZOrder":{"description":"水印叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"水印坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"}},"required":false},"required":false,"maxItems":1}},{"name":"ClockWidgets","in":"query","style":"repeatList","schema":{"description":"时钟列表。","type":"array","items":{"description":"时钟详情。","type":"object","properties":{"FontType":{"description":"时钟字体类型，取值：\n\n- **0**（默认值）：NOTO_SERIF_CJKSC_REGULAR\n- **1**：ALIBABA_PUHUITI_REGULAR\n- **2**：ALIBABA_PUHUITI_BOLD\n- **3**：ALIBABA_PUHUITI_Heavy\n- **4**：ALIBABA_PUHUITI_LIGHT\n- **5**：ALIBABA_PUHUITI_MEDIUM","type":"integer","format":"int32","required":false,"example":"0"},"FontColor":{"description":"时钟文字颜色（RGB）。\n\n计算公式为`R + G × 256 + B × 65536`，R（红）、G（绿）、B（蓝）的取值：**0**~**255**。","type":"integer","format":"int32","required":false,"example":"0"},"Y":{"description":"时钟坐标Y，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"ZOrder":{"description":"时钟叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"X":{"description":"时钟坐标X，归一化百分比。","type":"number","format":"float","required":false,"example":"0.7576"},"FontSize":{"description":"时钟字体大小。字体合理范围**(0, 72]**。","type":"integer","format":"int32","required":false,"example":"1"}},"required":false},"required":false,"maxItems":1}},{"name":"AppId","in":"query","schema":{"description":"应用ID。通过控制台创建和查询，仅支持传单个ID。","type":"string","required":true,"docRequired":true,"example":"yourAppId"}},{"name":"Name","in":"query","schema":{"description":"录制配置模板名称。","type":"string","required":true,"docRequired":true,"example":"录制模板"}},{"name":"TaskProfile","in":"query","schema":{"description":"任务计费配置，根据您的不同设置，进行收费。请参见下文中的TaskProfile枚举值。\n\n> - 编码选项MediaEncode的分辨率需要小于等于TaskProfile的分辨率。\n- 布局最大窗格数需要小于等于TaskProfile的输入路数。","type":"string","required":true,"docRequired":true,"example":"4IN_1080P"}},{"name":"MediaEncode","in":"query","schema":{"description":"编码选项，请参见下文中的MediaEncode枚举值。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"20"}},{"name":"BackgroundColor","in":"query","schema":{"description":"背景色RGB。默认是0（黑色）。计算公式为R+G×256+B×65536，R（红）、G（绿）、B（蓝）的取值：**0~255**。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"OssBucket","in":"query","schema":{"description":"录制文件存储的OSS bucket。\n\n> 目前仅支持上海区域OSS bucket。","type":"string","required":true,"docRequired":true,"example":"rtc-record-oss"}},{"name":"OssFilePrefix","in":"query","schema":{"description":"录制文件命名规则。\n\n> 为确保录制的文件名称唯一，目前录制文件的命名规则为record/{AppId}/{ChannelId_TaskId}/{EscapedStartTime}_{EscapedEndTime}。","type":"string","required":true,"docRequired":true,"example":"record/{AppId}/{ChannelId_TaskId}/{EscapedStartTime}_{EscapedEndTime}"}},{"name":"FileSplitInterval","in":"query","schema":{"description":"录制文件切割时长（大于等于1800）。单位：秒。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"1800"}},{"name":"DelayStopTime","in":"query","schema":{"description":"延时停止录制的时间。单位：秒。默认值为**180**秒。","type":"integer","format":"int32","required":false,"maximum":"86400","minimum":"5","example":"180","default":"180"}},{"name":"MnsQueue","in":"query","schema":{"description":"录制事件回调消息队列。\n\n> 此参数和HttpCallbackUrl必须输入其中某一个，不能两者都输入或都不输入。","type":"string","required":false,"example":"record-callback-queue"}},{"name":"HttpCallbackUrl","in":"query","schema":{"description":"录制事件HTTP回调地址。\n> 此参数和MnsQueue必须输入其中某一个，不能两者都输入或都不输入。","type":"string","required":false,"example":"http://example.com/callback"}},{"name":"EnableM3u8DateTime","in":"query","schema":{"description":"录制的m3u8文件是否需要加上ts文件时间点。","type":"boolean","required":false,"example":"false"}},{"name":"OssEndpoint","in":"query","schema":{"type":"string","required":false}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"TemplateId":{"description":"录制配置模板ID。\n","type":"string","example":"76dasgb****"},"RequestId":{"description":"该条任务请求ID。","type":"string","example":"760bad53276431c499e30dc36f6b26be"}}}}},"errorCodes":{"400":[{"errorCode":"SLR.NoPermission","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TemplateId\\\": \\\"76dasgb****\\\",\\n  \\\"RequestId\\\": \\\"760bad53276431c499e30dc36f6b26be\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddRecordTemplateResponse>\\n<RequestId>760bad53276431c499e30dc36f6b26be</RequestId>\\n<TemplateId>76dasgb****</TemplateId>\\n</AddRecordTemplateResponse>\",\"errorExample\":\"\"}]","title":"添加录制配置模板","summary":"调用AddRecordTemplate添加录制配置模板。","description":"# 使用说明\n本接口用于添加录制配置模板。例如：添加录制配置模板时，您可以配置录制规格、编码选项等参数。\n# QPS限制\n本接口的单用户QPS限制为100次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~341645~~)。","requestParamsDescription":" **MediaEncode**枚举值如下所示。\n\n| ID | 宽 | 高 | 码流（Kps） | 帧率（FPS） \n| ----------- | ----- | ------ | ----------- | --- \n| 0           | 0     | 0      | 64          | 0   \n| 1           | 640   | 360    | 500         | 15  \n| 54         | 360   | 640    | 500         | 30  \n| 53         | 360   | 640    | 500         | 15  \n| 52         | 640   | 360    | 500         | 30  \n| 10          | 960   | 540    | 700         | 24  \n| 20          | 1280  | 720    | 1024        | 25  \n| 22          | 720   | 1280   | 1024        | 30  \n| 23          | 800   | 600    | 1024        | 30  \n| 30          | 1920  | 1080   | 2048        | 30 \n| 31          | 1080  | 1920   | 2048        | 30  \n| 24          | 750   | 780    | 1024        | 30  \n| 25          | 750   | 540    | 700         | 30  \n| 26          | 720   | 1280   | 2048        | 30  \n| 27          | 1280  | 720    | 2048        | 30  \n| 28          | 1280  | 720    | 3096        | 30  \n| 32          | 1024  | 768    | 1024        | 24  \n| 33          | 1280  | 960    | 1024        | 24  \n| 34          | 1024  | 768    | 2048        | 24  \n| 35          | 1280  | 960    | 2048        | 24  \n| 36          | 1280  | 720    | 1024        | 24  \n| 37          | 1280  | 720    | 2048        | 24  \n| 38          | 540   | 960    | 750         | 15  \n| 39          | 540   | 960    | 1500        | 30  \n| 40          | 1280  | 720    | 1200        | 15  \n| 41          | 720   | 1280   | 1200        | 15  \n| 42          | 720   | 1280   | 1500        | 15  \n| 43          | 540   | 960   | 1200        | 15  \n\n\n**TaskProfile**枚举值：\n\n> Mixed_Audio（纯音频）不限制最大输入路数，其余规格根据第一个数字判断支持最大输入路数，例如：4IN_720P代表支持最大输入路数为4。\n\n| - | 1080P | 720P | 360P | Audio \n| ----- | ------- | ----- | ------ | ------ \n| 1IN | 1IN_1080P | 1IN_720P | 1IN_360P | 无\n| 2IN | 2IN_1080P | 2IN_720P | 2IN_360P | 无 \n| 4IN | 4IN_1080P | 4IN_720P | 4IN_360P | 无\n| 9IN | 9IN_1080P | 9IN_720P | 9IN_360P | 无\n| 12IN | 12IN_1080P | 12IN_720P | 12IN_360P | 无\n| 16IN | 16IN_1080P | 16IN_720P | 16IN_360P | 无\n| Mixed| 无 | 无 | 无 | Mixed_Audio\n","responseParamsDescription":" ","extraInfo":"## 特殊错误码\n\n|错误ID|错误代码|描述|HTTP状态码|\n|-----|-------|---|----------|\n| InternalError |  The request processing has failed due to some unknown error, exception or failure. | 500 | 内部错误 |"}