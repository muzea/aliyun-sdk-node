{"summary":"获取安全访问代理审计信息列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"StartTime","in":"query","schema":{"description":"开始操作的时间戳，格式为标准的UNIX_TIMESTAMP时间戳形式，您可以根据您的操作时间进行转化。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1636876446000"}},{"name":"EndTime","in":"query","schema":{"description":"结束操作的时间戳，格式为标准的UNIX_TIMESTAMP时间戳形式，您可以根据您的操作时间进行转化。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1636962846000"}},{"name":"SearchName","in":"query","schema":{"description":"实例名称。","type":"string","required":false,"example":"test"}},{"name":"OpUserName","in":"query","schema":{"description":"操作人昵称。","type":"string","required":false,"example":"testNickName"}},{"name":"SQLType","in":"query","schema":{"description":"SQL类型，常见SQL类型取值说明如下：\n\n- **SELECT**：查询\n- **INSERT**：插入\n- **DELETE**：删除\n- **CREATE_TABLE**：创建表\n\n> 您可以在控制台页面上方操作审计->安全访问代理中查看更多SQL类型取值。","type":"string","required":false,"example":"SELECT"}},{"name":"ExecState","in":"query","schema":{"description":"执行状态，取值说明如下：\n- **FAIL**：执行失败\n- **CANCEL**：取消执行\n- **SUCCESS**：执行成功","type":"string","required":false,"example":"SUCCESS","enum":["FAIL","SUCCESS","CANCEL"]}},{"name":"PageSize","in":"query","schema":{"description":"每页数据量，最大值不超过100。","type":"integer","format":"int32","required":false,"docRequired":true,"maximum":"100","minimum":"1","example":"100","default":"20"}},{"name":"PageNumber","in":"query","schema":{"description":"开始页码。","type":"integer","format":"int32","required":false,"docRequired":true,"exclusiveMaximum":false,"minimum":"1","example":"1"}},{"name":"Tid","in":"query","schema":{"description":"租户ID，可通过调用接口[GetUserActiveTenant](~~198073~~)获取该参数的值。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"14****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"操作总记录数。","type":"integer","format":"int64","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"50ECB006-2C35-5FCA-91B9-01987A0B****"},"ErrorCode":{"description":"错误码。","type":"string","example":"InvalidStartTime"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"Specified parameter StartTime is not valid."},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"ProxySQLExecAuditLogList":{"type":"object","properties":{"ProxySQLExecAuditLog":{"description":"安全代理审计信息列表。","type":"array","items":{"description":"安全代理审计信息列表。","type":"object","properties":{"OpTime":{"description":"操作时间戳，格式为标准的UNIX_TIMESTAMP时间戳形式。","type":"string","example":"1636876446000"},"UserName":{"description":"操作人昵称。","type":"string","example":"testNickName"},"UserId":{"description":"操作人ID。","type":"integer","format":"int64","example":"4****"},"InstanceName":{"description":"实例名称。","type":"string","example":"pc-uf662nrg017c6****.mysql.polardb.rds.aliyuncs.com:3306【test】"},"InstanceId":{"description":"实例ID。","type":"integer","format":"int64","example":"4***"},"SchemaName":{"description":"数据库名称。","type":"string","example":"test_db"},"SQLType":{"description":"SQL类型，常见SQL类型返回值说明如下：\n\n- **SELECT**：查询\n- **INSERT**：插入\n- **DELETE**：删除\n- **CREATE_TABLE**：创建表\n\n> 您可以在控制台页面上方操作审计->安全访问代理中查看更多SQL类型返回值。","type":"string","example":"SELECT"},"SQL":{"description":"已执行的SQL语句。","type":"string","example":"select 1;"},"ExecState":{"description":"执行状态，返回值说明如下：\n- **FAIL**：执行失败\n- **CANCEL**：取消执行\n- **SUCCESS**：执行成功","type":"string","example":"SUCCESS"},"AffectRows":{"description":"表示执行SQL语句后返回的总行数。比如，SQL语句为查询语句，此参数返回的是查询数据的总行数。","type":"integer","format":"int64","example":"1"},"ElapsedTime":{"description":"操作耗时，单位为毫秒。","type":"integer","format":"int64","example":"1324"},"Remark":{"description":"备注信息。","type":"string","example":"success"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"50ECB006-2C35-5FCA-91B9-01987A0B****\\\",\\n  \\\"ErrorCode\\\": \\\"InvalidStartTime\\\",\\n  \\\"ErrorMessage\\\": \\\"Specified parameter StartTime is not valid.\\\",\\n  \\\"Success\\\": true,\\n  \\\"ProxySQLExecAuditLogList\\\": {\\n    \\\"ProxySQLExecAuditLog\\\": [\\n      {\\n        \\\"OpTime\\\": \\\"1636876446000\\\",\\n        \\\"UserName\\\": \\\"testNickName\\\",\\n        \\\"UserId\\\": 0,\\n        \\\"InstanceName\\\": \\\"pc-uf662nrg017c6****.mysql.polardb.rds.aliyuncs.com:3306【test】\\\",\\n        \\\"InstanceId\\\": 0,\\n        \\\"SchemaName\\\": \\\"test_db\\\",\\n        \\\"SQLType\\\": \\\"SELECT\\\",\\n        \\\"SQL\\\": \\\"select 1;\\\",\\n        \\\"ExecState\\\": \\\"SUCCESS\\\",\\n        \\\"AffectRows\\\": 1,\\n        \\\"ElapsedTime\\\": 1324,\\n        \\\"Remark\\\": \\\"success\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListProxySQLExecAuditLogResponse>\\n    <TotalCount>1</TotalCount>\\n    <RequestId>50ECB006-2C35-5FCA-91B9-01987A0B****</RequestId>\\n    <Success>true</Success>\\n    <ProxySQLExecAuditLogList>\\n        <OpTime>1636876446000</OpTime>\\n        <UserName>testNickName</UserName>\\n        <UserId>4****</UserId>\\n        <InstanceName>rm-xxx:3306</InstanceName>\\n        <InstanceId>4***</InstanceId>\\n        <SchemaName>test_db</SchemaName>\\n        <SQLType>SELECT</SQLType>\\n        <SQL>select 1;</SQL>\\n        <ExecState>SUCCESS</ExecState>\\n        <AffectRows>1</AffectRows>\\n        <ElapsedTime>1324</ElapsedTime>\\n        <Remark>success</Remark>\\n    </ProxySQLExecAuditLogList>\\n</ListProxySQLExecAuditLogResponse>\",\"errorExample\":\"\"}]","title":"获取SQL资源审计日志"}