{"summary":"调用GetOnlineDDLProgress接口，获取OnlineDDL任务执行进度详情。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}},{"name":"JobDetailId","in":"query","schema":{"description":"OnlineDDL SQL任务详情ID。您可通过调用[ListDBTaskSQLJobDetail](~~207073~~)接口获取该参数的值。","type":"integer","format":"int64","required":true,"example":"15***"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"34E01EDD-6A16-4CF0-9541-C644D1BE01AA"},"Success":{"description":"请求是否成功。返回值如下：\n\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码。","type":"string","example":"403"},"OnlineDDLTaskDetail":{"description":"任务详细信息。","type":"object","properties":{"JobStatus":{"description":"任务状态。返回值如下：\n\n- **INIT**：初始化。\n- **SUCCESS**：已完成。\n- **RUNNING**：执行中。\n- **WAITING_CUTOVER**：等待cut-over。\n- **RESTARTING**：重启中。\n- **PAUSE**：暂停中。\n- **UNSUPPORTED**：不支持。\n- **CANCELED**：已取消。\n- **FAIL**：已失败。\n- **INTERRUPT**：已中断。","type":"string","example":"SUCCESS"},"StatusDesc":{"description":"任务状态描述信息。","type":"string","example":"Success"},"DelaySeconds":{"description":"DMS回放延迟，即回放原表的Binlog到临时表的延迟时间（单位：秒），与数据库的主备无关。","type":"integer","format":"int64","example":"0"},"CopyTotal":{"description":"预估的数据总行数，取自information_schema库的统计数据，通常比表中的真实数据量小。","type":"integer","format":"int64","example":"10"},"CopyCount":{"description":"DMS无锁变更实际拷贝的原表数据量。","type":"integer","format":"int64","example":"9"},"ProgressRatio":{"description":"预估的执行进度。具体以任务状态为准。","type":"string","example":"90%"},"CutoverLockTimeSeconds":{"description":"切换表时，锁表超时时间。","type":"integer","format":"int64","example":"2"},"CutoverFailRetryTimes":{"description":"切换表失败时重试次数。","type":"integer","format":"int64","example":"3"},"CleanStrategy":{"description":"完成切换表操作后，原表的清理策略，返回值如下：\n\n- **DROP**：系统自动删除无效原表。\n- **MOVE**：将无效原表移动到test数据库，再进行手动清理。\n- **NOTHING**：原库中保留无效原表，再进行手动清理。","type":"string","example":"DROP"},"CopyChunkSize":{"description":"全量拷贝大小。该参数用于指定每个小块的大小。单次拷贝块越大，全量拷贝时间越短，但同时对业务影响越大。\n\n> 在全量拷贝阶段，将原表分为N个小块逐个拷贝到临时表，DMS缺省动态调整每个块的大小。","type":"integer","format":"int64","example":"1000"},"CopyChunkMode":{"description":"全量拷贝策略，返回值如下：\n\n- **AUTO**：DMS根据数据库的性能动态调整，单次拷贝锁表时间控制在1.5秒以内。\n- **RUNNING**：DMS根据您指定的CopyChunkSize大小（1-60000）拷贝原表数据，此模式下必须设置CopyChunkSize。","type":"string","example":"AUTO"},"CutoverWindowStartTime":{"description":"切换表的时间窗口开始时间。默认为00:00:00。该参数可以控制切换表的时间窗口，指定当满足切换表条件且在时间窗口以内时才可以切换，未在窗口内时则一直等待窗口。","type":"string","example":"12:00:00"},"CutoverWindowEndTime":{"description":"切换表的时间窗口结束时间，与CutoverWindowStartTime至少间隔30分钟。默认为23:59:59。","type":"string","example":"13:00:00"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"34E01EDD-6A16-4CF0-9541-C644D1BE01AA\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"403\\\",\\n  \\\"OnlineDDLTaskDetail\\\": {\\n    \\\"JobStatus\\\": \\\"SUCCESS\\\",\\n    \\\"StatusDesc\\\": \\\"Success\\\",\\n    \\\"DelaySeconds\\\": 0,\\n    \\\"CopyTotal\\\": 10,\\n    \\\"CopyCount\\\": 9,\\n    \\\"ProgressRatio\\\": \\\"90%\\\",\\n    \\\"CutoverLockTimeSeconds\\\": 2,\\n    \\\"CutoverFailRetryTimes\\\": 3,\\n    \\\"CleanStrategy\\\": \\\"DROP\\\",\\n    \\\"CopyChunkSize\\\": 1000,\\n    \\\"CopyChunkMode\\\": \\\"AUTO\\\",\\n    \\\"CutoverWindowStartTime\\\": \\\"12:00:00\\\",\\n    \\\"CutoverWindowEndTime\\\": \\\"13:00:00\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetOnlineDDLProgressResponse>\\n    <RequestId>34E01EDD-6A16-4CF0-9541-C644D1BE01AA</RequestId>\\n    <Success>true</Success>\\n    <OnlineDDLTaskDetail>\\n        <JobStatus>SUCCESS</JobStatus>\\n        <StatusDesc>Success</StatusDesc>\\n        <DelaySeconds>0</DelaySeconds>\\n        <CopyTotal>10</CopyTotal>\\n        <CopyCount>9</CopyCount>\\n        <ProgressRatio>90</ProgressRatio>\\n        <CutoverLockTimeSeconds>2</CutoverLockTimeSeconds>\\n        <CutoverFailRetryTimes>3</CutoverFailRetryTimes>\\n        <CleanStrategy>DROP</CleanStrategy>\\n        <CopyChunkSize>1000</CopyChunkSize>\\n        <CopyChunkMode>AUTO</CopyChunkMode>\\n        <CutoverWindowStartTime>12:00:00</CutoverWindowStartTime>\\n        <CutoverWindowEndTime>13:00:00</CutoverWindowEndTime>\\n    </OnlineDDLTaskDetail>\\n</GetOnlineDDLProgressResponse>\",\"errorExample\":\"\"}]","title":"获取OnlineDDL任务执行进度详情"}