{"summary":"获取数据表的拓扑图。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"docRequired":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}},{"name":"TableGuid","in":"query","schema":{"description":"表在DMS中的唯一识别码GUID（Globally Unique Identifier）。\n\n> - 逻辑库：可调用[ListLogicTables](~~141875~~)接口获取，需要将ReturnGuid参数设置为true。\n> - 物理库：可调用[ListTables](~~141878~~)接口获取，需要将ReturnGuid参数设置为true。","type":"string","required":true,"docRequired":true,"example":"IDB_L_9032.db-test.yuyang_test"}}],"responses":{"200":{"schema":{"description":"Schema of Response","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"853F7FD4-D922-4EFB-931C-D253EF159E06"},"DBTopology":{"description":"DB拓扑信息。","type":"object","properties":{"TableName":{"description":"表名。\n> - 如果查询逻辑表，将返回逻辑表表名。\n> - 如果查询物理表，将返回物理表表名。","type":"string","example":"yuyang_test"},"DataSourceList":{"description":"数据源列表。","type":"array","items":{"description":"Schema of Response","type":"object","properties":{"Sid":{"description":"数据源SID。","type":"string","example":"def"},"Host":{"description":"数据源的连接地址。","type":"string","example":"xxx.mysql.polardb.rds.aliyuncs.com"},"DbType":{"description":"数据库类型，取值请参考[dbType参数说明](~~198106~~)。\n","type":"string","example":"MySQL"},"DatabaseList":{"description":"物理分库列表。","type":"array","items":{"description":"Schema of Response","type":"object","properties":{"DbId":{"description":"库ID。","type":"string","example":"489347"},"DbName":{"description":"物理库库名。","type":"string","example":"db-test"},"DbType":{"description":"数据库类型，取值请参考[dbType参数说明](~~198106~~)。","type":"string","example":"MySQL"},"TableList":{"description":"物理分表列表。","type":"array","items":{"description":"Schema of Response","type":"object","properties":{"TableName":{"description":"物理表表名。","type":"string","example":"151977812"},"TableType":{"description":"表类型，保留字段。","type":"string","example":"yuyang_test_0000"},"TableId":{"description":"表ID。","type":"string","example":"NORMAL"}}}},"EnvType":{"description":"环境类型，取值和说明如下：\n- **product**：生产环境\n- **dev**：开发环境\n- **pre**：预发环境\n- **test**：测试环境\n- **sit**：SIT环境\n- **uat**：UAT环境\n- **pet**：压测环境\n- **stag**：STAG环境\n\n> 更多信息，请参见[实例环境说明](~~163309~~)。","type":"string","example":"pre"}}}},"Port":{"description":"数据源连接端口。","type":"integer","format":"int32","example":"3306"}}}},"TableGuid":{"description":"表在DMS中的唯一识别码GUID（Globally Unique Identifier）。","type":"string","example":"IDB_L_9032.db-test.yuyang_test"}}},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"853F7FD4-D922-4EFB-931C-D253EF159E06\\\",\\n  \\\"DBTopology\\\": {\\n    \\\"TableName\\\": \\\"yuyang_test\\\",\\n    \\\"DataSourceList\\\": [\\n      {\\n        \\\"Sid\\\": \\\"def\\\",\\n        \\\"Host\\\": \\\"xxx.mysql.polardb.rds.aliyuncs.com\\\",\\n        \\\"DbType\\\": \\\"MySQL\\\",\\n        \\\"DatabaseList\\\": [\\n          {\\n            \\\"DbId\\\": \\\"489347\\\",\\n            \\\"DbName\\\": \\\"db-test\\\",\\n            \\\"DbType\\\": \\\"MySQL\\\",\\n            \\\"TableList\\\": [\\n              {\\n                \\\"TableName\\\": \\\"151977812\\\",\\n                \\\"TableType\\\": \\\"yuyang_test_0000\\\",\\n                \\\"TableId\\\": \\\"NORMAL\\\"\\n              }\\n            ],\\n            \\\"EnvType\\\": \\\"pre\\\"\\n          }\\n        ],\\n        \\\"Port\\\": 3306\\n      }\\n    ],\\n    \\\"TableGuid\\\": \\\"IDB_L_9032.db-test.yuyang_test\\\"\\n  },\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetTableDBTopologyResponse>\\n    <RequestId>78F78156-2BBE-414A-8A9D-BE61CF6FA60F</RequestId>\\n    <DBTopology>\\n        <TableName>big_table</TableName>\\n        <TableGuid>IDB_270000001.film.big_table</TableGuid>\\n        <DataSourceList>\\n            <DatabaseList>\\n                <DbId>4000000</DbId>\\n                <DbName>film</DbName>\\n                <TableList>\\n                    <TableId>200000000</TableId>\\n                    <TableName>big_table</TableName>\\n                    <TableType>NORMAL</TableType>\\n                </TableList>\\n                <EnvType>product</EnvType>\\n                <DbType>mysql</DbType>\\n            </DatabaseList>\\n            <Port>3306</Port>\\n            <Host>rm-uf000000z0000002l.mysql.rds.aliyuncs.com</Host>\\n            <DbType>mysql</DbType>\\n        </DataSourceList>\\n    </DBTopology>\\n    <Success>true</Success>    \\n</GetTableDBTopologyResponse>\",\"errorExample\":\"\"}]","title":"获取逻辑表的拓扑图"}