{"summary":"调用ListDatabaseUserPermssions展示具备指定数据库权限的用户权限详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"-1"}},{"name":"PermType","in":"query","schema":{"description":"权限类型，取值和说明如下：\n- DATABASE： 库权限\n- TABLE：表权限\n- COLUMN：列权限","type":"string","required":true,"docRequired":true,"example":"DATABASE"}},{"name":"DbId","in":"query","schema":{"description":"数据库ID。","type":"string","required":true,"docRequired":true,"example":"123"}},{"name":"Logic","in":"query","schema":{"description":"是否逻辑库。","type":"boolean","required":false,"example":"false"}},{"name":"UserName","in":"query","schema":{"description":"用户昵称。","type":"string","required":false,"example":"search_user_name"}},{"name":"PageNumber","in":"query","schema":{"description":"第几页。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页数据量。","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"满足条件的记录总数。","type":"integer","format":"int64","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"68075D06-7406-4887-83A7-F558A4D28C13"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"UserPermissions":{"type":"object","properties":{"UserPermission":{"description":"用户权限详情。","type":"array","items":{"type":"object","properties":{"DbId":{"description":"库ID。","type":"string","example":"1234"},"TableName":{"description":"表名。","type":"string","example":"table_name"},"UserId":{"description":"用户ID。","type":"string","example":"14324"},"SchemaName":{"description":"数据库名。","type":"string","example":"xxx@xxxx:3306"},"Logic":{"description":"是否逻辑库。","type":"boolean","example":"false"},"UserNickName":{"description":"用户昵称。","type":"string","example":"user_nick_name"},"InstanceId":{"description":"实例ID。","type":"string","example":"1443"},"PermDetails":{"type":"object","properties":{"PermDetail":{"description":"用户权限详情。","type":"array","items":{"type":"object","properties":{"OriginFrom":{"description":"权限申请来源描述","type":"string","example":"xxx grant"},"PermType":{"description":"权限类型，取值和说明如下：\n- QUERY：查询\n- EXPORT：导出\n- CORRECT：变更","type":"string","example":"QUERY"},"ExpireDate":{"description":"权限过期时间","type":"string","example":"2020-12-12 00:00:00"},"CreateDate":{"description":"权限创建时间","type":"string","example":"2019-12-12 00:00:00"},"UserAccessId":{"description":"权限记录ID","type":"string","example":"13434"},"ExtraData":{"description":"附加信息，预留属性","type":"string","example":"DEFAULT"}}}}}},"EnvType":{"description":"数据库所属环境。","type":"string","example":"product"},"ColumnName":{"description":"字段名。","type":"string","example":"column_name"},"DbType":{"description":"数据库类型。","type":"string","example":"mysql"},"DsType":{"description":"资源权限类型。","type":"string","example":"DATABASE"},"TableId":{"description":"表ID。","type":"string","example":"42345"},"SearchName":{"description":"数据库搜索名。","type":"string","example":"xxx"},"Alias":{"description":"实例别名。","type":"string","example":"instance_alias"}}}}}},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"68075D06-7406-4887-83A7-F558A4D28C13\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"UserPermissions\\\": {\\n    \\\"UserPermission\\\": [\\n      {\\n        \\\"DbId\\\": \\\"1234\\\",\\n        \\\"TableName\\\": \\\"table_name\\\",\\n        \\\"UserId\\\": \\\"14324\\\",\\n        \\\"SchemaName\\\": \\\"xxx@xxxx:3306\\\",\\n        \\\"Logic\\\": false,\\n        \\\"UserNickName\\\": \\\"user_nick_name\\\",\\n        \\\"InstanceId\\\": \\\"1443\\\",\\n        \\\"PermDetails\\\": {\\n          \\\"PermDetail\\\": [\\n            {\\n              \\\"OriginFrom\\\": \\\"xxx grant\\\",\\n              \\\"PermType\\\": \\\"QUERY\\\",\\n              \\\"ExpireDate\\\": \\\"2020-12-12 00:00:00\\\",\\n              \\\"CreateDate\\\": \\\"2019-12-12 00:00:00\\\",\\n              \\\"UserAccessId\\\": \\\"13434\\\",\\n              \\\"ExtraData\\\": \\\"DEFAULT\\\"\\n            }\\n          ]\\n        },\\n        \\\"EnvType\\\": \\\"product\\\",\\n        \\\"ColumnName\\\": \\\"column_name\\\",\\n        \\\"DbType\\\": \\\"mysql\\\",\\n        \\\"DsType\\\": \\\"DATABASE\\\",\\n        \\\"TableId\\\": \\\"42345\\\",\\n        \\\"SearchName\\\": \\\"xxx\\\",\\n        \\\"Alias\\\": \\\"instance_alias\\\"\\n      }\\n    ]\\n  },\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UserPermissions>\\n    <UserPermission>\\n        <Logic>false</Logic>\\n        <UserNickName>xxx</UserNickName>\\n        <DsType>DATABASE</DsType>\\n        <Alias>beihe_ent_prod</Alias>\\n        <PermDetails>\\n            <PermDetail>\\n                <ExpireDate>2020-10-31 00:00:00</ExpireDate>\\n                <UserAccessId>390915</UserAccessId>\\n                <PermType>QUERY</PermType>\\n                <OriginFrom>xxx</OriginFrom>\\n                <CreateDate>2019-11-21 15:07:45</CreateDate>\\n            </PermDetail>\\n            <PermDetail>\\n                <ExpireDate>2020-10-31 00:00:00</ExpireDate>\\n                <UserAccessId>390916</UserAccessId>\\n                <PermType>EXPORT</PermType>\\n                <OriginFrom>xxx</OriginFrom>\\n                <CreateDate>2019-11-21 15:07:45</CreateDate>\\n            </PermDetail>\\n            <PermDetail>\\n                <ExpireDate>2020-10-31 00:00:00</ExpireDate>\\n                <UserAccessId>390917</UserAccessId>\\n                <PermType>CORRECT</PermType>\\n                <OriginFrom>xxx</OriginFrom>\\n                <CreateDate>2019-11-21 15:07:45</CreateDate>\\n            </PermDetail>\\n        </PermDetails>\\n        <InstanceId>1434</InstanceId>\\n        <SearchName>xxx@xxxx:3306</SearchName>\\n        <DbId>123434</DbId>\\n        <UserId>432423</UserId>\\n        <DbType>drds</DbType>\\n        <EnvType>product</EnvType>\\n        <SchemaName>xxx</SchemaName>\\n    </UserPermission>\\n</UserPermissions>\\n<TotalCount>1</TotalCount>\\n<RequestId>68075D06-7406-4887-83A7-F558A4D28C13</RequestId>\\n<Success>true</Success>\",\"errorExample\":\"\"}]","title":"展示具备指定数据库权限的用户权限详情","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}