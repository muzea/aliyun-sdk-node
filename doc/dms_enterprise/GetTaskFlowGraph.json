{"summary":"调用GetTaskFlowGraph接口获取任务流的DAG图。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}},{"name":"DagId","in":"query","schema":{"description":"任务流ID，可通过调用接口[ListTaskFlow](~~424565~~)或[ListLhTaskFlowAndScenario](~~426672~~)获取该参数的值。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"15***"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D9D91166-A626-5F4E-9CA6-7AB10C59DBD8"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"Success":{"description":"请求是否成功，返回值如下：\n\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"TaskFlowGraph":{"description":"任务流的DAG图变量列表。","type":"object","properties":{"DagName":{"description":"任务流名称。","type":"string","example":"test"},"Nodes":{"type":"object","properties":{"Node":{"description":"任务流节点列表。","type":"array","items":{"type":"object","properties":{"DagId":{"description":"任务流ID。","type":"integer","format":"int64","example":"15***"},"NodeId":{"description":"任务节点ID。","type":"integer","format":"int64","example":"44***"},"NodeName":{"description":"任务节点名称。","type":"string","example":"test"},"NodeType":{"description":"任务节点类型，返回值请参见[NodeType参数说明](~~424705~~)。","type":"integer","format":"int64","example":"36"},"NodeContent":{"description":"节点配置内容。","type":"string","example":"{ODI3OTNRVC****UHVFT29\"}"},"TimeVariables":{"description":"节点变量（时间变量配置）。","type":"string","example":"{\\\"variables\\\":[{\\\"name\\\":\\\"Today\\\",\\\"pattern\\\":\\\"yyyy-MM-dd|+1d\\\"}]}"},"NodeConfig":{"description":"节点高级配置。","type":"string","example":"{\\\"dbId\\\":39****,\\\"dbType\\\":\\\"mysql\\\",\\\"locale\\\":\\\"zh\\\",\\\"sql\\\":\\\"/* 请确认以下SQL符合您的变更需求，务必确认无误后再提交执行 */\\\\n\\\\nCREATE TABLE IF NOT EXISTS `momo_weekGather` (\\\\n\\\\t`id` bigint AUTO_INCREMENT DEFAULT '0',\\\\n\\\\t`age` bit NULL,\\\\n\\\\t`action` varchar(150) NULL,\\\\n\\\\t`elapse_time` datetime NULL,\\\\n\\\\tPRIMARY KEY (`id`)\\\\n) ENGINE=InnoDB\\\\nDEFAULT CHARACTER SET=utf8;\\\"}"},"GraphParam":{"description":"节点在图上的显示位置。","type":"string","example":"{\\\"x\\\":541,\\\"y\\\":322,\\\"layoutType\\\":\\\"Horizontal\\\"}"}}}}}},"Edges":{"type":"object","properties":{"Edge":{"description":"任务流边列表。","type":"array","items":{"type":"object","properties":{"DagId":{"description":"任务流ID。","type":"integer","format":"int64","example":"15***"},"Id":{"description":"任务流边ID。","type":"integer","format":"int64","example":"24***"},"NodeEnd":{"description":"边的终点节点ID。","type":"integer","format":"int64","example":"44***"},"NodeFrom":{"description":"边的起点节点ID。","type":"integer","format":"int64","example":"44***"}}}}}},"Status":{"description":"任务流状态，返回值如下：\n- **0**：无效 \n- **1**：无调度配置 \n- **2**：等待调度","type":"integer","format":"int64","example":"2"},"CanEdit":{"description":"任务流是否支持编辑，返回值如下：\n- **true**：支持修改\n- **false**：不支持修改","type":"boolean","example":"true"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D9D91166-A626-5F4E-9CA6-7AB10C59DBD8\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"Success\\\": true,\\n  \\\"TaskFlowGraph\\\": {\\n    \\\"DagName\\\": \\\"test\\\",\\n    \\\"Nodes\\\": {\\n      \\\"Node\\\": [\\n        {\\n          \\\"DagId\\\": 0,\\n          \\\"NodeId\\\": 0,\\n          \\\"NodeName\\\": \\\"test\\\",\\n          \\\"NodeType\\\": 36,\\n          \\\"NodeContent\\\": \\\"{ODI3OTNRVC****UHVFT29\\\\\\\"}\\\",\\n          \\\"TimeVariables\\\": \\\"{\\\\\\\\\\\\\\\"variables\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Today\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"pattern\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"yyyy-MM-dd|+1d\\\\\\\\\\\\\\\"}]}\\\",\\n          \\\"NodeConfig\\\": \\\"{\\\\\\\\\\\\\\\"dbId\\\\\\\\\\\\\\\":39****,\\\\\\\\\\\\\\\"dbType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"mysql\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"locale\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"zh\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"sql\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"/* 请确认以下SQL符合您的变更需求，务必确认无误后再提交执行 */\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\nCREATE TABLE IF NOT EXISTS `momo_weekGather` (\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t`id` bigint AUTO_INCREMENT DEFAULT '0',\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t`age` bit NULL,\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t`action` varchar(150) NULL,\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\t`elapse_time` datetime NULL,\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\tPRIMARY KEY (`id`)\\\\\\\\\\\\\\\\n) ENGINE=InnoDB\\\\\\\\\\\\\\\\nDEFAULT CHARACTER SET=utf8;\\\\\\\\\\\\\\\"}\\\",\\n          \\\"GraphParam\\\": \\\"{\\\\\\\\\\\\\\\"x\\\\\\\\\\\\\\\":541,\\\\\\\\\\\\\\\"y\\\\\\\\\\\\\\\":322,\\\\\\\\\\\\\\\"layoutType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Horizontal\\\\\\\\\\\\\\\"}\\\"\\n        }\\n      ]\\n    },\\n    \\\"Edges\\\": {\\n      \\\"Edge\\\": [\\n        {\\n          \\\"DagId\\\": 0,\\n          \\\"Id\\\": 0,\\n          \\\"NodeEnd\\\": 0,\\n          \\\"NodeFrom\\\": 0\\n        }\\n      ]\\n    },\\n    \\\"Status\\\": 2,\\n    \\\"CanEdit\\\": true\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetTaskFlowGraphResponse>\\n    <RequestId>D9D91166-A626-5F4E-9CA6-7AB10C59DBD8</RequestId>\\n    <TaskFlowGraph>\\n        <Status>2</Status>\\n        <DagName>testSpark</DagName>\\n        <CanEdit>true</CanEdit>\\n        <Edges>\\n        </Edges>\\n        <Nodes>\\n            <Node>\\n                <NodeName>Lindorm Spark-1</NodeName>\\n                <TimeVariables>{\\\"variables\\\":[{\\\"name\\\":\\\"my_bizdate\\\",\\\"pattern\\\":\\\"yyyy-MM-dd|+6d\\\"}]}</TimeVariables>\\n                <NodeType>LINDORM_SPARK</NodeType>\\n                <NodeId>44***</NodeId>\\n                <DagId>15***</DagId>\\n                <NodeContent>ODI3OTNRVC****UHVFT29</NodeContent>\\n                <GraphParam>{\\\"x\\\":254,\\\"y\\\":239,\\\"layoutType\\\":\\\"Horizontal\\\"}</GraphParam>\\n            </Node>\\n            <Node>\\n                <NodeName>Lindorm Spark-2</NodeName>\\n                <NodeType>LINDORM_SPARK</NodeType>\\n                <NodeId>44***</NodeId>\\n                <DagId>15***</DagId>\\n                <GraphParam>{\\\"x\\\":538,\\\"y\\\":161,\\\"layoutType\\\":\\\"Horizontal\\\"}</GraphParam>\\n            </Node>\\n            <Node>\\n                <NodeName>Lindorm Spark-3</NodeName>\\n                <NodeType>LINDORM_SPARK</NodeType>\\n                <NodeId>44***</NodeId>\\n                <DagId>15***</DagId>\\n                <GraphParam>{\\\"x\\\":541,\\\"y\\\":322,\\\"layoutType\\\":\\\"Horizontal\\\"}</GraphParam>\\n            </Node>\\n        </Nodes>\\n    </TaskFlowGraph>\\n    <Success>true</Success>\\n</GetTaskFlowGraphResponse>\",\"errorExample\":\"\"}]","title":"获取任务流的DAG图"}