{"summary":"调用GetTableTopology获取数据表的拓扑信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"TableGuid","in":"query","schema":{"description":"表在DMS中的唯一识别码GUID（Globally Unique Identifier）。\n\n> - 逻辑库：可调用[ListLogicTables](~~141875~~)接口获取，需要将ReturnGuid参数设置为true。\n> - 物理库：可调用[ListTables](~~141878~~)接口获取，需要将ReturnGuid参数设置为true。","type":"string","required":true,"example":"IDB_L_308302.yuyang_test.test_ch"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"F5ED6A40-F344-4C7D-A8F0-5685CA584CA7"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"TableTopology":{"description":"拓扑信息。","type":"object","properties":{"TableGuid":{"description":"表在DMS中的唯一识别码GUID（Globally Unique Identifier）。","type":"string","example":"IDB_L_308302.yuyang_test.test_ch"},"TableName":{"description":"表名。","type":"string","example":"test_ch"},"TableTopologyInfoList":{"description":"表拓扑信息列表。","type":"array","items":{"description":"表拓扑信息。","type":"object","properties":{"TableNameList":{"description":"表名列表。\n> 以逗号隔开。","type":"string","example":"test_ch_0000,test_ch_0001,test_ch_0002,test_ch_0003,test_ch_0004,test_ch_0005"},"TableNameExpr":{"description":"逻辑表的表名表达式。\n> 物理表则不会显示该参数。","type":"string","example":"test_ch_[0000-0005]"},"TableCount":{"description":"表数量。","type":"integer","format":"int64","example":"6"},"DbId":{"description":"物理库ID。","type":"integer","format":"int64","example":"43215"},"DbSearchName":{"description":"库搜索名。\n> 建议您的业务不要强依赖该参数，后续版本的格式可能会发生变化。","type":"string","example":"yuyang_test@localhost:3306[yuyang_test_dev]"},"InstanceId":{"description":"物理库对应的实例ID。","type":"integer","format":"int64","example":"4325325"},"RegionId":{"description":"实例RegionId。","type":"string","example":"cn-hangzhou"},"InstanceResourceId":{"description":"实例资源ID。","type":"string","example":"rm-xxx"},"InstanceSource":{"description":"实例来源，取值如下：\n- **RDS**：阿里云数据库实例\n- **ECS_OWN**：阿里云ECS自建库实例\n- **PUBLIC_OWN**：公网自建库实例\n- **VPC_ID**：VPC专线IDC数据库实例\n- **GATEWAY**：数据库网关实例","type":"string","example":"RDS"},"DbName":{"description":"库名。","type":"string","example":"yuyang_test"},"DbType":{"description":"数据库类型。","type":"string","example":"mysql"}}}},"Logic":{"description":"是否为逻辑表，取值：\n- **true**：是\n- **false**：否","type":"boolean","example":"true"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F5ED6A40-F344-4C7D-A8F0-5685CA584CA7\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"TableTopology\\\": {\\n    \\\"TableGuid\\\": \\\"IDB_L_308302.yuyang_test.test_ch\\\",\\n    \\\"TableName\\\": \\\"test_ch\\\",\\n    \\\"TableTopologyInfoList\\\": [\\n      {\\n        \\\"TableNameList\\\": \\\"test_ch_0000,test_ch_0001,test_ch_0002,test_ch_0003,test_ch_0004,test_ch_0005\\\",\\n        \\\"TableNameExpr\\\": \\\"test_ch_[0000-0005]\\\",\\n        \\\"TableCount\\\": 6,\\n        \\\"DbId\\\": 43215,\\n        \\\"DbSearchName\\\": \\\"yuyang_test@localhost:3306[yuyang_test_dev]\\\",\\n        \\\"InstanceId\\\": 4325325,\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"InstanceResourceId\\\": \\\"rm-xxx\\\",\\n        \\\"InstanceSource\\\": \\\"RDS\\\",\\n        \\\"DbName\\\": \\\"yuyang_test\\\",\\n        \\\"DbType\\\": \\\"mysql\\\"\\n      }\\n    ],\\n    \\\"Logic\\\": true\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetTableTopologyResponse>\\n    <RequestId>7A7F0E34-8E21-4CF7-93C8-27212B122145</RequestId>\\n    <TableTopology>\\n        <TableName>big_table</TableName>\\n        <TableGuid>IDB_279000000.film.big_table</TableGuid>\\n        <Logic>false</Logic>\\n        <TableTopologyInfoList>\\n            <DbSearchName>film@rm-uf00000000240000l.mysql.rds.aliyuncs.com:3306【nissi go】</DbSearchName>\\n            <InstanceSource>RDS</InstanceSource>\\n            <InstanceResourceId>rm-uf00000000240000l</InstanceResourceId>\\n            <InstanceId>1000000</InstanceId>\\n            <TableNameList>big_table</TableNameList>\\n            <TableCount>1</TableCount>\\n            <DbId>4000000</DbId>\\n            <DbName>film</DbName>\\n            <RegionId>cn-shanghai</RegionId>\\n            <DbType>mysql</DbType>\\n        </TableTopologyInfoList>\\n    </TableTopology>\\n    <Success>true</Success>    \\n</GetTableTopologyResponse>\",\"errorExample\":\"\"}]","title":"获取数据表的拓扑信息"}