{"summary":"获取数据库导出工单详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"3***"}},{"name":"OrderId","in":"formData","schema":{"description":"工单ID，可调用[ListOrders](~~144643~~)接口获取该参数的值。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"821****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID，用于定位日志，排查问题。\n","type":"string","example":"CFD8FE00-36D9-4C1B-940D-65A7B73D9066"},"DatabaseExportOrderDetail":{"description":"数据库导出工单详情。","type":"object","properties":{"Id":{"description":"工单ID。","type":"integer","format":"int64","example":"821****"},"Committer":{"description":"工单提交者。","type":"string","example":"dmsuser"},"CommitterId":{"description":"工单提交者的用户ID，非阿里云UID。","type":"string","example":"12***"},"Comment":{"description":"提交数据导出工单的业务背景。","type":"string","example":"测试"},"SearchName":{"description":"数据库搜索名称。","type":"string","example":"test@xxx.xxx.xxx.xxx:3306"},"StatusDesc":{"description":"工单状态描述。","type":"string","example":"工单审批中。"},"WorkflowStatusDesc":{"description":"工作流状态描述。","type":"string","example":"工单审批中。"},"KeyInfo":{"description":"关键信息。","type":"object","properties":{"DbId":{"description":"数据库ID。","type":"integer","format":"int64","example":"2583****"},"DownloadURL":{"description":"导出结果的下载地址。","type":"string","example":"https://oss.xxx.com"},"AuditDate":{"description":"提交工单时间。","type":"string","example":"2023-04-13 13:44:59"},"Config":{"description":"配置信息。","type":"object","properties":{"DbName":{"description":"数据库名称。","type":"string","example":"dmstest"},"ExportContent":{"description":"导出内容。取值如下：\n\n- **DATA**：数据。\n- **STRUCT**：结构。\n- **DATA_STRUCT**：数据和结构。","type":"string","example":"DATA"},"TargetOption":{"description":"导出格式。取值如下：\n\n- **SQL**\n- **CSV**\n- **XLSX**","type":"string","example":"SQL"},"ExportTypes":{"type":"object","properties":{"ExportTypes":{"description":"导出结构类型。","type":"array","items":{"description":"取值如下：\n\n- **PROCEDURE**：存储过程。\n- **FUNCTION**：函数。\n- **TRIGGER**：触发器。\n- **VIEW**：视图。\n- **EVENT**：事件。","type":"string","example":"PROCEDURE"}}}},"SelectedTables":{"type":"object","properties":{"SelectedTables":{"description":"选中导出哪些表。","type":"array","items":{"description":"表名。","type":"string","example":"user_test"}}}},"SQLExtOption":{"type":"object","properties":{"SQLExtOption":{"description":"SQL脚本拓展选项。","type":"array","items":{"description":"选项列表：\n\n- **DROP**：在CREATE语句前生成DROP TABLE语句。\n- **TRUNCATE**：在INSERT语句前生成TRUNCATE TABLE语句。\n- **COMPRESS**：压缩INSERT语句，将VLAUES合并为5 M大小。","type":"string","example":"DROP"}}}}}}}},"Log":{"description":"执行日志。","type":"string","example":"2023-04-12 14:58:32:015 Database Dump Start.\n2023-04-12 14:58:32:096 set server side query timeout, sql : set max_execution_time = 0"}}},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。\n","type":"string","example":"UnknownError"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CFD8FE00-36D9-4C1B-940D-65A7B73D9066\\\",\\n  \\\"DatabaseExportOrderDetail\\\": {\\n    \\\"Id\\\": 0,\\n    \\\"Committer\\\": \\\"dmsuser\\\",\\n    \\\"CommitterId\\\": \\\"12***\\\",\\n    \\\"Comment\\\": \\\"测试\\\",\\n    \\\"SearchName\\\": \\\"test@xxx.xxx.xxx.xxx:3306\\\",\\n    \\\"StatusDesc\\\": \\\"工单审批中。\\\",\\n    \\\"WorkflowStatusDesc\\\": \\\"工单审批中。\\\",\\n    \\\"KeyInfo\\\": {\\n      \\\"DbId\\\": 0,\\n      \\\"DownloadURL\\\": \\\"https://oss.xxx.com\\\",\\n      \\\"AuditDate\\\": \\\"2023-04-13 13:44:59\\\",\\n      \\\"Config\\\": {\\n        \\\"DbName\\\": \\\"dmstest\\\",\\n        \\\"ExportContent\\\": \\\"DATA\\\",\\n        \\\"TargetOption\\\": \\\"SQL\\\",\\n        \\\"ExportTypes\\\": {\\n          \\\"ExportTypes\\\": [\\n            \\\"PROCEDURE\\\"\\n          ]\\n        },\\n        \\\"SelectedTables\\\": {\\n          \\\"SelectedTables\\\": [\\n            \\\"user_test\\\"\\n          ]\\n        },\\n        \\\"SQLExtOption\\\": {\\n          \\\"SQLExtOption\\\": [\\n            \\\"DROP\\\"\\n          ]\\n        }\\n      }\\n    },\\n    \\\"Log\\\": \\\"2023-04-12 14:58:32:015 Database Dump Start.\\\\n2023-04-12 14:58:32:096 set server side query timeout, sql : set max_execution_time = 0\\\"\\n  },\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"获取数据库导出工单详情"}