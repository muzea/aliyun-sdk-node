{"summary":"获取上传附件的任务信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"JobKey","in":"query","schema":{"description":"上传附件任务JobKey，您可以通过调用[CreateUploadFileJob](~~206059~~)、[CreateUploadOSSFileJob](~~206060~~)接口获取该参数。","type":"string","required":true,"example":"65254a49100e"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"-1"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"BDEFE9F2-B3B4-42D0-83AE-ECF9FC067DCD"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"UploadFileJobDetail":{"description":"上传附件任务详情。","type":"object","properties":{"JobKey":{"description":"上传附件任务JobKey。","type":"string","example":"65254a4c1614235217749100e"},"FileName":{"description":"文件名。","type":"string","example":"test.sql"},"FileSize":{"description":"文件大小，单位为字节。","type":"integer","format":"int64","example":"2968269"},"FileSource":{"description":"文件上传的使用目的，取值与说明如下：\n- **datacorrect**：数据变更工单\n- **order_info_attachment**：工单附件\n- **big-file**：批量数据导入\n- **sqlreview**：SQL审核","type":"string","example":"datacorrect"},"UploadType":{"description":"上传附件任务类型，取值：\n- **URL**\n- **OSS**","type":"string","example":"URL"},"UploadURL":{"description":"上传附件URL链接。\n> 当**UploadType**参数为**URL**时显示。","type":"string","example":"http://xxxx/test.sql"},"UploadOSSParam":{"description":"上传附件OSS信息。\n> 当**UploadType**参数为**OSS**时显示。","type":"object","properties":{"Endpoint":{"description":"OSS的连接地址。","type":"string","example":"http://oss-cn-hangzhou.aliyuncs.com"},"BucketName":{"description":"OSS Bucket唯一标识。","type":"string","example":"test_bucket"},"ObjectName":{"description":"OSS对象名称。","type":"string","example":"test.sql"}}},"UploadedSize":{"description":"已上传的大小，单位为字节。","type":"integer","format":"int64","example":"2968269"},"JobStatus":{"description":"上传附件任务状态，取值和说明如下：\n- **INIT**：初始化状态\n- **PENDING**：等待任务抓取\n- **BE_SCHEDULED**：待调度\n- **FAIL**：执行失败\n- **SUCCESS**：执行成功\n- **RUNNING**：正在执行","type":"string","example":"SUCCESS"},"JobStatusDesc":{"description":"任务状态描述。","type":"string","example":"success"},"AttachmentKey":{"description":"上传附件成功后返回的附件Key，可在创建工单时使用。","type":"string","example":"upload_3c7edea3-e4c3-4403-857d-737043036f69_test.sql"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BDEFE9F2-B3B4-42D0-83AE-ECF9FC067DCD\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"UploadFileJobDetail\\\": {\\n    \\\"JobKey\\\": \\\"65254a4c1614235217749100e\\\",\\n    \\\"FileName\\\": \\\"test.sql\\\",\\n    \\\"FileSize\\\": 2968269,\\n    \\\"FileSource\\\": \\\"datacorrect\\\",\\n    \\\"UploadType\\\": \\\"URL\\\",\\n    \\\"UploadURL\\\": \\\"http://xxxx/test.sql\\\",\\n    \\\"UploadOSSParam\\\": {\\n      \\\"Endpoint\\\": \\\"http://oss-cn-hangzhou.aliyuncs.com\\\",\\n      \\\"BucketName\\\": \\\"test_bucket\\\",\\n      \\\"ObjectName\\\": \\\"test.sql\\\"\\n    },\\n    \\\"UploadedSize\\\": 2968269,\\n    \\\"JobStatus\\\": \\\"SUCCESS\\\",\\n    \\\"JobStatusDesc\\\": \\\"success\\\",\\n    \\\"AttachmentKey\\\": \\\"upload_3c7edea3-e4c3-4403-857d-737043036f69_test.sql\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetUserUploadFileJobResponse>\\n    <RequestId>22FFF57C-6E85-4C3D-90AF-C1BFE79E1FAF</RequestId>\\n    <UploadFileJobDetail>\\n        <JobStatus>INIT</JobStatus>\\n        <JobKey>7000005000007000009000000</JobKey>\\n        <UploadURL>https://dbxxx.oss-cn-hangzhou.aliyuncs.com/dm/1.txt</UploadURL>\\n        <UploadedSize>0</UploadedSize>\\n        <JobStatusDesc/>\\n        <FileSource>datacorrect</FileSource>\\n        <FileName>1.txt</FileName>\\n        <UploadType>URL</UploadType>\\n        <FileSize>-1</FileSize>\\n    </UploadFileJobDetail>\\n    <Success>true</Success>\\n</GetUserUploadFileJobResponse>\",\"errorExample\":\"\"}]","title":"获取上传附件的任务信息"}