{"summary":"获取结构设计工单的发布详情。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"OrderId","in":"query","schema":{"description":"工单ID。\n> 您可以在控制台（请参见[结构设计](~~69711~~)）或通过[CreateOrder](~~144649~~)接口创建结构设计工单，并获取工单ID。","type":"integer","format":"int64","required":true,"maximum":"9223372036854775807","minimum":"1","example":"3214325"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"1"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"A1549FB0-D4B8-4140-919F-17322C1072B8"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"DDLPublishRecordList":{"description":"发布记录列表。","type":"array","items":{"description":"发布记录。","type":"object","properties":{"AuditStatus":{"description":"审批状态，取值如下：\n- **EXEMPT_PASS**：免批通过\n- **TO_AUDIT**：等待审批\n- **CANCEL**：撤销审批\n- **SUCCESS**：审批通过\n- **FAIL**：未通过","type":"string","example":"CANCEL"},"AuditExpireTime":{"description":"审批过期时间。","type":"string","example":"2020-12-14 20:52:38"},"CreatorId":{"description":"工单创建人的用户ID（可通过[GetUser](~~147098~~)接口获取的UserId参数），非阿里云UID。","type":"integer","format":"int64","example":"1423"},"Finality":{"description":"是否终止，取值为：\n- **true**：是\n- **false**：否\n> 导致终止的原因有审批撤回或在指定执行时间前未完成审批等。","type":"boolean","example":"true"},"FinalityReason":{"description":"终止原因。","type":"string","example":"CANCEL"},"PublishStatus":{"description":"发布状态，取值如下：\n- **START**：创建\n- **ANALYZE**：分析\n- **AUDIT**：审批\n- **DISPATCH**：调度\n- **SUCCESS**：成功","type":"string","example":"AUDIT"},"RiskLevel":{"description":"风险等级，取值如下：\n- **NONE_RISK**：无风险\n- **LOW_RISK**：低风险\n- **MIDDLE_RISK**：中风险\n- **HIGH_RISK**：高风险","type":"string","example":"LOW_RISK"},"StatusDesc":{"description":"发布状态描述。","type":"string","example":"CANCEL"},"WorkflowInstanceId":{"description":"审批流ID。","type":"integer","format":"int64","example":"432153"},"Comment":{"title":"发布备注","description":"发布备注","type":"string","example":"发布备注"},"PublishTaskInfoList":{"description":"发布任务信息列表。","type":"array","items":{"description":"发布任务信息。","type":"object","properties":{"DbId":{"description":"数据库ID。","type":"integer","format":"int64","example":"4325"},"Logic":{"description":"是否为逻辑库，取值：\n- **true**：是\n- **false**：否","type":"boolean","example":"false"},"PlanTime":{"description":"计划发布时间。","type":"string","example":"2020-12-14 20:52:38"},"PublishStrategy":{"description":"发布策略，取值：\n- **IMMEDIATELY**：立即执行\n- **REGULARLY**：定时执行","type":"string","example":"IMMEDIATELY"},"StatusDesc":{"description":"状态描述。","type":"string","example":"NONE"},"TaskJobStatus":{"description":"任务状态。","type":"string","example":"NONE"},"PublishJobList":{"description":"发布任务列表。","type":"array","items":{"description":"发布任务。","type":"object","properties":{"ExecuteCount":{"description":"已经执行的SQL数量。","type":"integer","format":"int64","example":"0"},"Scripts":{"description":"变更脚本。","type":"string","example":"ALTER TABLE test_toolkit_rename_table_after_rename MODIFY COLUMN gmt_modified datetime NOT NULL"},"TableName":{"description":"变更的表名。","type":"string","example":"test_toolkit_rename_table_after_rename"},"StatusDesc":{"description":"状态描述。","type":"string","example":"NONE"},"TaskJobStatus":{"description":"发布任务状态，取值如下：\n- **NONE**：未知\n- **SUCCESS**：执行成功\n- **FAIL**：执行失败","type":"string","example":"NONE"},"DBTaskGroupId":{"description":"SQL任务分组ID。","type":"integer","format":"int64","example":"423515"}}}}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A1549FB0-D4B8-4140-919F-17322C1072B8\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"DDLPublishRecordList\\\": [\\n    {\\n      \\\"AuditStatus\\\": \\\"CANCEL\\\",\\n      \\\"AuditExpireTime\\\": \\\"2020-12-14 20:52:38\\\",\\n      \\\"CreatorId\\\": 1423,\\n      \\\"Finality\\\": true,\\n      \\\"FinalityReason\\\": \\\"CANCEL\\\",\\n      \\\"PublishStatus\\\": \\\"AUDIT\\\",\\n      \\\"RiskLevel\\\": \\\"LOW_RISK\\\",\\n      \\\"StatusDesc\\\": \\\"CANCEL\\\",\\n      \\\"WorkflowInstanceId\\\": 432153,\\n      \\\"Comment\\\": \\\"发布备注\\\",\\n      \\\"PublishTaskInfoList\\\": [\\n        {\\n          \\\"DbId\\\": 4325,\\n          \\\"Logic\\\": false,\\n          \\\"PlanTime\\\": \\\"2020-12-14 20:52:38\\\",\\n          \\\"PublishStrategy\\\": \\\"IMMEDIATELY\\\",\\n          \\\"StatusDesc\\\": \\\"NONE\\\",\\n          \\\"TaskJobStatus\\\": \\\"NONE\\\",\\n          \\\"PublishJobList\\\": [\\n            {\\n              \\\"ExecuteCount\\\": 0,\\n              \\\"Scripts\\\": \\\"ALTER TABLE test_toolkit_rename_table_after_rename MODIFY COLUMN gmt_modified datetime NOT NULL\\\",\\n              \\\"TableName\\\": \\\"test_toolkit_rename_table_after_rename\\\",\\n              \\\"StatusDesc\\\": \\\"NONE\\\",\\n              \\\"TaskJobStatus\\\": \\\"NONE\\\",\\n              \\\"DBTaskGroupId\\\": 423515\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListDDLPublishRecordsResponse>\\n    <RequestId>A1549FB0-D4B8-4140-919F-17322C1072B8</RequestId>\\n    <Success>true</Success>\\n    <ErrorMessage>UnknownError</ErrorMessage>\\n    <ErrorCode>UnknownError</ErrorCode>\\n    <DDLPublishRecordList>\\n        <AuditStatus>CANCEL</AuditStatus>\\n        <AuditExpireTime>2020-12-14 20:52:38</AuditExpireTime>\\n        <CreatorId>1423</CreatorId>\\n        <Finality>true</Finality>\\n        <FinalityReason>CANCEL</FinalityReason>\\n        <PublishStatus>AUDIT</PublishStatus>\\n        <RiskLevel>LOW_RISK</RiskLevel>\\n        <StatusDesc>CANCEL</StatusDesc>\\n        <WorkflowInstanceId>432153</WorkflowInstanceId>\\n        <Comment>我是发布备注</Comment>\\n        <PublishTaskInfoList>\\n            <DbId>4325</DbId>\\n            <Logic>false</Logic>\\n            <PlanTime>2020-12-14 20:52:38</PlanTime>\\n            <PublishStrategy>IMMEDIATELY</PublishStrategy>\\n            <StatusDesc>NONE</StatusDesc>\\n            <TaskJobStatus>NONE</TaskJobStatus>\\n            <PublishJobList>\\n                <ExecuteCount>0</ExecuteCount>\\n                <Scripts>ALTER TABLE test_toolkit_rename_table_after_rename MODIFY COLUMN gmt_modified datetime NOT NULL</Scripts>\\n                <TableName>test_toolkit_rename_table_after_rename</TableName>\\n                <StatusDesc>NONE</StatusDesc>\\n                <TaskJobStatus>NONE</TaskJobStatus>\\n                <DBTaskGroupId>423515</DBTaskGroupId>\\n            </PublishJobList>\\n        </PublishTaskInfoList>\\n    </DDLPublishRecordList>\\n</ListDDLPublishRecordsResponse>\",\"errorExample\":\"\"}]","title":"获取结构设计工单详情"}