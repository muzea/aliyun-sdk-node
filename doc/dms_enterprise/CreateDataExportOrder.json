{"summary":"创建SQL结果集导出工单。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"ParentId","in":"query","schema":{"description":"父工单ID。","type":"integer","format":"int64","required":false,"example":"877****"}},{"name":"Comment","in":"query","schema":{"description":"业务背景，描述提工单的原因，以减少沟通成本。","type":"string","required":true,"example":"业务测试。"}},{"name":"AttachmentKey","in":"query","schema":{"description":"工单附件Key，补充当前工单信息。可通过调用接口[GetUserUploadFileJob](~~206069~~)获取该参数的值。","type":"string","required":false,"example":"order_attachment.txt"}},{"name":"RelatedUserList","in":"query","style":"json","schema":{"description":"相关人列表。","type":"array","items":{"description":"变更相关人的用户ID，非阿里云UID。设置的相关人员可查看工单，并协同工作，非相关人员则不能查看工单（管理员、DBA除外）。","type":"integer","format":"int64","required":false,"example":"2452345113****"},"required":false}},{"name":"PluginParam","in":"query","style":"json","schema":{"description":"工单参数。","type":"object","properties":{"AffectRows":{"description":"预估影响SQL行数。","type":"integer","format":"int64","required":true,"example":"1"},"Classify":{"description":"导出工单的原因类别。","type":"string","required":true,"example":"测试"},"InstanceId":{"description":"实例ID。","type":"integer","format":"int64","required":true,"example":"132****"},"DbId":{"description":"数据库ID。","type":"integer","format":"int64","required":true,"example":"18****"},"Logic":{"description":"是否为逻辑库，取值如下：\n- **true**：逻辑库\n- **false**：物理库\n\n> 如果取值为**true**，目标数据库必须为逻辑库。","type":"boolean","required":true,"example":"true"},"IgnoreAffectRows":{"description":"是否跳过SQL行数校验，返回值如下：\n- **true**\n- **false**","type":"boolean","required":true,"example":"true"},"IgnoreAffectRowsReason":{"description":"跳过SQL行数校验的原因。当您需要跳过行数校验时必须填该参数。","type":"string","required":false,"example":"仅测试，不影响业务，无需校验。"},"ExeSQL":{"description":"执行的导出SQL语句。","type":"string","required":true,"example":"SELECT * FROM DMS_test\n LIMIT 20;"},"Watermark":{"description":"水印相关信息。","type":"object","properties":{"WatermarkTypes":{"description":"水印嵌入类型。","type":"array","items":{"description":"取值如下：\n- **DATA**：数据水印。\n- **FILE**：文件水印。\n\n水印的详细信息，请参见[数据水印](~~444281~~)。","type":"string","required":false,"example":"DATA"},"required":false},"Keys":{"description":"主键或唯一键。","type":"array","items":{"description":"主键或唯一键信息，多个数据之间使用英文逗号（,）分割。","type":"string","required":false,"example":"ID"},"required":false},"ColumnName":{"description":"数据水印嵌入字段名称。","type":"string","required":false,"example":"user_number"},"DataWatermark":{"description":"数据水印信息。","type":"string","required":false,"example":"测试"},"FileWatermark":{"description":"文件水印信息。","type":"string","required":false,"example":"测试"}},"required":false}},"required":true}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"example":"3***"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID，用于定位日志，排查问题。","type":"string","example":"7FAD400F-7A5C-4193-8F9A-39D86C4F0231"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。\n","type":"string","example":"UnknownError"},"CreateOrderResult":{"type":"object","properties":{"CreateOrderResult":{"description":"创建的工单内容。","type":"array","items":{"description":"工单ID。","type":"integer","format":"int64","example":"819****"}}}},"Success":{"description":"请求是否成功，返回值如下：\n- true：请求成功\n- false：请求失败","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7FAD400F-7A5C-4193-8F9A-39D86C4F0231\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"CreateOrderResult\\\": {\\n    \\\"CreateOrderResult\\\": [\\n      0\\n    ]\\n  },\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"创建SQL结果集导出工单","description":"仅管控模式为安全协同的数据库实例可调用此API。"}