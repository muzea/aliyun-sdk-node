{"summary":"调用此API可获取结构设计工单当前所在环节、是否允许返回结构设计节点、执行发布的策略等信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"219318","abilityTreeNodes":["FEATUREdms867K9R"]},"parameters":[{"name":"OrderId","in":"query","schema":{"title":"工单号","description":"结构设计工单ID。您可调用[ListOrders](~~144643~~)接口获取该参数的值。","type":"integer","format":"int64","required":true,"example":"95****"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 鼠标移动到界面右上角的头像处，查看租户ID。具体操作，请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID，用于定位日志，排查问题。","type":"string","example":"B5FD0BC8-2D90-4478-B8EC-A0E92E0B1773"},"Success":{"description":"请求是否成功，返回值说明如下：\n- **true**：请求成功。\n- **false**：请求失败。","type":"boolean","example":"true"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码，请求异常时返回。","type":"string","example":"UnknownError"},"ProjectFlow":{"description":"结构设计流程信息。","type":"object","properties":{"FlowNodeArray":{"description":"流程节点列表。","type":"array","items":{"type":"object","properties":{"NodeRole":{"description":"流程节点角色：\n\n- START：开始。\n- DESIGN：结构设计。\n- PUBLISH：发布。\n- END：结束。","type":"string","example":"DESIGN"},"NodeTitle":{"description":"节点的标题。","type":"string","example":"设计阶段"},"Position":{"description":"流程所在环节，从1开始。","type":"integer","format":"int32","example":"1"},"PublishAnchor":{"description":"定义该节点是否为发布锚点。\n一个结构设计流程中有且仅有一个发布锚点，负责执行发布操作。发布锚点发布后，将生成发布后镜像、释放DDL元数据锁。","type":"boolean","example":"false"},"BackToDesign":{"description":"是否允许流程返回结构设计阶段，取值：\n\n- **1**：允许。\n\n- **0**：不允许，只能定义在PUBLISH（发布）节点上。","type":"boolean","example":"1"},"CanSkip":{"description":"是否允许跳过该当前节点，取值：\n\n- **1**：可以。\n- **0**：不可以，只能定义在PUBLISH（发布）节点上。","type":"boolean","example":"0"},"PublishStrategies":{"description":"提交发布可选择执行策略列表。","type":"array","items":{"description":"选择执行发布策略：\n\n- **IMMEDIATELY**：立即执行。\n- **REGULARLY**：定时执行。","type":"string","example":"IMMEDIATELY"}}}}},"CurrentPosition":{"description":"当前结构设计流程所在节点位置。","type":"integer","format":"int32","example":"2"},"RuleName":{"description":"结构设计应用的安全规则集名称。","type":"string","example":"mysql default"},"RuleComment":{"description":"结构设计应用的安全规则集描述。","type":"string","example":"mysql缺省规则集"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B5FD0BC8-2D90-4478-B8EC-A0E92E0B1773\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ProjectFlow\\\": {\\n    \\\"FlowNodeArray\\\": [\\n      {\\n        \\\"NodeRole\\\": \\\"DESIGN\\\",\\n        \\\"NodeTitle\\\": \\\"设计阶段\\\",\\n        \\\"Position\\\": 1,\\n        \\\"PublishAnchor\\\": false,\\n        \\\"BackToDesign\\\": true,\\n        \\\"CanSkip\\\": true,\\n        \\\"PublishStrategies\\\": [\\n          \\\"IMMEDIATELY\\\"\\n        ]\\n      }\\n    ],\\n    \\\"CurrentPosition\\\": 2,\\n    \\\"RuleName\\\": \\\"mysql default\\\",\\n    \\\"RuleComment\\\": \\\"mysql缺省规则集\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"获取结构设计项目流程信息"}