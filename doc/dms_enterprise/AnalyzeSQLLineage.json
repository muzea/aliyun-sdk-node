{"summary":"分析SQL语句中的表、字段之间的血缘关系（依赖和影响关系）。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DbId","in":"query","schema":{"description":"数据库ID。\n> 该参数对应[SearchDatabase](~~141876~~)、[ListDatabases](~~141873~~)、[GetDatabase](~~141869~~)等接口中的DatabaseId参数，您可以调用上述任一接口获取数据库ID。","type":"integer","format":"int64","required":true,"maximum":"9223372036854775807","minimum":"1","example":"123***"}},{"name":"SqlContent","in":"query","schema":{"description":"SQL语句。","type":"string","required":true,"example":"insert into a (id) select id from b;"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"B4B07137-F6AE-4756-8474-7F92BB6C4E04"},"Success":{"description":"请求是否成功。返回值如下：\n\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。","type":"string","example":"UnknownError"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"LineageResult":{"description":"SQL血缘关系结果集。","type":"object","properties":{"Lineages":{"description":"血缘关系详情列表。","type":"array","items":{"description":"血缘关系详情。","type":"object","properties":{"LineageType":{"description":"血缘关系类型，取值和说明如下：\n- **FIELD\\_DEPEND\\_FIELD**：字段依赖字段。\n- **TABLE\\_DEPEND\\_TABLE**：表依赖表。\n- **FIELD\\_INFLU\\_TABLE**：字段影响表。\n- **FIELD\\_INFLU\\_FIELD**：字段影响字段。\n- **TABLE\\_INFLU\\_FIELD**：表影响字段。\n- **FIELD\\_JOIN\\_FIELD**：字段关联字段。","type":"string","example":"FIELD_DEPEND_FIELD"},"Src":{"description":"来源。","type":"string","example":"dmstest.b.id"},"Dst":{"description":"目标。","type":"string","example":"dmstest.a.id"},"OperType":{"description":"操作类型，指产生血缘的位置。例如，操作类型为SELECT，则表示该血缘关系来源于SELECT语句。\n\n> 该字段为扩展字段，暂无实际用途。","type":"string","example":"SELECT"},"ProcessDetail":{"description":"处理详情。仅字段来源字段关系（FIELD\\_DEPEND\\_FIELD）会存在此参数。","type":"object","properties":{"Code":{"description":"字段加工SQL片段。","type":"string","example":"dmstest.b.id"},"CalWay":{"description":"计算方式，取值和说明如下：\n- **DIRECT**：表示未经过任何函数或者表达式加工。\n- **EXPR**：表示经过函数或者表达式加工。","type":"string","example":"DIRECT"}}}}}},"ObjectMetadata":{"description":"表和字段元数据信息。","type":"array","items":{"type":"object","properties":{"Name":{"description":"对象名称。","type":"string","example":"a"},"Type":{"description":"对象类型，取值和说明如下：\n- **TABLE**：表。\n- **VIEW**：视图。\n- **TMP_TABLE**：临时表。","type":"string","example":"TABLE"},"Source":{"description":"元数据获取来源，取值和说明如下：\n- **DDL**：来源于SQL解析或DMS采集的库表元数据定义。\n- **LINEAGE**：来源于血缘解析的结果。","type":"string","example":"DDL"},"Fields":{"description":"字段列表。","type":"array","items":{"description":"字段。","type":"object","properties":{"Name":{"description":"字段名。","type":"string","example":"dmstest.a.id"}}}}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B4B07137-F6AE-4756-8474-7F92BB6C4E04\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"LineageResult\\\": {\\n    \\\"Lineages\\\": [\\n      {\\n        \\\"LineageType\\\": \\\"FIELD_DEPEND_FIELD\\\",\\n        \\\"Src\\\": \\\"dmstest.b.id\\\",\\n        \\\"Dst\\\": \\\"dmstest.a.id\\\",\\n        \\\"OperType\\\": \\\"SELECT\\\",\\n        \\\"ProcessDetail\\\": {\\n          \\\"Code\\\": \\\"dmstest.b.id\\\",\\n          \\\"CalWay\\\": \\\"DIRECT\\\"\\n        }\\n      }\\n    ],\\n    \\\"ObjectMetadata\\\": [\\n      {\\n        \\\"Name\\\": \\\"a\\\",\\n        \\\"Type\\\": \\\"TABLE\\\",\\n        \\\"Source\\\": \\\"DDL\\\",\\n        \\\"Fields\\\": [\\n          {\\n            \\\"Name\\\": \\\"dmstest.a.id\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"分析SQL血缘","description":"您需满足如下条件，才可调用此API。\n- 数据库为：RDS MySQL、PolarDB MySQL版、AnalyticDB MySQL版、RDS PostgreSQL、PolarDB PostgreSQL版、AnalyticDB PostgreSQL版、Oracle、OpenGauss。\n- 实例的管控模式为安全协同。管控模式的详细信息，请参见[管控模式](~~151629~~)。"}