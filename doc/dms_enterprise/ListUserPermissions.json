{"summary":"调用ListUserPermissions展示指定用户所具备的库表权限。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 鼠标移动到界面右上角的头像处，查看租户ID。具体操作，请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"3***"}},{"name":"PermType","in":"query","schema":{"description":"资源权限类型，取值如下：\n\n- DATABASE： 库权限\n- TABLE：表权限\n- COLUMN：列权限\n- INSTANCE: 实例权限","type":"string","required":true,"docRequired":true,"example":"DATABASE"}},{"name":"UserId","in":"query","schema":{"description":"用户ID，可通过调用接口[GetUser](~~147098~~)或[ListUsers](~~141938~~)获取该参数的值。\n>用户ID不是用户的阿里云Uid。","type":"string","required":true,"docRequired":true,"example":"51****"}},{"name":"DatabaseName","in":"query","schema":{"description":"数据库名。","type":"string","required":false,"example":"db_name"}},{"name":"SearchKey","in":"query","schema":{"description":"搜索关键词。例如，搜索实例权限，此处可填入DMS中的实例地址，如：rm-bp144d5ky4l4r****。","type":"string","required":false,"example":"rm-bp144d5ky4l4r****"}},{"name":"Logic","in":"query","schema":{"description":"是否逻辑库，取值：\n- true：逻辑库\n- false：物理库","type":"boolean","required":false,"example":"false"}},{"name":"EnvType","in":"query","schema":{"description":"环境类型，取值如下：\n- product：生产环境\n- dev：开发环境\n- pre：预发环境\n- test：测试环境\n- sit：SIT环境\n- uat：UAT环境\n- pet：压测环境\n- stag：STAG环境","type":"string","required":false,"example":"dev"}},{"name":"DbType","in":"query","schema":{"description":"数据库类型，取值请参见[DbType参数说明](~~198106~~)。","type":"string","required":false,"example":"polardb"}},{"name":"PageNumber","in":"query","schema":{"description":"第几页。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页数据量。","type":"integer","format":"int32","required":false,"example":"5"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalCount":{"description":"满足条件记录总数。","type":"integer","format":"int64","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"C51420E3-144A-4A94-B473-8662FCF4AD10"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"UserPermissions":{"type":"object","properties":{"UserPermission":{"description":"用户权限信息列表。","type":"array","items":{"type":"object","properties":{"DbId":{"description":"库ID。","type":"string","example":"1860****"},"TableName":{"description":"表名。","type":"string","example":"test_table"},"UserId":{"description":"用户ID。","type":"string","example":"51****"},"SchemaName":{"description":"数据库名。","type":"string","example":"test_db"},"Logic":{"description":"是否逻辑库，取值：\n- true：逻辑库\n- false：物理库","type":"boolean","example":"false"},"UserNickName":{"description":"用户名。","type":"string","example":"nick_name"},"InstanceId":{"description":"实例ID。","type":"string","example":"174****"},"PermDetails":{"type":"object","properties":{"PermDetail":{"description":"权限详情。","type":"array","items":{"description":"权限详情","type":"object","properties":{"OriginFrom":{"description":"权限授予来源信息。","type":"string","example":"xxx授权"},"PermType":{"description":"权限类型，返回值如下：\n- QUERY：查询\n- EXPORT：导出\n- CORRECT：变更","type":"string","example":"QUERY"},"ExpireDate":{"description":"授权到期时间。","type":"string","example":"2020-12-12 00:00:00"},"CreateDate":{"description":"权限授予时间。","type":"string","example":"2019-12-12 00:00:00"},"UserAccessId":{"description":"授权记录ID。","type":"string","example":"758****"},"ExtraData":{"description":"额外数据，预留参数。","type":"string","example":"xxx"}}}}}},"EnvType":{"description":"数据库所属环境类型，返回值如下：\n- product：生产环境\n- dev：开发环境\n- pre：预发环境\n- test：测试环境\n- sit：SIT环境\n- uat：UAT环境\n- pet：压测环境\n- stag：STAG环境","type":"string","example":"dev"},"ColumnName":{"description":"字段名。","type":"string","example":"column_name"},"DbType":{"description":"数据库类型，返回值请参见[DbType参数说明](~~198106~~)。","type":"string","example":"polardb"},"DsType":{"description":"权限类型，取值如下：\n- DATABASE： 物理库权限\n- LOGIC_DATABASE：逻辑库权限\n- TABLE：物理表权限\n- LOGIC_TABLE：逻辑表权限","type":"string","example":"DATABASE"},"TableId":{"description":"表ID。","type":"string","example":"13434"},"SearchName":{"description":"库搜索名。","type":"string","example":"test_db@xxx:3306"},"Alias":{"description":"实例别名。","type":"string","example":"instance_alias"},"Host":{"description":"实例地址。","type":"string","example":"rm-bp144d5ky4l4r****"},"Port":{"description":"实例端口。","type":"integer","format":"int64","example":"3306"}}}}}},"Success":{"description":"请求是否成功，返回值如下：\n- true：请求成功\n- false：请求失败","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"RequestId\\\": \\\"C51420E3-144A-4A94-B473-8662FCF4AD10\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"UserPermissions\\\": {\\n    \\\"UserPermission\\\": [\\n      {\\n        \\\"DbId\\\": \\\"1860****\\\",\\n        \\\"TableName\\\": \\\"test_table\\\",\\n        \\\"UserId\\\": \\\"51****\\\",\\n        \\\"SchemaName\\\": \\\"test_db\\\",\\n        \\\"Logic\\\": false,\\n        \\\"UserNickName\\\": \\\"nick_name\\\",\\n        \\\"InstanceId\\\": \\\"174****\\\",\\n        \\\"PermDetails\\\": {\\n          \\\"PermDetail\\\": [\\n            {\\n              \\\"OriginFrom\\\": \\\"xxx授权\\\",\\n              \\\"PermType\\\": \\\"QUERY\\\",\\n              \\\"ExpireDate\\\": \\\"2020-12-12 00:00:00\\\",\\n              \\\"CreateDate\\\": \\\"2019-12-12 00:00:00\\\",\\n              \\\"UserAccessId\\\": \\\"758****\\\",\\n              \\\"ExtraData\\\": \\\"xxx\\\"\\n            }\\n          ]\\n        },\\n        \\\"EnvType\\\": \\\"dev\\\",\\n        \\\"ColumnName\\\": \\\"column_name\\\",\\n        \\\"DbType\\\": \\\"polardb\\\",\\n        \\\"DsType\\\": \\\"DATABASE\\\",\\n        \\\"TableId\\\": \\\"13434\\\",\\n        \\\"SearchName\\\": \\\"test_db@xxx:3306\\\",\\n        \\\"Alias\\\": \\\"instance_alias\\\",\\n        \\\"Host\\\": \\\"rm-bp144d5ky4l4r****\\\",\\n        \\\"Port\\\": 3306\\n      }\\n    ]\\n  },\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListUserPermissionsResponse>\\n    <TotalCount>1</TotalCount>\\n    <RequestId>C51420E3-144A-4A94-B473-8662FCF4AD10</RequestId>\\n    <ErrorCode>UnknownError</ErrorCode>\\n    <ErrorMessage>UnknownError</ErrorMessage>\\n    <UserPermissions>\\n        <DbId>1860****</DbId>\\n        <TableName>test_table</TableName>\\n        <UserId>51****</UserId>\\n        <SchemaName>test_db</SchemaName>\\n        <Logic>false</Logic>\\n        <UserNickName>nick_name</UserNickName>\\n        <InstanceId>174****</InstanceId>\\n        <PermDetails>\\n            <OriginFrom>xxx授权</OriginFrom>\\n            <PermType>QUERY</PermType>\\n            <ExpireDate>2020-12-12 00:00:00</ExpireDate>\\n            <CreateDate>2019-12-12 00:00:00</CreateDate>\\n            <UserAccessId>758****</UserAccessId>\\n            <ExtraData>xxx</ExtraData>\\n        </PermDetails>\\n        <EnvType>dev</EnvType>\\n        <ColumnName>column_name</ColumnName>\\n        <DbType>polardb</DbType>\\n        <DsType>DATABASE</DsType>\\n        <TableId>13434</TableId>\\n        <SearchName>test_db@xxx:3306</SearchName>\\n        <Alias>instance_alias</Alias>\\n        <Host>rm-bp144d5ky4l4r****</Host>\\n        <Port>3306</Port>\\n    </UserPermissions>\\n    <Success>true</Success>\\n</ListUserPermissionsResponse>\",\"errorExample\":\"\"}]","title":"查询指定用户拥有的库表权限","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}