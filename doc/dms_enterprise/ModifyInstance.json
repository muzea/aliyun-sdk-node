{"summary":"当您需要修改实例的托管模式、数据库账密、功能包等基本信息，及环境类型、实例在DMS的名称、查询和导出数据的超时时间等高级信息时，可调用该API。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"201929","abilityTreeNodes":["FEATUREdms19SL1H"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。您可调用[ListInstances](~~141936~~)或[GetInstance](~~141567~~)接口获取该参数的值。","type":"string","required":true,"example":"183****"}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自DMS控制台页面右上角头像处悬停展示的租户ID信息。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"23****\n"}},{"name":"InstanceType","in":"query","schema":{"description":"数据库类型，取值请参见[DbType参数说明](~~198106~~)。","type":"string","required":false,"docRequired":false,"example":"MySQL"}},{"name":"InstanceSource","in":"query","schema":{"description":"实例来源，取值如下：\n\n- **PUBLIC_OWN**：表示公网自建实例。\n- **RDS**：表示RDS实例。\n- **ECS_OWN**：表示ECS自建实例。\n- **VPC_IDC**：表示VPC IDC自建实例。","type":"string","required":false,"docRequired":false,"example":"RDS"}},{"name":"NetworkType","in":"query","schema":{"description":"网络类型，取值如下：\n\n- **CLASSIC**：经典网络。\n- **VPC**：VPC网络。","type":"string","required":false,"docRequired":false,"example":"VPC"}},{"name":"EnvType","in":"query","schema":{"description":"环境类型，取值如下：\n- **product**：生产环境。\n- **dev**：开发环境。\n- **pre**：预发环境。\n- **test**：测试环境。\n- **sit**：SIT环境。\n- **uat**：UAT环境。\n- **pet**：压测环境。\n- **stag**：STAG环境。","type":"string","required":false,"docRequired":false,"example":"dev"}},{"name":"EcsInstanceId","in":"query","schema":{"description":"ECS的实例ID。\n\n> 如果InstanceSource取值为ECS_OWN，此值必填。","type":"string","required":false,"example":"i-2zei9gs1t7h8l7ac****"}},{"name":"VpcId","in":"query","schema":{"description":"实例VPC ID。\n\n> 如果InstanceSource取值为VPC_IDC时，此值必填。","type":"string","required":false,"example":"vpc-bp10wnlcmor****"}},{"name":"EcsRegion","in":"query","schema":{"description":"实例所在地域。\n\n> 如果InstanceSource取值为RDS、ECS\\_OWN或VPC\\_IDC，此值必填。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"Host","in":"query","schema":{"description":"实例连接地址。","type":"string","required":false,"docRequired":false,"example":"192.XXX.0.56"}},{"name":"Port","in":"query","schema":{"description":"实例访问端口。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"3306"}},{"name":"Sid","in":"query","schema":{"description":"实例Sid。\n\n> 如果InstanceType为ORACLE，此项必填。","type":"string","required":false,"example":"testSid"}},{"name":"DatabaseUser","in":"query","schema":{"description":"数据库账号。","type":"string","required":false,"docRequired":false,"example":"testsdb\n"}},{"name":"DatabasePassword","in":"query","schema":{"description":"数据库密码。","type":"string","required":false,"docRequired":false,"example":"test***\n"}},{"name":"InstanceAlias","in":"query","schema":{"description":"实例别名，帮助用户快速区分定位该实例。","type":"string","required":false,"docRequired":false,"example":"instance_test"}},{"name":"DbaId","in":"query","schema":{"description":"实例DBA角色的用户ID，可调用接口[ListUsers](~~141938~~)或[GetInstance](~~141567~~)获取该参数的值。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"27****"}},{"name":"QueryTimeout","in":"query","schema":{"description":"查询超时时间，单位：s（秒）。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"7200"}},{"name":"ExportTimeout","in":"query","schema":{"description":"导出超时时间，单位：s（秒）。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"86400"}},{"name":"EnableSellTrust","in":"query","schema":{"title":"- Y：开启安全托管模式\n- NULL或其它：不开启安全托管模式","description":"实例是否需要开启安全托管。\n\n- Y：开启安全托管模式。\n- NULL或其它：不开启安全托管模式。","type":"string","required":false,"example":"Y"}},{"name":"EnableSellStable","in":"query","schema":{"title":"- Y：开启稳定变更\n- NULL或其它：不开启稳定变更","description":"实例是否需要开通稳定变更功能。\n\n- Y：开通。\n- NULL或其它：不开通。","type":"string","required":false,"example":"NULL"}},{"name":"EnableSellCommon","in":"query","schema":{"title":"- Y：开启安全协同\n- NULL或其它：不开启安全协同","description":"实例是否需要开通安全协同功能。\n\n- Y：开启。\n- NULL或其它：不开启。","type":"string","required":false,"example":"Y"}},{"name":"SafeRule","in":"query","schema":{"title":"仅在开启安全协同后有效，实例的安全规则集（GroupName），可通过调用接口ListStandardGroups或GetInstance获取该参数的值。","description":"若您需要开通安全协同功能包，则需要为该实例设置安全规则集（GroupName）。您可调用[ListStandardGroups](~~465940~~)或[GetInstance](~~465826~~)接口获取该参数的值。","type":"string","required":false,"docRequired":false,"example":"金融线-生产"}},{"name":"EnableSellSitd","in":"query","schema":{"title":"- Y：开启敏感数据保护\n- NULL或其它：不开启敏感数据保护","description":"是否需要为该实例开启敏感数据保护功能。\n- Y：开启敏感数据保护。\n- NULL或其它：不开启敏感数据保护。","type":"string","required":false,"example":"Y"}},{"name":"DataLinkName","in":"query","schema":{"description":"输入跨库查询datalink名称。\n\n> - 如果UseDsql取值为1，此值必填。\n> - DBLink名称只能使用小写字母和下划线（_）。\n>- DBLink名称需要在租户内保持全局唯一性。","type":"string","required":false,"example":"dblink_test"}},{"name":"DdlOnline","in":"query","schema":{"description":"是否开启结构变更优先，取值如下：\n- **0** ：不使用。\n- **1** ：原生Online DDL优先。\n- **2** ：DMS无锁表结构变更优先。\n\n> 支持的数据库类型：RDS MySQL、PolarDB MySQL引擎、MyBase MySQL、其他来源MySQL。","type":"integer","format":"int32","required":false,"example":"2","enum":["0","1","2"]}},{"name":"UseDsql","in":"query","schema":{"description":"是否启用跨实例查询，取值如下：\n- **0**：不开启。\n- **1**：开启。\n\n> 支持的数据库类型：MySQL、SQL Server、PostgreSQL、PolarDB O引擎、Redis。","type":"integer","format":"int32","required":false,"example":"1","enum":["0","1"]}},{"name":"SkipTest","in":"query","schema":{"description":"实例是否忽略测试连通性。取值如下：\n- **true**：忽略。\n- **false**：不忽略。","type":"boolean","required":false,"docRequired":false,"example":"false"}},{"name":"TemplateId","in":"query","schema":{"title":"分类分级模板ID，可从ListClassificationTemplates获取","description":"分类分级模板ID。您可调用[ListClassificationTemplates](~~465947~~)接口获取该参数的值。","type":"integer","format":"int64","required":false,"example":"31***"}},{"name":"TemplateType","in":"query","schema":{"title":"分类分级模板类型，可从ListClassificationTemplates获取","description":"分类分级模板类型。您可调用[ListClassificationTemplates](~~465947~~)获取该参数的值。","type":"string","required":false,"example":"INNER"}},{"name":"UseSsl","in":"query","schema":{"title":"","description":"选择是否开启SSL连接，开启后，DMS将通过SSL连接到数据库。使用该参数的前提是数据库已开启SSL连接，当前支持如下选项：\n\n- **0**：默认值（DMS与数据库服务自动协商是否开启）系统将自动识别目标数据库是否已开启SSL连接，若数据库已开启SSL连接，则DMS将通过SSL连接数据库；若数据库未开启SSL连接，则通过普通方式进行连接。\n- **1**：开启SSL连接。若数据库未开启SSL连接，则该参数无效。\n- **-1**：关闭SSL连接。\n\n> - 该配置项仅在数据库为MySQL或Redis时出现。\n> - SSL（Secure Sockets Layer）能在传输层对网络连接进行加密，提升通信数据的安全性和完整性，但会增加网络连接响应时间。","type":"integer","format":"int32","required":false,"maximum":"1","minimum":"-1","example":"0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求的ID。用于定位日志，排查问题。","type":"string","example":"0C1CB646-1DE4-4AD0-B4A4-7D47DD52E931"},"ErrorCode":{"description":"错误码。\n\n","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"UnknownError"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功。\n- **false**：请求失败。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0C1CB646-1DE4-4AD0-B4A4-7D47DD52E931\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"修改实例信息"}