{"summary":"获取SQL审核工单的SQL详情结果。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"OrderId","in":"query","schema":{"description":"SQL审核工单号。您可以调用[CreateSQLReviewOrder](~~257777~~)接口获取该参数。","type":"integer","format":"int64","required":true,"maximum":"9223372036854775807","exclusiveMaximum":false,"minimum":"1","example":"903****"}},{"name":"OrderActionDetail","in":"query","style":"json","schema":{"description":"工单参数（过滤条件）。","type":"object","properties":{"FileId":{"description":"审核文件ID。","type":"integer","format":"int64","required":false,"example":"85****"},"SQLReviewResult":{"description":"SQL审核优化建议。取值如下：\n- **MUST_IMPROVE**：必须改进。\n- **POTENTIAL_ISSUE**：潜在问题。\n- **SUGGEST_IMPROVE**：建议改进。\n- **USE_DMS_TOOLKIT**：使用无锁结构变更。\n- **USE_DMS_DML_UNLOCK**：使用无锁数据变更。\n- **TABLE_INDEX_SUGGEST**：索引推荐。","type":"string","required":false,"example":"MUST_IMPROVE","enum":["MUST_IMPROVE","POTENTIAL_ISSUE","SUGGEST_IMPROVE","USE_DMS_TOOLKIT","USE_DMS_DML_UNLOCK","TABLE_INDEX_SUGGEST"]},"CheckStatusResult":{"description":"检测结果。取值及说明如下：\n- **new**：等待分析。\n- **unknown**：解析异常。\n- **check_not_pass**：检测不通过。\n- **check_pass**：检测通过。\n- **force_pass**：人工通过。\n- **force_not_pass**：人工不通过。","type":"string","required":false,"example":"check_not_pass","enum":["new","unknown","check_not_pass","check_pass","force_pass","force_not_pass"]},"Page":{"description":"分页参数。","type":"object","properties":{"PageNumber":{"description":"从第几页开始。","type":"integer","format":"int32","required":false,"example":"1","default":"1"},"PageSize":{"description":"每页数据量。","type":"integer","format":"int32","required":false,"maximum":"500","example":"20","default":"20"}},"required":false}},"required":false}},{"name":"Tid","in":"query","schema":{"description":"租户ID。您可以调用[GetUserActiveTenant](~~198073~~)或[ListUserTenants](~~198074~~)接口获取该参数。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"233***"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID，用于定位日志，排查问题。\n","type":"string","example":"0A00863F-6366-5583-9B96-891DC8D8F88A"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"调用API失败时，返回的错误信息。","type":"string","example":"UnknownError"},"Success":{"description":"请求是否成功。返回值及说明如下：\n\n- true：请求成功。\n- false：请求失败。","type":"boolean","example":"true"},"TotalCount":{"description":"文件中所包含的SQL条数。","type":"integer","format":"int32","example":"1"},"OriginSQLList":{"description":"解析的SQL列表。","type":"array","items":{"description":"单条SQL详情。","type":"object","properties":{"SQLId":{"description":"SQL语句ID。","type":"integer","format":"int64","example":"1111"},"FileId":{"description":"文件ID。","type":"integer","format":"int64","example":"858***"},"FileName":{"description":"文件名。","type":"string","example":"test.sql"},"SQLContent":{"description":"文件中的SQL内容。","type":"string","example":"CREATE TABLE `test_sql_review_table` (\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n  `gmt_create` datetime NOT NULL,\n  `name` varchar(256) DEFAULT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;"},"CheckStatus":{"description":"检测结果。返回值及说明如下：\n- **new**：等待分析。\n- **unknown**：解析异常。\n- **check_not_pass**：检测不通过。\n- **check_pass**：检测通过。\n- **force_pass**：人工通过。\n- **force_not_pass**：人工不通过。","type":"string","example":"check_pass"},"StatusDesc":{"description":"检测结果描述。","type":"string","example":"检测通过"},"CheckedTime":{"description":"SQL检测时间。","type":"string","example":"2021-06-09 21:07:00"},"SqlHash":{"description":"对SQL内容进行MD5散列算法后得到的值。","type":"string","example":"c7992dc1b681c6733894aded7834f423"},"ReviewSummary":{"description":"SQL审核优化建议的统计信息（JSON字符串）。返回值及说明如下：\n- **MUST_IMPROVE**：必须改进。\n- **POTENTIAL_ISSUE**：潜在问题。\n- **SUGGEST_IMPROVE**：建议改进。\n- **USEDMSTOOLKIT**：使用无锁结构变更。\n- **USEDMSDML_UNLOCK**：使用无锁数据变更。\n- **TABLEINDEXSUGGEST**：索引推荐。","type":"string","example":"{\\\"SUGGEST_IMPROVE\\\":2,\\\"POTENTIAL_ISSUE\\\":1}"},"SQLReviewQueryKey":{"description":"查询SQL审核优化建议信息的Key。根据此Key调用[GetSQLReviewOptimizeDetail](~~465919~~)接口获取详情。","type":"string","example":"6e9a4bc6867a4174a96b23c8b48b****"},"SQLName":{"description":"SQL名称。","type":"string","example":"getByPk"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0A00863F-6366-5583-9B96-891DC8D8F88A\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"Success\\\": true,\\n  \\\"TotalCount\\\": 1,\\n  \\\"OriginSQLList\\\": [\\n    {\\n      \\\"SQLId\\\": 1111,\\n      \\\"FileId\\\": 0,\\n      \\\"FileName\\\": \\\"test.sql\\\",\\n      \\\"SQLContent\\\": \\\"CREATE TABLE `test_sql_review_table` (\\\\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\\\\n  `gmt_create` datetime NOT NULL,\\\\n  `name` varchar(256) DEFAULT NULL\\\\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\\\",\\n      \\\"CheckStatus\\\": \\\"check_pass\\\",\\n      \\\"StatusDesc\\\": \\\"检测通过\\\",\\n      \\\"CheckedTime\\\": \\\"2021-06-09 21:07:00\\\",\\n      \\\"SqlHash\\\": \\\"c7992dc1b681c6733894aded7834f423\\\",\\n      \\\"ReviewSummary\\\": \\\"{\\\\\\\\\\\\\\\"SUGGEST_IMPROVE\\\\\\\\\\\\\\\":2,\\\\\\\\\\\\\\\"POTENTIAL_ISSUE\\\\\\\\\\\\\\\":1}\\\",\\n      \\\"SQLReviewQueryKey\\\": \\\"6e9a4bc6867a4174a96b23c8b48b****\\\",\\n      \\\"SQLName\\\": \\\"getByPk\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListSQLReviewOriginSQLResponse>\\n    <RequestId>0C1CB646-1DE4-4AD0-B4A4-7D47DD52E931</RequestId>\\n    <ErrorCode>UnknownError</ErrorCode>\\n    <ErrorMessage>UnknownError</ErrorMessage>\\n    <Success>true</Success>\\n    <TotalCount>10</TotalCount>\\n    <OriginSQLList>\\n        <SQLId>1111</SQLId>\\n        <FileId>123321</FileId>\\n        <FileName>test.sql</FileName>\\n        <SQLContent>select id from table_name</SQLContent>\\n        <CheckStatus>check_pass</CheckStatus>\\n        <StatusDesc>检测通过</StatusDesc>\\n        <CheckedTime>2021-06-09 21:07:00</CheckedTime>\\n        <SqlHash>95adb6e77a0884d9e50232cb8c5c969d</SqlHash>\\n        <ReviewSummary>{\\\"POTENTIAL_ISSUE\\\":1,\\\"SUGGEST_IMPROVE\\\":1}</ReviewSummary>\\n        <SQLReviewQueryKey>a57e54ec5433475ea3082d882fdb89c5</SQLReviewQueryKey>\\n        <SQLName>getByPk</SQLName>\\n    </OriginSQLList>\\n</ListSQLReviewOriginSQLResponse>\",\"errorExample\":\"\"}]","title":"获取SQL审核工单的SQL详情","description":"SQL审核功能的更多信息，请参见[SQL审核](~~60374~~)。"}