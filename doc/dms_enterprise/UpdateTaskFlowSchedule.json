{"summary":"调用UpdateTaskFlowSchedule接口，更新任务流调度配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"145506","abilityTreeNodes":["FEATUREdmsXSH6IQ"]},"parameters":[{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 鼠标移动到界面右上角的头像处，查看租户ID。具体操作，请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"maximum":"9223372036854775807","minimum":"1","example":"3***"}},{"name":"DagId","in":"query","schema":{"description":"任务流ID，任务流的唯一标识。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"7***"}},{"name":"ScheduleSwitch","in":"query","schema":{"description":"是否开启调度。\n\n- **true**\n- **false**","type":"boolean","required":true,"docRequired":true,"example":"false"}},{"name":"CronBeginDate","in":"query","schema":{"description":"此时间点之前任务流不进行调度。","type":"string","required":false,"example":"CronBeginDate_test"}},{"name":"CronEndDate","in":"query","schema":{"description":"定时调度结束时间，此时间点之后任务流不进行调度。","type":"string","required":false,"example":"CronEndDate_test"}},{"name":"ScheduleParam","in":"query","schema":{"description":"事件调度配置，JSON字符串格式。","type":"string","required":true,"docRequired":true,"example":"ScheduleParam_test"}},{"name":"CronStr","in":"query","schema":{"description":"定时调度Cron。","type":"string","required":false,"example":"CronStr_test"}},{"name":"TriggerType","in":"query","schema":{"description":"触发类型，取值如下：\n- **Cron**：定时调度\n- **Event**：事件触发","type":"string","required":true,"docRequired":true,"example":"Event"}},{"name":"CronType","in":"query","schema":{"description":"调度周期类型。取值如下：\n- **HOUR**：小时级调度\n- **DAY**：日级调度\n- **WEEK**: 周级调度\n- **MONTH**：月级调度","type":"string","required":false,"docRequired":false,"example":"HOUR"}},{"name":"TimeZoneId","in":"query","schema":{"description":"时区设置，默认为东八区（Asia/Shanghai）。","type":"string","required":false,"example":"Asia/Shanghai"}}],"responses":{"200":{"schema":{"description":"返回参数详情如下。","type":"object","properties":{"RequestId":{"description":"请求ID，用于定位日志，排查问题。","type":"string","example":"7BF38A13-C181-5B5E-97F1-8643F8A10093"},"ErrorCode":{"description":"错误码。","type":"string","example":"InvalidParameterValid"},"ErrorMessage":{"description":"调用失败时，返回的错误信息。\n","type":"string","example":"InvalidParameterValid"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7BF38A13-C181-5B5E-97F1-8643F8A10093\\\",\\n  \\\"ErrorCode\\\": \\\"InvalidParameterValid\\\",\\n  \\\"ErrorMessage\\\": \\\"InvalidParameterValid\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateTaskFlowScheduleResponse>\\n    <RequestId>7BF38A13-C181-5B5E-97F1-8643F8A10093</RequestId>\\n    <ErrorCode>InvalidParameterValid</ErrorCode>\\n    <ErrorMessage>InvalidParameterValid</ErrorMessage>\\n    <Success>true</Success>\\n</UpdateTaskFlowScheduleResponse>\",\"errorExample\":\"\"}]","title":"更新任务流调度配置","description":"该接口用于更新编辑态任务流的调度设置。可配置**定时调度**、**周期调度**、**事件调度**；其中**定时调度**可配置调度一次或周期调度，**事件调度**可配置的订阅包括任务流和任务流节点。  \n配置更新后，将任务流重新发布并部署，新的任务流实例将按照配置的调度设置进行调度。","requestParamsDescription":"### 调度配置相关参数说明\n\n配置定时调度：可配置周期调度或调度一次。\n\n必填参数如下：\n- ScheduleSwitch：True\n- TriggerType：Cron\n- CronBeginDate\n- CronEndDate\n- CronStr\n- CronType\n- ScheduleParam：分为按天、周、月、调度一次。\n\n示例如下：\n\n**按“天”调度：**\n```json\n{\n    \"triggerType\":\"0\",\n    \"dateTime\":\"00:00\"\n}\n```\n**按“周”调度**：周日为1，周一为2，…，周六为7。\n```json\n{\n    \"triggerType\":\"0\",\n    \"dateWeek\":[\n        \"1\",\n        \"5\"\n    ],\n    \"weekTime\":\"00:00\"\n}\n```\n**按“月”调度：**\n```json\n{\n    \"triggerType\":\"0\",\n    \"dateMonth\":\"1\",\n    \"MonthTime\":\"00:00\"\n}\n```\n**调度一次：**\n```json\n{\n    \"triggerType\":\"1\",\n    \"specificTime\":\"2022-09-02 00:00\"\n}\n```\n**参数说明**\n\n1. CronStr：任务流实际调度以CronStr指定为准。\n2. CronBeginDate和CronEndDate：周期调度时，CronBeginDate、CronEndDate及CronStr共同定义了任务流调度。若CronStr指定的时间点在CronBeginDate、CronEndDate的时间范围内，任务将被触发。\n3. CronType：验证使用，按照CronStr定义的周期填写。\n4. ScheduleParam：需按照CronStr指定的调度填写。\n\n**配置事件调度**（跨任务流自动触发）\n\n必填参数如下：\n- ScheduleSwitch：True\n- TriggerType： Event\n- ScheduleParam\n\n示例如下：\n```json\n{\n    \"triggerType\":\"2\" // 事件调度时置为2\n    \"deps\":[ // 任务流、节点订阅配置\n        {\n            \"eventType\":1, // 订阅类型: 0为任务流; 1为任务节点\n            \"lisDagId\":12345, // 订阅节点所在的任务流\n            \"lisNodeId\":2134 // 订阅节点的Id\n        },\n        {\n            \"eventType\":0,\n            \"lisDagId\":12343 // 订阅任务流的Id\n        },\n        {\n            \"eventType\":0,\n            \"lisDagId\":23456\n        }\n    ],\n    \"maxWait\":21600 // 在所有以上订阅运行成功前，最大等待时间\n}\n```"}