{"summary":"创建数据库导出工单。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"ParentId","in":"query","schema":{"description":"父工单ID。","type":"integer","format":"int64","required":false,"example":" 877****"}},{"name":"Comment","in":"query","schema":{"description":"业务背景，描述提工单的原因，以减少沟通成本。","type":"string","required":true,"example":"文档测试"}},{"name":"AttachmentKey","in":"query","schema":{"description":"工单附件Key，补充当前工单信息。可通过调用接口[GetUserUploadFileJob](~~206069~~)获取该参数的值。","type":"string","required":false,"example":"order_attachment.txt"}},{"name":"PluginParam","in":"query","style":"json","schema":{"description":"工单参数。","type":"object","properties":{"Classify":{"description":"导出原因。","type":"string","required":true,"example":"文档测试"},"DbId":{"description":"数据库ID。您可通过调用[GetDatabase](~~465856~~)获取该参数的值。","type":"integer","format":"int64","required":true,"example":"17****"},"InstanceId":{"description":"实例ID。您可通过调用[GetInstance](~~465826~~)接口获取该参数的值。","type":"integer","format":"int64","required":true,"example":"137****"},"Logic":{"description":"是否为逻辑库，取值如下：\n- **true**：是\n- **false**：否","type":"boolean","required":true,"example":"false"},"Config":{"description":"导出配置。","type":"object","properties":{"SQLExtOption":{"description":"SQL脚本拓展选项。列表长度可为0。","type":"array","items":{"description":"选项列表：\n\n- **DROP**：在CREATE语句前生成DROP TABLE语句。\n- **TRUNCATE**：在INSERT语句前生成TRUNCATE TABLE语句。\n- **COMPRESS**：压缩INSERT语句，将VALUES合并为5 M大小。","type":"string","required":false,"example":"DROP"},"required":true},"DataOption":{"description":"大数据导出选项，用于筛选需要导出哪些大数据类型。列表长度可为0。","type":"array","items":{"description":"导出选项：\n\n- **BLOB**：导出BLOG、TINYBLOB等类型。\n- **TEXT**：导出TEXT、TNIYTEXT等类型。\n- **BINARY**：导出BINARY、VARBINARY等类型。","type":"string","required":false,"example":"BLOB"},"required":true},"ExportContent":{"description":"导出内容。取值如下：\n\n- **DATA**：数据。\n- **STRUCT**：结构。\n- **DATA_STRUCT**：数据和结构。","type":"string","required":true,"example":"DATA"},"ExportTypes":{"description":"导出结构类型。","type":"array","items":{"description":"取值如下（可多选）：\n\n- **PROCEDURE**：存储过程。\n- **FUNCTION**：函数。\n- **TRIGGER**：触发器。\n- **VIEW**：视图。\n- **EVENT**：事件。","type":"string","required":false,"example":"PROCEDURE"},"required":false},"SelectedTables":{"description":"导出的表列表。","type":"array","items":{"description":"选中导出哪些表。","type":"string","required":false,"example":"dmstest_table"},"required":false},"Tables":{"description":"导出表过滤条件。","type":"object","required":false,"additionalProperties":{"type":"string","description":"过滤条件。","example":"where 1=1"}},"TargetOption":{"description":"导出格式。取值如下：\n\n- **SQL**\n- **CSV**\n- **XLSX**","type":"string","required":true,"example":"SQL"}},"required":true},"SearchName":{"description":"数据库搜索名称。","type":"string","required":true,"example":"test@xxx.xxx.xxx.xxx:3306"}},"required":true}},{"name":"RelatedUserList","in":"query","style":"json","schema":{"description":"相关人列表。","type":"array","items":{"description":"变更相关人的用户ID。设置的相关人员可查看工单，并协同工作，非相关人员则不能查看工单（管理员、DBA除外）。","type":"integer","format":"int64","required":false,"example":"2452345113****"},"required":false}},{"name":"Tid","in":"query","schema":{"description":"租户ID。\n> 取自系统右上角头像处悬停展示的租户ID信息，详情请参见[查看租户信息](~~181330~~)。","type":"integer","format":"int64","required":false,"example":"3***"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID，用于定位日志，排查问题。","type":"string","example":"0C1CB646-1DE4-4AD0-B4A4-7D47DD52E931"},"ErrorCode":{"description":"错误码。","type":"string","example":"UnknownError"},"ErrorMessage":{"description":"调用失败时，返回的出错信息。","type":"string","example":"UnknownError"},"CreateOrderResult":{"type":"object","properties":{"CreateOrderResult":{"description":"创建的工单包含的信息。","type":"array","items":{"description":"工单ID。","type":"integer","format":"int64","example":"12***"}}}},"Success":{"description":"请求是否成功，返回值如下：\n- true：请求成功\n- false：请求失败","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0C1CB646-1DE4-4AD0-B4A4-7D47DD52E931\\\",\\n  \\\"ErrorCode\\\": \\\"UnknownError\\\",\\n  \\\"ErrorMessage\\\": \\\"UnknownError\\\",\\n  \\\"CreateOrderResult\\\": {\\n    \\\"CreateOrderResult\\\": [\\n      0\\n    ]\\n  },\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"创建数据库导出工单","description":"仅管控模式为安全协同的数据库实例可调用此API。"}