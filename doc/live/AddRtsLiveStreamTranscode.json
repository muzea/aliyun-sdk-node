{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"Domain","in":"query","schema":{"description":"主播流域名。","type":"string","required":true,"example":"example.com"}},{"name":"App","in":"query","schema":{"description":"播流所属应用名称。取值要求：\n\n- 该字段必须由大小写字母、数字、下划线（_）或短横线（-）组成。\n\n- 这些字符不必全含，建议取值大于3个字符，且字段的开头必须是字母（大小写）或数字。","type":"string","required":true,"example":"aliyun-test"}},{"name":"Template","in":"query","schema":{"description":"转码模板自定义名称。取值要求：\n\n- 该字段必须由大小写字母、数字、下划线（_）或短横线（-）组成。\n\n- 这些字符不必全含，建议取值大于3个字符，且字段的开头必须是字母（大小写）或数字。\n\n>不能与标准的转码模板命名重复。","type":"string","required":true,"example":"ld"}},{"name":"TemplateType","in":"query","schema":{"description":"自定义转码模版类型。目前支持：\n\n如果选择h264或h264-nbhd或h264-origin类型，必须同时设置请求参数Height，Width，FPS，VideoBitrate和DeleteBframes。\n\n- **h264**：自定义H264标准模版。\n- **h264-nbhd**：自定义H264窄带高清™模版。\n- **h264-origin**：原画H264标准模版，转码参数尽量保持和片源相同。\n- **audio**：纯音频转码模板，转码出来文件只有声音没有图像。如果选择audio类型，必须同时设置请求参数AudioBitrate。","type":"string","required":true,"example":"h264"}},{"name":"Height","in":"query","schema":{"description":"转码视频高度。单位：像素。取值：\n><notice>当TemplateType（自定义转码模版类型）设为h264或h264-nbhd或h264-origin时，本参数必填。\n></notice>\n\n需要**同时**满足如下三个条件：\n\n- **Height ≥ 100**：视频的高需要不小于100像素。\n- **max（Height,Width）≤ 2560**：视频的宽、高中较大的一个最大不能大于2560。\n- **min（Height,Width）≤ 1440**：视频的宽、高中较小的一个最大不能大于1440。\n\n例如：1560×1560（正方形视频）是不合法的。\n\n>原画模板由于需要保持片源的信息，分辨率最高支持到4K。\n","type":"integer","format":"int32","required":false,"example":"1280"}},{"name":"Width","in":"query","schema":{"description":"转码视频宽度。单位：像素。取值：\n><notice>当TemplateType（自定义转码模版类型）设为h264或h264-nbhd或h264-origin时，本参数必填。\n></notice>\n\n需要同时满足如下三个条件：\n\n- **Width≥ 100**：视频的宽需要不小于100像素。\n- **max（Height,Width）≤ 2560**：视频的宽、高中较大的一个最大不能大于2560。\n- **min（Height,Width）≤ 1440**：视频的宽、高中较小的一个最大不能大于1440。\n\n例如：1560×1560（正方形视频）是不合法的。\n\n>原画模板由于需要保持片源的信息，分辨率最高支持到4K。\n","type":"integer","format":"int32","required":false,"example":"720"}},{"name":"FPS","in":"query","schema":{"description":"转码视频帧率。单位：FPS。取值：**1**~**60**。\n\n><notice>当TemplateType（自定义转码模版类型）设为h264或h264-nbhd或h264-origin时，本参数必填。\n></notice>","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"VideoBitrate","in":"query","schema":{"description":"转码视频比特率。单位：kbps。取值：**1**~**6000**。\n\n><notice>当TemplateType（自定义转码模版类型）设为h264或h264-nbhd或h264-origin时，本参数必填。\n></notice>\n\n>转码视频会尽量接近您所设定的比特率，但转码视频的实际比特率不能保证和您所设定的完全一致，尤其是当您设定的比特率过大或过小时。\n\n","type":"integer","format":"int32","required":false,"example":"2000"}},{"name":"AudioBitrate","in":"query","schema":{"description":"转码音频比特率。\n单位：kbps。取值：**1**~**1000**。\n\n><notice>当TemplateType（自定义转码模版类型）设为audio时，本参数必填。\n></notice>\n","type":"integer","format":"int32","required":false,"example":"128"}},{"name":"Gop","in":"query","schema":{"description":"视频GOP（Group of Picture）。主要用于控制关键帧间隔。单位：秒。取值：**1**~**3**。","type":"string","required":false,"example":"2"}},{"name":"DeleteBframes","in":"query","schema":{"description":"是否使用B帧进行转码。取值：\n><notice>当TemplateType（自定义转码模版类型）设为h264或h264-nbhd或h264-origin时，本参数必填。\n></notice>\n\n- **true**：转码后的视频无B帧。\n\n- **false**：包含B帧，默认包含B帧。\n\n>  不传参数时默认为**false**。\n","type":"boolean","required":false,"example":"false"}},{"name":"Opus","in":"query","schema":{"description":"音频转码是否使用opus进行转码（主要用户兼容原生webrtc问题）。取值：\n\n- **true**：音频转码为opus格式。\n\n- **false**：不使用opus格式转码。\n\n> 不传参数时默认为**false**。","type":"boolean","required":false,"example":"true"}},{"name":"Profile","in":"query","schema":{"description":"编码级别。视频支持的一组特定的编码功能，一般值越大得到的画面质量越好，同时编解码消耗的资源也越高。取值：\n- **1**：baseline（适合移动设备）。\n- **2**：main（适合标准分辨率设备）。\n- **3**：high（适合高分辨率设备）。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"AudioProfile","in":"query","schema":{"description":"音频编码级别。取值： \n- **aac_low**。\n- **aac_he**。\n- **aac_he_v2**。\n- **aac_ld**。\n","type":"string","required":false,"example":"aac_low"}},{"name":"AudioCodec","in":"query","schema":{"description":"音频编码器。取值：\n- **aac**。\n- **mp3**。\n\n>如果要使用opus编码，把Opus选项参数置为true即可。","type":"string","required":false,"example":"aac"}},{"name":"AudioRate","in":"query","schema":{"description":"音频采样率。取值：**22050~96000**，其中44100比较常用。单位：Hz。\n\n>如果音频编码AudioProfile是aac_ld，则采样率不能超过44100。","type":"integer","format":"int32","required":false,"example":"44100"}},{"name":"AudioChannelNum","in":"query","schema":{"description":"音频声道数。取值：\n- **1** ：单声道。\n- **2**：立体声。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Lazy","in":"query","schema":{"description":"是否开启强制转码。取值：\n- **yes**：延迟转码。\n- **no**：强制转码。","type":"string","required":false,"example":"no"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"16A96B9A-F203-4EC5-8E43-CB92E68F4CD8"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameters","errorMessage":"%s"},{"errorCode":"ConfigAlreadyExists","errorMessage":"%s"},{"errorCode":"TemplateLimit","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"16A96B9A-F203-4EC5-8E43-CB92E68F4CD8\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddLiveStreamTranscodeResponse>\\r\\n    <RequestId>16A96B9A-F203-4EC5-8E43-CB92E68F4CD8</RequestId>\\r\\n</AddLiveStreamTranscodeResponse>\",\"errorExample\":\"\"}]","title":"添加RTS自定义转码配置信息","summary":"调用AddRtsLiveStreamTranscode添加RTS自定义转码配置信息。","description":"## 使用说明\n调用本接口添加RTS自定义转码配置信息，本接口目前只支持h264、h264-nbhd、h264-origin、audio四种自定义转码模版类型。\n\n## QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"### 特殊错误码\n|错误代码|描述|HTTP 状态码|语义|\n|--------|--------|----|----|\n|InvalidDomain.NotFound|The domain provided does not exist in our records.|404|域名不存在或不属于当前用户。|\n|IllegalOperation|Illegal domain operate is not permitted.|403|不支持当前操作，如：非直播类域名。|\n|InvalidParameters|Invalid parameters.|400|参数不合法，如高度过大、比特率过大等。|\n|ConfigAlreadyExists|Config has already exist.|400|配置已添加。|\n|InternalError|The request processing has failed due to some unknown error.|500|后台发生未知错误。|"}