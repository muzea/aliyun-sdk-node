{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update"},"parameters":[{"name":"MonitorId","in":"query","schema":{"description":"监播室ID。\n>通过查看[CreateLiveStreamMonitor](~~352011~~)接口的返回参数获取MonitorId值。","type":"string","required":true,"example":"445409ec-7eaa-461d-8f29-4bec2eb9****"}},{"name":"MonitorName","in":"query","schema":{"description":"监播室名称。","type":"string","required":false,"example":"liveMonitor****"}},{"name":"Domain","in":"query","schema":{"description":"监播输出域名。","type":"string","required":false,"example":"demo.aliyundoc.com"}},{"name":"App","in":"query","schema":{"description":"监播输出流的App。\n名称可自取，不传默认用**monitor**作为AppName名称。","type":"string","required":false,"example":"monitor****"}},{"name":"Stream","in":"query","schema":{"description":"监播输出流名。","type":"string","required":false,"example":"monitorStream****"}},{"name":"OutputTemplate","in":"query","schema":{"description":"监播输出模版。类型取值：\n\n- **lp_ld**：流畅。\n- **lp_sd**：标清。\n- **lp_hd**：高清。\n- **lp_ud**：超清。","type":"string","required":false,"example":"lp_ud"}},{"name":"InputList","in":"query","schema":{"description":"监控流输入列表。具体内容，请参考下表**InputConfig**。","type":"string","required":false,"example":"InputConfig"}},{"name":"MonitorConfig","in":"query","schema":{"description":"监播告警阈值设置，JSON格式，具体内容，请参考下表MonitorConfig。","type":"string","required":false,"example":"\"{\\\"fpsLowThres\\\": 0.6,\\\"brLowThres\\\": 1.1,\\\"eofDurationThresSec\\\": 10}\""}},{"name":"CallbackUrl","in":"query","schema":{"description":"支持输入HTTP(S)格式的回调地址。","type":"string","required":false,"example":"http://guide.aliyundoc.com/notify"}},{"name":"DingTalkWebHookUrl","in":"query","schema":{"description":"监播钉钉告警通过钉群机器人进行告警信息的通知，请先设置钉群机器人，并在此输入机器人的HTTP(S)地址。详情请参见[自定义机器人接入](https://open.dingtalk.com/document/robots/custom-robot-access)。\n\n> 配置钉群机器人自定义关键词为“告警”，否则消息无法接收。","type":"string","required":false,"example":"https://oapi.dingtalk.com/robot/send?access_token=7a7d404056eee1f2fd944ace9bcfc361dc6448583e1d3d3baa****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"5c6a2a0d-f228-4a64-af62-20e91b9676b3"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidUserId.Malformed","errorMessage":"%s"},{"errorCode":"InvalidParameter.Malformed","errorMessage":"%s"},{"errorCode":"MissingParameter","errorMessage":"%s"},{"errorCode":"InvalidMonitorId.Malformed","errorMessage":"%s"}],"401":[{"errorCode":"IllegalOperation","errorMessage":"%s"}],"404":[{"errorCode":"InvalidDomainName.NotFound","errorMessage":"%s"},{"errorCode":"StreamMonitorNotExist","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"5c6a2a0d-f228-4a64-af62-20e91b9676b3\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateLiveStreamMonitorResponse>\\r\\n<RequestId>5c6a2a0d-f228-4a64-af62-20e91b9676b3</RequestId>\\r\\n</UpdateLiveStreamMonitorResponse>\",\"errorExample\":\"\"}]","title":"更新监播室","summary":"调用UpdateLiveStreamMonitor更新监播室配置。","description":"## 使用说明\n此接口针对监播室配置进行更新，监播室在启动状态下对输入源配置更新可实时生效。\n\n## QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":"**InputConfig**\n|名称|类型|描述|示例值|\n|----|----|------|-----|\n|Index|Integer|索引，前端使用。|1|\n|LayoutId|Integer|布局ID，必须从1开始。|1|\n|StreamName|String|监播流的显示名称。|monitorStream****|\n|InputUrl|String|输入流地址。|demo.aliyundoc.com|\n|LayoutConfig|LayoutConfig|布局信息。|参考下表**LayoutConfig**|\n|PlayConfig|PlayConfig|播放配置。|参考下表**PlayConfig**|\n\n**LayoutConfig**\n|名称|类型|描述|示例值|\n|----|----|------|-----|\n|FillMode|String|填充类型，前端填none即可。|none|\n|PositionRefer|String|设置元素的position参考坐标值，取值：TopLeft（左上），TopRight（右上），BottomLeft（左下），BottomRight（右下）。|TopLeft|\n|PositionNormalized|Float|表示该Layer元素填充区位置归一化值[x,y]。<br>x和y的取值范围为0~1。<br>例如[0.1,0.1] 代表左上角水平偏移10%, 垂直偏移10%。|[0.1, 0.1]|\n|SizeNormalized|Float|表示该Layer元素需要填充的尺寸大小[w,h]。<br> w和h取值范围为0~1，宽高都是进行了归一化计算。<br>例如 [0.2,0.3]代表水平占比20%，垂直占比30%。|[0.2, 0.3]|\n\n**PlayConfig**\n|名称|类型|描述|示例值|\n|----|----|------|-----|\n|VolumeRate|Float|音量。取值0~1之间，精确小数点后2位。|0.50|\n\n**MonitorConfig**\n|名称|类型|描述|示例值|\n|----|----|------|-----|\n|fpsLowThres|Float|视频帧率告警阈值。此阈值为比例系数，取值范围（0.0,1.0]，默认值0.7。当监播流的视频帧率＜帧率告警阈值*直播流原始帧率，则会报警。|0.7|\n|brHighThres|Float|音视频码率告警阈值。此阈值为比例系数，取值范围（0.0,100]，默认值1.0。当监播流的音视频码率＞码率告警阈值*直播流原始码率，则会报警。|1.0|\n|eofDurationThresSec|Float|断流时长检测阈值，表示当前监播流断流超过多少时间（单位：秒）才会报警。取值范围（0,65535]，默认值0。 - 由于断流后连接不断，系统会有内部收包超时时间（5秒）来判断断流。因此如果设置此参数时间<=5s，实际检测时间仍为5s；如果设置该项时间>5s，实际检测时间为设置值，只是前5s为内部收包超时，剩余时间为持续等待流没有恢复时间。 - 如果断流后没达到此超时时间流自动恢复，则不会报警。如果断流未超时，此时修改了监播地址，对前流也不会继续检测超时和报警。|10|","responseParamsDescription":" ","extraInfo":" "}