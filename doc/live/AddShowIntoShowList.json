{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"showList","in":"query","style":"repeatList","schema":{"description":"需要添加的多个节目资源列表，每个资源都有独立的showName，resourceUrl等参数。","type":"array","items":{"type":"object","properties":{"duration":{"description":"单个节目播放时间长度，单位：秒。\n\n>**RepeatTimes**和**Duration**两者只允许设置其中一个。","type":"integer","format":"int64","required":false,"example":"20"},"liveInputType":{"description":"自定义的类型标记。","type":"integer","format":"int32","required":false,"example":"1"},"repeatTimes":{"description":"单个节目播放循环次数，默认为0。\n\n>- **RepeatTimes**和**Duration**两者只允许设置其中一个。\n- RepeatTimes为重复次数，示例：0表示重复0次（实际播放1次），1表示重复1次（实际播放2次），以此类推。","type":"integer","format":"int32","required":false,"example":"0"},"resourceId":{"description":"点播文件ID。","type":"string","required":false,"example":"a2b8e671-2fe5-4642-a2ec-bf93880e****"},"resourceType":{"description":"素材类型。取值：\n\n- live：直播素材。\n\n- vod：点播素材。\n\n- pic：图片素材。\n\n>- 使用视频点播（VOD）资源，可优先选择托管Bucket资源，自有Bucket资源存在过期风险，如果您选用自有Bucket资源，需注意资源的有效期时间。\n- 直播文件可支持直播素材和第三方URL。\n- 点播文件可支持点播素材、图片素材和第三方URL。","type":"string","required":false,"example":"vod"},"resourceUrl":{"description":"播放文件URL。","type":"string","required":false,"example":"http://****/atestObject****.m3u8"},"showName":{"description":"节目名称。","type":"string","required":false,"example":"liveShow****"}},"required":false},"required":false,"maxItems":10}},{"name":"CasterId","in":"query","schema":{"description":"导播台ID。\n\n- 如果您通过[CreateCaster接口](~~69338~~)创建导播台，请查看CreateCaster接口调用返回的参数CasterId值。\n\n- 如果您通过直播控制台创建导播台，请通过**直播控制台** > **导播台** > **云导播台**路径查看导播台名称。\n\n> 直播控制台云导播台页面导播台列表中的导播台名称即导播台ID。","type":"string","required":true,"example":"LIVEPRODUCER_POST-cn-0pp1czt****"}},{"name":"ShowName","in":"query","schema":{"description":"节目名称。","type":"string","required":false,"example":"liveShow****"}},{"name":"ResourceType","in":"query","schema":{"description":"素材类型。取值：\n- live：直播素材。\n- vod：点播素材。\n- pic：图片素材。\n\n>- 使用视频点播（VOD）资源，可优先选择托管Bucket资源，自有Bucket资源存在过期风险，如果您选用自有Bucket资源，需注意资源的有效期时间。- 直播文件可支持直播素材和第三方URL。- 点播文件可支持点播素材、图片素材和第三方URL。","type":"string","required":false,"example":"vod"}},{"name":"ResourceUrl","in":"query","schema":{"description":"播放文件URL。","type":"string","required":false,"example":"http://****/atestObject****.m3u8"}},{"name":"ResourceId","in":"query","schema":{"description":"点播文件ID。","type":"string","required":false,"example":"a2b8e671-2fe5-4642-a2ec-bf93880e****"}},{"name":"Duration","in":"query","schema":{"description":"单个节目播放时间长度，单位：秒。\n>**RepeatTimes**和**Duration**两者只允许设置其中一个。","type":"integer","format":"int64","required":false,"example":"20"}},{"name":"RepeatTimes","in":"query","schema":{"description":"单个节目播放循环次数，默认为0。\n> - **RepeatTimes**和**Duration**两者只允许设置其中一个。- RepeatTimes为重复次数，示例：-1表示可无限重复；0表示重复0次（实际播放1次）；1表示重复1次（实际播放2次）；以此类推。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"Spot","in":"query","schema":{"description":"插入到播放列表的位置。位置从0 开始，默认添加到当前节目单的末尾。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"LiveInputType","in":"query","schema":{"description":"自定义的类型标记。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"isBatchMode","in":"query","schema":{"description":"是否批量添加节目到节目单。取值：\n\n- true：批量添加。\n\n- false：单个添加。\n\n>该参数不填，取值为空时，也表示单个添加。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"987DA143-A39C-5B5D-AF5B-3B07944A0036"},"ShowId":{"description":"节目ID。","type":"string","example":"a2b8e671-2fe5-4642-a2ec-bf93880e****"},"failedList":{"description":"添加失败的资源列表以及失败原因信息。","type":"string","example":"failedList[Show1, Show2...]"},"successfulShowIds":{"description":"添加成功添加的节目ID列表。","type":"string","example":"f1933f16-5467-4308-b3a9-e8d451a90999，547436b8-c839-4469-a2c0-704c1ce5ce00"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidUserId.Malformed","errorMessage":"%s"},{"errorCode":"InvalidParameter.Malformed","errorMessage":"%s"},{"errorCode":"InvalidCasterId.Malformed","errorMessage":"%s"},{"errorCode":"InvalidVodUrl.Malformed","errorMessage":"%s"},{"errorCode":"MissingParameter","errorMessage":"%s"}],"401":[{"errorCode":"IllegalOperation","errorMessage":"%s"}],"404":[{"errorCode":"InvalidCaster.NotFound","errorMessage":"%s"},{"errorCode":"InvalidShowList.NotFound","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"987DA143-A39C-5B5D-AF5B-3B07944A0036\\\",\\n  \\\"ShowId\\\": \\\"a2b8e671-2fe5-4642-a2ec-bf93880e****\\\",\\n  \\\"failedList\\\": \\\"failedList[Show1, Show2...]\\\",\\n  \\\"successfulShowIds\\\": \\\"f1933f16-5467-4308-b3a9-e8d451a90999，547436b8-c839-4469-a2c0-704c1ce5ce00\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddShowIntoShowListResponse>\\n    <RequestId>987DA143-A39C-5B5D-AF5B-3B07944A0036</RequestId>\\n    <failedList>\\n        <show>\\n            <resourceUrl>test</resourceUrl>\\n            <resourceType>vod</resourceType>\\n        </show>\\n        <failInfo>ResourceUrl is invalid, probe failed</failInfo>\\n    </failedList>\\n    <failedList>\\n        <show>\\n            <resourceUrl>http://error.test.case</resourceUrl>\\n            <resourceType>vod</resourceType>\\n        </show>\\n        <failInfo>ResourceUrl is invalid, probe failed</failInfo>\\n    </failedList>\\n    <successfulShowIds>f1933f16-5467-4308-b3a9-e8d451a90999, 547436b8-c839-4469-a2c0-704c1ce5ce00</successfulShowIds>\\n</AddShowIntoShowListResponse>\",\"errorExample\":\"\"}]","title":"添加一个节目到节目单","summary":"调用AddShowIntoShowList添加节目到节目单中。","description":"## 使用说明\n请先创建新播单型导播台，添加新播单型导播台视频资源后再调用本接口添加导播台节目到节目单中。使用API创建导播台，请参见[创建导播台](~~69338~~)。\n><notice>\n\n- 使用视频点播（VOD）资源，可优先选择托管Bucket资源，自有Bucket资源存在过期风险，如果您选用自有Bucket资源，需注意资源的有效期时间。\n- 导播台素材资源输入请优先选择视频直播和视频点播的资源，若从第三方URL输入资源存在播放失败可能性，需确定资源的质量和有效性。\n\n></notice>\n\n## QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"## 代码示例\n\n```\npublic static DefaultAcsClient initClient(String accessKeyId, String accessKeySecret) throws ClientException {\n        String regionId = \"cn-shanghai\";  \n        DefaultProfile profile = DefaultProfile.getProfile(regionId, accessKeyId, accessKeySecret);\n        DefaultAcsClient client = new DefaultAcsClient(profile);\n        return client;\n    }\n\nprivate static CommonResponse addShowIntoShowList(DefaultAcsClient client, String showName, String resourceId, String resourceUrl,\n                                                      String resourceType, Integer spot, Integer repeatTimes,\n                                                      String casterId, Long duration) throws ClientException {\n        CommonRequest addShowIntoShowListRequest = new CommonRequest();\n        addShowIntoShowListRequest.setSysDomain(\"live.aliyuncs.com\");\n        addShowIntoShowListRequest.setSysVersion(\"2016-11-01\");\n        addShowIntoShowListRequest.setSysAction(\"AddShowIntoShowList\");\n\n\n  \n        if (casterId == null || resourceType == null) {\n            return null;\n        }\n        if (resourceId == null && resourceUrl == null) {\n            return null;\n        }\n        addShowIntoShowListRequest.putQueryParameter(\"CasterId\", casterId);\n        addShowIntoShowListRequest.putQueryParameter(\"ResourceType\", resourceType);\n        if (showName != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"ShowName\", showName);\n        }\n        if (resourceUrl != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"ResourceUrl\", resourceUrl);\n        }\n        if (resourceId != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"ResourceId\", resourceId);\n        }\n        if (spot != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"Spot\", spot.toString());\n        }\n        if (repeatTimes != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"RepeatTimes\", repeatTimes.toString());\n        }\n        if (duration != null) {\n            addShowIntoShowListRequest.putQueryParameter(\"Duration\", duration.toString());\n        }\n        CommonResponse addShowIntoShowListResponse = client.getCommonResponse(addShowIntoShowListRequest);\n        return addShowIntoShowListResponse;\n    }\n\n\n    public void addshows() throws ClientException {\n        DefaultAcsClient client = initClient(ACCESS_KEY_ID, ACCESS_KEY_SECRET);\n        String[] resourceIds = new String[]{\"698d2b23581f476ea71107703e647d1e\", \"9c97e83e211a435b9f797e4e20eeea27\", \"76c6addaa41c438985666a8a964fa5e5\"};\n        for (int i = 0; i < resourceIds.length; i++) {\n            String showName = \"ShowName#\" + i;\n            Integer repeatTimes = i;\n            addShowIntoShowList(client, showName, resourceIds[i], null, \"vod\", null, repeatTimes, testCasterId, null);\n        }\n    }\n```"}