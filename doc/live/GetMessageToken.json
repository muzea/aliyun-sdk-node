{"summary":"调用GetMessageToken获取长连接建连Token，客户端可以用此Token通过LWP协议和各个原子能力进行长连接通信。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"AppId","in":"formData","schema":{"title":"应用ID","description":"互动消息应用ID。","type":"string","required":true,"example":"a494caec-***-695ef345db77"}},{"name":"DeviceId","in":"formData","schema":{"title":"终端设备ID","description":"终端设备ID，唯一代表一个用户终端设备，用户自定义。小写英文、数字、下划线（_）和短横线（-）组成，最大长度64个字符。不同终端设备需要使用不同的DeviceId，建议从终端设备获取并传入给服务端。","type":"string","required":true,"example":"a494caec-***-695ef345db77"}},{"name":"DeviceType","in":"formData","schema":{"title":"终端设备类型","description":"终端设备类型，取值：\n\n- ios\n\n- android\n\n- web\n\n- pc\n","type":"string","required":true,"example":"android"}},{"name":"UserId","in":"formData","schema":{"title":"用户UserId,在AppId下单独唯一","description":"用户UserId，用户自定义，在AppId下单独唯一。小写英文、数字、下划线（_）和小数点（.）组成，最大长度32个字符。不同的用户需要使用不同的UserId。","type":"string","required":true,"example":"de1**a0"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"16A96B9A-****-CB92E68F4CD8"},"Result":{"description":"返回结果。","type":"object","properties":{"AccessToken":{"title":"用于长连接建连的token","description":"用于长连接建连的Token。","type":"string","example":"oauth_cloud_key:***-b0YY5Gy6Q"},"AccessTokenExpiredTime":{"title":"登录token过期时间(毫秒)","description":"登录Token过期时间，单位：毫秒。","type":"integer","format":"int64","example":"86400000"},"RefreshToken":{"title":"更新Token，若AccessToken过期，则可以使用RefreshToken再次获取新Token","description":"更新Token，若AccessToken过期，则可以使用RefreshToken再次获取新Token。","type":"string","example":"oauth_cloud_key:****-Q62xggOTdgk3gw="}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"16A96B9A-****-CB92E68F4CD8\\\",\\n  \\\"Result\\\": {\\n    \\\"AccessToken\\\": \\\"oauth_cloud_key:***-b0YY5Gy6Q\\\",\\n    \\\"AccessTokenExpiredTime\\\": 86400000,\\n    \\\"RefreshToken\\\": \\\"oauth_cloud_key:****-Q62xggOTdgk3gw=\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetMessageTokenResponse>\\n    <RequestId>16A96B9A-****-CB92E68F4CD8</RequestId>\\n    <Result>\\n        <AccessToken>oauth_cloud_key:***-b0YY5Gy6Q</AccessToken>\\n        <RefreshToken>oauth_cloud_key:****-Q62xggOTdgk3gw=</RefreshToken>\\n        <AccessTokenExpiredTime>86400000</AccessTokenExpiredTime>\\n    </Result>\\n</GetMessageTokenResponse>\",\"errorExample\":\"\"}]","title":"获取长连接建连Token","description":"## 使用说明\n先获取客户端UserId、DeviceId、DeviceType信息，然后传入到服务端，服务端使用该接口获取鉴权Token，并返回给客户端。不同的用户需要使用不同的UserId，不同的终端设备需要使用不同的DeviceId。\n\n## QPS限制\n本接口的单用户QPS限制为100次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。"}