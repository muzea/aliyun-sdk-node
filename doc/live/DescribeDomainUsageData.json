{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"直播域名。\n- 支持批量域名查询，多个域名用英文逗号（,）分隔。\n- 若参数为空，默认返回所有直播域名合并后的数据。","type":"string","required":false,"example":"example.com"}},{"name":"StartTime","in":"query","schema":{"description":"起始时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"example":"2015-12-10T20:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n\n需大于起始时间，且与起始时间相差不能超过**31**天。","type":"string","required":true,"example":"2015-12-10T21:00:00Z"}},{"name":"Type","in":"query","schema":{"description":"需要获取的用量类型。\n\n当**Field**取值为**bps**或**traf** 时，该参数取值范围：\n- **rts**：RTS带宽或流量。\n- **quic**：QUIC带宽或流量。\n-  **all**：全部。\n\n当**Field**取值为**req\\_traf**或**req\\_bps** 时，该参数取值范围：\n- **push**：推流带宽或流量。\n- **push_proxy**：转推带宽或流量。\n","type":"string","required":false,"example":"all","default":"all","enum":["static","dynamic","quic","rts","push","normal","all","push_proxy"]}},{"name":"Field","in":"query","schema":{"description":"查询用量的数据类型。取值：\n- **bps**：播放带宽。\n\n- **traf**：流量。\n\n- **req\\_traf**：当Type为push时，为推流流量，当Type为push_proxy时，为转推流量。\n\n- **req\\_bps**：当Type为push时，为推流带宽，当Type为push_proxy时，为转推带宽。\n","type":"string","required":true,"example":"traf"}},{"name":"Area","in":"query","schema":{"description":"区域代号。支持：\n- **CN**：中国内地。\n- **OverSeas**：海外大区。\n- **AP1**：亚太1区。\n- **AP2**：亚太2区。\n- **AP3**：亚太3区。\n- **NA**：北美。\n- **SA**：南美。\n- **EU**：欧洲。\n- **MEAA**：中东非洲。\n- **all**：全部。\n\n> 不传值则默认为中国内地。海外大区说明：-  亚太1区：中国香港地区、中国澳门地区、中国台湾地区、日本以及东南亚除越南和印尼之外的国家。- 亚太2区：印度、印尼、韩国、越南。- 亚太3区：澳大利亚、新西兰。北美：美国、加拿大。- 南美：巴西。- 欧洲：乌克兰、英国、法国、荷兰、西班牙、意大利、瑞典、德国。- 中东非洲：南非、阿曼、阿联酋、科威特。\n\n\n\n\n\n\n\n\n","type":"string","required":false,"example":"CN","default":"CN"}},{"name":"DataProtocol","in":"query","schema":{"description":"需要获取的数据的协议。取值：\n\n- **http**：HTTP协议。\n\n- **https**：HTTPS协议。\n\n- **quic**：QUIC协议。\n\n- **all**（默认）：以上全部协议。","type":"string","required":false,"example":"all","default":"all"}},{"name":"Interval","in":"query","schema":{"description":"强制指定获取指定时间粒度的数据，单位为秒。支持**300**（5分钟）、**3600**（1小时）和**86400**（1天）。\n\n\n\n\n","type":"string","required":false,"example":"300"}}],"responses":{"200":{"schema":{"type":"object","properties":{"EndTime":{"description":"结束时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-10T21:00Z"},"Type":{"description":"用量类型。","type":"string","example":"all"},"StartTime":{"description":"开始时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-10T20:00Z"},"RequestId":{"description":"请求ID。","type":"string","example":"B955107D-E658-4E77-B913-E0AC3D31693E"},"Area":{"description":"用量区域。","type":"string","example":"CN"},"DomainName":{"description":"直播域名。","type":"string","example":"example.com"},"DataInterval":{"description":"每条记录的时间间隔。单位：秒。","type":"string","example":"300"},"UsageDataPerInterval":{"type":"object","properties":{"DataModule":{"description":"每条记录的流量数据。","type":"array","items":{"type":"object","properties":{"Value":{"description":"用量。\n- 当Field为traf或req_traf时单位是字节（Byte）。\n\n- 当Field为bps或req_bps时单位是bps。\n\n- 当Field为acc时单位是次数。","type":"string","example":"423304182"},"TimeStamp":{"description":"时间片起始时刻。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-10T20:00:00Z"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvaildParameter","errorMessage":"Invalid Parameter"},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"Specified StartTime is malformed."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"Specified EndTime is malformed."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified value of parameter StartTime is not supported."},{"errorCode":"InvalidTime.Malformed","errorMessage":"Specified Time is malformed."},{"errorCode":"InvalidParameterField","errorMessage":"The specified Field is invalid."},{"errorCode":"InvalidParameterType","errorMessage":"The specified Type is invalid."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified end time does not math the specified start time."},{"errorCode":"InvalidTimeSpan","errorMessage":"The time span exceeds the limit."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"EndTime\\\": \\\"2015-12-10T21:00Z\\\",\\n  \\\"Type\\\": \\\"all\\\",\\n  \\\"StartTime\\\": \\\"2015-12-10T20:00Z\\\",\\n  \\\"RequestId\\\": \\\"B955107D-E658-4E77-B913-E0AC3D31693E\\\",\\n  \\\"Area\\\": \\\"CN\\\",\\n  \\\"DomainName\\\": \\\"example.com\\\",\\n  \\\"DataInterval\\\": \\\"300\\\",\\n  \\\"UsageDataPerInterval\\\": {\\n    \\\"DataModule\\\": [\\n      {\\n        \\\"Value\\\": \\\"423304182\\\",\\n        \\\"TimeStamp\\\": \\\"2015-12-10T20:00:00Z\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDomainUsageDataResponse>\\n    <DomainName>example.com</DomainName>\\n    <DataInterval>300</DataInterval>\\n    <UsageDataPerInterval>\\n        <DataModule>\\n            <TimeStamp>2015-12-10T20:00:00Z</TimeStamp>\\n            <Value>423304182</Value>\\n        </DataModule>\\n        <DataModule>\\n            <TimeStamp>2015-12-10T20:05:00Z</TimeStamp>\\n            <Value>454680793</Value>\\n        </DataModule>\\n        <DataModule>\\n            <TimeStamp>2015-12-10T20:10:00Z</TimeStamp>\\n            <Value>501718342</Value>\\n        </DataModule>\\n        <DataModule>\\n            <TimeStamp>2015-12-10T20:15:00Z</TimeStamp>\\n            <Value>434816025</Value>\\n        </DataModule>\\n    </UsageDataPerInterval>\\n    <RequestId>B955107D-E658-4E77-B913-E0AC3D31693E</RequestId>\\n    <StartTime>2015-12-10T20:00Z</StartTime>\\n    <EndTime>2015-12-10T21:00Z</EndTime>\\n    <Area>CN</Area>\\n    <Type>all</Type>\\n</DescribeDomainUsageDataResponse>\",\"errorExample\":\"\"}]","title":"查询域名在特定计费区域的用量数据","summary":"调用DescribeDomainUsageData查询域名在特定计费区域的用量数据。","description":"## 使用说明\n- 此接口支持批量域名查询，多个域名用英文逗号（,）分隔，最多一次可以查询100个域名。如果DomainName参数为空，则返回账号下所有域名的数据。\n- 用量数据包括流量、带宽和请求数三类，单位分别为Byte、bps和次数。\n- 如果不指定Interval参数，最长可查询近1年的数据，单次查询的最大时间跨度为31天。查询时间为1~3天，数据按小时粒度返回；查询时间大于3天，数据按天粒度返回。\n\n- 指定Interval参数时，支持单次查询的时间跨度、对应的可查询历史数据时间范围和数据延迟如下：\n\n| 时间粒度          | 单次查询的最大时间跨度            | 可查询历史数据时间范围   | 数据延迟\n| -------------- | -------------- | ------ | ------ |\n| 5分钟     | 3天      | 93天  | 15分钟\n| 1小时       | 31天      |   186天  | 4小时\n| 1天  | 90天     |    366天  | 次日凌晨4点\n\n\n##  QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":">接口查询T时刻数据时，T+N时刻可获取到稳态数据，N为2小时。<br>示例：当您查询12月21日下午1点钟数据，可在12月21日下午3点钟获取到1点及1点前的稳态数据。","responseParamsDescription":" ","extraInfo":"### 特殊错误码\n| 错误代码                       | 描述                                                     | HTTP 状态码 | 语义                               |\n|------------------------------|--------------------------------------------------------|-----------|----------------------------------|\n| Throttling                     | Request was denied due to request throttling.            | 503         | 请求被流量控制限制                 |\n| IllegalOperation               | Illegal domain, operation is not permitted.              | 403         | 非法域名，无法操作                 |\n| OperationDenied                | Your account does not open Live service yet.             | 403         | 未开通Live服务                     |\n| OperationDenied                | Your Live service is suspended.                          | 403         | Live服务已被停止                   |\n| InvalidDomain.NotFound         | The domain provided does not belong to you.              | 404         | 域名不存在或不属于当前用户         |\n| InvalidDomain.Offline          | The domain provided is offline.                          | 404         | 域名已下线                         |\n| ServiceBusy                    | The specified Domain is configuring, please retry later. | 403         | 域名正在配置中，请稍后再试         |\n| InvalidDomain.Configure_failed | Failed to configure the provided domain.                 | 500         | 域名配置失败                       |\n| InvalidParameter               | Invalid Parameter.                                       | 400         | 参数错误                           |\n| InvalidParameterProduct        | Invalid Parameter Product.                               | 400         | Product参数错误                    |\n| InvalidParameterArea           | Invalid Parameter Area.                                  | 400         | Area参数错误                       |\n| InvalidParameterField          | Invalid Parameter Field.                                 | 400         | Field参数错误                      |\n| InvalidParameterStartTime      | Invalid Parameter StartTime.                             | 400         | StartTime参数错误                  |\n| InvalidParameterEndTime        | Invalid Parameter EndTime.                               | 400         | EndTime参数错误                    |\n| InvalidTimeRange               | StartTime and EndTime range should less than 1 month.    | 400         | EndTime和StartTime差值不能超过31天 |\n| InvalidParameterInterval       | Invalid Parameter Interval.                              | 400         | Interval参数错误                   |\n"}