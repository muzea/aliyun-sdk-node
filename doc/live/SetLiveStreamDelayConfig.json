{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"播流域名。","type":"string","required":true,"example":"example.com"}},{"name":"HlsDelay","in":"query","schema":{"description":"HLS播放延迟时间。单位：秒。\n\n>该参数为空时，按照HlsLevel延迟级别对应的时间设置。","type":"integer","format":"int32","required":false,"example":"4"}},{"name":"HlsLevel","in":"query","schema":{"description":"HLS延迟级别。配置了HlsDelay情况下忽略该参数。\n\n取值如下：\n\n- **short**（默认）：表示延迟时间为3秒。\n\n- **medium**：表示延迟时间为6秒。\n\n- **long**：表示延迟时间为15秒。\n\n>如果HlsDelay和HlsLevel参数都为空，则按照默认值**short**进行配置。","type":"string","required":false,"example":"short"}},{"name":"FlvDelay","in":"query","schema":{"description":"FLV播放延迟时间。单位：秒。\n\n>该参数为空时，按照FlvLevel延迟级别对应的时间设置。","type":"integer","format":"int32","required":false,"example":"8"}},{"name":"FlvLevel","in":"query","schema":{"description":"FLV延迟级别。配置了FlvDelay情况下忽略该参数。\n\n取值如下：\n\n- **short**（默认）：表示延迟时间为4秒。\n\n- **medium**：表示延迟时间为8秒。\n\n- **long**：表示延迟时间为16秒。\n\n>如果FlvDelay和FlvLevel参数都为空，则按照默认值**short**进行配置。","type":"string","required":false,"example":"medium"}},{"name":"RtmpDelay","in":"query","schema":{"description":"RTMP播放延迟时间。单位：秒。\n\n>该参数为空时，按照RtmpLevel延迟级别对应的时间设置。","type":"integer","format":"int32","required":false,"example":"4"}},{"name":"RtmpLevel","in":"query","schema":{"description":"RTMP延迟级别。配置了RtmpDelay情况下忽略该参数。\n\n取值如下：\n\n- **short**（默认）：表示延迟时间为4秒。\n\n- **medium**：表示延迟时间为8秒。\n\n- **long**：表示延迟时间为16秒。\n\n>如果RtmpDelay和RtmpLevel参数都为空，则按照默认值**short**进行配置。","type":"string","required":false,"example":"short"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"4C747C97-7ECD-4C61-8A92-67AD806331FF"}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4C747C97-7ECD-4C61-8A92-67AD806331FF\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SetLiveStreamDelayConfigResponse>\\n    <RequestId>4C747C97-7ECD-4C61-8A92-67AD806331FF</RequestId>\\n</SetLiveStreamDelayConfigResponse>\",\"errorExample\":\"\"}]","title":"配置直播延迟","summary":"调用SetLiveStreamDelayConfig配置直播延迟。","description":"## 使用说明\n\n- 本接口支持配置播流域名的延迟配置。\n\n- 因为服务端缓存内是整数个关键帧间隔（GOP），所以延迟不会小于GOP大小，真实的延迟需要按照GOP大小估算。例如RTMP配置RtmpDelay为4秒，GOP大小为2秒，则真实延迟最小为2秒（4秒减去2秒），最大为6秒（4秒加上2秒）。 如果GOP大于RtmpDelay延迟配置，比如GOP=5秒,，RtmpDelay=4秒，则延迟在0～9秒之间波动。\n\n- 纯音频延迟配置无效，默认延迟接近0。\n\n- HLS配置方式为：先计算切片大小=Delay/3，向下取整，最小不能小于1秒。然后计算切片最大个数，当切片大小大于等于3秒时为4个，其余情况为6个。\n\n- HLS实际切片大小不会小于GOP大小。\n\n- HLS延迟计算方式为配置的切片大小*3。\n\n- 不调用该接口配置时，默认延迟时间为：RTMP为2秒；FLV为4秒；HLS一个切片大小为5秒，即延迟时间为15秒，最多6个切片。\n\n## QPS限制\n本接口的单用户QPS限制为1000次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","extraInfo":"| HttpCode  | 错误码|错误信息| 描述|\n|---------------|--------|\n| 500| Internal|The request processing has failed due to some unknown error.| 后台发生未知错误。|\n| 404| InvalidDomain.NotFound|The domain provided does not exist in our records.| 当前账户下未查到域名。|\n| 403| IllegalOperation|Illegal domain operate is not permitted.| 不支持当前操作，如：非直播类域名。|\n| 400| InvalidNotifyUrl.Malformedl|Specified parameter NotifyUrl is not valid.| 不是一个合法的HTTP地址。|\n| 400| InvalidNotifyUrl.Unsafel| Specified NotifyUrl is not safe.| 非安全的NotifyUrl值。|"}