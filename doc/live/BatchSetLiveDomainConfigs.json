{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"abilityTreeCode":"106875","abilityTreeNodes":["FEATUREliveHVN9B2"]},"parameters":[{"name":"DomainNames","in":"query","schema":{"description":"需要进行批量配置的域名。取值可以是推流域名、主播流域名或子播流域名。多个域名用英文逗号（,）分隔。","type":"string","required":true,"example":"demo.aliyundoc.com,example.aliyundoc.com,example.com"}},{"name":"Functions","in":"query","schema":{"description":"功能列表。\n\n某些功能，如`filetype_based_ttl_set`，可以设置多条记录，当需要更新其中某条记录时，可通过该条记录的`configId`来指定。更多信息，请参见下表**Function格式说明**和**Functions功能说明**。","type":"string","required":true,"example":" [{\"functionArgs\":[{\"argName\":\"file_type\",\"argValue\":\"jpg\"},{\"argName\":\"ttl\",\"argValue\":\"18\"},{\"argName\":\"weight\",\"argValue\":\"30\"}],\"functionName\":\"filetype_based_ttl_set\",\"configId\":506***}]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"04F0F334-1335-436C-A1D7-6C044FE73368"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidFunctions.Malformed","errorMessage":"Specified Functions is malformed."},{"errorCode":"InvalidFunctionArgs.Malformed","errorMessage":"The specified FunctionArgs is invalid."},{"errorCode":"InvalidArgValue.Malformed","errorMessage":"Specified ArgValue is malformed."},{"errorCode":"Invalid%s.ValueNotSupported","errorMessage":"FunctionName [%s] is not supported."},{"errorCode":"Invalid%s.Malformed","errorMessage":"ArgValue [%s] is malformed."},{"errorCode":"MissingParameter%s","errorMessage":"The specified value of ArgName[%s] is missing."},{"errorCode":"FunctionMutex","errorMessage":"Function is mutex with other function."},{"errorCode":"RewriteHostRely","errorMessage":"Domain name is configured as rewrite host by others."},{"errorCode":"ConfigurationConflicts","errorMessage":"The staging environment has a configuration in effect and cannot modify the production environment configuration."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"04F0F334-1335-436C-A1D7-6C044FE73368\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<BatchSetLiveDomainConfigsResponse>\\n\\t<RequestId>04F0F334-1335-436C-A1D7-6C044FE73368</RequestId>\\n</BatchSetLiveDomainConfigsResponse>\\t\\n\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"04F0F334-1335-436C-A1D7-6C044FE73368\\\"\\n}\"}]","title":"批量配置域名","summary":"调用BatchSetLiveDomainConfigs批量配置域名。","description":"## 使用说明\n先获取需要进行配置的直播域名，再调用本接口批量配置域名。\n\n## QPS限制\n本接口的单用户QPS限制为30次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。\n","requestParamsDescription":"## Functions格式说明\n\n- 示例如下所示：\n`[{\"functionArgs\":[{\"argName\":\"domain_name\",\"argValue\":\"developer.aliyundoc.com\"}],\"functionName\":\"set_req_host_header\"}]`\n\n- 某些功能，如filetype_based_ttl_set，可以设置多条记录，当需要更新其中某条记录时，可通过该条记录的configId来指定，示例如下所示：\n`[{\"functionArgs\":[{\"argName\":\"file_type\",\"argValue\":\"jpg\"},{\"argName\":\"ttl\",\"argValue\":\"18\"},{\"argName\":\"weight\",\"argValue\":\"30\"}],\"functionName\":\"filetype_based_ttl_set\",\"configId\":506***}]`\n\n## Functions功能说明\n\n| 名称          | 参数   |\n|---------------|--------|\n| **referer_white_list_set**：refer白名单。| **refer_domain_allow_list**：白名单列表，多个使用英文逗号（,）分隔。<br>**allow_empty**：是否允许空refer进入。取值：**on**或**off**。|\n| **referer_black_list_set**：refer黑名单。| **refer_domain_deny_list**：黑名单列表，多个使用英文逗号（,）分隔。<br>**allow_empty**：是否允许空refer进入。取值：**on**或**off**。|\n| **filetype_based_ttl_set**：文件过期时间设置。| **ttl**：cache时间。单位：秒，取值范围是1~99999999（3年多一些）。<br>**file_type**：文件类型。多个使用英文逗号（,）隔开。<br>**weight**：权重。取值范围：**1~99**。|\n| **path_based_ttl_set**：目录过期时间设置。| **ttl**：cache时间。单位：秒，取值范围是1~99999999（3年多一些）。<br>**path**：目录。必须以正斜线（/）开头。<br>**weight**：权重。取值范围：**1~99**。|\n| **oss_auth**：OSS鉴权Bucket。| **oss_bucket_id**：用户bucket地址。|\n| **ip_black_list_set**：IP黑名单。| **ip_list**：IP列表。多个使用英文逗号（,）隔开。|\n| **ip_allow_list_set**：IP白名单。| **ip_list**：IP列表。多个使用英文逗号（,）隔开。|\n| **ip_white_list_set**：访问频次控制免拦截。| **ip_list**：IP列表。多个使用英文逗号（,）隔开。|\n| **error_page**：错误页面重定向。| **error_code**：错误码。<br>**rewrite_page**：重定向页面。|\n| **set_req_host_header**：修改回源Host头。| **domain_name**：回源Host头内容。|\n| **set_hashkey_args**：忽略url参数。| **hashkey_args**：保留参数的列表。多个使用英文逗号（,）分隔。<br>**disable**：是否忽略所有参数。取值：仅支持on（忽略所有参数）或off（不忽略）。|\n| **aliauth**：阿里鉴权。|  **auth_type**：鉴权类型。取值：**type_a**（鉴权A）、**no_auth**（关闭鉴权）。<br>**auth_key1**：鉴权key1，鉴权key支持大写字母、小写字母、数字，建议设置长度为8~32个字符。<br>**auth_key2**：鉴权key2。<br>**ali_auth_delta**：自定义鉴权缓冲时间，单位：分钟。建议最小设置为1分钟，无上限限制。<br>**auth_m3u8**：是否开启m3u8内容改写，对m3u8里面的ts补齐对应的鉴权，可以避免ts的访问鉴权失败。取值：**on**（默认值）或**off**。|\n| **remote_auth**：直播远程鉴权 。|**enable**：是否开启远程鉴权，必填项。取值：on或off。<br>**remote_auth_path** ： 鉴权服务器地址，必填项。<br>**remote_auth_pattern** ：鉴权模式串。有以下功能可设置：<br>- **param**：是否向鉴权服务器透传推流URL中的参数，取值pass（默认）或fail。<br>- **args_white**：透传指定参数设置，多个参数用英文逗号（,）分隔。<br>- **args_black**：不透传指定参数设置，多个参数用英文逗号（,）分隔。<br>- **code**：鉴权状态码，code=XXX，鉴权服务器在鉴权成功时返回给直播的HTTP状态码。例如：code=200。code=~XXX，鉴权服务器在鉴权失败时返回给直播的HTTP状态码。例如：code=~403。<br>- **delta**  ：鉴权超时时长。<br>- **retry**：鉴权超时重试次数。<br>- **timeout**：鉴权超时行为，取值：**pass**或**fail**。**pass**：视频直播将直接通过用户请求。**fail**：视频直播将响应鉴权失败状态码（403）给用户。<br>- **async**：异步鉴权，取值**on**（开启异步鉴权）或**off**（默认，关闭异步鉴权）。|\n| **set_resp_header**：设置响应头（浏览器端可见）。| **key**：响应头。取值：<br>**Content-Type。**<br>**Cache-Control。**<br>**Content-Disposition。**<br>**Content-Language。**<br>**Expires。**<br>**Access-Control-Allow-Origin。**<br>**Access-Control-Allow-Methods。**<br>**Access-Control-Allow-Headers。**<br>**Access-Control-Max-Age。**<br>**Access-Control-Expose-Headers。**<br>**value**：响应头内容。删除填写null。<br>|\n| **https_force**：强制HTTPS跳转。| **enable**：功能开关。取值：**on**或**off**。https_force和http_force只能存在其中一个，两者为互斥关系，配置另外一个需要先删除原来的配置。|\n| **http_force**：强制HTTP跳转。| **enable**：功能开关。取值：**on**或**off**。https_force和http_force只能存在其中一个，两者为互斥关系，配置另外一个需要先删除原来的配置。|\n| **forward_scheme**：自适应回源。| **enable**：功能开关，取值：**on**或**off**。<br>**scheme_origin**：回源站协议 （http、https、follow）。 <br>**scheme_origin_port**：回源站协议端口（80、443、80:443）。|\n| **green_manager**：鉴黄功能。| **enable**：是否开启鉴黄功能。取值：**on**或**off**。|\n| **tmd_signature**：自定义的访问频次控制规则。| **name**：规则名称。域名内不可重复。<br>**path**：可重复，需校验URI路径合法性。<br>**pathType**：匹配规则。**0**前缀匹配，**1**完全匹配。<br>**interval**：监测时长。单位：秒。参数限制必须≥10。<br>**count**：单IP访问次数。<br>**action**：阻断类型。**0**封禁，**1**人机识别。<br>**ttl**：阻断时长。单位：秒。|\n|**l2_oss_key**：L2 OSS 回源私钥。| **private_oss_auth**：是否开启私有OSS鉴权功能。取值：**on**或**off**。|\n|**video_seek**：视频切片拖拽开关。 |**enable**：功能开关。取值：**on**或**off**。|\n|**gzip**：页面Gzip优化 。|**enable**：功能开关。取值：**on**或**off**。|\n|**tesla**：页面优化加速。 |**enable**：功能开关。取值：**on**或**off**。|\n|**ali_ua**：User-Agent限制访问。 |**ua**：User-Agent。<br>**type**：名单类型。取值**black**和**white**。|\n|**host_redirect:rewrite**功能。 |**regex**：需要重写的URL。例如 ^/$。<br>**replacement**：目标URL。例如 /go/act/sale/tbzlsy.php。<br>**flag**：仅支持：redirect、break。|\n|**ipv6**：ipv6配置。 |**switch**：开关（必填）。取值：**on**或**off**，开启功能，一旦开启后，如需关闭请取消勾选，不要删除配置，否则不生效。<br>**region**：开启IPv6功能的地域，取值：cn-beijing（北京）、cn-shanghai（上海）、cn-shenzhen（深圳）、cn-qingdao（青岛）、apsoutheast-1（新加坡）、eu-central-1（德国）、ap-northeast-1（东京）、ap-south-1（孟买）、ap-southeast-5（雅加达）。|\n|**ali_location**：区域限制访问。 |**location**：地域列表。<br>**type**：名单类型。取值**black**或**white**。|\n|**cc_defense**：防CC攻击。 |**enable**：开启或关闭防CC攻击。取值：**on**或**off**。|\n|**alilive**：视频直播配置。 | **notify_url**：直播通知url。<br>**enable**：功能开关。取值：**on**或**off**。<br>**live_forbid_flv**：禁止播放flv。取值：**on**或**off**。<br>**live_forbid_rtmp**：禁止播放rtmp。取值：**on**或**off**。<br>l**ive_forbid_hls**：禁止播放hls。取值：**on**或**off**。|\n|**ali_grtn**：grtn业务接入开关。 |**grtn_rts_pub**：RTS推流开关，推流域名使用。取值：**on**或**off**。<br>**grtn_rts_play**：RTS播流开关，播流域名使用。取值：**on**或**off**。<br>**grtn_rts_transcode**：RTS H5播放自动转码开关。取值：**on**或**off**。|\n|**edge_function**：边缘函数。 |必填参数：<br>**rule**：DSL规则。<br>**pri**：优先级。<br>**enable**：本条规则是否生效。取值：**on**或**off**。<br>可选参数：<br>**name**：规则名称。<br> **pos**：规则执行位置。<br>**brk**：命中本条规则后，当前执行位置剩余规则均跳过。<br> **option**：option管控。<br> **grammar**：grammar管控。可选值：空、es2、js。<br> **jsmode**：js域名白单管控，可选值：**redirect**或**bypass**。|\n|**https_tls_version**：TLS协议版本。 |**tls10**：开启TLSv1.0，默认为**on**。取值：**on**或**off**。<br>**tls11**：开启TLSv1.1，默认为**on**。取值：**on**或**off**。<br> **tls12**：开启TLSv1.2，默认为**on**。取值：**on**或**off**。<br> **tls13**：开启TLSv1.3，默认为**on**。取值：**on**或**off**。|\n|**https_option**：http协议设置。 |**http2**：是否开启http2，默认为**off**。取值：**on**或**off**。<br>**live_http2**：是否开启live\\_http2，默认为**off**。取值：**on**或**off**。|","responseParamsDescription":" ","extraInfo":"| 错误代码         | 描述          | HTTP状态码   | 语义          |\n|---------------|---------------|---------|---------------|\n|InvalidFunctions.Malformed | Specified Functions is malformed. | 400   | 指定的Functions不合法。 |\n| InvalidFunctionName.ValueNotSupported\t  | unctionName %s is not supported. | 400 | 不支持的FunctionName %s（%s为具体功能名）。|\n| InvalidArgName.ValueNotSupported\t | ArgName %s is not supported. | 400 | 不支持的ArgName %s（%s为具体参数名）。  |\n| InvalidArgValue.Malformed | Specified ArgValue is malformed. | 400 | 指定的ArgValue不合法。 |"}