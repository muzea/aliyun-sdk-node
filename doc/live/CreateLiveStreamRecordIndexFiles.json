{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"create","abilityTreeCode":"106896","abilityTreeNodes":["FEATUREliveG4SX14"]},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"主播流域名。","type":"string","required":true,"example":"example.com"}},{"name":"AppName","in":"query","schema":{"description":"播流所属应用名称。","type":"string","required":true,"example":"liveApp****"}},{"name":"StreamName","in":"query","schema":{"description":"播流名称。","type":"string","required":true,"example":"liveStream****"}},{"name":"OssEndpoint","in":"query","schema":{"description":"OSS存储Endpoint名称。","type":"string","required":true,"example":"cn-oss-****.aliyuncs.com"}},{"name":"OssBucket","in":"query","schema":{"description":"OSS存储Bucket名称。","type":"string","required":true,"example":"liveBucket****"}},{"name":"OssObject","in":"query","schema":{"description":"OSS存储的录制文件名。","type":"string","required":true,"example":"{AppName}/{StreamName}/{Date}/{Hour}/{Minute}_{Second}.m3u8"}},{"name":"StartTime","in":"query","schema":{"description":"索引文件的开始时间。ts文件的上传时间在此之后则会被包含进索引文件。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"example":"2017-12-21T08:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"索引文件的结束时间。ts文件的上传时间在此之前则会被包含进索引文件。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"example":"2017-12-22T08:00:00Z"}},{"name":"EndTimeIncluded","in":"query","schema":{"description":"是否包含结束时间。传true会尝试多包含一个ts文件，创建的索引文件会完整覆盖StartTime和EndTime。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"550439A3-F8EC-4CA2-BB62-B9DB43EEEF30"},"RecordInfo":{"description":"录制配置信息。","type":"object","properties":{"RecordUrl":{"description":"索引文件地址。","type":"string","example":"http://*****/atestObject.m3u8"},"StreamName":{"description":"播流名称。","type":"string","example":"liveStream****"},"CreateTime":{"description":"创建时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2016-05-27T09:40:56Z"},"RecordId":{"description":"索引文件ID。","type":"string","example":"c4d7f0a4-b506-43f9-8de3-07732c3f****"},"Height":{"description":"视频高。","type":"integer","format":"int32","example":"480"},"OssBucket":{"description":"OSS存储Bucket名称。","type":"string","example":"liveBucket****"},"DomainName":{"description":"主播流域名。","type":"string","example":"example.com"},"OssObject":{"description":"OSS存储的录制文件名。","type":"string","example":"liveObject****.m3u8"},"EndTime":{"description":"结束时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-01T07:40:00Z"},"AppName":{"description":"播流所属应用名称。","type":"string","example":"liveApp****"},"StartTime":{"description":"开始时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-01T07:36:00Z"},"Width":{"description":"视频宽。","type":"integer","format":"int32","example":"640"},"Duration":{"description":"录制时长。单位：秒。","type":"number","format":"float","example":"20"},"OssEndpoint":{"description":"OSS存储Endpoint名称。","type":"string","example":"cn-oss-****.aliyuncs.com"}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.Mismatch","errorMessage":"Specified StartTime does not math the  current time."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"Specified StartTime is malformed."},{"errorCode":"InvalidParams","errorMessage":"invalid  params"},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"Specified EndTime is malformed."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified end time does not math the specified start time."},{"errorCode":"InvalidOssEndpoint.Malformed","errorMessage":"Specified OssEndpoint is malformed."},{"errorCode":"InvalidOssBucket.Malformed","errorMessage":"Specified OssBucket is malformed."},{"errorCode":"InvalidOssObject.Malformed","errorMessage":"Specified OssObject is malformed."},{"errorCode":"InvalidStream.NotFound","errorMessage":"Speicified stream does not exist."},{"errorCode":"InvalidConfig.Changed","errorMessage":"The oss bucket info between StartTime and EndTime has changed."},{"errorCode":"NoRecordContent","errorMessage":"The record content between StartTime and EndTime is empty."},{"errorCode":"RecordContentExceed","errorMessage":"The record content between StartTime and EndTime is exceeded, please narrow down the range."},{"errorCode":"OperationNotSupport","errorMessage":"The Operation is not support for flv/mp4 format or live to vod record."}],"404":[{"errorCode":"InvalidBucket.NotFound","errorMessage":"The bucket does not belong to you."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"550439A3-F8EC-4CA2-BB62-B9DB43EEEF30\\\",\\n  \\\"RecordInfo\\\": {\\n    \\\"RecordUrl\\\": \\\"http://*****/atestObject.m3u8\\\",\\n    \\\"StreamName\\\": \\\"liveStream****\\\",\\n    \\\"CreateTime\\\": \\\"2016-05-27T09:40:56Z\\\",\\n    \\\"RecordId\\\": \\\"c4d7f0a4-b506-43f9-8de3-07732c3f****\\\",\\n    \\\"Height\\\": 480,\\n    \\\"OssBucket\\\": \\\"liveBucket****\\\",\\n    \\\"DomainName\\\": \\\"example.com\\\",\\n    \\\"OssObject\\\": \\\"liveObject****.m3u8\\\",\\n    \\\"EndTime\\\": \\\"2015-12-01T07:40:00Z\\\",\\n    \\\"AppName\\\": \\\"liveApp****\\\",\\n    \\\"StartTime\\\": \\\"2015-12-01T07:36:00Z\\\",\\n    \\\"Width\\\": 640,\\n    \\\"Duration\\\": 20,\\n    \\\"OssEndpoint\\\": \\\"cn-oss-****.aliyuncs.com\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateLiveStreamRecordIndexFilesResponse>\\n    <RequestId>550439A3-F8EC-4CA2-BB62-B9DB43EEEF30</RequestId>\\n    <RecordInfo>\\n        <EndTime>2015-12-01T07:40:00Z</EndTime>\\n        <DomainName>example.com</DomainName>\\n        <CreateTime>2016-05-27T09:40:56Z</CreateTime>\\n        <StartTime>2015-12-01T07:36:00Z</StartTime>\\n        <OssBucket>liveBucket****</OssBucket>\\n        <Duration>20</Duration>\\n        <AppName>liveApp****</AppName>\\n        <StreamName>liveStream****</StreamName>\\n        <OssEndpoint>cn-oss-****.aliyuncs.com</OssEndpoint>\\n        <RecordUrl>http://*****/atestObject.m3u8</RecordUrl>\\n        <OssObject>liveObject****.m3u8</OssObject>\\n        <Height>480</Height>\\n        <RecordId>c4d7f0a4-b506-43f9-8de3-07732c3f****</RecordId>\\n        <Width>640</Width>\\n    </RecordInfo>\\n</CreateLiveStreamRecordIndexFilesResponse>\",\"errorExample\":\"\"}]","title":"创建录制索引文件","summary":"创建某个时间范围的M3U8索引文件。","description":"## 使用说明\n您已配置OSS，具体操作，请参见[配置OSS](~~84932~~)。\n直播录制索引是将视频直播流以M3U8的格式进行录制，存储在OSS中后，对已存储的TS分片索引文件进行实时的剪辑处理。  \n>- 创建录制索引必保证直播流发生过推流行为，如果设置的时间内未发生过直播或直播流名称错误等会导致创建录制索引失败。- StartTime和EndTime的差值至少是一片TS的时长（默认为30s）。- TS分片信息在视频直播系统中仅保存3个月，创建M3U8文件只能选择最近3个月的录制内容。- TS分片文件存储在OSS中，保存时间由OSS的存储配置决定。详细信息，请参见[设置生命周期规则](~~31904~~)。- 创建好的M3U8索引文件的信息在视频直播系统中仅保存6个月，若要查询仅能查询6个月内创建的索引文件的信息。- M3U8索引文件存储在OSS中，保存时间由OSS的存储配置决定。\n\n\n## QPS限制\n本接口的单用户QPS限制为45次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}