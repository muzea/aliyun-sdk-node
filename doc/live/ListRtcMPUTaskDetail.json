{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","abilityTreeCode":"226001","abilityTreeNodes":["FEATUREliveK6LRQR"]},"parameters":[{"name":"AppId","in":"query","schema":{"description":"应用ID。\n> 应用ID由大小写字母、数字、下划线、短划线（-）组成，最大64字符。","type":"string","required":true,"example":"yourAppId"}},{"name":"TaskId","in":"query","schema":{"description":"任务ID。\n> - 任务ID由大小写字母、数字、下划线、短划线（-）组成，最大55字符。\n- 指定任务ID时，优先按任务ID查询，返回结果为指定任务ID的旁路转推任务的参数明细。","type":"string","required":false,"example":"yourTaskId"}},{"name":"PageSize","in":"query","schema":{"description":"单页显示记录的数量，取值范围：1~100。\n> 未指定任务ID时，需要指定PageSize与PageNo参数，此时会返回指定应用ID下所有旁路转推任务参数明细的分页查询结果。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"PageNo","in":"query","schema":{"description":"页码。","type":"integer","format":"int64","required":false,"example":"20"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"******3B-0E1A-586A-AC29-742247******"},"MPUTasks":{"description":"任务参数明细，参数明细格式与调用创建混流任务时的参数格式一致。","type":"array","items":{"type":"object","properties":{"AppId":{"description":"应用ID。\n","type":"string","example":"yourAppId"},"ChannelId":{"description":"频道ID。","type":"string","example":"yourChannelId"},"TaskId":{"description":"任务ID，此ID为旁路转推任务的标识。","type":"string","example":"yourTaskId"},"MixMode":{"description":"混流模式。取值：\n- 0：单路转推，不混流转码，仅转推原始单路流，无需配置混流转码参数。\n- 1（默认值）：混流转码转推。","type":"string","example":"0"},"StreamURL":{"description":"直播推流地址。\n","type":"string","example":"rtmp://example.com/live/stream****"},"Region":{"description":"请求的混流服务所在区域。取值：\n- **CN-Shanghai<props=\"china\"><ph>（默认值）</ph></props>**：上海。\n- **AP-Singapore<props=\"intl\"><ph>（默认值）</ph></props>**：新加坡。\n- **EMAA-Saudi**：沙特。","type":"string","example":"CN-Shanghai"},"SingleSubParams":{"description":"单流转推参数。","type":"object","properties":{"SourceType":{"description":"单流转推模式下视频输入流类型，当视频流（StreamType=2）时有效。取值：\n- camera（默认值）：摄像头。\n- shareScreen：屏幕共享。","type":"string","example":"camera"},"StreamType":{"description":"单流转推模式下转推流类型。取值：\n- 0（默认值）：转推原始流。\n- 1：仅转推音频流。\n- 2：仅转推视频流。","type":"string","example":"0"},"UserId":{"description":"转推用户ID，一次只能转推一路流。","type":"string","example":"yourSubUserId"}}},"TranscodeParams":{"description":"混流转码转推参数。","type":"object","properties":{"Background":{"description":"混流全局背景图。","type":"object","properties":{"RenderMode":{"description":"子画面输出时的显示模式：\n- 0：缩放并显示黑底。\n- 1（默认）：裁剪。","type":"string","example":"1"},"URL":{"description":"全局背景图URL。","type":"string","example":"yourImageUrl"}}},"EncodeParams":{"description":"转推输出的编码参数。","type":"object","properties":{"AudioOnly":{"description":"是否为纯音频，取值：\n- true：纯音频。\n- false（默认值）：非纯音频。","type":"string","example":"false"},"AudioBitrate":{"description":"音频码率，单位：kbps。","type":"string","example":"128"},"AudioChannels":{"description":"音频声道数，取值：1、2。","type":"string","example":"2"},"AudioSampleRate":{"description":"音频采样率，单位：Hz。","type":"string","example":"44100"},"VideoCodec":{"description":"视频编码格式。默认值H.264。","type":"string","example":"H.264"},"VideoBitrate":{"description":"视频码率，单位：kbps。","type":"string","example":"3500"},"VideoFramerate":{"description":"视频帧率，单位：fps。","type":"string","example":"25"},"VideoGop":{"description":"视频GOP。","type":"string","example":"20"},"VideoHeight":{"description":"视频高，单位：px。","type":"string","example":"1000"},"VideoWidth":{"description":"视频宽，单位：px。","type":"string","example":"1920"},"EnhancedParam":{"description":"编码增强参数，JSON字符串，目前支持的可选配置包括profile与preset。\n- profile：编码级别。当视频编码格式为H.264时，profile支持的可选值包括：\"baseline\", \"main\", \"high\"。\n- preset：调节编码速度和质量的平衡。preset支持的可选值包括：\"ultrafast\", \"superfast\", \"veryfast\", \"faster\", \"fast\", \"medium\", \"slow\", \"slower\", \"veryslow\" \"placebo\"。每个值代表了一种编码速度与输出视频质量的策略，从\"ultrafast\"（极快，编码速度优先）到\"placebo\"（追求极致质量，编码极慢）。","type":"string","example":"{\"profile\": \"high\", \"preset\": \"veryfast\"}"}}},"Layout":{"description":"视频布局信息。\n> 视频转码时所指定的视频布局信息，包括布局坐标(X，Y)，布局窗格(Width，Height)，叠放顺序(ZOrder)；纯音频转码时，不包含视频布局信息。","type":"object","properties":{"UserPanes":{"description":"混流用户窗格信息。","type":"array","items":{"type":"object","properties":{"UserInfo":{"description":"混流用户信息。\n","type":"object","properties":{"SourceType":{"description":"混流转码模模式下视频输入流类型，仅针对视频流（StreamType=2）有效。取值：\n- camera（默认值）：摄像头。\n- shareScreen：屏幕共享。","type":"string","example":"camera"},"UserId":{"description":"混流用户ID。","type":"string","example":"yourSubUserId"}}},"Height":{"description":"窗格高，归一化百分比。","type":"string","example":"0.2632"},"Width":{"description":"窗格宽，归一化百分比。","type":"string","example":"0.3564"},"X":{"description":"坐标X，归一化百分比。","type":"string","example":"0.2456"},"Y":{"description":"坐标Y，归一化百分比。","type":"string","example":"0.3789"},"ZOrder":{"description":"叠放顺序，0为最底层，1层在0层之上，以此类推。","type":"string","example":"0"},"BackgroundImageUrl":{"description":"子画面的背景图URL。当用户关闭摄像头或未进入房间时，会在布局位置填充为此图片。","type":"string","example":"yourImageUrl"},"RenderMode":{"description":"子画面输出时的显示模式，取值：\n- 0：缩放并显示黑底。\n- 1（默认值）：裁剪。","type":"string","example":"1"}}}}}},"UserInfos":{"description":"混流用户信息，不指定用户则所有用户混流。","type":"array","items":{"type":"object","properties":{"UserId":{"description":"混流用户ID。","type":"string","example":"yourSubUserId"},"SourceType":{"description":"混流转码模模式下视频输入流类型，仅针对视频流（StreamType=2）有效。取值：\n- camera（默认值）：摄像头\n- shareScreen：屏幕共享。","type":"string","example":"camera"},"StreamType":{"description":"混流转码模式下转推流类型。取值：\n- 0（默认值）：转推原始流。\n- 1：仅转推音频流。\n- 2：仅转推视频流。","type":"string","example":"0"}}}}}},"SeiParams":{"description":"SEI配置参数。","type":"object","properties":{"LayoutVolume":{"description":"布局和音量SEI，该参数内容为空则表示携带默认的布局和音量SEI。","type":"object","properties":{"FollowIdr":{"description":"发送IDR关键帧时是否确保携带SEI，取值：\n- 0：不确保带SEI。\n- 1：确保带SEI。","type":"string","example":"0"},"Interval":{"description":"SEI发送间隔，单位：毫秒。","type":"string","example":"1000"}}},"PassThrough":{"description":"透传SEI。","type":"object","properties":{"FollowIdr":{"description":"发送IDR关键帧时是否确保携带SEI，取值：\n- 0：不确保带SEI。\n- 1：确保带SEI。","type":"string","example":"0"},"Interval":{"description":"SEI发送间隔，单位：毫秒。","type":"string","example":"1000"},"PayloadContent":{"description":"透传SEI的payload内容。","type":"string","example":"yourPayloadContent"},"PayloadContentKey":{"description":"透传SEI的payload内容对应的key值。不设置时，key为默认值udd。","type":"string","example":"yourPayloadContentKey"}}},"PayloadType":{"description":"SEI消息的自定义payload_type，取值范围100-254。不设置时，SEI的payload_type为默认值为5。","type":"string","example":"100"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParam","errorMessage":"%s"},{"errorCode":"InvalidAppId","errorMessage":"%s"}],"403":[{"errorCode":"OperationDenied","errorMessage":"Your account has not enabled the Live service"},{"errorCode":"Forbidden","errorMessage":"%s"}],"404":[{"errorCode":"MissingParam","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"InternalError"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"******3B-0E1A-586A-AC29-742247******\\\",\\n  \\\"MPUTasks\\\": [\\n    {\\n      \\\"AppId\\\": \\\"yourAppId\\\",\\n      \\\"ChannelId\\\": \\\"yourChannelId\\\",\\n      \\\"TaskId\\\": \\\"yourTaskId\\\",\\n      \\\"MixMode\\\": \\\"0\\\",\\n      \\\"StreamURL\\\": \\\"rtmp://example.com/live/stream****\\\",\\n      \\\"Region\\\": \\\"CN-Shanghai\\\",\\n      \\\"SingleSubParams\\\": {\\n        \\\"SourceType\\\": \\\"camera\\\",\\n        \\\"StreamType\\\": \\\"0\\\",\\n        \\\"UserId\\\": \\\"yourSubUserId\\\"\\n      },\\n      \\\"TranscodeParams\\\": {\\n        \\\"Background\\\": {\\n          \\\"RenderMode\\\": \\\"1\\\",\\n          \\\"URL\\\": \\\"yourImageUrl\\\"\\n        },\\n        \\\"EncodeParams\\\": {\\n          \\\"AudioOnly\\\": \\\"false\\\",\\n          \\\"AudioBitrate\\\": \\\"128\\\",\\n          \\\"AudioChannels\\\": \\\"2\\\",\\n          \\\"AudioSampleRate\\\": \\\"44100\\\",\\n          \\\"VideoCodec\\\": \\\"H.264\\\",\\n          \\\"VideoBitrate\\\": \\\"3500\\\",\\n          \\\"VideoFramerate\\\": \\\"25\\\",\\n          \\\"VideoGop\\\": \\\"20\\\",\\n          \\\"VideoHeight\\\": \\\"1000\\\",\\n          \\\"VideoWidth\\\": \\\"1920\\\",\\n          \\\"EnhancedParam\\\": \\\"{\\\\\\\"profile\\\\\\\": \\\\\\\"high\\\\\\\", \\\\\\\"preset\\\\\\\": \\\\\\\"veryfast\\\\\\\"}\\\"\\n        },\\n        \\\"Layout\\\": {\\n          \\\"UserPanes\\\": [\\n            {\\n              \\\"UserInfo\\\": {\\n                \\\"SourceType\\\": \\\"camera\\\",\\n                \\\"UserId\\\": \\\"yourSubUserId\\\"\\n              },\\n              \\\"Height\\\": \\\"0.2632\\\",\\n              \\\"Width\\\": \\\"0.3564\\\",\\n              \\\"X\\\": \\\"0.2456\\\",\\n              \\\"Y\\\": \\\"0.3789\\\",\\n              \\\"ZOrder\\\": \\\"0\\\",\\n              \\\"BackgroundImageUrl\\\": \\\"yourImageUrl\\\",\\n              \\\"RenderMode\\\": \\\"1\\\"\\n            }\\n          ]\\n        },\\n        \\\"UserInfos\\\": [\\n          {\\n            \\\"UserId\\\": \\\"yourSubUserId\\\",\\n            \\\"SourceType\\\": \\\"camera\\\",\\n            \\\"StreamType\\\": \\\"0\\\"\\n          }\\n        ]\\n      },\\n      \\\"SeiParams\\\": {\\n        \\\"LayoutVolume\\\": {\\n          \\\"FollowIdr\\\": \\\"0\\\",\\n          \\\"Interval\\\": \\\"1000\\\"\\n        },\\n        \\\"PassThrough\\\": {\\n          \\\"FollowIdr\\\": \\\"0\\\",\\n          \\\"Interval\\\": \\\"1000\\\",\\n          \\\"PayloadContent\\\": \\\"yourPayloadContent\\\",\\n          \\\"PayloadContentKey\\\": \\\"yourPayloadContentKey\\\"\\n        },\\n        \\\"PayloadType\\\": \\\"100\\\"\\n      }\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListRtcMPUTaskDetailResponse>\\n    <RequestId>******3B-0E1A-586A-AC29-742247******</RequestId>\\n    <MPUTasks>\\n        <AppId>yourAppId</AppId>\\n        <ChannelId>yourChannelId</ChannelId>\\n        <TaskId>yourTaskId</TaskId>\\n        <MixMode>0</MixMode>\\n        <StreamURL>rtmp://example.com/live/stream****</StreamURL>\\n        <Region>CN-Shanghai</Region>\\n        <SingleSubParams>\\n            <SourceType>camera</SourceType>\\n            <StreamType>0</StreamType>\\n            <UserId>yourSubUserId</UserId>\\n        </SingleSubParams>\\n        <TranscodeParams>\\n            <Background>\\n                <RenderMode>1</RenderMode>\\n                <URL>yourImageUrl</URL>\\n            </Background>\\n            <EncodeParams>\\n                <AudioOnly>false</AudioOnly>\\n                <AudioBitrate>128</AudioBitrate>\\n                <AudioChannels>2</AudioChannels>\\n                <AudioSampleRate>44100</AudioSampleRate>\\n                <VideoCodec>H.264</VideoCodec>\\n                <VideoBitrate>3500</VideoBitrate>\\n                <VideoFramerate>25</VideoFramerate>\\n                <VideoGop>20</VideoGop>\\n                <VideoHeight>1000</VideoHeight>\\n                <VideoWidth>1920</VideoWidth>\\n                <EnhancedParam>{\\\"profile\\\": \\\"high\\\", \\\"preset\\\": \\\"veryfast\\\"}</EnhancedParam>\\n            </EncodeParams>\\n            <Layout>\\n                <UserPanes>\\n                    <UserInfo>\\n                        <SourceType>camera</SourceType>\\n                        <UserId>yourSubUserId</UserId>\\n                    </UserInfo>\\n                    <Height>0.2632</Height>\\n                    <Width>0.3564</Width>\\n                    <X>0.2456</X>\\n                    <Y>0.3789</Y>\\n                    <ZOrder>0</ZOrder>\\n                    <BackgroundImageUrl>yourImageUrl</BackgroundImageUrl>\\n                    <RenderMode>1</RenderMode>\\n                </UserPanes>\\n            </Layout>\\n            <UserInfos>\\n                <UserId>yourSubUserId</UserId>\\n                <SourceType>camera</SourceType>\\n                <StreamType>0</StreamType>\\n            </UserInfos>\\n        </TranscodeParams>\\n        <SeiParams>\\n            <LayoutVolume>\\n                <FollowIdr>0</FollowIdr>\\n                <Interval>1000</Interval>\\n            </LayoutVolume>\\n            <PassThrough>\\n                <FollowIdr>0</FollowIdr>\\n                <Interval>1000</Interval>\\n                <PayloadContent>yourPayloadContent</PayloadContent>\\n                <PayloadContentKey>yourPayloadContentKey</PayloadContentKey>\\n            </PassThrough>\\n            <PayloadType>100</PayloadType>\\n        </SeiParams>\\n    </MPUTasks>\\n</ListRtcMPUTaskDetailResponse>\",\"errorExample\":\"\"}]","title":"查询混流转推任务参数明细","summary":"调用ListRtcMPUTaskDetail查询混流转推任务参数明细。","description":"## 使用说明\n- 本接口用于查询混流转推任务的参数明细，仅可查询通过API创建的混流转推任务。\n- 分页查询时，查询结果默认按照任务的更新时间倒序排列。\n## QPS限制\n本接口的单用户QPS限制为50次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。"}