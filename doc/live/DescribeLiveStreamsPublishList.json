{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"推流域名或主播流域名。","type":"string","required":true,"example":"example.com"}},{"name":"AppName","in":"query","schema":{"description":"播流所属应用名称。","type":"string","required":false,"example":"liveApp****"}},{"name":"StreamName","in":"query","schema":{"description":"播流名称。","type":"string","required":false,"example":"liveStream****"}},{"name":"StartTime","in":"query","schema":{"description":"推流时间。\n\n格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"example":"2017-12-21T08:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间。EndTime和StartTime之间的间隔不能超过30天。\n\n格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":true,"example":"2017-12-22T08:00:00Z"}},{"name":"PageSize","in":"query","schema":{"description":"分页大小。取值范围：**1~3000**，默认值为**2000**。","type":"integer","format":"int32","required":false,"example":"1500","default":"2000"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"StreamType","in":"query","schema":{"description":"流类型。取值：\n\n- **all**（默认值）：查询所有流。\n- **raw**：查询原始流。\n- **trans**：查询转码流。","type":"string","required":false,"example":"all","enum":["all","raw","trans"]}},{"name":"QueryType","in":"query","schema":{"description":"指定是否模糊匹配流名称。取值：\n- **fuzzy**（默认值）：模糊匹配。\n- **strict**：精准匹配。","type":"string","required":false,"example":"fuzzy","enum":["fuzzy","strict"]}},{"name":"OrderBy","in":"query","schema":{"description":"排序方式。取值：\n\n- **stream_name_desc**：按直播流名称倒序。\n- **stream_name_asc**：按直播流名称升序。\n- **publish_time_desc**：按推流时间倒序。\n- **publish_time_asc**（默认值）：按推流时间升序。","type":"string","required":false,"example":"publish_time_desc","enum":["stream_name_desc","stream_name_asc","publish_time_desc","publish_time_asc"]}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalPage":{"description":"总页数。","type":"integer","format":"int32","example":"2"},"PageNum":{"description":"分页的页码。","type":"integer","format":"int32","example":"2"},"PageSize":{"description":"每页大小。","type":"integer","format":"int32","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":" 40A4F36D-A7CC-473A-88E7-154F92242566"},"TotalNum":{"description":"符合条件的总个数。","type":"integer","format":"int32","example":"11"},"PublishInfo":{"type":"object","properties":{"LiveStreamPublishInfo":{"description":"推流记录信息。","type":"array","items":{"type":"object","properties":{"EdgeNodeAddr":{"description":"CDN上行节点IP。","type":"string","example":"10.175.XX.XX"},"PublishUrl":{"description":"推流完整URL地址。","type":"string","example":"rtmp://demo.aliyundoc.com/liveApp****/liveStream****"},"StreamName":{"description":"播流名称。","type":"string","example":"liveStream****"},"DomainName":{"description":"推流域名或主播流域名。","type":"string","example":"example.com"},"StopTime":{"description":"停止推流时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-02T03:11:19Z"},"TranscodeId":{"description":"若有转码，返回转码模板ID。","type":"string","example":"ld"},"PublishDomain":{"description":"推流域名。","type":"string","example":"demo.aliyundoc.com"},"AppName":{"description":"播流所属应用名称。","type":"string","example":"liveApp****"},"PublishTime":{"description":"开始推流时间。格式为：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2015-12-02T03:05:53Z"},"PublishType":{"description":"推流类型。取值：\n\n- **edge**：边缘推流。\n- **center**：中心推流。\n","type":"string","example":"edge"},"Transcoded":{"description":"是否是转码流。","type":"string","example":"yes"},"ClientAddr":{"description":"主播IP。","type":"string","example":"10.175.XX.XX"},"StreamUrl":{"description":"播流的URL。","type":"string","example":"http://example.com/liveApp****/liveStream****.flv"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"QpsOverLimit","errorMessage":"Qps is over limit for this domainName."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"Specified parameter StartTime is not valid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"Specified parameter EndTime is not valid."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified value of parameter StartTime is not supported."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified end time does not match the specified start time."},{"errorCode":"Duration.Exceed","errorMessage":"Duration between StartTime and EndTime is too long."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalPage\\\": 2,\\n  \\\"PageNum\\\": 2,\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\" 40A4F36D-A7CC-473A-88E7-154F92242566\\\",\\n  \\\"TotalNum\\\": 11,\\n  \\\"PublishInfo\\\": {\\n    \\\"LiveStreamPublishInfo\\\": [\\n      {\\n        \\\"EdgeNodeAddr\\\": \\\"10.175.XX.XX\\\",\\n        \\\"PublishUrl\\\": \\\"rtmp://demo.aliyundoc.com/liveApp****/liveStream****\\\",\\n        \\\"StreamName\\\": \\\"liveStream****\\\",\\n        \\\"DomainName\\\": \\\"example.com\\\",\\n        \\\"StopTime\\\": \\\"2015-12-02T03:11:19Z\\\",\\n        \\\"TranscodeId\\\": \\\"ld\\\",\\n        \\\"PublishDomain\\\": \\\"demo.aliyundoc.com\\\",\\n        \\\"AppName\\\": \\\"liveApp****\\\",\\n        \\\"PublishTime\\\": \\\"2015-12-02T03:05:53Z\\\",\\n        \\\"PublishType\\\": \\\"edge\\\",\\n        \\\"Transcoded\\\": \\\"yes\\\",\\n        \\\"ClientAddr\\\": \\\"10.175.XX.XX\\\",\\n        \\\"StreamUrl\\\": \\\"http://example.com/liveApp****/liveStream****.flv\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<DescribeLiveStreamsPublishListResponse>\\n<TotalNum>11</TotalNum>\\n<TotalPage>2</TotalPage>\\n<PageSize>10</PageSize>\\n<PageNum>2</PageNum>\\n<RequestId> 40A4F36D-A7CC-473A-88E7-154F92242566</RequestId>\\n<PublishInfo>\\n    <LiveStreamPublishInfo>\\n        <PublishUrl>rtmp://demo.aliyundoc.com/liveApp****/liveStream****</PublishUrl>\\n        <ClientAddr>10.175.XX.XX</ClientAddr>\\n        <StreamName>liveStream****</StreamName>\\n        <TranscodeId>ld</TranscodeId>\\n        <DomainName>example.com</DomainName>\\n        <EdgeNodeAddr>10.175.XX.XX</EdgeNodeAddr>\\n        <PublishDomain>demo.aliyundoc.com</PublishDomain>\\n        <Transcoded>yes</Transcoded>\\n        <PublishTime>2015-12-02T03:05:53Z</PublishTime>\\n        <PublishType>edge</PublishType>\\n        <StreamUrl>http://example.com/liveApp****/liveStream****.flv</StreamUrl>\\n        <StopTime>2015-12-02T03:11:19Z</StopTime>\\n        <AppName>liveApp****</AppName>\\n    </LiveStreamPublishInfo>\\n</PublishInfo>\\n</DescribeLiveStreamsPublishListResponse>\",\"errorExample\":\"{\\n    \\\"PageNum\\\":2,\\n    \\\"PageSize\\\":10,\\n    \\\"PublishInfo\\\":{\\n        \\\"LiveStreamPublishInfo\\\":[{\\n            \\\"AppName\\\":\\\"xchen\\\",\\n            \\\"ClientAddr\\\":\\\"10.175.60.33\\\",\\n            \\\"DomainName\\\":\\\"test101.cdnpe.com\\\",\\n            \\\"EdgeNodeAddr\\\":\\\"10.175.30.21\\\",\\n            \\\"PublishDomain\\\":\\\"test101.cdnpe.com\\\",\\n            \\\"PublishTime\\\":\\\"2015-12-02T03:05:53Z\\\",\\n            \\\"PublishUrl\\\":\\\"rtmp://test101.cdnpe.com/xchen\\\",\\n            \\\"StopTime\\\":\\\"2015-12-02T03:11:19Z\\\",\\n            \\\"StreamName\\\":\\\"testxchen\\\",\\n            \\\"StreamUrl\\\":\\\"rtmp://xxx/xxxx\\\"\\n        }]\\n    },\\n    \\\"RequestId\\\":\\\"1C0E0C22-77B7-42AC-8212-AF99B2E0077F\\\",\\n    \\\"TotalNum\\\":11,\\n    \\\"TotalPage\\\":2\\n}\"}]","title":"查询域名历史流列表","summary":"获取某一时间段内某个域名（或域名下某应用或某个流）的历史推流记录。","description":"## 使用说明\n调用本接口最多可查询近30天的历史流。返回的数据为查询时间段内的在线流信息。本接口目前支持以下排序方式：\n\n- stream_name_desc：按直播流名称倒序。\n\n- stream_name_asc：按直播流名称升序。\n\n- publish_time_desc：按推流时间倒序。\n\n- publish_time_asc：按推流时间升序。\n\n\n\n## QPS限制\n本接口的单用户QPS限制为3次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。\n\n\n","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}