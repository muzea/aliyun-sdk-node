{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"主播流域名。","type":"string","required":true,"example":"example.com"}},{"name":"AppName","in":"query","schema":{"description":"播流所属应用名称。","type":"string","required":false,"example":"liveApp****"}},{"name":"StreamName","in":"query","schema":{"description":"播流名称，仅支持输入单个StreamName。","type":"string","required":false,"example":"liveStream****"}},{"name":"OnlyStream","in":"query","schema":{"description":"是否只返回指定字段。取值：  \n\n- **yes**：结果只返回DomainName，AppName，StreamName，PublishTime 字段。  \n\n- **no**（默认值）：结果返回全部字段。","type":"string","required":false,"example":"no"}},{"name":"PageSize","in":"query","schema":{"description":"每页大小。取值范围：1~3000，默认值为2000。","type":"integer","format":"int32","required":false,"example":"1500","default":"2000"}},{"name":"PageNum","in":"query","schema":{"description":"当前页码。默认值为1。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"StreamType","in":"query","schema":{"description":"流类型。取值：  \n\n- **all**（默认值）：查询所有流。\n  \n- **raw**：查询原始流。\n  \n- **trans**：查询转码流。","type":"string","required":false,"example":"all","enum":["all","raw","trans"]}},{"name":"QueryType","in":"query","schema":{"description":"指定是否模糊匹配流名称。取值：\n\n- **fuzzy**（默认值）：模糊匹配。\n\n- **strict**：精准匹配。","type":"string","required":false,"example":"fuzzy","enum":["fuzzy","strict"]}}],"responses":{"200":{"schema":{"description":"在线流信息。","type":"object","properties":{"TotalPage":{"description":"总页数。","type":"integer","format":"int32","example":"2"},"PageNum":{"description":"分页的页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示的条数。","type":"integer","format":"int32","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"5c6a2a0df228-4a64- af62-20e91b9676b3"},"TotalNum":{"description":"符合条件的总个数。","type":"integer","format":"int32","example":"11"},"OnlineInfo":{"type":"object","properties":{"LiveStreamOnlineInfo":{"description":"正在推送流的信息。","type":"array","items":{"description":"正在推送流的信息。","type":"object","properties":{"AudioDataRate":{"description":"直播流的音频码率。单位：Kbps。","type":"integer","format":"int32","example":"600"},"FrameRate":{"description":"帧率。单位：FPS。","type":"integer","format":"int32","example":"15"},"PublishUrl":{"description":"推流完整URL地址。","type":"string","example":"rtmp://demo.aliyundoc.com/live/test****"},"StreamName":{"description":"播流名称。","type":"string","example":"liveStream****"},"AudioCodecId":{"description":"音频Codec ID。","type":"integer","format":"int32","example":"10"},"Height":{"description":"视频分辨率高度。单位：pixel。","type":"integer","format":"int32","example":"720"},"VideoDataRate":{"description":"直播流的视频码率。单位：Kbps。","type":"integer","format":"int32","example":"600"},"DomainName":{"description":"主播流域名。","type":"string","example":"example.com"},"PublishDomain":{"description":"推流域名，使用中心推流的可直接填写播流域名。","type":"string","example":"demo.aliyundoc.com"},"PublishTime":{"description":"开始推流时间。格式为：yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","example":"2021-08-09T02:37:59Z"},"AppName":{"description":"播流所属应用名称。","type":"string","example":"liveApp****"},"PublishType":{"description":"推流类型，取值：\n\n- **edge**：边缘推流。\n\n- **center**：中心推流。","type":"string","example":"edge"},"VideoCodecId":{"description":"视频Codec ID。","type":"integer","format":"int32","example":"7"},"Transcoded":{"description":"是否是转码流。取值：\n\n- **yes**：是。\n\n- **no**：否。","type":"string","example":"no"},"Width":{"description":"视频分辨率宽度。单位：pixel。","type":"integer","format":"int32","example":"1280"},"ClientIp":{"description":"推流客户端IP。","type":"string","example":"106.11.XX.XX"},"ServerIp":{"description":"推流节点IP。","type":"string","example":"120.221.XX.XX"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"QpsOverLimit","errorMessage":"Qps is over limit for this domainName."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"Specified StartTime is malformed."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"Specified EndTime is malformed."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified end time does not match the specified start time."},{"errorCode":"Duration.Exceed","errorMessage":"Duration between StartTime and EndTime is too long."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalPage\\\": 2,\\n  \\\"PageNum\\\": 1,\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\"5c6a2a0df228-4a64- af62-20e91b9676b3\\\",\\n  \\\"TotalNum\\\": 11,\\n  \\\"OnlineInfo\\\": {\\n    \\\"LiveStreamOnlineInfo\\\": [\\n      {\\n        \\\"AudioDataRate\\\": 600,\\n        \\\"FrameRate\\\": 15,\\n        \\\"PublishUrl\\\": \\\"rtmp://demo.aliyundoc.com/live/test****\\\",\\n        \\\"StreamName\\\": \\\"liveStream****\\\",\\n        \\\"AudioCodecId\\\": 10,\\n        \\\"Height\\\": 720,\\n        \\\"VideoDataRate\\\": 600,\\n        \\\"DomainName\\\": \\\"example.com\\\",\\n        \\\"PublishDomain\\\": \\\"demo.aliyundoc.com\\\",\\n        \\\"PublishTime\\\": \\\"2021-08-09T02:37:59Z\\\",\\n        \\\"AppName\\\": \\\"liveApp****\\\",\\n        \\\"PublishType\\\": \\\"edge\\\",\\n        \\\"VideoCodecId\\\": 7,\\n        \\\"Transcoded\\\": \\\"no\\\",\\n        \\\"Width\\\": 1280,\\n        \\\"ClientIp\\\": \\\"106.11.XX.XX\\\",\\n        \\\"ServerIp\\\": \\\"120.221.XX.XX\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeLiveStreamsOnlineListResponse>\\n    <TotalPage>2</TotalPage>\\n    <PageNum>1</PageNum>\\n    <PageSize>10</PageSize>\\n    <RequestId>5c6a2a0df228-4a64- af62-20e91b9676b3</RequestId>\\n    <TotalNum>11</TotalNum>\\n    <OnlineInfo>\\n        <AudioDataRate>600</AudioDataRate>\\n        <FrameRate>15</FrameRate>\\n        <PublishUrl>rtmp://demo.aliyundoc.com/live/test****</PublishUrl>\\n        <StreamName>liveStream****</StreamName>\\n        <AudioCodecId>10</AudioCodecId>\\n        <Height>720</Height>\\n        <VideoDataRate>600</VideoDataRate>\\n        <DomainName>example.com</DomainName>\\n        <PublishDomain>demo.aliyundoc.com</PublishDomain>\\n        <PublishTime>2021-08-09T02:37:59Z</PublishTime>\\n        <AppName>liveApp****</AppName>\\n        <PublishType>edge</PublishType>\\n        <VideoCodecId>7</VideoCodecId>\\n        <Transcoded>no</Transcoded>\\n        <Width>1280</Width>\\n        <ClientIp>106.11.XX.XX</ClientIp>\\n        <ServerIp>120.221.XX.XX</ServerIp>\\n    </OnlineInfo>\\n</DescribeLiveStreamsOnlineListResponse>\",\"errorExample\":\"\"}]","title":"查询域名在线流列表","summary":"查询指定域名或者指定域名下某个应用的所有在线流信息。","description":"## 使用说明\n本接口目前支持以下几种流类型：  \n\n- all：查询所有流。\n\n- raw：查询原始流。\n\n- trans：查询转码流。\n\n## QPS限制\n本接口的单用户QPS限制为10000次/分钟。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}