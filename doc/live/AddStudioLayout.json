{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"CasterId","in":"query","schema":{"description":"导播台ID。\n\n><notice>需要提前创建好，必须是虚拟演播厅类型的导播台。可通过控制台或调用[CreateCaster](~~69338~~)接口添加导播台，类型需选择虚拟演播厅。\n></notice>\n\n- 如果您通过[CreateCaster接口](~~69338~~)创建导播台，请查看CreateCaster接口调用返回的参数CasterId值。\n\n- 如果您通过直播控制台创建导播台，请通过**直播控制台** > **导播台** > **云导播台**页面查看。\n\n> 直播控制台云导播台页面导播台列表中的导播台名称即导播台ID。\n","type":"string","required":true,"example":"a2b8e671-2fe5-4642-a2ec-bf93880e****"}},{"name":"LayoutName","in":"query","schema":{"description":"演播厅布局名称。","type":"string","required":true,"example":"测试布局"}},{"name":"LayoutType","in":"query","schema":{"description":"演播厅布局类型。取值：\n\n- **common**：通用布局。当LayoutType取值为common时，请求参数CommonConfig为必填。\n- **studio**：演播厅布局。当LayoutType取值为studio时，请求参数BgImageConfig和ScreenInputConfigList为必填，MediaInputConfigList为选填。","type":"string","required":true,"example":"studio"}},{"name":"CommonConfig","in":"query","schema":{"description":"通用布局配置。格式为JSON字符串，请参见**CommonConfig**。\n\n><notice>当请求参数LayoutType取值为common时，本参数才必填。\n></notice>\n","type":"string","required":false,"example":"{\"ChannelId\":\"RV01\" }"}},{"name":"BgImageConfig","in":"query","schema":{"description":"背景资源配置。格式为JSON字符串，请参见**BgImageConfig**。\n\n><notice>当请求参数LayoutType取值为studio时，本参数才必填。\n></notice>\n","type":"string","required":false,"example":"{ \"Id\":\"k12kj31****\", \"MaterialId\":\"f080575eb5f4427684fc0715159a****\" }"}},{"name":"ScreenInputConfigList","in":"query","schema":{"description":"抠像输入设置。格式为JSON字符串，请参见**ScreenInputConfig**。\n\n><notice>当请求参数LayoutType取值为studio时，本参数才必填。\n></notice>\n","type":"string","required":false,"example":"[ \t{ \t\"Index\":\"1\", \t\"ChannelId\":\"RV01\", \t\"Color\":\"green\", \t\"PositionX\":\"0.1\", \t\"PositionY\":\"0.2\", \t\"HeightNormalized\":\"0.4\" \t} ]"}},{"name":"MediaInputConfigList","in":"query","schema":{"description":"多媒体输入资源设置。格式为JSON字符串，请参见**MediaInputConfig**。\n\n><notice>当请求参数LayoutType取值为studio时，本参数才有效，且为选填。\n></notice>\n","type":"string","required":false,"example":"[ \t{ \t\"Id\":\"k12kj31****\", \t\"Index\":\"1\", \t\"ChannelId\":\"RV01\", \t\"FillMode\":\"none\", \t\"PositionRefer\":\"topLeft\", \t\"WidthNormalized\":\"0.4\", \t\"HeightNormalized\":\"0.4\", \t\"PositionNormalized\":\"[0.1, 0.2]\" \t},   { \t\"Id\":\"k12kj31****\", \t\"Index\":\"2\", \t\"ImageMaterialId\":\"lkajsdfsa8fd89asd8****\", \t\"FillMode\":\"none\", \t\"PositionRefer\":\"topLeft\", \t\"WidthNormalized\":\"0.6\", \t\"HeightNormalized\":\"0.4\", \t\"PositionNormalized\":\"[0.1, 0.2]\" \t} ]"}},{"name":"LayerOrderConfigList","in":"query","schema":{"description":"图层顺序设置。格式为JSON字符串，请参见**layerOrderConfig**。\n支持背景素材、多媒体素材排序，暂不支持抠像层。越排在前面，越在底层。","type":"string","required":false,"example":"[ \t{ \t\"Type\":\"media\", \t\"Id\":\"k12kj31****\" \t}, \t{ \t\"Type\":\"media\", \t\"Id\":\"k12kj31****\" \t} ]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"LayoutId":{"description":"布局ID。可作为删除虚拟演播厅布局、修改虚拟演播厅布局和查询虚拟演播厅布局的请求参数。","type":"string","example":"445409ec-7eaa-461d-8f29-4bec2eb9****"},"RequestId":{"description":"请求ID。","type":"string","example":"5c6a2a0d-f228-4a64-af62-20e91b9676b3"}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"%s"},{"errorCode":"InvalidParameter.Malformed","errorMessage":"%s"},{"errorCode":"InvalidCasterId.Malformed","errorMessage":"%s"},{"errorCode":"InvalidUserId.Malformed","errorMessage":"%s"},{"errorCode":"InvalidPositionNormalized.Malformed","errorMessage":"%s"},{"errorCode":"InvalidHeightOrWidthNormalized","errorMessage":"%s"}],"401":[{"errorCode":"IllegalOperation","errorMessage":"%s"}],"404":[{"errorCode":"InvalidCaster.NotFound","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"LayoutId\\\": \\\"445409ec-7eaa-461d-8f29-4bec2eb9****\\\",\\n  \\\"RequestId\\\": \\\"5c6a2a0d-f228-4a64-af62-20e91b9676b3\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddStudioLayoutResponse>\\n    <LayoutId>445409ec-7eaa-461d-8f29-4bec2eb9****</LayoutId>\\n    <RequestId>5c6a2a0d-f228-4a64-af62-20e91b9676b3</RequestId>\\n</AddStudioLayoutResponse>\",\"errorExample\":\"\"}]","title":"添加虚拟演播厅布局","summary":"添加虚拟演播厅的布局设置。","description":"## 使用说明\n调用本接口添加虚拟演播厅的布局设置。本接口目前支持的演播厅布局类型为通用布局和演播厅布局。\n\n\n## QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。\n","requestParamsDescription":"## CommonConfig\n| 名称            | 类型   | 示例                  | 描述                       |\n| --------------- | ------ | --------------------- | -------------------------- |\n| ChannelId       | String | RV01                  | 视频资源绑定的通道位置ID。 |\n\n## BgImageConfig\n> 其中ImageUrl和MaterialId仅能输入一个。\n| 名称            | 类型   | 示例                  | 描述                       |\n| --------------- | ------ | --------------------- | -------------------------- |\n| Id | String | k12kj31**** | 该背景素材唯一ID。               |\n| ImageUrl       | String | http://aliyundoc.com       | 素材地址URL。 |\n| MaterialId       | String | f080575eb5f4427684fc0715159a**** | 点播素材ID。 |\n\n## ScreenInputConfig\n| 名称             | 类型    | 示例                                 | 描述                                                         |\n| ---------------- | ------- | ------------------------------------ | ------------------------------------------------------------ |\n| Index            | Integer | 1                                    | 抠像源编号。前端展示使用，无逻辑作用，要求取正整数（>0）。   |\n| ChannelId        | String  | RV01                                 | 视频资源绑定的通道位置ID。                                   |\n| Color            | String  | green                                | 抠像色域。取值：<br>**blue**：蓝幕背景。<br>**green**：绿幕背景。<br>**auto**：自动识别。<br>**complex**：实景抠像。  |\n| PositionX        | Float   | 0.1                                  | 位置参数，坐标x。取值：[0,1]。<br>素材位置以左上角为基准点。 |\n| PositionY        | Float   | 0.2                                  | 位置参数，坐标y。取值：[0,1]。<br>素材位置以左上角为基准点。 |\n| HeightNormalized | Float   | 0.4                                  | 高度归一化值。即抠出的人像与背景的高度比。取值：[0,1]。                      |\n\n## MediaInputConfig\n- 当多媒体素材是视频源，传入ChannelId。\n- 当多媒体素材是图片，传入ImageMeterialId。\n- ChannelId和ImageMeterialId是互斥的，两者选填一项。\n\n| 名称               | 类型    | 示例                                 | 描述                                                         |\n| ------------------ | ------- | ------------------------------------ | ------------------------------------------------------------ |\n| Id                 | String  | k12kj31****                          | 该多媒体素材唯一ID。                                         |\n| Index              | Integer | 1                                    | 多媒体素材编号。前端展示使用，无逻辑作用，要求取正整数（>0）。 |\n| ChannelId          | String  | RV01                                 | 视频资源绑定的通道位置ID。                                   |\n| ImageMaterialId    | String  | lkajsdfsa8fd89asd8****               | 点播图片素材ID。                                             |\n| FillMode           | String  | none                                 | 填充类型。填**none**即可。                                   |\n| PositionRefer      | String  | topLeft                              | 素材的位置参考坐标值。填**topLeft**即可，表示位置设置以左上角为基准点。 |\n| WidthNormalized    | Float   | 0.4                                  | 素材的宽度归一化值。即素材与背景的宽度比。取值：[0,1]。      |\n| HeightNormalized   | Float   | 0.4                                  | 素材的高度归一化值。即素材与背景的高度比。取值：[0,1]。      |\n| PositionNormalized | Float   | [0.1, 0.2]                           | 素材的填充区位置归一化值[x,y]。x、y的取值范围分别为[0,1]。<br>例如[0.1,0.2] 代表左上角水平偏移10%，垂直偏移20%。 |\n\n## LayerOrderConfig\n| 名称 | 类型   | 示例        | 描述                                                         |\n| ---- | ------ | ----------- | ------------------------------------------------------------ |\n| Type | String | media       | 资源配置的类型。<br>background：背景素材。<br>media：多媒体素材。 |\n| Id   | String | k12kj31**** | 该资源的唯一ID。                                             |","responseParamsDescription":" ","extraInfo":" "}