{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"DomainName","in":"query","schema":{"description":"播流域名。\n>- 若参数为空，默认返回所有域名合并后数据。- 支持批量域名查询，多个域名用英文逗号（,）分隔。","type":"string","required":false,"example":"pull.aliyundoc.com"}},{"name":"StartTime","in":"query","schema":{"description":"获取数据起始时间，格式为：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。\n>不填默认读取过去24小时数据，最小数据粒度为5分钟。","type":"string","required":false,"example":"2022-03-15T16:00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间需大于起始时间，格式为：<i>yyyy-MM-ddTHH:mm:ssZ</i>（UTC时间）。","type":"string","required":false,"example":"2022-03-16T16:59:59Z"}},{"name":"Interval","in":"query","schema":{"description":"查询数据的时间粒度，单位：秒（s）。取值：\n\n- **300**\n\n- **3600**\n\n- **86400**\n>- 数据间隔≤3天，支持数据时间粒度300、3600、86400。- 3天＜数据间隔≤31天，支持数据时间粒度3600和86400。- 数据间隔＞31天，支持数据时间粒度86400。- 不传和传的值不支持时，使用默认值300。","type":"string","required":false,"example":"300"}},{"name":"IspNameEn","in":"query","schema":{"description":"运营商英文名，不传为所有运营商。\n>您可调用[DescribeLiveRegionAndIsp](~~91077~~)接口获取区域英文名和运营商英文名。","type":"string","required":false,"example":"tele***"}},{"name":"LocationNameEn","in":"query","schema":{"description":"区域英文名，不传为所有区域 。\n>您可调用[DescribeLiveRegionAndIsp](~~91077~~)接口获取区域英文名和运营商英文名。","type":"string","required":false,"example":"hangzhou"}},{"name":"Layer","in":"query","schema":{"description":"查询维度。可选：\n\n- 网络层（IPv4、IPv6）\n\n- 应用层（http、https、quic）\n\n- all（默认为all）","type":"string","required":false,"example":"all"}}],"responses":{"200":{"schema":{"type":"object","properties":{"BpsDataInterval":{"type":"object","properties":{"DataModule":{"description":"每个时间间隔的每秒访问次数Bps。","type":"array","items":{"type":"object","properties":{"TimeStamp":{"description":"时间片起始时刻。","type":"string","example":"2022-03-15T16:00:00Z"},"TrafficValue":{"description":"总流量，单位：Byte。","type":"string","example":"331"},"Value":{"description":"峰值带宽，单位：bps。","type":"string","example":"0.56"}}}}}},"DataInterval":{"description":"每条数据记录的时间间隔，以秒为单位。","type":"string","example":"300"},"RequestId":{"description":"请求ID。","type":"string","example":"BEA5625F-8FCF-48F4-851B-2A48566EA967"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.Malformed","errorMessage":"Specified parameter StartTime is not valid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"Specified parameter EndTime is not valid."},{"errorCode":"InvalidEndTime.Mismatch","errorMessage":"Specified end time does not math the specified start time."},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"Specified end time does not math the specified start time,And the time range does not exceed 90 days."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"DataInterval\\\": \\\"300\\\",\\n  \\\"RequestId\\\": \\\"BEA5625F-8FCF-48F4-851B-2A48566EA967\\\",\\n  \\\"BpsDataInterval\\\": {\\n    \\\"DataModule\\\": [\\n      {\\n        \\\"Value\\\": \\\"0.56\\\",\\n        \\\"TrafficValue\\\": \\\"331\\\",\\n        \\\"TimeStamp\\\": \\\"2022-03-15T16:00:00Z\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeLiveDomainBpsDataByLayerResponse>\\n<RequestId>BEA5625F-8FCF-48F4-851B-2A48566EA967</RequestId>\\n<DataInterval>300</DataInterval>\\n<BpsDataInterval>\\n    <DataModule>\\n        <Value>0.56</Value>\\n        <TrafficValue>331</TrafficValue>\\n        <TimeStamp>2022-03-15T16:00:00Z</TimeStamp>\\n    </DataModule>\\n</BpsDataInterval>\\n</DescribeLiveDomainBpsDataByLayerResponse>\",\"errorExample\":\"\"}]","title":"按协议分类查询域名带宽及流量数据","summary":"调用DescribeLiveDomainBpsDataByLayer按协议分类获取域名带宽及流量信息。","description":"\n## 使用说明\n支持数据存储时长90天。\n支持批量域名查询，多个域名之间用英文逗号（,）分隔，最多支持500个域名。多个域名会按照聚合结果输出。\n**StartTime**和**EndTime**数据间隔跨度不同返回时间粒度也不同，具体如下：\n\n- 数据间隔≤3天，返回时间粒度五分钟。\n\n- 3天＜数据间隔≤31天，返回时间粒度1小时。\n\n- 数据间隔＞31天，返回时间粒度1天。\n\n>如果**StartTime**和**EndTime**均未指定数值，默认返回当前时间起24小时内数据。\n\n## QPS限制\n本接口的单用户QPS限制为20次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~343507~~)。\n","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}