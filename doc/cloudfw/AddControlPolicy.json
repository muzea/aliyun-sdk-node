{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"SourceIp","in":"query","schema":{"description":"访问者源IP地址。","type":"string","deprecated":true,"required":false,"example":"192.0.XX.XX"}},{"name":"Lang","in":"query","schema":{"description":"请求和接收消息的语言类型。取值：\n\n- **zh**（默认）：中文\n- **en**：英文","type":"string","required":false,"example":"zh"}},{"name":"AclAction","in":"query","schema":{"description":"访问控制策略中设置的流量通过云防火墙的方式。取值：\n\n- **accept**：放行\n- **drop**：拒绝\n- **log**：观察","type":"string","required":true,"example":"accept"}},{"name":"ApplicationName","in":"query","schema":{"description":"访问控制策略支持的应用类型。取值：\n- **FTP**\n- **HTTP**\n- **HTTPS**\n- **Memcache**\n- **MongoDB**\n- **MQTT**\n- **MySQL**\n- **RDP**\n- **Redis**\n- **SMTP**\n- **SMTPS**\n- **SSH**\n- **SSL_No_Cert**\n- **SSL**\n- **VNC**\n- **ANY**（表示所有类型的应用）\n\n> 支持的应用类型取值与协议类型（Proto）取值存在依赖关系。Proto为TCP协议时，ApplicationName支持选择以上所有应用类型中的任意一种；Proto为UDP、ICMP或ANY协议类型时，ApplicationName仅支持选择ANY。ApplicationNameList和ApplicationName二选一，必须传其中一个，不能同时为空。","type":"string","required":false,"example":"ANY"}},{"name":"Description","in":"query","schema":{"description":"访问控制策略的描述信息。","type":"string","required":true,"example":"放行流量"}},{"name":"DestPort","in":"query","schema":{"description":"访问控制策略中流量访问的目的端口。取值：\n\n- 当协议类型为ICMP时，DestPort取值为空。\n   \n> 协议类型为ICMP时，不支持对目的端口进行访问控制。\n\n- 当协议类型为TCP、UDP或ANY时，并且目的端口类型（DestPortType）为group时，DestPort取值为空。\n\n> 访问控制策略目的端口类型选择group（目的端口地址簿）时，您无需设置具体的目的端口号。需要该访问控制策略管控的所有端口会包含在目的端口地址簿中。\n\n- 当协议类型为TCP、UDP或ANY时，并且目的端口类型（DestPortType）为port时，DestPort取值为目的端口号。\n","type":"string","required":false,"example":"80"}},{"name":"Destination","in":"query","schema":{"description":"访问控制策略中的目的地址段。\n\n取值：\n- 当DestinationType为net时，Destination为目的CIDR。\n  \n  例如：1.2.XX.XX/24\n\n- 当DestinationType为group时，Destination为目的地址簿名称。\n\n  例如：db_group\n\n- 当DestinationType为domain时，Destination为目的域名。\n\n  例如：*.aliyuncs.com\n\n- 当DestinationType为location时，Destination为目的区域。\n\n  例如： \\[\"BJ11\", \"ZB\"\\]","type":"string","required":true,"example":"192.0.XX.XX/24"}},{"name":"DestinationType","in":"query","schema":{"description":"访问控制策略中的目的地址类型。取值：\n\n- **net**：目的网段（CIDR地址）\n- **group**：目的地址簿\n- **domain**：目的域名\n- **location**：目的区域","type":"string","required":true,"example":"net"}},{"name":"Direction","in":"query","schema":{"description":"访问控制策略的流量方向。取值：\n\n- **in**：外对内流量访问控制\n- **out**：内对外流量访问控制","type":"string","required":true,"example":"in"}},{"name":"Proto","in":"query","schema":{"description":"访问控制策略中流量访问的协议类型。取值：\n\n- **ANY**（任何协议）\n- **TCP**\n- **UDP**\n- **ICMP**","type":"string","required":true,"example":"ANY"}},{"name":"Source","in":"query","schema":{"description":"访问控制策略中的源地址。取值：\n\n- 当SourceType为net时，Source为源CIDR地址。\n\n  例如：1.1.XX.XX/24\n\n- 当SourceType为group时，Source为源地址簿名称。\n\n  例如：db_group\n\n- 当SourceType为location时，Source为源区域。\n\n  例如\\[\"BJ11\", \"ZB\"\\]","type":"string","required":true,"example":"192.0.XX.XX/24"}},{"name":"SourceType","in":"query","schema":{"description":"访问控制策略中的源地址类型。取值：\n- **net**：源网段（CIDR）\n- **group**：源地址簿\n- **location**：源区域","type":"string","required":true,"example":"net"}},{"name":"NewOrder","in":"query","schema":{"description":"访问控制策略生效的优先级。优先级数字从1开始顺序递增，优先级数字越小，优先级越高。\n","type":"string","required":true,"example":"1"}},{"name":"DestPortType","in":"query","schema":{"description":"访问控制策略中流量访问的目的端口类型。\n\n取值：\n\n- **port**：端口\n- **group**：端口地址簿","type":"string","required":false,"example":"port"}},{"name":"DestPortGroup","in":"query","schema":{"description":"访问控制策略中访问流量的目的端口地址簿名称。\n\n\n> DestPortType设置为group时，您需要设置目的端口地址簿名称。","type":"string","required":false,"example":"my_port_group"}},{"name":"Release","in":"query","schema":{"description":"访问控制策略的启用状态。策略创建后默认启用该策略。取值：\n- **true**：启用访问控制策略\n\n- **false**：不启用访问控制策略","type":"string","required":false,"example":"true"}},{"name":"IpVersion","in":"query","schema":{"description":"支持的IP地址版本。\n\n取值：\n\n- **4**：表示IPv4地址\n\n- **6**：表示IPv6地址","type":"string","required":false,"example":"6"}},{"name":"ApplicationNameList","in":"query","style":"repeatList","schema":{"description":"访问控制策略支持的应用类型列表。","type":"array","items":{"description":"访问控制策略支持的应用类型。取值：\n- **FTP**\n- **HTTP**\n- **HTTPS**\n- **Memcache**\n- **MongoDB**\n- **MQTT**\n- **MySQL**\n- **RDP**\n- **Redis**\n- **SMTP**\n- **SMTPS**\n- **SSH**\n- **SSL_No_Cert**\n- **SSL**\n- **VNC**\n- **ANY**（表示所有类型的应用）\n\n> 支持的应用类型取值与协议类型（Proto）取值存在依赖关系。Proto为TCP协议时，ApplicationNameList支持选择以上所有应用类型，使用`[\"HTTP\",\"HTTPS\",……]`格式表示；Proto为UDP、ICMP或ANY协议类型时，ApplicationNameList仅支持选择ANY。ApplicationNameList和ApplicationName二选一，必须传其中一个，不能同时为空。当ApplicationNameList和ApplicationName同时传值时，以ApplicationNameList为准。","type":"string","required":false,"example":"[\"ANY\"]"},"required":false,"maxItems":5}},{"name":"RepeatType","in":"query","schema":{"description":"访问控制策略的策略有效期的重复类型。取值：\n- **Permanent**（默认）：总是\n- **None**：指定单次时间\n- **Daily**：每天\n- **Weekly**：每周\n- **Monthly**：每月","type":"string","required":false,"enumValueTitles":{"Daily":"每天","Monthly":"每月","Permanent":"总是","Weekly":"每周","None":"指定单次时间"},"example":"Permanent"}},{"name":"RepeatDays","in":"query","style":"flat","schema":{"description":"访问控制策略的策略有效期的重复日期集合。\n- 当RepeatType为`Permanent`、`None`、`Daily`时，RepeatDays为空集合。\n  例如：[]\n- 当RepeatType为Weekly时，RepeatDays不能为空。\n  例如：[0, 6]\n> RepeatType设置为Weekly时，RepeatDays不允许重复。\n- 当RepeatType为`Monthly`时，RepeatDays不能为空。\n  例如：[1, 31]\n> RepeatType设置为Monthly时，RepeatDays不允许重复。","type":"array","items":{"description":"访问控制策略的策略有效期的重复日期。\n> RepeatType设置为Weekly时，取值范围：0~6，每周开始于周日。\n> RepeatType设置为Monthly时，取值范围：1~31。","type":"integer","format":"int64","required":false,"example":"1"},"required":false}},{"name":"RepeatStartTime","in":"query","schema":{"description":"访问控制策略的策略有效期的重复开始时间。例如：08:00，必须为整点或半点时间，且小于重复结束时间至少半小时。\n> 当RepeatType为Permanent、None时，RepeatStartTime为空。当RepeatType为Daily、Weekly、Monthly时，RepeatStartTime必须有值，您需要设置重复开始时间。","type":"string","required":false,"example":"08:00"}},{"name":"RepeatEndTime","in":"query","schema":{"description":"访问控制策略的策略有效期的重复结束时间。例如：23:30，必须为整点或半点时间，且大于重复开始时间至少半小时。\n> 当RepeatType为Permanent、None时，RepeatEndTime为空。当RepeatType为Daily、Weekly、Monthly时，RepeatEndTime必须有值，您需要设置重复结束时间。","type":"string","required":false,"example":"23:30"}},{"name":"StartTime","in":"query","schema":{"description":"访问控制策略的策略有效期的开始时间。使用秒级时间戳格式表示。必须为整点或半点时间，且小于结束时间至少半小时。\n> 当RepeatType为Permanent时，StartTime为空。当RepeatType为None、Daily、Weekly、Monthly时，StartTime必须有值，您需要设置开始时间。","type":"integer","format":"int64","required":false,"example":"1694761200"}},{"name":"EndTime","in":"query","schema":{"description":"访问控制策略的策略有效期的结束时间。使用秒级时间戳格式表示。必须为整点或半点时间，且大于开始时间至少半小时。\n> 当RepeatType为Permanent时，EndTime为空。当RepeatType为None、Daily、Weekly、Monthly时，EndTime必须有值，您需要设置结束时间。","type":"integer","format":"int64","required":false,"example":"1694764800"}}],"responses":{"200":{"schema":{"type":"object","properties":{"AclUuid":{"description":"互联网边界防火墙访问控制策略的唯一标识ID。","type":"string","example":"00281255-d220-4db1-8f4f-c4df221ad84c"},"RequestId":{"description":"返回结果的请求ID。","type":"string","example":"CBF1E9B7-D6A0-4E9E-AD3E-2B47E6C2837D"}}}}},"errorCodes":{"400":[{"errorCode":"ErrorAclExtendedCountExceed","errorMessage":"acl or expand acl count exceed"},{"errorCode":"ErrorAddressCountExceed","errorMessage":"The maximum number of addresses is exceeded."},{"errorCode":"ErrorParametersSource","errorMessage":"The source is invalid."},{"errorCode":"ErrorDomainResolve","errorMessage":"An error occurred while resolving the domain."},{"errorCode":"ErrorParametersDirection","errorMessage":"The direction is invalid."},{"errorCode":"ErrorDBSelect","errorMessage":"An error occurred while querying database."},{"errorCode":"ErrorParameterIpVersion","errorMessage":"The IP version is invalid."},{"errorCode":"ErrorParametersDestination","errorMessage":"The Destination parameter is invalid."},{"errorCode":"ErrorParametersProto","errorMessage":"The protocol is invalid."},{"errorCode":"ErrorParametersDestPort","errorMessage":"The dst_port is invalid."},{"errorCode":"ErrorParametersAction","errorMessage":"The action is invalid."},{"errorCode":"ErrorParametersUid","errorMessage":"The aliUid parameter is invalid."},{"errorCode":"ErrorParametersAppId","errorMessage":"The AppId parameter is incorrect."},{"errorCode":"ErrorAclDomainAnyCountExceed","errorMessage":"The number of resolved domain names cannot exceed 200. ACL configuration can be continued for HTTP, HTTPS, SMTP, SMTPS, and SSL applications."},{"errorCode":"ErrorParametersGroupPort","errorMessage":"The group port is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"AclUuid\\\": \\\"00281255-d220-4db1-8f4f-c4df221ad84c\\\",\\n  \\\"RequestId\\\": \\\"CBF1E9B7-D6A0-4E9E-AD3E-2B47E6C2837D\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddControlPolicyResponse>\\n    <AclUuid>00281255-d220-4db1-8f4f-c4df221ad84c</AclUuid>\\n    <RequestId>CBF1E9B7-D6A0-4E9E-AD3E-2B47E6C2837D</RequestId>\\n</AddControlPolicyResponse>\",\"errorExample\":\"\"}]","title":"添加访问控制策略","summary":"添加访问控制策略。","description":"您可以使用本接口创建一条对经过云防火墙流量放行、拒绝或观察的策略。\n\n## QPS限制\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。","requestParamsDescription":"地区编号如下：\n\n- 中国：ZD \n- 北京市：BJ11 \n- 天津市：TJ12 \n-  河北省：HB13 \n- 山西省：SX14\n- 辽宁省：LN21 \n- 吉林省：JL22 \n- 上海市：SH31 \n- 江苏省：JS32 \n- 浙江省：ZJ33 \n- 安徽省：AH34 \n- 福建省：FJ35 \n- 江西省：JX36 \n- 山东省：SD37 \n- 河南省：HN41 \n- 湖北省：HB42 \n- 湖南省：HN43 \n- 广东省：GD44 \n- 海南省：HN46 \n- 重庆市：CQ50 \n- 四川省：SC51 \n- 贵州省：GZ52 \n- 云南省：YN53 \n- 陕西省：SX61 \n- 甘肃省：GS62 \n- 青海省：QH63 \n- 黑龙江省：HLJ23 \n- 西藏自治区：XZ54 \n- 广西壮族自治区：GX45 \n- 内蒙古自治区：NMG15 \n- 宁夏回族自治区：NX64 \n- 新疆维吾尔自治区：XJ65 \n- 中国台湾：TW \n- 中国香港特别行政区：HK \n- 中国澳门特别行政区：MO \n- 海外：ZB \n- 亚洲（中国内地除外）：ZC \n- 欧洲：EU \n- 非洲：AF \n- 北美洲：NA \n- 南美洲：LA \n- 大洋洲：OA \n- 南极洲：AQ","responseParamsDescription":" ","extraInfo":" "}