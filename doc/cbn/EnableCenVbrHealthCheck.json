{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"update"},"parameters":[{"name":"CenId","in":"query","schema":{"description":"云企业网实例ID。","type":"string","required":true,"docRequired":true,"example":"cen-hahhfskfkseig****"}},{"name":"VbrInstanceRegionId","in":"query","schema":{"description":"VBR实例所在的地域ID。\n\n您可以通过调用[DescribeChildInstanceRegions](~~132080~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-shenzhen"}},{"name":"VbrInstanceId","in":"query","schema":{"description":"VBR实例ID。","type":"string","required":true,"docRequired":true,"example":"vbr-wz95o9aylj181n5mzk****"}},{"name":"HealthCheckSourceIp","in":"query","schema":{"description":"指定健康检查源IP地址。支持以下两种配置方式：\n\n- **自动生成源IP**（推荐）：系统将自动分配100.96.0.0/16网段内的IP地址。\n\n- **自定义源IP**：源IP地址可以是10.0.0.0/8、192.168.0.0/16、172.16.0.0/12三个网段内任意一个没有被使用的IP地址。但不能与云企业网中要互通的地址冲突，也不能与VBR实例的阿里云侧、客户侧IP地址冲突。","type":"string","required":false,"docRequired":true,"example":"192.XX.XX.1"}},{"name":"HealthCheckTargetIp","in":"query","schema":{"description":"指定健康检查的目标IP地址。\n\n目标IP地址为VBR实例客户侧IP地址。","type":"string","required":true,"docRequired":true,"example":"10.XX.XX.1"}},{"name":"VbrInstanceOwnerId","in":"query","schema":{"description":"VBR实例所属的阿里云账号（主账号）ID。\n\n> 如果VBR实例和云企业网实例不属于同一个账号，本参数必填。","type":"integer","format":"int64","required":false,"example":"1250123456123456"}},{"name":"HealthCheckInterval","in":"query","schema":{"description":"指定健康检查发送连续探测报文的时间间隔。单位：秒。 默认值：**2**。取值范围：**2~3**。\n\n\n\n","type":"integer","format":"int32","required":false,"maximum":"3","minimum":"1","example":"2"}},{"name":"HealthyThreshold","in":"query","schema":{"description":"指定健康检查发送探测报文的个数。单位：个。 取值范围：**3~8**。默认值：**8**。\n\n\n\n","type":"integer","format":"int32","required":false,"maximum":"8","minimum":"3","example":"8"}},{"name":"HealthCheckOnly","in":"query","schema":{"description":"是否只开启健康检查的检测功能。取值：\n\n- **true**：是。\n\n        若只开启健康检查的检测功能，健康检查检测到链路不通时不会触发路由切换。\n\n        > 请确保您有其他方式保证链路的冗余性，否则开启本功能后，可能会导致链路中断。\n\n- **false**（默认值）：否。\n        \n        系统默认关闭本功能。健康检查检测到链路不通时，如果云企业网实例中存在冗余的路由，则健康检查会立刻触发路由切换使用可用链路。\n","type":"boolean","required":false,"example":"false","default":"fasle"}},{"name":"Description","in":"query","allowEmptyValue":false,"schema":{"description":"描述。  \n\n长度为1~256个字符，但不能以`http:// `或`https://`开头。","type":"string","required":false,"example":"testdesc"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"1F59F19C-EFD2-40B1-94D5-65B40CA8E34A"}}}}},"errorCodes":{"400":[{"errorCode":"RouteConflict","errorMessage":"The specified route already exists."},{"errorCode":"Illegal.SourceIpOrTargetIp","errorMessage":"The specified source IP address or destination IP address is invalid."},{"errorCode":"OperationFailed.StatusNotSupport","errorMessage":"The VBR or VPC instance to CBN attachment is not in a valid state for the operation."},{"errorCode":"OperationFailed.SourceIpUnSupported","errorMessage":"The specified source IP address is unsupported."},{"errorCode":"InvalidStatus.HealthCheck","errorMessage":"Can not modify, please delete health check config first."},{"errorCode":"OperationFailed.IpAddressExhausted","errorMessage":"No IP addresses are available for allocation."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1F59F19C-EFD2-40B1-94D5-65B40CA8E34A\\\"\\n}\",\"errorExample\":\"{\\n  \\\"RequestId\\\": \\\"A278B8A6-A5B8-4FDE-9F70-95F0F6A1D68A\\\",\\n  \\\"CenId\\\": \\\"Cen-atlpf6evc5kqchpma5\\\",\\n  \\\"VbrId\\\": \\\"vbr-il7ldy0ux6rb15lc2snrw\\\",\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"SourceIp\\\": \\\"10.10.10.10\\\",\\n  \\\"TargetIp\\\": \\\"10.10.10.11\\\",\\n  \\\"PacketNum\\\": \\\"3\\\",\\n  \\\"Status\\\": \\\"Enable\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<EnableCenVbrHealthCheckResponse>\\r\\n<RequestId>1F59F19C-EFD2-40B1-94D5-65B40CA8E34A</RequestId>\\r\\n</EnableCenVbrHealthCheckResponse>\",\"errorExample\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<EnableCenVbrHealthCheckResponse>\\n    <RequestId>A278B8A6-A5B8-4FDE-9F70-95F0F6A1D68A</RequestId>\\n    <CenId>Cen-atlpf6evc5kqchpma5</CenId>\\n    <VbrId>vbr-il7ldy0ux6rb15lc2snrw </VbrId>\\n    <RegionId>cn-hangzhou</RegionId>\\n    <SourceIp>10.10.10.10</SourceIp>\\n    <TargetIp>10.10.10.11</TargetIp>\\n    <PacketNum>3</PacketNum>\\n    <Status>Enable </Status>\\n</EnableCenVbrHealthCheckResponse>\"}]","title":"开启边界路由器（VBR）健康检查功能","summary":"开启边界路由器（VBR）的健康检查功能，确保及时发现出现故障的物理专线，也可修改VBR的健康检查配置。","description":"您可以通过为VBR实例设置健康检查，监测本地数据中心与阿里云之间物理专线的连接状况，以便及时发现问题。\n\n在使用健康检查功能前，请先了解以下信息：\n\n- 如果您的边界路由器实例使用的是静态路由，那么在您设置完健康检查后，您需要在边界路由器实例连接的本地数据中心中添加一条静态路由条目。\n    静态路由的目标网段为健康检查的源IP地址，网段掩码为32位，下一跳为边界路由器实例的阿里云侧IP地址。\n\n- 如果您的边界路由器实例使用的是BGP动态路由协议，则无需在本地数据中心添加路由条目。\n- **EnableCenVbrHealthCheck**接口属于异步接口，即系统会先返回一个**RequestId**，但该健康检查实例并未创建或修改完成，系统后台的创建任务或修改任务仍在进行。您可以调用**DescribeCenVbrHealthCheck**接口查询健康检查的配置信息，如果可以查到健康检查的配置信息，则表示健康检查创建或者修改完成。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}