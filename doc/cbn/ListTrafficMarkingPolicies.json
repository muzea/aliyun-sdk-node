{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"TransitRouterId","in":"query","schema":{"description":"转发路由器实例ID。","type":"string","required":false,"docRequired":false,"example":"tr-bp1rmwxnk221e3fas****"}},{"name":"TrafficMarkingPolicyId","in":"query","schema":{"description":"流量标记策略ID。","type":"string","required":false,"example":"tm-iz5egnyitxiroq****"}},{"name":"TrafficMarkingPolicyName","in":"query","schema":{"description":"流量标记策略的名称。\n\n名称可以为空或长度为1～128个字符，不能以http://或https://开头。","type":"string","required":false,"example":"nametest"}},{"name":"TrafficMarkingPolicyDescription","in":"query","schema":{"description":"流量标记策略的描述信息。\n\n描述可以为空或长度为1～256个字符，不能以http://或https://开头。","type":"string","required":false,"example":"desctest"}},{"name":"MaxResults","in":"query","schema":{"description":"分批次查询时每次显示的条目数。取值范围：**1**~**100**，默认值：**20**。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"NextToken","in":"query","schema":{"description":"是否拥有下一次查询的令牌（Token）。取值：\n- 第一次查询和没有下一次查询时，均无需填写。\n- 如果有下一次查询，取值为上一次API调用返回的**NextToken**值。","type":"string","required":false,"example":"FFmyTO70tTpLG6I3FmYAXGKPd****"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"NextToken":{"description":"是否拥有下一次查询的令牌（Token）。\n\n- 如果**NextToken**为空表示没有下一次查询。\n- 如果**NextToken**有返回值，该取值表示下一次查询开始的令牌。","type":"string","example":"FFmyTO70tTpLG6I3FmYAXGKPd****"},"RequestId":{"description":"请求ID。","type":"string","example":"699989E4-64A0-5F78-8B93-CDB32D98971F"},"TotalCount":{"description":"列表条目数。","type":"integer","format":"int32","example":"1"},"MaxResults":{"description":"分批次查询时每次显示的条目数。","type":"integer","format":"int32","example":"20"},"TrafficMarkingPolicies":{"description":"流量标记策略列表。","type":"array","items":{"description":"流量标记策略的信息。","type":"object","properties":{"TrafficMarkingPolicyStatus":{"description":"流量标记策略的状态。\n\n- **Creating**：创建中。\n- **Active**：可用。\n- **Modifying**：修改中。\n- **Deleting**：删除中。","type":"string","example":"Creating"},"TrafficMarkingPolicyId":{"description":"流量标记策略ID。","type":"string","example":"tm-iz5egnyitxiroq****"},"MarkingDscp":{"description":"流量标记策略的DSCP值。","type":"integer","format":"int32","example":"5"},"TrafficMarkingPolicyName":{"description":"流量标记策略的名称。","type":"string","example":"nametest"},"Priority":{"description":"流量标记策略的优先级。\n\n数字越小，优先级越高。","type":"integer","format":"int32","example":"5"},"TrafficMarkingPolicyDescription":{"description":"流量标记策略的描述信息。","type":"string","example":"desctest"},"TrafficMatchRules":{"description":"流分类规则列表。","type":"array","items":{"description":"流分类规则信息。","type":"object","properties":{"MatchDscp":{"description":"流量报文的DSCP值。\n\n>如果**MatchDscp**返回值为-1则表示匹配任意的DSCP值。","type":"integer","format":"int32","example":"6"},"DstCidr":{"description":"流量报文的目标网段。","type":"string","example":"192.168.120.0/24"},"TrafficMatchRuleDescription":{"description":"流分类规则的描述信息。","type":"string","example":"desctest"},"Protocol":{"description":"流量报文的协议类型。\n\n> 流量标记策略支持匹配多种协议类型，各个协议类型详情请自行查阅文档。","type":"string","example":"HTTP"},"TrafficMatchRuleId":{"description":"流分类规则ID。","type":"string","example":"tm-rule-fa9kgq1e90rmhc****"},"SrcCidr":{"description":"流量报文的源网段。","type":"string","example":"192.168.10.0/24"},"TrafficMatchRuleName":{"description":"流分类规则的名称。","type":"string","example":"nametest"},"TrafficMatchRuleStatus":{"description":"流分类规则的状态。\n\n- **Creating**：创建中。\n- **Active**：可用。\n- **Deleting**：删除中。","type":"string","example":"Creating"},"DstPortRange":{"description":"流分类规则待匹配的目的端口范围。","type":"array","items":{"description":"流分类规则待匹配的目的端口范围。\n\n接口会返回两个目的端口号：\n\n- 如果两个目的端口号相同，例如80和80，则表示流分类规则匹配目的端口号为80的流量。\n\n        如果两个目的端口号均为-1，则表示流分类规则匹配任意目的端口号的流量。\n- 如果两个目的端口号不相同，例如1和200，则表示流分类规则匹配目的端口号在1至200范围内的流量。","type":"integer","format":"int32","example":"80,80"}},"SrcPortRange":{"description":"流分类规则待匹配的源端口范围。","type":"array","items":{"description":"流分类规则待匹配的源端口范围。\n\n接口会返回两个源端口号：\n\n- 如果两个源端口号相同，例如80和80，则表示流分类规则匹配源端口号为80的流量。\n\n        如果两个源端口号均为-1，则表示流分类规则匹配任意源端口号的流量。\n- 如果两个源端口号不相同，例如1和200，则表示流分类规则匹配源端口号在1至200范围内的流量。","type":"integer","format":"int32","example":"1,200"}}}}},"TransitRouterId":{"description":"转发路由器实例ID。","type":"string","example":"tr-ccni***"}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParam.TransitRouterIdOrTrafficMarkingPolicyId","errorMessage":"Either TransitRouterId or TrafficMarkingPolicyId must be specified."},{"errorCode":"IllegalParam.NextToken","errorMessage":"The specified NextToken is invalid."},{"errorCode":"InvalidName","errorMessage":"Name is invalid."},{"errorCode":"InvalidDescription","errorMessage":"Description is invalid."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"FFmyTO70tTpLG6I3FmYAXGKPd****\\\",\\n  \\\"RequestId\\\": \\\"699989E4-64A0-5F78-8B93-CDB32D98971F\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"MaxResults\\\": 20,\\n  \\\"TrafficMarkingPolicies\\\": [\\n    {\\n      \\\"TrafficMarkingPolicyStatus\\\": \\\"Creating\\\",\\n      \\\"TrafficMarkingPolicyId\\\": \\\"tm-iz5egnyitxiroq****\\\",\\n      \\\"MarkingDscp\\\": 5,\\n      \\\"TrafficMarkingPolicyName\\\": \\\"nametest\\\",\\n      \\\"Priority\\\": 5,\\n      \\\"TrafficMarkingPolicyDescription\\\": \\\"desctest\\\",\\n      \\\"TrafficMatchRules\\\": [\\n        {\\n          \\\"MatchDscp\\\": 6,\\n          \\\"DstCidr\\\": \\\"192.168.120.0/24\\\",\\n          \\\"TrafficMatchRuleDescription\\\": \\\"desctest\\\",\\n          \\\"Protocol\\\": \\\"HTTP\\\",\\n          \\\"TrafficMatchRuleId\\\": \\\"tm-rule-fa9kgq1e90rmhc****\\\",\\n          \\\"SrcCidr\\\": \\\"192.168.10.0/24\\\",\\n          \\\"TrafficMatchRuleName\\\": \\\"nametest\\\",\\n          \\\"TrafficMatchRuleStatus\\\": \\\"Creating\\\",\\n          \\\"DstPortRange\\\": [\\n            0\\n          ],\\n          \\\"SrcPortRange\\\": [\\n            0\\n          ]\\n        }\\n      ],\\n      \\\"TransitRouterId\\\": \\\"tr-ccni***\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListTrafficMarkingPoliciesResponse>\\n    <NextToken>FFmyTO70tTpLG6I3FmYAXGKPd****</NextToken>\\n    <RequestId>699989E4-64A0-5F78-8B93-CDB32D98971F</RequestId>\\n    <TotalCount>6</TotalCount>\\n    <MaxResults>20</MaxResults>\\n    <TrafficMarkingPolicies>\\n        <TrafficMarkingPolicyStatus>Creating</TrafficMarkingPolicyStatus>\\n        <TrafficMarkingPolicyId>tm-iz5egnyitxiroq****</TrafficMarkingPolicyId>\\n        <MarkingDscp>5</MarkingDscp>\\n        <TrafficMarkingPolicyName>nametest</TrafficMarkingPolicyName>\\n        <Priority>5</Priority>\\n        <TrafficMarkingPolicyDescription>desctest</TrafficMarkingPolicyDescription>\\n        <TrafficMatchRules>\\n            <MatchDscp>6</MatchDscp>\\n            <DstCidr>192.168.120.0/24</DstCidr>\\n            <TrafficMatchRuleDescription>desctest</TrafficMatchRuleDescription>\\n            <Protocol>HTTP</Protocol>\\n            <TrafficMatchRuleId>tm-rule-fa9kgq1e90rmhc****</TrafficMatchRuleId>\\n            <SrcCidr>192.168.10.0/24</SrcCidr>\\n            <TrafficMatchRuleName>nametest</TrafficMatchRuleName>\\n            <TrafficMatchRuleStatus>Creating</TrafficMatchRuleStatus>\\n            <DstPortRange>80</DstPortRange>\\n            <DstPortRange>80</DstPortRange>\\n            <SrcPortRange>1</SrcPortRange>\\n            <SrcPortRange>200</SrcPortRange>\\n        </TrafficMatchRules>\\n    </TrafficMarkingPolicies>\\n</ListTrafficMarkingPoliciesResponse>\",\"errorExample\":\"\"}]","title":"查询流量标记策略的信息","summary":"调用ListTrafficMarkingPolicies接口查询流量标记策略的状态、流量标记策略的优先级等详细信息。","description":"在调用**ListTrafficMarkingPolicies**接口过程中：\n- **TransitRouterId** 和**TrafficMarkingPolicyId**参数需至少输入一个。\n- 如果您未输入流量标记策略ID（即未指定**TrafficMarkingPolicyId**参数的值），则接口会根据**TransitRouterId**、**TrafficMarkingPolicyName**和**TrafficMarkingPolicyDescription**参数的值仅返回流量标记策略的信息，并不会返回流量标记策略下流分类规则的信息（即响应中不包含**TrafficMatchRules**字段）。\n- 如果您输入了流量标记策略ID（即指定了**TrafficMarkingPolicyId**参数的值），则接口会为您返回该流量标记策略的信息以及该流量标记策略下流分类规则的信息（即响应中包含**TrafficMatchRules**字段）。\n如果**TrafficMatchRules**字段为空数组，则表示当前流量标记策略下并不存在流分类规则。"}