{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"72303","abilityTreeNodes":["FEATUREcbnMGIE06","FEATUREcbnKD6E3I"]},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的RequestId作为ClientToken标识。每次API请求的RequestId可能不一样。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"RegionId","in":"query","schema":{"description":"流日志所属的地域ID。\n\n您可以通过调用[DescribeChildInstanceRegions](~~132080~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"FlowLogName","in":"query","schema":{"description":"流日志名称。\n\n名称可以为空或长度为1～128个字符，不能以http://或https://开头。","type":"string","required":false,"example":"myFlowlog"}},{"name":"Description","in":"query","schema":{"description":"流日志的描述信息。\n\n描述可以为空或长度为1～256个字符，不能以http://或https://开头。","type":"string","required":false,"example":"myFlowlog"}},{"name":"CenId","in":"query","schema":{"description":"云企业网实例ID。","type":"string","required":true,"docRequired":true,"example":"cen-7qthudw0ll6jmc****"}},{"name":"ProjectName","in":"query","schema":{"description":"存储捕获流量的Project。\n\n- 如果您已经在当前地域创建了Project，您可以输入已创建的Project的名称。\n- 如果您未在当前地域创建Project，您可以为Project自定义名称，系统会帮您自动创建Project。\n\n    Project名称在阿里云地域内全局唯一，创建后不可修改。其命名规则如下：\n\n    - Project名称必须全局唯一。\n    - 只能包括小写字母、数字和短划线（-）。\n    - 必须以小写字母或者数字开头和结尾。\n    - 长度为3~63字符。\n","type":"string","required":true,"docRequired":true,"example":"flowlog-project"}},{"name":"LogStoreName","in":"query","schema":{"description":"存储捕获流量的Logstore。\n\n- 如果您已经在当前地域创建了Logstore，您可以输入已创建的Logstore的名称。\n- 如果您未在当前地域创建Logstore，您可以为Logstore自定义名称，系统会帮您自动创建Logstore。\n    Logstore名称。其命名规则如下：\n\n    - 同一个Project下，Logstore名称不可重复。\n    - 只能包括小写字母、数字、短划线（-）和下划线（_）。\n    - 必须以小写字母或者数字开头和结尾。\n    - 长度为3~63字符。","type":"string","required":true,"docRequired":true,"example":"flowlog-logstore"}},{"name":"Interval","in":"query","schema":{"description":"流日志捕获流量的捕获窗口时长。单位：秒。取值：**60**或**600**。默认值：**600**。","type":"integer","format":"int64","required":false,"example":"600"}},{"name":"TransitRouterAttachmentId","in":"query","schema":{"description":"跨地域连接ID或者VBR连接ID。\n\n> 本参数为必填参数。","type":"string","required":false,"example":"tr-attach-r6g0m3epjehw57****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签信息。\n\n一次最多支持输入20个标签信息。","type":"array","items":{"type":"object","properties":{"Key":{"description":"资源的标签键。\n\n一旦传入该值，则不允许为空字符串。最多支持64个字符，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n一次最多支持输入20个标签的标签键。","type":"string","required":false,"example":"TagKey"},"Value":{"description":"资源的标签值。\n\n标签值可以为空或输入不超过128个字符的字符串，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n每一个标签键对应一个标签值，一次最多支持输入20个标签键对应的标签值。","type":"string","required":false,"example":"TagValue"}},"required":false},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"54B48E3D-DF70-471B-AA93-08E683A1B457"},"Success":{"description":"当前接口调用是否成功。\n\n- **true**：成功。\n\n- **false**：失败。","type":"string","example":"true"},"FlowLogId":{"description":"流日志ID。","type":"string","example":"flowlog-m5evbtbpt****"}}}}},"errorCodes":{"400":[{"errorCode":"ProjectOrLogstoreNotExist","errorMessage":"The specified project or logstore does not exist."},{"errorCode":"SourceProjectNotExist","errorMessage":"The Source Project or logstore does not exist."},{"errorCode":"OperationUnsupported.action","errorMessage":"This action is not support."},{"errorCode":"RuleExist","errorMessage":"The rule has already existed."},{"errorCode":"QuotaExceeded.FlowlogCount","errorMessage":"This user has reached the maximum instance number of flowlog."},{"errorCode":"InvalidFlowlogId.exist","errorMessage":"This cenId already has flowlog instance existed."},{"errorCode":"Flowlog.AlreayExist","errorMessage":"This attachment already has existed flowlog instance."},{"errorCode":"IllegalParam.TransitRouterAttachmentId","errorMessage":"TransitRouterAttachmentId is illegal."},{"errorCode":"InvalidTransitRouterAttachmentId.NotFound","errorMessage":"The TransitRouterAttachmentId is not found."},{"errorCode":"IncorrectStatus.flowlog","errorMessage":"This action is not allowed in the current flow log status."},{"errorCode":"InvalidOperation.TransitRouterNotExist","errorMessage":"Operation is invalid because the transit router not exist."},{"errorCode":"IncorrectStatus.TransitRouterAttachmentId","errorMessage":"The resource is not in a valid state for the attachment operation."},{"errorCode":"ProjectExist","errorMessage":"Project already exist, please try a different project name."},{"errorCode":"InvalidParameter.ProjectName","errorMessage":"Project name is invalid or does not belong to specified region."},{"errorCode":"IncorrectStatus.TrFlowlog","errorMessage":"Flowlog status for specified TransitRouter is invalid for this operation."},{"errorCode":"OperationInvalid.IncompatibleFlowlogExist","errorMessage":"Operation is invalid because incompatible flowlog config exists."},{"errorCode":"InvalidParameter.LogFormatString","errorMessage":"LogFormatString is invalid."},{"errorCode":"InvalidParameter.LogStoreName","errorMessage":"Specified LogStore name is invalid."},{"errorCode":"OperationFailed.InvalidLogInfo","errorMessage":"The entered log service information is invalid. Check whether the ProjectName and LogStoreName are correct, and whether Log Service has been activated."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}],"403":[{"errorCode":"NoPermission.AliyunServiceRoleForTRFlowLog","errorMessage":"You are not authorized to create service linked role AliyunServiceRoleForTRFlowLog."}]},"staticInfo":{"returnType":"asynchronous","callback":"Cbn::2017-09-12::DescribeFlowlogs","callbackInterval":3000,"maxCallbackTimes":30},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"54B48E3D-DF70-471B-AA93-08E683A1B457\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"FlowLogId\\\": \\\"flowlog-m5evbtbpt****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateFlowlogResponse>\\n    <RequestId>54B48E3D-DF70-471B-AA93-08E683A1B457</RequestId>\\n    <Success>true</Success>\\n    <FlowLogId>flowlog-m5evbtbpt****</FlowLogId>\\n</CreateFlowlogResponse>\",\"errorExample\":\"\"}]","title":"创建流日志","summary":"创建流日志。","description":"流日志可以帮您捕获转发路由器之间的跨地域流量信息和边界路由器VBR（Virtual border router）连接的流量信息，在创建流日志前，请先了解以下说明：\n- 仅企业版转发路由器支持创建流日志。\n- 当前仅部分地域的流日志功能支持捕获VBR连接的流量信息。关于地域的信息，请参见[使用限制](~~339822~~)。\n- 对于跨地域连接的流量信息，流日志仅捕获转发路由器出方向的流量信息，不支持捕获转发路由器入方向的流量信息。\n    \n    例如，美国（硅谷）地域的云服务器ECS（Elastic Compute Service）实例通过云企业网访问美国（弗吉尼亚）地域的ECS实例，在您为美国（弗吉尼亚）地域的转发路由器配置流日志后，您可以在日志服务控制台查看美国（弗吉尼亚）ECS实例向美国（硅谷）ECS实例发送的报文信息，但无法查看美国（硅谷）ECS实例向美国（弗吉尼亚）ECS实例发送的报文信息。如果您需要查看美国（硅谷）ECS实例向美国（弗吉尼亚）ECS实例发送的报文信息，您需要在美国（硅谷）地域的转发路由器上也配置流日志。\n- `CreateFlowlog`接口属于异步接口，即系统会先返回一个流日志ID，但是流日志并未创建完成，系统后台的创建任务仍在进行。您可以调用`DescribeFlowlogs`接口查询流日志的状态。\n\n    - 当流日志处于**Creating**状态时，表示流日志正在创建中，在该状态下，您只能执行查询操作，不能执行其他操作。\n    - 当流日志处于**Active**状态时，表示流日志创建完成。\n# 前提条件\n\n在创建流日志前，请确保您已经创建了跨地域连接或者VBR连接。具体操作，请参见[CreateTransitRouterPeerAttachment](~~261363~~)或者[CreateTransitRouterVbrAttachment](~~261361~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}