{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**可能不一样。","type":"string","required":false,"example":"02fb3da4****"}},{"name":"CenId","in":"query","schema":{"description":"云企业网实例ID。","type":"string","required":true,"docRequired":true,"example":"cen-ckwa2hhmuislse****"}},{"name":"Host","in":"query","schema":{"description":"云服务IP地址或地址段。\n\n> 通常云服务会使用多个地址或地址段，建议您重复调用本接口，添加该云服务所有地址或地址段。","type":"string","required":true,"docRequired":true,"example":"100.118.28.0/24"}},{"name":"HostRegionId","in":"query","schema":{"description":"云服务所在的地域ID。\n","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"HostVpcId","in":"query","schema":{"description":"云服务关联的VPC实例ID。","type":"string","required":true,"docRequired":true,"example":"vpc-o6woh5s494zueq40v****"}},{"name":"Description","in":"query","schema":{"description":"云服务的描述信息。\n\n描述可以为空或长度为1～256个字符，不能以http://或https://开头。","type":"string","required":false,"example":"descname"}},{"name":"AccessRegionIds","in":"query","style":"repeatList","schema":{"description":"访问云服务的地域ID列表。","type":"array","items":{"description":"访问云服务的地域ID。\n\n您可以通过调用[DescribeChildInstanceRegions](~~132080~~)接口获取地域ID。","type":"string","required":false,"example":"cn-hangzhou"},"required":true,"example":"cn-hangzhou","maxItems":32}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"C0245BEF-52AC-44A8-A776-EF96FD26A5CA"}}}}},"errorCodes":{"400":[{"errorCode":"ParameterIllegal.Ipv6CloudRouteCidrNotAllow","errorMessage":"Parameter Host not in valid ipv6 cidr."},{"errorCode":"ParameterIllegal.AccessRegionId","errorMessage":"Parameter Access RegionId illegal."},{"errorCode":"ParameterIllegal.CloudRouteHost","errorMessage":"Parameter Host is not valid."},{"errorCode":"ParameterIllegal.ClouteRouteNotSupportIpv6","errorMessage":"Parameter Host not support IPv6"},{"errorCode":"ParameterIllegal.ClouteRouteCidrNotAllow","errorMessage":"Parameter Host not in 100.64.0.0/10"},{"errorCode":"CloudRoute.Exist","errorMessage":"The Specified Cloud Route already Exists"},{"errorCode":"ParameterIllegal.Host","errorMessage":" Parameter Host does not support domain."},{"errorCode":"CloudRoute.Conflict","errorMessage":"The Specified Cloud Route Conflicts."},{"errorCode":"CloudRoute.VpcNotAttached","errorMessage":"The Specified Vpc instance is not attached to CEN. "},{"errorCode":"OperationUnsupported.TransitRouterType","errorMessage":"The specified TransitRouterType does not support the operation."},{"errorCode":"ParameterIllegal.AccessRegionIdNoCCN","errorMessage":"Parameter Access RegionId illegal."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"C0245BEF-52AC-44A8-A776-EF96FD26A5CA\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ResolveAndRouteServiceInCenResponse>\\r\\n       <RequestId>C0245BEF-52AC-44A8-A776-EF96FD26A5CA</RequestId>\\r\\n</ResolveAndRouteServiceInCenResponse>\",\"errorExample\":\"\"}]","title":"设置云服务","summary":"您可以通过调用ResolveAndRouteServiceInCen接口设置云服务，为本地网络添加访问云服务的配置。","description":"云服务指使用阿里云云服务地址段100.64.0.0/10提供服务的云产品，例如对象存储OSS（Object Storage Service）、日志服务SLS（Log Service）、数据传输服务DTS（Data Transmission Service）等。如果您的本地网络需要访问云服务，您需要将本地网络关联的边界路由器VBR（Virtual Border Router）实例或云连接网CCN（Cloud Connect Network）实例加载至云企业网，并且将云服务所在地域的一个专有网络VPC（Virtual Private Cloud）实例加载至该云企业网。加载后，您的本地网络可通过云企业网访问云服务所在地域的VPC实例，并通过该VPC访问云服务。\n\n- 使用限制，该接口仅适用于基础版转发路由器。VBR实例关联的本地网络只能通过云企业网访问和其同地域的云服务。\n\n    例如：云服务所在地域为华北2（北京），那么只有华北2（北京）地域下的VBR实例关联的本地网络可以访问云服务。\n\n- **ResolveAndRouteServiceInCen**接口属于异步接口，即系统会先返回一个**RequestId**，但云服务配置并未添加完成，系统后台的添加任务仍在进行。您可以调用**DescribeRouteServicesInCen**接口查询云服务的状态。 \n    - 当云服务处于**Creating**状态时，表示云服务配置正在添加中，在该状态下，您只能对云服务配置执行查询操作，不能执行其他操作。\n    - 当云服务处于**Active**状态时，表示云服务配置添加完成。\n    - 当云服务处于**Failed**状态时，表示云服务配置添加失败。\n# 前提条件\n\n在调用ResolveAndRouteServiceInCen接口前，确保满足以下条件：\n\n- 您本地网络连接的VBR或CCN实例已经加载到云企业网。\n- 云服务所在地域已有VPC实例加载至云企业网。具体操作，请参见[AttachCenChildInstance](~~65902~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}