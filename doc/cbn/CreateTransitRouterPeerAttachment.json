{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"72307","abilityTreeNodes":["FEATUREcbnFWWHEY"]},"parameters":[{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"02fb3da4-130e-11e9-8e44-001****"}},{"name":"CenId","in":"query","schema":{"description":"云企业网实例ID。","type":"string","required":false,"example":"cen-j3jzhw1zpau2km****"}},{"name":"TransitRouterId","in":"query","schema":{"description":"本端企业版转发路由器实例ID。\n\n","type":"string","required":false,"example":"tr-bp1su1ytdxtataupl****"}},{"name":"RegionId","in":"query","schema":{"description":"本端企业版转发路由器实例所属地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。  ","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"TransitRouterAttachmentName","in":"query","schema":{"description":"跨地域连接的名称。\n\n名称可以为空或长度为1～128个字符，不能以http://或https://开头。","type":"string","required":false,"example":"testname"}},{"name":"TransitRouterAttachmentDescription","in":"query","schema":{"description":"跨地域连接的描述信息。\n\n描述可以为空或长度为1～256个字符，不能以http://或https://开头。","type":"string","required":false,"example":"testdesc"}},{"name":"PeerTransitRouterId","in":"query","schema":{"description":"对端转发路由器实例ID。","type":"string","required":true,"docRequired":true,"example":"tr-m5eq27g6bndum7e88****"}},{"name":"PeerTransitRouterRegionId","in":"query","schema":{"description":"对端转发路由器实例所属地域ID。","type":"string","required":false,"example":"cn-qingdao"}},{"name":"AutoPublishRouteEnabled","in":"query","schema":{"description":"是否使企业版转发路由器自动发布跨地域连接的路由到对端地域。\n\n- **false**（默认值）：否。\n- **true**：是。","type":"boolean","required":false,"example":"false"}},{"name":"Bandwidth","in":"query","schema":{"description":"跨地域连接的带宽值。单位：Mbps。\n\n- 当**BandwidthType**取值为**BandwidthPackage**时，该参数表示跨地域连接可使用的带宽值。\n\n- 当**BandwidthType**取值为**DataTransfer**时，该参数表示跨地域连接的限速带宽值。","type":"integer","format":"int32","required":false,"maximum":"100000000","minimum":"0","example":"2"}},{"name":"CenBandwidthPackageId","in":"query","schema":{"description":"跨地域连接要绑定的带宽包ID。\n\n> 当**BandwidthType**取值为**DataTransfer**时，无需配置该项。","type":"string","required":false,"example":"cenbwp-3xrxupouolw5ou****"}},{"name":"DryRun","in":"query","schema":{"description":"是否对此次请求执行预检，包括权限、实例状态校验等。取值：\n\n- **false**（默认值）：发送正常请求，通过检查后直接创建跨地域连接。\n- **true**：发送检查请求，只进行校验，不会创建跨地域连接。检查项包括是否填写了必需参数、请求格式等。如果检查不通过，则返回对应错误。如果检查通过，则返回对应请求ID。","type":"boolean","required":false,"example":"false"}},{"name":"BandwidthType","in":"query","schema":{"description":"跨地域连接的带宽分配方式。取值：\n\n- **BandwidthPackage**：从带宽包中分配带宽。\n\n- **DataTransfer**：不为跨地域连接分配带宽，按使用流量计费。","type":"string","required":false,"example":"BandwidthPackage"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签信息。\n\n一次最多支持输入20个标签信息。","type":"array","items":{"type":"object","properties":{"Key":{"description":"资源的标签键。\n\n一旦传入该值，则不允许为空字符串。最多支持64个字符，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n一次最多支持输入20个标签的标签键。","type":"string","required":false,"example":"tag_A1"},"Value":{"description":"资源的标签值。\n\n标签值可以为空或输入不超过128个字符的字符串，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n每一个标签键对应一个标签值，一次最多支持输入20个标签键对应的标签值。","type":"string","required":false,"example":"value_A1"}},"required":false},"required":false,"maxItems":20}},{"name":"DefaultLinkType","in":"query","schema":{"description":"默认链路类型。\n\n可选值为Platinum（铂金），Gold（金），默认为Gold（金）。\n\n且仅在带宽分配方式是按流量计费时，才可以配置为Platinum（铂金）。","type":"string","required":false,"example":"Gold"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"TransitRouterAttachmentId":{"description":"跨地域连接ID。","type":"string","example":"tr-attach-nwkiqfvw22qesz****"},"RequestId":{"description":"请求ID。","type":"string","example":"59422BF5-BAAD-4CFD-9019-9557BD3ACFA3"}}}}},"errorCodes":{"400":[{"errorCode":"OperationUnsupported.TransitRouterRegionId","errorMessage":"The specified TransitRouterRegion does not support the operation."},{"errorCode":"NoPermission.AliyunServiceRolePolicyForCEN","errorMessage":"You are not authorized to create the service linked role. Role Name: AliyunServiceRolePolicyForCEN. Service Name: cen.aliyuncs.com. Make sure that the user has been granted the ram:CreateServiceLinkedRole permission."},{"errorCode":"InvalidTransitRouterId.NotFound","errorMessage":"TransitRouterId is not found."},{"errorCode":"IllegalParam.PeerTransitRouterId","errorMessage":"PeerTransitRouterId is illegal."},{"errorCode":"OperationUnsupported.TransitRouterId","errorMessage":"TransitRouterId is unsupported."},{"errorCode":"MissingParam.Bandwidth","errorMessage":"The parameter Bandwidth is mandatory."},{"errorCode":"IllegalParam.Bandwidth","errorMessage":"Bandwidth is illegal."},{"errorCode":"Forbbiden.TransitRouterServiceNotOpen","errorMessage":"The user has not open transit router service."},{"errorCode":"OperationUnsupported.TransitRouterType","errorMessage":"The specified TransitRouterType does not support the operation."},{"errorCode":"OperationUnsupported.BandwidthType","errorMessage":"The specified BandwidthType does not support the operation."},{"errorCode":"InvalidCenId.NotFound","errorMessage":"CenId is not found."},{"errorCode":"IllegalParam.BandwidthType","errorMessage":"BandwidthType is illegal."},{"errorCode":"MissingParam.CenIdOrRegionId","errorMessage":"Either CenId or RegionId must be specified."},{"errorCode":"OperationUnsupported.BandwidthHS","errorMessage":"This bandwidth limit can only be set in China-AsiaPacific-HS"},{"errorCode":"OperationUnsupported.CenFullLevel","errorMessage":"CEN full level does not support TransitRouter"},{"errorCode":"OperationUnsupported.CloudDataTransferService","errorMessage":"CCN region not support cloud data transfer service."},{"errorCode":"InvalidPeerTransitRouterId.NotFound","errorMessage":"The specified PeerTransitRouterId is not found."},{"errorCode":"IllegalParam.RegionId","errorMessage":"RegionId is illegal."},{"errorCode":"IllegalParam.PeerRegionId","errorMessage":"PeerRegionId is illegal."},{"errorCode":"IllegalParam.TransitRouterRegionId","errorMessage":"TransitRouterRegionId is illegal."},{"errorCode":"InvalidOperation.CenInstanceStatus","errorMessage":"The CEN instance is not in a valid state for the operation.\t"},{"errorCode":"IncorrectStatus.TransitRouter","errorMessage":"The status of TransitRouter is incorrect."},{"errorCode":"InvalidOperation.BwpNotAssociated","errorMessage":"Operation is invalid because a bandwidth package corresponding to the geographic span is not associated."},{"errorCode":"InvalidOperation.BwpBusinessStatus","errorMessage":"The CBN bandwidth package is not in a valid business state for the operation."},{"errorCode":"IllegalParam.CenBandwidthPackageId","errorMessage":"Parameter CenBandwidthPackageId is illegal."},{"errorCode":"InvalidOperation.BwpBandwidthExceeded","errorMessage":"Operation is invalid because the total bandwidth limit has exceeded that of the bandwidth package."},{"errorCode":"ParameterIllegal.CdtDefaultLinkTypeOnlySupportPlatinumOrGold","errorMessage":"DataTransfer only support Platinum and Gold."},{"errorCode":"ParameterIllegal.BandwidthPackageDefaultLinkTypeOnlySupportGold","errorMessage":"Cen bandwidthPackage only support Gold."},{"errorCode":"ParameterIllegal.CdtDefaultLinkTypeOnlySupportGold","errorMessage":"CDT only support Gold when both transitrouters for cross regional connections are not all enterprise version."},{"errorCode":"OperationNotAllowed.DefaultLinkTypeOnlySupportGold","errorMessage":"Operation is not allowed because this user can only set default link type to Gold."},{"errorCode":"OperationInvalid.UserCanNotBuyCrossBorderBwp","errorMessage":"According to the laws and regulations of the operator and mainland China, you are currently not eligible to purchase or renew a cross-border bandwidth package. Please contact online customer service or your business manager for consultation."},{"errorCode":"OperationInvalid.IdentityRegistrationStatusNotSupport","errorMessage":"Real name registration of enterprises required."},{"errorCode":"InvalidOperation.OnlyOneRegionSupportIpv6","errorMessage":"Peer Attachment is only allowed when both regions support IPv6 or do not support IPv6 at all."},{"errorCode":"InvalidOperation","errorMessage":"Operation is invalid."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TransitRouterAttachmentId\\\": \\\"tr-attach-nwkiqfvw22qesz****\\\",\\n  \\\"RequestId\\\": \\\"59422BF5-BAAD-4CFD-9019-9557BD3ACFA3\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateTransitRouterPeerAttachmentResponse>\\n    <TransitRouterAttachmentId>tr-attach-nwkiqfvw22qesz****</TransitRouterAttachmentId>\\n    <RequestId>59422BF5-BAAD-4CFD-9019-9557BD3ACFA3</RequestId>\\n</CreateTransitRouterPeerAttachmentResponse>\",\"errorExample\":\"\"}]","title":"为企业版转发路由器实例创建跨地域连接","summary":"网络实例（VPC、VBR、IPsec连接）被连接至转发路由器后，如果要实现不同地域网络实例的互通，需要在网络实例连接的转发路由器下创建跨地域连接，您可以调用CreateTransitRouterPeerAttachment接口为企业版转发路由器实例创建跨地域连接。","description":"- 企业版转发路由器支持以下两种带宽分配方式：\n\n  - **从带宽包分配**：\n\n    使用此种分配方式，您需要先购买带宽包，从带宽包中为跨地域连接分配带宽。购买带宽包具体操作，请参见[CreateCenBandwidthPackage](~~65919~~)。\n  - **按流量付费**：\n\n    使用此种分配方式，您需要为跨地域连接设置限速带宽，系统会按照跨地域连接实际使用的流量计费。具体计费信息，请参见[跨地域流量](~~337827~~)。\n\n- **CreateTransitRouterPeerAttachment**接口属于异步接口，即系统会先返回一个跨地域连接ID，但该跨地域连接并未创建完成，系统后台的创建任务仍在进行。您可以调用**ListTransitRouterPeerAttachments**接口查询跨地域连接的状态。 \n\n  - 当跨地域连接处于**Attaching**状态时，表示跨地域连接正在创建中，在该状态下，您只能对跨地域连接执行查询操作，不能执行其他操作。\n  - 当跨地域连接处于**Attached**状态时，表示跨地域连接创建完成。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}