{"summary":"调用ListTransitRouterVpnAttachment接口查询VPN连接的状态、IPsec连接ID、VPN连接的付费类型等信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list","abilityTreeCode":"138540","abilityTreeNodes":["FEATUREcbnY9DL3F"]},"parameters":[{"name":"CenId","in":"query","schema":{"description":"云企业网实例ID。","type":"string","required":false,"example":"cen-rsgxs8ng2awen2****"}},{"name":"RegionId","in":"query","schema":{"description":"转发路由器实例所属的地域ID。\n\n您可以通过调用[DescribeChildInstanceRegions](~~132080~~)接口获取地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"TransitRouterAttachmentId","in":"query","schema":{"description":"VPN连接ID。","type":"string","required":false,"example":"tr-attach-a6p8voaodog5c0****"}},{"name":"TransitRouterId","in":"query","schema":{"description":"转发路由器实例ID。","type":"string","required":false,"example":"tr-p0wm740vjnbaprv0m****"}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页显示的条目数。默认值：**20**。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"NextToken","in":"query","schema":{"description":"是否拥有下一次查询的令牌（Token）。取值：\n- 第一次查询和没有下一次查询时，均无需填写。\n- 如果有下一次查询，取值为上一次API调用返回的NextToken值。","type":"string","required":false,"example":"FFmyTO70tTpLG6I3FmYAXGKPd****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"云企业网实例的标签信息。\n\n一次最多支持查询20个标签。","type":"array","items":{"type":"object","properties":{"Key":{"description":"资源的标签键。\n\n一旦传入该值，则不允许为空字符串。最多支持64个字符，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n一次最多支持输入20个标签的标签键。","type":"string","required":false,"example":"tagtest"},"Value":{"description":"资源的标签值。\n\n标签值可以为空或输入不超过128个字符的字符串，不能以`aliyun`或者`acs:`开头，不能包含`http://`或者`https:// `。\n\n每一个标签键对应一个标签值，一次最多支持输入20个标签键对应的标签值。","type":"string","required":false,"example":"value_A1"}},"required":false},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"NextToken":{"description":"是否拥有下一次查询的令牌（Token）。取值：\n- 如果**NextToken**为空表示没有下一次查询。\n- 如果**NextToken**有返回值，该取值表示下一次查询开始的令牌。","type":"string","example":"FFmyTO70tTpLG6I3FmYAXGKPd****"},"RequestId":{"description":"请求ID。","type":"string","example":"3D5530D2-3BBB-524E-8E98-59AB06A250E4"},"TotalCount":{"description":"列表条目数。","type":"integer","format":"int32","example":"1"},"MaxResults":{"description":"分页查询时每页显示的条目数。","type":"integer","format":"int32","example":"20"},"TransitRouterAttachments":{"description":"VPN连接信息列表。","type":"array","items":{"description":"VPN连接的信息。","type":"object","properties":{"CreationTime":{"description":"创建VPN连接的时间。\n\n时间按照ISO8601标准表示，并使用UTC时间。格式为：YYYY-MM-DDThh:mmZ。","type":"string","example":"2022-07-08T08:45Z"},"Status":{"description":"VPN连接的状态。\n\n- **Attached**：已加载。\n- **Attaching**：加载中。\n- **Detaching**：卸载中。","type":"string","example":"Attached"},"TransitRouterAttachmentId":{"description":"VPN连接ID。","type":"string","example":"tr-attach-a6p8voaodog5c0****"},"TransitRouterId":{"description":"转发路由器实例ID。","type":"string","example":"tr-p0wm740vjnbaprv0m****"},"ResourceType":{"description":"VPN连接所属的资源类型。\n\n仅取值：**VPN**，表示转发路由器连接了IPsec连接。","type":"string","example":"VPN"},"VpnOwnerId":{"description":"IPsec连接所属的阿里云账号（主账号）ID。","type":"integer","format":"int64","example":"1210123456123456"},"VpnId":{"description":"IPsec连接ID。","type":"string","example":"vco-p0wtu1xgd0l7fjo7k****"},"TransitRouterAttachmentDescription":{"description":"VPN连接的描述信息。","type":"string","example":"desctest"},"VpnRegionId":{"description":"IPsec连接所属的地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。","type":"string","example":"cn-hangzhou"},"AutoPublishRouteEnabled":{"description":"是否允许转发路由器实例自动向IPsec连接发布路由条目。取值：\n\n- **true**：允许。\n- **false**：不允许。","type":"boolean","example":"true"},"TransitRouterAttachmentName":{"description":"VPN连接的名称。","type":"string","example":"nametest"},"Zones":{"description":"部署VPN连接的可用区列表。","type":"array","items":{"description":"部署VPN连接的可用区。","type":"object","properties":{"ZoneId":{"description":"可用区ID。\n\n您可以通过调用[DescribeZones](~~36064~~)接口查询可用区ID对应的可用区的信息。","type":"string","example":"cn-hangzhou-h"}}}},"Tags":{"description":"标签列表。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签键。","type":"string","example":"test"},"Value":{"description":"标签的值。","type":"string","example":"value_A1"}}}},"ChargeType":{"description":"VPN连接的付费类型。\n\n仅取值：POSTPAY，表示按使用量后付费。","type":"string","example":"POSTPAY"},"CenId":{"description":"云企业网实例ID。","type":"string","example":"cen-j3jzhw1zpau2km****\n"},"OrderType":{"description":"网络实例的付费方。取值：\n\n- **PayByCenOwner**：表示网络实例产生的费用由云企业网实例所属的账号承担。\n- **PayByResourceOwner**：表示网络实例产生的费用由网络实例所属的账号承担。","type":"string","example":"PayByCenOwner"}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalParam.NextToken","errorMessage":"The specified NextToken is invalid."},{"errorCode":"IllegalParam.TrInstance","errorMessage":"The specified TransitRouter is invalid."},{"errorCode":"IllegalParam.Region","errorMessage":"The specified Region is invalid."},{"errorCode":"IllegalParam.CenId","errorMessage":"The specified CenId is invalid."},{"errorCode":"IllegalParam.CenIdOrRegionId","errorMessage":"The specified CenId or RegionId is invalid."},{"errorCode":"IllegalParam.TransitRouterId","errorMessage":"The specified TransitRouterId is illegal."},{"errorCode":"IllegalParam.MaxResults","errorMessage":"The specified MaxResults is invalid."},{"errorCode":"InvalidParameter","errorMessage":"Invalid parameter."},{"errorCode":"Unauthorized","errorMessage":"The AccessKeyId is unauthorized."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"FFmyTO70tTpLG6I3FmYAXGKPd****\\\",\\n  \\\"RequestId\\\": \\\"3D5530D2-3BBB-524E-8E98-59AB06A250E4\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"MaxResults\\\": 20,\\n  \\\"TransitRouterAttachments\\\": [\\n    {\\n      \\\"CreationTime\\\": \\\"2022-07-08T08:45Z\\\",\\n      \\\"Status\\\": \\\"Attached\\\",\\n      \\\"TransitRouterAttachmentId\\\": \\\"tr-attach-a6p8voaodog5c0****\\\",\\n      \\\"TransitRouterId\\\": \\\"tr-p0wm740vjnbaprv0m****\\\",\\n      \\\"ResourceType\\\": \\\"VPN\\\",\\n      \\\"VpnOwnerId\\\": 1210123456123456,\\n      \\\"VpnId\\\": \\\"vco-p0wtu1xgd0l7fjo7k****\\\",\\n      \\\"TransitRouterAttachmentDescription\\\": \\\"desctest\\\",\\n      \\\"VpnRegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"AutoPublishRouteEnabled\\\": true,\\n      \\\"TransitRouterAttachmentName\\\": \\\"nametest\\\",\\n      \\\"Zones\\\": [\\n        {\\n          \\\"ZoneId\\\": \\\"cn-hangzhou-h\\\"\\n        }\\n      ],\\n      \\\"Tags\\\": [\\n        {\\n          \\\"Key\\\": \\\"test\\\",\\n          \\\"Value\\\": \\\"value_A1\\\"\\n        }\\n      ],\\n      \\\"ChargeType\\\": \\\"POSTPAY\\\",\\n      \\\"CenId\\\": \\\"cen-j3jzhw1zpau2km****\\\\n\\\",\\n      \\\"OrderType\\\": \\\"PayByCenOwner\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询VPN连接的信息","description":"在您调用ListTransitRouterVpnAttachments接口的过程中支持以下三种查询方式：\n- 支持单独输入**TransitRouterAttachmentId**查询则查询指定 VPN 连接的信息。\n- 支持单独输入**TransitRouterId**查询当前转发路由器下关联的所有 VPN 连接的信息。\n- 支持**CenId**、**RegionId**查询当前云企业网中指定地域下的 VPN 连接的信息。\n\n在调用**ListTransitRouterVpnAttachments**接口过程时请确保输入的参数值无误。如果您输入的参数有误调用接口后仍然会返回**RequestId**等信息，但不会显示目标查询VPN连接的信息。"}