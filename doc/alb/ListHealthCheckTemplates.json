{"summary":"查询指定地域的健康检查模板。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"NextToken","in":"query","schema":{"title":"分页查询标识","description":"是否拥有下一次查询的令牌（Token）。取值：\n- 第一次查询和没有下一次查询时，均无需填写。\n- 如果有下一次查询，取值为上一次API调用返回的**NextToken**值。","type":"string","required":false,"example":"FFmyTO70tTpLG6I3FmYAXGKPd****"}},{"name":"MaxResults","in":"query","schema":{"title":"查询数量","description":"分批次查询时每次显示的条目数。取值范围：**1**~**100**，默认值为**20**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"50","default":"20"}},{"name":"HealthCheckTemplateIds","in":"query","style":"flat","schema":{"title":"健康检查模板ID列表","description":"健康检查模版ID列表。","type":"array","items":{"description":"健康检查模版ID。最多支持20个健康检查模板ID。如果传入则根据模板ID过滤。","type":"string","required":false,"example":"hct-bp1qjwo61pqz3ahltv****"},"required":false,"maxItems":20}},{"name":"HealthCheckTemplateNames","in":"query","style":"flat","schema":{"title":"健康检查模板名称列表","description":"健康检查模板名称列表。","type":"array","items":{"description":"健康检查模版名称。最多支持10个健康检查模板名称。如果传入则根据模板名称过滤。","type":"string","required":false,"example":"test"},"required":false,"maxItems":20}},{"name":"Tag","in":"query","style":"flat","schema":{"description":"标签。","type":"array","items":{"description":"标签结构。","type":"object","properties":{"Key":{"description":"标签键。最多支持128个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","required":false,"example":"env"},"Value":{"description":"标签值。最多支持128个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","required":false,"example":"product"}},"required":false},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"健康检查模板信息。","type":"object","properties":{"HealthCheckTemplates":{"title":"健康检查模板","description":"健康检查模板列表。","type":"array","items":{"description":"健康检查模板结构。","type":"object","properties":{"HealthCheckConnectPort":{"title":"端口","description":"健康检查使用的端口。\n\n取值：** 0~65535**。\n\n默认值：**0**，表示使用后端服务器的端口进行健康检查。","type":"integer","format":"int32","example":"80"},"HealthCheckHost":{"title":"域名","description":"用于健康检查的域名，取值：\n\n- **$SERVER_IP**（默认值）： 后端服务器的私网IP。当指定了IP或该参数未指定时，负载均衡会使用各后端服务器的私网IP当做健康检查使用的域名。\n\n- **domain**：域名长度为1~80字符，只能包含字母、数字、半角句号（.）和短划线（-）。\n\n> 只有`HealthCheckProtocol`为**HTTP**或**HTTPS**时才有效。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","example":"$SERVER_IP"},"HealthCheckCodes":{"title":"状态码","description":"健康检查正常的状态码列表。","type":"array","items":{"description":"健康检查正常的HTTP状态码。\n\n- 当**HealthCheckProtocol**取值为**HTTP**或**HTTPS**时，**HealthCheckCodes**可以选择**http_2xx**（默认值）、 **http_3xx**、**http_4xx**和**http_5xx**，多个状态码用半角逗号（,）分隔。\n\n- 当**HealthCheckProtocol**取值为**gRPC**时，**HealthCheckCodes**状态码范围：**0~99**，默认值：**0**。支持范围输入，最多支持20个范围值，多个范围值使用半角逗号（,）隔开。\n\n> 只有**HealthCheckProtocol**为**HTTP**或**HTTPS**或**gRPC**时才有该参数。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","example":"http_2xx"}},"HealthCheckHttpVersion":{"title":"版本","description":"健康检查HTTP协议版本。\n\n取值：**HTTP 1.0**或**HTTP 1.1**。\n\n默认值：**HTTP 1.1**。\n\n> 只有`HealthCheckProtocol`为**HTTP**或**HTTPS**时才有效。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","example":"HTTP 1.0"},"HealthCheckInterval":{"title":"间隔时间","description":"健康检查的时间间隔。单位：秒。取值范围：**1~50**。默认值：**2**秒。","type":"integer","format":"int32","example":"5"},"HealthCheckMethod":{"title":"方法","description":"健康检查方法。取值：\n\n- **HEAD**（默认值）：HTTP和HTTPS监听健康检查默认采用HEAD方法。\n\n- **GET**：如果响应报文长度超过8K，会被截断，但不会影响健康检查结果的判定。\n\n- **POST**：gRPC监听健康检查默认采用POST方法。\n\n> 只有**HealthCheckProtocol**为**HTTP** 或**HTTPS**或**gRPC**时才有效。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","example":"HEAD"},"HealthCheckPath":{"title":"uri","description":"用于健康检查的URL。\n\n长度限制为1~80，只能使用字母、数字和短划线（-）、正斜线（/）、半角句号（.）、百分号（%）、半角问号（?）、井号（#）、and（&）这些字符以及扩展字符集`_;~!（)*[]@$^:',+`。URL必须以正斜线（/）开头。","type":"string","example":"/test/index.html"},"HealthCheckProtocol":{"title":"协议","description":"健康检查采用的协议。取值：\n\n- **HTTP**（默认值）：通过发送HEAD或GET请求模拟浏览器的访问行为来检查服务器应用是否健康。\n\n- **HTTPS**：通过发送HEAD或GET请求模拟浏览器的访问行为来检查服务器应用是否健康。（数据加密，相比HTTP更安全。）\n\n- **TCP**：通过发送SYN握手报文来检测服务器端口是否存活。\n\n- **gRPC**：通过发送POST或GET请求来检查服务器应用是否健康。\n\n> HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。","type":"string","example":"HTTP"},"HealthCheckTemplateId":{"title":"健康检查模板Id","description":"健康检查模板ID。","type":"string","example":"hct-bp1qjwo61pqz3ahltv****"},"HealthCheckTemplateName":{"title":"名称","description":"健康检查模板名称。\n\n长度为2~128个英文或中文字符，必须以大小字母或中文开头，可包含数字、半角句号（.）、下划线（_）和短划线（-）。","type":"string","example":"HealthCheckTemplate1"},"HealthCheckTimeout":{"title":"超时时间","description":"接收来自运行状况检查的响应需要等待的时间。如果后端ECS在指定的时间内没有正确响应，则判定为健康检查失败。\n\n取值：**1~300**秒。\n\n默认值：**5**秒。\n\n> 如果**HealthCHeckTimeout**的值小于**HealthCheckInterval**的值，则**HealthCHeckTimeout**无效，超时时间为**HealthCheckInterval**的值。","type":"integer","format":"int32","example":"3"},"HealthyThreshold":{"title":"健康阈值","description":"健康检查连续成功多少次后，将后端服务器的健康检查状态由**失败**判定为**成功**。\n\n取值：**2~10**。\n\n默认值：**3**。","type":"integer","format":"int32","example":"4"},"UnhealthyThreshold":{"title":"不健康阈值","description":"健康检查连续失败多少次后，将后端服务器的健康检查状态由**成功**判定为**失败**。\n\n取值：**2~10**。\n\n默认值：**3**。","type":"integer","format":"int32","example":"4"},"Tags":{"description":"标签。","type":"array","items":{"description":"标签结构。","type":"object","properties":{"Key":{"description":"标签键。最多支持128个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","example":"env"},"Value":{"description":"标签值。最多支持128个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","example":"product"}}}}}}},"MaxResults":{"title":"本次查询返回记录数量","description":"分批次查询时每次显示的条目数。取值范围：**1**~**100**，默认值为**20**。","type":"integer","format":"int32","example":"50"},"NextToken":{"title":"分页查询标识","description":"是否拥有下一次查询的令牌（Token）。取值：\n- 如果**NextToken**为空表示没有下一次查询。\n- 如果**NextToken**有返回值，该取值表示下一次查询开始的令牌。","type":"string","example":"FFmyTO70tTpLG6I3FmYAXGKPd****"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"365F4154-92F6-4AE4-92F8-7FF3******"},"TotalCount":{"title":"总记录数","description":"本次请求条件下返回的总数据记录数。","type":"integer","format":"int32","example":"1000"}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.HealthCheckTemplate","errorMessage":"Authentication has failed for HealthCheckTemplate."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HealthCheckTemplates\\\": [\\n    {\\n      \\\"HealthCheckConnectPort\\\": 80,\\n      \\\"HealthCheckHost\\\": \\\"$SERVER_IP\\\",\\n      \\\"HealthCheckCodes\\\": [\\n        \\\"http_2xx\\\"\\n      ],\\n      \\\"HealthCheckHttpVersion\\\": \\\"HTTP 1.0\\\",\\n      \\\"HealthCheckInterval\\\": 5,\\n      \\\"HealthCheckMethod\\\": \\\"HEAD\\\",\\n      \\\"HealthCheckPath\\\": \\\"/test/index.html\\\",\\n      \\\"HealthCheckProtocol\\\": \\\"HTTP\\\",\\n      \\\"HealthCheckTemplateId\\\": \\\"hct-bp1qjwo61pqz3ahltv****\\\",\\n      \\\"HealthCheckTemplateName\\\": \\\"HealthCheckTemplate1\\\",\\n      \\\"HealthCheckTimeout\\\": 3,\\n      \\\"HealthyThreshold\\\": 4,\\n      \\\"UnhealthyThreshold\\\": 4,\\n      \\\"Tags\\\": [\\n        {\\n          \\\"Key\\\": \\\"env\\\",\\n          \\\"Value\\\": \\\"product\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"MaxResults\\\": 50,\\n  \\\"NextToken\\\": \\\"FFmyTO70tTpLG6I3FmYAXGKPd****\\\",\\n  \\\"RequestId\\\": \\\"365F4154-92F6-4AE4-92F8-7FF3******\\\",\\n  \\\"TotalCount\\\": 1000\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListHealthCheckTemplatesResponse>\\n    <HealthCheckTemplates>\\n        <HealthCheckConnectPort>80</HealthCheckConnectPort>\\n        <HealthCheckHost>$_ip</HealthCheckHost>\\n        <HealthCheckCodes>http_2xx,http_3xx</HealthCheckCodes>\\n        <HealthCheckHttpVersion>HTTP 1.0</HealthCheckHttpVersion>\\n        <HealthCheckInterval>5</HealthCheckInterval>\\n        <HealthCheckMethod>HEAD</HealthCheckMethod>\\n        <HealthCheckPath>/test/index.html</HealthCheckPath>\\n        <HealthCheckProtocol>HTTP</HealthCheckProtocol>\\n        <HealthCheckTemplateId>hct-bp1qjwo61pqz3ahltv****</HealthCheckTemplateId>\\n        <HealthCheckTemplateName>HealthCheckTemplate1</HealthCheckTemplateName>\\n        <HealthCheckTimeout>3</HealthCheckTimeout>\\n        <HealthyThreshold>4</HealthyThreshold>\\n        <UnhealthyThreshold>4</UnhealthyThreshold>\\n    </HealthCheckTemplates>\\n    <MaxResults>50</MaxResults>\\n    <NextToken>FFmyTO70tTpLG6I3FmYAXGKPd****</NextToken>\\n    <RequestId>365F4154-92F6-4AE4-92F8-7FF34B540710</RequestId>\\n    <TotalCount>1000</TotalCount>\\n</ListHealthCheckTemplatesResponse>\",\"errorExample\":\"\"}]","title":"查询健康检查模板"}