{"summary":"在指定地域创建健康检查模板。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClientToken","in":"query","allowEmptyValue":false,"schema":{"title":"幂等参数","description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n\n> 若您未指定，则系统自动使用API请求的RequestId作为ClientToken标识。每次API请求的RequestId不一样。","type":"string","required":false,"example":"5A2CFF0E-5718-45B5-9D4D-70B******"}},{"name":"HealthCheckTemplateName","in":"query","schema":{"title":"名称","description":"健康检查模板名称。\n\n长度为2~128个英文或中文字符，必须以大小写英文字母或中文开头，可包含数字、半角句号（.）、下划线（_）和短划线（-）。","type":"string","required":true,"example":"HealthCheckTemplate1"}},{"name":"HealthCheckConnectPort","in":"query","schema":{"title":"端口号","description":"健康检查使用的端口。\n\n取值范围：**0~65535**。\n\n默认值：**0**，表示使用后端服务器的端口进行健康检查。","type":"integer","format":"int32","required":false,"example":"80"}},{"name":"HealthCheckHost","in":"query","schema":{"title":"域名","description":"用于健康检查的域名。取值： \n\n- **$SERVER_IP**：后端服务器的私网IP。当指定了IP或该参数未指定时，负载均衡会使用后端服务器的私网IP当做健康检查使用的域名。\n\n- **domain**：域名长度为1~80字符，只能包含字母、数字、半角句号（.）和短划线（-）。\n\n> 只有`HealthCheckProtocol`设置为**HTTP**或**HTTPS**时该参数生效。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","required":false,"example":"$SERVER_IP"}},{"name":"HealthCheckCodes","in":"query","style":"flat","schema":{"title":"状态码","description":"健康检查正常的状态码列表。","type":"array","items":{"description":"健康检查正常的HTTP状态码。\n\n\n- 当**HealthCheckProtocol**取值为**HTTP**或**HTTPS**时，**HealthCheckCodes**可以选择**http\\_2xx**（默认值）、 **http\\_3xx**、**http\\_4xx**和**http\\_5xx**，多个状态码用半角逗号（,）分隔。\n\n- 当**HealthCheckProtocol**取值为**gRPC**时，**HealthCheckCodes**状态码范围：**0~99**，默认值：**0**。支持范围输入，最多支持20个范围值，多个范围值使用半角逗号（,）隔开。\n\n> 只有**HealthCheckProtocol**为**HTTP**或**HTTPS**或**gRPC**时才有该参数。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","required":false,"example":"http_2xx"},"required":false,"example":"5"}},{"name":"HealthCheckInterval","in":"query","schema":{"title":"时间间隔","description":"健康检查的时间间隔。\n\n取值范围：**1~50**秒。\n\n默认值：**2**秒。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"HealthCheckTimeout","in":"query","schema":{"title":"超时时间","description":"接收来自运行状况检查的响应需要等待的时间。如果后端服务器在指定的时间内没有正确响应，则判定为健康检查失败。\n\n取值范围：**1~300**秒。\n\n默认值：**5**秒。\n\n\n> 如果`HealthCHeckTimeout`的值小于`HealthCheckInterval`的值，则`HealthCHeckTimeout`无效，超时时间为`HealthCheckInterval`的值。","type":"integer","format":"int32","required":false,"example":"5"}},{"name":"HealthCheckPath","in":"query","schema":{"title":"uri","description":"用于健康检查的URL。\n\n长度限制为1~80，支持使用字母、数字和短划线（-）、正斜线（/）、半角句号（.）、百分号（%）、半角问号（?）、井号（#）和and（&）以及扩展字符集`_;~!（)*[]@$^:',+`。URL必须以正斜线（/）开头。\n\n> 只有`HealthCheckProtocol`为**HTTP**或**HTTPS**时才有该参数。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","required":false,"example":"/test/index.html"}},{"name":"HealthCheckMethod","in":"query","schema":{"title":"方法","description":"健康检查方法。取值：\n\n- **HEAD**（默认值）：HTTP和HTTPS监听健康检查默认采用HEAD方法。\n\n- **POST**：gRPC监听健康检查默认采用POST方法。\n\n- **GET**：如果响应报文长度超过8KB，会被截断，但不会影响健康检查结果的判定。\n\n> 只有**HealthCheckProtocol**为**HTTP**或**HTTPS**或**gRPC**时才有该参数。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","required":false,"example":"HEAD"}},{"name":"HealthCheckProtocol","in":"query","schema":{"title":"协议","description":"健康检查采用的协议。取值：\n\n- **HTTP**（默认值）：通过发送HEAD或GET请求模拟浏览器的访问行为来检查服务器应用是否健康。\n\n- **HTTPS**：通过发送HEAD或GET请求模拟浏览器的访问行为来检查服务器应用是否健康。（数据加密，相比HTTP更安全。）\n\n- **TCP**：通过发送SYN握手报文来检测服务器端口是否存活。\n\n- **gRPC**：通过发送POST或GET请求来检查服务器应用是否健康。\n\n> HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。","type":"string","required":false,"example":"HTTP"}},{"name":"HealthCheckHttpVersion","in":"query","schema":{"title":"版本","description":"健康检查HTTP协议版本。\n\n取值：**HTTP 1.0**或**HTTP 1.1**。\n\n默认值：**HTTP 1.1**。\n\n> 只有`HealthCheckProtocol`为**HTTP**或**HTTPS**时才有该参数。（HTTPS协议默认不开放，如需使用，请登录负载均衡控制台的配额管理页面，在**应用型负载均衡ALB**页签申请权益配额。）","type":"string","required":false,"example":"HTTP 1.0"}},{"name":"HealthyThreshold","in":"query","schema":{"title":"健康阈值","description":"健康检查连续成功多少次后，将后端服务器的健康检查状态由**失败**判定为**成功**。\n\n取值范围：**2~10**。\n\n默认值：**3**。","type":"integer","format":"int32","required":false,"example":"4"}},{"name":"UnhealthyThreshold","in":"query","schema":{"title":"不健康阈值","description":"健康检查连续失败多少次后，将后端服务器的健康检查状态由**成功**判定为**失败**。\n\n取值范围：**2~10**。\n\n默认值：**3**。","type":"integer","format":"int32","required":false,"example":"4"}},{"name":"DryRun","in":"query","schema":{"title":"dryRun","description":"是否只预检此次请求，取值：\n\n- **true**：发送检查请求，不会创建资源。检查项包括是否填写了必需参数、请求格式、业务限制。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n\n- **false**（默认值）：发送正常请求，通过检查后返回**http_2xx**状态码并直接进行操作。","type":"boolean","required":false,"example":"true"}},{"name":"Tag","in":"query","style":"flat","schema":{"description":"标签。","type":"array","items":{"description":"标签结构。","type":"object","properties":{"Key":{"description":"标签键。最多支持128个字符，不能以aliyun或acs:开头，不能包含http://或https://。","type":"string","required":false,"example":"env"},"Value":{"description":"标签值。最多支持128个字符，不能以aliyun或acs:开头，不能包含http://或https://。","type":"string","required":false,"example":"product"}},"required":false},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"健康检查模板。","type":"object","properties":{"HealthCheckTemplateId":{"title":"健康检查模板ID","description":"健康检查模板ID。","type":"string","example":"hct-pno8sisi******"},"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"365F4154-92F6-4AE4-92F8-7FF34******"}}}}},"errorCodes":{"400":[{"errorCode":"QuotaExceeded.HealthCheckTemplatesNum","errorMessage":"The quota of %s is exceeded, usage %s/%s."}],"403":[{"errorCode":"Forbidden.HealthCheckTemplate","errorMessage":"Authentication has failed for HealthCheckTemplate."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HealthCheckTemplateId\\\": \\\"hct-pno8sisi******\\\",\\n  \\\"RequestId\\\": \\\"365F4154-92F6-4AE4-92F8-7FF34******\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateHealthCheckTemplateResponse>\\n    <HealthCheckTemplateId>hct-1224334</HealthCheckTemplateId>\\n    <RequestId>365F4154-92F6-4AE4-92F8-7FF34B540710</RequestId>\\n</CreateHealthCheckTemplateResponse>\",\"errorExample\":\"\"}]","title":"创建健康检查模板"}