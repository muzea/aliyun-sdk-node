{"summary":"获取异步任务详情列表。","path":"/2023-03-30/functions/{functionName}/async-tasks","methods":["get"],"schemes":["http","https"],"tags":[],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","systemTags":{"operationType":"list","abilityTreeCode":"213993","abilityTreeNodes":["FEATUREfcYBHLF0"]},"parameters":[{"name":"functionName","in":"path","allowEmptyValue":false,"schema":{"title":"函数名称","description":"函数名称。","type":"string","required":true,"example":"my-func"}},{"name":"prefix","in":"query","allowEmptyValue":true,"schema":{"title":"异步任务id前缀","description":"异步任务ID前缀，指定后会返回符合前缀的异步任务列表。","type":"string","required":false,"example":"job-"}},{"name":"nextToken","in":"query","allowEmptyValue":true,"schema":{"title":"分页起始标记","description":"分页标记，用来返回更多结果。第一次查询不需要提供这个参数，后续查询的 Token 从返回结果中获取。","type":"string","required":false,"example":"MTIzNCNhYmM="}},{"name":"limit","in":"query","allowEmptyValue":true,"schema":{"title":"返回异步任务的数量","description":"返回异步任务的数量。默认返回 50 个，取值范围[1,100]。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"qualifier","in":"query","allowEmptyValue":true,"schema":{"title":"函数版本或别名","description":"函数版本或别名。","type":"string","required":false,"example":"LATEST"}},{"name":"status","in":"query","allowEmptyValue":true,"schema":{"title":"异步任务执行状态。Enqueued 表示请求已经成功入队；Running 表示正在执行中；Succeeded 表示执行成功；Failed 表示执行失败；Stopped 表示停止执行；Expired 表示请求已过期","description":"异步任务执行状态。\n- Enqueued：异步消息已入队，等待处理。\n\n- Succeeded：调用执行成功。\n\n- Failed：调用执行失败。\n\n- Running：调用执行中。\n\n- Stopped：调用执行终止。\n\n- Stopping：执行停止中。\n\n- Invalid：您的执行因函数被删除等原因处于无效状态（任务未被执行）。\n\n- Expired：您为任务配置了最长排队等待的期限。该任务因为超期被丢弃（任务未被执行）。\n\n- Retrying：异步调用因执行错误重试中。","type":"string","required":false,"example":"Running"}},{"name":"startedTimeBegin","in":"query","allowEmptyValue":true,"schema":{"title":"异步任务启动时间段的开始时间","description":"异步任务启动时间段的开始时间。","type":"integer","format":"int64","required":false,"example":"1640966400000"}},{"name":"startedTimeEnd","in":"query","allowEmptyValue":true,"schema":{"title":"异步任务启动时间段的结束时间","description":"异步任务启动时间段的结束时间。","type":"integer","format":"int64","required":false,"example":"1640966400000"}},{"name":"sortOrderByTime","in":"query","allowEmptyValue":true,"schema":{"title":"返回异步任务列表的排序方式。asc 表示生序；desc 表示降序","description":"返回异步任务列表的排序方式。\n\n- asc 表示升序\n\n- desc 表示降序","type":"string","required":false,"example":"asc"}},{"name":"includePayload","in":"query","allowEmptyValue":true,"schema":{"title":"是否返回异步任务的入参","description":"是否返回异步任务的入参。\n\n- true：当该参数设置为true时，异步任务的列表将返回`invocationPayload`字段。\n\n- false：当该参数设置为false时，则不返回`invocationPayload`字段。\n\n> `invocationPayload`字段表示异步任务函数运行时的输入参数。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"description":"异步任务列表","headers":{},"schema":{"title":"异步任务列表","description":"返回数据结构体","required":false,"$ref":"#/components/schemas/ListAsyncTaskOutput"},"examples":[]},"500":{"description":"错误信息","headers":{},"schema":{"title":"错误信息","description":"错误信息","required":false,"$ref":"#/components/schemas/Error"},"examples":[]}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"nextToken\\\": \\\"\\\",\\n  \\\"tasks\\\": [\\n    {\\n      \\\"alreadyRetriedTimes\\\": 3,\\n      \\\"destinationStatus\\\": \\\"Succeeded\\\",\\n      \\\"durationMs\\\": 1000,\\n      \\\"endTime\\\": 1633449590000,\\n      \\\"events\\\": [\\n        {\\n          \\\"eventDetail\\\": \\\"body\\\",\\n          \\\"eventId\\\": 1,\\n          \\\"status\\\": \\\"Succeeded\\\",\\n          \\\"timestamp\\\": 1647420449721\\n        }\\n      ],\\n      \\\"functionArn\\\": \\\"acs:fc:cn-shanghai:1234/functions/my-func\\\",\\n      \\\"instanceId\\\": \\\"D4-*******9FD1-882707E\\\",\\n      \\\"qualifier\\\": \\\"prod\\\",\\n      \\\"requestId\\\": \\\"e026ae92-61e5-472f-b32d-1c9e3c4e****\\\",\\n      \\\"returnPayload\\\": \\\"result\\\",\\n      \\\"startedTime\\\": 1633449590000,\\n      \\\"status\\\": \\\"Running\\\",\\n      \\\"taskErrorMessage\\\": \\\"UnhandledInvocationError\\\",\\n      \\\"taskId\\\": \\\"e026ae92-61e5-472f-b32d-1c9e3c4e****\\\",\\n      \\\"taskPayload\\\": \\\"body\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取异步任务列表"}