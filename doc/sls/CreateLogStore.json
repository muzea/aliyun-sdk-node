{"summary":"创建 LogStore。","path":"/logstores","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":[],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"project","in":"host","schema":{"description":"Project名称。","type":"string","required":true,"example":"ali-test-project"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求参数。","type":"object","properties":{"logstoreName":{"description":"Logstore名称。其命名规则如下：\n\n- 同一个Project下，Logstore名称不可重复。\n- 只能包括小写字母、数字、短划线（-）和下划线（_）。\n- 必须以小写字母或者数字开头和结尾。\n- 长度为3-63字符。","type":"string","required":true,"example":"my-logstore"},"shardCount":{"description":"Shard分区个数。\n\n> 该接口不支持更新Shard个数。只能通过SplitShard或MergeShards接口修改Shard个数。","type":"integer","format":"int32","required":true,"example":"2"},"ttl":{"description":"数据的保存时间，单位为天。取值范围为1~3000。如果配置为3650，表示永久保存。","type":"integer","format":"int32","required":true,"example":"1"},"encrypt_conf":{"description":"加密配置数据结构，包含参数`enable`、 `encrypt_type`、 `user_cmk_info`。更多信息，请参见[EncryptConf ](~~409461~~)。","required":false,"$ref":"#/components/schemas/EncryptConf"},"autoSplit":{"description":"是否自动分裂Shard。\n\n- true：自动分裂Shard。\n- false：不自动分裂Shard。","type":"boolean","required":false,"example":"true"},"enable_tracking":{"description":"是否开启WebTracking功能。默认值为false。\n\n- true：开启WebTracking。\n- false：不开启WebTracking。","type":"boolean","required":false,"example":"false"},"maxSplitShard":{"description":"自动分裂时最大的Shard个数，最小值是1，最大值是256。\n\n> 当autoSplit参数为true时必须设置。","type":"integer","format":"int32","required":false,"example":"64"},"appendMeta":{"description":"是否记录外网IP地址功能。默认值为false。\n\n- true：记录外网IP地址。\n- false：不记录外网IP地址。","type":"boolean","required":false,"example":"false"},"telemetryType":{"description":"可观测数据类型。取值包括：\n\n- **None**：日志数据。默认为日志数据。\n- **Metrics**：时序数据。","type":"string","required":false,"example":"None"},"hot_ttl":{"title":"数据在Logstore热存储层中的存储时间，最少为7天。单位：天，取值范围：7~3000。","description":"数据在Logstore热存储层中的存储时间，最少为7天。单位：天，取值范围：7~3000。\n\n当数据的存储时间超过您所配置的热存储层数据保存时间后，数据将转为低频存储。更多信息，请参见[智能冷热分层存储](~~308645~~)。","type":"integer","format":"int32","required":false,"example":"60"},"mode":{"description":"日志服务提供标准型（Standard）和查询型（Query）两种类型的Logstore。\n\n- **standard**：支持日志服务一站式数据分析功能，适用于实时监控、交互式分析以及构建完整的可观测性系统等场景。\n- **query**：支持高性能查询，索引流量费用约为Standard的一半，但不支持SQL分析，适用于数据量大、存储周期长（周、月级别以上）、无日志分析的场景。\n","type":"string","required":false,"example":"standard"},"infrequentAccessTTL":{"title":"低频存储。没有最少存储时间要求，至少保存30天转归档存储。","description":"低频存储。没有最少存储时间要求，至少保存30天转归档存储。","type":"integer","format":"int32","required":false,"example":"30"}},"required":true}}],"responses":{"200":{"headers":{"Server":{"schema":{"title":"服务器名称。","type":"string","example":"nginx"}},"Content-Type":{"schema":{"title":"返回的响应体的内容格式。","type":"string","example":"application/json"}},"Content-Length":{"schema":{"title":"响应内容长度。","type":"string","example":"0"}},"Connection":{"schema":{"title":"是否长链接。取值包括：  close：不是长链接，则每个HTTP请求都会重新建立TCP连接。 keep-alive：长链接，TCP连接建立后保持连接状态，节省连接所需时间和带宽。","type":"string","example":"close"}},"Date":{"schema":{"title":"返回响应的时间。","type":"string","example":"Sun, 27 May 2018 08:25:04 GMT"}},"x-log-requestid":{"schema":{"title":"服务端产生的标识，该请求的唯一ID。","type":"string","example":"5B0A6B60BB6EE39764D458B5"}}}},"201":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{}\",\"type\":\"json\"}]","title":"创建LogStore","description":"### 接口说明\n\n- 请求语法中的Host由Project名称和日志服务Endpoint构成，您需要在Host中指定Project。\n- 已创建并获取AccessKey。更多信息，请参见[访问密钥](~~29009~~)。\n\n 阿里云账号AccessKey拥有所有API的访问权限，风险很高。强烈建议您创建并使用RAM用户进行API访问或日常运维。RAM用户需具备操作日志服务资源的权限。具体操作，请参见[创建RAM用户及授权](~~47664~~)。\n- 已明确您查询日志所属的Project名称、所属地域等信息。如何查询，请参见[管理Project](~~48984~~)。\n\n- 一个Project中，最多创建200个Logstore。\n- 当日志保存时间达到您所设置的数据保存时间后，日志将被删除。\n### 鉴权资源\n下表列出了API对应的授权信息。您可以在RAM权限策略语句的Action元素中添加该信息，用于为RAM用户或RAM角色授予调用此API的权限。\n|动作（Action）  | 授权策略中的资源描述方式（Resource）  |\n| :------------ | :------------ |\n| `log:CreateLogStore`  | `acs:log:{#regionId}:{#accountId}:project/{#ProjectName}/logstore/{#LogstoreName}`  |","extraInfo":"\n| HttpStatusCode  | ErrorCode  | ErrorMessage  | 错误码描述  |\n| :------------ | :------------ | :------------ | :------------ |\n| 404  | ProjectNotExist | Project does not exist.  | Project不存在。  |\n| 400  | LogstoreAlreadyExist | Logstore already exists. | Logstore已存在。  |\n| 400  |  LogStoreInfoInvalid|  Logstore info is invalid | Logstore信息无效。  |\n|  400 |  ProjectQuotaExceed|  Project Quota Exceed. | 超过Project限额。  |\n|  500 |  InternalServerError |  Specified Server Error Message. | 内部服务调用错误。 |\n\n更多信息，请参见[通用错误码](~~29013~~)。"}