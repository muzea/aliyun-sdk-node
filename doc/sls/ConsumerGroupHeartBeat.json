{"summary":"消费者发送心跳到服务端。","path":"/logstores/{logstore}/consumergroups/{consumerGroup}?type=heartbeat","methods":["post"],"schemes":["https","http"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"project","in":"host","schema":{"description":"Project名称。","type":"string","required":true,"example":"ali-test-project"}},{"name":"logstore","in":"path","schema":{"description":"Logstore名称。","type":"string","required":true,"example":"ali-test-logstore"}},{"name":"consumerGroup","in":"path","schema":{"description":"消费组名称，同一Project中消费组名称为唯一值。","type":"string","required":true,"example":"consumer_group_test"}},{"name":"consumer","in":"query","schema":{"description":"消费者。","type":"string","required":true,"example":"consumer_1"}},{"name":"body","in":"body","style":"json","schema":{"description":"正在消费的Shard ID列表。","type":"array","items":{"description":"正在消费的Shard ID列表。","type":"integer","format":"int32","required":false,"example":"[0]"},"required":true}}],"responses":{"200":{"headers":{"Date":{"schema":{"title":"返回响应的时间。","type":"string"}},"Server":{"schema":{"title":"服务器名称。","type":"string"}},"x-log-requestid":{"schema":{"title":"服务端产生的标识，该请求的唯一ID。","type":"string"}},"Content-Length":{"schema":{"title":"响应内容长度。","type":"string"}},"Connection":{"schema":{"title":"是否长链接。取值包括：  close：不是长链接，则每个HTTP请求都会重新建立TCP连接。 keep-alive：长链接，TCP连接建立后保持连接状态，节省连接所需时间和带宽。","type":"string"}}},"schema":{"description":"消费者消费的所有Shard ID列表。","type":"array","items":{"description":"消费者消费的所有Shard ID列表。","type":"integer","format":"int32","example":"[0]"}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"[\\n  0\\n]\",\"type\":\"json\"}]","title":"消费者发送心跳到服务端","description":"### 接口说明\n\n- Host由Project名称和日志服务Endpoint构成，您需要在Host中指定Project。\n- 消费者和服务端通过固定时间发送心跳建立连接。在固定时间段内没有收到心跳，消费者将被删除。\n- 已创建并获取AccessKey。更多信息，请参见[访问密钥](~~29009~~)。\n\n 阿里云账号AccessKey拥有所有API的访问权限，风险很高。强烈建议您创建并使用RAM用户进行API访问或日常运维。RAM用户需具备操作日志服务资源的权限。具体操作，请参见[创建RAM用户及授权](~~47664~~)。\n- 已明确您查询日志所属的Project名称、所属地域、Logstore名称等。如何查询，请参见[管理Project](~~48984~~)和[管理Logstore](~~48990~~)。\n\n- 已获取消费组名称。更多信息，请参见[ListConsumerGroup](~~74964~~)。\n### 鉴权资源\n下表列出了API对应的授权信息。您可以在RAM权限策略语句的Action元素中添加该信息，用于为RAM用户或RAM角色授予调用此API的权限。\n|动作（Action）  | 授权策略中的资源描述方式（Resource）  |\n| :------------ | :------------ |\n| `log:ConsumerGroupHeartBeat`  | `acs:log:${regionId}:${accountId}:project/{#ProjectName}/logstore/{#LogstoreName}/consumergroup/{#ConsumerGroupName}`  |","extraInfo":"| HttpStatusCode  | ErrorCode  | ErrorMessage  | 错误码描述  |\n| :------------ | :------------ | :------------ | :------------ |\n| 400| NotExistConsumerWithBody| non-exist consumer with non-empty body of heartbeat message.  | 不存在非空心跳消息的消费者。请求参数中的Shard实际分配的消费者，与请求参数中的消费者不一致。可能原因是和服务端心跳断开后，Shard已经分配给其他消费者，建议传入空Shard列表。  |\n| 404| ProjectNotExist  | Project does not exist.  | Project不存在。  |\n| 404  | LogStoreNotExist  | Logstore does not exist.  | Logstore不存在。  |\n| 404  | ConsumerGroupNotExist| consumer group not exist.  | 消费组不存在。  |\n|  500 |  InternalServerError |  Specified Server Error Message. | 内部服务调用错误。 |\n\n更多信息，请参见[通用错误码](~~29013~~)。"}