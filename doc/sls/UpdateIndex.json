{"summary":"更新Logstore的索引信息。","path":"/logstores/{logstore}/index","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":[],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"8958","abilityTreeNodes":["FEATUREslsTA08U2"]},"parameters":[{"name":"project","in":"host","schema":{"title":"project 名称。","description":"Project名称。","type":"string","required":true,"example":"ali-test-project"}},{"name":"logstore","in":"path","schema":{"title":"logstore 名称。","description":"Logstore名称。","type":"string","required":true,"example":"test-logstore"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求结构体。","description":"请求体。","type":"object","properties":{"keys":{"title":"字段索引配置，key为字段名称，value为字段索引配置。","description":"字段索引配置，key为字段名称，value为字段索引配置。","type":"object","required":false,"additionalProperties":{"title":"单个索引字段的配置。","description":"字段索引配置。","type":"object","properties":{"caseSensitive":{"title":"大小写敏感","description":"是否大小写敏感。\n\n- true：大小写敏感。\n- false：大小写不敏感。","type":"boolean","required":false,"default":"false","example":"false"},"chn":{"title":"包含中文","description":"是否包含中文。仅当**type**参数取值为**text**时，必须设置。\n  - true：包含中文。\n  - false：不包含中文。","type":"boolean","required":false,"default":"false","example":"false"},"type":{"title":"字段的索引类型。支持 text, double, long, json 四种类型。","description":"索引的字段类型。支持 text, json, double, long 四种类型。","type":"string","required":true,"example":"text","default":"text","enumValueTitles":{"double":"double","json":"json","text":"text","long":"long"}},"alias":{"title":"字段别名。","description":"字段别名。","type":"string","required":false,"example":"myAlias"},"token":{"title":"分词符列表。仅当字段的 type 参数取值为text时，必须设置分词符。","description":"分词符列表，用于分割文本。仅当字段索引的 type 参数取值为text时，必须设置。","type":"array","items":{"title":"分隔符，例如 , . 等","description":"分词符列表，用于分割文本。","type":"string","required":false,"example":"."},"required":true},"doc_value":{"title":"是否开启字段统计。","description":"是否开启字段统计。","type":"boolean","required":true,"example":"false"},"vector_index":{"type":"string","required":false,"enum":["high_recall"]},"embedding":{"type":"string","required":false,"enum":["word2vec","fastText","bert"]}},"required":true}},"line":{"title":"配置全文索引。","description":"全文索引配置。","type":"object","properties":{"chn":{"title":"包含中文","description":"是否包含中文。\n  - true：包含中文。\n  - false：不包含中文。","type":"boolean","required":true,"example":"false"},"caseSensitive":{"title":"大小写敏感","description":"是否大小写敏感。\n\n- true：大小写敏感。\n- false：大小写不敏感。","type":"boolean","required":true,"example":"true"},"token":{"title":"分词符列表。可以设置一个分词参数，指定这个字段按照哪一种方式分词。","description":"分词符列表，用于分割文本。","type":"array","items":{"title":"分隔符，例如 , .  等","description":"分词符列表，用于分割文本。","type":"string","required":false,"example":","},"required":true},"include_keys":{"title":"包含的字段列表，不能与exclude_keys同时指定。","description":"包含的字段列表，不能与exclude_keys同时指定。","type":"array","items":{"title":"包含的字段。","description":"包含的字段列表。","type":"string","required":false,"example":"includeField"},"required":false},"exclude_keys":{"title":"排除的字段列表，不能与include_keys同时指定。","description":"排除的字段列表，不能与include_keys同时指定。","type":"array","items":{"title":"排除的字段。","description":"排除的字段列表。","type":"string","required":false,"example":"excludeField"},"required":false}},"required":false},"ttl":{"title":"保存时间，单位为天","description":"数据的保存时间，单位为天。支持 7天、30天、90天。","type":"integer","format":"int32","required":true,"example":"30"},"max_text_len":{"title":"统计字段的最大长度","description":"统计字段的最大长度。","type":"integer","format":"int32","required":false,"example":"2048"},"log_reduce":{"title":"开启日志聚类，开启后白名单与黑名单至多生效其中一个。","description":"是否开启日志聚类，开启后白名单 `log_reduce_white_list` 与黑名单 `log_reduce_black_list` 至多生效其中一个。","type":"boolean","required":false,"example":"false","default":"false"},"log_reduce_white_list":{"title":"日志聚类的聚类字段白名单","description":"日志聚类的聚类字段白名单。","type":"array","items":{"title":"白名单字段。","description":"白名单字段。","type":"string","required":false,"example":"user"},"required":false},"log_reduce_black_list":{"title":"日志聚类的聚类字段黑名单","description":"日志聚类的聚类字段黑名单。","type":"array","items":{"title":"黑名单字段。","description":"黑名单字段。","type":"string","required":false,"example":"time"},"required":false}},"required":true}}],"responses":{"200":{"headers":{"Server":{"schema":{"title":"服务器名称。","type":"string","example":"nginx"}},"Content-Type":{"schema":{"title":"返回的响应体的内容格式。","type":"string","example":"application/json"}},"Content-Length":{"schema":{"title":"响应内容长度。","type":"string","example":"0"}},"Connection":{"schema":{"title":"是否长链接。取值包括：  close：不是长链接，则每个HTTP请求都会重新建立TCP连接。 keep-alive：长链接，TCP连接建立后保持连接状态，节省连接所需时间和带宽。","type":"string","example":"close"}},"Date":{"schema":{"title":"返回响应的时间。","type":"string","example":"Sun, 27 May 2018 08:25:04 GMT"}},"x-log-requestid":{"schema":{"title":"服务端产生的标识，该请求的唯一ID。","type":"string","example":"5B0A6B60BB6EE39764D458B5"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"更新索引","description":"### 接口说明\nHost由Project名称和日志服务Endpoint构成，您需要在Host中指定Project。"}