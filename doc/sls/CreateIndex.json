{"summary":"为指定Logstore创建索引。","path":"/logstores/{logstore}/index","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":[],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","chargeType":"paid","abilityTreeCode":"8963","abilityTreeNodes":["FEATUREslsTA08U2"]},"parameters":[{"name":"logstore","in":"path","schema":{"description":"Logstore的名称。","type":"string","required":true,"example":"ali-logstore-test"}},{"name":"project","in":"host","schema":{"description":"Project名称。","type":"string","required":true,"example":"ali-project-test"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求消息体。","type":"object","properties":{"keys":{"description":"字段索引配置，key为字段名称，value为字段索引配置。该参数和line必须至少指定一个，更多示例，请参见示例。","type":"object","required":false,"additionalProperties":{"type":"object","properties":{"caseSensitive":{"title":"大小写敏感","description":"是否大小写敏感。仅当**type**参数取值为**text**时，必须设置。\n\n- true：大小写敏感。\n- false（默认值）：大小写不敏感。","type":"boolean","required":false,"example":"false"},"chn":{"title":"包含中文","description":"是否包含中文。仅当**type**参数取值为**text**时，必须设置。\n\n- true：包含中文。\n- false（默认值）：不包含中文。","type":"boolean","required":false,"example":"false"},"type":{"title":"字段的索引类型","description":"索引的字段类型。支持 text, json, double, long 四种类型。","type":"string","required":true,"example":"text","default":"text"},"alias":{"title":"别名","description":"字段别名。","type":"string","required":false,"example":"myAlias"},"token":{"title":"分词符列表。仅当type参数取值为text时，必须设置。","description":"分词符列表，用于分割文本。","type":"array","items":{"type":"string","required":false,"description":"分词符。","example":"."},"required":false},"doc_value":{"title":"开启统计","description":"是否开启字段统计。","type":"boolean","required":false,"example":"false"},"vector_index":{"type":"string","required":false,"enum":["high_recall"]},"embedding":{"type":"string","required":false,"enum":["word2vec","fastText","bert"]}},"description":"单个字段的索引配置。"}},"line":{"title":"配置全文索引","description":"全文索引配置。该参数和keys必须至少指定一个，更多示例，请参见示例。","type":"object","properties":{"chn":{"title":"包含中文","description":"是否包含中文。\n\n- true：包含中文。\n- false（默认值）：不包含中文。","type":"boolean","required":false,"example":"false"},"caseSensitive":{"title":"大小写敏感","description":"是否大小写敏感。\n\n- true：大小写敏感。\n- false（默认值）：大小写不敏感。","type":"boolean","required":false,"example":"false"},"token":{"title":"分词符列表。可以设置一个分词参数，指定这个字段按照哪一种方式分词。","description":"分词符列表。可以设置一个分词参数，指定这个字段按照哪一种方式分词。更多分词符，请参见示例。","type":"array","items":{"description":"分词符列表。可以设置一个分词参数，指定这个字段按照哪一种方式分词。更多分词符，请参见示例。","type":"string","required":false,"example":","},"required":true},"include_keys":{"title":"包含的字段列表，不能与exclude_keys同时指定。","description":"包含的字段列表，不能与exclude_keys同时指定。","type":"array","items":{"description":"包含的字段列表，不能与exclude_keys同时指定。","type":"string","required":false,"example":"includeKey"},"required":false},"exclude_keys":{"title":"排除的字段列表，不能与include_keys同时指定。","description":"排除的字段列表，不能与include_keys同时指定。","type":"array","items":{"description":"排除的字段列表，不能与include_keys同时指定。","type":"string","required":false,"example":"excludeKey"},"required":false}},"required":false},"ttl":{"title":"保存时间，单位为天","description":"日志保存时间，单位为天。可选 7天、30天、90天。","type":"integer","format":"int32","required":false,"example":"30"},"max_text_len":{"title":"统计字段的最大长度","description":"日志服务默认字段值的最大长度为2048字节，即2 KB。如果您需要修改字段值的最大长度，可设置统计字段（text）最大长度，取值范围为64~16384字节。","type":"integer","format":"int32","required":false,"example":"2048"},"log_reduce":{"title":"开启日志聚类，开启后白名单与黑名单至多生效其中一个。","description":"是否开启日志聚类。开启后白名单与黑名单至多生效其中一个。\n","type":"boolean","required":false,"example":"false"},"log_reduce_white_list":{"title":"日志聚类的聚类字段白名单","description":"日志聚类的聚类字段白名单。","type":"array","items":{"description":"日志聚类的聚类字段白名单。","type":"string","required":false,"example":"a"},"required":false},"log_reduce_black_list":{"title":"日志聚类的聚类字段黑名单","description":"日志聚类的聚类字段黑名单。","type":"array","items":{"description":"日志聚类的聚类字段黑名单。","type":"string","required":false,"example":"b"},"required":false}},"required":false}}],"responses":{"200":{"headers":{"Server":{"schema":{"title":"服务器名称。","type":"string","example":"nginx"}},"Content-Type":{"schema":{"title":"返回的响应体的内容格式。","type":"string","example":"application/json"}},"Content-Length":{"schema":{"title":"响应内容长度。","type":"string","example":"0"}},"Connection":{"schema":{"title":"是否长链接。取值包括：  close：不是长链接，则每个HTTP请求都会重新建立TCP连接。 keep-alive：长链接，TCP连接建立后保持连接状态，节省连接所需时间和带宽。","type":"string","example":"close"}},"Date":{"schema":{"title":"返回响应的时间。","type":"string","example":"Sun, 27 May 2018 08:25:04 GMT"}},"x-log-requestid":{"schema":{"title":"服务端产生的标识，该请求的唯一ID。","type":"string","example":"5B0A6B60BB6EE39764D458B5"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{}\",\"type\":\"json\"}]","title":"创建索引","description":"Host 由 Project 名称和日志服务 Endpoint 构成，您需要在 Host 中指定 Project。","extraInfo":"| HttpStatusCode  | ErrorCode  | ErrorMessage  | 错误码描述  |\n| :------------ | :------------ | :------------ | :------------ |\n| 400  | IndexInfoInvalid  |  Required field token is lacking or of error format. | 缺少必要的字段标记或格式配置错误。  |\n| 400  |  IndexAlreadyExist |  Logstore index is already created. | 日志索引已经创建。  |\n| 404  | ProjectNotExist  | Project does not exist.  | Project不存在。  |\n| 404  | LogStoreNotExist  | Logstore does not exist.  | Logstore不存在。  |\n|  500 |  InternalServerError |  Specified Server Error Message. | 内部服务调用错误。 |\n\n更多信息，请参见[通用错误码](~~29013~~)。"}