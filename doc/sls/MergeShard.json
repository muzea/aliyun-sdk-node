{"summary":"合并相邻位置的读写Shard。","path":"/logstores/{logstore}/shards/{shard}?action=merge","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{},"parameters":[{"name":"project","in":"host","schema":{"title":"A short description of struct","description":"Project名称。","type":"string","required":true,"example":"ali-test-project"}},{"name":"logstore","in":"path","schema":{"description":"Logstore名称。","type":"string","required":true,"example":"ali-test-logstore"}},{"name":"shard","in":"path","schema":{"description":"Shard ID。","type":"integer","format":"int32","required":true,"example":"3"}}],"responses":{"200":{"headers":{"Server":{"schema":{"title":"服务器名称。","type":"string"}},"Content-Type":{"schema":{"title":"返回的响应体的内容格式。","type":"string"}},"Content-Length":{"schema":{"title":"响应内容长度。","type":"string"}},"Connection":{"schema":{"title":"是否长链接。取值包括：  close：不是长链接，则每个HTTP请求都会重新建立TCP连接。 keep-alive：长链接，TCP连接建立后保持连接状态，节省连接所需时间和带宽。","type":"string"}},"Date":{"schema":{"title":"返回响应的时间。","type":"string"}},"x-log-requestid":{"schema":{"title":"服务端产生的标识，该请求的唯一ID。","type":"string"}}},"schema":{"description":"Shard数据结构。","type":"array","items":{"description":"包含3个Shard元素组成的数组，第一个Shard为合并之后的Shard，后两个为合并之前的Shard。","$ref":"#/components/schemas/shard"}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"[\\n  {\\n    \\\"shardID\\\": 0,\\n    \\\"status\\\": \\\"readwrite\\\",\\n    \\\"inclusiveBeginKey\\\": \\\"00000000000000000000000000000000\\\",\\n    \\\"exclusiveEndKey\\\": \\\"8000000000000000000000000000000\\\",\\n    \\\"serverIp\\\": \\\"10.0.xx.x\\\",\\n    \\\"createTime\\\": 1453949705\\n  }\\n]\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"合并shard","description":"### 接口说明\n\n- Host由Project名称和日志服务Endpoint构成，您需要在Host中指定Project。\n- 每个Shard均有范围，为MD5左闭右开区间`[BeginKey,EndKey)`。Shard状态包括readwrite（读写）和readonly（只读），支持分裂和合并Shard。更多信息，请参见[分区（Shard）](~~28976~~)。\n- 已创建并获取AccessKey。更多信息，请参见[访问密钥](~~29009~~)。\n\n 阿里云账号AccessKey拥有所有API的访问权限，风险很高。强烈建议您创建并使用RAM用户进行API访问或日常运维。RAM用户需具备操作日志服务资源的权限。具体操作，请参见[创建RAM用户及授权](~~47664~~)。\n- 已明确您查询日志所属的Project名称、所属地域、Logstore名称等。如何查询，请参见[管理Project](~~48984~~)和[管理Logstore](~~48990~~)。","extraInfo":"| HttpStatusCode  | ErrorCode  | ErrorMessage  | 错误码描述  |\n| :------------ | :------------ | :------------ | :------------ |\n| 404  | ProjectNotExist  | Project does not exist.  | Project不存在。  |\n| 404  | LogStoreNotExist  | Logstore does not exist.  | Logstore不存在。  |\n| 400  | ParameterInvalid|  invalid shard id.| 无效Shard ID。  |\n| 400  |  ParameterInvalid| can not merge the last shard. | 无效merge。  |\n|  500 |  InternalServerError |  Specified Server Error Message. | 内部服务调用错误。 |\n\n更多信息，请参见[错误码对照表](~~29013~~)。"}