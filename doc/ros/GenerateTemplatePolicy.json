{"summary":"通过指定模板生成模板所需的策略信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"TemplateURL","in":"query","schema":{"description":"包含模板主体的文件的位置。URL必须指向位于Web服务器（HTTP或HTTPS）或阿里云OSS存储空间（例如：oss://ros/template/demo、oss://ros/template/demo?RegionId=cn-hangzhou）中的模板，模板最大为524,288个字节。\n\n> 如果OSS地域未指定，默认与接口参数RegionId相同。\n\n您仅能指定TemplateBody、TemplateURL、TemplateId其中一个参数。\nURL的最大长度为：1024个字节。","type":"string","required":false,"docRequired":false,"example":"oss://ros/template/demo"}},{"name":"TemplateBody","in":"query","schema":{"description":"模板的结构。长度为1~524,288个字节。\n如果长度较大，建议通过HTTP POST+Body Param的方式，将参数放在请求体中进行传递，避免URL过长而导致请求失败。  \n\n您仅能指定TemplateBody、TemplateURL、TemplateId其中一个参数。","type":"string","required":false,"docRequired":false,"example":"{\"ROSTemplateFormatVersion\":\"2015-09-01\"}"}},{"name":"TemplateId","in":"query","schema":{"description":"模板ID。支持共享模板和私有模板。  \n您仅能指定TemplateBody、TemplateURL、TemplateId其中一个参数。","type":"string","required":false,"docRequired":false,"example":"5ecd1e10-b0e9-4389-a565-e4c15efc****"}},{"name":"TemplateVersion","in":"query","schema":{"description":"模板版本。仅在指定TemplateId时生效。","type":"string","required":false,"docRequired":false,"example":"v1"}},{"name":"OperationTypes","in":"query","style":"repeatList","schema":{"description":"需要生成策略信息的操作类型。","type":"array","items":{"description":"需要生成策略信息的操作类型。\n取值：\n- CreateStack：调用CreateStack创建资源栈。\n\n- UpdateStack：调用UpdateStack更新资源栈。\n\n- DeleteStack：调用DeleteStack删除资源栈。\n\n- DetectStackDrift：调用DelectStackDrift对资源栈进行偏差检查。\n\n- ListStackOperationRisks：调用ListStackOperationRisks并指定OperationType参数为DeleteStack来列出删除资源栈的风险。\n\n- GetTemplateEstimateCost：调用GetTemplateEstimateCost查询模板中创建资源的预估价格。\n\n- GetTemplateParameterConstraints：调用GetTemplateParameterConstraints查询模板参数的取值。\n\n- ImportResourcesToStack：调用CreateChangeSet并指定ChangeSetType取值为IMPORT以将资源导入至资源栈中。\n\n- SignalResource：向资源栈发送信号。\n\n> 默认值为所有取值。\n","type":"string","required":false,"example":"[\"CreateStack\"]"},"required":false,"maxItems":9}}],"responses":{"200":{"schema":{"type":"object","properties":{"Policy":{"description":"权限策略信息。","type":"object","properties":{"Version":{"description":"版本号。","type":"string","example":"1"},"Statement":{"description":"具体权限策略信息。","type":"array","items":{"type":"object","properties":{"Effect":{"description":"授权效力。取值：  \n\n- Allow：允许。  \n\n- Deny：拒绝。","type":"string","example":"Allow"},"Resource":{"description":"被授权的具体对象。星号（*）表示所有资源。","type":"string","example":"*"},"Action":{"description":"对具体资源的操作。","type":"array","items":{"description":"对具体资源的操作。","type":"string","example":"[\n    \"ram:PassRole\"\n]"}},"Condition":{"description":"授权生效的条件。","type":"object","example":"{\n    \"StringEquals\": {\n        \"acs:Service\": \"fc.aliyuncs.com\"\n    }\n}"}}}}}},"RequestId":{"description":"请求ID。","type":"string","example":"B288A0BE-D927-4888-B0F7-B35EF84B6E6"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Policy\\\": {\\n    \\\"Version\\\": \\\"1\\\",\\n    \\\"Statement\\\": [\\n      {\\n        \\\"Effect\\\": \\\"Allow\\\",\\n        \\\"Resource\\\": \\\"*\\\",\\n        \\\"Action\\\": [\\n          \\\"[\\\\n    \\\\\\\"ram:PassRole\\\\\\\"\\\\n]\\\"\\n        ],\\n        \\\"Condition\\\": {\\n          \\\"StringEquals\\\": {\\n            \\\"acs:Service\\\": \\\"fc.aliyuncs.com\\\"\\n          }\\n        }\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"B288A0BE-D927-4888-B0F7-B35EF84B6E6\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<Policy>\\n    <Version>1</Version>\\n    <Statement>\\n        <Action>ecs:DescribeVpcs</Action>\\n        <Action>ecs:DeleteVpc</Action>\\n        <Resource>*</Resource>\\n        <Effect>Allow</Effect>\\n    </Statement>\\n    <Statement>\\n        <Action>vpc:CreateVpc</Action>\\n        <Action>vpc:DescribeVpcs</Action>\\n        <Action>vpc:ModifyVpcAttribute</Action>\\n        <Action>vpc:TagResources</Action>\\n        <Resource>*</Resource>\\n        <Effect>Allow</Effect>\\n    </Statement>\\n</Policy>\\n<RequestId>16AAEDEB-6273-405E-97D3-023EFD95DE03</RequestId>\",\"errorExample\":\"\"}]","title":"生成模板所需的策略信息","description":"如果模板所需的策略中包含企业级分布式应用服务EDAS（Enterprise Distributed Application Service），您需要登录阿里云账号，对需要授权的RAM用户进行RAM权限升级。\n\n本文将提供一个示例，为您介绍如何为模板ID为`5ecd1e10-b0e9-4389-a565-e4c15efc****`的模板生成权限策略。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~131957~~)。","responseParamsDescription":" ","extraInfo":"| HttpCode | 错误码 | 错误信息 | 描述 |\n| ------------- | ------------- | ------------- | ------------- |\n| 400 | StackValidationFailed | {reason}. |资源栈校验失败。reason为具体原因。|\n| 404 | TemplateNotFound |The Tempalte ({ ID }) could not be found. |模板不存在。ID为模板ID。|\n| 404 | TemplateNotFound |The Template { ID } with version { version } could not be found. |模板或指定版本不存在。ID为模板ID，version为模板版本。 |"}