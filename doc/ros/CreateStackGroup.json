{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"资源栈组所属的地域ID。您可以调用[DescribeRegions](~~131035~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"StackGroupName","in":"query","schema":{"description":"资源栈组名称。名称在单个地域内唯一。   \n长度不超过255个字符，必须以数字或英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）。\n","type":"string","required":true,"docRequired":true,"example":"MyStackGroup"}},{"name":"Description","in":"query","schema":{"description":"资源栈组描述。  \n长度为1~256个字符。","type":"string","required":false,"docRequired":false,"example":"StackGroup Description"}},{"name":"TemplateBody","in":"formData","schema":{"description":"模板主体的结构。长度为1~524,288个字节。如果长度较大，则建议通过HTTP POST+Body Param的方式，将参数放在请求体中进行传递，避免因URL过长而导致请求失败。                                                               \n>您必须且仅能指定TemplateBody、TemplateURL或TemplateId其中一个参数。","type":"string","required":false,"docRequired":false,"example":"{\"ROSTemplateFormatVersion\":\"2015-09-01\"}"}},{"name":"TemplateURL","in":"query","schema":{"description":"包含模板主体的文件的位置。URL必须指向位于HTTP Web服务器（HTTP或HTTPS）或阿里云OSS存储桶中的模板（1~524,288个字节）。OSS存储桶的URL，例如oss://ros/template/demo或oss://ros/template/demo?RegionId=cn-hangzhou。如未指定OSS地域，默认与接口参数RegionId相同。\n\n> 您必须且仅能指定TemplateBody、TemplateURL或TemplateId其中一个参数。","type":"string","required":false,"docRequired":false,"example":"oss://ros-template/demo"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求的幂等性。该值由客户端生成，并且必须是全局唯一的。   \n长度不超过64个字符，可包含英文字母、数字、短划线（-）和下划线（_）。  \n更多信息，请参见[如何保证幂等性](~~134212~~)。\n","type":"string","required":false,"docRequired":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"AdministrationRoleName","in":"query","schema":{"description":"创建自助管理权限模式的资源栈组时，需指定的供ROS扮演的RAM管理员角色名称。若不指定，则使用AliyunROSStackGroupAdministrationRole作为默认值。ROS以该角色身份进一步扮演执行角色（AliyunROSStackGroupExecutionRole）来操作资源栈组中资源栈实例所对应的资源栈。\n\n长度为1~64个字符，可包含英文字母、数字和短划线（-）。","type":"string","required":false,"docRequired":false,"example":"AliyunROSStackGroupAdministrationRole"}},{"name":"ExecutionRoleName","in":"query","schema":{"description":"创建自助管理权限模式的资源栈组时，需指定的供管理员角色（AliyunROSStackGroupAdministrationRole）扮演的RAM执行角色名称。若不指定，则使用AliyunROSStackGroupExecutionRole作为默认值。ROS以该角色身份来操作资源栈组中资源栈实例所对应的资源栈。\n\n长度为1~64个字符，可包含英文字母、数字和短划线（-）。","type":"string","required":false,"docRequired":false,"example":"AliyunROSStackGroupExecutionRole"}},{"name":"TemplateId","in":"query","schema":{"description":"模板ID。支持共享模板和私有模板。\n\n> 您必须且仅能指定TemplateBody、TemplateURL或TemplateId其中一个参数。","type":"string","required":false,"example":"5ecd1e10-b0e9-4389-a565-e4c15efc****"}},{"name":"TemplateVersion","in":"query","schema":{"description":"模板版本。如果不指定，默认取最新版本。\n>TemplateVersion仅在指定TemplateId时生效。","type":"string","required":false,"example":"v1"}},{"name":"Parameters","in":"query","style":"repeatList","schema":{"description":"资源栈组参数列表。","type":"array","items":{"type":"object","properties":{"ParameterKey":{"description":"参数的名称。如果未指定参数的名称和值，则ROS将使用模板中指定的默认值。\n\nN最大值为200。  \n\n> Parameters为可选参数。若指定了Parameters，则Parameters.N.ParameterKey为必选参数。","type":"string","required":true,"example":"Amount"},"ParameterValue":{"description":"参数的值。\n\nN最大值为200。  \n\n> Parameters为可选参数。若指定了Parameters，则Parameters.N.ParameterValue为必选参数。","type":"string","required":true,"example":"12"}},"required":false},"required":false,"maxItems":200}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。如果不指定该参数，资源栈组将加入默认资源组。  \n关于资源组的更多信息，请参见[什么是资源组](~~94475~~)。","type":"string","required":false,"example":"rg-acfmxazb4ph6aiy****"}},{"name":"PermissionModel","in":"query","schema":{"description":"授权模式。\n\n取值：\n\n- SELF_MANAGED（默认值）：自助管理权限模式。使用该模式时，您需要事先在管理员账号和目标账号中手动创建RAM角色，建立二者的信任关系，然后在目标账号中部署资源栈。\n\n- SERVICE_MANAGED：服务管理权限模式。使用该模式时，ROS会为管理员账号和目标账号自动创建服务关联角色，管理员账号通过服务关联角色在目标账号中部署资源栈。\n\n>当您使用服务管理权限模式部署资源栈时，当前账号必须是资源目录的企业管理账号或委派管理员账号，且已开启可信访问。更多信息，请参见[设置委派管理员账号](~~308253~~)和[开启可信访问](~~298229~~)。","type":"string","required":false,"example":"SELF_MANAGED"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"资源栈组的标签。","type":"array","items":{"description":"资源栈组的标签。","type":"object","properties":{"Key":{"description":"资源栈组的标签键。\n\n> Tags为可选参数。如果需要指定Tags，则Tags.N.Key必须指定。","type":"string","required":true,"example":"usage"},"Value":{"description":"资源栈组的标签值。","type":"string","required":false,"example":"test"}},"required":false},"required":false,"maxItems":20}},{"name":"AutoDeployment","in":"query","style":"json","schema":{"description":"自动部署设置信息。\n>仅当PermissionModel为SERVICE_MANAGED时，需要指定该参数。","type":"object","properties":{"Enabled":{"description":"启用或者禁用自动部署。\n\n取值：\n\n- true：启用自动部署。启用自动部署后，如果目标资源夹中新增了成员账号，资源栈组会自动将资源栈实例部署到该账号。如果目标资源夹中删除了成员账号，则资源栈组会自动删除该账号中的资源栈实例。\n\n- false：禁用自动部署。禁用自动部署后，目标资源夹中成员账号变动时资源栈实例不会发生变化。","type":"boolean","required":true,"docRequired":true,"example":"true"},"RetainStacksOnAccountRemoval":{"description":"目标资源夹中删除成员账号时，是否保留成员账号中的资源栈。\n\n取值：\n\n- true：保留资源栈。\n\n- false：删除资源栈。\n\n>当Enabled为true时，RetainStacksOnAccountRemoval必选。","type":"boolean","required":false,"example":"true"}},"required":false,"example":"{\"Enabled\": true, \"RetainStacksOnAccountRemoval\": true}"}},{"name":"Capabilities","in":"query","style":"repeatList","schema":{"description":"资源栈组选项列表，最大长度为1。","type":"array","items":{"description":"资源栈组选项。可选值：ExpandModules，在当前账号展开模块。\n\n> - 仅在模板中使用到模块时生效。\n> - 默认不在当前账号展开模块，要求所有部署目标账号中存在相关模块。如果在当前账号展开模块，则要求当前账号存在相关模块。","type":"string","required":false,"enumValueTitles":{"ExpandModules":"ExpandModules"},"example":"ExpandModules"},"required":false,"maxItems":1}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"14A07460-EBE7-47CA-9757-12CC4761D47A"},"StackGroupId":{"description":"资源栈组ID。","type":"string","example":"2c036e78-9e82-428e-afd6-177f5d04****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"14A07460-EBE7-47CA-9757-12CC4761D47A\\\",\\n  \\\"StackGroupId\\\": \\\"2c036e78-9e82-428e-afd6-177f5d04****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateStackGroupResponse>\\n    <RequestId>14A07460-EBE7-47CA-9757-12CC4761D47A</RequestId>\\n    <StackGroupId>2c036e78-9e82-428e-afd6-177f5d04****</StackGroupId>\\n</CreateStackGroupResponse>\",\"errorExample\":\"\"}]","title":"创建资源栈组","summary":"使用资源编排模板创建资源栈组，通过资源栈组，可以在多个阿里云账号中跨地域创建资源栈。","description":"资源栈组是针对ROS资源栈的管理单元。通过资源栈组，可使用一个ROS模板在多个阿里云账号中跨地域创建资源栈。\n\n您可以创建自助管理权限模式或服务管理权限模式的资源栈组：\n\n- 当您使用阿里云账号创建自助管理权限模式的资源栈组时，管理员账号和目标账号都是阿里云账号。\n\n- 当您开通了资源目录，使用资源目录的企业管理账号或委派管理员账号创建服务管理权限模式的资源栈组时，管理员账号是资源目录的企业管理账号或委派管理员账号，目标账号是资源目录的成员账号。\n\n关于资源栈组的更多信息，请参见[概览](~~154578~~)。\n\n\n本文将提供一个示例，在杭州地域`cn-hangzhou`使用ID为`5ecd1e10-b0e9-4389-a565-e4c15efc****`的模板创建一个名为`MyStackGroup`的资源栈组，其使用自助管理权限模式。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~131957~~)。","responseParamsDescription":" ","extraInfo":"| 错误代码 | 错误信息 | HTTP状态码 | 描述 |\n| ------------- | ------------- | ------------- | ------------- |\n| CircularDependency |Circular Dependency Found: {reason}. | 400 |模板包含循环引用，reason为具体原因。 |\n| InvalidSchema |{reason}. | 400 |模板格式不正确，reason为具体原因。 |\n| InvalidTemplateAttribute |The Referenced Attribute ({resource} {name}) is incorrect. | 400 |模板包含不正确的资源属性（输出）引用，resource为资源名，name为属性名。 |\n| InvalidTemplatePropertyType |The specified value type of ({resource} {section}) is incorrect. | 400 |模板资源定义中，字段类型不正确，resource为资源名，section为字段名。 |\n| InvalidTemplateReference |The specified reference \"{name}\" (in {referencer}) is incorrect. | 400 |模板包含不正确的引用，name为引用名，referencer为引用者。 |\n| InvalidTemplateSection |The template section is invalid: {section}. | 400 |模板包含无效的字段，section为字段名。 |\n| InvalidTemplateVersion |The template version is invalid: {reason}. | 400 |模板版本不正确，reason为具体原因。 |\n| UnknownUserParameter |The Parameter ({name}) was not defined in template. | 400 |传递的参数在模板中未定义，name为参数名。 |\n| UserParameterMissing |The Parameter {name} was not provided. | 400 |参数在模板中已定义，但未传递值，name为参数名。 |\n| StackGroupExists |The StackGroup ({name}) already exists. | 409 |同名资源栈组已存在，name为资源栈组名称。 |\n| TemplateNotFound |The Tempalte ({ ID }) could not be found. | 404 |模板不存在。ID为模板ID。 |\n| TemplateNotFound |The Template { ID } with version { version } could not be found. | 404 |模板或指定版本不存在。ID为模板ID，version为模板版本。 |"}