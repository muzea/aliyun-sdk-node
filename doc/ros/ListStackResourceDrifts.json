{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"StackId","in":"query","schema":{"description":"资源栈ID。","type":"string","required":true,"docRequired":true,"example":"4a6c9851-3b0f-4f5f-b4ca-a14bf691****"}},{"name":"RegionId","in":"query","schema":{"description":"资源栈所属的地域ID。您可以调用[DescribeRegions](~~131035~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"MaxResults","in":"query","schema":{"description":"使用NextToken方式查询时，每次最多返回的结果数。\n\n取值范围：1~100。\n\n默认值：50。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"50"}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","required":false,"docRequired":false,"example":"AAAAAdDWBF2****w=="}},{"name":"ResourceDriftStatus","in":"query","style":"repeatList","schema":{"description":"资源偏差状态。取值：\n- DELETED：资源与预期的模板配置不同，因为资源已被删除。\n- MODIFIED：资源与预期的模板配置不同。\n- NOT_CHECKED：ROS没有检查资源是否与预期的模板配置不同。\n- IN_SYNC：资源的当前配置与其预期的模板配置相匹配。","type":"array","items":{"description":"资源偏差状态。取值：\n- DELETED：资源与预期的模板配置不同，因为资源已被删除。\n- MODIFIED：资源与预期的模板配置不同。\n- NOT_CHECKED：ROS没有检查资源是否与预期的模板配置不同。\n- IN_SYNC：资源的当前配置与其预期的模板配置相匹配。","type":"string","required":false,"example":"MODIFIED"},"required":false,"example":"MODIFIED","maxItems":4}}],"responses":{"200":{"schema":{"type":"object","properties":{"ResourceDrifts":{"description":"资源偏差。","type":"array","items":{"type":"object","properties":{"LogicalResourceId":{"description":"资源逻辑ID，即模板中资源的名称。","type":"string","example":"ScalingRule"},"StackId":{"description":"资源栈ID。","type":"string","example":"4a6c9851-3b0f-4f5f-b4ca-a14bf691****"},"PhysicalResourceId":{"description":"资源物理ID，即实际资源ID。","type":"string","example":"asr-2ze4zzc3kf9yz1kd****"},"DriftDetectionTime":{"description":"资源偏差检测时间。","type":"string","example":"2020-02-27T07:47:47"},"ResourceType":{"description":"资源类型。","type":"string","example":"ALIYUN::ESS::ScalingRule"},"ExpectedProperties":{"description":"模板中定义的资源属性，以JSON格式表示。","type":"string","example":"{\"ScalingRuleName\": \"test2\"}"},"ResourceDriftStatus":{"description":"资源偏差状态。取值：\n- DELETED：资源与预期的模板配置不同，因为资源已被删除。\n- MODIFIED：资源与预期的模板配置不同。\n- NOT_CHECKED：ROS没有检查资源是否与预期的模板配置不同。\n- IN_SYNC：资源的当前配置与其预期的模板配置相匹配。","type":"string","example":"MODIFIED"},"PropertyDifferences":{"description":"资源属性偏差。","type":"array","items":{"type":"object","properties":{"ActualValue":{"description":"资源属性的实际取值。","type":"string","example":"test1"},"DifferenceType":{"description":"资源属性的偏差类型。取值：\n- ADD：已将值添加到数据类型为数组或列表的资源属性。\n- REMOVE：属性已从当前资源配置中删除。\n- NOT_EQUAL：当前属性值与堆栈模板中定义的预期值不同。","type":"string","example":"NOT_EQUAL"},"PropertyPath":{"description":"资源属性的路径。","type":"string","example":"/ScalingRuleName"},"ExpectedValue":{"description":"资源属性模板定义值。","type":"string","example":"test2"}}}},"ActualProperties":{"description":"实际的资源属性，以JSON格式表示。","type":"string","example":"{\"ScalingRuleName\": \"test1\"}"},"ModuleInfo":{"description":"资源来源模块的信息。如果资源来自于模块，才返回该字段。","type":"object","properties":{"LogicalIdHierarchy":{"description":"包含资源的一个或多个模块的逻辑ID的串联列表。 模块从最外层开始列出，并以 `/`分隔。\n\n在以下示例中，资源是从嵌套在父模块moduleA中的模块moduleB创建的。\n\n`moduleA/moduleB`","type":"string","example":"moduleA/moduleB"},"TypeHierarchy":{"description":"包含资源的一个或多个模块类型的串联列表。 模块类型从最外层开始列出，并以 `/`分隔。\n\n在以下示例中，资源是从`MODULE::ROS::Child::Example`类型的模块创建的，该模块嵌套在`MODULE::ROS::Parent::Example`类型的父模块中。\n\n`MODULE::ROS::Parent::Example/MODULE::ROS::Child::Example`","type":"string","example":"MODULE::ROS::Parent::Example/MODULE::ROS::Child::Example"}}}}}},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF2****w=="},"RequestId":{"description":"请求ID。","type":"string","example":"B288A0BE-D927-4888-B0F7-B35EF84B6E6F"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"ResourceDrifts\\\": [\\n    {\\n      \\\"LogicalResourceId\\\": \\\"ScalingRule\\\",\\n      \\\"StackId\\\": \\\"4a6c9851-3b0f-4f5f-b4ca-a14bf691****\\\",\\n      \\\"PhysicalResourceId\\\": \\\"asr-2ze4zzc3kf9yz1kd****\\\",\\n      \\\"DriftDetectionTime\\\": \\\"2020-02-27T07:47:47\\\",\\n      \\\"ResourceType\\\": \\\"ALIYUN::ESS::ScalingRule\\\",\\n      \\\"ExpectedProperties\\\": \\\"{\\\\\\\"ScalingRuleName\\\\\\\": \\\\\\\"test2\\\\\\\"}\\\",\\n      \\\"ResourceDriftStatus\\\": \\\"MODIFIED\\\",\\n      \\\"PropertyDifferences\\\": [\\n        {\\n          \\\"ActualValue\\\": \\\"test1\\\",\\n          \\\"DifferenceType\\\": \\\"NOT_EQUAL\\\",\\n          \\\"PropertyPath\\\": \\\"/ScalingRuleName\\\",\\n          \\\"ExpectedValue\\\": \\\"test2\\\"\\n        }\\n      ],\\n      \\\"ActualProperties\\\": \\\"{\\\\\\\"ScalingRuleName\\\\\\\": \\\\\\\"test1\\\\\\\"}\\\",\\n      \\\"ModuleInfo\\\": {\\n        \\\"LogicalIdHierarchy\\\": \\\"moduleA/moduleB\\\",\\n        \\\"TypeHierarchy\\\": \\\"MODULE::ROS::Parent::Example/MODULE::ROS::Child::Example\\\"\\n      }\\n    }\\n  ],\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF2****w==\\\",\\n  \\\"RequestId\\\": \\\"B288A0BE-D927-4888-B0F7-B35EF84B6E6F\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListStackResourceDriftsResponse>\\n    <NextToken>AAAAAdDWBF2****w==</NextToken>\\n    <ResourceDrifts>\\n        <ActualProperties>{\\\"ScalingRuleName\\\": \\\"test1\\\"}</ActualProperties>\\n        <DriftDetectionTime>2020-02-27T07:47:47</DriftDetectionTime>\\n        <ExpectedProperties>{\\\"ScalingRuleName\\\": \\\"test2\\\"}</ExpectedProperties>\\n        <LogicalResourceId>ScalingRule</LogicalResourceId>\\n        <PhysicalResourceId>asr-2ze4zzc3kf9yz1kd****</PhysicalResourceId>\\n        <PropertyDifferences>\\n            <ActualValue>test1</ActualValue>\\n            <DifferenceType>NOT_EQUAL</DifferenceType>\\n            <ExpectedValue>test2</ExpectedValue>\\n            <PropertyPath>/ScalingRuleName</PropertyPath>\\n        </PropertyDifferences>\\n        <ResourceDriftStatus>MODIFIED</ResourceDriftStatus>\\n        <ResourceType>ALIYUN::ESS::ScalingRule</ResourceType>\\n        <StackId>4a6c9851-3b0f-4f5f-b4ca-a14bf691****</StackId>\\n    </ResourceDrifts>\\n    <RequestId>8625BB3E-2950-4F3E-A713-5458DB5CD874</RequestId>\\n</ListStackResourceDriftsResponse>\",\"errorExample\":\"\"}]","title":"查询资源栈的资源偏差详情","summary":"在一个阿里云地域下查询资源栈的资源偏差详情。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"| HttpCode | 错误码 | 错误信息 | 描述 |\n| ------------- | ------------- | ------------- | ------------- |\n| 400 | StackDriftDetectionExpired |The stack drift detection of next token is expired, a new stack drift detection ({ID}) has already completed, please query from the very beginning again. |NextToken对应的偏差检测ID已经失效了，因为一个新的偏差检测已经完成，请重新进行查询。ID为偏差检测的ID。|\n| 400 | StackDriftDetectionNotAvailable |There is no complete drift detection for stack ({ID}). |资源栈没有成功完成过的偏差。ID为资源栈ID。 |\n| 404 | StackNotFound |The Stack ({name}) could not be found. |资源栈不存在。name为资源栈名称或ID。 |"}