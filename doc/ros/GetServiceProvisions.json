{"summary":"查询服务开通状态和服务角色信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。\n您可以调用[DescribeRegions](~~131035~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"TemplateBody","in":"formData","schema":{"description":"模板主体的结构。长度为1~524,288个字节。如果长度较长，则建议通过HTTP POST+Body Param的方式，将参数放在请求体中进行传递，避免因URL过长而导致请求失败。\n\n> 您必须且仅能指定TemplateBody、TemplateURL、TemplateId或TemplateScratchId其中一个参数。","type":"string","required":false,"docRequired":false,"example":"ROSTemplateFormatVersion: '2015-09-01'\\r\\nResources:\\r\\n  Vpc:\\r\\n    Type: ALIYUN::ECS::VPC\\r\\n    Properties:\\r\\n      CidrBlock: 192.168.0.0/24\\r\\n      VpcName: TestVpc"}},{"name":"TemplateURL","in":"query","schema":{"description":"包含模板主体的文件的位置。URL必须指向位于HTTP Web服务器（HTTP或HTTPS）或阿里云OSS存储空间中的模板（1~524,288个字节）。OSS存储空间的URL，例如oss://ros/template/demo或oss://ros/template/demo?RegionId=cn-hangzhou。如未指定OSS地域，默认与接口参数RegionId相同。\n\n您必须且仅能指定TemplateBody、TemplateURL、TemplateId或Services其中一个参数。","type":"string","required":false,"docRequired":false,"example":"oss://ros-template/demo"}},{"name":"TemplateId","in":"query","schema":{"description":"模板ID。支持共享模板和私有模板。\n\n您必须且仅能指定TemplateBody、TemplateURL、TemplateId或Services其中一个参数。","type":"string","required":false,"example":"5ecd1e10-b0e9-4389-a565-e4c15efc****"}},{"name":"TemplateVersion","in":"query","schema":{"description":"模板版本。如果不指定，默认取最新版本。\n\nTemplateVersion仅在指定TemplateId时生效。","type":"string","required":false,"example":"v1"}},{"name":"Parameters","in":"query","style":"repeatList","schema":{"description":"参数。","type":"array","items":{"type":"object","properties":{"ParameterKey":{"description":"参数的名称。如果未指定参数的名称和值，则ROS将使用模板中指定的默认值。\n\n> Parameters为可选参数。若指定了Parameters，则ParameterKey为必选参数。","type":"string","required":true,"example":"Amount"},"ParameterValue":{"description":"参数的值。\n\n> Parameters为可选参数。若指定了Parameters，则ParameterValue为必选参数。","type":"string","required":true,"example":"12"}},"required":false},"required":false,"maxItems":200}},{"name":"Services","in":"query","style":"repeatList","schema":{"description":"云服务列表。","type":"array","items":{"type":"object","properties":{"ServiceName":{"description":"云服务名称。取值：\n\n- AHAS：应用高可用服务。\n\n- ARMS：应用实时监控服务。\n\n- ApiGateway：API网关。\n\n- BatchCompute：批量计算。\n\n- BrainIndustrial：工业大脑。\n\n- CloudStorageGateway：云存储网关。\n\n- CMS：云监控。\n\n- CR：镜像容器服务。\n\n- CS：容器服务。\n\n- DCDN：全站加速。\n\n- DataHub：数据总线。\n\n- DataWorks：数据工场。\n\n- EDAS：企业级分布式应用服务。\n\n- EHPC：弹性高性能计算。\n\n- EMAS：移动研发平台。\n\n- FC：函数计算。\n\n- FNF：Serverless工作流。\n\n- MaxCompute：大数据计算服务。\n\n- MNS：消息服务。\n\n- HBR：云备份。\n\n- IMM：智能媒体管理。\n\n- IOT：物联网平台。\n\n- KMS：密钥管理服务。\n\n- NAS：文件存储。\n\n- NLP：自然语言处理。\n\n- OSS：对象存储服务。\n\n- OTS：表格存储。\n\n- PrivateLink：私网连接。\n\n- PrivateZone：云解析。\n\n- RocketMQ：消息队列RocketMQ版。\n\n- SAE：应用引擎。\n\n- SLS：日志服务。\n\n- TrafficMirror：流量镜像。\n\n- VS：视频监控。\n\n- Xtrace：链路追踪。","type":"string","required":true,"example":"EHPC"}},"required":false},"required":false,"maxItems":50}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A9938C04-26AD-5EFA-B394-EA7866842DFF"},"ServiceProvisions":{"description":"云服务详情。","type":"array","items":{"type":"object","properties":{"ServiceName":{"description":"云服务名称。","type":"string","example":"EHPC"},"Status":{"description":"云服务开通状态。取值：\n\n- Enabled：已开通。\n\n- Disabled：未开通。\n\n- Unknown：开通状态未知。","type":"string","example":"Enabled"},"StatusReason":{"description":"云服务未开通或开通状态未知的原因。\n\n\n> 当Status取值为Disabled或Unknown时，返回该参数。","type":"string","example":"No permission."},"AutoEnableService":{"description":"是否在模板中定义了自动开通服务。取值：\n\n- true：自动开通。\n\n- false：手动开通。","type":"boolean","example":"false"},"EnableURL":{"description":"云服务开通链接。\n> 当Status取值为Disabled时，返回该参数。","type":"string","example":"https://common-buy.aliyun.com/?commodityCode=nas"},"RoleProvision":{"description":"云服务角色信息。若为空表示没有服务角色。","type":"object","properties":{"AuthorizationURL":{"description":"角色授权链接。\n\n> 当Created取值为false时，返回该参数。","type":"string","example":"https://ehpc.console.aliyun.com/"},"Roles":{"description":"云服务角色列表。","type":"array","items":{"type":"object","properties":{"RoleName":{"description":"角色名称。","type":"string","example":"AliyunServiceRoleForEHPC"},"Created":{"description":"角色是否已创建。取值：\n\n- true：已创建。\n\n- false：未创建。","type":"boolean","example":"true"},"Function":{"description":"角色用途。\n默认值：Default，表示该角色为服务默认角色。","type":"string","example":"Default"},"ApiForCreation":{"description":"创建角色用到的API信息。","type":"object","properties":{"ApiProductId":{"description":"API所属产品ID。","type":"string","example":"rds"},"ApiName":{"description":"API名称。","type":"string","example":"CreateServiceLinkedRole"},"ApiType":{"description":"API类型。\n取值：\n\n- Open：开放API。\n\n- Inner：内部API。","type":"string","example":"Open"},"Parameters":{"description":"API参数信息。${变量名}表示动态参数，目前支持：${RegionId} 地域。","type":"object","example":"{   \"ServiceLinkedRole\": \"AliyunServiceRoleForRdsPgsqlOnEcs\",   \"RegionId\": \"${RegionId}\" }"}}}}}}}},"DependentServiceNames":{"description":"待查询服务依赖的服务列表。","type":"array","items":{"description":"待查询服务依赖的服务名称。","type":"string","example":"NAS"}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A9938C04-26AD-5EFA-B394-EA7866842DFF\\\",\\n  \\\"ServiceProvisions\\\": [\\n    {\\n      \\\"ServiceName\\\": \\\"EHPC\\\",\\n      \\\"Status\\\": \\\"Enabled\\\",\\n      \\\"StatusReason\\\": \\\"No permission.\\\",\\n      \\\"AutoEnableService\\\": false,\\n      \\\"EnableURL\\\": \\\"https://common-buy.aliyun.com/?commodityCode=nas\\\",\\n      \\\"RoleProvision\\\": {\\n        \\\"AuthorizationURL\\\": \\\"https://ehpc.console.aliyun.com/\\\",\\n        \\\"Roles\\\": [\\n          {\\n            \\\"RoleName\\\": \\\"AliyunServiceRoleForEHPC\\\",\\n            \\\"Created\\\": true,\\n            \\\"Function\\\": \\\"Default\\\",\\n            \\\"ApiForCreation\\\": {\\n              \\\"ApiProductId\\\": \\\"rds\\\",\\n              \\\"ApiName\\\": \\\"CreateServiceLinkedRole\\\",\\n              \\\"ApiType\\\": \\\"Open\\\",\\n              \\\"Parameters\\\": {\\n                \\\"ServiceLinkedRole\\\": \\\"AliyunServiceRoleForRdsPgsqlOnEcs\\\",\\n                \\\"RegionId\\\": \\\"${RegionId}\\\"\\n              }\\n            }\\n          }\\n        ]\\n      },\\n      \\\"DependentServiceNames\\\": [\\n        \\\"NAS\\\"\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetServiceProvisionsResponse>\\n    <RequestId>A9938C04-26AD-5EFA-B394-EA7866842DFF</RequestId>\\n    <ServiceProvisions>\\n        <ServiceName>EHPC</ServiceName>\\n        <Status>Enabled</Status>\\n        <StatusReason>No permission.</StatusReason>\\n        <AutoEnableService>false</AutoEnableService>\\n        <EnableURL>https://common-buy.aliyun.com/?commodityCode=nas</EnableURL>\\n        <RoleProvision>\\n            <AuthorizationURL>https://ehpc.console.aliyun.com/</AuthorizationURL>\\n            <Roles>\\n                <RoleName>AliyunServiceRoleForEHPC</RoleName>\\n                <Created>true</Created>\\n                <Function>Default</Function>\\n                <ApiForCreation>\\n                    <ApiProductId>rds</ApiProductId>\\n                    <ApiName>CreateServiceLinkedRole</ApiName>\\n                    <ApiType>Open</ApiType>\\n                </ApiForCreation>\\n            </Roles>\\n        </RoleProvision>\\n        <DependentServiceNames>NAS</DependentServiceNames>\\n    </ServiceProvisions>\\n</GetServiceProvisionsResponse>\",\"errorExample\":\"\"}]","title":"查询服务开通状态","description":"### 使用说明\n本文将提供一个示例，在杭州地域查询弹性高性能计算的开通状态及服务角色信息。\n\n> 请确保您已具备调用[GetRole](~~28711~~)接口的权限。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~131957~~)。"}