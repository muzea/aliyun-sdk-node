{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"12672","abilityTreeNodes":["FEATURErosTBD793"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"资源栈组所属的地域ID。\n\n您可以调用[DescribeRegions](~~131035~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"StackGroupName","in":"query","schema":{"description":"资源栈组名称。名称在单个地域内唯一。   \n长度不超过255个字符，必须以数字或英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）。","type":"string","required":true,"docRequired":true,"example":"MyStackGroup"}},{"name":"AccountIds","in":"query","style":"json","schema":{"description":"使用自助管理权限模式部署资源栈的目标账号ID列表。最多支持添加20个目标账号ID。\n\n>您必须且仅能指定 `AccountIds`和`DeploymentTargets`其中一个参数。","type":"array","items":{"description":"使用自助管理权限模式部署资源栈的目标账号ID列表。最多支持添加20个目标账号ID。\n>您必须且仅能指定 `AccountIds`和`DeploymentTargets`其中一个参数。","type":"string","required":false,"example":"[\"151266687691****\", \"141261387191****\"]"},"required":false,"docRequired":false,"example":"[\"151266687691****\",\"141261387191****\"]"}},{"name":"RegionIds","in":"query","style":"json","schema":{"description":"目标执行地域列表。最多支持添加20个地域。","type":"array","items":{"description":"目标执行地域列表。最多支持添加20个地域。","type":"string","required":false,"example":"[\"cn-hangzhou\",\"cn-beijing\"]"},"required":true,"docRequired":true,"example":"[\"cn-hangzhou\", \"cn-beijing\"]"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求的幂等性。该值由客户端生成，并且必须是全局唯一的。   \n长度不超过64个字符，可包含英文字母、数字、短划线（-）和下划线（_）。  \n更多信息，请参见[如何保证幂等性](~~134212~~)。\n","type":"string","required":false,"docRequired":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"OperationDescription","in":"query","schema":{"description":"创建资源栈的操作描述。\n\n长度为1~256个字符。\n","type":"string","required":false,"docRequired":false,"example":"Create stack instances in hangzhou and beijing"}},{"name":"OperationPreferences","in":"query","style":"json","schema":{"description":"创建资源栈的操作设置。\n\n包含以下参数：\n\n- {\"FailureToleranceCount\": N}\n\n  容错数。每个地域中资源栈可以失败的账号数，超过该数字将停止该地域中的操作。如果停止了一个地域中的操作，此操作在其他地域中不继续执行。\n\n  N的取值范围：0~20。\n  \n  若不指定FailureToleranceCount，则默认为0。 \n\n- {\"FailureTolerancePercentage\": N}\n\n    容错百分比。每个地域中资源栈可以失败的账号数占总账号数的百分比，超过该百分比将停止该地域中的操作。\n  \n    N的取值范围：0~100。百分比不是整数时，ROS会向下取整。\n\n    若不指定FailureTolerancePercentage，则默认为0。\n\n-  {\"MaxConcurrentCount\": N}\n\n   最大并发账号数。每个地域中可同时部署资源栈的账号数。\n\n   N的取值范围：1~20。\n\n   若不指定MaxConcurrentCount，则默认为1。\n\n- {\"MaxConcurrentPercentage\": N}\n\n   最大并发账号百分比。每个地域中可同时部署资源栈的账号数占总账号数的百分比。\n  \n   取值范围：1~100。百分比不是整数时，ROS会向下取整。\n\n   若不指定MaxConcurrentPercentage，则默认为1。\n\n- {\"RegionConcurrencyType\": N}  \n部署资源栈的地域级别并发类型。取值：      \n  - SEQUENTIAL（默认值）：根据地域顺序依次在指定的每个地域部署，同一时间只在一个地域部署。\n  - PARALLEL：在所有指定地域内并行部署。\n\n多个参数之间用半角逗号（,）分隔。\n\n> - 不能同时指定MaxConcurrentCount和MaxConcurrentPercentage。  \n> - 不能同时指定FailureToleranceCount和FailureTolerancePercentage。","type":"object","required":false,"docRequired":false,"example":"{\"FailureToleranceCount\": 1, \"MaxConcurrentCount\": 2}"}},{"name":"TimeoutInMinutes","in":"query","schema":{"description":"创建资源栈的超时时间。  \n\n- 默认值：60。\n\n- 单位：分钟。","type":"integer","format":"int64","required":false,"maximum":"1440","minimum":"10","example":"10"}},{"name":"DisableRollback","in":"query","schema":{"description":"当创建资源栈失败时，是否禁用回滚策略。\n\n取值：  \n\n- true：禁用回滚，即在创建资源栈失败时不进行回滚。\n  \n- false（默认值）：不禁用回滚，即在创建资源栈失败时进行回滚。","type":"boolean","required":false,"example":"false"}},{"name":"ParameterOverrides","in":"query","style":"repeatList","schema":{"description":"覆盖参数列表。","type":"array","items":{"type":"object","properties":{"ParameterKey":{"description":"覆盖参数的名称。如果未指定参数名称，ROS将使用创建资源栈组时所指定的模板参数名称。\n\nN最大值为200。  \n\n> - ParameterOverrides为可选参数。  \n> - 如果需要指定ParameterOverrides，则ParameterOverrides.N.ParameterKey和ParameterOverrides.N.ParameterValue必须同时指定。","type":"string","required":true,"example":"Amount"},"ParameterValue":{"description":"覆盖参数的值。如果未指定参数的值，ROS将使用创建资源栈组时所指定的模板参数的值。\n\nN最大值为200。  \n\n> - ParameterOverrides为可选参数。  \n> - 如果需要指定ParameterOverrides，则ParameterOverrides.N.ParameterKey和ParameterOverrides.N.ParameterValue必须同时指定。","type":"string","required":true,"example":"1"}},"required":false},"required":false,"maxItems":200}},{"name":"DeploymentTargets","in":"query","style":"json","schema":{"description":"使用服务管理权限模式部署资源栈的部署目标。\n>您必须且仅能指定 `AccountIds`和`DeploymentTargets`其中一个参数。","type":"object","properties":{"RdFolderIds":{"description":"资源目录的资源夹ID列表。最多支持添加5个资源夹ID。\n\n您可以在指定资源夹的所有成员账号中创建资源栈。如果您选择的是Root资源夹，则会在整个资源目录的所有成员账号中创建资源栈。\n\n>您可以在**资源管理**控制台的**概览**页面查看资源夹ID。具体操作，请参见[查看资源夹基本信息](~~111223~~)。","type":"array","items":{"description":"资源目录的资源夹ID列表。最多支持添加5个资源夹ID。\n\n您可以在指定资源夹的所有成员账号中创建资源栈。如果您选择的是Root资源夹，则会在整个资源目录的所有成员账号中创建资源栈。\n\n>您可以在**资源管理**控制台的**概览**页面查看资源夹ID。具体操作，请参见[查看资源夹基本信息](~~111223~~)。","type":"string","required":false,"example":"[\"fd-4PvlVLOL8v\"]"},"required":true,"docRequired":true},"AccountIds":{"description":"资源目录中的成员账号ID列表。最多支持添加20个成员账号ID。\n\n>您可以在资源管理控制台的概览页面查看成员账号ID。具体操作，请参见查看成员详情。","type":"array","items":{"description":"资源目录中的成员账号ID列表。最多支持添加20个成员账号ID。\n\n>您可以在**资源管理**控制台的**概览**页面查看成员账号ID。具体操作，请参见[查看成员详情](~~111624~~)。","type":"string","required":false,"example":"[\"151266687691****\",\"141261387191****\"]"},"required":false}},"required":false,"example":"{\"RdFolderId\": \"fd-4PvlVLOL8v\"}"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"14A07460-EBE7-47CA-9757-12CC4761D47A"},"OperationId":{"description":"操作ID。","type":"string","example":"6da106ca-1784-4a6f-a7e1-e723863d****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"14A07460-EBE7-47CA-9757-12CC4761D47A\\\",\\n  \\\"OperationId\\\": \\\"6da106ca-1784-4a6f-a7e1-e723863d****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateStackInstancesResponse>\\n        <RequestId>14A07460-EBE7-47CA-9757-12CC4761D47A</RequestId>\\n        <OperationId>6da106ca-1784-4a6f-a7e1-e723863d****</OperationId>\\n</CreateStackInstancesResponse>\",\"errorExample\":\"\"}]","title":"在指定账号和地域下创建资源栈实例","summary":"为一个或多个账号在指定地域下创建资源栈实例。","description":"### 前提条件\n请确保您已经创建了资源栈组。具体操作，请参见[CreateStackGroup](~~151333~~)。\n\n### 应用场景\n#### 跨账号创建资源栈 \n当某企业需要在多个账号下创建相同的资源时，为提高部署效率，管理员账号可以在创建资源栈组时，选择添加多个目标账号，部署一个地域，从而在同一地域下的不同账号中创建多个资源栈，实现在多个账号下创建相同的资源。\n#### 跨地域创建资源栈\n当某企业需要在多个地域下创建相同的资源时，为提高部署效率，管理员账号可以在创建资源栈组时，选择添加一个目标账号，部署多个地域，从而在同一账号下的不同地域中创建多个资源栈，实现在多个地域下创建相同的资源。\n#### 跨账号、跨地域创建资源栈\n当某企业需要在多个账号下的多个地域中创建相同的资源，为提高部署效率，管理员账号可以在创建资源栈组时，选择添加多个目标账号，部署多个地域，从而在不同账号的不同地域下创建多个资源栈，实现在多个账号下的多个地域中创建相同的资源。\n\n本文将提供一个示例，为杭州地域已有的自助管理权限模式的资源栈组`MyStackGroup`，在杭州地域和北京地域的阿里云账号`151266687691****`和`141261387191****`中创建资源栈。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~131957~~)。","responseParamsDescription":" ","extraInfo":" | 错误代码 | 错误信息 | HTTP状态码 | 描述 |\n| ------------- | ------------- | ------------- | ------------- |\n| StackInstanceExists |The StackInstance ({instance}) already exists. | 409 |该资源栈组在指定的目标账号和地域存在资源栈。instance为资源栈所属的目标账号和目标地域。 |\n| StackGroupOperationInProgress |Another Operation on StackGroup ({name}) is in progress. | 409 |资源栈组存在进行中的操作。name为资源栈组名称。 |"}