{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"delete"},"parameters":[{"name":"StackId","in":"query","schema":{"description":"资源栈ID。","type":"string","required":true,"docRequired":true,"example":"4a6c9851-3b0f-4f5f-b4ca-a14bf691****"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求的幂等性。 该值由客户端生成，并且必须是全局唯一的。   \n长度最大为64个字符，可包含英文字符、数字、短划线（-）和下划线（_）。  \n更多详情，请参见[如何保证幂等性](~~134212~~)。","type":"string","required":false,"docRequired":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"RegionId","in":"query","schema":{"description":"资源栈所属的地域ID。您可以调用[DescribeRegions](~~131035~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"LogicalResourceId","in":"query","schema":{"description":"资源名称。","type":"string","required":true,"docRequired":true,"example":"ScalingRuleName"}}],"responses":{"200":{"schema":{"type":"object","properties":{"LogicalResourceId":{"description":"资源逻辑ID，即模板中资源的名称。","type":"string","example":"ScalingRule"},"ResourceDriftStatus":{"description":"资源偏差状态。取值：\n- DELETED：资源与预期的模板配置不同，因为资源已被删除。\n- MODIFIED：资源与预期的模板配置不同。\n- NOT_CHECKED：ROS未检查资源与预期的模板配置是否不同。\n- IN_SYNC：资源的当前配置与其预期的模板配置相匹配。","type":"string","example":"MODIFIED"},"PropertyDifferences":{"description":"资源属性偏差。","type":"array","items":{"type":"object","properties":{"ActualValue":{"description":"资源属性的实际取值。","type":"string","example":"test1"},"DifferenceType":{"description":"资源属性的偏差类型。取值：\n- ADD：已将值添加到数据类型为数组或列表的资源属性。\n- REMOVE：属性已从当前资源配置中删除。\n- NOT_EQUAL：当前属性值与资源栈模板中定义的预期值不同。","type":"string","example":"NOT_EQUAL"},"PropertyPath":{"description":"资源属性的路径。","type":"string","example":"/ScalingRuleName"},"ExpectedValue":{"description":"资源属性模板定义值。","type":"string","example":"test2"}}}},"RequestId":{"description":"请求ID。","type":"string","example":"B288A0BE-D927-4888-B0F7-B35EF84B6E6F"},"PhysicalResourceId":{"description":"资源物理ID，即实际资源ID。","type":"string","example":"asr-2ze4zzc3kf9yz1kd****"},"ExpectedProperties":{"description":"模板中定义的资源属性，以JSON格式表示。","type":"string","example":"{\"ScalingRuleName\": \"test2\"}"},"DriftDetectionTime":{"description":"资源偏差检测时间。","type":"string","example":"2020-02-27T07:47:47"},"ResourceType":{"description":"资源类型。","type":"string","example":"ALIYUN::ESS::ScalingRule"},"ActualProperties":{"description":"实际的资源属性，以JSON格式表示。","type":"string","example":"{\"ScalingRuleName\": \"test1\"}"},"StackId":{"description":"资源栈ID。","type":"string","example":"4a6c9851-3b0f-4f5f-b4ca-a14bf691****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"LogicalResourceId\\\": \\\"ScalingRule\\\",\\n  \\\"ResourceDriftStatus\\\": \\\"MODIFIED\\\",\\n  \\\"PropertyDifferences\\\": [\\n    {\\n      \\\"ActualValue\\\": \\\"test1\\\",\\n      \\\"DifferenceType\\\": \\\"NOT_EQUAL\\\",\\n      \\\"PropertyPath\\\": \\\"/ScalingRuleName\\\",\\n      \\\"ExpectedValue\\\": \\\"test2\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"B288A0BE-D927-4888-B0F7-B35EF84B6E6F\\\",\\n  \\\"PhysicalResourceId\\\": \\\"asr-2ze4zzc3kf9yz1kd****\\\",\\n  \\\"ExpectedProperties\\\": \\\"{\\\\\\\"ScalingRuleName\\\\\\\": \\\\\\\"test2\\\\\\\"}\\\",\\n  \\\"DriftDetectionTime\\\": \\\"2020-02-27T07:47:47\\\",\\n  \\\"ResourceType\\\": \\\"ALIYUN::ESS::ScalingRule\\\",\\n  \\\"ActualProperties\\\": \\\"{\\\\\\\"ScalingRuleName\\\\\\\": \\\\\\\"test1\\\\\\\"}\\\",\\n  \\\"StackId\\\": \\\"4a6c9851-3b0f-4f5f-b4ca-a14bf691****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DetectStackResourceDriftResponse>\\n    <ActualProperties>{\\\"ScalingRuleName\\\": \\\"test1\\\"}</ActualProperties>\\n    <DriftDetectionTime>2020-02-27T07:47:47</DriftDetectionTime>\\n    <ExpectedProperties>{\\\"ScalingRuleName\\\": \\\"test2\\\"}</ExpectedProperties>\\n    <LogicalResourceId>ScalingRule</LogicalResourceId>\\n    <PhysicalResourceId>asr-2ze4zzc3kf9yz1kd****</PhysicalResourceId>\\n    <PropertyDifferences>\\n        <ActualValue>test1</ActualValue>\\n        <DifferenceType>NOT_EQUAL</DifferenceType>\\n        <ExpectedValue>test2</ExpectedValue>\\n        <PropertyPath>/ScalingRuleName</PropertyPath>\\n    </PropertyDifferences>\\n    <ResourceDriftStatus>MODIFIED</ResourceDriftStatus>\\n    <ResourceType>ALIYUN::ESS::ScalingRule</ResourceType>\\n    <StackId>4a6c9851-3b0f-4f5f-b4ca-a14bf691****</StackId>\\n</DetectStackResourceDriftResponse>\",\"errorExample\":\"\"}]","title":"对资源进行偏差检测","summary":"对资源进行偏差检测，以便确定资源是否已偏离其预期的模板配置。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"| HttpCode | 错误码 | 错误信息 | 描述 |\n| ------------- | ------------- | ------------- | ------------- |\n| 400 | ResourceDriftDetectionProcessing |Drift detection of resource {name} is processing. |已经在对资源进行偏差检测。name为资源名。|\n| 400 | ResourceDriftDetectionFailure |Fail to detect resource {name} drift: {reason} |资源偏差检测失败。name为资源名，reason为原因。 |\n| 404 | StackNotFound |The Stack ({name}) could not be found. |资源栈不存在。name为资源栈名称或ID。 |\n| 404 | ResourceNotFound |The Resource ({name}) could not be found in Stack {stack}. |资源栈中不存某资源。name为资源名，stack为资源栈名称或ID。 |"}