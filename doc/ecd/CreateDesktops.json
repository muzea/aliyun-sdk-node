{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。可以调用[DescribeRegions](~~196646~~)获取无影云电脑支持的地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"GroupId","in":"query","schema":{"description":"云电脑池ID。","type":"string","required":false,"example":"dg-boyczi8enfyc5****"}},{"name":"BundleId","in":"query","schema":{"description":"云电脑模板ID。","type":"string","required":false,"docRequired":true,"example":"b-je9hani001wfn****"}},{"name":"DesktopName","in":"query","schema":{"description":"云电脑名称。命名规则如下：\n\n- 不超过64个字符。\n- 必须以大小字母或中文开头，不能以`http://`和`https://`开头。\n- 可以包含中文、英文、数字、半角冒号（:）、下划线（_）、点号（.）或者短划线（-）。","type":"string","required":false,"example":"DemoComputer01"}},{"name":"UserName","in":"query","schema":{"description":"> 此参数不开放使用。","type":"string","required":false,"example":"username"}},{"name":"VpcId","in":"query","schema":{"description":"> 此参数不开放使用。","type":"string","required":false,"example":"vpc-uf6w8u60n8xbkg5el****"}},{"name":"Amount","in":"query","schema":{"description":"创建的云电脑数量。取值范围为1~300，默认值为1。","type":"integer","format":"int32","required":false,"maximum":"500","minimum":"0","example":"1"}},{"name":"DirectoryId","in":"query","schema":{"description":"> 此参数不开放使用。","type":"string","required":false,"docRequired":false,"example":"cn-hangzhou+dir-300943****"}},{"name":"OfficeSiteId","in":"query","schema":{"description":"办公网络ID。","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou+dir-387822****"}},{"name":"PolicyGroupId","in":"query","schema":{"description":"策略ID。","type":"string","required":true,"docRequired":true,"example":"system-all-enabled-policy"}},{"name":"ChargeType","in":"query","schema":{"description":"云电脑的计费方式。","type":"string","required":false,"docRequired":false,"enumValueTitles":{"PostPaid":"按量付费 [默认值]","PrePaid":"包年包月"},"example":"PrePaid"}},{"name":"Period","in":"query","schema":{"description":"购买资源的时长。单位由`PeriodUnit`指定。当参数`ChargeType`取值为`PrePaid`时才生效，且为必选值。\n\n- 如果`PeriodUnit`为`Month`，该参数的取值范围：\n\n     - 1\n    -  2\n    - 3\n    - 6\n\n- 如果`PeriodUnit`为`Year`，该参数的取值范围：\n\n    - 1\n    - 2\n    - 3\n    - 4\n    - 5\n","type":"integer","format":"int32","required":false,"docRequired":false,"example":"1"}},{"name":"PeriodUnit","in":"query","schema":{"description":"包年包月计费方式的时长单位。","type":"string","required":false,"docRequired":false,"enumValueTitles":{"Month":"月 [默认值]","Year":"年"},"example":"Month"}},{"name":"AutoPay","in":"query","schema":{"description":"是否自动支付。","type":"boolean","required":false,"docRequired":false,"enumValueTitles":{"true":"自动支付。请确保账户余额充足，否则会产生异常订单。 [默认值]","false":"只产生订单，不支付。您可以登录控制台，在用户中心的我的订单页面，根据返回的订单号进行支付。"},"example":"false"}},{"name":"AutoRenew","in":"query","schema":{"description":"是否自动续费。当参数`ChargeType`取值为`PrePaid`时才生效。    ","type":"boolean","required":false,"docRequired":false,"enumValueTitles":{"true":"自动续费。续费时长与购买设置的时长保持一致。","false":"不自动续费。[默认值]"},"example":"false"}},{"name":"PromotionId","in":"query","schema":{"description":"优惠活动ID。","type":"string","required":false,"docRequired":false,"example":"23141"}},{"name":"UserAssignMode","in":"query","schema":{"description":"云电脑分配模式。\n\n> 如果未设置`EndUserId`，创建的云电脑不会分配给用户。","type":"string","required":false,"docRequired":false,"enumValueTitles":{"ALL":"如果设置了EndUserId，则将创建的云电脑分配给每个指定的用户。 [默认值]","PER_USER":"如果设置了EndUserId，则将创建的云电脑平均分配给指定的用户。此时需确保Amount的值可以被EndUserId的个数（即N）整除。"},"example":"ALL"}},{"name":"Hostname","in":"query","schema":{"description":"自定义设置云电脑的主机名称。仅支持设置AD办公网络下，操作系统类型是Windows的云电脑。\n\n主机名称的命名规则如下：\n\n- 长度为2~15个字符。\n- 支持大小写字母、数字或者短划线（-）。不能以短划线开头或者结尾，不能连续使用短划线，不能只使用数字。\n\n创建多台云电脑时，可以使用`name_prefix[begin_number,bits]name_suffix`的命名格式为多台云电脑统一命名。例如，设置Hostname的取值为ecd-[1,4]-test，则第一台云电脑主机名称为ecd-0001-test，第二台云电脑主机名称为ecd-0002-test，依次类推。\n\n- ` name_prefix`：主机名称的前缀。\n- ` [begin_number,bits]`：主机名称中的有序数字。`begin_number`为起始数字，取值支持0\\~999999，默认值为0；`bits`为数字位数，取值支持1\\~6，默认值为6。\n-  `name_suffix`：主机名称的后缀。","type":"string","required":false,"example":"testhost"}},{"name":"EndUserId","in":"query","style":"repeatList","schema":{"description":"为云电脑添加的授权用户ID列表。可设置1~100个。","type":"array","items":{"description":"为云电脑添加的授权用户ID。\n\n- 在同一时段内，只有一个用户可以使用该云电脑。\n- 如果未设置`EndUserId`，创建的云电脑不会分配给任何用户。","type":"string","required":false,"example":"alice"},"required":false,"example":"123456789","maxItems":100}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签。","type":"array","items":{"description":"标签。","type":"object","properties":{"Key":{"description":"标签键。可设置1~20个。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"标签值。可设置1~20个。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":20}},{"name":"DesktopNameSuffix","in":"query","schema":{"description":"批量创建云电脑时，云电脑名称是否自动增加后缀。","type":"boolean","required":false,"enumValueTitles":{"true":"自动增加后缀。[默认值]","false":"不增加后缀。"},"example":"false"}},{"name":"VolumeEncryptionEnabled","in":"query","schema":{"description":"是否开启磁盘加密。","type":"boolean","required":false,"enumValueTitles":{"true":"开启磁盘加密。","false":"不开启磁盘加密。[默认值]"},"example":"false"}},{"name":"VolumeEncryptionKey","in":"query","schema":{"description":"开启磁盘加密的情况下使用的KMS的密钥ID。可通过[ListKeys](~~28951~~)接口获取。","type":"string","required":false,"example":"08c33a6f-4e0a-4a1b-a3fa-7ddfa1d4****"}},{"name":"DesktopMemberIp","in":"query","schema":{"description":"指定云电脑私网IP。","type":"string","required":false,"example":"10.0.0.1"}},{"name":"UserCommands","in":"query","style":"repeatList","schema":{"description":"用户自定义命令脚本数据。\n","type":"array","items":{"description":"用户自定义命令脚本数据。","type":"object","properties":{"ContentEncoding":{"title":"自定义脚本命令编码，默认Base64编码","description":"命令内容（CommandContent）的编码方式。","type":"string","required":false,"enumValueTitles":{"Base64":"Base64编码","PlainText":"不编码，采用明文传输"},"example":"Base64","default":"Base64"},"Content":{"description":"命令内容。","type":"string","required":false,"example":"bmV3LWl0ZW0gZDpcdGVzdF91c2VyX2NvbW1hbmRzLnR4dCAtdHlwZSBm****","maxLength":15000},"ContentType":{"description":"命令的语言类型。","type":"string","required":false,"enumValueTitles":{"RunPowerShellScript":"适用于Windows实例的PowerShell命令","RunShellScript":"适用于Linux实例Shell命令","RunBatScript":"适用于Windows实例的Bat命令"},"example":"RunPowerShellScript"}},"required":false},"required":false,"maxItems":20}},{"name":"BundleModels","in":"query","allowEmptyValue":true,"style":"repeatList","schema":{"description":"云电脑模板列表。","type":"array","items":{"description":"云电脑模板。","type":"object","properties":{"BundleId":{"description":"云电脑模板ID。","type":"string","required":false,"example":"b-je9hani001wfn****"},"Amount":{"description":"创建的云电脑数量。取值范围为1~300，默认值为0。","type":"integer","format":"int32","required":false,"maximum":"300","example":"1"},"EndUserIds":{"description":"云电脑分配用户列表。","type":"array","items":{"description":"用户名称。","type":"string","required":false,"example":"alice"},"required":false,"maxItems":100},"DesktopName":{"description":"云电脑名称。命名规则如下：\n\n- 不超过64个字符。\n- 必须以大小字母或中文开头，不能以`http://`和`https://`开头。\n- 可以包含中文、英文、数字、半角冒号（:）、下划线（_）、点号（.）或者短划线（-）。","type":"string","required":false,"example":"DemoComputer02"},"Hostname":{"description":"自定义设置云电脑的主机名称。仅支持设置AD办公网络下，操作系统类型是Windows的云电脑。\n\n主机名称的命名规则如下：\n\n- 长度为2~15个字符。\n- 支持大小写字母、数字或者短划线（-）。不能以短划线开头或者结尾，不能连续使用短划线，不能只使用数字。\n\n创建多台云电脑时，可以使用`name_prefix[begin_number,bits]name_suffix`的命名格式为多台云电脑统一命名。例如，设置Hostname的取值为ecd-[1,4]-test，则第一台云电脑主机名称为ecd-0001-test，第二台云电脑主机名称为ecd-0002-test，依次类推。\n\n- ` name_prefix`：主机名称的前缀。\n- ` [begin_number,bits]`：主机名称中的有序数字。`begin_number`为起始数字，取值支持0\\~999999，默认值为0；`bits`为数字位数，取值支持1\\~6，默认值为6。\n-  `name_suffix`：主机名称的后缀。","type":"string","required":false,"example":"testhost"},"VolumeEncryptionEnabled":{"description":"是否开启磁盘加密。","type":"boolean","required":false,"example":"false"},"VolumeEncryptionKey":{"description":"开启磁盘加密的情况下使用的KMS的密钥ID。可通过[ListKeys](~~28951~~)接口获取。","type":"string","required":false,"example":"08c33a6f-4e0a-4a1b-a3fa-7ddfa1d4****"}},"required":false},"required":false,"maxItems":20}},{"name":"DesktopTimers","in":"query","allowEmptyValue":true,"style":"repeatList","schema":{"description":"云电脑定时任务详情。","type":"array","items":{"description":"云电脑定时任务详情。","type":"object","properties":{"TimerType":{"description":"定时任务类型。","type":"string","required":false,"example":"NoOperationReboot"},"CronExpression":{"description":"定时任务Cron表达式。\n\n><notice>需要传入UTC标准时间，即北京时间每天0点应该传入0 0 16 ? * 1,2,3,4,5,6,7></notice>","type":"string","required":false,"example":"0 40 7 ? * 1,2,3,4,5,6,7"},"Interval":{"description":"时间间隔，单位为分钟。","type":"integer","format":"int32","required":false,"example":"10"},"Enforce":{"description":"是否强制执行。","type":"boolean","required":false,"enumValueTitles":{"true":"忽略云电脑及连接状态检测，强制执行定时任务。","false":"不强制执行"},"example":"True"},"ResetType":{"description":"云电脑重置类型。","type":"string","required":false,"enumValueTitles":{"RESET_TYPE_SYSTEM":"重置系统盘","RESET_TYPE_BOTH":"重置系统盘和用户磁盘"},"example":"RESET_TYPE_SYSTEM"},"OperationType":{"description":"定时任务操作类型，目前仅断连定时任务支持。","type":"string","required":false,"enumValueTitles":{"Hibernate":"休眠","Shutdown":"关机"},"example":"Shutdown"},"AllowClientSetting":{"description":"是否允许终端用户自行配置定时任务。","type":"boolean","required":false,"example":"true"}},"required":false},"required":false,"maxItems":20}},{"name":"MonthDesktopSetting","in":"query","style":"flat","schema":{"description":"> 此字段暂不对外开放使用。","type":"object","properties":{"UseDuration":{"description":"> 此字段暂不对外开放使用。","type":"integer","format":"int32","required":false,"example":"null"},"BuyerId":{"description":"> 此字段暂不对外开放使用。","type":"integer","format":"int64","required":false,"example":"null"},"DesktopId":{"description":"> 此字段暂不对外开放使用。","type":"string","required":false,"example":"null"}},"required":false}}],"responses":{"200":{"schema":{"description":"返回信息集合。","type":"object","properties":{"OrderId":{"description":"订单ID。\n> 当请求参数ChargeType取值为PrePaid时，返回该参数。","type":"string","example":"123456789"},"RequestId":{"description":"请求ID。","type":"string","example":"1CBAFFAB-B697-4049-A9B1-67E1FC5F****"},"DesktopId":{"description":"云电脑ID返回集合信息，如果一次调用创建了多个云电脑，将返回多个云电脑ID。","type":"array","items":{"description":"云电脑ID。","type":"string","example":"[\"ecd-gx2x1dhsmucyy****\"]"}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidEncryptionKey.Missing","errorMessage":"Parameter VolumeEncryptionKey is missing."},{"errorCode":"InvalidEncryptionKey.NotAuthorized","errorMessage":"Eds service cannot access the given VolumeEncryptionKey."},{"errorCode":"InvalidEncryptionKey.NotFound","errorMessage":"The specified VolumeEncryptionKey is not found."},{"errorCode":"InvalidImageStatus.NotValid","errorMessage":"The specified image status is not valid."},{"errorCode":"InvalidImageVersion.NotSupported","errorMessage":"The specified image version is no longer supported."},{"errorCode":"InvalidMemberIp.DesktopAmount","errorMessage":"The desktop amount need to be 1."},{"errorCode":"InvalidPolicyGroup.Status","errorMessage":"The target policy group is being created. Please try again later."},{"errorCode":"Protocol.NotAllowed","errorMessage":"Procotol of the image is not allowed."},{"errorCode":"ExistedHostname","errorMessage":"The specified hostname is existed on the domain."},{"errorCode":"HostnameCannotCustomizeForLinux","errorMessage":"Customizing hostname is not supported for Linux desktop."},{"errorCode":"IncorrectDirectoryStatus","errorMessage":"Only registered directory can create desktop."},{"errorCode":"IncorrectDirectoryType","errorMessage":"The protocol type of directory and desktop  do not match."},{"errorCode":"InvalidAmount","errorMessage":"The specified Amount is not a valid value."},{"errorCode":"InvalidAmount.NotTimesOfUsers","errorMessage":"The specified Amount is notmatch EndUserId size."},{"errorCode":"InvalidDesktopBundle.NotFound","errorMessage":"The specified param BundleId is not found."},{"errorCode":"InvalidDirectoryId.NotFound","errorMessage":"The specified param DirectoryId is not found."},{"errorCode":"InvalidDirectoryType.NotSupported","errorMessage":"The specified DirectoryType is not supported."},{"errorCode":"InvalidEncryptionEnabled.Invalid","errorMessage":"The parameter VolumeEncryptionEnabled is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"OrderId\\\": \\\"123456789\\\",\\n  \\\"RequestId\\\": \\\"1CBAFFAB-B697-4049-A9B1-67E1FC5F****\\\",\\n  \\\"DesktopId\\\": [\\n    \\\"[\\\\\\\"ecd-gx2x1dhsmucyy****\\\\\\\"]\\\"\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDesktopsResponse>\\n    <OrderId>123456789</OrderId>\\n    <RequestId>3EB7FCEE-D731-4948-85A3-4B2C341CA983</RequestId>\\n    <DesktopId>[\\\"ecd-gx2x1dhsmucyy****\\\"]</DesktopId>\\n</CreateDesktopsResponse>\",\"errorExample\":\"\"}]","title":"创建一台或多台云电脑","summary":"创建一台或多台云电脑。创建时若传入用户信息，可直接完成云电脑的分配。","description":"创建云电脑前，请先完成以下准备工作：\n- 已创建办公网络（原工作区）和用户。相关接口或文档请参见：\n    - 便捷办公网络：[CreateSimpleOfficeSite](~~215416~~)、[CreateUsers](~~437832~~)。\n    - AD办公网络：[CreateADConnectorOfficeSite](~~215417~~)、[创建AD用户](~~188619~~)。\n- 已调用[CreateBundle](~~188883~~)创建云电脑模板，或确认使用已有云电脑模板。\n- 已调用[CreatePolicyGroup](~~188889~~)创建策略，或确认使用已有策略。\n\n如需让云电脑自动执行自定义命令脚本，可使用`UserCommands`字段配置自定义命令。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}