{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","systemTags":{},"parameters":[{"name":"JsonStr","in":"query","schema":{"description":"完整JSON字符串信息，具体内容参见下方详细信息。","type":"string","required":true,"docRequired":true,"example":"{“conditions”:“xxxxx”,\"rules\":\"xxxx\"}"}},{"name":"BaseMeAgentId","in":"query","schema":{"title":"业务空间Id","description":"业务空间Id","type":"integer","format":"int64","required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"结果代码，**200**表示成功，若为别的值则表示失败，调用方可根据此字段判断失败原因。","type":"string","example":"200"},"Message":{"description":"出错时表示出错详情，成功时为**successful**。","type":"string","example":"successful"},"RequestId":{"description":"请求ID。","type":"string","example":"4987D326-83D9-4A42-B9A5-0B27F9B40539"},"Success":{"description":"请求是否成功。调用方可根据此字段来判断请求是否成功：\n\n- **true**表示成功\n- **false/null**表示失败","type":"boolean","example":"true"},"Data":{"type":"object","properties":{"RidInfo":{"description":"规则ID。","type":"array","items":{"description":"规则ID。","type":"string","example":"318"}}}}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"RequestId\\\": \\\"4987D326-83D9-4A42-B9A5-0B27F9B40539\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"RidInfo\\\": [\\n      \\\"318\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UploadRuleResponse>\\r\\n    <code>200</code>\\r\\n    <data>318</data>\\r\\n    <message>successful</message>\\r\\n    <requestId>*****</requestId>\\r\\n    <success>true</success>\\r\\n</UploadRuleResponse>\",\"errorExample\":\"\"}]","title":"创建规则","summary":"创建规则。一般用于客户需要自己提供规则编辑界面的场景。","description":"> 相关文档，请参见 [规则配置](https://help.aliyun.com/document_detail/213225.html)。","requestParamsDescription":"## 请求参数JSON字符串信息\n\n| 属性       | 值类型 | 是否必选 | 描述                                                         |\n| :--------- | :----- | :------- | :----------------------------------------------------------- |\n| appKey     | String | 是       | 业务方或者业务场景的标记。                                   |\n| conditions | List   | 是       | 所有条件的详细配置信息，具体内容参见下方的`条件的详细配置信息字段ConditionBasicInfo描述`。 |\n| rules      | List   | 是       | 规则的配置信息，具体内容参见下方的`规则的配置信息字段RuleInfo描述`。 |\n\n## 一、条件的详细配置信息字段ConditionBasicInfo说明\n\n| 属性        | 值类型     | 是否必选 | 示例值                                                   | 描述                                                         |\n| :---------- | :--------- | :------- | :------------------------------------------------------- | :----------------------------------------------------------- |\n| cid         | String     | 是       | \"1\"                                                      | 条件的ID，必须数字字符（建议从1开始以正整数向上累加），此数字在规则上传后会被修改为系统自生成Id。 |\n| check_range | CheckRange | 是       | 具体内容参见下方的`条件检查范围CheckRange描述`          | 条件的检查范围。                                             |\n| operators   | List       | 是       | 具体内容参见下方的`条件所包含算子OperatorBasicInfo描述` | 条件包含的算子。                                             |\n| lambda      | String     | 是       | 一个算子：\"1\"，多个算子：`1&&2&&3`  | 条件中算子的逻辑关系，由算子ID（oid）与逻辑运算符（与、或、非）组成的表达式，示例值中的1、2、3均代表算子ID（oid），oid在`条件所包含算子OperatorBasicInfo描述`中有详细说明。 |\n\n### 条件检查范围CheckRange描述：\n\n| 属性   | 值类型 | 是否必选 | 示例值                                  | 描述                                                         |\n| :----- | :----- | :------- | :-------------------------------------- | :----------------------------------------------------------- |\n| role   | String | 否       | 客服                                    | 适用角色，条件的作用角色范围，可取值：“客服”；“客户”。不传表示所有角色。 |\n| anchor | Anchor | 否       | 具体内容参见下方的`前置条件Anchor描述` | 前置条件详细信息。                                           |\n| range  | String | 否       | {\"from\":1,\"to\":3}                    | 检测范围，具体使用说明请查看本文档特殊说明中的`检测范围range使用说明`。 |\n\n### 前置条件Anchor描述：\n\n| 属性     | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| cid      | String  | 是       | \"3\"    | 前置条件的条件id(cid)，用于确定anchor的条件。                |\n| location | String  | 是       | AROUND | 用来指定前置条件命中时，当前条件检测前置条件命中句子的之前XX句、之后XX句、前后部分句子、当前句，取值：BEFORE（前置条件命中句子之前）、AROUND（前置条件命中位置前后）、AFTER（前置条件命中句子之后）、CURRENT（前置条件命中的当前句）。通过该字段限定一个范围，然后配合上面的range中的from、to来指定具体的句子。 |\n| hit_time | Integer | 是       | 3      | 前置条件的命中次数，有以下三种情况：1、正整数1~N代表前置条件第一（N）次命中；2、0代表前置条件每次命中；3、-1代表前置条件任意一次命中。 |\n\n### 条件所包含算子OperatorBasicInfo描述：\n\n| 属性  | 值类型 | 是否必选 | 示例值                                                     | 描述                                                         |\n| :---- | :----- | :------- | :--------------------------------------------------------- | :----------------------------------------------------------- |\n| oid   | String | 是       | \"1\"                                                        | 算子的ID，必须数字字符（建议从1开始以正整数向上累加），此数字在规则上传后会被修改为系统自生成ID。 |\n| name  | String | 是       | 我是算子名称                                               | 算子名称、描述。                                             |\n| type  | String | 是       | INCLUDE_KEYWORDS                                           | 算子类型，具体内容参见下方的`算子类型以及算子具体内容Param描述`。 |\n| param | Param  | 是       | 具体内容参见下方的`算子类型以及算子具体内容Param描述` | 算子表达式具体内容。                                         |\n\n### 算子类型以及算子具体内容Param描述：\n\nparam中的属性较多，有一些是公用属性，有一些是特定算子类型专用的，所以我们按照算子类型维度，来逐一说明每个算子类型都可以使用哪些属性，并且提供配置示例供您参考，以下标题为算子名称（name）、算子类型（type），内容为该算子可用参数列表，以及使用示例：\n\n### 1、关键词检查：\n包含任意一个关键字（HIT_ANY_KEYWORDS）、包含全部关键字/包含任意N个关键字/全部不包含（INCLUDE_KEYWORDS）\n\n| 属性             | 值类型  | 是否必选 | 示例值                   | 描述                                                         |\n| :--------------- | :------ | :------- | :----------------------- | :----------------------------------------------------------- |\n| keywords         | List    | 是       | [\"你好\",\"您好\",\"上午好\"] | 关键词列表                                                   |\n| contextChatMatch | Boolean | 否       | false                    | 是否多句分析，用来指定分析方式，可选值：true（多句分析）；false（单句分析），默认false。详见下方的**分析方式详细说明** |\n| keywordMatchSize | Integer | 否       | 3                        | 匹配关键字的数量，不同的检测类型与该参数取值的关系：包含任意一个关键字（取值为1）、包含全部关键字（取值为-1）、包含任意N个关键字（取值为大于等于1并且小于等于关键字的个数正整数）、全部不包含（取值为0）。默认值根据关键字检测类型（type值）的不同而不同：HIT_ANY_KEYWORDS（1）、INCLUDE_KEYWORDS（-1） |\n| in_sentence      | Boolean | 否       | true                     | 匹配时是否限制在单句话中（单句话是指中间没有逗号、句号等，以逗号、句号等标号分开的算不同句子）；可取值：true（限定在一个句子中）；false（不限定）；默认false。若contextChatMatch为true，则该参数无效，因为分析方式为多句分析时，与单句话生效是冲突的。 |\n| keywordExtension | Integer | 否       | 0                        | 是否开启同义词扩展，可取值：1（开启）；0（关闭）；默认：0。 |\n\n**分析方式详细说明**\n- 单句分析、多句分析针对的是当前条件所限定的句子。\n- 限定句子：通过当前条件的适用角色、前置条件及检测范围所限定的1个或多个句子。\n- 单句分析：对限定句子逐句进行分析，例如检测包含全部关键词，只有限定句子中的某一句包含了全部的关键词，才算命中。\n- 多句分析：将限定句子合并为一个段落进行一次分析，例如检测包含全部关键词，只要合并后的段落中包含全部的关键词就算命中。\n\n**请求示例：**\n①单句分析、包含任意一个关键字\n```\n{\n    \"keywords\":[\n        \"您好\",\n        \"你好\",\n        \"上午好\"\n    ],\n    \"contextChatMatch\":false,\n}\n```\n![](https://img.alicdn.com/tfs/TB1CJ3KI4D1gK0jSZFsXXbldVXa-921-287.png)\n\n②多句分析、包含全部关键字\n```\n{\n    \"keywordMatchSize\":-1,\n    \"keywords\":[\n        \"您好\",\n        \"你好\",\n        \"上午好\"\n    ],\n    \"contextChatMatch\":true\n}\n```\n![](https://img.alicdn.com/tfs/TB1MnoOI7L0gK0jSZFxXXXWHVXa-924-285.png)\n\n③单句分析、包含任意2个关键字、单句话内生效、开启同义词扩展\n```\n{\n    \"keywordMatchSize\":2,\n    \"keywordExtension\":1,\n    \"keywords\":[\n        \"您好\",\n        \"你好\",\n        \"上午好\"\n    ],\n    \"in_sentence\":true,\n    \"contextChatMatch\":false\n}\n```\n![](https://img.alicdn.com/tfs/TB106RaaP39YK4jSZPcXXXrUFXa-985-288.png)\n\n④单句分析、全部不包含\n```\n{\n    \"keywordMatchSize\":0,\n    \"keywords\":[\n        \"您好\",\n        \"你好\",\n        \"上午好\"\n    ],\n    \"contextChatMatch\":false\n}\n```\n![](https://img.alicdn.com/tfs/TB16PAMI.T1gK0jSZFrXXcNCXXa-980-282.png)\n### 2、正则表达式检查（REGULAR_EXPRESSION）\n\n| 属性        | 值类型  | 是否必选 | 示例值             | 描述                                                         |\n| :---------- | :------ | :------- | :----------------- | :----------------------------------------------------------- |\n| regex       | String  | 是       | `请看下方代码示例` | 命中的正则表达式。                                           |\n| notRegex    | String  | 否       | `请看下方代码示例` | 排除的正则表达式。                                           |\n| in_sentence | Boolean | 否       | true               | 默认为false，匹配时是否限制在单句话中（单句话是指中间没有逗号、句号等，以逗号、句号等标号分开的算不同句子）；true：限定在一个句子中，false：不限定，默认：false。 |\n\n```\n{\n    \"regex\":\"请问.*(车牌号|发动机号|驾驶证号码)\",\n    \"notRegex\":\"发一下|告诉我\",\n    \"in_sentence\":true\n}\n```\n![](https://img.alicdn.com/tfs/TB1aOSeaggP7K4jSZFqXXamhVXa-1015-215.png)\n\n### 3、文本相似度检查（SIMILAR_MATCH）\n\n| 属性        | 值类型  | 是否必选 | 示例值             | 描述                                                         |\n| :---------- | :------ | :------- | :----------------- | :----------------------------------------------------------- |\n| similarlySentences       | List  | 是       | `请看下方代码示例` | 示例语句，最多可输入200句，每个示例语句最大长度为50字符。                                          |\n| score    | Integer  | 否       | 80 | 相似度分值，默认为80。                                         |\n\n```\n{\n    \"score\":80,\n    \"similarlySentences\":[\n        \"我想投诉你们部门\",\n        \"我要投诉你们\",\n        \"我要举报你们部门\",\n        \"我要打12315举报你们\",\n        \"我要到工商管理部门投诉你们\"\n    ]\n}\n```\n![](https://img.alicdn.com/tfs/TB1wuIYMoH1gK0jSZSyXXXtlpXa-1015-328.png)\n\n###  4、上下文重复（ADVANCED_REPEAT_DETECT）\n\n| 属性      | 值类型  | 是否必选 | 示例值                              | 描述                                                         |\n| :-------- | :------ | :------- | :---------------------------------- | :----------------------------------------------------------- |\n| from      | Integer | 否       | 3                                   | 表示重复的两句话间隔在几句以内时才算违规，默认：2，即从当前局往前数2句（包含）之内重复算违规。 |\n| hit_time  | Integer | 否       | 2                                   | 表示第几次重复出现时才算违规，默认：1。                      |\n| threshold | Integer | 否       | 5                                   | 最小字数，小于此值的句子不检查，默认：4。                   |\n| excludes  | List    | 否       | [\"好的我知道了\"，\"好的我知道了\"] | 表示例外句子，即例外句子重复出现时不算违规，默认：空。       |\n\n```\n{\n    \"from\":3,\n    \"hit_time\":2,\n    \"threshold\":5,\n    \"excludes\":[\n        \"好的好的我知道了\",\n        \"好的我知道了\"\n    ]\n}\n```\n![](https://img.alicdn.com/tfs/TB1jaeteXT7gK0jSZFpXXaTkpXa-1015-254.jpg)\n\n### 5、通话静音检查（INTERVAL_GREATER）\n\n| 属性           | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :------------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| interval       | Integer | 是       | 5000   | 静音时长（毫秒）。                                           |\n| different_role | Boolean | 否       | false  | 是否区分角色，true：区分角色，false：不区分角色；为true则目标句子如果与本句是同一个角色说的话就不参与计算。 |\n| target         | Integer | 否       | 1      | 目标句子是当前句子的前多少句，为0时间隔等于本句的结束时间-本句的开始时间。 |\n| from_end       | Boolean | 否       | false  | 指定时间间隔的计算方式是否用本句的结束时间减目标句子的结束时间。 |\n\n```\n{\n    \"interval\":5000,\n    \"different_role\":false,\n    \"target\":1,\n    \"from_end\":false\n}\n```\n![](https://img.alicdn.com/tfs/TB1aBFTeaL7gK0jSZFBXXXZZpXa-2036-262.jpg)\n\n### 6、语速检查（SPEECH_SPEED_CHECK）\n\n| 属性           | 值类型  | 是否必选 | 示例值 | 描述                                                     |\n| :------------- | :------ | :------- | :----- | :------------------------------------------------------- |\n| velocityInMint | Integer | 是       | 370    | 每分钟的语速值（字数），用以判断本句的语速是否超过指定值。 |\n| minWordSize    | Integer | 否       | 4      | 表示当一句话少于多少字时不检测。                         |\n| average        | Boolean | 否       | false  | true：检测整个对话的平均语速；false：检测单句话的语速。  |\n\n```\n{\n    \"velocityInMint\":370,\n    \"average\":false,\n    \"minWordSize\":4\n}\n```\n![](https://img.alicdn.com/tfs/TB1nelmeX67gK0jSZPfXXahhFXa-2030-312.jpg)\n\n###  7、抢话检查（GRAB_WORDS）\n\n| 属性      | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :-------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| interval  | Integer | 是       | 5000   | 交叉时间，也就是抢话中客户说话的结束时间减去客服说话的开始时间（毫秒）。 |\n| threshold | Integer | 否       | 4      | 表示当抢话句子的字数大于多少个字时才进行检测。               |\n| delayTime | Integer | 否       | 1000      | 延时判定抢话情况，比如，设置为1000，则表示同时一方开始说话1000毫秒后，再出现对话重叠才算作抢话，单位：毫秒|\n\n```\n{\n    \"interval\":3000,\n    \"threshold\":4\n}\n```\n![](https://img.alicdn.com/tfs/TB1K1F3eoY1gK0jSZFCXXcwqXXa-2030-312.jpg)\n\n###  8、角色判断（ROLE_CHECK）\n该算子较为特殊，需要涉及到check_range的改动，详见完整的条件配置示例：\n\n| 属性        | 值类型 | 是否必选 | 示例值 | 描述                                       |\n| :---------- | :----- | :------- | :----- | :----------------------------------------- |\n| target_role | String | 是       | 客户   | 指定目标句子的角色，可选值为：客服、客户。 |\n\n```\n{\n    \"cid\":\"1\",\n    \"lambda\":\"1\",\n    \"check_range\":{\n        \"absolute\":true, // 固定值\n        \"alSentencesSatisfy\":true, // 固定值\n        \"range\":{ // 指定要检测的句子位置，from与to的值需要一致\n            \"from\":2,\n            \"to\":2\n        }\n    },\n    \"operators\":[\n        {\n            \"oid\":1,\n            \"type\":\"ROLE_CHECK\",\n            \"param\":{\n                \"target_role\":\"客服\"\n            }\n        }\n    ]\n}\n```\n![](https://img.alicdn.com/tfs/TB1w.00emf2gK0jSZFPXXXsopXa-2028-254.jpg)\n\n###  9、非正常挂机（DURATION）\n根据最后一句话的角色，以及最后一句话的结束时间到挂机的时间间隔来判断是否为非正常挂机，此时check_range.range中的from和to都需要指定为-1，来表示检测最后一句话，详见完整的条件配置示例：\n\n| 属性            | 值类型  | 是否必选 | 示例值   | 描述                                               |\n| :-------------- | :------ | :------- | :------- | :------------------------------------------------- |\n| interval        | Integer | 是       | 5000     | 表示最后一句话结束时间到挂机时间的时长（毫秒）。  |\n| compareOperator | String  | 否       | gt       | 指定interval比较方式，gt：大于，lt：小于，默认为gt。 |\n| beginType       | String  | 是       | DIALOGUE | 固定传DIALOGUE。                                  |\n| target_role     | String  | 否       | 客户     | 指定最后一句话的角色，如果为空则代表任意角色。     |\n\n```\n{\n    \"cid\":\"1\",\n    \"lambda\":\"1\",\n    \"check_range\":{\n        \"range\":{\n            \"from\":-1, //固定为-1，表示检测最后一句话\n            \"to\":-1， //固定为-1，表示检测最后一句话\n        }\n    },\n    \"operators\":[\n        {\n            \"oid\":1,\n            \"type\":\"DURATION\",\n            \"param\":{\n                \"interval\":3000,\n                \"beginType\":\"DIALOGUE\",\n                \"target_role\":\"客户\"\n            }\n        }\n    ]\n}\n```\n![](https://img.alicdn.com/tfs/TB1SJF6ehD1gK0jSZFyXXciOVXa-2036-272.jpg)\n\n###  10、录音时长检查（DURATION）\n\n| 属性            | 值类型  | 是否必选 | 示例值 | 描述                                                |\n| :-------------- | :------ | :------- | :----- | :-------------------------------------------------- |\n| interval        | Integer | 是       | 5000   | 指定录音时长（毫秒）。                              |\n| compareOperator | String  | 否       | gt     | 指定interval比较方式，gt：大于，lt：小于，默认为gt。 |\n\n```\n{\n    \"interval\":60000,\n    \"compareOperator\":\"lt\"\n}\n```\n![](https://img.alicdn.com/tfs/TB151l2ehz1gK0jSZSgXXavwpXa-2032-204.jpg)\n\n###  11、能量检测（ASR_EMOTION）\n\n| 属性                  | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :-------------------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| maxEmotionChangeValue | Integer | 否       | 3      | 能量值，取值范围：1-10。 |\n| checkType             | Integer | 否       | 3      | 检测方式，可选值：1（相邻句能量波动）；2（最大能量跨度）；3（能量范围检测），默认值：3。 |\n| compareOperator       | String  | 否       | gt     | 大于还是小于，可选值：gt（大于）；lt（小于），默认值：gt。   |\n\n![](https://img.alicdn.com/tfs/TB1r0ZYMbr1gK0jSZFDXXb9yVXa-1018-185.png)\n\n\n###  12、通用检测模型（EMOTION_MODEL）\n\n由系统内置的算法模型进行分析，目前可检测的类型有：辱骂检测模型、高危检测模型。\n\n| 属性| 值类型  | 是否必选 | 示例值 | 描述  |\n| :-------------------- | :------ | :------- | :----- | :--------------------- |\n| pvalues | List | 否     | [\"ruma01\"]   | 检测的类型，可选值：ruma01（辱骂检测模型）；goawei01（高危检测模型），默认值为[\"ruma01\"] |\n\n![](https://img.alicdn.com/imgextra/i3/O1CN01nKIjwc1OvKWFqhZFt_!!6000000001767-2-tps-1014-191.png)\n\n###  13、客户检测模型（CUSTOMER_CHECK_MODEL）\n\n由系统内置的算法模型进行分析，目前可检测的类型有：扬言投诉客服、扬言找客服主管、质疑客服态度差、内部投诉检测、公共舆情检测。\n\n| 属性                  | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :-------------------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| pvalues | List | 否       | [\"tousu01\",\"zhaozhuguan01\"]      | 检测的类型，可选值：tousu01（扬言投诉客服）；zhaozhuguan01（扬言找客服主管）；zhiyitaidu01（质疑客服态度差）；internal_complain01（内部投诉检测）；public_opinion（公共舆情检测），默认值为[\"tousu01\"] |\n\n![](https://img.alicdn.com/imgextra/i2/O1CN01XyWkZx1rexDMlwaqs_!!6000000005657-2-tps-1017-166.png)\n\n### 14、客服检测模型（ABUSE_MODEL）\n\n由系统内置的算法模型进行分析，无需配置param。\n\n| 属性                  | 值类型  | 是否必选 | 示例值 | 描述                                                         |\n| :-------------------- | :------ | :------- | :----- | :----------------------------------------------------------- |\n| pvalues | List | 否       | [\"jifeng01\"]      | 检测的类型，可选值：讥讽客户检测（jifeng01），默认值为[\"jifeng01\"] |\n\n![](https://img.alicdn.com/imgextra/i2/O1CN01ci8lMd1eLdVRoCm0V_!!6000000003855-2-tps-1013-135.png)\n\n\n\n## 二、规则的配置信息字段RuleInfo说明\n\n| 属性          | 值类型  | 是否必选 | 示例值                                                       | 描述                                                         |\n| :------------ | :------ | :------- | :----------------------------------------------------------- | :----------------------------------------------------------- |\n| rid           | String  | 是       | 1                                                            | 规则的ID，必须数字字符，此数字在规则上传后会被修改为系统自生成ID。 |\n| lambda        | String  | 是       | 一个条件：\"\"，多个条件：`a&&b&&c`                            | 规则中条件的逻辑关系，由条件ID（cid）与逻辑运算符（与、或、非）组成的表达式，示例值中的a、b、c均代表算条件ID（cid）。 |\n| business      | List    | 是       | 具体内容参见下方的`规则所属业务字段BusinessCategoryBasicInfo描述` | 规则的适用业务，可在新建规则页面获取，详见下图。若该属性为空，则设置为默认的“所有业务”。 |\n| type          | Integer | 是       | 1                                                            | 规则的类型，可在新建规则页面获取，详见下图。                 |\n| triggers      | List    | 是       | [\"a\",\"b\",\"c\"]                                                | 规则中需要返回内容的条件ID（cid）。设置规则ID的话，命中结果后将会返回规则所命中的具体内容。 |\n| Name          | String  | 是       | \"用户可能要投诉\"                                             | 规则名称。                                                   |\n| scoreSubId    | Integer | 否       | 3678                                                         | 规则绑定的评分项子项的id，如绑定评分项，则必须传入ruleScoreType。 |\n| ruleScoreType | Integer | 否       | 3                                                            | 该规则所绑定的评分项是否进行计分（1：不计分，3：计分）。     |\n| level | Integer | 否 | 2 | 重要程度，用于在复核页面对规则根据重要程度进行分类展示。取值：0（重度违规）；1（中度违规）；2（轻度违规），默认值：2 |\n| fullCycle| Integer | 否| 1 | 设置规则的生效时间的类型，可选值：0（特定周期生效，特定的时间范围内生效），1（全周期生效，始终生效）  |\n| effectiveStartTime| Date    | 否 | 2021-03-04 04:05:05  | 规则生效时间为特定周期生效时的生效开始时间。 |\n| effectiveEndTime | Date    | 否 | 2021-03-06 04:05:05    | 规则生效时间为特定周期生效时的生效结束时间。 |\n\n###  规则所属业务字段BusinessCategoryBasicInfo描述：\n\n| 属性 | 值类型  | 是否必选 | 示例值    | 描述                            |\n| :--- | :------ | :------- | :-------- | :------------------------------ |\n| bid  | Integer | 是       | 267202890 | 适用业务BID，必须数字字符。 |\n\n\n![](https://img.alicdn.com/imgextra/i4/O1CN01JAVwvr21FRYMRTLY4_!!6000000006955-2-tps-602-247.png)\n\n## 检测范围range使用说明\n检测范围是通过一个数字区间来筛选出当前条件生效的范围，具体说明如下：\n\n### 一、无前置条件时\n![](https://img.alicdn.com/tfs/TB1l.utJ1L2gK0jSZFmXXc7iXXa-1534-486.png)\n\n1.{\"from\":1,\"to\":3}，代表所检测角色所说的前三句；\n2.{\"from\":-1,\"to\":-3}，代表所检测角色所说的最后三句话；\n3.{\"from\":3,\"to\":-3}，代表所检测角色所说的正数第三句到倒数第三句。\n\n### 二、有前置条件时\n存在前置条件时，系统会将所有句子，以前置条件命中句为分割点，切分为三个段落：前置条件命中句之前的所有句子、前置条件命中句之后的所有句子、前置条件命中句前后的部分句子，详见下图中所标示的三个段落。需要您先选择一个段落，然后再通过数字区间在该段落内来筛选具体的生效范围。\n\n![](https://img.alicdn.com/tfs/TB1zZWuJ1L2gK0jSZFmXXc7iXXa-1462-544.png)\n\n**前置条件命中位置之前（anchor.location的值为BEFORE）**\n\n![](https://img.alicdn.com/tfs/TB1MO8fXZ4z2K4jSZKPXXXAYpXa-1486-636.png)\n\n1.{\"from\":1,\"to\":3}，代表所检测角色在当前段落内所说的前三句（紧邻前置条件命中句的句子的是第一句）\n2.{\"from\":-1,\"to\":-3}，代表所检测角色在当前段落内所说的最后三句（倒数第一句到倒数第三句）（距离前置条件命中句最远的是最后一句）\n3.{\"from\":1,\"to\":-1}，代表所检测角色在前置条件命中句**之前**的所有句子；\n4.{\"from\":0,\"to\":2}，代表前置条件命中句当句，到所检测角色所说的第二句之间的三句话（只有在当前条件与前置条件的适用角色一致时，才可以使用第0句来定位到前置条件命中句当句，若角色不同，则不允许使用）\n5.以上仅为使用示例，并非只能使用以上四种情况，总体来说，正数代表当前段落正数第几句，负数代表当前段落倒数第几句。\n\n**前置条件命中位置前后（anchor.location的值为AROUND）**\n\n![](https://img.alicdn.com/tfs/TB1OIkUlsKfxu4jSZPfXXb3dXXa-1482-660.png)\n\n1.{\"from\":0,\"to\":0}，仅代表前置条件命中句当句；\n2.{\"from\":1,\"to\":3}，代表当前置条件命中时，在前置条件命中句“之后”的所检测角色所说的第1句到第3句；\n3.{\"from\":-2,\"to\":-4}，代表当前置条件命中时，在前置条件命中句子“之前”的所检测角色所说话术的第2句到第4句；\n4.{\"from\":-3,\"to\":3}，代表当前置条件命中时，在前置条件命中句子“之前”的所检测角色所说的第3句到“之后”的第3句；\n5.以上仅为使用示例，并非只能使用以上四种情况，总体来说，正数代表前置条件命中句之后的句子，负数代表前置条件命中句之前的句子。\n\n**前置条件命中位置之后（anchor.location的值为AFTER）**\n\n![](https://img.alicdn.com/tfs/TB1S0eZJYj1gK0jSZFuXXcrHpXa-1490-648.png)\n\n1.{\"from\":1,\"to\":3}，代表所检测角色在当前段落内所说的前三句（紧邻前置条件命中句的句子的是第一句）\n2.{\"from\":-1,\"to\":-3}，代表所检测角色在当前段落内所说的最后三句（倒数第一句到倒数第三句）（距离前置条件命中句最远的是最后一句）\n3.{\"from\":1,\"to\":-1}，代表所检测角色在前置条件命中句**之后**的所有句子；\n4.{\"from\":0,\"to\":2}，代表前置条件命中句当句，到所检测角色所说的第二句之间的三句话（只有在当前条件与前置条件的适用角色一致时，才可以使用第0句来定位到前置条件命中句当句，若角色不同，则不允许使用）；\n5.以上仅为使用示例，并非只能使用以上四种情况，总体来说，正数代表当前段落正数第几句，负数代表当前段落倒数第几句。","responseParamsDescription":" ","extraInfo":" "}