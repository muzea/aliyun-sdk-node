{"summary":"修改PolarDB MySQL集群的功能配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n>您可以调用DescribeDBClusters接口查看目标地域下所有的集群信息，包括集群ID。","type":"string","required":true,"docRequired":true,"example":"pc-*************"}},{"name":"StandbyHAMode","in":"query","schema":{"description":"集群的跨可用区自动切换模式，取值范围如下：\n\n- **ON**：开启跨可用区自动切换。\n- **OFF**：关闭跨可用区自动切换。\n- **0**：开启客户演练。","type":"string","required":false,"example":"ON"}},{"name":"DataSyncMode","in":"query","schema":{"description":"集群的跨可用区数据复制方式，取值范围如下：\n\n- **AsyncSync**：异步。\n- **SemiSync**：半同步。","type":"string","required":false,"example":"AsynSync"}},{"name":"FaultSimulateMode","in":"query","schema":{"description":"集群的故障演练模拟场景。取值为0，表示模拟主可用区故障。\n> - 当`StandbyHAMode`设置为0时，该参数才生效。\n> - **模拟主可用区故障**场景中，主可用区所有的计算节点均不可用，该场景的容灾切换是有损的。","type":"string","required":false,"example":"0"}},{"name":"StorageAutoScale","in":"query","schema":{"description":"标准版集群是否开启存储自动扩容。取值范围如下：\n\n- Enable：开启存储自动扩容。\n- Disable：关闭存储自动扩容。","type":"string","required":false,"example":"Enable","enum":["Enable","Disable"]}},{"name":"CompressStorage","in":"query","schema":{"description":"开启存储压缩。取值为**ON**。","type":"string","required":false,"example":"ON","enum":[]}},{"name":"StorageUpperBound","in":"query","schema":{"description":"标准版集群存储自动扩容上限，单位：GB。\n\n> 取值最大为32000。","type":"integer","format":"int64","required":false,"maximum":"64000","minimum":"20","example":"800"}},{"name":"DBNodeCrashList","in":"query","schema":{"type":"string","required":false}},{"name":"FaultInjectionType","in":"query","schema":{"type":"string","required":false,"enum":["CrashSQLInjection"]}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"CD3FA5F3-FAF3-44CA-AFFF-BAF869******"},"DBClusterId":{"description":"集群ID。","type":"string","example":"pc-*************"},"OrderId":{"description":"生成的订单ID。","type":"string","example":"2148126708*****"}}}}},"errorCodes":{"400":[{"errorCode":"OperationDenied.CreateDBNodesWithStrictConsistencyOn","errorMessage":"3AZ cluster does not allow create db nodes."},{"errorCode":"InvalidDBProxyClusterClass.Malformed","errorMessage":"The specified parameter DBProxyClusterClass is not valid."},{"errorCode":"InvalidDBNodeNum.Malformed","errorMessage":"The number of parameter DBNode.N is not valid."},{"errorCode":"OperationDenied.ModifyDBNodeClassWithStrictConsistencyOn","errorMessage":"3AZ cluster does not allow modify db node class."},{"errorCode":"InvalidDowngradeDBNodeClass.Limit","errorMessage":"The specified Downgrade DBNodeClass is limit on the MaxDiskSize."},{"errorCode":"InvalidEngine.Unsupported","errorMessage":"The specified Engine does not support this feature."},{"errorCode":"OperationDenied.ModifyProxyWithStrictConsistencyOn","errorMessage":"3AZ cluster does not allow modify proxy."},{"errorCode":"StandbyClusterTurnOn","errorMessage":"The specified dbCluster already turn on hot standby cluster."}],"403":[{"errorCode":"IncorrectDBInstanceType","errorMessage":"Current DB instance type does not support this operation."},{"errorCode":"IncorrectDBInstance","errorMessage":"Current DB instance does not support this operation."},{"errorCode":"OperationDenied.LockMode","errorMessage":"The operation is not permitted due to lock of cluster."},{"errorCode":"OperationDenied.DBClusterStatus","errorMessage":"The operation is not permitted due to status of cluster."},{"errorCode":"OperationDenied.TempUpgradeDuring","errorMessage":"This operation is not allowed during the temporary upgrade of the cluster."},{"errorCode":"InvalidParam.PgDBNodeSpec","errorMessage":"The specification PGO of DB nodes is incorrect."},{"errorCode":"InvalidParam.NoChange","errorMessage":"No change found"},{"errorCode":"OperationDenied.DBNodeClass","errorMessage":"The target DB node class is invalid for SQL acceleration."},{"errorCode":"OperationDenied.ReaderNum","errorMessage":"The target reader node number is invalid for SQL acceleration."},{"errorCode":"InvalidParam.DBNodeNum","errorMessage":"The number of DB nodes is incorrect."},{"errorCode":"OperationDenied.DBNodeRole","errorMessage":"The operation is not permitted due to the role of node."},{"errorCode":"OperationDenied.DeleteNode","errorMessage":"The senormal version cluster does not allow the deletion of ro nodes and standby nodes at the same time."},{"errorCode":"OperationDenied.EndpointDBNodeNumber","errorMessage":"The operation is not permitted due to node number for Endpoint."},{"errorCode":"OperationDenied.StandbyEqualSpec","errorMessage":"The spec of standby must be equal to rw"},{"errorCode":"OperationDenied.DeleteDBNodeNumber","errorMessage":"The operation is not permitted due to the node number to delete."},{"errorCode":"OperationDenied.DbVersion","errorMessage":"The operation is not permitted due to DbVersion."},{"errorCode":"OperationDenied.ClusterCategory","errorMessage":"The operation is not permitted due to cluster category."},{"errorCode":"OperationDenied.clusterSingleNodeLimit","errorMessage":"Single-node instances are not supported and need to be upgraded to cluster version"},{"errorCode":"InvalidParam.CRACParamNodeNum","errorMessage":"The CRAC nodes cannot exceed 8."},{"errorCode":"InvalidParam.ECSESSDSTANDARDParamNodeNum","errorMessage":"The ECSESSDSTANDARD nodes cannot exceed 8."}],"404":[{"errorCode":"InvalidParam","errorMessage":"Invalid Parameter."},{"errorCode":"InvalidEditType","errorMessage":"Wrong upgrade type."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CD3FA5F3-FAF3-44CA-AFFF-BAF869******\\\",\\n  \\\"DBClusterId\\\": \\\"pc-*************\\\",\\n  \\\"OrderId\\\": \\\"2148126708*****\\\"\\n}\",\"type\":\"json\"}]","title":"修改集群功能配置","requestParamsDescription":"对于参数StandbyHAMode、DataSyncMode、FaultSimulateMode和StorageAutoScale，每次调用只能设置一个。如设置了StandbyHAMode参数的值后，不支持再同时设置其它的请求参数的值。\n> 当参数StorageAutoScale的值设置为Enable后，还需要设置集群存储自动扩容上限StorageUpperBound参数的值。"}