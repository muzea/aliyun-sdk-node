{"summary":"查询PolarDB集群列表或被RAM授权的集群列表详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":" 地域ID。\n> 您可以通过接口[DescribeRegions](~~98041~~)查看可用的地域。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DBClusterIds","in":"query","schema":{"description":" 集群ID。多个集群ID间用英文逗号（,）隔开。","type":"string","required":false,"example":"pc-****************"}},{"name":"DBClusterDescription","in":"query","schema":{"description":"集群描述，可模糊查询。","type":"string","required":false,"example":"pc-****************"}},{"name":"ConnectionString","in":"query","schema":{"description":"数据库连接地址。","type":"string","required":false,"example":"********.rwlb.polardb-pg-public.rds.aliyuncs.com"}},{"name":"DBClusterStatus","in":"query","schema":{"description":"集群状态，取值范围请参见[集群状态表](~~99286~~)。","type":"string","required":false,"example":"Running"}},{"name":"DBType","in":"query","schema":{"description":" 数据库类型，取值范围如下：\n* **MySQL**\n* **PostgreSQL**\n* **Oracle**","type":"string","required":false,"example":"MySQL"}},{"name":"DescribeType","in":"query","allowEmptyValue":true,"schema":{"description":"列表查询方式。取值为Simple，表示简略模式，仅返回集群的基本元数据信息。\n>如果未填写该参数，则默认为详细模式，返回集群的详细信息。","type":"string","required":false,"example":"Simple"}},{"name":"DBVersion","in":"query","schema":{"description":"数据库版本。","type":"string","required":false,"example":"5.6"}},{"name":"RecentCreationInterval","in":"query","allowEmptyValue":true,"schema":{"description":"筛选最近N天创建的集群。取值范围：0~15。","type":"integer","format":"int32","required":false,"example":"7"}},{"name":"RecentExpirationInterval","in":"query","allowEmptyValue":true,"schema":{"description":"筛选N天后过期的集群。取值范围：0~15。","type":"integer","format":"int32","required":false,"example":"6"}},{"name":"Expired","in":"query","schema":{"description":"是否集群已过期。取值范围如下：\n\n- **true**\n\n- **false**","type":"boolean","required":false,"example":"true","default":"false"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值为**30**、**50**或**100**。\n                              \n默认值为**30**。 ","type":"integer","format":"int32","required":false,"example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为大于0且不超过Integer数据类型的最大值，默认值为**1**。","type":"integer","format":"int32","required":false,"example":"10","default":"1"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-**********"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签键，可以根据标签过滤集群列表。最多20对标签，各个标签对的数字n必须不同，且必须是从1开始的连续整数。Tag.n.Key对应的值为Tag.n.Value。\n\n> 最多支持64个字符，不能以`aliyun`、`acs:`、`http://`或者`https://`开头。\n","type":"string","required":false,"example":"MySQL"},"Value":{"description":"标签键对应的标签值。\n\n> 最多支持64个字符，不能以`aliyun`、`acs:`、`http://`或者`https://`开头。\n","type":"string","required":false,"example":"5.6"}},"required":false},"required":false,"maxItems":21}},{"name":"PayType","in":"query","schema":{"description":"付费类型，取值范围如下： \n\n- **Postpaid**：按量付费\n- **Prepaid**：预付费（包年包月）","type":"string","required":false,"example":"Postpaid"}},{"name":"DBNodeIds","in":"query","schema":{"description":"节点ID。支持传入多个节点ID，多个ID间用英文逗号（,）分隔。","type":"string","required":false,"example":"pi-***************"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalRecordCount":{"description":"总记录数。","type":"integer","format":"int32","example":"16"},"PageRecordCount":{"description":"本页集群数量。","type":"integer","format":"int32","example":"5"},"RequestId":{"description":"请求ID。","type":"string","example":"9B7BFB11-C077-4FE3-B051-F69CEB******"},"PageNumber":{"description":"页数。","type":"integer","format":"int32","example":"12"},"Items":{"type":"object","properties":{"DBCluster":{"description":"集群列表。","type":"array","items":{"type":"object","properties":{"VpcId":{"description":"专有网络ID。","type":"string","example":"vpc-****************"},"VswitchId":{"description":"虚拟交换机ID。","type":"string","example":"vsw-***************"},"ExpireTime":{"description":"集群到期时间。\n> 仅付费方式为**Prepaid**（包年包月）的集群会返回具体参数值，**Postpaid**（按量付费）集群则返回空值。","type":"string","example":"2020-11-14T16:00:00Z"},"Expired":{"description":"集群是否到期。取值范围：\n\n- **true**\n\n- **false**\n\n>仅付费方式为**Prepaid**（包年包月）的集群支持返该参数。","type":"string","example":"false"},"DBNodeNumber":{"description":"节点数量。","type":"integer","format":"int32","example":"2"},"CreateTime":{"description":"创建时间。","type":"string","example":"2020-08-14T05:58:42Z"},"PayType":{"description":"付费类型。取值范围： \n\n- **Postpaid**：按量付费。\n- **Prepaid**：包年包月（预付费）。 ","type":"string","example":"Prepaid"},"StoragePayType":{"description":"存储计费类型。取值范围： \n\n- **Postpaid**：按容量计费（按量计费）。\n- **Prepaid**：按空间计费（包年包月）。 ","type":"string","example":"Prepaid"},"ServerlessType":{"description":"Serverless类型。返回**AgileServerless**表示当前集群是Serverless集群，返回空值表示当前集群是普通集群。","type":"string","example":"AgileServerless"},"StrictConsistency":{"description":"集群是否开启了多可用区数据强一致。取值范围：\n\n- **ON**：表示开启了多可用区数据强一致，适用于标准版3AZ场景。\n\n- **OFF**：表示未开启多可用区数据强一致。","type":"string","example":"ON"},"DBNodeClass":{"description":"节点规格。","type":"string","example":"polar.mysql.x4.large"},"Tags":{"type":"object","properties":{"Tag":{"description":"标签列表。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签键。","type":"string","example":"MySQL"},"Value":{"description":"标签值。","type":"string","example":"5.6"}}}}}},"DBType":{"description":"数据库类型。","type":"string","example":"MySQL"},"LockMode":{"description":"集群的锁定状态，取值范围如下： \n\n- **Unlock**：正常。 \n- **ManualLock**：手动触发锁定。 \n- **LockByExpiration**：集群过期自动锁定。","type":"string","example":"Unlock"},"DBNodes":{"type":"object","properties":{"DBNode":{"description":"节点列表。","type":"array","items":{"type":"object","properties":{"DBNodeClass":{"description":"节点规格。","type":"string","example":"polar.mysql.x4.large"},"ZoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-i"},"DBNodeRole":{"description":"节点角色，取值范围如下： \n\n- **Writer**：主节点。 \n- **Reader**：只读节点。 \n- **ColumnReader**：列存只读节点。 \n- **AI**：AI节点。","type":"string","example":"Reader"},"DBNodeId":{"description":"节点ID。","type":"string","example":"pi-****************"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"Serverless":{"description":"当前节点是否开启了Serverless功能。\n\n- 返回**ON**表示开启了Serverless功能。\n- 返回空值表示没有开启Serverless功能。","type":"string","example":"ON"},"ImciSwitch":{"description":"是否开启列存索引。取值范围如下：\n\n- **ON**：开启\n- **OFF**：关闭","type":"string","example":"OFF","enum":["ON","OFF"]},"HotReplicaMode":{"description":"是否开启热备。取值范围如下：\n\n- **ON**：开启\n- **OFF**：关闭","type":"string","example":"OFF","enum":[]}}}}}},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"DeletionLock":{"description":"集群删除的保护状态，取值范围如下：\n*  **0**：未锁定。\n* **1**：锁定。\n> 锁定状态时，不可以删除集群。","type":"integer","format":"int32","example":"0"},"DBVersion":{"description":"数据库版本。","type":"string","example":"5.6"},"DBClusterId":{"description":"集群ID。","type":"string","example":"pc-****************"},"DBClusterStatus":{"description":"集群状态。","type":"string","example":"Running"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-************"},"StorageUsed":{"description":"集群已经使用的存储用量，单位为Byte。","type":"integer","format":"int64","example":"3009413120"},"StorageSpace":{"description":"按空间计费（包年包月）的存储空间。单位：Byte。","type":"integer","format":"int64","example":"50"},"DBClusterNetworkType":{"description":"集群的网络类型。","type":"string","example":"VPC"},"DBClusterDescription":{"description":"集群描述。","type":"string","example":"GDN-1"},"ZoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-i"},"Engine":{"description":"集群引擎。","type":"string","example":"POLARDB"},"Category":{"description":"集群系列，目前支持如下系列：\n\n- **Normal**：集群版\n\n- **Basic**：单节点\n\n- **Archive**：高压缩引擎（X-Engine）\n\n- **NormalMultimaster**：多主集群（库表）\n\n","type":"string","example":"Normal"},"AiType":{"description":"ai 节点信息状态。取值范围如下：\n     \n- SearchNode：搜索节点\n- DLNode：ai节点","type":"string","enumValueTitles":{"SearchNode|DLNode":"Both","DLNode":"DLNode","SearchNode":"SearchNode"},"example":"SearchNode"},"CpuCores":{"description":"CPU核数。单位：个。","type":"string","example":"1"},"MemorySize":{"description":"节点内存大小，单位：MB。","type":"string","example":"2048"},"RemoteMemorySize":{"description":"远端内存大小，单位：MB。","type":"string","example":"3612"},"SubCategory":{"description":"计算节点的规格类型，取值范围如下：\n* **Exclusive**：独享规格\n* **General**：通用规格","type":"string","example":"Exclusive"},"StorageType":{"description":"企业版存储类型取值如下：\n* **HighPerformance**：对应PSL5\n* **Standard**：对应PSL4\n\n标准版存储类型取值如下：\n* **essdpl0**\n* **essdpl1**\n* **essdpl2**\n* **essdpl3**\n* **essdautopl**","type":"string","example":"essdautopl"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidRegionId.Malformed","errorMessage":"The specified parameter RegionId is not valid."},{"errorCode":"NumberExceed.Tags","errorMessage":"The Tags parameter's number is exceed."},{"errorCode":"InvalidPageSize.Malformed","errorMessage":"The specified parameter PageSize is not valid."},{"errorCode":"InvalidPageNumber.Malformed","errorMessage":"The specified parameter PageNumber is not valid."},{"errorCode":"InvalidRecentCreationInterval.Malformed","errorMessage":"The specified parameter RecentCreationInterval is not valid."},{"errorCode":"InvalidRecentExpirationInterval.Malformed","errorMessage":"The specified parameter RecentExpirationInterval is not valid."}],"404":[{"errorCode":"DBTypeOrDBVersion.Malformed","errorMessage":"The specified DBType does not match DBVersion."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalRecordCount\\\": 16,\\n  \\\"PageRecordCount\\\": 5,\\n  \\\"RequestId\\\": \\\"9B7BFB11-C077-4FE3-B051-F69CEB******\\\",\\n  \\\"PageNumber\\\": 12,\\n  \\\"Items\\\": {\\n    \\\"DBCluster\\\": [\\n      {\\n        \\\"VpcId\\\": \\\"vpc-****************\\\",\\n        \\\"VswitchId\\\": \\\"vsw-***************\\\",\\n        \\\"ExpireTime\\\": \\\"2020-11-14T16:00:00Z\\\",\\n        \\\"Expired\\\": \\\"false\\\",\\n        \\\"DBNodeNumber\\\": 2,\\n        \\\"CreateTime\\\": \\\"2020-08-14T05:58:42Z\\\",\\n        \\\"PayType\\\": \\\"Prepaid\\\",\\n        \\\"StoragePayType\\\": \\\"Prepaid\\\",\\n        \\\"ServerlessType\\\": \\\"AgileServerless\\\",\\n        \\\"StrictConsistency\\\": \\\"ON\\\",\\n        \\\"DBNodeClass\\\": \\\"polar.mysql.x4.large\\\",\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"Key\\\": \\\"MySQL\\\",\\n              \\\"Value\\\": \\\"5.6\\\"\\n            }\\n          ]\\n        },\\n        \\\"DBType\\\": \\\"MySQL\\\",\\n        \\\"LockMode\\\": \\\"Unlock\\\",\\n        \\\"DBNodes\\\": {\\n          \\\"DBNode\\\": [\\n            {\\n              \\\"DBNodeClass\\\": \\\"polar.mysql.x4.large\\\",\\n              \\\"ZoneId\\\": \\\"cn-hangzhou-i\\\",\\n              \\\"DBNodeRole\\\": \\\"Reader\\\",\\n              \\\"DBNodeId\\\": \\\"pi-****************\\\",\\n              \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n              \\\"Serverless\\\": \\\"ON\\\",\\n              \\\"ImciSwitch\\\": \\\"OFF\\\",\\n              \\\"HotReplicaMode\\\": \\\"OFF\\\"\\n            }\\n          ]\\n        },\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"DeletionLock\\\": 0,\\n        \\\"DBVersion\\\": \\\"5.6\\\",\\n        \\\"DBClusterId\\\": \\\"pc-****************\\\",\\n        \\\"DBClusterStatus\\\": \\\"Running\\\",\\n        \\\"ResourceGroupId\\\": \\\"rg-************\\\",\\n        \\\"StorageUsed\\\": 3009413120,\\n        \\\"StorageSpace\\\": 50,\\n        \\\"DBClusterNetworkType\\\": \\\"VPC\\\",\\n        \\\"DBClusterDescription\\\": \\\"GDN-1\\\",\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-i\\\",\\n        \\\"Engine\\\": \\\"POLARDB\\\",\\n        \\\"Category\\\": \\\"Normal\\\",\\n        \\\"AiType\\\": \\\"SearchNode\\\",\\n        \\\"CpuCores\\\": \\\"1\\\",\\n        \\\"MemorySize\\\": \\\"2048\\\",\\n        \\\"RemoteMemorySize\\\": \\\"3612\\\",\\n        \\\"SubCategory\\\": \\\"Exclusive\\\",\\n        \\\"StorageType\\\": \\\"essdautopl\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBClustersResponse>\\n    <TotalRecordCount>16</TotalRecordCount>\\n    <PageRecordCount>5</PageRecordCount>\\n    <RequestId>9B7BFB11-C077-4FE3-B051-F69CEB******</RequestId>\\n    <PageNumber>12</PageNumber>\\n    <Items>\\n        <VpcId>vpc-****************</VpcId>\\n        <ExpireTime>2020-11-14T16:00:00Z</ExpireTime>\\n        <Expired>false</Expired>\\n        <DBNodeNumber>2</DBNodeNumber>\\n        <CreateTime>2020-08-14T05:58:42Z</CreateTime>\\n        <PayType>Prepaid</PayType>\\n        <StoragePayType>Prepaid</StoragePayType>\\n        <ServerlessType>AgileServerless</ServerlessType>\\n        <StrictConsistency>ON</StrictConsistency>\\n        <DBNodeClass>polar.mysql.x4.large</DBNodeClass>\\n        <Tags>\\n            <Key>MySQL</Key>\\n            <Value>5.6</Value>\\n        </Tags>\\n        <DBType>MySQL</DBType>\\n        <LockMode>Unlock</LockMode>\\n        <DBNodes>\\n            <DBNodeClass>polar.mysql.x4.large</DBNodeClass>\\n            <ZoneId>cn-hangzhou-i</ZoneId>\\n            <DBNodeRole>Reader</DBNodeRole>\\n            <DBNodeId>pi-****************</DBNodeId>\\n            <RegionId>cn-hangzhou</RegionId>\\n            <Serverless>ON</Serverless>\\n        </DBNodes>\\n        <RegionId>cn-hangzhou</RegionId>\\n        <DeletionLock>0</DeletionLock>\\n        <DBVersion>5.6</DBVersion>\\n        <DBClusterId>pc-****************</DBClusterId>\\n        <DBClusterStatus>Running</DBClusterStatus>\\n        <ResourceGroupId>rg-************</ResourceGroupId>\\n        <StorageUsed>3009413120</StorageUsed>\\n        <StorageSpace>50</StorageSpace>\\n        <DBClusterNetworkType>VPC</DBClusterNetworkType>\\n        <DBClusterDescription>GDN-1</DBClusterDescription>\\n        <ZoneId>cn-hangzhou-i</ZoneId>\\n        <Engine>POLARDB</Engine>\\n        <Category>Normal</Category>\\n    </Items>\\n</DescribeDBClustersResponse>\",\"errorExample\":\"\"}]","title":"查询集群列表","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}