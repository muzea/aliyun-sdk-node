{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n> `DBNodeId`和`DBClusterId`必选其一填入。您可以通过[DescribeDBClusters](~~98094~~)接口查看账号下所有集群的详细信息，包括集群ID。","type":"string","required":false,"example":"pc-***************"}},{"name":"DBNodeId","in":"query","schema":{"description":"节点ID。\n> `DBNodeId`和`DBClusterId`必选其一填入。您可以通过[DescribeDBClusters](~~98094~~)接口查看账号下所有集群的详细信息，包括节点ID。","type":"string","required":false,"example":"pi-***************"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为`YYYY-MM-DDThh:mmZ`（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2020-11-30T00:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，查询结束时间需晚于开始时间，格式为`YYYY-MM-DDThh:mmZ`（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2020-12-02T03:00Z"}},{"name":"Status","in":"query","schema":{"description":"任务状态，取值范围如下：\n* **Waiting**：任务等待执行中\n* **Running**：任务正在执行中\n* **Finished**：任务已完成\n* **Closed**：任务已关闭\n* **Pause**：任务已暂停\n* **Stop**：任务已中断\n\n>* 若该参数留空，仅返回当前集群或节点下所有状态为**Waiting**或**Running**的任务详情。\n>*  支持输入多个任务状态，各状态之间用逗号分割查询。","type":"string","required":false,"example":"Running"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值为**30**、**50**或**100**。\n\n默认值为**30**。 ","type":"integer","format":"int32","required":false,"example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为大于0且不超过Integer数据类型的最大值。\n\n默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalRecordCount":{"description":"总记录数。","type":"integer","format":"int32","example":"1"},"PageRecordCount":{"description":"本页记录数。","type":"integer","format":"int32","example":"30"},"Tasks":{"type":"object","properties":{"Task":{"description":"任务详情。","type":"array","items":{"type":"object","properties":{"FinishTime":{"description":"任务完成时间，格式为`YYYY-MM-DDThh:mm:ssZ`（UTC时间）。","type":"string","example":"2020-12-02T02:40:15Z"},"StepsInfo":{"description":"任务子步骤详情。","type":"string","example":"[{\\\"remain\\\":0,\\\"name\\\":\\\"init_task\\\",\\\"progress\\\":100},{\\\"remain\\\":1764,\\\"name\\\":\\\"create_instance\\\",\\\"progress\\\":0},{\\\"remain\\\":1,\\\"name\\\":\\\"init_cluster\\\",\\\"progress\\\":0},{\\\"remain\\\":2,\\\"name\\\":\\\"create_backup\\\",\\\"progress\\\":0}]"},"Progress":{"description":"任务进度百分比。","type":"integer","format":"int32","example":"100"},"ExpectedFinishTime":{"description":"预计结束时间。若无特殊情况，该参数为空。","type":"string","example":"null"},"BeginTime":{"description":"任务开始时间，格式为`YYYY-MM-DDThh:mm:ssZ`（UTC时间）。","type":"string","example":"2020-12-02T02:39:15Z"},"TaskErrorCode":{"description":"任务出错时的错误码。\n>仅当任务状态为**Stop**时返回该参数。","type":"string","example":"null"},"ProgressInfo":{"description":"任务进度的描述信息。若目标任务无进度描述信息，该参数为空。","type":"string","example":"null"},"CurrentStepName":{"description":"当前任务的子步骤名称。","type":"string","example":"create_instance"},"StepProgressInfo":{"description":"任务子步骤进度。例如`1/4`表示该任务共包含4个子步骤，当前正在执行第一步。","type":"string","example":"1/4"},"TaskErrorMessage":{"description":"任务出错时的错误信息。\n>仅当任务状态为**Stop**时返回该参数。","type":"string","example":"null"},"TaskAction":{"description":"目标任务所使用的API接口，例如`CreateDBInstance`。","type":"string","example":"CreateDBInstance"},"DBName":{"description":"数据库名称。\n>仅涉及数据库相关操作的任务会返回该参数。","type":"string","example":"test"},"Remain":{"description":"任务预计剩余时间，单位为秒。","type":"integer","format":"int32","example":"1767"},"TaskId":{"description":"目标任务ID。","type":"string","example":"111111111"}}}}}},"EndTime":{"description":"查询结束时间。","type":"string","example":"2020-12-02T03:00Z"},"RequestId":{"description":"请求ID。","type":"string","example":"4352AD99-9FF5-41A6-A319-068089******"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"StartTime":{"description":"查询开始时间。","type":"string","example":"2020-11-30T00:00Z"},"DBClusterId":{"description":"任务所对应的集群ID。","type":"string","example":"pc-***************"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidDBNodeId.Malformed","errorMessage":"The specified parameter DBNodeId is not valid."},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified parameter StartTime is not valid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The specified parameter EndTime is not valid."},{"errorCode":"InvalidPageSize.Malformed","errorMessage":"The specified parameter PageSize is not valid."},{"errorCode":"InvalidPageNumber.Malformed","errorMessage":"The specified parameter PageNumber is not valid."},{"errorCode":"InvalidStatus.Malformed","errorMessage":"The specified parameter Status is not valid."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalRecordCount\\\": 1,\\n  \\\"PageRecordCount\\\": 30,\\n  \\\"Tasks\\\": {\\n    \\\"Task\\\": [\\n      {\\n        \\\"FinishTime\\\": \\\"2020-12-02T02:40:15Z\\\",\\n        \\\"StepsInfo\\\": \\\"[{\\\\\\\\\\\\\\\"remain\\\\\\\\\\\\\\\":0,\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"init_task\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"progress\\\\\\\\\\\\\\\":100},{\\\\\\\\\\\\\\\"remain\\\\\\\\\\\\\\\":1764,\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"create_instance\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"progress\\\\\\\\\\\\\\\":0},{\\\\\\\\\\\\\\\"remain\\\\\\\\\\\\\\\":1,\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"init_cluster\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"progress\\\\\\\\\\\\\\\":0},{\\\\\\\\\\\\\\\"remain\\\\\\\\\\\\\\\":2,\\\\\\\\\\\\\\\"name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"create_backup\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"progress\\\\\\\\\\\\\\\":0}]\\\",\\n        \\\"Progress\\\": 100,\\n        \\\"ExpectedFinishTime\\\": \\\"null\\\",\\n        \\\"BeginTime\\\": \\\"2020-12-02T02:39:15Z\\\",\\n        \\\"TaskErrorCode\\\": \\\"null\\\",\\n        \\\"ProgressInfo\\\": \\\"null\\\",\\n        \\\"CurrentStepName\\\": \\\"create_instance\\\",\\n        \\\"StepProgressInfo\\\": \\\"1/4\\\",\\n        \\\"TaskErrorMessage\\\": \\\"null\\\",\\n        \\\"TaskAction\\\": \\\"CreateDBInstance\\\",\\n        \\\"DBName\\\": \\\"test\\\",\\n        \\\"Remain\\\": 1767,\\n        \\\"TaskId\\\": \\\"111111111\\\"\\n      }\\n    ]\\n  },\\n  \\\"EndTime\\\": \\\"2020-12-02T03:00Z\\\",\\n  \\\"RequestId\\\": \\\"4352AD99-9FF5-41A6-A319-068089******\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"StartTime\\\": \\\"2020-11-30T00:00Z\\\",\\n  \\\"DBClusterId\\\": \\\"pc-***************\\\"\\n}\",\"type\":\"json\"}]","title":"获取任务列表","summary":"查看通过API生成的任务（如创建集群）进度详情。","description":"* 支持查看直接使用某API（如[CreateDBCluster](~~98169~~)）生成的任务，或在PolarDB控制台使用某功能（如[创建集群](~~58769~~)）时，系统调用了对应API生成的任务进度详情。\n* 当前仅支持查看创建集群时，即调用[CreateDBCluster](~~98169~~)接口且`CreationOption`参数值不为`CreateGdnStandby`时，生成的任务进度详情。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}