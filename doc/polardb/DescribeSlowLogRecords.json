{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。\n\n> 您可以调用[DescribeRegions](~~98041~~)接口查看目标账号下的可用地域信息，包括地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。\n> 您可以调用[DescribeDBClusters](~~98094~~)接口查看目标地域下所有的集群信息，包括集群ID。","type":"string","required":true,"docRequired":true,"example":"pc-************"}},{"name":"NodeId","in":"query","schema":{"type":"string","required":false,"docRequired":false}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。格式为`YYYY-MM-DDThh:mmZ`（UTC时间）。\n\n> * 支持查看最多30天内的慢日志信息。\n> *  该参数输入的是UTC时间（即0时区），如果您的服务当前处于其他时区，请您进行时间转换。例如，当前您的服务所在时区的时间是北京时间（UTC+8时间）12:00点，如果您需要查询北京时间08:00点-12:00点的慢日志信息，那么应该输入的时间是00:00点-04:00点。","type":"string","required":true,"docRequired":true,"example":"2022-11-15T16:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，需要晚于查询开始时间，且查询开始时间与结束时间的时间间隔需在24小时之内。格式为`YYYY-MM-DDThh:mmZ`（UTC时间）。\n\n> 该参数输入的是UTC时间（即0时区），如果您的服务当前处于其他时区，请您进行时间转换。例如，当前您的服务所在时区的时间是北京时间（UTC+8时间）12:00点，如果您需要查询北京时间08:00点-12:00点的慢日志信息，那么应该输入的时间是00:00点-04:00点。","type":"string","required":true,"docRequired":true,"example":"2022-11-16T04:00Z"}},{"name":"DBName","in":"query","schema":{"description":"数据库名称。","type":"string","required":false,"example":"testdb"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值范围如下：\n* **30**\n* **50**\n* **100**\n\n默认值为**30**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"30","example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值范围为大于0且不超过Integer的最大值。\n\n默认值为**1**。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1","default":"1"}},{"name":"SQLHASH","in":"query","schema":{"description":"慢日志统计里的SQL语句唯一标识符，可用于获取该SQL语句的慢日志明细。","type":"string","required":false,"example":"U2FsdGVk****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalRecordCount":{"description":"总SQL语句个数。","type":"integer","format":"int32","example":"1"},"PageRecordCount":{"description":"本页记录数。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"A7E6A8FD-C50B-46B2-BA85-D8B8D3******"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"DBClusterId":{"description":"集群ID。","type":"string","example":"pc-*****************"},"Items":{"type":"object","properties":{"SQLSlowRecord":{"description":"慢日志明细列表。","type":"array","items":{"type":"object","properties":{"ExecutionStartTime":{"description":"SQL开始执行的时间。格式为`YYYY-MM-DDThh:mmZ`（UTC时间）。","type":"string","example":"2021-04-07T03:47Z"},"HostAddress":{"description":"连接数据库的客户端地址。","type":"string","example":"testdb[testdb] @  [100.**.**.242]"},"QueryTimes":{"description":"SQL执行时长，单位为秒。","type":"integer","format":"int64","example":"20"},"SQLText":{"description":"查询语句。","type":"string","example":"/* Query from *** by user 111 */ SELECT sleep(20)"},"ReturnRowCounts":{"description":"返回行数。","type":"integer","format":"int64","example":"0"},"ParseRowCounts":{"description":"解析行数。","type":"integer","format":"int64","example":"0"},"DBName":{"description":"数据库名称。","type":"string","example":"testdb"},"LockTimes":{"description":"SQL锁定时长，单位为秒。","type":"integer","format":"int64","example":"0"},"DBNodeId":{"description":"节点ID。","type":"string","example":"pi-*****************"},"QueryTimeMS":{"description":"查询时间。单位毫秒。","type":"integer","format":"int64","example":"100"}}}}}},"Engine":{"description":"数据库引擎。","type":"string","example":"polardb_mysql"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified parameter StartTime is not valid."}],"404":[{"errorCode":"InvalidDBClusterId.NotFound","errorMessage":"The DBInstanceId provided does not exist in our records."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalRecordCount\\\": 1,\\n  \\\"PageRecordCount\\\": 1,\\n  \\\"RequestId\\\": \\\"A7E6A8FD-C50B-46B2-BA85-D8B8D3******\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"DBClusterId\\\": \\\"pc-*****************\\\",\\n  \\\"Items\\\": {\\n    \\\"SQLSlowRecord\\\": [\\n      {\\n        \\\"ExecutionStartTime\\\": \\\"2021-04-07T03:47Z\\\",\\n        \\\"HostAddress\\\": \\\"testdb[testdb] @  [100.**.**.242]\\\",\\n        \\\"QueryTimes\\\": 20,\\n        \\\"SQLText\\\": \\\"/* Query from *** by user 111 */ SELECT sleep(20)\\\",\\n        \\\"ReturnRowCounts\\\": 0,\\n        \\\"ParseRowCounts\\\": 0,\\n        \\\"DBName\\\": \\\"testdb\\\",\\n        \\\"LockTimes\\\": 0,\\n        \\\"DBNodeId\\\": \\\"pi-*****************\\\",\\n        \\\"QueryTimeMS\\\": 100\\n      }\\n    ]\\n  },\\n  \\\"Engine\\\": \\\"polardb_mysql\\\"\\n}\",\"type\":\"json\"}]","title":"查看慢日志明细","summary":"查看PolarDB集群的慢日志明细。","description":">- 仅PolarDB MySQL版集群支持调用该接口。\n>- 自2023年12月13日起，由于慢SQL的模板化算法优化，调用本接口时，SQLHASH字段的值将发生变更。详情请参见[【通知】慢SQL的模板化算法优化](~~2637024~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}