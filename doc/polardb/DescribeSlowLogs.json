{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。","type":"string","required":true,"docRequired":true,"example":"pc-****************"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始日期，格式：yyyy-MM-ddZ（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2021-05-01Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束日期，不能小于查询开始日期，与查询开始日期间隔不超过31天。格式：yyyy-MM-ddZ（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2021-05-30Z"}},{"name":"DBName","in":"query","schema":{"description":"数据库名称。","type":"string","required":false,"example":"PolarDB_MySQL"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：30~100。默认值：30。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"30","example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值：大于0且不超过Integer的最大值。\n\n默认值：1。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1","default":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalRecordCount":{"description":"总记录数。","type":"integer","format":"int32","example":"5"},"PageRecordCount":{"description":"本页SQL语句个数。","type":"integer","format":"int32","example":"6"},"EndTime":{"description":"查询结束日期。","type":"string","example":"2021-05-30Z"},"RequestId":{"description":"请求ID。","type":"string","example":"2553A660-E4EB-4AF4-A402-8AFF70A49143"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"3"},"StartTime":{"description":"查询开始日期。","type":"string","example":"2021-05-01Z"},"DBClusterId":{"description":"集群ID。","type":"string","example":"pc-****************"},"Items":{"type":"object","properties":{"SQLSlowLog":{"description":"慢日志信息列表。","type":"array","items":{"type":"object","properties":{"SQLText":{"description":"SQL语句。","type":"string","example":"select id,name from tb_table"},"ReturnMaxRowCount":{"description":"返回的SQL行数（最大值）。","type":"integer","format":"int64","example":"3"},"CreateTime":{"description":"数据生成日期。","type":"string","example":"2021-05-30Z"},"MaxExecutionTime":{"description":"执行时长（最大值），单位：秒。","type":"integer","format":"int64","example":"60"},"ParseTotalRowCounts":{"description":"解析的SQL行数（总值）。","type":"integer","format":"int64","example":"2"},"TotalLockTimes":{"description":"锁定时长（总值），单位：秒。","type":"integer","format":"int64","example":"1"},"TotalExecutionTimes":{"description":"执行时长（总值），单位：秒。","type":"integer","format":"int64","example":"2"},"DBNodeId":{"description":"节点ID。","type":"string","example":"pi-***************"},"SQLHASH":{"description":"慢日志统计里的SQL语句唯一标识符，可用于获取该SQL语句的慢日志明细。","type":"string","example":"U2FsdGVkxxxx"},"ParseMaxRowCount":{"description":"解析的SQL行数（最大值）。","type":"integer","format":"int64","example":"1"},"MaxLockTime":{"description":"锁定时长（最大值），单位：秒。","type":"integer","format":"int64","example":"1"},"ReturnTotalRowCounts":{"description":"返回的SQL行数（总值）。","type":"integer","format":"int64","example":"1"},"DBName":{"description":"数据库名称。","type":"string","example":"PolarDB_MySQL"},"TotalExecutionCounts":{"description":"执行次数（总值）。","type":"integer","format":"int64","example":"2"}}}}}},"Engine":{"description":"数据库引擎。","type":"string","example":"polardb_mysql"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The specified parameter StartTime is not valid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalRecordCount\\\": 5,\\n  \\\"PageRecordCount\\\": 6,\\n  \\\"EndTime\\\": \\\"2021-05-30Z\\\",\\n  \\\"RequestId\\\": \\\"2553A660-E4EB-4AF4-A402-8AFF70A49143\\\",\\n  \\\"PageNumber\\\": 3,\\n  \\\"StartTime\\\": \\\"2021-05-01Z\\\",\\n  \\\"DBClusterId\\\": \\\"pc-****************\\\",\\n  \\\"Items\\\": {\\n    \\\"SQLSlowLog\\\": [\\n      {\\n        \\\"SQLText\\\": \\\"select id,name from tb_table\\\",\\n        \\\"ReturnMaxRowCount\\\": 3,\\n        \\\"CreateTime\\\": \\\"2021-05-30Z\\\",\\n        \\\"MaxExecutionTime\\\": 60,\\n        \\\"ParseTotalRowCounts\\\": 2,\\n        \\\"TotalLockTimes\\\": 1,\\n        \\\"TotalExecutionTimes\\\": 2,\\n        \\\"DBNodeId\\\": \\\"pi-***************\\\",\\n        \\\"SQLHASH\\\": \\\"U2FsdGVkxxxx\\\",\\n        \\\"ParseMaxRowCount\\\": 1,\\n        \\\"MaxLockTime\\\": 1,\\n        \\\"ReturnTotalRowCounts\\\": 1,\\n        \\\"DBName\\\": \\\"PolarDB_MySQL\\\",\\n        \\\"TotalExecutionCounts\\\": 2\\n      }\\n    ]\\n  },\\n  \\\"Engine\\\": \\\"polardb_mysql\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSlowLogsResponse>\\n    <TotalRecordCount>5</TotalRecordCount>\\n    <PageRecordCount>6</PageRecordCount>\\n    <EndTime>2021-05-30Z</EndTime>\\n    <RequestId>2553A660-E4EB-4AF4-A402-8AFF70A49143</RequestId>\\n    <PageNumber>3</PageNumber>\\n    <StartTime>2021-05-01Z</StartTime>\\n    <DBClusterId>pc-****************</DBClusterId>\\n    <Items>\\n        <SQLText>select id,name from tb_table</SQLText>\\n        <ReturnMaxRowCount>3</ReturnMaxRowCount>\\n        <CreateTime>2021-05-30Z</CreateTime>\\n        <MaxExecutionTime>60</MaxExecutionTime>\\n        <ParseTotalRowCounts>2</ParseTotalRowCounts>\\n        <TotalLockTimes>1</TotalLockTimes>\\n        <TotalExecutionTimes>2</TotalExecutionTimes>\\n        <DBNodeId>pi-***************</DBNodeId>\\n        <SQLHASH>U2FsdGVkxxxx</SQLHASH>\\n        <ParseMaxRowCount>1</ParseMaxRowCount>\\n        <MaxLockTime>1</MaxLockTime>\\n        <ReturnTotalRowCounts>1</ReturnTotalRowCounts>\\n        <DBName>PolarDB_MySQL</DBName>\\n        <TotalExecutionCounts>2</TotalExecutionCounts>\\n    </Items>\\n    <Engine>polardb_mysql</Engine>\\n</DescribeSlowLogsResponse>\",\"errorExample\":\"\"}]","title":"查询PolarDB集群的慢日志统计信息","summary":"查询PolarDB集群的慢日志统计信息。","description":">-  仅PolarDB MySQL版支持该接口。\n>- 自2023年12月13日起，由于慢SQL的模板化算法优化，调用本接口时，SQLHASH字段的值将发生变更。详情请参见[【通知】慢SQL的模板化算法优化](~~2637024~~)。"}