{"summary":"创建代码库Webhook。","path":"/repository/{repositoryId}/webhooks/create","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"description":"企业标识，也称企业ID，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"docRequired":true,"example":"60de7a6852743a5162b5f957"}},{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段\n\n","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryId","in":"path","schema":{"description":"代码库ID","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"9223372036854775807","minimum":"0","example":"2835387","isFileTransferUrl":false}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"url":{"title":"hook url","description":"Webhook链接URL","type":"string","required":true,"example":"https://xxxxx"},"pushEvents":{"title":"分支推送事件","description":"是否订阅分支推送事件\n可选值：true / false","type":"boolean","required":false,"example":"true"},"mergeRequestsEvents":{"title":"合并请求事件","description":"是否订阅合并请求事件\n可选值：true / false","type":"boolean","required":false,"example":"true"},"tagPushEvents":{"title":"标签推送事件","description":"是否订阅标签推送事件\n可选值：true / false","type":"boolean","required":false,"example":"false"},"noteEvents":{"title":"评论事件","description":"是否订阅评论事件\n可选值：true / false","type":"boolean","required":false,"example":"false"},"enableSslVerification":{"title":"使用ssl认证","description":"使用SSL认证\n可选值：true / false","type":"boolean","required":false,"example":"false"},"description":{"title":"webhook描述","description":"webhook描述","type":"string","required":false,"example":"线下测试"},"secretToken":{"title":"","description":"用于验证身份的Token，用户自定义","type":"string","required":false,"example":"xxxx"}},"required":true}}],"responses":{"200":{"schema":{"description":"Schema of Response","type":"object","properties":{"errorMessage":{"description":"错误信息","type":"string","example":"“”"},"requestId":{"description":"请求ID","type":"string","example":"6177543A-8D54-5736-A93B-E0195A1512CB"},"errorCode":{"description":"错误码","type":"string","example":"SYSTEM_NOT_FOUND_ERROR"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"result":{"description":"结果。","type":"object","properties":{"pushEvents":{"description":"是否订阅分支推送事件\n可选值：true / false","type":"boolean","example":"true"},"repositoryId":{"description":"代码库ID","type":"integer","format":"int64","example":"2835387"},"createdAt":{"description":"创建时间","type":"string","example":"2022-03-12 12:00:00"},"url":{"description":"webhook链接URL","type":"string","example":"https://xxxxx"},"tagPushEvents":{"description":"是否订阅标签推送事件\n可选值：true / false","type":"boolean","example":"true"},"lastTestResult":{"description":"最后执行结果\n可选值：ok / error / \"\"（空字符串）","type":"string","example":"ok"},"description":{"description":"描述信息","type":"string","example":"线下测试"},"mergeRequestsEvents":{"description":"是否订阅合并请求事件\n可选值：true / false","type":"boolean","example":"true"},"secretToken":{"description":"用于验证身份的token，用户自定义","type":"string","example":"xxxx"},"noteEvents":{"description":"是否订阅评论事件\n可选值：true / false","type":"boolean","example":"false"},"id":{"description":"webhook唯一标识","type":"integer","format":"int64","example":"30815"},"enableSslVerification":{"description":"是否使用SSL认证\n可选值：true / false","type":"boolean","example":"false"}}}}}}},"errorCodes":{"500":[{"errorCode":"SystemError.UnKnownError","errorMessage":"An error occurred while processing your request."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"errorMessage\\\": \\\"“”\\\",\\n  \\\"requestId\\\": \\\"6177543A-8D54-5736-A93B-E0195A1512CB\\\",\\n  \\\"errorCode\\\": \\\"SYSTEM_NOT_FOUND_ERROR\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"pushEvents\\\": true,\\n    \\\"repositoryId\\\": 2835387,\\n    \\\"createdAt\\\": \\\"2022-03-12 12:00:00\\\",\\n    \\\"url\\\": \\\"https://xxxxx\\\",\\n    \\\"tagPushEvents\\\": true,\\n    \\\"lastTestResult\\\": \\\"ok\\\",\\n    \\\"description\\\": \\\"线下测试\\\",\\n    \\\"mergeRequestsEvents\\\": true,\\n    \\\"secretToken\\\": \\\"xxxx\\\",\\n    \\\"noteEvents\\\": false,\\n    \\\"id\\\": 30815,\\n    \\\"enableSslVerification\\\": false\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddWebhookResponse>\\n    <errorMessage>“”</errorMessage>\\n    <requestId>6177543A-8D54-5736-A93B-E0195A1512CB</requestId>\\n    <errorCode>SYSTEM_NOT_FOUND_ERROR</errorCode>\\n    <success>true</success>\\n    <result>\\n        <pushEvents>true</pushEvents>\\n        <repositoryId>2835387</repositoryId>\\n        <createdAt>2022-03-12 12:00:00</createdAt>\\n        <url>https://xxxxx</url>\\n        <tagPushEvents>true</tagPushEvents>\\n        <lastTestResult>ok</lastTestResult>\\n        <description>线下测试</description>\\n        <mergeRequestsEvents>true</mergeRequestsEvents>\\n        <secretToken>xxxx</secretToken>\\n        <noteEvents>false</noteEvents>\\n        <id>30815</id>\\n        <enableSslVerification>false</enableSslVerification>\\n    </result>\\n</AddWebhookResponse>\",\"errorExample\":\"\"}]","title":"创建代码库Webhook"}