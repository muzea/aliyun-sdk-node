{"summary":"根据查询条件搜索代码仓库数据。","path":"/search/repo","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"61e54b0e0bb300d827e1ae27"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"keyword":{"description":"搜索关键字","type":"string","required":true,"example":"test"},"aliyunPk":{"description":"创建人的阿里云账号ID，仅支持单人筛选","type":"string","required":false,"example":"1840004904455497"},"visibilityLevel":{"description":"代码库的可见性\n- 0：私有\n- 10：企业可见","type":"integer","format":"int32","required":false,"example":"0"},"page":{"description":"页码 \n默认值为1，从第1页开始","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"description":"每页大小\n默认值为20，取值范围【1,100】","type":"integer","format":"int32","required":false,"example":"10"},"sort":{"description":"排序方式，默认为desc\n- desc：降序\n- asc：升序","type":"string","required":false,"example":"desc"},"order":{"description":"排序字段，默认为default\n- default：默认排序，即综合排序\n- created_at：创建时间\n- updated_at：更新时间\n- star：收藏数\n- like：点赞数\n- comment：评论数\n- reply：回复数","type":"string","required":false,"example":"default"},"scope":{"description":"搜索范围，默认为all\n- all：全局范围，公开库以及有权限的private库\n- mine：只作为库或组成员，并且有读权限","type":"string","required":false,"example":"all"},"repoPath":{"description":"代码仓库查询条件","type":"object","properties":{"value":{"description":"代码库的全路径，例如：organization/group/repo\n> 若有多个代码库全路径，使用英文逗号\",\"隔开","type":"string","required":false,"example":"orgId/test-group/spring-boot-demo"},"operatorType":{"description":"查询条件类型\n- equal：等于\n- unequal：不等于\n- and：与\n- or：或\n- not：非","type":"string","required":false,"example":"equal"},"matchType":{"description":"查询匹配类型\n- term：精确匹配\n- regex：正则匹配\n- phrase：短语匹配，默认方式\n- wildcard：模糊匹配","type":"string","required":false,"example":"term"}},"required":false}},"required":true}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"F7B85D1B-D1C2-140F-A039-341859F130B9"},"errorCode":{"description":"错误码","type":"string","example":"Openapi.RequestError"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"success":{"description":"请求是否成功","type":"boolean","example":"true"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"30"},"result":{"description":"返回列表","type":"array","items":{"description":"返回的仓库数据","type":"object","properties":{"docId":{"description":"文档ID","type":"string","example":"\t\n60d54f3daccf2bbd6659f3ad/gitlabhq/master/config/environments/test.rb"},"highlightTextMap":{"description":"高亮文本信息","type":"object","properties":{"organizationId":{"description":"高亮企业ID","type":"string","example":"60de7a6852743a5162b5f957"},"creatorUserId":{"description":"创建人的userId，此处为用户的云效ID","type":"string","example":"xxx"},"repoPath":{"description":"代码库完整路径（含完整组路径）","type":"string","example":"codeup/test-repo"},"repoNameWithNamespace":{"description":"代码库完整名称（带完整组名称）","type":"string","example":"codeup/test-repo"},"readMe":{"description":"readme文件高亮信息","type":"string","example":"xx"},"description":{"description":"代码库描述","type":"string","example":"描述内容"}}},"source":{"description":"ES返回的源信息","type":"object","properties":{"repoName":{"description":"代码库名称","type":"string","example":"test-repo"},"repoPath":{"description":"代码库完整路径（含完整组路径）","type":"string","example":"codeup/test-repo"},"description":{"description":"代码库描述信息","type":"string","example":"描述内容"},"visibilityLevel":{"description":"可见性\n- 0：私有，仅代码库成员可见\n- 10：企业内公开，企业成员可见","type":"integer","format":"int32","example":"0"},"createTime":{"description":"创建时间","type":"string","example":"2022-10-10 10:10:10"},"lastActivityTime":{"description":"最近一次活跃的时间","type":"string","example":"2022-11-11 11:11:11"},"readMe":{"description":"readme文件的内容","type":"string","example":"xxx"},"organizationId":{"description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","example":"62a94a8611fc0f0c9e2a7bc1"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.AccessDenied","errorMessage":"The user is not authorized to perform the operation."},{"errorCode":"Forbidden.UserNotInCurrentOrganization","errorMessage":"The user is not in the organization and is not authorized to perform the operation."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"F7B85D1B-D1C2-140F-A039-341859F130B9\\\",\\n  \\\"errorCode\\\": \\\"Openapi.RequestError\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"success\\\": true,\\n  \\\"total\\\": 30,\\n  \\\"result\\\": [\\n    {\\n      \\\"docId\\\": \\\"\\\\t\\\\n60d54f3daccf2bbd6659f3ad/gitlabhq/master/config/environments/test.rb\\\",\\n      \\\"highlightTextMap\\\": {\\n        \\\"organizationId\\\": \\\"60de7a6852743a5162b5f957\\\",\\n        \\\"creatorUserId\\\": \\\"xxx\\\",\\n        \\\"repoPath\\\": \\\"codeup/test-repo\\\",\\n        \\\"repoNameWithNamespace\\\": \\\"codeup/test-repo\\\",\\n        \\\"readMe\\\": \\\"xx\\\",\\n        \\\"description\\\": \\\"描述内容\\\"\\n      },\\n      \\\"source\\\": {\\n        \\\"repoName\\\": \\\"test-repo\\\",\\n        \\\"repoPath\\\": \\\"codeup/test-repo\\\",\\n        \\\"description\\\": \\\"描述内容\\\",\\n        \\\"visibilityLevel\\\": 0,\\n        \\\"createTime\\\": \\\"2022-10-10 10:10:10\\\",\\n        \\\"lastActivityTime\\\": \\\"2022-11-11 11:11:11\\\",\\n        \\\"readMe\\\": \\\"xxx\\\",\\n        \\\"organizationId\\\": \\\"62a94a8611fc0f0c9e2a7bc1\\\"\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"搜索代码仓库数据"}