{"summary":"给指定的Commit添加一条提交状态记录。","path":"/api/v4/projects/repository/commit_statuses/create_commit_status","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"5ebbc0228123212b59xxxxx"}},{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryIdentity","in":"query","schema":{"description":"代码库ID或者全路径","type":"string","required":true,"example":"2080972"}},{"name":"sha","in":"query","schema":{"description":"仅支持提交ID，即Commit SHA","type":"string","required":true,"example":"e0c1a1299a2656bfc155650bbd2df5e628fa1f4c"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"state":{"description":"写入状态，且仅能填入以下四个字符串，否则会返回错误。\n- error：异常\n- failure：失败\n- pending：运行中\n- success：成功","type":"string","required":true,"example":"success"},"description":{"description":"提交状态的简要描述，且不能超过3000个字符","type":"string","required":false,"example":"提交状态描述内容"},"targetUrl":{"description":"用户自行写入的跳转链接，代码平台仅提供跳转的UI，一般可设置为三方系统的链接","type":"string","required":false,"example":"xxx"},"context":{"description":"用于区分不同系统写入的字符串标识，会以标题的作用在相应的页面UI处进行展示，默认为default，长度不超过50，且英文大小写不敏感\n\n> 该参数在设置卡点和合并请求联动中非常重要，若非测试调试，切勿随意设置。","type":"string","required":false,"example":"default"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"020F71F3-F063-5B8B-8978-2B01833216BB"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"errorCode":{"description":"错误码","type":"string","example":"SYSTEM_UNKNOWN_ERROR"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"result":{"description":"返回结果","type":"object","properties":{"id":{"description":"ID（无业务实际意义）","type":"integer","format":"int64","example":"30815"},"sha":{"description":"提交ID，即Commit SHA","type":"string","example":"c0ca103441b9fa7f369be8d24a6f20db44dfddf7"},"context":{"description":"用于区分不同系统写入的字符串标识，会以标题的作用在相应的页面UI处进行展示，默认为default，长度不超过50，且英文大小写不敏感","type":"string","example":"default"},"state":{"description":"写入状态\n- error：异常\n- failure：失败\n- pending：运行中\n- success：成功","type":"string","example":"success"},"targetUrl":{"description":"用户自行写入的跳转链接，代码平台仅提供跳转的UI，一般可设置为三方系统的链接","type":"string","example":"xxx"},"description":{"description":"提交状态的简要描述，且不能超过3000个字符","type":"string","example":"提交状态描述内容"},"creator":{"description":"提交状态的写入人简要信息","type":"object","properties":{"aliyunPk":{"description":"阿里云账号ID，若type=Bot时，则为空","type":"integer","format":"int64","example":"204485087002425236"},"login":{"description":"若type=User，则为用户名；若type=Bot，则为应用名","type":"string","example":"codeup"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"type":{"description":"写入人类型\n- User：普通用户类型\n- Bot：应用类型","type":"string","example":"User"}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"020F71F3-F063-5B8B-8978-2B01833216BB\\\",\\n  \\\"success\\\": true,\\n  \\\"errorCode\\\": \\\"SYSTEM_UNKNOWN_ERROR\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"result\\\": {\\n    \\\"id\\\": 30815,\\n    \\\"sha\\\": \\\"c0ca103441b9fa7f369be8d24a6f20db44dfddf7\\\",\\n    \\\"context\\\": \\\"default\\\",\\n    \\\"state\\\": \\\"success\\\",\\n    \\\"targetUrl\\\": \\\"xxx\\\",\\n    \\\"description\\\": \\\"提交状态描述内容\\\",\\n    \\\"creator\\\": {\\n      \\\"aliyunPk\\\": 204485087002425250,\\n      \\\"login\\\": \\\"codeup\\\",\\n      \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n      \\\"type\\\": \\\"User\\\"\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"添加提交状态记录","description":"根据Commit SHA和Context作为组合条件，限制单库的提交状态记录不超过1000条，否则会报错。"}