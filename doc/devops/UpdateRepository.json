{"summary":"更新代码库基本信息、常用设置。","path":"/repository/{repositoryId}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"60de7a6852743a5162b5f957"}},{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。 \n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段\n\n","type":"string","required":false,"example":"c3c09f1230187a879678da43c973d069"}},{"name":"repositoryId","in":"path","schema":{"description":"代码库ID","type":"integer","format":"int64","required":true,"example":"2080398"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"id":{"description":"代码库ID","type":"integer","format":"int64","required":false,"example":"2080398"},"name":{"description":"代码库名称","type":"string","required":false,"example":"codeup"},"path":{"description":"代码库路径","type":"string","required":false,"example":"codeup-demo"},"description":{"description":"代码库描述","type":"string","required":false,"example":"codeup描述信息"},"defaultBranch":{"description":"默认分支","type":"string","required":false,"example":"master"},"issuesEnabled":{"description":"是否开启issues\n可选值：true / false","type":"boolean","required":false,"example":"true"},"mergeRequestsEnabled":{"description":"是否开启代码合并\n可选值：true / false","type":"boolean","required":false,"example":"true"},"buildsEnabled":{"description":"是否开启构建\n可选值：true / false","type":"boolean","required":false,"example":"true"},"wikiEnabled":{"description":"是否开启wiki\n可选值：true / false","type":"boolean","required":false,"example":"true"},"snippetsEnabled":{"description":"是否开启snippets","type":"boolean","required":false,"example":"false"},"visibilityLevel":{"description":"代码仓库可见性\n0：私有，仅代码库成员可见\n10：企业内公开，企业成员可见\n\n","type":"integer","format":"int32","required":false,"example":"0"},"checkEmail":{"description":"是否检查邮箱\n可选值：true / false","type":"boolean","required":false,"example":"true"},"avatar":{"description":"头像地址","type":"string","required":false,"example":"https://xxxx"},"openCloneDownloadControl":{"description":"是否开启克隆下载控制\n可选值：true / false","type":"boolean","required":false,"example":"false"},"projectCloneDownloadRoleList":{"description":"被允许的拉取代码角色列表","type":"array","items":{"description":"角色","type":"object","properties":{"roleCode":{"description":"角色代码\n15：空间成员\n60：空间管理员\n70：空间拥有者","type":"integer","format":"int32","required":false,"example":"15"},"allowed":{"description":"是否允许\n可选值：true / false","type":"boolean","required":false,"example":"true"}},"required":false},"required":false},"projectCloneDownloadMethodList":{"description":"被允许的拉取代码方法列表","type":"array","items":{"description":"允许拉取代码的方法","type":"object","properties":{"permissionCode":{"description":"clone下载权限码\n`project:ssh-clone` ：允许ssh clone\n`project:http-clone`：允许http clone\n`project:download`：允许下载\n","type":"string","required":false,"example":"project:download"},"allowed":{"description":"是否允许\n可选值：true / false","type":"boolean","required":false,"example":"true"}},"required":false},"required":false},"adminSettingLanguage":{"description":"仓库主要编程语言（需管理员权限）","type":"string","required":false,"example":"Java"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"EAE03103-5497-58D1-9169-E524DDE8604C"},"errorMessage":{"description":"错误信息","type":"string","example":"“”"},"errorCode":{"description":"错误码","type":"string","example":"SYSTEM_UNKNOWN_ERROR\n"},"success":{"description":"\t\n调用是否成功\n\n","type":"boolean","example":"true"},"result":{"description":"返回结果","type":"object","properties":{"id":{"description":"代码库ID","type":"integer","format":"int64","example":"2825387"},"name":{"description":"代码库名称","type":"string","example":"codeup"},"nameWithNamespace":{"description":"代码库完整名称（含完整组名称）","type":"string","example":"codeup-test-org / codeup（斜杠两侧有空格）"},"path":{"description":"代码库路径","type":"string","example":"codeup"},"pathWithNamespace":{"description":"代码库完整路径（含完整组路径）","type":"string","example":"codeup-test-org / codeup"},"description":{"description":"代码库描述","type":"string","example":"codeup代码库描述"},"defaultBranch":{"description":"默认分支","type":"string","example":"master"},"visibilityLevel":{"description":"可见性\n0：私有，仅代码库成员可见\n10：企业内公开，企业成员可见","type":"integer","format":"int32","example":"0"},"sshUrlToRepo":{"description":"代码库的SSH克隆地址","type":"string","example":"git@codeup.aliyun.com:xxx/test/test.git\n"},"httpUrlToRepo":{"description":"代码库的HTTP克隆地址","type":"string","example":"https://codeup.aliyun.com/xxx/test/test.git\n"},"webUrl":{"description":"代码库的页面访问地址\n","type":"string","example":"https://codeup.aliyun.com/xxx/test/test\n"},"issuesEnabled":{"description":"是否开启issues\n可选值：true / false","type":"boolean","example":"true"},"mergeRequestsEnabled":{"description":"是否开启合并请求\n可选值：true / false","type":"boolean","example":"true"},"buildsEnabled":{"description":"是否开启构建\n可选值：true / false","type":"boolean","example":"false"},"wikiEnabled":{"description":"是否开启wiki\n可选值：true / false","type":"boolean","example":"true"},"snippetsEnabled":{"description":"是否开启snippets\n可选值：true / false","type":"boolean","example":"false"},"createdAt":{"description":"创建时间","type":"string","example":"2022-03-18 14:24:54"},"lastActivityAt":{"description":"最后活跃时间","type":"string","example":"2022-03-20 14:24:54"},"creatorId":{"description":"创建者ID","type":"integer","format":"int64","example":"19238"},"namespace":{"description":"代码库所属组或企业空间信息","type":"object","properties":{"id":{"description":"组或企业空间ID","type":"integer","format":"int64","example":"29322"},"name":{"description":"组或企业空间名称","type":"string","example":"codeup"},"path":{"description":"组或企业路径（判断父路径是组还是企业）","type":"string","example":"地址：https://codeup.aliyun.com/60d54f3daccf2bbd6659f3ad/blank923/repo-test\n组路径：blank923\n企业路径：60d54f3daccf2bbd6659f3ad"},"ownerId":{"description":"组或企业空间的拥有者ID","type":"integer","format":"int64","example":"19238"},"createdAt":{"description":"创建时间","type":"string","example":"2022-02-18 14:24:54"},"updatedAt":{"description":"更新时间","type":"string","example":"2022-03-18 14:24:54"},"description":{"description":"描述","type":"string","example":"组或企业空间的描述信息"},"avatar":{"description":"空间的头像地址","type":"string","example":"https://xxx"},"visibilityLevel":{"description":"代码仓库可见性\n0：私有\n10：企业内公开，企业成员可见\n\n","type":"integer","format":"int32","example":"0"}}},"archived":{"description":"归档标识","type":"boolean","example":"false"},"avatarUrl":{"description":"代码库的头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"}}}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.AccessDenied","errorMessage":"The user is not authorized to perform the operation."},{"errorCode":"Forbidden.UserNotAdminOrOwner","errorMessage":"The current user is not an admin or owner in the organization and is not authorized to perform the operation."},{"errorCode":"Forbidden.UserNotInCurrentOrganization","errorMessage":"The user is not in the organization and is not authorized to perform the operation."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"EAE03103-5497-58D1-9169-E524DDE8604C\\\",\\n  \\\"errorMessage\\\": \\\"“”\\\",\\n  \\\"errorCode\\\": \\\"SYSTEM_UNKNOWN_ERROR\\\\n\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"id\\\": 2825387,\\n    \\\"name\\\": \\\"codeup\\\",\\n    \\\"nameWithNamespace\\\": \\\"codeup-test-org / codeup（斜杠两侧有空格）\\\",\\n    \\\"path\\\": \\\"codeup\\\",\\n    \\\"pathWithNamespace\\\": \\\"codeup-test-org / codeup\\\",\\n    \\\"description\\\": \\\"codeup代码库描述\\\",\\n    \\\"defaultBranch\\\": \\\"master\\\",\\n    \\\"visibilityLevel\\\": 0,\\n    \\\"sshUrlToRepo\\\": \\\"git@codeup.aliyun.com:xxx/test/test.git\\\\n\\\",\\n    \\\"httpUrlToRepo\\\": \\\"https://codeup.aliyun.com/xxx/test/test.git\\\\n\\\",\\n    \\\"webUrl\\\": \\\"https://codeup.aliyun.com/xxx/test/test\\\\n\\\",\\n    \\\"issuesEnabled\\\": true,\\n    \\\"mergeRequestsEnabled\\\": true,\\n    \\\"buildsEnabled\\\": false,\\n    \\\"wikiEnabled\\\": true,\\n    \\\"snippetsEnabled\\\": false,\\n    \\\"createdAt\\\": \\\"2022-03-18 14:24:54\\\",\\n    \\\"lastActivityAt\\\": \\\"2022-03-20 14:24:54\\\",\\n    \\\"creatorId\\\": 19238,\\n    \\\"namespace\\\": {\\n      \\\"id\\\": 29322,\\n      \\\"name\\\": \\\"codeup\\\",\\n      \\\"path\\\": \\\"地址：https://codeup.aliyun.com/60d54f3daccf2bbd6659f3ad/blank923/repo-test\\\\n组路径：blank923\\\\n企业路径：60d54f3daccf2bbd6659f3ad\\\",\\n      \\\"ownerId\\\": 19238,\\n      \\\"createdAt\\\": \\\"2022-02-18 14:24:54\\\",\\n      \\\"updatedAt\\\": \\\"2022-03-18 14:24:54\\\",\\n      \\\"description\\\": \\\"组或企业空间的描述信息\\\",\\n      \\\"avatar\\\": \\\"https://xxx\\\",\\n      \\\"visibilityLevel\\\": 0\\n    },\\n    \\\"archived\\\": false,\\n    \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"更新代码库"}