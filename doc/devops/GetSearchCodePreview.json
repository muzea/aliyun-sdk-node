{"summary":"根据文档ID和关键字获取到预览代码片段。","path":"/search/code_preview","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"627475075b46541dd2ff01bc"}},{"name":"docId","in":"query","schema":{"description":"文档ID","type":"string","required":true,"example":"60d54f3daccf2bbd6659f3ad/gitlabhq/master/config/environments/test.rb"}},{"name":"keyword","in":"query","schema":{"description":"搜索关键字","type":"string","required":true,"example":"test"}},{"name":"isDsl","in":"query","schema":{"description":"是否是DSL搜索","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"A7586FEB-E48D-5579-983F-74981FBFF627"},"errorCode":{"description":"错误码","type":"string","example":"SYSTEM_UNKNOWN_ERROR"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"success":{"description":"\t\n调用是否成功\n\n","type":"boolean","example":"true"},"result":{"description":"ES的搜索结果","type":"object","properties":{"docId":{"description":"文档ID","type":"string","example":"xxx"},"highlightTextMap":{"description":"高亮文本信息","type":"object","properties":{"organizationId":{"description":"云效企业ID","type":"string","example":"5ffd468b1e45db3c1cc26ad6"},"fileName":{"description":"高亮文件名","type":"string","example":"test.rb"},"clob":{"description":"命中的文件内容中的某个片段","type":"string","example":"xxx"}}},"source":{"description":"ES返回的源信息","type":"object","properties":{"repoPath":{"description":"代码库完整路径（含完整组路径）","type":"string","example":"codeup/test-repo"},"fileName":{"description":"文件名称","type":"string","example":"test.rb"},"filePath":{"description":"文件完整路径","type":"string","example":"config/environments/test.rb"},"language":{"description":"编程语言","type":"string","example":"Ruby"},"checkinDate":{"description":"最近一次commit时间","type":"string","example":"2022-12-12 12:12:12"},"branch":{"description":"分支名称","type":"string","example":"master"},"organizationId":{"description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","example":"5f9f9f6122a8c7ff3934f99a"}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"A7586FEB-E48D-5579-983F-74981FBFF627\\\",\\n  \\\"errorCode\\\": \\\"SYSTEM_UNKNOWN_ERROR\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"docId\\\": \\\"xxx\\\",\\n    \\\"highlightTextMap\\\": {\\n      \\\"organizationId\\\": \\\"5ffd468b1e45db3c1cc26ad6\\\",\\n      \\\"fileName\\\": \\\"test.rb\\\",\\n      \\\"clob\\\": \\\"xxx\\\"\\n    },\\n    \\\"source\\\": {\\n      \\\"repoPath\\\": \\\"codeup/test-repo\\\",\\n      \\\"fileName\\\": \\\"test.rb\\\",\\n      \\\"filePath\\\": \\\"config/environments/test.rb\\\",\\n      \\\"language\\\": \\\"Ruby\\\",\\n      \\\"checkinDate\\\": \\\"2022-12-12 12:12:12\\\",\\n      \\\"branch\\\": \\\"master\\\",\\n      \\\"organizationId\\\": \\\"5f9f9f6122a8c7ff3934f99a\\\"\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"查询预览代码片段"}