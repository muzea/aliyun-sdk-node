{"summary":"创建合并请求评论，可创建整体评论和行内评论。创建的评论层级一般不要超过3层。","path":"/api/v4/projects/code_reviews/comments/create_comment","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"5ebbc0228123212b59xxxxx"}},{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryIdentity","in":"query","schema":{"description":"代码库ID或者全路径","type":"string","required":true,"example":"2835387 或 codeup/codeup-demo"}},{"name":"localId","in":"query","schema":{"description":"合并请求局部ID，表示代码库下的第几个合并请求","type":"integer","format":"int64","required":true,"example":"1"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"content":{"description":"评论内容","type":"string","required":true,"example":"评论内容"},"commentType":{"description":"评论类型\n\n- GLOBAL_COMMENT：全局评论\n- INLINE_COMMENT：文件行内评论","type":"string","required":true,"example":"GLOBAL_COMMENT"},"parentCommentBizId":{"description":"父评论业务ID","type":"string","required":false,"example":"2666ac1ac53841b0ba1b042e383279cc"},"resolved":{"description":"是否已解决\n\n><notice>若是父评论业务ID为空，即创建根评论时，必须设置resolved的值></notice>","type":"boolean","required":false,"example":"false"},"filePath":{"description":"文件路径\n\n\n> 当commentType=INLINE_COMMENT时，才需要传入值","type":"string","required":false,"example":"/src/main/test.java"},"lineNumber":{"description":"评论所在的文件行号，仅文件行内评论才有","type":"integer","format":"int32","required":false,"example":"1"},"patchSetBizId":{"description":"关联的版本ID\n\n\n> 一般而言，该参数不必传值，默认将创建的评论关联到最新版本上；但若是需要在历史版本上创建评论，此时才需要传入具体的版本ID","type":"string","required":false,"example":"b7d8386be17c4ca68a07140db4836257"},"draft":{"description":"是否是草稿评论","type":"boolean","required":false,"example":"false"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"ASSDS-ASSASX-XSAXSA-XSAXSAXS\n"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"errorCode":{"description":"错误码","type":"string","example":"Openapi.RequestError"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"result":{"description":"返回结果","type":"object","properties":{"commentBizId":{"description":"评论唯一业务ID","type":"string","example":"5c399e3685e542a28db16d93e9f82abb"},"commentType":{"description":"评论类型\n\n- GLOBAL_COMMENT：全局评论\n- INLINE_COMMENT：文件行内评论","type":"string","example":"GLOBAL_COMMENT"},"state":{"description":"评论状态\n\n- DRAFT：草稿状态\n- OPENED：已发表或者开启","type":"string","example":"OPENED"},"resolved":{"description":"是否已解决","type":"boolean","example":"false"},"deleted":{"description":"是否已经删除","type":"boolean","example":"false"},"commentTime":{"description":"评论时间","type":"string","example":"2022-03-18 14:24:54\n"},"lastEditTime":{"description":"上次编辑时间","type":"string","example":"2022-03-18 14:24:54\n"},"content":{"description":"评论内容","type":"string","example":"xxxx"},"author":{"description":"评论人信息","type":"object","properties":{"aliyunPk":{"description":"阿里云账号ID","type":"string","example":"284692704493684695"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"test-codeup"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"头像地址\n\nhttps://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"},"id":{"description":"主键ID，无业务实义","type":"integer","format":"int64","example":"19927"}}},"relatedPatchSet":{"description":"关联的版本信息","type":"object","properties":{"patchSetNo":{"description":"版本号","type":"string","example":"1"},"patchSetBizId":{"description":"版本的唯一业务ID","type":"string","example":"513fcfd81a9142d2bb0db4f72c0aa15b"},"patchSetName":{"description":"版本名称","type":"string","example":"版本1"},"commitId":{"description":"版本关联的提交ID","type":"string","example":"1a072f5367c21f9de3464b8c0ee8546e47764d2d"},"shortId":{"description":"简短的提交ID","type":"string","example":"1a072f53"},"relatedMergeItemType":{"description":"关联的合并类型\n- MERGE_SOURCE：合并源\n- MERGE_TARGET：合并目标","type":"string","example":"MERGE_SOURCE"},"createdAt":{"description":"创建时间","type":"string","example":"2022-03-18 14:24:54\n"}}},"lineNumber":{"description":"评论所在的文件行号，仅文件行内评论才有","type":"string","example":"3"},"filePath":{"description":"文件路径，仅commentType=INLINE_COMMENT时才有","type":"string","example":"src/main/update.txt"},"parentCommentBizId":{"description":"父评论业务ID","type":"string","example":"4c5dcec6a8dc41e69c369737dadc1841"},"rootCommentBizId":{"description":"根评论业务ID","type":"string","example":"dcf2b23cebfc418f98dbd35e423d9fd3"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ASSDS-ASSASX-XSAXSA-XSAXSAXS\\\\n\\\",\\n  \\\"success\\\": true,\\n  \\\"errorCode\\\": \\\"Openapi.RequestError\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"result\\\": {\\n    \\\"commentBizId\\\": \\\"5c399e3685e542a28db16d93e9f82abb\\\",\\n    \\\"commentType\\\": \\\"GLOBAL_COMMENT\\\",\\n    \\\"state\\\": \\\"OPENED\\\",\\n    \\\"resolved\\\": false,\\n    \\\"deleted\\\": false,\\n    \\\"commentTime\\\": \\\"2022-03-18 14:24:54\\\\n\\\",\\n    \\\"lastEditTime\\\": \\\"2022-03-18 14:24:54\\\\n\\\",\\n    \\\"content\\\": \\\"xxxx\\\",\\n    \\\"author\\\": {\\n      \\\"aliyunPk\\\": \\\"284692704493684695\\\",\\n      \\\"name\\\": \\\"test-codeup\\\",\\n      \\\"username\\\": \\\"test-codeup\\\",\\n      \\\"state\\\": \\\"active\\\",\\n      \\\"avatarUrl\\\": \\\"头像地址\\\\n\\\\nhttps://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n      \\\"email\\\": \\\"username@example.com\\\",\\n      \\\"id\\\": 19927\\n    },\\n    \\\"relatedPatchSet\\\": {\\n      \\\"patchSetNo\\\": \\\"1\\\",\\n      \\\"patchSetBizId\\\": \\\"513fcfd81a9142d2bb0db4f72c0aa15b\\\",\\n      \\\"patchSetName\\\": \\\"版本1\\\",\\n      \\\"commitId\\\": \\\"1a072f5367c21f9de3464b8c0ee8546e47764d2d\\\",\\n      \\\"shortId\\\": \\\"1a072f53\\\",\\n      \\\"relatedMergeItemType\\\": \\\"MERGE_SOURCE\\\",\\n      \\\"createdAt\\\": \\\"2022-03-18 14:24:54\\\\n\\\"\\n    },\\n    \\\"lineNumber\\\": \\\"3\\\",\\n    \\\"filePath\\\": \\\"src/main/update.txt\\\",\\n    \\\"parentCommentBizId\\\": \\\"4c5dcec6a8dc41e69c369737dadc1841\\\",\\n    \\\"rootCommentBizId\\\": \\\"dcf2b23cebfc418f98dbd35e423d9fd3\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"创建合并请求评论"}