{"summary":"根据筛选条件搜索相应的代码片段。","path":"/search/code","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"66c0c9fffeb86b450c199fcd"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"keyword":{"description":"搜索关键字","type":"string","required":true,"example":"test"},"page":{"description":"页码 \n默认值为1，从第1页开始","type":"integer","format":"int32","required":false,"example":"1"},"pageSize":{"description":"每页大小\n默认值为20，取值范围【1,100】","type":"integer","format":"int32","required":false,"example":"20"},"sort":{"description":"排序方式，默认为desc\n- desc：降序\n- asc：升序","type":"string","required":false,"example":"desc"},"order":{"description":"排序字段，默认为default\n- default：默认排序，即综合排序\n- created_at：创建时间\n- updated_at：更新时间\n- star：收藏数\n- like：点赞数\n- comment：评论数\n- reply：回复数","type":"string","required":false,"example":"default"},"scope":{"description":"搜索范围，默认为all\n- all：全局范围，公开库以及有权限的private库\n- mine：只作为库或组成员，并且有读权限","type":"string","required":false,"example":"all"},"repoPath":{"description":"代码仓库查询条件","type":"object","properties":{"value":{"description":"代码库的全路径，例如：organization/group/repo\n\n> 如果有多个代码库路径，使用英文逗号\",\"隔开","type":"string","required":false,"example":"xxx"},"operatorType":{"description":"查询条件类型\n- equal：等于\n- unequal：不等于\n- and：与\n- or：或\n- not：非","type":"string","required":false,"example":"equal"},"matchType":{"description":"查询匹配类型\n- term：精确匹配\n- regex：正则匹配\n- phrase：短语匹配，默认方式\n- wildcard：模糊匹配","type":"string","required":false,"example":"term"}},"required":false},"filePath":{"description":"代码文件路径，支持正则表达式","type":"object","properties":{"value":{"description":"文件的全路径，例如：organization/group/repo/file\n\n> 如多个文件全路径，使用英文逗号\",\"隔开","type":"string","required":false,"example":"orgId/test-group/spring-boot-demo/test.java"},"operatorType":{"description":"查询条件类型\n- equal：等于\n- unequal：不等于\n- and：与\n- or：或\n- not：非","type":"string","required":false,"example":"equal"},"matchType":{"description":"查询匹配类型\n- term：精确匹配\n- regex：正则匹配\n- phrase：短语匹配，默认方式\n- wildcard：模糊匹配","type":"string","required":false,"example":"term"}},"required":false},"language":{"description":"编程语言","type":"string","required":false,"example":"Java"},"isCodeBlock":{"description":"是否查询代码方法块数据，如类、方法等","type":"boolean","required":false,"example":"false"}},"required":true}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"ASSDS-ASSASX-XSAXSA-XSAXSAXS"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"errorCode":{"description":"错误码","type":"string","example":"\t\nSYSTEM_UNKNOWN_ERROR"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"2"},"result":{"description":"返回结果列表","type":"array","items":{"description":"返回结果","type":"object","properties":{"docId":{"description":"文档ID","type":"string","example":"60d54f3daccf2bbd6659f3ad/gitlabhq/master/spec/frontend/snippets/test_utils.js"},"highlightTextMap":{"description":"高亮文本信息","type":"object","properties":{"organizationId":{"description":"高亮企业ID","type":"string","example":"60de7a6852743a5162b5f957"},"fileName":{"description":"命中的文件名","type":"string","example":"test.java"},"clob":{"description":"命中的文件内容中的某个片段","type":"string","example":"xxx"},"language":{"description":"编程语言","type":"string","example":"java"}}},"source":{"description":"ES返回的源信息","type":"object","properties":{"repoPath":{"description":"代码库完整路径（含完整组路径）","type":"string","example":"codeup/test-repo"},"fileName":{"description":"文件名称","type":"string","example":"test_utils.js"},"filePath":{"description":"文件路径","type":"string","example":"spec/frontend/snippets/test_utils.js"},"language":{"description":"编程语言","type":"string","example":"JavaScript"},"checkinDate":{"description":"最近一次commit时间","type":"string","example":"2022-10-10 10:00:00"},"branch":{"description":"分支名称","type":"string","example":"master"},"organizationId":{"description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】\n\n","type":"string","example":"60de7a6852743a5162b5f957"}}}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ASSDS-ASSASX-XSAXSA-XSAXSAXS\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorCode\\\": \\\"\\\\t\\\\nSYSTEM_UNKNOWN_ERROR\\\",\\n  \\\"success\\\": true,\\n  \\\"total\\\": 2,\\n  \\\"result\\\": [\\n    {\\n      \\\"docId\\\": \\\"60d54f3daccf2bbd6659f3ad/gitlabhq/master/spec/frontend/snippets/test_utils.js\\\",\\n      \\\"highlightTextMap\\\": {\\n        \\\"organizationId\\\": \\\"60de7a6852743a5162b5f957\\\",\\n        \\\"fileName\\\": \\\"test.java\\\",\\n        \\\"clob\\\": \\\"xxx\\\",\\n        \\\"language\\\": \\\"java\\\"\\n      },\\n      \\\"source\\\": {\\n        \\\"repoPath\\\": \\\"codeup/test-repo\\\",\\n        \\\"fileName\\\": \\\"test_utils.js\\\",\\n        \\\"filePath\\\": \\\"spec/frontend/snippets/test_utils.js\\\",\\n        \\\"language\\\": \\\"JavaScript\\\",\\n        \\\"checkinDate\\\": \\\"2022-10-10 10:00:00\\\",\\n        \\\"branch\\\": \\\"master\\\",\\n        \\\"organizationId\\\": \\\"60de7a6852743a5162b5f957\\\"\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"搜索代码片段数据"}