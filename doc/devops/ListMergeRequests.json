{"summary":"查询合并请求列表，支持分页、排序和筛选。\n\n该API能同时查询旧版和新版的合并请求，若没有使用过旧版合并请求，或者已经没有旧版合并请求数据，那么直接忽略返回信息中跟旧版合并请求相关的字段。","path":"/api/v4/projects/merge_requests/advanced_search","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"60de7a6852743a5162b5f957"}},{"name":"accessToken","in":"query","schema":{"title":"A short description of struct","description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513\n"}},{"name":"page","in":"query","schema":{"description":"页码，默认值为1，从第1页开始","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"pageSize","in":"query","schema":{"description":"每页大小，默认值为20，取值范围【1,100】","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"groupIds","in":"query","schema":{"description":"代码组ID，支持多个ID，以逗号分隔","type":"string","required":false,"example":"889910, 889911"}},{"name":"projectIds","in":"query","schema":{"description":"代码库ID，支持多个ID，以逗号分隔","type":"string","required":false,"example":"2308912, 2308913"}},{"name":"authorIds","in":"query","schema":{"description":"创建人阿里云账号ID，支持多个，以逗号分隔","type":"string","required":false,"example":"1234567890"}},{"name":"reviewerIds","in":"query","schema":{"description":"评审人阿里云账号ID，支持多个，以逗号分隔","type":"string","required":false,"example":"1234567890123"}},{"name":"state","in":"query","schema":{"description":"合并请求状态，默认查询所有状态\n- opened：已开启，包含评审中、待合并、待开发状态\n- closed：已关闭\n- merged：已合并\n- all：所有，若是all，可以不用传值；其他无效字符，也默认查询所有。","type":"string","required":false,"example":"opened"}},{"name":"search","in":"query","schema":{"description":"搜索关键字，匹配合并请求的标题","type":"string","required":false,"example":"test-search"}},{"name":"orderBy","in":"query","schema":{"description":"排序字段，默认值为updated_at\n- created_at：创建时间\n- updated_at：更新时间\n\n若传入其他无效字符，默认使用updated_at","type":"string","required":false,"example":"updated_at"}},{"name":"sort","in":"query","schema":{"description":"排序方式，默认值为desc\n- desc：降序\n- asc：升序","type":"string","required":false,"example":"desc"}},{"name":"filter","in":"query","schema":{"description":"该字段主要用于过滤新旧版本的合并请求，默认不过滤，同时获取新旧版本的内容，若是一直使用新版合并请求，可忽略该参数。可选值：\n- new：仅查询新版合并请求\n- old：仅查询旧版合并请求","type":"string","required":false,"example":"new"}},{"name":"labelIds","in":"query","schema":{"description":"类标ID列表，多个ID以逗号分隔","type":"string","required":false,"example":"b5b5738b94954bc6aa5a293316ed1d24"}},{"name":"createdBefore","in":"query","schema":{"description":"起始创建时间\n\n> ISO 8601格式，如2019-03-15T08:00:00Z，大小比较为 \"大于等于\"","type":"string","required":false,"example":"2019-03-15T08:00:00Z"}},{"name":"createdAfter","in":"query","schema":{"description":"截止创建时间\n\n\n> ISO 8601格式，如2019-03-15T08:00:00Z，大小比较为 \"小于\"\n\n\n> 创建时间范围：[createdBefore, createdAfter)，即左闭右开区间","type":"string","required":false,"example":"2019-03-15T08:00:00Z"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"ASSDS-ASSASX-XSAXSA-XSAXSAXS"},"errorCode":{"description":"错误码","type":"string","example":"Openapi.RequestError"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"total":{"description":"总记录数","type":"integer","format":"int64","example":"30"},"result":{"description":"返回结果列表","type":"array","items":{"description":"合并请求信息","type":"object","properties":{"newMergeRequestIdentifier":{"description":"新旧版合并请求的标识，true表示新版，false表示旧版","type":"boolean","example":"true"},"projectId":{"description":"代码库ID","type":"integer","format":"int64","example":"2369234"},"id":{"description":"旧版合并请求的ID，若当前为新版合并请求，那么该值为空","type":"integer","format":"int64","example":"1"},"iid":{"description":"合并请求局部ID，表示代码库下的第几个合并请求；若是新版合并请求，那么该值为空","type":"integer","format":"int64","example":"1"},"mrBizId":{"description":"新版合并请求的唯一ID，仅新版合并请求会有该值","type":"string","example":"bca90244c4b749e0b109df52ac0eb570"},"localId":{"description":"合并请求局部ID，表示代码库下的第几个合并请求，新版合并请求字段","type":"integer","format":"int64","example":"2"},"title":{"description":"合并请求标题","type":"string","example":"test-合并请求标题"},"description":{"description":"合并请求描述内容","type":"string","example":"描述信息的具体内容\n"},"state":{"description":"旧版合并请求状态\n- opened：已开启\n- reopened：重新打开\n- closed：已关闭\n- accepted：评审通过（未合并）\n- merged：评审通过（已合并）\n- locked：合并锁定中","type":"string","example":"opened"},"newVersionState":{"description":"新版合并请求状态\n- UNDER_DEV：开发中\n- UNDER_REVIEW：评审中\n- TO_BE_MERGED：待合并\n- CLOSED：已关闭\n- MERGED：已合并","type":"string","example":"UNDER_REVIEW"},"createdAt":{"description":"创建时间","type":"string","example":"2022-03-18 14:24:54"},"updatedAt":{"description":"更新时间","type":"string","example":"2022-03-18 14:24:54"},"sourceBranch":{"description":"源分支","type":"string","example":"test-merge-source-branch"},"targetBranch":{"description":"目标分支","type":"string","example":"test-merge-target-branch"},"author":{"description":"作者信息","type":"object","properties":{"id":{"description":"Codeup的用户ID","type":"integer","format":"int64","example":"19927"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"root-test-codeup"},"state":{"description":"用户状态，可选值：\n\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}},"reviewers":{"description":"评审人信息列表","type":"array","items":{"description":"评审人信息","type":"object","properties":{"id":{"description":"Codeup的用户ID","type":"integer","format":"int64","example":"43127"},"name":{"description":"用户名称","type":"string","example":"test-review-user"},"username":{"description":"用户登录名","type":"string","example":"root-test-review-user"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"评审人的头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"},"status":{"description":"评审人状态\n- approved：已同意\n- comment：发表过评审\n- pending：还未评审过","type":"string","example":"approved"},"reviewTime":{"description":"评审人评审完成时间\n\n> 仅在新版合并请求才有效，且评审人需要完成评审后，该字段才确保存在，否则为空。","type":"string","example":"2022-03-18 14:24:54"},"hasReviewed":{"description":"评审人是否已经评审过","type":"boolean","example":"false"},"hasCommented":{"description":"评审人是否发表过评论","type":"boolean","example":"true"},"reviewOpinionStatus":{"description":"评审意见，若未评审则为空\n- PASS：通过\n- NOT_PASS：暂不通过","type":"string","example":"PASS"}}}},"subscribers":{"description":"订阅人信息列表","type":"array","items":{"description":"订阅人信息","type":"object","properties":{"id":{"description":"Codeup用户ID","type":"integer","format":"int64","example":"1876119"},"name":{"description":"用户名称","type":"string","example":"test-subscriber"},"username":{"description":"用户登录名","type":"string","example":"root-test-subscriber"},"state":{"description":"用户状态，可选值：\n\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}}},"sourceProjectId":{"description":"源代码库ID","type":"integer","format":"int64","example":"2876119"},"targetProjectId":{"description":"目标库ID","type":"integer","format":"int64","example":"2876119"},"workInProgress":{"description":"是否在开发中","type":"boolean","example":"false"},"detailUrl":{"description":"合并请求详情地址","type":"string","example":"xxx"},"webUrl":{"description":"页面访问时的URL","type":"string","example":"\"\""},"sshUrl":{"description":"代码库的SSH克隆地址","type":"string","example":"git@xxx:xxx/test/test.git"},"creationMethod":{"description":"创建方式\n- WEB：网页UI创建\n- COMMAND_LINE：命令行创建","type":"string","example":"WEB"},"sourceType":{"description":"若是旧版合并请求，枚举值为\n- BRANCH：分支\n- COMMIT：提交\n\n若是新版合并请求，枚举值为\n- BRANCH：分支\n- REF：提交或者引用评审","type":"string","example":"BRANCH"},"targetType":{"description":"目标类型通常为 BRANCH","type":"string","example":"BRANCH"},"nameWithNamespace":{"description":"代码库完整名称（含完整组名称）","type":"string","example":"codeup-test-org / test-create-group （斜杠两侧有空格）"},"supportMergeFFOnly":{"description":"是否支持fast-forward-only合并方式","type":"boolean","example":"true"},"labels":{"description":"类标列表","type":"array","items":{"description":"类标信息","type":"object","properties":{"id":{"description":"类标 ID，唯一标识","type":"string","example":"b5b5738b94954bc6aa5a293316ed1d24"},"name":{"description":"类标名称","type":"string","example":"新特性"},"color":{"description":"类标颜色","type":"string","example":"#006AD4"},"description":{"description":"类标描述","type":"string","example":"新的特性或需求"}}}},"mergedRevision":{"description":"合并版本（Commit SHA）","type":"string","example":"1a072f5367c21f9de3464b8c0ee8546e47764d2d"}}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ASSDS-ASSASX-XSAXSA-XSAXSAXS\\\",\\n  \\\"errorCode\\\": \\\"Openapi.RequestError\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"success\\\": true,\\n  \\\"total\\\": 30,\\n  \\\"result\\\": [\\n    {\\n      \\\"newMergeRequestIdentifier\\\": true,\\n      \\\"projectId\\\": 2369234,\\n      \\\"id\\\": 1,\\n      \\\"iid\\\": 1,\\n      \\\"mrBizId\\\": \\\"bca90244c4b749e0b109df52ac0eb570\\\",\\n      \\\"localId\\\": 2,\\n      \\\"title\\\": \\\"test-合并请求标题\\\",\\n      \\\"description\\\": \\\"描述信息的具体内容\\\\n\\\",\\n      \\\"state\\\": \\\"opened\\\",\\n      \\\"newVersionState\\\": \\\"UNDER_REVIEW\\\",\\n      \\\"createdAt\\\": \\\"2022-03-18 14:24:54\\\",\\n      \\\"updatedAt\\\": \\\"2022-03-18 14:24:54\\\",\\n      \\\"sourceBranch\\\": \\\"test-merge-source-branch\\\",\\n      \\\"targetBranch\\\": \\\"test-merge-target-branch\\\",\\n      \\\"author\\\": {\\n        \\\"id\\\": 19927,\\n        \\\"name\\\": \\\"test-codeup\\\",\\n        \\\"username\\\": \\\"root-test-codeup\\\",\\n        \\\"state\\\": \\\"active\\\",\\n        \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n        \\\"email\\\": \\\"username@example.com\\\"\\n      },\\n      \\\"reviewers\\\": [\\n        {\\n          \\\"id\\\": 43127,\\n          \\\"name\\\": \\\"test-review-user\\\",\\n          \\\"username\\\": \\\"root-test-review-user\\\",\\n          \\\"state\\\": \\\"active\\\",\\n          \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n          \\\"email\\\": \\\"username@example.com\\\",\\n          \\\"status\\\": \\\"approved\\\",\\n          \\\"reviewTime\\\": \\\"2022-03-18 14:24:54\\\",\\n          \\\"hasReviewed\\\": false,\\n          \\\"hasCommented\\\": true,\\n          \\\"reviewOpinionStatus\\\": \\\"PASS\\\"\\n        }\\n      ],\\n      \\\"subscribers\\\": [\\n        {\\n          \\\"id\\\": 1876119,\\n          \\\"name\\\": \\\"test-subscriber\\\",\\n          \\\"username\\\": \\\"root-test-subscriber\\\",\\n          \\\"state\\\": \\\"active\\\",\\n          \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n          \\\"email\\\": \\\"username@example.com\\\"\\n        }\\n      ],\\n      \\\"sourceProjectId\\\": 2876119,\\n      \\\"targetProjectId\\\": 2876119,\\n      \\\"workInProgress\\\": false,\\n      \\\"detailUrl\\\": \\\"xxx\\\",\\n      \\\"webUrl\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n      \\\"sshUrl\\\": \\\"git@xxx:xxx/test/test.git\\\",\\n      \\\"creationMethod\\\": \\\"WEB\\\",\\n      \\\"sourceType\\\": \\\"BRANCH\\\",\\n      \\\"targetType\\\": \\\"BRANCH\\\",\\n      \\\"nameWithNamespace\\\": \\\"codeup-test-org / test-create-group （斜杠两侧有空格）\\\",\\n      \\\"supportMergeFFOnly\\\": true,\\n      \\\"labels\\\": [\\n        {\\n          \\\"id\\\": \\\"b5b5738b94954bc6aa5a293316ed1d24\\\",\\n          \\\"name\\\": \\\"新特性\\\",\\n          \\\"color\\\": \\\"#006AD4\\\",\\n          \\\"description\\\": \\\"新的特性或需求\\\"\\n        }\\n      ],\\n      \\\"mergedRevision\\\": \\\"1a072f5367c21f9de3464b8c0ee8546e47764d2d\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询合并请求列表","description":"该接口需要确保当前企业已经在使用新版MR，具体可看当前企业的合并请求页面是否已是新版本。"}