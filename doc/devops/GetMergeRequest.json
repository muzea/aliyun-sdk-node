{"summary":"查询单个合并请求详情。","path":"/api/v4/projects/{repositoryId}/merge_requests/{localId}/detail","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"5ebbc0228123212b59xxxxx"}},{"name":"accessToken","in":"query","schema":{"title":"A short description of struct","description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryId","in":"path","schema":{"description":"代码库ID","type":"integer","format":"int64","required":true,"example":"2464454"}},{"name":"localId","in":"path","schema":{"description":"合并请求局部ID，表示代码库下的第几个合并请求","type":"integer","format":"int64","required":true,"example":"1"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"F7B85D1B-D1C2-140F-A039-341859F130B9"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"errorCode":{"description":"错误码","type":"string","example":"Openapi.RequestError"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"result":{"description":"返回结果","type":"object","properties":{"mrBizId":{"description":"合并请求唯一ID","type":"string","example":"bca90244c4b749e0b109df52ac0eb570"},"projectId":{"description":"代码库ID","type":"integer","format":"int64","example":"2369234"},"localId":{"description":"合并请求局部ID，表示代码库下的第几个合并请求","type":"integer","format":"int64","example":"1"},"createTime":{"description":"创建时间","type":"string","example":"2023-05-30T02:53:36Z"},"updateTime":{"description":"更新时间","type":"string","example":"2023-05-30T02:53:36Z"},"mrType":{"description":"合并请求类型，通常为CODE_REVIEW\n- CODE_REVIEW：代码评审\n- REF_REVIEW：引用评审","type":"string","example":"CODE_REVIEW"},"sourceProjectId":{"description":"源代码库ID","type":"integer","format":"int64","example":"2369234"},"sourceBranch":{"description":"源分支","type":"string","example":"test-merge-request"},"targetProjectId":{"description":"目标库ID","type":"integer","format":"int64","example":"2369234"},"targetBranch":{"description":"目标分支","type":"string","example":"master"},"title":{"description":"合并请求标题","type":"string","example":"test-合并请求标题"},"description":{"description":"合并请求描述信息","type":"string","example":"test-合并请求的具体描述内容"},"reviewers":{"description":"评审人信息列表","type":"array","items":{"description":"评审人信息","type":"object","properties":{"id":{"description":"Codeup的用户ID","type":"integer","format":"int64","example":"90452"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"root-test-codeup"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"},"hasReviewed":{"description":"评审人是否已经评审过","type":"boolean","example":"false"},"reviewOpinionStatus":{"description":"评审意见，若未评审则为空\n- PASS：通过\n- NOT_PASS：暂不通过","type":"string","example":"NOT_PASS"},"reviewTime":{"description":"评审人评审完成时间\n\n\n> 需要确保评审人已经完成评审，否则该值为空","type":"string","example":"2023-05-30T02:53:36Z"},"hasCommented":{"description":"评审人是否发表过评论","type":"boolean","example":"true"}}}},"author":{"description":"作者信息","type":"object","properties":{"id":{"description":"Codeup用户ID","type":"integer","format":"int64","example":"19927"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"root-test-codeup"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}},"subscribers":{"description":"订阅人信息列表","type":"array","items":{"description":"订阅人信息","type":"object","properties":{"id":{"description":"Codeup的用户ID","type":"integer","format":"int64","example":"90452"},"name":{"description":"用户名称","type":"string","example":"test-subscriber"},"username":{"description":"用户登录名","type":"string","example":"test-subscriber"},"state":{"description":"用户状态，可选值：\n\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}}},"status":{"description":"合并请求状态\n\n- UNDER_DEV：开发中\n- UNDER_REVIEW：评审中\n- TO_BE_MERGED：待合并\n- CLOSED：已关闭\n- MERGED：已合并","type":"string","example":"UNDER_REVIEW"},"createFrom":{"description":"创建来源\n- WEB：网页UI创建\n- COMMAND_LINE：命令行创建","type":"string","example":"WEB"},"ahead":{"description":"源分支相较于目标分支多出的commit数量","type":"integer","format":"int32","example":"1"},"behind":{"description":"目标分支相较于源分支落后的commit数量","type":"integer","format":"int32","example":"1"},"todoList":{"description":"待办事项","type":"object","properties":{"requirementCheckItems":{"description":"卡点项列表","type":"array","items":{"description":"卡点项信息","type":"object","properties":{"itemType":{"description":"卡点项类型\n- MERGE_CONFLICT_CHECK：合并冲突检测\n- COMMENTS_CHECK：评论检查\n- CI_CHECK：自动化检查\n- REVIEWER_APPROVED_CHECK：评审人通过检查","type":"string","example":"COMMENTS_CHECK"},"pass":{"description":"是否通过卡点项","type":"boolean","example":"true"}}}}}},"allRequirementsPass":{"description":"是否所有卡点通过","type":"boolean","example":"true"},"supportMergeFastForwardOnly":{"description":"是否支持fast-forward-only的合并方式","type":"boolean","example":"true"},"detailUrl":{"description":"合并请求详情地址","type":"string","example":"xxx"},"webUrl":{"description":"页面访问时的URL","type":"string","example":"xxx"},"targetProjectNameWithNamespace":{"description":"目标库的全名称（含完整组路径）","type":"string","example":"orgId / test-group / test-target-repo（斜杠两侧有空格）"},"targetProjectPathWithNamespace":{"description":"目标库的全路径（含完整组路径）","type":"string","example":"orgId/test-group/test-target-repo"},"mergedRevision":{"description":"合并版本（Commit SHA）","type":"string","example":"1a072f5367c21f9de3464b8c0ee8546e47764d2d"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"F7B85D1B-D1C2-140F-A039-341859F130B9\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorCode\\\": \\\"Openapi.RequestError\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"mrBizId\\\": \\\"bca90244c4b749e0b109df52ac0eb570\\\",\\n    \\\"projectId\\\": 2369234,\\n    \\\"localId\\\": 1,\\n    \\\"createTime\\\": \\\"2023-05-30T02:53:36Z\\\",\\n    \\\"updateTime\\\": \\\"2023-05-30T02:53:36Z\\\",\\n    \\\"mrType\\\": \\\"CODE_REVIEW\\\",\\n    \\\"sourceProjectId\\\": 2369234,\\n    \\\"sourceBranch\\\": \\\"test-merge-request\\\",\\n    \\\"targetProjectId\\\": 2369234,\\n    \\\"targetBranch\\\": \\\"master\\\",\\n    \\\"title\\\": \\\"test-合并请求标题\\\",\\n    \\\"description\\\": \\\"test-合并请求的具体描述内容\\\",\\n    \\\"reviewers\\\": [\\n      {\\n        \\\"id\\\": 90452,\\n        \\\"name\\\": \\\"test-codeup\\\",\\n        \\\"username\\\": \\\"root-test-codeup\\\",\\n        \\\"state\\\": \\\"active\\\",\\n        \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n        \\\"email\\\": \\\"username@example.com\\\",\\n        \\\"hasReviewed\\\": false,\\n        \\\"reviewOpinionStatus\\\": \\\"NOT_PASS\\\",\\n        \\\"reviewTime\\\": \\\"2023-05-30T02:53:36Z\\\",\\n        \\\"hasCommented\\\": true\\n      }\\n    ],\\n    \\\"author\\\": {\\n      \\\"id\\\": 19927,\\n      \\\"name\\\": \\\"test-codeup\\\",\\n      \\\"username\\\": \\\"root-test-codeup\\\",\\n      \\\"state\\\": \\\"active\\\",\\n      \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n      \\\"email\\\": \\\"username@example.com\\\"\\n    },\\n    \\\"subscribers\\\": [\\n      {\\n        \\\"id\\\": 90452,\\n        \\\"name\\\": \\\"test-subscriber\\\",\\n        \\\"username\\\": \\\"test-subscriber\\\",\\n        \\\"state\\\": \\\"active\\\",\\n        \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n        \\\"email\\\": \\\"username@example.com\\\"\\n      }\\n    ],\\n    \\\"status\\\": \\\"UNDER_REVIEW\\\",\\n    \\\"createFrom\\\": \\\"WEB\\\",\\n    \\\"ahead\\\": 1,\\n    \\\"behind\\\": 1,\\n    \\\"todoList\\\": {\\n      \\\"requirementCheckItems\\\": [\\n        {\\n          \\\"itemType\\\": \\\"COMMENTS_CHECK\\\",\\n          \\\"pass\\\": true\\n        }\\n      ]\\n    },\\n    \\\"allRequirementsPass\\\": true,\\n    \\\"supportMergeFastForwardOnly\\\": true,\\n    \\\"detailUrl\\\": \\\"xxx\\\",\\n    \\\"webUrl\\\": \\\"xxx\\\",\\n    \\\"targetProjectNameWithNamespace\\\": \\\"orgId / test-group / test-target-repo（斜杠两侧有空格）\\\",\\n    \\\"targetProjectPathWithNamespace\\\": \\\"orgId/test-group/test-target-repo\\\",\\n    \\\"mergedRevision\\\": \\\"1a072f5367c21f9de3464b8c0ee8546e47764d2d\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询合并请求","description":"该接口需要确保当前企业已经在使用新版MR，具体可看当前企业的合并请求页面是否已是新版本。"}