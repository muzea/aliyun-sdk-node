{"summary":"创建或者导入代码库。","path":"/repository/create","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段\n\n","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"sync","in":"query","schema":{"description":"是否同步执行创建仓库\n可选值：true / false","type":"boolean","required":false,"example":"false"}},{"name":"createParentPath","in":"query","schema":{"description":"是否创建父目录\n可选值：true / false","type":"boolean","required":false,"example":"true"}},{"name":"organizationId","in":"query","schema":{"description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"docRequired":true,"example":"60de7a6852743a5162b5f957"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"name":{"title":"代码库名称","description":"代码库名称","type":"string","required":true,"example":"Demo库"},"path":{"title":"代码库路径","description":"代码库路径","type":"string","required":false,"example":"Demo库（与name保持同层级，name与path的值可以不同，若带上了父路径，那么需要设置createParentPath字段为true，且父路径前面不加斜杠，如 parentPath/demo）"},"namespaceId":{"title":"代码库父路径id","description":"代码库父路径id","type":"integer","format":"int64","required":false,"example":"2022（需要保证当前用户在父路径下有创建代码库的权限；若需要创建父路径，那么namespaceId需要设置为企业的空间ID）"},"description":{"title":"代码库描述","description":"代码库描述","type":"string","required":false,"example":"测试内容"},"visibilityLevel":{"description":"代码仓库可见性\n0 - 私有，仅代码库成员可见\n10 - 企业内公开，企业成员可见","type":"integer","format":"int32","required":false,"enumValueTitles":{},"example":"0"},"importUrl":{"title":"导入地址（http协议地址）","description":"待导入代码库地址（http协议），例如github平台上的代码库地址","type":"string","required":false,"example":"https://github.com/a/b.git"},"importAccount":{"title":"导入时使用的账号","description":"导入时使用的账号","type":"string","required":false,"example":"codeup-test"},"importToken":{"title":"导入时账号的token","description":"导入时账号的token","type":"string","required":false,"example":"xxxxx"},"importTokenEncrypted":{"title":"import_token字段的传输格式，使用明文或rsa加密","description":"importToken字段的传输格式，使用明文或rsa加密\n可选值：text（明文） / rsa（rsa加密）","type":"string","required":false,"example":"text"},"importDemoProject":{"title":"使用使用demo库内容进行初始化","description":"是否导入示例项目\n可选值：true / false","type":"boolean","required":false,"example":"true"},"avatarUrl":{"title":"代码库头像地址","description":"代码库头像地址","type":"string","required":false,"example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"readmeType":{"title":"自动创建readme类型 (EMPTY: 仅创建README.md, USER_GUIDE: 包含新手引导)","description":"自动创建readme类型 \nEMPTY - 仅创建README.md\nUSER_GUIDE - 包含新手引导","type":"string","required":false,"enumValueTitles":{"USER_GUIDE":"创建包含新手引导内容的README.md文件","EMPTY":"仅创建空的README.md文件"},"example":"USER_GUIDE"},"importRepoType":{"title":"导入代码库类型 (GIT: Git库, SVN: SVN库)","description":"导入代码库类型\nGIT - Git库\nSVN - SVN库","type":"string","required":false,"example":"GIT"},"initStandardService":{"title":"初始化标准智能化服务","description":"初始化标准智能化服务\n可选值：true / false","type":"boolean","required":false,"example":"true"},"gitignoreType":{"title":"gitignore模板类型","description":"gitignore模板类型","type":"string","required":false,"example":"Java"},"isCryptoEnabled":{"title":"是否启用加密","description":"是否启用加密\n可选值：true / false","type":"boolean","required":false,"example":"false"},"localImportUrl":{"title":"本地导入代码库的远程地址","description":"本地导入代码库的远程地址","type":"string","required":false,"example":"\"\""}},"required":true}}],"responses":{"200":{"schema":{"description":"返回结果","type":"object","properties":{"errorMessage":{"title":"错误信息","description":"错误信息","type":"string","example":"SYSTEM_UNAUTHORIZED_ERROR"},"requestId":{"title":"请求ID","description":"请求ID","type":"string","example":"F590C9D8-E908-5B6C-95AC-56B7E8011FFA"},"errorCode":{"title":"错误码","description":"错误码","type":"string","example":"401"},"success":{"title":"调用是否成功","description":"调用是否成功","type":"boolean","example":"true"},"result":{"description":"返回详情结果\n\n","type":"object","properties":{"id":{"title":"id","description":"id","type":"integer","format":"int64","example":"2959"},"description":{"title":"描述","description":"描述","type":"string","example":"线下测试"},"defaultBranch":{"title":"默认分支","description":"默认分支","type":"string","example":"master"},"visibilityLevel":{"title":"可见性。0：私有，10：内部公开","description":"可见性。0：私有，10：内部公开","type":"string","example":"0"},"sshUrlToRepo":{"title":"ssh地址","description":"ssh地址","type":"string","example":"\"\""},"httpUrlToRepo":{"title":"http地址","description":"http地址","type":"string","example":"\"\""},"webUrl":{"title":"web url","description":"web url","type":"string","example":"\"\""},"name":{"title":"名称","description":"名称","type":"string","example":"codeupTest"},"nameWithNamespace":{"title":"名称（含父路径）","description":"名称（含父路径）","type":"string","example":"codeup-test-org / test-codeup"},"path":{"title":"路径","description":"路径","type":"string","example":"test-codeup"},"pathWithNamespace":{"title":"路径（含父路径）","description":"路径（含父路径）","type":"string","example":"codeup-test-org/test-codeup"},"createdAt":{"title":"创建时间","description":"创建时间","type":"string","example":"2022-01-14T21:08:26+08:00"},"lastActivityAt":{"title":"最后活跃时间","description":"最后活跃时间","type":"string","example":"2022-01-14T21:08:26+08:00"},"creatorId":{"title":"创建者id","description":"创建者id","type":"integer","format":"int64","example":"1233"},"namespace":{"title":"父路径信息","description":"父路径信息","type":"object","properties":{"id":{"title":"id","description":"id","type":"integer","format":"int64","example":"3194"},"name":{"title":"名称","description":"名称","type":"string","example":"codeup"},"path":{"title":"路径","description":"路径","type":"string","example":"codeup"},"ownerId":{"title":"归属者id","description":"归属者id","type":"integer","format":"int64","example":"123"},"createdAt":{"title":"创建时间","description":"创建时间","type":"string","example":"2022-01-14T21:08:26+08:00"},"updatedAt":{"title":"更新时间","description":"更新时间","type":"string","example":"2022-01-14T21:08:26+08:00"},"description":{"title":"描述","description":"描述","type":"string","example":"codeup repo description"},"avatar":{"title":"头像地址","description":"头像地址","type":"string","example":"\"\""},"public":{"title":"公开性","description":"公开性","type":"boolean","example":"true"},"visibilityLevel":{"title":"可见性。0：私有，10：内部公开","description":"可见性。0：私有，10：内部公开","type":"string","example":"0"}}},"archived":{"title":"归档标识","description":"归档标识","type":"boolean","example":"false"},"avatar_url":{"title":"代码库头像地址","description":"代码库头像地址","type":"string","example":"\"\""},"demoProject":{"title":"demo库标识","description":"demo库标识","type":"boolean","example":"false"},"Import_from_svn":{"title":"从SVN导入","description":"从SVN导入","type":"boolean","example":"false"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"errorMessage\\\": \\\"SYSTEM_UNAUTHORIZED_ERROR\\\",\\n  \\\"requestId\\\": \\\"F590C9D8-E908-5B6C-95AC-56B7E8011FFA\\\",\\n  \\\"errorCode\\\": \\\"401\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"id\\\": 2959,\\n    \\\"description\\\": \\\"线下测试\\\",\\n    \\\"defaultBranch\\\": \\\"master\\\",\\n    \\\"visibilityLevel\\\": \\\"0\\\",\\n    \\\"sshUrlToRepo\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n    \\\"httpUrlToRepo\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n    \\\"webUrl\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n    \\\"name\\\": \\\"codeupTest\\\",\\n    \\\"nameWithNamespace\\\": \\\"codeup-test-org / test-codeup\\\",\\n    \\\"path\\\": \\\"test-codeup\\\",\\n    \\\"pathWithNamespace\\\": \\\"codeup-test-org/test-codeup\\\",\\n    \\\"createdAt\\\": \\\"2022-01-14T21:08:26+08:00\\\",\\n    \\\"lastActivityAt\\\": \\\"2022-01-14T21:08:26+08:00\\\",\\n    \\\"creatorId\\\": 1233,\\n    \\\"namespace\\\": {\\n      \\\"id\\\": 3194,\\n      \\\"name\\\": \\\"codeup\\\",\\n      \\\"path\\\": \\\"codeup\\\",\\n      \\\"ownerId\\\": 123,\\n      \\\"createdAt\\\": \\\"2022-01-14T21:08:26+08:00\\\",\\n      \\\"updatedAt\\\": \\\"2022-01-14T21:08:26+08:00\\\",\\n      \\\"description\\\": \\\"codeup repo description\\\",\\n      \\\"avatar\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n      \\\"public\\\": true,\\n      \\\"visibilityLevel\\\": \\\"0\\\"\\n    },\\n    \\\"archived\\\": false,\\n    \\\"avatar_url\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n    \\\"demoProject\\\": false,\\n    \\\"Import_from_svn\\\": false\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateRepositoryResponse>\\n    <errorMessage>SYSTEM_UNAUTHORIZED_ERROR</errorMessage>\\n    <requestId>F590C9D8-E908-5B6C-95AC-56B7E8011FFA</requestId>\\n    <errorCode>401</errorCode>\\n    <success>true</success>\\n    <result>\\n        <id>2959</id>\\n        <description>线下测试</description>\\n        <defaultBranch>master</defaultBranch>\\n        <visibilityLevel>0</visibilityLevel>\\n        <sshUrlToRepo>\\\"\\\"</sshUrlToRepo>\\n        <httpUrlToRepo>\\\"\\\"</httpUrlToRepo>\\n        <webUrl>\\\"\\\"</webUrl>\\n        <name>codeupTest</name>\\n        <nameWithNamespace>codeup-test-org / test-codeup</nameWithNamespace>\\n        <path>test-codeup</path>\\n        <pathWithNamespace>codeup-test-org/test-codeup</pathWithNamespace>\\n        <createdAt>2022-01-14T21:08:26+08:00</createdAt>\\n        <lastActivityAt>2022-01-14T21:08:26+08:00</lastActivityAt>\\n        <creatorId>1233</creatorId>\\n        <namespace>\\n            <id>3194</id>\\n            <name>codeup</name>\\n            <path>codeup</path>\\n            <ownerId>123</ownerId>\\n            <createdAt>2022-01-14T21:08:26+08:00</createdAt>\\n            <updatedAt>2022-01-14T21:08:26+08:00</updatedAt>\\n            <description>codeup repo description</description>\\n            <avatar>\\\"\\\"</avatar>\\n            <public>true</public>\\n            <visibilityLevel>0</visibilityLevel>\\n        </namespace>\\n        <archived>false</archived>\\n        <avatar_url>\\\"\\\"</avatar_url>\\n        <demoProject>false</demoProject>\\n        <Import_from_svn>false</Import_from_svn>\\n    </result>\\n</CreateRepositoryResponse>\",\"errorExample\":\"\"}]","title":"创建/导入代码库"}