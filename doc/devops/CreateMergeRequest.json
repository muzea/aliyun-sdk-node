{"summary":"创建合并请求。","path":"/api/v4/projects/{repositoryId}/merge_requests","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"query","schema":{"title":"A short description of struct","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"6270e731cfea268afc21ccac"}},{"name":"accessToken","in":"query","schema":{"title":"A short description of struct","description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段\n\n","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryId","in":"path","schema":{"description":"代码库ID","type":"integer","format":"int64","required":true,"example":"2369234"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"sourceProjectId":{"description":"源代码库ID","type":"integer","format":"int64","required":true,"example":"2369234"},"sourceBranch":{"description":"源分支名称","type":"string","required":true,"example":"sourceBranch"},"targetProjectId":{"description":"目标代码库ID","type":"integer","format":"int64","required":true,"example":"2369234"},"targetBranch":{"description":"目标分支名称","type":"string","required":true,"example":"targetBranch"},"title":{"description":"合并请求标题","type":"string","required":true,"example":"测试合并请求的标题"},"createFrom":{"description":"创建来源，固定取值为：WEB","type":"string","required":true,"example":"WEB"},"description":{"description":"合并请求描述信息","type":"string","required":false,"example":"测试合并请求"},"reviewerIds":{"description":"评审人阿里云账号ID列表","type":"array","items":{"description":"阿里云账号ID","type":"string","required":false,"example":"1234567890"},"required":false},"workItemIds":{"description":"关联工作项ID，支持多个，以逗号隔开","type":"string","required":false,"example":"722200214032b6b31e6f1434ab"}},"required":true}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"F7B85D1B-D1C2-140F-A039-341859F130B9"},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"errorCode":{"description":"错误码","type":"string","example":"SYSTEM_UNKNOWN_ERROR"},"success":{"description":"调用是否成功","type":"boolean","example":"true"},"result":{"description":"返回结果","type":"object","properties":{"mrBizId":{"description":"合并请求唯一ID","type":"string","example":"bca90244c4b749e0b109df52ac0eb570"},"projectId":{"description":"代码库ID","type":"integer","format":"int64","example":"2369234"},"localId":{"description":"合并请求局部ID，表示代码库下的第几个合并请求","type":"integer","format":"int64","example":"1"},"createTime":{"description":"创建时间","type":"string","example":"2023-06-02T03:41:22Z"},"updateTime":{"description":"更新时间","type":"string","example":"2023-06-02T03:41:22Z"},"mrType":{"description":"合并请求类型，固定为：CODE_REVIEW","type":"string","example":"CODE_REVIEW"},"sourceProjectId":{"description":"评审分支所在的代码库ID","type":"integer","format":"int64","example":"2369234"},"sourceBranch":{"description":"源分支名称","type":"string","example":"sourceBranch"},"targetProjectId":{"description":"目标分支所在的代码库ID","type":"integer","format":"int64","example":"2369234"},"targetBranch":{"description":"目标分支名称","type":"string","example":"targetBranch"},"title":{"description":"合并请求标题","type":"string","example":"测试合并请求的标题"},"description":{"description":"合并请求描述信息","type":"string","example":"测试合并请求"},"reviewers":{"description":"评审人信息列表","type":"array","items":{"description":"评审人信息","type":"object","properties":{"id":{"description":"Codeup用户ID","type":"integer","format":"int64","example":"7905"},"name":{"description":"用户名称","type":"string","example":"codeup"},"username":{"description":"企业登录名","type":"string","example":"root-codeup"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"评审人的头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"邮箱地址","type":"string","example":"username@example.com"},"hasReviewed":{"description":"评审人是否已经评审过","type":"boolean","example":"false"},"reviewOpinionStatus":{"description":"评审意见\n- PASS：通过\n- NOT_PASS：暂不通过","type":"string","example":"PASS"}}}},"author":{"description":"创建人信息","type":"object","properties":{"id":{"description":"Codeup的用户ID","type":"integer","format":"int64","example":"19230"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"test-codeup-nickname"},"state":{"description":"用户状态，可选值：\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}},"subscribers":{"description":"订阅人信息列表","type":"array","items":{"description":"订阅人信息","type":"object","properties":{"id":{"description":"Codeup用户ID","type":"integer","format":"int64","example":"10092"},"name":{"description":"用户名称","type":"string","example":"test-codeup"},"username":{"description":"用户登录名","type":"string","example":"root-test-codeup"},"state":{"description":"用户状态，可选值：\n\n- active - 可用状态\n- blocked - 废弃或不可用","type":"string","example":"active"},"avatarUrl":{"description":"头像地址","type":"string","example":"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100"},"email":{"description":"用户邮箱","type":"string","example":"username@example.com"}}}},"status":{"description":"合并请求状态\n- UNDER_DEV：开发中\n- UNDER_REVIEW：评审中\n- TO_BE_MERGED：待合并\n- CLOSED：已关闭\n- MERGED：已合并","type":"string","example":"UNDER_REVIEW"},"createFrom":{"description":"创建来源，取值为：WEB","type":"string","example":"WEB"},"ahead":{"description":"源分支相较于目标分支多出的commit数量","type":"integer","format":"int32","example":"2"},"behind":{"description":"目标分支相较于源分支落后的commit数量","type":"integer","format":"int32","example":"0"},"detailUrl":{"description":"详情页地址","type":"string","example":"xxx"},"webUrl":{"description":"合并请求的web地址","type":"string","example":"https://codeup.aliyun.com/xxx/test/test\n"},"allRequirementsPass":{"description":"是否所有卡点通过","type":"boolean","example":"true"},"supportMergeFastForwardOnly":{"description":"是否支持fast-forward-only的合并方式","type":"boolean","example":"true"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"F7B85D1B-D1C2-140F-A039-341859F130B9\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorCode\\\": \\\"SYSTEM_UNKNOWN_ERROR\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"mrBizId\\\": \\\"bca90244c4b749e0b109df52ac0eb570\\\",\\n    \\\"projectId\\\": 2369234,\\n    \\\"localId\\\": 1,\\n    \\\"createTime\\\": \\\"2023-06-02T03:41:22Z\\\",\\n    \\\"updateTime\\\": \\\"2023-06-02T03:41:22Z\\\",\\n    \\\"mrType\\\": \\\"CODE_REVIEW\\\",\\n    \\\"sourceProjectId\\\": 2369234,\\n    \\\"sourceBranch\\\": \\\"sourceBranch\\\",\\n    \\\"targetProjectId\\\": 2369234,\\n    \\\"targetBranch\\\": \\\"targetBranch\\\",\\n    \\\"title\\\": \\\"测试合并请求的标题\\\",\\n    \\\"description\\\": \\\"测试合并请求\\\",\\n    \\\"reviewers\\\": [\\n      {\\n        \\\"id\\\": 7905,\\n        \\\"name\\\": \\\"codeup\\\",\\n        \\\"username\\\": \\\"root-codeup\\\",\\n        \\\"state\\\": \\\"active\\\",\\n        \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n        \\\"email\\\": \\\"username@example.com\\\",\\n        \\\"hasReviewed\\\": false,\\n        \\\"reviewOpinionStatus\\\": \\\"PASS\\\"\\n      }\\n    ],\\n    \\\"author\\\": {\\n      \\\"id\\\": 19230,\\n      \\\"name\\\": \\\"test-codeup\\\",\\n      \\\"username\\\": \\\"test-codeup-nickname\\\",\\n      \\\"state\\\": \\\"active\\\",\\n      \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n      \\\"email\\\": \\\"username@example.com\\\"\\n    },\\n    \\\"subscribers\\\": [\\n      {\\n        \\\"id\\\": 10092,\\n        \\\"name\\\": \\\"test-codeup\\\",\\n        \\\"username\\\": \\\"root-test-codeup\\\",\\n        \\\"state\\\": \\\"active\\\",\\n        \\\"avatarUrl\\\": \\\"https://tcs-devops.aliyuncs.com/thumbnail/112afcb7a6a35c3f67f1bea827c4/w/100/h/100\\\",\\n        \\\"email\\\": \\\"username@example.com\\\"\\n      }\\n    ],\\n    \\\"status\\\": \\\"UNDER_REVIEW\\\",\\n    \\\"createFrom\\\": \\\"WEB\\\",\\n    \\\"ahead\\\": 2,\\n    \\\"behind\\\": 0,\\n    \\\"detailUrl\\\": \\\"xxx\\\",\\n    \\\"webUrl\\\": \\\"https://codeup.aliyun.com/xxx/test/test\\\\n\\\",\\n    \\\"allRequirementsPass\\\": true,\\n    \\\"supportMergeFastForwardOnly\\\": true\\n  }\\n}\",\"type\":\"json\"}]","title":"创建合并请求","description":"该接口需要确保当前企业已经在使用新版MR，具体可看当前企业的合并请求页面是否已是新版本。"}