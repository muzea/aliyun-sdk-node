{"summary":"创建推送规则。","path":"/api/v4/projects/{repositoryId}/push_rule","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"organizationId","in":"query","schema":{"description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"5ebbc0228123212b59xxxxx"}},{"name":"accessToken","in":"query","schema":{"description":"个人访问令牌。\n使用阿里云AK+SK或使用STS临时授权方式不需要传该字段\n\n","type":"string","required":false,"example":"f0b1e61db5961df5975a93f9129d2513"}},{"name":"repositoryId","in":"path","schema":{"description":"代码库ID","type":"integer","format":"int64","required":true,"example":"187687"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求Body","type":"object","properties":{"ruleInfos":{"description":"规则列表","type":"array","items":{"description":"某项规则","type":"object","properties":{"checkerName":{"description":"规则名称，可选值：\n- CommitMessageChecker：提交说明规则\n- CommitAuthorEmailChecker：提交邮箱规则\n- CommitAuthorChecker：提交作者检查\n- CommitCommitterChecker：提交人检查\n- ForcePushChecker：禁止强制推送检查\n- CommitFilesChecker：提交文件限制规则","type":"string","required":false,"example":"CommitMessageChecker"},"extraMessage":{"description":"在提交说明、提交邮箱、检查作者、检查提交人以及禁止强制推送时有效：\n- 提交说明规则，extraMessage传入检查的正则表达式\n- 提交邮箱规则，extraMessage传入检查的邮箱正则表示\n- 禁止强制推送，extraMessage传入 \"disabled\"\n- 检查作者规则，extraMessage传入 \"on\"，若不需要则不传值\n- 检查提交人规则，extraMessage传入 \"on\"，若不需要则不传值","type":"string","required":false,"example":"user@example.com"},"checkerType":{"description":"该字段作用于代码属主检查下的限制级别设置，仅检查作者和检查提交者有效，其他规则可不传值，可选值：\n- warn：仅警告，允许推送\n- block：禁止推送","type":"string","required":false,"example":"warn"},"fileRuleRegexes":{"description":"该字段仅作用于提交文件限制，传入正则表达式，支持多条正则限制","type":"array","items":{"description":"文件限制正则表达式","type":"string","required":false,"example":"\\.java$"},"required":false}},"required":false},"required":true}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"ASSDS-ASSASX-XSAXSA-XSAXSAXS"},"errorCode":{"description":"错误码","type":"string","example":"\"\""},"errorMessage":{"description":"错误信息","type":"string","example":"\"\""},"success":{"description":"请求是否成功","type":"boolean","example":"true"},"result":{"description":"返回结果","type":"object","properties":{"id":{"description":"推送规则ID","type":"integer","format":"int64","example":"2077"},"ruleInfos":{"description":"规则信息列表","type":"array","items":{"description":"规则信息","type":"object","properties":{"checkerName":{"description":"规则名称，可选值：\n\n- CommitMessageChecker：提交说明规则\n- CommitAuthorEmailChecker：提交邮箱规则\n- CommitAuthorChecker：提交作者检查\n- CommitCommitterChecker：提交人检查\n- ForcePushChecker：禁止强制推送检查\n- CommitFilesChecker：提交文件限制规则","type":"string","example":"ForcePushChecker"},"checkerType":{"description":"该字段作用于代码属主检查下的限制级别设置，仅检查作者和检查提交者有效，其他规则可不传值，可选值：\n\n- warn：仅警告，允许推送\n- block：禁止推送","type":"string","example":"warn"},"extraMessage":{"description":"在提交说明、提交邮箱、检查作者、检查提交人以及禁止强制推送时有效：\n- 提交说明规则，extraMessage传入检查的正则表达式\n- 提交邮箱规则，extraMessage传入检查的邮箱正则表示\n- 禁止强制推送，extraMessage传入 \"disabled\"\n- 检查作者规则，extraMessage传入 \"on\"，若不需要则不传值\n- 检查提交人规则，extraMessage传入 \"on\"，若不需要则不传值","type":"string","example":"disabled"},"fileRuleRegexes":{"description":"该字段仅作用于提交文件限制，传入正则表达式，支持多条正则限制","type":"array","items":{"description":"文件限制正则表达式","type":"string","example":"\\.java$\n"}}}}},"gmtCreate":{"description":"创建时间","type":"string","example":"2023-09-03T18:20:06+08:00"},"gmtModified":{"description":"修改时间","type":"string","example":"2023-09-03T18:20:06+08:00"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ASSDS-ASSASX-XSAXSA-XSAXSAXS\\\",\\n  \\\"errorCode\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"success\\\": true,\\n  \\\"result\\\": {\\n    \\\"id\\\": 2077,\\n    \\\"ruleInfos\\\": [\\n      {\\n        \\\"checkerName\\\": \\\"ForcePushChecker\\\",\\n        \\\"checkerType\\\": \\\"warn\\\",\\n        \\\"extraMessage\\\": \\\"disabled\\\",\\n        \\\"fileRuleRegexes\\\": [\\n          \\\"\\\\\\\\.java$\\\\n\\\"\\n        ]\\n      }\\n    ],\\n    \\\"gmtCreate\\\": \\\"2023-09-03T18:20:06+08:00\\\",\\n    \\\"gmtModified\\\": \\\"2023-09-03T18:20:06+08:00\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"创建推送规则","description":"需要代码库管理员以上权限。"}