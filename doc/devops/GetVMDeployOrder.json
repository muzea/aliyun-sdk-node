{"summary":"可以获取部署单详情。","path":"/organization/{organizationId}/pipelines/{pipelineId}/deploy/{deployOrderId}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{},"parameters":[{"name":"organizationId","in":"path","schema":{"title":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","description":"企业标识，也称企业id，字符串形式，可在云效访问链接中获取，如https://devops.aliyun.com/organization/【OrganizationId】","type":"string","required":true,"example":"5ebbc0228123212b59xxxxx"}},{"name":"pipelineId","in":"path","schema":{"title":"12222","description":"流水线ID，可在流水线链接中获取，如https://flow.aliyun.com/pipelines/【PipelineId】/current","type":"integer","format":"int64","required":true,"example":"1222"}},{"name":"deployOrderId","in":"path","schema":{"title":"部署单ID","description":"部署单ID","type":"integer","format":"int64","required":true,"example":"11111"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"请求id，每次请求都是唯一值，便于后续排查问题","description":"请求id，每次请求都是唯一值，便于后续排查问题","type":"string","example":"ASSDS-ASSASX-XSAXSA-XSAXSAXS"},"errorMessage":{"title":"错误信息","description":"错误信息","type":"string","example":"”“"},"success":{"title":"true 接口调用成功，false 接口调用失败","description":"true 接口调用成功，false 接口调用失败","type":"boolean","example":"true 接口调用成功，false 接口调用失败"},"errorCode":{"title":"错误码","description":"错误码","type":"string","example":"”“"},"deployOrder":{"title":"部署单","description":"部署单","type":"object","properties":{"deployOrderId":{"title":"部署单ID","description":"部署单ID","type":"string","example":"11111"},"createTime":{"title":"创建时时间","description":"创建时时间","type":"integer","format":"int64","example":"111111111111"},"updateTime":{"title":"修改时间","description":"修改时间","type":"integer","format":"int64","example":"11111111111"},"creator":{"title":"创建人","description":"创建人","type":"string","example":"ssaassa"},"currentBatch":{"title":"当前发布批次","description":"当前发布批次","type":"integer","format":"int32","example":"2"},"totalBatch":{"title":"总发布批次","description":"总发布批次","type":"integer","format":"int32","example":"3"},"status":{"title":"发布状态","description":"发布状态\n  \n- Waiting（暂停）\n\n- Running（部署中） \n\n- Cancelled（已取消）\n\n- Success（成功）","type":"string","example":"Success"},"exceptionCode":{"title":"错误码","description":"错误码","type":"string","example":"错误信息"},"deployMachineInfo":{"title":"部署机器信息","description":"部署机器信息","type":"object","properties":{"hostGroupId":{"title":"主机组ID","description":"主机组ID","type":"integer","format":"int64","example":"1111"},"batchNum":{"title":"发布批次","description":"发布批次","type":"integer","format":"int32","example":"11"},"deployMachines":{"title":"部署机器列表","description":"部署机器列表","type":"array","items":{"description":"部署机器","type":"object","properties":{"createTime":{"title":"开始时间","description":"开始时间","type":"integer","format":"int64","example":"1111111111"},"updateTime":{"title":"修改时间","description":"修改时间","type":"integer","format":"int64","example":"11111111"},"status":{"title":"部署状态","description":"- Success(成功)\n\n- Pending（待部署） \n\n- Running（部署中）\n\n-  Cancelled（取消）\n\n-  Queued(部署等待中)\n\n-  Failed（失败）\n\n-  Skipped（已跳过）","type":"string","example":"Success"},"machineSn":{"title":"机器sn","description":"机器sn","type":"string","example":"sasssasa"},"clientStatus":{"title":"机器状态","description":"ok(正常)  error(连接失败)","type":"string","example":"ok"},"ip":{"title":"机器IP","description":"机器IP","type":"string","example":"127.0.0.1"},"actions":{"title":"后续action","description":"后续action","type":"array","items":{"description":"后续可以执行的action","type":"object","properties":{"type":{"title":"Action","description":"- RetryVMDeployMachine 重试机器部署\n- SkipVMDeployMachine  跳过机器部署\n- LogVMDeployMachine  查看机器部署日志","type":"string","example":"RetryVMDeployMachine"},"disable":{"title":"是否可用","description":"当前用户是否有权限进行后续action","type":"boolean","example":"true"},"params":{"title":"参数","description":"参数","type":"any","example":"{}"}}}},"batchNum":{"title":"部署批次","description":"部署批次","type":"integer","format":"int32","example":"22"}}}}}},"actions":{"title":"后续action","description":"后续action","type":"array","items":{"description":"后续可以进行的Action","type":"object","properties":{"type":{"title":"Action","description":"StopVMDeployOrder  取消部署单\nResumeVMDeployOrder  继续部署单运行","type":"string","example":"StopVMDeployOrder"},"disable":{"title":"是否可用","description":"当前用户是否有权限进行后续action","type":"boolean","example":"true"},"params":{"title":"参数","description":"参数","type":"any","example":"{}"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidCluster.NotFound","errorMessage":"No cluster is available to generate the workspace."},{"errorCode":"InvalidCodeUrl.NotSupportSVN","errorMessage":"The parameter codeUrl is invalid. SVN is not supported."},{"errorCode":"InvalidParam.ParamNotPresent","errorMessage":"The parameter is invalid."},{"errorCode":"InvalidResource.NotFound","errorMessage":"No resource is found. You cannot create the workspace. Please try again later."},{"errorCode":"InvalidResourceRole.NotFoun","errorMessage":"The member role is invalid."},{"errorCode":"InvalidResourceRole.NotFound","errorMessage":"The member role is invalid."},{"errorCode":"InvalidUser.NotFound","errorMessage":"The user that is invoking the API service is not a registered user."},{"errorCode":"InvalidUser.ResourceMemberCouldNotDeleteOwner","errorMessage":"Resource owner cannot be deleted."},{"errorCode":"InvalidUser.ResourceMemberNotExists","errorMessage":"The resource member does not exist."},{"errorCode":"InvalidUser.UserNotInCurrentOrganization","errorMessage":"The user is not in the organization."},{"errorCode":"InvalidWorkspaceStatus.NotSuccess","errorMessage":"The workspace status is invalid. You can only operate workspaces with the SUCCESS status."},{"errorCode":"InvalidWorkspaceTemplate.NotFound","errorMessage":"The parameter workspaceTemplate is not found."}],"403":[{"errorCode":"Forbidden.AccessDenied","errorMessage":"The user is not authorized to perform the operation."},{"errorCode":"Forbidden.UserNotAdminOrOwner","errorMessage":"The current user is not an admin or owner in the organization and is not authorized to perform the operation."},{"errorCode":"Forbidden.UserNotInCurrentOrganization","errorMessage":"The user is not in the organization and is not authorized to perform the operation."}],"404":[{"errorCode":"InvalidOrganization.NotFound","errorMessage":"The organization is not found."},{"errorCode":"InvalidPipeline.NotFound","errorMessage":"The pipeline is not found."},{"errorCode":"InvalidPipelineRun.NotFound","errorMessage":"The pipeline execution instance is not found."},{"errorCode":"InvalidUser.UserNotInCurrentOrganization","errorMessage":"The current user is not in the organization and has no permission to operate."},{"errorCode":"InvalidWorkspace.NotFound","errorMessage":"The workspace is not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"ASSDS-ASSASX-XSAXSA-XSAXSAXS\\\",\\n  \\\"errorMessage\\\": \\\"”“\\\",\\n  \\\"success\\\": true,\\n  \\\"errorCode\\\": \\\"”“\\\",\\n  \\\"deployOrder\\\": {\\n    \\\"deployOrderId\\\": \\\"11111\\\",\\n    \\\"createTime\\\": 111111111111,\\n    \\\"updateTime\\\": 11111111111,\\n    \\\"creator\\\": \\\"ssaassa\\\",\\n    \\\"currentBatch\\\": 2,\\n    \\\"totalBatch\\\": 3,\\n    \\\"status\\\": \\\"Success\\\",\\n    \\\"exceptionCode\\\": \\\"错误信息\\\",\\n    \\\"deployMachineInfo\\\": {\\n      \\\"hostGroupId\\\": 1111,\\n      \\\"batchNum\\\": 11,\\n      \\\"deployMachines\\\": [\\n        {\\n          \\\"createTime\\\": 1111111111,\\n          \\\"updateTime\\\": 11111111,\\n          \\\"status\\\": \\\"Success\\\",\\n          \\\"machineSn\\\": \\\"sasssasa\\\",\\n          \\\"clientStatus\\\": \\\"ok\\\",\\n          \\\"ip\\\": \\\"127.0.0.1\\\",\\n          \\\"actions\\\": [\\n            {\\n              \\\"type\\\": \\\"RetryVMDeployMachine\\\",\\n              \\\"disable\\\": true,\\n              \\\"params\\\": {}\\n            }\\n          ],\\n          \\\"batchNum\\\": 22\\n        }\\n      ]\\n    },\\n    \\\"actions\\\": [\\n      {\\n        \\\"type\\\": \\\"StopVMDeployOrder\\\",\\n        \\\"disable\\\": true,\\n        \\\"params\\\": {}\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetVMDeployOrderResponse>\\n    <requestId>ASSDS-ASSASX-XSAXSA-XSAXSAXS</requestId>\\n    <errorMessage>”“</errorMessage>\\n    <success>false</success>\\n    <errorCode>”“</errorCode>\\n    <deployOrder>\\n        <deployOrderId>11111</deployOrderId>\\n        <createTime>111111111111</createTime>\\n        <updateTime>11111111111</updateTime>\\n        <creator>ssaassa</creator>\\n        <currentBatch>2</currentBatch>\\n        <totalBatch>3</totalBatch>\\n        <status>Success</status>\\n        <exceptionCode>错误信息</exceptionCode>\\n        <deployMachineInfo>\\n            <hostGroupId>1111</hostGroupId>\\n            <batchNum>11</batchNum>\\n            <deployMachines>\\n                <createTime>1111111111</createTime>\\n                <updateTime>11111111</updateTime>\\n                <status>Success</status>\\n                <machineSn>sasssasa</machineSn>\\n                <clientStatus>ok</clientStatus>\\n                <ip>127.0.0.1</ip>\\n                <actions>\\n                    <type>RetryVMDeployMachine</type>\\n                    <disable>true</disable>\\n                </actions>\\n                <batchNum>22</batchNum>\\n            </deployMachines>\\n        </deployMachineInfo>\\n        <actions>\\n            <type>StopVMDeployOrder</type>\\n            <disable>true</disable>\\n        </actions>\\n    </deployOrder>\\n</GetVMDeployOrderResponse>\",\"errorExample\":\"\"}]","title":"获取部署单详情"}