{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"访问控制实例所属地域ID。\n\n您可以通过调用[DescribeRegions](~~69813~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-shanghai"}},{"name":"AclId","in":"query","schema":{"description":"访问控制实例ID。","type":"string","required":true,"docRequired":true,"example":"acl-xhwhyuo43l0n*****"}},{"name":"Description","in":"query","schema":{"description":"访问控制规则描述信息。\n\n描述长度为**1~512**个字符。","type":"string","required":false,"example":"desctest"}},{"name":"Direction","in":"query","schema":{"description":"访问控制规则应用方向。取值：\n\n- **in**：入方向，指从外部访问智能接入网关实例所在的本地分支的流量。\n- **out**：出方向，指从智能接入网关实例所在的本地分支访问外部的流量。","type":"string","required":true,"docRequired":true,"example":"in"}},{"name":"SourceCidr","in":"query","schema":{"description":"源网段。\n\n源网段格式为CIDR格式。例如：192.168.1.0/24。","type":"string","required":true,"docRequired":true,"example":"192.168.20.0/24"}},{"name":"DestCidr","in":"query","schema":{"description":"目的网段。\n\n目的网段格式为CIDR格式。例如：192.168.10.0/24。","type":"string","required":true,"docRequired":true,"example":"192.168.10.0/24"}},{"name":"IpProtocol","in":"query","schema":{"description":"访问控制规则应用的协议。\n\n访问控制功能支持的协议类型，请以控制台为准。协议格式不区分大小写。","type":"string","required":true,"docRequired":true,"example":"tcp"}},{"name":"SourcePortRange","in":"query","schema":{"description":"源端口范围。\n\n取值范围：**-1**或**1**~**65535**。\n\n源端口范围格式例如：1/200、80/80，其中-1/-1代表不限制端口。","type":"string","required":true,"docRequired":true,"example":"1/200"}},{"name":"DestPortRange","in":"query","schema":{"description":"目的端口范围。\n\n取值范围：**-1**或**1**~**65535**。\n\n目的端口范围格式例如：1/200、80/80，其中-1/-1代表不限制端口。","type":"string","required":true,"docRequired":true,"example":"1/200"}},{"name":"Policy","in":"query","schema":{"description":"访问控制规则授权策略。取值：\n\n- **accept**：允许。\n\n- **drop**：拒绝。","type":"string","required":true,"docRequired":true,"example":"accept"}},{"name":"Priority","in":"query","schema":{"description":"访问控制规则优先级。\n\n数值越小，优先级越高。同优先级时，首先下发到智能接入网关设备的规则优先生效。\n\n取值范围：**1~100**。默认值：**1**。\n\n","type":"integer","format":"int32","required":false,"example":"12","default":"1"}},{"name":"Type","in":"query","schema":{"description":"访问控制规则类型。取值：\n\n- **LAN**：（默认值）私网，表示针对私网地址的流量设置访问控制规则。\n\n- **WAN**：公网，表示针对公网地址的流量设置访问控制规则。","type":"string","required":false,"example":"LAN","default":"LAN","enum":["LAN","WAN"]}},{"name":"Name","in":"query","schema":{"description":"访问控制规则名称。\n\n长度为2~100个字符，以大小写字母或中文开头，可包含数字、半角句号（.）、下划线（_）和短划线（-）。","type":"string","required":false,"example":"doctest"}},{"name":"DpiSignatureIds","in":"query","style":"repeatList","schema":{"description":"当前访问控制规则匹配的应用ID列表。\n\n您可以通过[ListDpiSignatures](~~196630~~)查询应用ID及其对应的应用信息。N的最大值为**10**。\n","type":"array","items":{"description":"应用ID。\n\n系统支持一次最多输入100个应用ID。","type":"string","required":false,"example":"1"},"required":false,"example":"1","maxItems":100}},{"name":"DpiGroupIds","in":"query","style":"repeatList","schema":{"description":"当前访问控制规则匹配的应用组ID列表。\n\n您可以通过[ListDpiGroups](~~196754~~)查询应用组ID及其包含的应用信息。N的最大值为**10**。","type":"array","items":{"description":"应用组ID。\n\n系统支持一次最多输入100个应用组ID。","type":"string","required":false,"example":"20"},"required":false,"example":"20","maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"Policy":{"description":"访问控制规则授权策略。\n\n- **accept**：允许。\n\n- **drop**：拒绝。","type":"string","example":"drop"},"Description":{"description":"访问控制规则描述信息。","type":"string","example":"test"},"RequestId":{"description":"请求ID。","type":"string","example":"880F84CB-9B54-4413-A8A3-8832C82D1BC4"},"SourcePortRange":{"description":"源端口范围。","type":"string","example":"1/65535"},"SourceCidr":{"description":"源网段。\n\n源网段格式为CIDR格式。例如：192.168.1.0/24。","type":"string","example":"192.168.20.0/24"},"Priority":{"description":"访问控制规则优先级。\n\n数值越小，优先级越高。同优先级时，首先下发到智能接入网关设备的规则优先生效。\n","type":"integer","format":"int32","example":"1"},"AclId":{"description":"访问控制实例ID。","type":"string","example":"acl-xhwhyuo43l0*******"},"AcrId":{"description":"访问控制规则ID。","type":"string","example":"acr-c1hkd054qywi******"},"DestPortRange":{"description":"目的端口范围。","type":"string","example":"1/65535"},"Direction":{"description":"访问控制规则应用方向。取值：\n\n- **in**：入方向，指从外部访问智能接入网关实例所在的本地分支的流量。\n- **out**：出方向，指从智能接入网关实例所在的本地分支访问外部的流量。","type":"string","example":"out"},"DpiGroupIds":{"type":"object","properties":{"DpiGroupId":{"type":"array","items":{"description":"当前访问控制规则匹配的应用组ID列表。","type":"string","example":"20"}}}},"Name":{"description":"访问控制规则名称。","type":"string","example":"doctest"},"Type":{"description":"访问控制规则类型。\n\n- **LAN**：私网，表示针对私网地址的流量设置访问控制规则。\n\n- **WAN**：公网，表示针对公网地址的流量设置访问控制规则。","type":"string","example":"LAN"},"GmtCreate":{"description":"创建访问控制规则时的时间戳。\n\n时间戳格式为Long型，优先级相同时，时间戳小的访问控制规则优先生效。","type":"integer","format":"int64","example":"1553766882689"},"DestCidr":{"description":"目的网段。\n\n目的网段格式为CIDR格式。例如：192.168.10.0/24。","type":"string","example":"192.168.10.0/24"},"DpiSignatureIds":{"type":"object","properties":{"DpiSignatureId":{"type":"array","items":{"description":"当前访问控制规则匹配的应用ID列表。","type":"string","example":"1"}}}},"IpProtocol":{"description":"访问控制规则应用的协议。","type":"string","example":"TCP"}}}}},"errorCodes":{"400":[{"errorCode":"ACL.NoSupportWanType","errorMessage":"An SAG 1000 device does not support a WAN ACL."},{"errorCode":"ACL.InvalidType","errorMessage":"The specified ACL type is invalid."}],"403":[{"errorCode":"Forbidden","errorMessage":"User not authorized to operate on the specified resource."},{"errorCode":"MissingParameter","errorMessage":"The input parameter is missing, please check your input."},{"errorCode":"InvalidDescription","errorMessage":"Description not valid."},{"errorCode":"InvalidParameter","errorMessage":"The specified parameter is invalid."},{"errorCode":"FeatureNotSupport","errorMessage":"The current edition of the smart access gateway does not support this feature."},{"errorCode":"FeatureNotSupportForActiveSmartAG","errorMessage":"The current edition of the active smart access gateway does not support this feature."},{"errorCode":"FeatureNotSupportForStandBySmartAG","errorMessage":"The current edition of the standby smart access gateway does not support this feature."},{"errorCode":"NotSupportedProtocol","errorMessage":"The specified protocol of the ACL rule is not supported."},{"errorCode":"InvalidId.ACL","errorMessage":"The specified ACL ID is invalid."},{"errorCode":"InvalidPortRange","errorMessage":"The specified port range is invalid."},{"errorCode":"AcrPerAclAmountLimit","errorMessage":"The maximum number of rules in an ACL is exceeded. You can open a ticket to increase the quota."},{"errorCode":"InternalError","errorMessage":"An internal server error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Policy\\\": \\\"drop\\\",\\n  \\\"Description\\\": \\\"test\\\",\\n  \\\"RequestId\\\": \\\"880F84CB-9B54-4413-A8A3-8832C82D1BC4\\\",\\n  \\\"SourcePortRange\\\": \\\"1/65535\\\",\\n  \\\"SourceCidr\\\": \\\"192.168.20.0/24\\\",\\n  \\\"Priority\\\": 1,\\n  \\\"AclId\\\": \\\"acl-xhwhyuo43l0*******\\\",\\n  \\\"AcrId\\\": \\\"acr-c1hkd054qywi******\\\",\\n  \\\"DestPortRange\\\": \\\"1/65535\\\",\\n  \\\"Direction\\\": \\\"out\\\",\\n  \\\"DpiGroupIds\\\": {\\n    \\\"DpiGroupId\\\": [\\n      \\\"20\\\"\\n    ]\\n  },\\n  \\\"Name\\\": \\\"doctest\\\",\\n  \\\"Type\\\": \\\"LAN\\\",\\n  \\\"GmtCreate\\\": 1553766882689,\\n  \\\"DestCidr\\\": \\\"192.168.10.0/24\\\",\\n  \\\"DpiSignatureIds\\\": {\\n    \\\"DpiSignatureId\\\": [\\n      \\\"1\\\"\\n    ]\\n  },\\n  \\\"IpProtocol\\\": \\\"TCP\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddACLRuleResponse>\\n    <Policy>drop</Policy>\\n    <Description>test</Description>\\n    <RequestId>880F84CB-9B54-4413-A8A3-8832C82D1BC4</RequestId>\\n    <SourcePortRange>1/65535</SourcePortRange>\\n    <SourceCidr>192.168.20.0/24</SourceCidr>\\n    <Priority>1</Priority>\\n    <AclId>acl-xhwhyuo43l0*******</AclId>\\n    <AcrId>acr-c1hkd054qywi******</AcrId>\\n    <DestPortRange>1/65535</DestPortRange>\\n    <Direction>out</Direction>\\n    <DpiGroupIds>20</DpiGroupIds>\\n    <Name>doctest</Name>\\n    <Type>LAN</Type>\\n    <GmtCreate>1553766882689</GmtCreate>\\n    <DestCidr>192.168.10.0/24</DestCidr>\\n    <DpiSignatureIds>1</DpiSignatureIds>\\n    <IpProtocol>TCP</IpProtocol>\\n</AddACLRuleResponse>\",\"errorExample\":\"\"}]","title":"添加访问控制规则","summary":"调用AddACLRule添加访问控制规则。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}