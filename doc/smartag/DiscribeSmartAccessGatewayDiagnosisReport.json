{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"SmartAGId","in":"query","schema":{"description":"智能接入网关实例ID。","type":"string","required":true,"docRequired":true,"example":"sag-1um5x5nwhilymw****"}},{"name":"SmartAGSn","in":"query","schema":{"description":"智能接入网关设备序列号。","type":"string","required":true,"docRequired":true,"example":"sage62x022502****"}},{"name":"RegionId","in":"query","schema":{"description":"智能接入网关实例所属地域ID。\n\n您可以通过调用[DescribeRegions](~~36063~~)接口获取地域ID。  ","type":"string","required":false,"docRequired":true,"example":"cn-shanghai"}}],"responses":{"200":{"schema":{"description":"诊断结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D7D6E3AB-D41A-42E3-8D4E-97B145F4B7C3"},"DiagnoseResult":{"description":"智能接入网关设备诊断报告。","type":"object","properties":{"Percent":{"description":"诊断报告完成度百分比。","type":"integer","format":"int32","example":"100"},"SN":{"description":"智能接入网关设备序列号。","type":"string","example":"sag42c3****"},"DiagnoseId":{"description":"诊断ID。","type":"string","example":"dia-sag42c3t703trh02olv5rf****"},"State":{"description":"诊断状态。\n\n- **processing**：诊断进行中。\n- **finished**：诊断成功。\n- **failed**：诊断失败。\n- **error**：诊断过程出现错误。\n- **upload_to_sls_fail**：诊断报告上传失败。\n","type":"string","example":"finished"},"UserLevel":{"description":"发起诊断的用户类型。取值：**user**。","type":"string","example":"user"},"BoxVersion":{"description":"智能接入网关设备运行的软件版本。","type":"string","example":"2.1.0"},"InstanceId":{"description":"智能接入网关实例ID。","type":"string","example":"sag-0nnteglltw6z4b***"},"BoxType":{"description":"智能接入网关设备类型。\n\n- **sag-1000**\n- **sag-100WM**","type":"string","example":"sag-1000"},"MonitorVersion":{"description":"智能接入网关设备使用的监控版本。","type":"string","example":"2.0.2.9"},"FinishedNumber":{"description":"已完成的诊断项个数。","type":"integer","format":"int32","example":"15"},"Details":{"description":"诊断结果信息列表。","type":"array","items":{"description":"诊断结果详细信息。","type":"object","properties":{"Type":{"description":"诊断类型。\n\n- **config**：SAG配置。\n- **internet**：全网质量。\n- **biz**：业务质量。","type":"string","example":"config"},"Items":{"description":"诊断项详细信息列表。","type":"array","items":{"description":"诊断项详细信息。","type":"object","properties":{"Type":{"description":"诊断项所属诊断类型。\n\n- **config**：SAG配置。\n- **internet**：全网质量。\n- **biz**：业务质量。","type":"string","example":"config"},"EndTime":{"description":"诊断项诊断结束时间戳。","type":"integer","format":"int64","example":"1602741570596"},"StartTime":{"description":"诊断项诊断开始时间戳。","type":"integer","format":"int64","example":"1602741570567"},"CN":{"description":"中文版诊断结果。","type":"object","properties":{"Advice":{"description":"诊断建议。","type":"array","items":{"description":"诊断建议。","type":"string","example":"请先检查专线端口链路接线，然后进入本地“专线管理”页面进行配置。"}},"ItemName":{"description":"诊断项名称。","type":"string","example":"专线口配置检查"},"ItemLevel":{"description":"诊断项的诊断结果等级。\n\n- **严重**：标识该诊断项问题可能会影响业务运行，建议优先处理。\n- **警告**：标识该诊断项有问题，请依据建议酌情处理。\n- **正常**：标识该诊断项正常运行，无需任何操作。","type":"string","example":"正常"},"ItemType":{"description":"诊断项所属诊断类型。\n\n- **配置**：标识属于**SAG配置**类型。\n- **业务**：标识属于**业务质量**类型。\n- **公网**：标识属于**全网质量**类型。","type":"string","example":"配置"},"Details":{"description":"诊断结果","type":"array","items":{"description":"诊断结果。","type":"string","example":"所有专线端口存在链路异常或缺少端口IP：端口4"}}}},"ItemName":{"description":"诊断项名称，为诊断项唯一标识。","type":"string","example":"eccConfigCheck"},"EN":{"description":"英文版诊断结果。","type":"object","properties":{"Advice":{"description":"诊断建议。","type":"array","items":{"description":"诊断建议。","type":"string","example":"Check the physical connections to all Express connect ports and configure these ports on the 'Physical connection port' page."}},"ItemName":{"description":"诊断项名称。","type":"string","example":"Express Connect Port Configuration"},"ItemLevel":{"description":"诊断项的诊断结果等级。\n\n- **ERROR**：标识该诊断项问题可能会影响业务运行，建议优先处理。\n- **WARNING**：标识该诊断项有问题，请依据建议酌情处理。\n- **INFO**：标识该诊断项正常运行，无需任何操作。","type":"string","example":"ERROR"},"ItemType":{"description":"诊断项所属诊断类型。\n\n- **Config**：标识属于**SAG配置**类型。\n- **Service**：标识属于**业务质量**类型。\n- **Internet**：标识属于**全网质量**类型。","type":"string","example":"Config"},"Details":{"description":"诊断结果。","type":"array","items":{"description":"诊断结果。","type":"string","example":"The connection states of all Express connect ports are down and no IP address is specified for these ports: Port4"}}}},"Level":{"description":"诊断项诊断结果等级。\n\n- **error**：严重。\n- **warning**：警告。\n- **info**：正常。","type":"string","example":"error"}}}},"Statistics":{"description":"当前诊断类型下的诊断项等级统计信息列表。","type":"object","properties":{"Warning":{"description":"诊断结果等级为**警告**的诊断项数量。","type":"integer","format":"int32","example":"2"},"Error":{"description":"诊断结果等级为**严重**的诊断项数量。","type":"integer","format":"int32","example":"5"},"Total":{"description":"当前诊断类型下的诊断项总数。","type":"integer","format":"int32","example":"10"},"Info":{"description":"诊断结果等级为**正常**的诊断项数量。","type":"integer","format":"int32","example":"3"}}}}}},"UId":{"description":"智能接入网关实例所属账号ID。","type":"string","example":"1688000000000000"},"EndTime":{"description":"诊断结束时间戳。","type":"integer","format":"int32","example":"160274157"},"StartTime":{"description":"诊断开始时间戳。","type":"integer","format":"int32","example":"160274157"},"StoreType":{"description":"存储类型。\n\n取值：**both**，表示同时存储在智能接入网关设备和日志服务SLS（Log Service）中。","type":"string","example":"both"},"ReportSLSSuccess":{"description":"诊断报告上传至SLS中的状态。\n\n- **0**：上传失败。\n- **1**：上传成功。","type":"integer","format":"int32","example":"0"},"TotalNumber":{"description":"诊断结果条目总数。","type":"integer","format":"int32","example":"15"},"Level":{"description":"诊断结果等级。","type":"object","properties":{"Configuration":{"description":"SAG配置诊断结果等级。","type":"string","example":"info"},"Total":{"description":"整体诊断结果等级。\n\n- **error**：严重。\n- **warning**：警告。\n- **info**：正常。","type":"string","example":"error"},"Biz":{"description":"业务质量诊断结果等级。","type":"string","example":"warning"}}},"Statistics":{"description":"整体诊断项结果统计信息。","type":"object","properties":{"Warning":{"description":"诊断结果等级为**警告**的诊断项总数量。","type":"integer","format":"int32","example":"3"},"Error":{"description":"诊断结果等级为**严重**的诊断项总数量。","type":"integer","format":"int32","example":"2"},"Total":{"description":"全部诊断项总数。","type":"integer","format":"int32","example":"10"},"Info":{"description":"诊断结果等级为**正常**的诊断项总数量。","type":"integer","format":"int32","example":"5"}}}}}}}}},"errorCodes":{"403":[{"errorCode":"MissingParameter","errorMessage":"The input parameter is missing, please check your input."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D7D6E3AB-D41A-42E3-8D4E-97B145F4B7C3\\\",\\n  \\\"DiagnoseResult\\\": {\\n    \\\"Percent\\\": 100,\\n    \\\"SN\\\": \\\"sag42c3****\\\",\\n    \\\"DiagnoseId\\\": \\\"dia-sag42c3t703trh02olv5rf****\\\",\\n    \\\"State\\\": \\\"finished\\\",\\n    \\\"UserLevel\\\": \\\"user\\\",\\n    \\\"BoxVersion\\\": \\\"2.1.0\\\",\\n    \\\"InstanceId\\\": \\\"sag-0nnteglltw6z4b***\\\",\\n    \\\"BoxType\\\": \\\"sag-1000\\\",\\n    \\\"MonitorVersion\\\": \\\"2.0.2.9\\\",\\n    \\\"FinishedNumber\\\": 15,\\n    \\\"Details\\\": [\\n      {\\n        \\\"Type\\\": \\\"config\\\",\\n        \\\"Items\\\": [\\n          {\\n            \\\"Type\\\": \\\"config\\\",\\n            \\\"EndTime\\\": 1602741570596,\\n            \\\"StartTime\\\": 1602741570567,\\n            \\\"CN\\\": {\\n              \\\"Advice\\\": [\\n                \\\"请先检查专线端口链路接线，然后进入本地“专线管理”页面进行配置。\\\"\\n              ],\\n              \\\"ItemName\\\": \\\"专线口配置检查\\\",\\n              \\\"ItemLevel\\\": \\\"正常\\\",\\n              \\\"ItemType\\\": \\\"配置\\\",\\n              \\\"Details\\\": [\\n                \\\"所有专线端口存在链路异常或缺少端口IP：端口4\\\"\\n              ]\\n            },\\n            \\\"ItemName\\\": \\\"eccConfigCheck\\\",\\n            \\\"EN\\\": {\\n              \\\"Advice\\\": [\\n                \\\"Check the physical connections to all Express connect ports and configure these ports on the 'Physical connection port' page.\\\"\\n              ],\\n              \\\"ItemName\\\": \\\"Express Connect Port Configuration\\\",\\n              \\\"ItemLevel\\\": \\\"ERROR\\\",\\n              \\\"ItemType\\\": \\\"Config\\\",\\n              \\\"Details\\\": [\\n                \\\"The connection states of all Express connect ports are down and no IP address is specified for these ports: Port4\\\"\\n              ]\\n            },\\n            \\\"Level\\\": \\\"error\\\"\\n          }\\n        ],\\n        \\\"Statistics\\\": {\\n          \\\"Warning\\\": 2,\\n          \\\"Error\\\": 5,\\n          \\\"Total\\\": 10,\\n          \\\"Info\\\": 3\\n        }\\n      }\\n    ],\\n    \\\"UId\\\": \\\"1688000000000000\\\",\\n    \\\"EndTime\\\": 160274157,\\n    \\\"StartTime\\\": 160274157,\\n    \\\"StoreType\\\": \\\"both\\\",\\n    \\\"ReportSLSSuccess\\\": 0,\\n    \\\"TotalNumber\\\": 15,\\n    \\\"Level\\\": {\\n      \\\"Configuration\\\": \\\"info\\\",\\n      \\\"Total\\\": \\\"error\\\",\\n      \\\"Biz\\\": \\\"warning\\\"\\n    },\\n    \\\"Statistics\\\": {\\n      \\\"Warning\\\": 3,\\n      \\\"Error\\\": 2,\\n      \\\"Total\\\": 10,\\n      \\\"Info\\\": 5\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DiscribeSmartAccessGatewayDiagnosisReportResponse>\\n    <RequestId>1BC73F52-5104-4E77-8F4C-80E5B1ED9D21</RequestId>\\n    <DiagnoseResult>\\n        <EndTime>1602741571690</EndTime>\\n        <Percent>100</Percent>\\n        <UserLevel>user</UserLevel>\\n        <InstanceId>sag-0nnteglltw6z4b****</InstanceId>\\n        <FinishedNumber>5</FinishedNumber>\\n        <StartTime>1602741570554</StartTime>\\n        <BoxType>sag-1000</BoxType>\\n        <Statistics>\\n            <Warning>0</Warning>\\n            <Total>5</Total>\\n            <Error>1</Error>\\n            <Info>4</Info>\\n        </Statistics>\\n        <StoreType>both</StoreType>\\n        <MonitorVersion>2.0.2.9</MonitorVersion>\\n        <UId>1688000000000000</UId>\\n        <ReportSLSSuccess>0</ReportSLSSuccess>\\n        <Details>\\n            <Type>config</Type>\\n            <Items>\\n                <Type>config</Type>\\n                <EndTime>1602741570596</EndTime>\\n                <StartTime>1602741570567</StartTime>\\n                <ItemName>eccConfigCheck</ItemName>\\n                <EN>\\n                    <ItemLevel>ERROR</ItemLevel>\\n                    <Details>The connection states of all Express connect ports are down and no IP address is specified for these ports: </Details>\\n                    <Details>Port4</Details>\\n                    <ItemType>Config</ItemType>\\n                    <ItemName>Express Connect Port Configuration</ItemName>\\n                    <Advice>Check the physical connections to all Express connect ports and configure these ports on the 'Physical connection port' page.</Advice>\\n                </EN>\\n                <Level>error</Level>\\n                <CN>\\n                    <ItemLevel>严重</ItemLevel>\\n                    <Details>所有专线端口存在链路异常或缺少端口IP：</Details>\\n                    <Details>端口4</Details>\\n                    <ItemType>配置</ItemType>\\n                    <ItemName>专线口配置检查</ItemName>\\n                    <Advice>请先检查专线端口链路接线，然后进入本地'专线管理'页面进行配置</Advice>\\n                </CN>\\n            </Items>\\n            <Items>\\n                <Type>config</Type>\\n                <EndTime>1602741570600</EndTime>\\n                <StartTime>1602741570587</StartTime>\\n                <ItemName>haConfigCheck</ItemName>\\n                <EN>\\n                    <ItemLevel>INFO</ItemLevel>\\n                    <Details>The configurations for HA are correct and the state of the peer is normal.</Details>\\n                    <ItemType>Config</ItemType>\\n                    <ItemName>HA Configuration</ItemName>\\n                    <Advice>N/A</Advice>\\n                </EN>\\n                <Level>info</Level>\\n                <CN>\\n                    <ItemLevel>正常</ItemLevel>\\n                    <Details>HA配置正确且对端状态正常</Details>\\n                    <ItemType>配置</ItemType>\\n                    <ItemName>HA配置检查</ItemName>\\n                    <Advice>无</Advice>\\n                </CN>\\n            </Items>\\n            <Statistics>\\n                <Warning>0</Warning>\\n                <Total>2</Total>\\n                <Error>1</Error>\\n                <Info>1</Info>\\n            </Statistics>\\n        </Details>\\n        <Details>\\n            <Type>biz</Type>\\n            <Items>\\n                <Type>biz</Type>\\n                <EndTime>1602741570641</EndTime>\\n                <StartTime>1602741570610</StartTime>\\n                <ItemName>ctrlConnState</ItemName>\\n                <EN>\\n                    <ItemLevel>INFO</ItemLevel>\\n                    <Details>The state of the TCP connection to the management console is normal.</Details>\\n                    <ItemType>Service</ItemType>\\n                    <ItemName>Management Console Connection</ItemName>\\n                    <Advice>N/A</Advice>\\n                </EN>\\n                <Level>info</Level>\\n                <CN>\\n                    <ItemLevel>正常</ItemLevel>\\n                    <Details>与管控TCP连接状态正常</Details>\\n                    <ItemType>业务</ItemType>\\n                    <ItemName>管控TCP连接检查</ItemName>\\n                    <Advice>无</Advice>\\n                </CN>\\n            </Items>\\n            <Items>\\n                <Type>biz</Type>\\n                <EndTime>1602741570829</EndTime>\\n                <StartTime>1602741570803</StartTime>\\n                <ItemName>agwTunnelQuality</ItemName>\\n                <EN>\\n                    <ItemLevel>INFO</ItemLevel>\\n                    <Details>The tunnel quality is high:</Details>\\n                    <Details>The packet loss rate for the primary IPSec tunnel is 0.00% and the latency is 1.25 ms.</Details>\\n                    <Details>The packet loss rate for the backup IPSec tunnel is 0.00% and the latency is 1.40 ms.</Details>\\n                    <ItemType>Service</ItemType>\\n                    <ItemName>Tunnel Quality</ItemName>\\n                    <Advice>N/A</Advice>\\n                </EN>\\n                <Level>info</Level>\\n                <CN>\\n                    <ItemLevel>正常</ItemLevel>\\n                    <Details>隧道质量良好：</Details>\\n                    <Details>IPSec主隧道丢包率0.00%，时延1.25ms</Details>\\n                    <Details>IPSec备隧道丢包率0.00%，时延1.40ms</Details>\\n                    <ItemType>业务</ItemType>\\n                    <ItemName>隧道质量检查</ItemName>\\n                    <Advice>无</Advice>\\n                </CN>\\n            </Items>\\n            <Statistics>\\n                <Warning>0</Warning>\\n                <Total>2</Total>\\n                <Error>0</Error>\\n                <Info>2</Info>\\n            </Statistics>\\n        </Details>\\n        <Details>\\n            <Type>internet</Type>\\n            <Items>\\n                <Type>internet</Type>\\n                <EndTime>1602741570637</EndTime>\\n                <StartTime>1602741570607</StartTime>\\n                <ItemName>dnsResolve</ItemName>\\n                <EN>\\n                    <ItemLevel>INFO</ItemLevel>\\n                    <Details>The domain names are resolved.</Details>\\n                    <ItemType>Internet</ItemType>\\n                    <ItemName>DNS Resolution</ItemName>\\n                    <Advice>N/A</Advice>\\n                </EN>\\n                <Level>info</Level>\\n                <CN>\\n                    <ItemLevel>正常</ItemLevel>\\n                    <Details>DNS解析正常</Details>\\n                    <ItemType>公网</ItemType>\\n                    <ItemName>DNS解析检查</ItemName>\\n                    <Advice>无</Advice>\\n                </CN>\\n            </Items>\\n            <Statistics>\\n                <Warning>1</Warning>\\n                <Total>1</Total>\\n                <Error>0</Error>\\n                <Info>1</Info>\\n            </Statistics>\\n        </Details>\\n        <State>finished</State>\\n        <DiagnoseId>dia-sag42c3t703frrpjsoezf********</DiagnoseId>\\n        <TotalNumber>5</TotalNumber>\\n        <Level>\\n            <Biz>info</Biz>\\n            <Configuration>error</Configuration>\\n            <Total>error</Total>\\n        </Level>\\n        <BoxVersion>2.1.0</BoxVersion>\\n        <SN>sag42c3****</SN>\\n    </DiagnoseResult>\\n</DiscribeSmartAccessGatewayDiagnosisReportResponse>\",\"errorExample\":\"\"}]","title":"查询一键诊断报告","summary":"调用DiscribeSmartAccessGatewayDiagnosisReport接口查询智能接入网关SAG（Smart Access Gateway）设备诊断报告。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}