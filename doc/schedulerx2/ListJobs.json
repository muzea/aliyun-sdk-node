{"methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"GroupId","in":"query","schema":{"description":"应用ID，在控制台的**应用管理**页面中获取。","type":"string","required":true,"docRequired":true,"example":"DocTest.Group"}},{"name":"Namespace","in":"query","schema":{"description":"命名空间，在控制台的**命名空间**页面中获取。","type":"string","required":true,"docRequired":true,"example":"1a72ecb1-b4cc-400a-a71b-20cdec9b****"}},{"name":"NamespaceSource","in":"query","schema":{"description":"特殊第三方才需要填写。","type":"string","required":false,"example":"schedulerx"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"JobName","in":"query","schema":{"description":"任务名称。","type":"string","required":false,"example":"helloword"}},{"name":"Status","in":"query","schema":{"description":"任务状态。\n\n- **0**：表示禁用\n\n- **1**：表示启用","type":"string","required":false,"example":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"请求状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"错误信息，仅出错时返回错误信息。","type":"string","example":"namespace can not find namespace: 1a72ecb1-b4cc-400a-a71b-20cdec9b****, namespaceSource:null"},"RequestId":{"description":"请求唯一ID。","type":"string","example":"71BCC0E3-64B2-4B63-A870-AFB64EBCB58B"},"Success":{"description":"调用接口是否成功。取值如下：\n\n- **true**：成功\n\n- **false**：失败","type":"boolean","example":"true"},"Data":{"description":"任务列表信息。","type":"object","properties":{"Jobs":{"description":"任务列表及任务详情。","type":"array","items":{"type":"object","properties":{"Status":{"description":"任务状态。取值如下：\n\n- **1**：启用，可以被正常触发。\n\n- **0**：禁用，不会被触发。","type":"integer","format":"int32","example":"1"},"JarUrl":{"description":"JAR包的OSS完整路径。","type":"string","example":"https:doc***.oss-cn-hangzhou.aliyuncs.com/sc-****-D-0.0.2-SNAPSHOT.jar"},"MaxAttempt":{"description":"错误最大重试次数，根据业务需求填写，默认值为0。","type":"integer","format":"int32","example":"0"},"Parameters":{"description":"用户自定义参数，运行时可以获取。","type":"string","example":"test"},"Description":{"description":"任务描述。","type":"string","example":"Test"},"JobId":{"description":"任务ID。","type":"integer","format":"int64","example":"99341"},"ExecuteMode":{"description":"任务执行模式，可能出现的结果如下：\n\n- **standalone**：单机运行\n\n- **broadcast**：广播运行\n\n- **parallel**：并行计算\n\n- **grid**：内存网格\n\n- **batch**：网格计算\n\n- **shard**：分片运行","type":"string","example":"standalone"},"MaxConcurrency":{"description":"最大同时运行实例数量，默认值为1， 即上次触发没有运行结束，即使到了运行时刻也不会进行下次触发。","type":"string","example":"1"},"Name":{"description":"任务名。","type":"string","example":"helloworld"},"ClassName":{"description":"任务接口类完整路径。\n当您的任务是Java任务类型时，才有该字段信息。","type":"string","example":"com.alibaba.schedulerx.test.helloworld"},"Content":{"description":"python、shell、go任务类型的脚本代码内容。","type":"string","example":"echo 'hello'"},"JobType":{"description":"任务类型","type":"string","example":"java"},"AttemptInterval":{"description":"错误重试间隔，单位s，默认值为30。","type":"integer","format":"int32","example":"30"},"MapTaskXAttrs":{"description":"高级配置，仅限于并行计算、内存网格和网格计算使用。","type":"object","properties":{"TaskMaxAttempt":{"description":"子任务失败重试次数。","type":"integer","format":"int32","example":"0"},"TaskAttemptInterval":{"description":"子任务失败重试间隔。","type":"integer","format":"int32","example":"0"},"ConsumerSize":{"description":"单机单次触发执行线程数，默认值为5。","type":"integer","format":"int32","example":"5"},"QueueSize":{"description":"子任务队列缓存上限，默认值为10000。","type":"integer","format":"int32","example":"10000"},"DispatcherSize":{"description":"子任务分发线程数，默认值为5。","type":"integer","format":"int32","example":"5"},"PageSize":{"description":"并行任务单次拉取子任务数，默认值为100。","type":"integer","format":"int32","example":"100"}}},"TimeConfig":{"description":"时间配置信息","type":"object","properties":{"Calendar":{"description":"cron类型可以选择填写自定义日历。","type":"string","example":"工作日"},"TimeType":{"description":"时间配置类型，目前支持以下几种时间类型：\n\n- **1**：cron\n\n- **3**：fix_rate\n\n- **4**：second_delay\n\n- **100**：api","type":"integer","format":"int32","example":"1"},"DataOffset":{"description":"cron类型可以选择时间偏移，单位s。","type":"integer","format":"int32","example":"0"},"TimeExpression":{"description":"时间表达式，目前支持以下几种时间表达类型：\n\n- **api**：无时间表达式。\n\n- **fix_rate**：具体固定频率值，如30表示每隔30s触发一次。\n\n- **cron**：标准的cron表达式。\n\n- **second_delay**：固定延迟多少秒执行一次（1s~60s可选）。","type":"string","example":"0 0/10 * * * ?"}}},"JobMonitorInfo":{"description":"任务监控信息。","type":"object","properties":{"ContactInfo":{"description":"联系人信息。","type":"array","items":{"type":"object","properties":{"UserPhone":{"description":"用户手机号。","type":"string","example":"1381111****"},"UserName":{"description":"用户名称。","type":"string","example":"userA"},"Ding":{"description":"钉钉群机器人webhook地址","type":"string","example":"https://oapi.dingtalk.com/robot/send?access_token=**********"},"UserMail":{"description":"用户邮件地址","type":"string","example":"user@mail.com"}}}},"MonitorConfig":{"description":"报警开关以及阈值配置。","type":"object","properties":{"Timeout":{"description":"超时阈值，单位s，默认7200。","type":"integer","format":"int64","example":"12300"},"SendChannel":{"description":"报警发送形式，目前只支持sms。","type":"string","example":"sms"},"TimeoutKillEnable":{"description":"超时终止本次触发开关，默认关闭。\n\n- **true**：开启\n\n- **false**：关闭","type":"boolean","example":"false"},"TimeoutEnable":{"description":"超时报警开关。取值如下：\n\n- **true**：开启\n\n- **false**：关闭","type":"boolean","example":"true"},"FailEnable":{"description":"失败报警开关。取值如下：\n\n- **true**：开启\n\n- **false**：关闭","type":"boolean","example":"true"},"MissWorkerEnable":{"description":"是否开启无可用机器报警","type":"boolean","example":"true"}}}}},"XAttrs":{"description":"任务扩展字段","type":"string","example":"{\"pageSize\":5,\"queueSize\":10,\"consumerSize\":5,\"dispatcherSize\":5,\"taskMaxAttempt\":0,\"taskAttemptInterval\":0,\"globalConsumerSize\":1000,\"taskDispatchMode\":\"push\"}"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"namespace can not find namespace: 1a72ecb1-b4cc-400a-a71b-20cdec9b****, namespaceSource:null\\\",\\n  \\\"RequestId\\\": \\\"71BCC0E3-64B2-4B63-A870-AFB64EBCB58B\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"Jobs\\\": [\\n      {\\n        \\\"Status\\\": 1,\\n        \\\"JarUrl\\\": \\\"https:doc***.oss-cn-hangzhou.aliyuncs.com/sc-****-D-0.0.2-SNAPSHOT.jar\\\",\\n        \\\"MaxAttempt\\\": 0,\\n        \\\"Parameters\\\": \\\"test\\\",\\n        \\\"Description\\\": \\\"Test\\\",\\n        \\\"JobId\\\": 99341,\\n        \\\"ExecuteMode\\\": \\\"standalone\\\",\\n        \\\"MaxConcurrency\\\": \\\"1\\\",\\n        \\\"Name\\\": \\\"helloworld\\\",\\n        \\\"ClassName\\\": \\\"com.alibaba.schedulerx.test.helloworld\\\",\\n        \\\"Content\\\": \\\"echo 'hello'\\\",\\n        \\\"JobType\\\": \\\"java\\\",\\n        \\\"AttemptInterval\\\": 30,\\n        \\\"MapTaskXAttrs\\\": {\\n          \\\"TaskMaxAttempt\\\": 0,\\n          \\\"TaskAttemptInterval\\\": 0,\\n          \\\"ConsumerSize\\\": 5,\\n          \\\"QueueSize\\\": 10000,\\n          \\\"DispatcherSize\\\": 5,\\n          \\\"PageSize\\\": 100\\n        },\\n        \\\"TimeConfig\\\": {\\n          \\\"Calendar\\\": \\\"工作日\\\",\\n          \\\"TimeType\\\": 1,\\n          \\\"DataOffset\\\": 0,\\n          \\\"TimeExpression\\\": \\\"0 0/10 * * * ?\\\"\\n        },\\n        \\\"JobMonitorInfo\\\": {\\n          \\\"ContactInfo\\\": [\\n            {\\n              \\\"UserPhone\\\": \\\"1381111****\\\",\\n              \\\"UserName\\\": \\\"userA\\\",\\n              \\\"Ding\\\": \\\"https://oapi.dingtalk.com/robot/send?access_token=**********\\\",\\n              \\\"UserMail\\\": \\\"user@mail.com\\\"\\n            }\\n          ],\\n          \\\"MonitorConfig\\\": {\\n            \\\"Timeout\\\": 12300,\\n            \\\"SendChannel\\\": \\\"sms\\\",\\n            \\\"TimeoutKillEnable\\\": false,\\n            \\\"TimeoutEnable\\\": true,\\n            \\\"FailEnable\\\": true,\\n            \\\"MissWorkerEnable\\\": true\\n          }\\n        },\\n        \\\"XAttrs\\\": \\\"{\\\\\\\"pageSize\\\\\\\":5,\\\\\\\"queueSize\\\\\\\":10,\\\\\\\"consumerSize\\\\\\\":5,\\\\\\\"dispatcherSize\\\\\\\":5,\\\\\\\"taskMaxAttempt\\\\\\\":0,\\\\\\\"taskAttemptInterval\\\\\\\":0,\\\\\\\"globalConsumerSize\\\\\\\":1000,\\\\\\\"taskDispatchMode\\\\\\\":\\\\\\\"push\\\\\\\"}\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListJobsResponse>\\n<Message>namespace can not find namespace: 1a72ecb1-b4cc-400a-a71b-20cdec9b****, namespaceSource:null</Message>\\n<RequestId>71BCC0E3-64B2-4B63-A870-AFB64EBCB58B</RequestId>\\n<Data>\\n    <Jobs>\\n        <Status>1</Status>\\n        <MaxAttempt>0</MaxAttempt>\\n        <Parameters>test</Parameters>\\n        <Description>Test</Description>\\n        <Content>echo 'hello'</Content>\\n        <JarUrl>https:doc***.oss-cn-hangzhou.aliyuncs.com/sc-****-D-0.0.2-SNAPSHOT.jar</JarUrl>\\n        <MaxConcurrency>1</MaxConcurrency>\\n        <ClassName>com.alibaba.schedulerx.test.helloworld</ClassName>\\n        <AttemptInterval>30</AttemptInterval>\\n        <ExecuteMode>standalone</ExecuteMode>\\n        <JobId>99341</JobId>\\n        <Name>helloworld</Name>\\n        <MapTaskXAttrs>\\n            <TaskAttemptInterval>0</TaskAttemptInterval>\\n            <QueueSize>10000</QueueSize>\\n            <DispatcherSize>5</DispatcherSize>\\n            <PageSize>100</PageSize>\\n            <TaskMaxAttempt>0</TaskMaxAttempt>\\n            <ConsumerSize>5</ConsumerSize>\\n        </MapTaskXAttrs>\\n        <TimeConfig>\\n            <Calendar>工作日</Calendar>\\n            <TimeExpression>0 0/10 * * * ?</TimeExpression>\\n            <DataOffset>0</DataOffset>\\n            <TimeType>1</TimeType>\\n        </TimeConfig>\\n        <JobMonitorInfo>\\n            <ContactInfo>\\n                <UserName>userA</UserName>\\n                <UserPhone>1381111****</UserPhone>\\n            </ContactInfo>\\n            <MonitorConfig>\\n                <TimeoutEnable>true</TimeoutEnable>\\n                <Timeout>12300</Timeout>\\n                <FailEnable>true</FailEnable>\\n                <SendChannel>sms</SendChannel>\\n                <TimeoutKillEnable>false</TimeoutKillEnable>\\n            </MonitorConfig>\\n        </JobMonitorInfo>\\n    </Jobs>\\n</Data>\\n<Code>200</Code>\\n<Success>true</Success>\\n</ListJobsResponse>\",\"errorExample\":\"\"}]","title":"获取任务列表","summary":"获取任务列表。","description":"在调用该接口前，需要在POM文件添加以下依赖：\n\n```\n<dependency>\n      <groupId>com.aliyun</groupId>\n      <artifactId>aliyun-java-sdk-schedulerx2</artifactId>\n      <version>1.0.5</version>\n</dependency>\n```","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"##  Demo\n```\npackage com.alibaba.schedulerx.pop;\n\nimport java.util.List;\n\nimport com.alibaba.schedulerx.common.util.JsonUtil;\n\nimport com.aliyuncs.DefaultAcsClient;\nimport com.aliyuncs.exceptions.ClientException;\nimport com.aliyuncs.exceptions.ServerException;\nimport com.aliyuncs.profile.DefaultProfile;\nimport com.aliyuncs.schedulerx2.model.v20190430.ListJobsRequest;\nimport com.aliyuncs.schedulerx2.model.v20190430.ListJobsResponse;\nimport com.aliyuncs.schedulerx2.model.v20190430.ListJobsResponse.Data.Job;\n\npublic class TestListJobs {\n\n    public static void main(String[] args) {\n        //OpenAPI的接入点，具体查看支持地域列表以及购买机器地域填写。\n        String regionId = \"cn-hangzhou\";\n        //鉴权使用的AccessKey ID，由阿里云官网控制台获取。\n        String accessKeyId = \"XXXXXXXX\";\n        //鉴权使用的AccessKey Secret，由阿里云官网控制台获取。\n        String accessKeySecret = \"XXXXXXXX\";\n        //产品名称\n        String productName =\"schedulerx2\";\n        //对照支持地域列表选择Domain填写\n        String domain =\"schedulerx.cn.hangzhou.aliyuncs.com\";\n        //构建OpenAPI客户端。\n        DefaultProfile.addEndpoint(regionId, productName, domain);\n        DefaultProfile defaultProfile = DefaultProfile.getProfile(regionId, accessKeyId, accessKeySecret);\n        DefaultAcsClient client = new DefaultAcsClient(defaultProfile);\n        \n        ListJobsRequest request = new ListJobsRequest();\n        //命名空间。\n        request.setNamespace(\"433d8b23-06e9-408c-aaaa-90d4d1b****\");\n        //应用ID。\n        request.setGroupId(\"DocTest.Group\");\n        ListJobsResponse response;\n        try {\n            response = client.getAcsResponse(request);\n            if (!response.getSuccess()) {\n                System.out.println(JsonUtil.toJson(response));\n                System.out.println(response.getCode());\n            } else {\n                System.out.println(JsonUtil.toJson(response));\n                List<Job> jobs = response.getData().getJobs();\n                for (Job job : jobs) {\n                    System.out.println(\"jobId:\" + job.getJobId() + \", name:\" + job.getName() + \", status=\" + job.getStatus());\n                }\n            }\n        } catch (ServerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (ClientException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n}\n\n```"}