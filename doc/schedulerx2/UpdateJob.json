{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"Namespace","in":"formData","schema":{"description":"命名空间ID，在控制台的命名空间页面中获取。","type":"string","required":true,"docRequired":true,"example":"adcfc35d-e2fe-4fe9-bbaa-20e90ffc****"}},{"name":"NamespaceSource","in":"formData","schema":{"description":"特殊第三方才需要填写。","type":"string","required":false,"example":"schedulerx","default":"schedulerx"}},{"name":"GroupId","in":"formData","schema":{"description":"应用ID，在控制台的应用管理页面中获取。","type":"string","required":true,"docRequired":true,"example":"testSchedulerx.defaultGroup"}},{"name":"JobId","in":"formData","schema":{"description":"任务ID，在控制台的任务管理页面中获取。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"92583"}},{"name":"Name","in":"formData","schema":{"description":"任务名。","type":"string","required":false,"docRequired":false,"example":"helloword"}},{"name":"Description","in":"formData","schema":{"description":"任务描述。","type":"string","required":false,"example":"test"}},{"name":"ExecuteMode","in":"formData","schema":{"description":"任务执行模式，目前支持以下几种任务执行模式：\n\n- **单机运行**：standalone\n- **广播运行**：broadcatst\n- **可视化MapReduce**：parallel\n- **MapReduce**：batch\n- **分片运行**：shard","type":"string","required":false,"docRequired":false,"example":"standalone"}},{"name":"ClassName","in":"formData","schema":{"description":"任务接口类完整路径。\n\n是Java任务类型时，才有该字段且必须填写完整路径。","type":"string","required":false,"example":"com.alibaba.test.helloworld"}},{"name":"Content","in":"formData","schema":{"description":"任务类型为Python/Shell/Go/K8s的必填脚本内容。","type":"string","required":false,"example":"echo 'hello'"}},{"name":"Parameters","in":"formData","schema":{"description":"用户自定义参数，运行时可以获取。","type":"string","required":false,"example":"test"}},{"name":"MaxConcurrency","in":"formData","schema":{"description":"最大同时运行实例数量，默认值为1，即上次触发没有运行结束，不会进行下次触发即使到了运行时刻。","type":"integer","format":"int32","required":false,"maximum":"200","minimum":"1","example":"1","default":"1"}},{"name":"MaxAttempt","in":"formData","schema":{"description":"错误最大重试次数，根据业务需求填写。","type":"integer","format":"int32","required":false,"example":"0","default":"0"}},{"name":"AttemptInterval","in":"formData","schema":{"description":"错误重试间隔时间，单位s，默认值为30。","type":"integer","format":"int32","required":false,"example":"30","default":"30"}},{"name":"PageSize","in":"formData","schema":{"description":"并行网格任务高级配置，单次拉取子任务数，默认值为100。","type":"integer","format":"int32","required":false,"example":"100","default":"100"}},{"name":"TaskDispatchMode","in":"formData","schema":{"description":"并行网格任务高级配置，推模型或者拉模型","type":"string","required":false,"enumValueTitles":{"pull":"pull","push":"push"},"example":"push"}},{"name":"ConsumerSize","in":"formData","schema":{"description":"并行网格任务高级配置，单机单次触发执行线程数，默认值为5。","type":"integer","format":"int32","required":false,"example":"5","default":"5"}},{"name":"QueueSize","in":"formData","schema":{"description":"并行网格任务高级配置，子任务队列缓存上限，默认值为10000。","type":"integer","format":"int32","required":false,"example":"10000","default":"10000"}},{"name":"DispatcherSize","in":"formData","schema":{"description":"并行网格任务高级配置，子任务分发线程数，默认值为5。","type":"integer","format":"int32","required":false,"example":"5","default":"5"}},{"name":"TaskMaxAttempt","in":"formData","schema":{"description":"并行网格任务高级配置，子任务失败重试次数。","type":"integer","format":"int32","required":false,"maximum":"10","minimum":"0","example":"0","default":"0"}},{"name":"TaskAttemptInterval","in":"formData","schema":{"description":"并行网格任务高级配置，子任务失败重试间隔。","type":"integer","format":"int32","required":false,"minimum":"0","example":"0","default":"0"}},{"name":"TimeType","in":"formData","schema":{"description":"时间配置类型，目前支持以下几种配置类型：\n\n- **cron**：1\n- **fix_rate**：3\n- **second_delay**：4\n- **one_time** ：5\n- **api**：100","type":"integer","format":"int32","required":false,"docRequired":false,"example":"1"}},{"name":"TimeExpression","in":"formData","schema":{"description":"时间表达式，根据选择的时间类型设置时间表达式。\n\n- **cron**：填写标准的cron表达式，支持在线验证。\n- **api**：无时间表达式。\n- **fixed_rate**：填写具体固定频率值，单位s。如30表示每隔30s触发一次。\n- **second_delay**：填写固定延迟多少秒执行一次（1s~60s可选）。","type":"string","required":false,"example":"30"}},{"name":"Calendar","in":"formData","schema":{"description":"cron类型可以选择填写自定义日历。","type":"string","required":false,"example":"工作日"}},{"name":"DataOffset","in":"formData","schema":{"description":"cron类型可以选择时间偏移，单位s。","type":"integer","format":"int32","required":false,"example":"2400"}},{"name":"Timezone","in":"formData","schema":{"description":"时区","type":"string","required":false,"example":"GMT+8"}},{"name":"TimeoutEnable","in":"formData","schema":{"description":"超时报警开关。取值如下：\n\n- **true**：开启超时报警开关。\n- **false**：关闭超时报警开关。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"Timeout","in":"formData","schema":{"description":"超时阈值，单位s。","type":"integer","format":"int64","required":false,"example":"7200","default":"7200"}},{"name":"TimeoutKillEnable","in":"formData","schema":{"description":"超时终止本次触发开关。取值如下：\n\n- **true**：开启超时终止开关。\n- **false**：关闭超时终止开关。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"FailEnable","in":"formData","schema":{"description":"失败报警开关。取值如下：\n\n- **true**：开启失败报警开关。\n- **false**：关闭失败报警开关。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"FailTimes","in":"formData","schema":{"description":"连续失败报警次数","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"MissWorkerEnable","in":"formData","schema":{"description":"是否开启无可用机器告警。\n- **true**：开启无可用机器告警开关。\n- **false**：关闭无可用机器告警开关。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"SuccessNoticeEnable","in":"formData","schema":{"description":"成功通知开关","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"SendChannel","in":"formData","schema":{"description":"报警发送形式，目前只支持sms。","type":"string","required":false,"enumValueTitles":{},"example":"sms"}},{"name":"ContactInfo","in":"formData","style":"repeatList","schema":{"description":"任务联系人信息。","type":"array","items":{"type":"object","properties":{"UserPhone":{"description":"用户手机号。","type":"string","required":false,"example":"1381111****"},"UserName":{"description":"用户名。","type":"string","required":false,"example":"userA"},"UserMail":{"description":"用户邮箱。","type":"string","required":false,"example":"test***@***.com"},"Ding":{"description":"报警联系人钉钉群机器人webhook地址，参考文档：[钉钉开发文档](https://open.dingtalk.com/document/org/application-types)。","type":"string","required":false,"example":"https://oapi.dingtalk.com/robot/send?access_token=**********"}},"required":false},"required":false,"maxItems":10}},{"name":"XAttrs","in":"formData","schema":{"description":"如果是k8s任务类型，需要配置该参数\nJob任务：{\"resource\":\"job\"}\nShell任务：{\"image\":\"busybox\",\"resource\":\"shell\"}\n","type":"string","required":false,"example":" {\"resource\":\"shell\",\"fileFormat\":\"unix\",\"templateType\":\"customTemplate\"}"}},{"name":"Template","in":"formData","schema":{"description":"k8s任务类型自定义任务模版","type":"string","required":false,"example":"apiVersion: v1\nkind: Pod\nmetadata:\n  name: schedulerx-node-{JOB_ID}\n  namespace: {NAMESPACE}\nspec:\n  containers:\n  - name: node-job\n    image: node:16\n    imagePullPolicy: IfNotPresent\n    volumeMounts:\n    - name: script-node\n      mountPath: script/node\n    command: [\"node\", \"script/node/node-{JOB_ID}.js\"]\n  volumes:\n  - name: script-node\n    configMap:\n      name: schedulerx-configmap\n      items:\n      - key: schedulerx-node-{JOB_ID}\n        path: node-{JOB_ID}.js\n  restartPolicy: Never"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"附加信息，仅出错时返回错误信息。","type":"string","example":"job type is java className can not be blank"},"RequestId":{"description":"请求唯一ID。","type":"string","example":"4F68ABED-AC31-4412-9297-D9A8F0401108"},"Success":{"description":"是否成功。","type":"boolean","example":"true"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"job type is java className can not be blank\\\",\\n  \\\"RequestId\\\": \\\"4F68ABED-AC31-4412-9297-D9A8F0401108\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateJobResponse>\\n    <Code>200</Code>\\n    <Message>job type is java className can not be blank</Message>\\n    <RequestId>4F68ABED-AC31-4412-9297-D9A8F0401108</RequestId>\\n    <Success>true</Success>\\n</UpdateJobResponse>\",\"errorExample\":\"\"}]","title":"更新任务配置信息","summary":"更新任务配置信息。默认先调用获取任务找到对应字段进行修改。","requestParamsDescription":"> 在调用UpdateJob更新调度任务时，会删除之前对应参数的配置，而非保留。所以，请先调用[GetJobInfo](~~176507~~)，获取目标任务此前的配置，再根据实际情况进行配置。","responseParamsDescription":" ","extraInfo":" "}