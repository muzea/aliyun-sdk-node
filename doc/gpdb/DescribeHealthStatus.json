{"summary":"查看实例和节点的健康状态。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。\n\n> 您可以调用[DescribeDBInstances](~~86911~~)接口查看目标地域下所有的AnalyticDB PostgreSQL实例的详情，包括实例ID。","type":"string","required":true,"example":"gp-bp12ga6v69h86****"}},{"name":"Key","in":"query","schema":{"description":"性能参数名称，多个指标用英文半角（,）分隔，具体信息，请参见[性能参数表](~~86943~~)。","type":"string","required":true,"example":"node_master_status,node_master_connection_status,node_segment_connection_status,node_segment_disk_status"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Status":{"description":"性能监控具体信息，由参数名、状态和和指标值构成。只有请求参数**Key**中传入了性能参数才会返回对应的监控信息，例如请求参数**Key**仅包含**adbpg\\_status**，则返回信息中仅返回**adbpg\\_status**的监控信息。\n\n更多性能参数信息，请参见[性能参数表](~~86943~~)。","type":"object","properties":{"adbpg_status":{"description":"实例健康状态。","type":"object","properties":{"Status":{"description":"实例健康状态。取值说明：\n\n- **critical**：任意一个Master节点或Segment节点不可用，控制台显示为红色。\n- **healthy**：所有节点均可用，控制台显示为绿色。","type":"string","example":"healthy"},"Value":{"description":"实例健康状态的指标值。取值说明：\n\n- **1**表示healthy。\n- **0**表示critical。","type":"number","format":"float","example":"1"}}},"adbpg_connection_status":{"description":"实例连接状态。","type":"object","properties":{"Status":{"description":"实例连接状态。取值说明：\n\n- **critical**：实例连接数使用率大于95%，控制台显示为红色。\n- **warning**：实例连接数使用率大于90%且小于等于95%，控制台显示为黄色。\n- **healthy**：实例连接数使用率小于等于90%，控制台显示为绿色。\n\n> 实例连接数使用率为所有Master节点和Segment节点的连接数使用率的最大值。","type":"string","example":"healthy"},"Value":{"description":"实例连接数使用率的指标值，即所有Master节点和Segment节点的连接数使用率的最大值。\n\n单位：%。","type":"number","format":"float","example":"1.71"}}},"adbpg_disk_status":{"description":"实例存储状态。\n\n> 仅存储弹性模式会返回该值。","type":"object","properties":{"Status":{"description":"实例存储状态。取值说明：\n\n- **critical**：实例存储水位大于等于90%，控制台显示为红色，实例将被锁定。\n- **warning**：实例存储水位大于等于70%且小于90%，控制台显示为黄色。\n- **healthy**：实例存储水位小于70%，控制台显示为绿色，实例存储状态健康。\n\n> 实例存储水位为所有Segment节点的存储水位的平均值。","type":"string","example":"healthy"},"Value":{"description":"实例存储水位的指标值，即所有Segment节点的存储水位的平均值。\n\n单位：%。","type":"number","format":"float","example":"1.52"}}},"adbpg_disk_usage_percent":{"description":"实例存储水位。\n\n> 仅存储弹性模式会返回该值。","type":"object","properties":{"Status":{"description":"实例存储水位状态。取值说明：\n\n- **critical**：实例存储水位大于等于90%，实例将被锁定。\n- **warning**：实例存储水位大于等于70%且小于90%。\n- **healthy**：实例存储水位小于70%，实例存储状态健康。\n\n> 实例存储水位为所有Segment节点的存储水位的平均值。","type":"string","example":"healthy"},"Value":{"description":"实例存储水位的指标值，所有Segment节点的存储水位的平均值。\n\n单位：%。","type":"number","format":"float","example":"1.52"}}},"adbpg_master_disk_usage_percent_max":{"description":"最大实例协调节点存储水位，即实例下所有Master节点中的最大存储水位。\n\n> 仅存储弹性模式会返回该值。","type":"object","properties":{"Status":{"description":"Master节点最大存储水位状态。取值说明：\n\n- **critical**：水位大于等于90%，实例将被锁定。\n- **warning**：水位大于等于70%且小于90%。\n- **healthy**：水位小于70%，实例存储状态健康。","type":"string","example":"healthy"},"Value":{"description":"Master节点最大存储水位的指标值。\n\n单位：%。","type":"number","format":"float","example":"1.34"}}},"adbgp_segment_disk_usage_percent_max":{"description":"最大实例计算节点存储水位，即实例下所有Segment节点中的最大存储水位。\n\n> 仅存储弹性模式会返回该值。","type":"object","properties":{"Status":{"description":"Segment节点最大存储水位状态。取值说明：\n\n- **critical**：水位大于等于90%，实例将被锁定。\n- **warning**：水位大于等于80%且小于90%。\n- **healthy**：水位小于80%，实例存储状态健康。","type":"string","example":"healthy"},"Value":{"description":"Segment节点最大存储水位的指标值。\n\n单位：%。","type":"number","format":"float","example":"1.52"}}},"node_master_status":{"description":"协调节点健康状态，即Master节点的健康状态。","type":"object","properties":{"Status":{"description":"Master节点健康状态。取值说明：\n\n- **critical**：任意一个主Master节点或副Master节点不可用，控制台显示为红色。\n- **healthy**：所有Master节点均可用，控制台显示为绿色。","type":"string","example":"healthy"},"Value":{"description":"Master节点健康状态的指标值。取值说明：\n\n- **1**表示healthy。\n- **0**表示critical。","type":"number","format":"float","example":"1"}}},"node_segment_disk_status":{"description":"计算节点存储状态，即Segment节点的存储状态。\n\n> 仅存储弹性模式会返回该值。","type":"object","properties":{"Status":{"description":"Segment节点存储状态。取值说明：\n\n- **critical**：Segment节点存储水位大于等于90%，控制台显示为红色，实例将被锁定。\n- **warning**：Segment节点存储水位大于等于80%且小于90%，控制台显示为黄色。\n- **healthy**：Segment节点存储水位小于80%，控制台显示为绿色，实例存储状态健康。\n\n> Segment节点存储水位为所有Segment节点的存储水位的最大值。","type":"string","example":"healthy"},"Value":{"description":"Segment节点的最大存储水位的指标值。\n\n单位：%。","type":"number","format":"float","example":"1.52"}}},"node_master_connection_status":{"description":"协调节点连接健康状态，即Master节点的连接健康状态。","type":"object","properties":{"Status":{"description":"Master节点连接健康状态。取值说明：\n\n- **critical**：Master节点连接数使用率大于等于95%，控制台显示为红色。\n- **warning**：Master节点连接数使用率大于等于90%且小于95%，控制台显示为黄色。\n- **healthy**：Master节点连接数使用率小于90%，控制台显示为绿色。\n\n> Master节点连接数使用率为所有Master节点中连接数使用率的最大值。","type":"string","example":"healthy"},"Value":{"description":"Master节点的连接数使用率的指标值，即所有Master节点中连接数使用率的最大值。\n\n单位：%。","type":"number","format":"float","example":"1.71"}}},"node_segment_connection_status":{"description":"计算节点连接健康状态，即Segment节点的连接健康状态。","type":"object","properties":{"Status":{"description":"Segment节点连接健康状态。取值说明：\n\n- **critical**：Segment节点连接数使用率大于等于95%，控制台显示为红色。\n- **warning**：Segment节点连接数使用率大于等于90%且小于95%，控制台显示为黄色。\n- **healthy**：Segment节点连接数使用率小于90%，控制台显示为绿色。\n\n> Segment节点的连接数使用率为所有Segment节点中的连接数使用率最大值。","type":"string","example":"healthy"},"Value":{"description":"Segment节点的连接数使用率的指标值，即所有Segment节点中连接数使用率的最大值。\n\n单位：%。","type":"number","format":"float","example":"0.48"}}},"adbpg_master_status":{"description":"协调节点状态，即Master节点的可用状态。","type":"object","properties":{"Status":{"description":"Master节点的可用状态。取值说明：\n\n- **critical**：主备节点均不可用，控制台显示为红色。\n- **warning**：主节点或备节点不可用，控制台显示为黄色。\n- **healthy**：所有节点均可用，控制台显示为绿色。","type":"string","example":"healthy"},"Value":{"description":"Master节点的可用状态的指标值。取值说明：","type":"number","format":"float","example":"1"}}},"adbpg_segment_status":{"description":"计算节点状态，即Segment节点的可用状态。","type":"object","properties":{"Status":{"description":"Segment节点的可用状态。取值说明：\n\n- **critical**：主备节点均不可用，控制台显示为红色。\n- **warning**：大于等于50%节点不可用，控制台显示为黄色。\n- **healthy**：所有节点均可用，控制台显示为绿色。","type":"string","example":"healthy"},"Value":{"description":"Segment节点的可用状态的指标值。","type":"number","format":"float","example":"1"}}},"adbpg_instance_total_data_gb":{"description":"实例存储数据总量。","type":"object","properties":{"Value":{"description":"实例存储数据总量，单位GB。","type":"number","format":"float","example":"4.1"}}},"adbpg_instance_hot_data_gb":{"description":"热数据存储总量。","type":"object","properties":{"Value":{"description":"热数据存储总量，单位GB。","type":"number","format":"float","example":"4.1"}}},"adbpg_instance_cold_data_gb":{"description":"冷数据存储总量","type":"object","properties":{"Value":{"description":"冷数据存储总量，单位GB。","type":"number","format":"float","example":"0"}}}},"example":"{\"node_master_connection_status\":{\"Status\":\"healthy\",\"Value\":1.6}}"},"RequestId":{"description":"请求ID。","type":"string","example":"D97B4191-104D-10CE-8BC5-53**********"},"DBClusterId":{"description":"实例ID。","type":"string","example":"gp-bp12ga6v69h86****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Status\\\": {\\n    \\\"adbpg_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1\\n    },\\n    \\\"adbpg_connection_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.71\\n    },\\n    \\\"adbpg_disk_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.52\\n    },\\n    \\\"adbpg_disk_usage_percent\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.52\\n    },\\n    \\\"adbpg_master_disk_usage_percent_max\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.34\\n    },\\n    \\\"adbgp_segment_disk_usage_percent_max\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.52\\n    },\\n    \\\"node_master_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1\\n    },\\n    \\\"node_segment_disk_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.52\\n    },\\n    \\\"node_master_connection_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1.71\\n    },\\n    \\\"node_segment_connection_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 0.48\\n    },\\n    \\\"adbpg_master_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1\\n    },\\n    \\\"adbpg_segment_status\\\": {\\n      \\\"Status\\\": \\\"healthy\\\",\\n      \\\"Value\\\": 1\\n    },\\n    \\\"adbpg_instance_total_data_gb\\\": {\\n      \\\"Value\\\": 4.1\\n    },\\n    \\\"adbpg_instance_hot_data_gb\\\": {\\n      \\\"Value\\\": 4.1\\n    },\\n    \\\"adbpg_instance_cold_data_gb\\\": {\\n      \\\"Value\\\": 0\\n    }\\n  },\\n  \\\"RequestId\\\": \\\"D97B4191-104D-10CE-8BC5-53**********\\\",\\n  \\\"DBClusterId\\\": \\\"gp-bp12ga6v69h86****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeHealthStatusResponse>\\n    <code>200</code>\\n    <data>\\n        <Status>\\n            <adbpg_status>\\n                <Status>healthy</Status>\\n                <Value>1</Value>\\n            </adbpg_status>\\n            <adbpg_connection_status>\\n                <Status>healthy</Status>\\n                <Value>1.71</Value>\\n            </adbpg_connection_status>\\n            <adbgp_segment_disk_usage_percent_max>\\n                <Status>healthy</Status>\\n                <Value>1.52</Value>\\n            </adbgp_segment_disk_usage_percent_max>\\n            <adbpg_master_disk_usage_percent_max>\\n                <Status>healthy</Status>\\n                <Value>1.34</Value>\\n            </adbpg_master_disk_usage_percent_max>\\n            <adbpg_disk_usage_percent>\\n                <Status>healthy</Status>\\n                <Value>1.52</Value>\\n            </adbpg_disk_usage_percent>\\n            <adbpg_disk_status>\\n                <Status>healthy</Status>\\n                <Value>1.52</Value>\\n            </adbpg_disk_status>\\n            <node_master_connection_status>\\n                <Status>healthy</Status>\\n                <Value>1.71</Value>\\n            </node_master_connection_status>\\n            <node_master_status>\\n                <Status>healthy</Status>\\n                <Value>1</Value>\\n            </node_master_status>\\n            <node_segment_connection_status>\\n                <Status>healthy</Status>\\n                <Value>0.48</Value>\\n            </node_segment_connection_status>\\n            <node_segment_disk_status>\\n                <Status>healthy</Status>\\n                <Value>1.52</Value>\\n            </node_segment_disk_status>\\n        </Status>\\n        <RequestId>D97B4191-104D-10CE-8BC5-53**********</RequestId>\\n        <DBClusterId>gp-bp12ga6v69h86****</DBClusterId>\\n    </data>\\n    <httpStatusCode>200</httpStatusCode>\\n    <requestId>D97B4191-104D-10CE-8BC5-53**********</requestId>\\n    <successResponse>true</successResponse>\\n</DescribeHealthStatusResponse>\",\"errorExample\":\"\"}]","title":"查看实例和节点的健康状态","description":"本接口用于查看存储弹性模式和Serverless版本的AnalyticDB PostgreSQL版的实例、协调节点（也称Master节点）以及计算节点（也称Segment节点）的健康状态。"}