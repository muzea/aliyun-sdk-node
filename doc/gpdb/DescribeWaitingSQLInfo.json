{"summary":"获取AnalyticDB PostgreSQL版实例锁等待详情信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。\n\n> 您可以调用[DescribeDBInstances](~~86911~~)接口查看目标地域下所有的AnalyticDB PostgreSQL实例的实例ID。","type":"string","required":true,"example":"gp-bp12ga6v69h86****"}},{"name":"PID","in":"query","schema":{"description":"进程ID，即等待查询SQL的唯一标识。\n\n> 您可以调用[DescribeWaitingSQLRecords](~~461735~~)接口获取锁等待的查询的进程ID。","type":"string","required":true,"example":"100"}},{"name":"Database","in":"query","schema":{"description":"数据库名称。","type":"string","required":true,"example":"test"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"B4CAF581-2AC7-41AD-8940-D56DF7AADF5B"},"Database":{"description":"数据库名称。","type":"string","example":"test"},"Items":{"description":"锁等待的查询的具体信息。","type":"array","items":{"type":"object","properties":{"PID":{"description":"进程ID，即等待查询SQL的唯一标识。","type":"string","example":"100"},"User":{"description":"查询的用户。","type":"string","example":"testUser"},"SQLStmt":{"description":"查询的SQL文本。","type":"string","example":"Select * from t1,t2 where t1.id=t2.id;"},"Application":{"description":"查询所属应用。","type":"string","example":"DataGrip 2022.1.5"},"NotGrantLocks":{"description":"未授权的锁。","type":"string","example":"AccessShareLock"},"BlockedByPID":{"description":"阻塞该查询的进程ID。","type":"string","example":"110"},"BlockedByUser":{"description":"阻塞该查询的执行用户。","type":"string","example":"testUser1"},"BlockedBySQLStmt":{"description":"阻塞该查询的SQL文本。","type":"string","example":"Select * from t1;"},"BlockedByApplication":{"description":"阻塞该查询的查询所属应用。","type":"string","example":"DataGrip 2022.1.5"},"GrantLocks":{"description":"授权的锁。","type":"string","example":"ShareLock,AccessExclusiveLock"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B4CAF581-2AC7-41AD-8940-D56DF7AADF5B\\\",\\n  \\\"Database\\\": \\\"test\\\",\\n  \\\"Items\\\": [\\n    {\\n      \\\"PID\\\": \\\"100\\\",\\n      \\\"User\\\": \\\"testUser\\\",\\n      \\\"SQLStmt\\\": \\\"Select * from t1,t2 where t1.id=t2.id;\\\",\\n      \\\"Application\\\": \\\"DataGrip 2022.1.5\\\",\\n      \\\"NotGrantLocks\\\": \\\"AccessShareLock\\\",\\n      \\\"BlockedByPID\\\": \\\"110\\\",\\n      \\\"BlockedByUser\\\": \\\"testUser1\\\",\\n      \\\"BlockedBySQLStmt\\\": \\\"Select * from t1;\\\",\\n      \\\"BlockedByApplication\\\": \\\"DataGrip 2022.1.5\\\",\\n      \\\"GrantLocks\\\": \\\"ShareLock,AccessExclusiveLock\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeWaitingSQLInfoResponse>\\n    <RequestId>B4CAF581-2AC7-41AD-8940-D56DF7AADF5B</RequestId>\\n    <Database>test</Database>\\n    <Items>\\n        <PID>100</PID>\\n        <User>testUser</User>\\n        <SQLStmt>Select * from t1,t2 where t1.id=t2.id;</SQLStmt>\\n        <Application>DataGrip 2022.1.5</Application>\\n        <NotGrantLocks>AccessShareLock</NotGrantLocks>\\n        <BlockedByPID>110</BlockedByPID>\\n        <BlockedByUser>testUser1</BlockedByUser>\\n        <BlockedBySQLStmt>Select * from t1;</BlockedBySQLStmt>\\n        <BlockedByApplication>DataGrip 2022.1.5</BlockedByApplication>\\n        <GrantLocks>ShareLock,AccessExclusiveLock</GrantLocks>\\n    </Items>\\n</DescribeWaitingSQLInfoResponse>\",\"errorExample\":\"\"}]","title":"获取锁诊断详细信息","description":"本接口仅支持查询6.0版本存储弹性模式实例的锁等待查询的详细信息。"}