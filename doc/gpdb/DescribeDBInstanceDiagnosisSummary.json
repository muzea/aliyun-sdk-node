{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。\n\n> 您可以调用[DescribeDBInstances](~~86911~~)接口查看目标地域下所有的AnalyticDB PostgreSQL实例的详情，包括实例ID。\n","type":"string","required":true,"example":"gp-bp12ga6v69h86****"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值说明：\n\n- **30**\n- **50**\n- **100**\n\n默认值：**30**。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，大于0且不超过Integer的最大值，默认值：**1**。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"StartStatus","in":"query","schema":{"description":"节点运行状态，取值如下：\n\n- **UP**：节点运行中。\n- **DOWN**：节点故障。\n\n如果不填，则返回所有运行状态的信息。","type":"string","required":false,"example":"UP"}},{"name":"SyncMode","in":"query","schema":{"description":"节点同步状态，取值如下：\n\n- **synced**：已同步。\n- **notSyncing**：未同步。\n\n如果不填，则返回所有同步状态的信息。","type":"string","required":false,"example":"synced"}},{"name":"RolePreferd","in":"query","schema":{"description":"节点的角色状态，即是否发生主备切换，取值如下：\n\n- **normal**：角色状态正常，即未发生主备切换。\n- **reverse**：角色反转，即发生了主备切换。","type":"string","required":false,"example":"normal"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"070534EC-78D5-5519-83CC-E7B1A9213483"},"TotalCount":{"description":"总记录数。","type":"string","example":"6"},"PageNumber":{"description":"当前页码。","type":"string","example":"1"},"Items":{"description":"实例节点详情列表。","type":"array","items":{"type":"object","properties":{"Hostname":{"description":"节点名称。","type":"string","example":"gp-t4np568qe9710****-master-100984919"},"NodeAddress":{"description":"节点的IP地址。","type":"string","example":"192.168.XX.XX"},"NodeType":{"description":"节点类型，取值如下：\n\n- **master**：协调节点。\n- **slave**：备协调节点。\n- **segment**：计算节点。","type":"string","example":"master"},"NodeName":{"description":"节点所在的宿主名。","type":"string","example":"ap-southeast-1.i-t4n4c4ryr0yr441d****"},"NodePort":{"description":"节点的端口号。","type":"string","example":"3000"},"NodeID":{"description":"节点ID。","type":"string","example":"1"},"NodeStatus":{"description":"节点运行状态，取值如下：\n\n- **UP**：节点运行中。\n- **DOWN**：节点故障。","type":"string","example":"UP"},"NodeRole":{"description":"节点当前所属角色，取值如下：\n\n- **primary**：主节点。\n- **mirror**：副本节点。","type":"string","example":"primary"},"NodePreferredRole":{"description":"节点最初所属角色，取值如下：\n\n- **primary**：主节点。\n- **mirror**：副本节点。\n\n如果该参数值与**NodeRole**参数的值一致，表示没有发生过角色反转（主备切换）；如果该参数值与**NodeRole**参数的值不一致，表示发生过角色反转。","type":"string","example":"primary"},"NodeReplicationMode":{"description":"节点数据同步状态，取值如下：\n\n- **Synced**：已同步。\n- **Not Syncing**：未同步。\n- **No sync required**：无需同步，仅协调节点会出现该模式。","type":"string","example":"Synced"},"NodeCID":{"description":"分组ID。","type":"string","example":"-1"}}}},"MasterStatusInfo":{"description":"协调节点状态统计信息。","type":"object","properties":{"NormalNodeNum":{"description":"正常状态节点数量。","type":"integer","format":"int32","example":"2"},"ExceptionNodeNum":{"description":"异常状态节点数量。","type":"integer","format":"int32","example":"0"},"NotSyncingNodeNum":{"description":"未同步节点数量。","type":"integer","format":"int32","example":"0"},"SyncedNodeNum":{"description":"已同步节点数量。","type":"integer","format":"int32","example":"1"},"PreferredNodeNum":{"description":"正常角色节点数量。","type":"integer","format":"int32","example":"2"},"NotPreferredNodeNum":{"description":"主从切换角色节点数量。","type":"integer","format":"int32","example":"0"}}},"SegmentStatusInfo":{"description":"计算节点状态统计信息。","type":"object","properties":{"NormalNodeNum":{"description":"正常状态节点数量。","type":"integer","format":"int32","example":"4"},"ExceptionNodeNum":{"description":"异常状态节点数量。","type":"integer","format":"int32","example":"0"},"NotSyncingNodeNum":{"description":"未同步节点数量。","type":"integer","format":"int32","example":"4"},"SyncedNodeNum":{"description":"已同步节点数量。","type":"integer","format":"int32","example":"0"},"PreferredNodeNum":{"description":"正常角色节点数量。","type":"integer","format":"int32","example":"4"},"NotPreferredNodeNum":{"description":"主从切换角色节点数量。","type":"integer","format":"int32","example":"0"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"070534EC-78D5-5519-83CC-E7B1A9213483\\\",\\n  \\\"TotalCount\\\": \\\"6\\\",\\n  \\\"PageNumber\\\": \\\"1\\\",\\n  \\\"Items\\\": [\\n    {\\n      \\\"Hostname\\\": \\\"gp-t4np568qe9710****-master-100984919\\\",\\n      \\\"NodeAddress\\\": \\\"192.168.XX.XX\\\",\\n      \\\"NodeType\\\": \\\"master\\\",\\n      \\\"NodeName\\\": \\\"ap-southeast-1.i-t4n4c4ryr0yr441d****\\\",\\n      \\\"NodePort\\\": \\\"3000\\\",\\n      \\\"NodeID\\\": \\\"1\\\",\\n      \\\"NodeStatus\\\": \\\"UP\\\",\\n      \\\"NodeRole\\\": \\\"primary\\\",\\n      \\\"NodePreferredRole\\\": \\\"primary\\\",\\n      \\\"NodeReplicationMode\\\": \\\"Synced\\\",\\n      \\\"NodeCID\\\": \\\"-1\\\"\\n    }\\n  ],\\n  \\\"MasterStatusInfo\\\": {\\n    \\\"NormalNodeNum\\\": 2,\\n    \\\"ExceptionNodeNum\\\": 0,\\n    \\\"NotSyncingNodeNum\\\": 0,\\n    \\\"SyncedNodeNum\\\": 1,\\n    \\\"PreferredNodeNum\\\": 2,\\n    \\\"NotPreferredNodeNum\\\": 0\\n  },\\n  \\\"SegmentStatusInfo\\\": {\\n    \\\"NormalNodeNum\\\": 4,\\n    \\\"ExceptionNodeNum\\\": 0,\\n    \\\"NotSyncingNodeNum\\\": 4,\\n    \\\"SyncedNodeNum\\\": 0,\\n    \\\"PreferredNodeNum\\\": 4,\\n    \\\"NotPreferredNodeNum\\\": 0\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDBInstanceDiagnosisSummaryResponse>\\n    <SegmentStatusInfo>\\n        <NormalNodeNum>4</NormalNodeNum>\\n        <ExceptionNodeNum>0</ExceptionNodeNum>\\n        <PreferredNodeNum>4</PreferredNodeNum>\\n        <SyncedNodeNum>0</SyncedNodeNum>\\n        <NotSyncingNodeNum>4</NotSyncingNodeNum>\\n        <NotPreferredNodeNum>0</NotPreferredNodeNum>\\n    </SegmentStatusInfo>\\n    <TotalCount>6</TotalCount>\\n    <RequestId>070534EC-78D5-5519-83CC-E7B1A9213483</RequestId>\\n    <MasterStatusInfo>\\n        <NormalNodeNum>2</NormalNodeNum>\\n        <PreferredNodeNum>2</PreferredNodeNum>\\n        <SyncedNodeNum>1</SyncedNodeNum>\\n        <NotSyncingNodeNum>0</NotSyncingNodeNum>\\n        <NotPreferredNodeNum>0</NotPreferredNodeNum>\\n    </MasterStatusInfo>\\n    <PageNumber>1</PageNumber>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4n4c4ryr0yr441d****</NodeName>\\n        <NodeType>master</NodeType>\\n        <Hostname>gp-t4np568qe9710****-master-100984919</Hostname>\\n        <NodeID>1</NodeID>\\n        <NodeReplicationMode>No sync required</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>3000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>-1</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4n3owiwk6kl7l73****</NodeName>\\n        <NodeType>secondary_master</NodeType>\\n        <Hostname>192.168.XX.XX</Hostname>\\n        <NodeID>4</NodeID>\\n        <NodeReplicationMode>Synced</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>3000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>-2</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4naykbl8y0a6rsx****</NodeName>\\n        <NodeType>segment</NodeType>\\n        <Hostname>gp-t4np568qe9710****-segment-100984921</Hostname>\\n        <NodeID>2</NodeID>\\n        <NodeReplicationMode>Not Syncing</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>4000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>0</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4n01qvc3uipy7cx****</NodeName>\\n        <NodeType>segment</NodeType>\\n        <Hostname>gp-t4np568qe9710****-segment-100984920</Hostname>\\n        <NodeID>3</NodeID>\\n        <NodeReplicationMode>Not Syncing</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>4000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>1</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4n74iakzw9e26c9****</NodeName>\\n        <NodeType>segment</NodeType>\\n        <Hostname>192.168.XX.XX</Hostname>\\n        <NodeID>5</NodeID>\\n        <NodeReplicationMode>Not Syncing</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>4000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>2</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n    <Items>\\n        <NodeRole>primary</NodeRole>\\n        <NodeName>ap-southeast-1.i-t4nfjsxiyfu3yzaw****</NodeName>\\n        <NodeType>segment</NodeType>\\n        <Hostname>192.168.XX.XX</Hostname>\\n        <NodeID>6</NodeID>\\n        <NodeReplicationMode>Not Syncing</NodeReplicationMode>\\n        <NodeAddress>192.168.XX.XX</NodeAddress>\\n        <NodePort>4000</NodePort>\\n        <NodePreferredRole>primary</NodePreferredRole>\\n        <NodeCID>3</NodeCID>\\n        <NodeStatus>UP</NodeStatus>\\n    </Items>\\n</DescribeDBInstanceDiagnosisSummaryResponse>\",\"errorExample\":\"\"}]","title":"查看节点详情","summary":"获取AnalyticDB PostgreSQL版实例的节点详情。","description":"本接口用于查看AnalyticDB PostgreSQL版实例的协调节点与计算节点分布与状态。"}