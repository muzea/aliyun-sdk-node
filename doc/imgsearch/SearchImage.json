{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DbName","in":"formData","schema":{"description":"数据库名称。","type":"string","required":true,"example":"default"}},{"name":"ImageUrl","in":"formData","schema":{"description":"图像URL地址。推荐使用上海地域的OSS链接，对于文件在本地或者非上海地域OSS链接的情况，请参见[文件URL处理](~~155645~~)。","type":"string","required":true,"example":"http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/imgsearch/SearchImage/SearchImage-ku8.png","isFileTransferUrl":true}},{"name":"Limit","in":"formData","schema":{"description":"获取结果数量上限，取值范围1~200。","type":"integer","format":"int32","required":true,"maximum":"1000","minimum":"0","example":"5"}}],"responses":{"200":{"schema":{"description":"1","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A98DBCEB-45E2-5F5F-B5ED-F2340182FD87"},"Data":{"description":"返回的结果数据内容。","type":"object","properties":{"MatchList":{"description":"相似的图片列表。","type":"array","items":{"description":"1","type":"object","properties":{"ImageUrl":{"description":"查找结果，相似图像的URL地址。\n\n\n> - 建议您使用**EntryId**来做结果判断，这里返回的**ImageURL**仅是您在建图片库输入的字符串，平台服务端不保留用户图片库的原始图片。如果上传图片库时使用的是有时效性的访问链接，需要您本地保留图片，并保存**EntryID**和图片的映射关系。\n- 该URL地址为临时地址，有效期为30分钟，过期后将无法访问。","type":"string","example":"http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1ie0c6-ipvnszc8584116.jpg?Expires=1635150265&OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&Signature=8rj0%2Bxg%2Bni5NxQAcEQqISX5j1w****"},"EntityId":{"description":"实体ID。","type":"string","example":"123456"},"Score":{"description":"相似得分，取值0~10，分数越大，相似度越高。","type":"number","format":"float","example":"10"},"DataId":{"description":"数据ID。","type":"string","example":"001"},"ExtraData":{"description":"自定义数据。","type":"string","example":"tangyan"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A98DBCEB-45E2-5F5F-B5ED-F2340182FD87\\\",\\n  \\\"Data\\\": {\\n    \\\"MatchList\\\": [\\n      {\\n        \\\"ImageUrl\\\": \\\"http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1ie0c6-ipvnszc8584116.jpg?Expires=1635150265&OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&Signature=8rj0%2Bxg%2Bni5NxQAcEQqISX5j1w****\\\",\\n        \\\"EntityId\\\": \\\"123456\\\",\\n        \\\"Score\\\": 10,\\n        \\\"DataId\\\": \\\"001\\\",\\n        \\\"ExtraData\\\": \\\"tangyan\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SearchImageResponse>\\n    <RequestId>A98DBCEB-45E2-5F5F-B5ED-F2340182FD87</RequestId>\\n    <Data>\\n        <MatchList>\\n            <EntityId>123456</EntityId>\\n            <Score>10</Score>\\n            <DataId>1</DataId>\\n            <ImageUrl>http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1ie0c6-ipvnszc8584116.jpg?Expires=1635150265&amp;OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&amp;Signature=8rj0%2Bxg%2Bni5NxQAcEQqISX5j1w****</ImageUrl>\\n            <ExtraData>zhaoliu</ExtraData>\\n        </MatchList>\\n        <MatchList>\\n            <EntityId>123457</EntityId>\\n            <Score>1.1762875356333269</Score>\\n            <DataId>2</DataId>\\n            <ImageUrl>http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1uimages1.jpg?Expires=1635151060&amp;OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&amp;Signature=%2Byceg79YwiShi1RWDSQ%2FSZcIec****</ImageUrl>\\n            <ExtraData>wangwu</ExtraData>\\n        </MatchList>\\n        <MatchList>\\n            <EntityId>123458</EntityId>\\n            <Score>0.9932686334385976</Score>\\n            <DataId>3</DataId>\\n            <ImageUrl>http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1ximages2.jpg?Expires=1635151141&amp;OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&amp;Signature=rHoEnFco%2BfLWyzHZGFwUpOaySZ****</ImageUrl>\\n            <ExtraData>zhangsan</ExtraData>\\n        </MatchList>\\n        <MatchList>\\n            <EntityId>123459</EntityId>\\n            <Score>1.2938829068163327</Score>\\n            <DataId>4</DataId>\\n            <ImageUrl>http://vision-console.oss-cn-shanghai.aliyuncs.com/1902352443710590/kv6dvd1m641.jpg?Expires=1635150931&amp;OSSAccessKeyId=LTAI4Fp1Gt5RzwdEXL3o****&amp;Signature=5m8NJ50eokih%2Fcxp%2B%2BnsA%2BTT%2BG****</ImageUrl>\\n            <ExtraData>lisi</ExtraData>\\n        </MatchList>\\n    </Data>\\n</SearchImageResponse>\",\"errorExample\":\"\"}]","title":"搜索图片","summary":"本文介绍搜索图片SearchImage的语法及示例。","description":"## 功能描述\n搜索图片能力可以根据输入图片，在数据库中搜索相似的图片。\n\n> 阿里云视觉智能开放平台视觉AI能力API接入、接口使用或问题咨询等，请通过钉钉群（23109592）加入阿里云视觉智能开放平台咨询群联系我们。\n\n## 服务说明\n视觉搜索服务将于2023年2月15日起停止更新，后续不再支持新用户开通接入服务，新用户请使用[新版图像搜索](https://ai.aliyun.com/imagesearch)。2023年2月15日之后，会继续支持老用户，老用户如果对视觉搜索服务使用有疑问，可通过搜索钉钉群（23109592）加入阿里云视觉智能开放平台咨询群联系我们。\n\n## 输入限制\n\n- 图像格式：JPG、JPEG、PNG。\n\n- 图像大小：不超过3 MB。\n\n- 图像分辨率：大于128×128像素，小于1024×1024像素。\n\n- URL地址中不能包含中文字符。\n\n## 计费说明\n关于搜索图片的计费方式及报价，请参见[计费介绍](~~202486~~)。\n> 下方调试接口为付费接口。","requestParamsDescription":" ","responseParamsDescription":"## SDK参考\n阿里云视觉AI能力推荐使用SDK调用，支持多种编程语言，文件参数通过SDK调用可支持本地文件及任意URL，具体可参见[SDK总览](~~145033~~)。","extraInfo":"## 错误码\n关于搜索图片的错误码，详情请参见[常见错误码](~~159136~~)。\n\n\n## 安全声明\n- 请确保上传的图片或文件来源符合相应的法律法规。\n- 通过体验调试上传的临时文件有效期为1小时，在24小时后会被系统自动清理删除。"}