{"summary":"调用SetExternalSAMLIdentityProvider配置SAML身份提供商（IdP）信息。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"DirectoryId","in":"query","schema":{"description":"目录ID。","type":"string","required":true,"docRequired":true,"example":"d-00fc2p61****"}},{"name":"EncodedMetadataDocument","in":"query","schema":{"description":"IdP元数据文档（Base64编码）。\n\n由支持SAML 2.0协议的IdP提供。","type":"string","required":false,"example":"PD94bWwgdmVyc2lvbj0iMS4****"}},{"name":"SSOStatus","in":"query","schema":{"description":"SSO登录的启用状态。取值：\n\n- Enabled：启用。\n- Disabled（默认值）：禁用。","type":"string","required":false,"example":"Disabled"}},{"name":"EntityId","in":"query","schema":{"description":"IdP标识。","type":"string","required":false,"example":"http://www.okta.com/exk3qwgtjhetR2Od****"}},{"name":"LoginUrl","in":"query","schema":{"description":"IdP的登录地址。","type":"string","required":false,"example":"https://dev-xxxxxx.okta.com/app/dev-xxxxxx_cloudssodemo_1/exk3qwgtjhetR2Od****/sso/saml"}},{"name":"WantRequestSigned","in":"query","schema":{"description":"在用户访问云SSO登录页面发起SAML SSO时，是否要求云SSO发送签名的SAML请求。取值：\n\n- true：要求云SSO发送签名的SAML请求。\n- false（默认值）：不要求云SSO发送签名的SAML请求。","type":"boolean","required":false,"example":"false"}},{"name":"X509Certificate","in":"query","schema":{"description":"PEM格式的X509证书。指定该参数会替换所有已经存在的证书。","type":"string","required":false,"example":"MIIC8DCCAdigAwIBAgIQP9eomUYGeoND****"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"63160579-2E1B-57B0-8273-B27427172385"},"SAMLIdentityProviderConfiguration":{"description":"IdP配置信息。","type":"object","properties":{"EntityId":{"description":"IdP标识。","type":"string","example":"http://www.okta.com/exk3qwgtjhetR2Od****"},"SSOStatus":{"description":"SSO登录的启用状态。取值：\n\n- Enabled：启用。\n- Disabled：禁用。","type":"string","example":"Disabled"},"DirectoryId":{"description":"目录ID。","type":"string","example":"d-00fc2p61****"},"EncodedMetadataDocument":{"description":"IdP元数据文档（Base64编码）。","type":"string","example":"PD94bWwgdmVyc2lvbj0iMS4****"},"CreateTime":{"description":"首次配置IdP的时间。","type":"string","example":"2021-11-10T02:57:16Z"},"WantRequestSigned":{"description":"在用户访问云SSO登录页面发起SAML SSO时，是否要求云SSO发送签名的SAML请求。取值：\n\n- true：要求云SSO发送签名的SAML请求。\n- false（默认值）：不要求云SSO发送签名的SAML请求。","type":"boolean","example":"false"},"UpdateTime":{"description":"最近一次修改IdP配置的时间。","type":"string","example":"2021-11-10T02:57:16Z"},"CertificateIds":{"description":"SAML签名证书ID。","type":"array","items":{"description":"SAML签名证书ID。\n\n多个ID之间用半角逗号（,）分隔。","type":"string","example":"[ \"idp-c-00buzdx63z8ewtdf****\", \"idp-c-00gmuxnr2mrek3t2****\" ]"}},"LoginUrl":{"description":"IdP的登录地址。","type":"string","example":"https://dev-xxxxxx.okta.com/app/dev-xxxxxx_cloudssodemo_1/exk3qwgtjhetR2Od****/sso/saml"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"63160579-2E1B-57B0-8273-B27427172385\\\",\\n  \\\"SAMLIdentityProviderConfiguration\\\": {\\n    \\\"EntityId\\\": \\\"http://www.okta.com/exk3qwgtjhetR2Od****\\\",\\n    \\\"SSOStatus\\\": \\\"Disabled\\\",\\n    \\\"DirectoryId\\\": \\\"d-00fc2p61****\\\",\\n    \\\"EncodedMetadataDocument\\\": \\\"PD94bWwgdmVyc2lvbj0iMS4****\\\",\\n    \\\"CreateTime\\\": \\\"2021-11-10T02:57:16Z\\\",\\n    \\\"WantRequestSigned\\\": false,\\n    \\\"UpdateTime\\\": \\\"2021-11-10T02:57:16Z\\\",\\n    \\\"CertificateIds\\\": [\\n      \\\"[ \\\\\\\"idp-c-00buzdx63z8ewtdf****\\\\\\\", \\\\\\\"idp-c-00gmuxnr2mrek3t2****\\\\\\\" ]\\\"\\n    ],\\n    \\\"LoginUrl\\\": \\\"https://dev-xxxxxx.okta.com/app/dev-xxxxxx_cloudssodemo_1/exk3qwgtjhetR2Od****/sso/saml\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SetExternalSAMLIdentityProviderResponse>\\n    <RequestId>63160579-2E1B-57B0-8273-B27427172385</RequestId>\\n    <SAMLIdentityProviderConfiguration>\\n        <EntityId>http://www.okta.com/exk3qwgtjhetR2Od****</EntityId>\\n        <SSOStatus>Disabled</SSOStatus>\\n        <DirectoryId>d-00fc2p61****</DirectoryId>\\n        <EncodedMetadataDocument>PD94bWwgdmVyc2lvbj0iMS4****</EncodedMetadataDocument>\\n        <CreateTime>2021-11-10T02:57:16Z</CreateTime>\\n        <WantRequestSigned>false</WantRequestSigned>\\n        <UpdateTime>2021-11-10T02:57:16Z</UpdateTime>\\n        <CertificateIds>idp-c-00buzdx63z8ewtdf****</CertificateIds>\\n        <CertificateIds>idp-c-00gmuxnr2mrek3t2****</CertificateIds>\\n        <LoginUrl>https://dev-xxxxxx.okta.com/app/dev-xxxxxx_cloudssodemo_1/exk3qwgtjhetR2Od****/sso/saml</LoginUrl>\\n    </SAMLIdentityProviderConfiguration>\\n</SetExternalSAMLIdentityProviderResponse>\",\"errorExample\":\"\"}]","title":"配置SAML身份提供商信息","description":"在基于SAML 2.0的SSO登录过程中，云SSO目录是服务提供商（SP），而企业自有的身份管理系统则是身份提供商（IdP）。\n\n配置SAML身份提供商（IdP）信息有以下两种方式，您可以任选其一进行配置，但不能同时进行配置。需要用到的元数据文档或相关参数，请从您的IdP中获取。\n\n- 元数据文档：通过`EncodedMetadataDocument`参数配置元数据文档。\n- 手动配置：通过`EntityId`、`LoginUrl`、`WantRequestSigned`和`X509Certificate`参数手动配置IdP信息。\n\n如果已经配置过SAML IdP信息，则调用本API会替换已有的配置信息。具体如下：\n\n- 元数据文档：全部替换为新的配置信息。\n- 手动配置：只替换提供的新参数值。\n\n> 如果SSO登录状态是已启用，替换后的配置信息会立即生效，请注意对生产环境的影响。\n\n本文将提供一个示例，在目录`d-00fc2p61****`下通过元数据文档配置IdP信息。"}