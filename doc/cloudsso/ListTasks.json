{"summary":"调用ListTasks查询异步任务列表。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DirectoryId","in":"query","schema":{"description":"目录ID。","type":"string","required":true,"docRequired":true,"example":"d-00fc2p61****"}},{"name":"AccessConfigurationId","in":"query","schema":{"description":"访问配置ID，用于查询的过滤条件。","type":"string","required":false,"example":"ac-00jhtfl8thteu6uj****"}},{"name":"TargetType","in":"query","schema":{"description":"任务目标类型，用于查询的过滤条件。\n\n取值：RD-Account，表示任务目标类型为RD账号。\n\n> `TargetId`与`TargetType`必须同时配置才能作为有效的过滤条件进行查询。","type":"string","required":false,"example":"RD-Account"}},{"name":"TargetId","in":"query","schema":{"description":"任务目标ID，用于查询的过滤条件。\n\n> `TargetId`与`TargetType`必须同时配置才能作为有效的过滤条件进行查询。","type":"string","required":false,"example":"114240524784****"}},{"name":"PrincipalType","in":"query","schema":{"description":"云SSO身份类型，用于查询的过滤条件。取值：\n\n- User：用户。\n- Group：用户组。\n\n> `PrincipalId`与`PrincipalType`必须同时配置才能作为有效的过滤条件进行查询。","type":"string","required":false,"example":"User"}},{"name":"PrincipalId","in":"query","schema":{"description":"云SSO身份ID，用于查询的过滤条件。具体如下：\n\n- 当`PrincipalType`为`User`时，`PrincipalId`为云SSO用户ID。\n- 当`PrincipalType`为`Group`时，`PrincipalId`为云SSO用户组ID。\n\n> `PrincipalId`与`PrincipalType`必须同时配置才能作为有效的过滤条件进行查询。","type":"string","required":false,"example":"u-00q8wbq42wiltcrk****"}},{"name":"TaskType","in":"query","schema":{"description":"任务类型，用于查询的过滤条件。取值：\n\n- ProvisionAccessConfiguration：部署访问配置。\n- DeprovisionAccessConfiguration：解除访问配置部署。\n- CreateAccessAssignment：在RD账号上授权。\n- DeleteAccessAssignment：移除RD账号上的授权。","type":"string","required":false,"example":"CreateAccessAssignment"}},{"name":"Status","in":"query","schema":{"description":"任务状态，用于查询的过滤条件。取值：\n\n- InProgress：任务执行中。\n- Success：任务执行成功。\n- Failed：任务执行失败。","type":"string","required":false,"example":"Success"}},{"name":"NextToken","in":"query","schema":{"description":"查询返回结果下一页的令牌。首次调用API不需要`NextToken`。\n\n当您首次调用API时，如果返回数据总条数超过`MaxResults`限制，数据会被截断，只返回`MaxResults`条数据，同时，返回参数`IsTruncated`为`true`，返回一个`NextToken`。您可以使用上一次返回的`NextToken`继续调用API，其他请求参数保持不变，查询被截断的数据。您可以按此方法多次查询，直到`IsTruncated`为`false`，表示全部数据查询完毕。","type":"string","required":false,"example":"K1c3o9K7pFxoTtxH1Nm7MMLb7zrDGvftYBQBPDVv7AD3a8yhRb3Mk8L9ivmN6bFSjfkZNTAg3h4****"}},{"name":"MaxResults","in":"query","schema":{"description":"每页的最大数据条数。\n\n取值范围：1~20。\n\n默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"Filter","in":"query","schema":{"description":"过滤条件。\n\n格式：<Attribute> <Operator> <Value>，不区分大小写。其中，<Attribute>只支持StartTime，<Operator>只支持ge（Greater Than or Equals），<Value>格式为YYYY-MM-DDTHH:mm:SSZ，且只能填写距离当前时间不超过7天的值。\n\n示例：Filter = \"StartTime ge 2021-03-15T01:12:23Z\"，表示查询从2021-03-15T01:12:23 GMT（0时区）时间开始的任务列表。\n\n> 如不指定该参数，则默认返回距离当前时间24小时内的任务列表。","type":"string","required":false,"example":"StartTime ge 2021-03-15T01:12:23Z"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"Tasks":{"description":"任务列表。","type":"array","items":{"description":"任务列表。","type":"object","properties":{"Status":{"description":"任务状态。取值：\n\n- InProgress：任务执行中。\n- Success：任务执行成功。\n- Failed：任务执行失败。","type":"string","example":"Success"},"TaskId":{"description":"任务ID。","type":"string","example":"t-sh5k4gesm6twlrqb****"},"EndTime":{"description":"任务结束时间。","type":"string","example":"2021-11-09T05:50:50Z"},"PrincipalId":{"description":"云SSO身份ID。","type":"string","example":"u-00q8wbq42wiltcrk****"},"TargetPath":{"description":"任务目标在资源目录中的路径ID。","type":"string","example":"rd-3G****/r-Wm****/114240524784****"},"StartTime":{"description":"任务开始时间。","type":"string","example":"2021-11-09T05:50:50Z"},"PrincipalName":{"description":"云SSO身份名称。","type":"string","example":"Alice"},"TargetName":{"description":"任务目标名称。","type":"string","example":"dev-test"},"TargetId":{"description":"任务目标ID。","type":"string","example":"114240524784****"},"AccessConfigurationName":{"description":"访问配置名称。","type":"string","example":"ECS-Admin"},"TargetPathName":{"description":"任务目标在资源目录中的路径名称。","type":"string","example":"rd-3G****/root/dev-test"},"TaskType":{"description":"任务类型。取值：\n\n- ProvisionAccessConfiguration：部署访问配置。\n- DeprovisionAccessConfiguration：解除访问配置部署。\n- CreateAccessAssignment：在RD账号上授权。\n- DeleteAccessAssignment：移除RD账号上的授权。","type":"string","example":"CreateAccessAssignment"},"FailureReason":{"description":"任务失败原因。\n\n> 只有`Status`为`Failed`，才显示该参数。","type":"string","example":"No Permission."},"TargetType":{"description":"任务目标类型。\n\n取值：RD-Account，表示任务目标类型为RD账号。","type":"string","example":"RD-Account"},"AccessConfigurationId":{"description":"访问配置ID。","type":"string","example":"ac-00jhtfl8thteu6uj****"},"PrincipalType":{"description":"云SSO身份类型。取值：\n\n- User：用户。\n- Group：用户组。","type":"string","example":"User"}}}},"NextToken":{"description":"查询返回结果下一页的令牌。\n\n> 只有`IsTruncated`为`true`，才显示该参数。","type":"string","example":"K1c3o9K7pFxoTtxH1Nm7MMLb7zrDGvftYBQBPDVv7AD3a8yhRb3Mk8L9ivmN6bFSjfkZNTAg3h4****"},"RequestId":{"description":"请求ID。","type":"string","example":"C0DA2DFC-EB18-59EF-BD82-C30862EBA3A3"},"MaxResults":{"description":"每页的最大数据条数。","type":"integer","format":"int32","example":"10"},"TotalCounts":{"description":"符合请求参数条件的数据总条数。","type":"integer","format":"int32","example":"1"},"IsTruncated":{"description":"返回结果是否被截断。取值：\n\n- true：已截断。\n- false：未截断。","type":"boolean","example":"false"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Tasks\\\": [\\n    {\\n      \\\"Status\\\": \\\"Success\\\",\\n      \\\"TaskId\\\": \\\"t-sh5k4gesm6twlrqb****\\\",\\n      \\\"EndTime\\\": \\\"2021-11-09T05:50:50Z\\\",\\n      \\\"PrincipalId\\\": \\\"u-00q8wbq42wiltcrk****\\\",\\n      \\\"TargetPath\\\": \\\"rd-3G****/r-Wm****/114240524784****\\\",\\n      \\\"StartTime\\\": \\\"2021-11-09T05:50:50Z\\\",\\n      \\\"PrincipalName\\\": \\\"Alice\\\",\\n      \\\"TargetName\\\": \\\"dev-test\\\",\\n      \\\"TargetId\\\": \\\"114240524784****\\\",\\n      \\\"AccessConfigurationName\\\": \\\"ECS-Admin\\\",\\n      \\\"TargetPathName\\\": \\\"rd-3G****/root/dev-test\\\",\\n      \\\"TaskType\\\": \\\"CreateAccessAssignment\\\",\\n      \\\"FailureReason\\\": \\\"No Permission.\\\",\\n      \\\"TargetType\\\": \\\"RD-Account\\\",\\n      \\\"AccessConfigurationId\\\": \\\"ac-00jhtfl8thteu6uj****\\\",\\n      \\\"PrincipalType\\\": \\\"User\\\"\\n    }\\n  ],\\n  \\\"NextToken\\\": \\\"K1c3o9K7pFxoTtxH1Nm7MMLb7zrDGvftYBQBPDVv7AD3a8yhRb3Mk8L9ivmN6bFSjfkZNTAg3h4****\\\",\\n  \\\"RequestId\\\": \\\"C0DA2DFC-EB18-59EF-BD82-C30862EBA3A3\\\",\\n  \\\"MaxResults\\\": 10,\\n  \\\"TotalCounts\\\": 1,\\n  \\\"IsTruncated\\\": false\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListTasksResponse>\\n\\t<Tasks>\\n\\t\\t<Task>\\n\\t\\t\\t<Status>Success</Status>\\n\\t\\t\\t<TaskId>t-sh5k4gesm6twlrqb****</TaskId>\\n\\t\\t\\t<EndTime>2021-11-09T05:50:50Z</EndTime>\\n\\t\\t\\t<PrincipalId>u-00q8wbq42wiltcrk****</PrincipalId>\\n\\t\\t\\t<TargetPath>rd-3G****/r-Wm****/114240524784****</TargetPath>\\n\\t\\t\\t<StartTime>2021-11-09T05:50:50Z</StartTime>\\n\\t\\t\\t<PrincipalName>Alice</PrincipalName>\\n\\t\\t\\t<TargetName>dev-test</TargetName>\\n\\t\\t\\t<TargetId>114240524784****</TargetId>\\n\\t\\t\\t<AccessConfigurationName>ECS-Admin</AccessConfigurationName>\\n\\t\\t\\t<TargetPathName>rd-3G****/root/dev-test</TargetPathName>\\n\\t\\t\\t<TaskType>CreateAccessAssignment</TaskType>\\n\\t\\t\\t<TargetType>RD-Account</TargetType>\\n\\t\\t\\t<AccessConfigurationId>ac-00jhtfl8thteu6uj****</AccessConfigurationId>\\n\\t\\t\\t<PrincipalType>User</PrincipalType>\\n\\t\\t</Task>\\n\\t</Tasks>\\n\\t<RequestId>C0DA2DFC-EB18-59EF-BD82-C30862EBA3A3</RequestId>\\n\\t<MaxResults>10</MaxResults>\\n\\t<TotalCounts>1</TotalCounts>\\n\\t<IsTruncated>false</IsTruncated>\\n</ListTasksResponse>\\t\",\"errorExample\":\"\"}]","title":"查询异步任务列表","description":"本API默认查询距离当前时间24小时内的任务列表。最多支持查询7天内的任务列表。您可以通过`Filter`参数设置查询的开始时间。\n\n本文将提供一个示例，查询24小时内的任务列表。"}