{"summary":"更新该网关熔断规则。","methods":["get","post"],"schemes":["http","https"],"tags":["gateway"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"Id","in":"query","schema":{"description":"熔断规则ID。","type":"integer","format":"int64","required":true,"example":"369"}},{"name":"GatewayId","in":"query","schema":{"description":"网关ID。","type":"integer","format":"int64","required":false,"example":"14407"}},{"name":"GatewayUniqueId","in":"query","schema":{"description":"网关唯一标识ID。","type":"string","required":true,"example":"gw-c9bc5afd61014165bd58f621b491****"}},{"name":"RouteId","in":"query","schema":{"description":"路由ID。","type":"integer","format":"int64","required":true,"example":"645"}},{"name":"RouteName","in":"query","schema":{"description":"路由名称。","type":"string","required":true,"example":"routeName"}},{"name":"Strategy","in":"query","schema":{"description":"阈值类型。\n\n0：慢调用类型。\n\n1：异常类型。","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"TriggerRatio","in":"query","schema":{"description":"触发熔断百分比。","type":"integer","format":"int32","required":true,"example":"10"}},{"name":"StatDurationSec","in":"query","schema":{"description":"熔断统计时长。","type":"integer","format":"int32","required":true,"example":"11"}},{"name":"RecoveryTimeoutSec","in":"query","schema":{"description":"熔断恢复时长。","type":"integer","format":"int32","required":true,"example":"12"}},{"name":"MinRequestAmount","in":"query","schema":{"description":"触发熔断的最小请求数。","type":"integer","format":"int32","required":true,"example":"10"}},{"name":"MaxAllowedMs","in":"query","schema":{"description":"慢调用模式下慢调用阈值。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"BehaviorType","in":"query","schema":{"description":"Web fallback行为类型。\n\n0：返回指定文本\n\n1：跳转到指定页面","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"BodyEncoding","in":"query","schema":{"description":"编码类型。\n\n0：普通文本\n\n1：JSON","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"ResponseStatusCode","in":"query","schema":{"description":"HTTP状态码。","type":"integer","format":"int32","required":false,"example":"429"}},{"name":"ResponseContentBody","in":"query","schema":{"description":"HTTP返回文本。","type":"string","required":false,"example":"text"}},{"name":"ResponseRedirectUrl","in":"query","schema":{"description":"跳转地址。","type":"string","required":false,"example":"www.******.com"}},{"name":"Enable","in":"query","schema":{"description":"是否开启。\n\n0：不开启。\n\n1：开启。","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"AcceptLanguage","in":"query","schema":{"title":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","description":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"schema":{"title":"RestResult<GatewayRouteCircuitBreakerRule>","description":"RestResult<GatewayRouteCircuitBreakerRule>","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"DC34E4A3-5F1C-4E40-86EA-02EDF967****"},"Data":{"description":"返回数据。","type":"object","properties":{"Id":{"description":"熔断规则ID。","type":"integer","format":"int64","example":"369"},"GatewayId":{"description":"网关ID。","type":"integer","format":"int64","example":"14407"},"GatewayUniqueId":{"description":"网关唯一标识ID。","type":"string","example":"gw-c9bc5afd61014165bd58f621b491****"},"RouteId":{"description":"路由ID。","type":"integer","format":"int64","example":"645"},"RouteName":{"description":"路由名称。","type":"string","example":"routeName"},"Strategy":{"description":"阈值类型。\n\n0：慢调用类型。\n\n1：异常类型。","type":"integer","format":"int32","example":"0"},"TriggerRatio":{"description":"触发熔断的百分比。","type":"integer","format":"int32","example":"10"},"StatDurationSec":{"description":"熔断统计时长。","type":"integer","format":"int32","example":"11"},"RecoveryTimeoutSec":{"description":"熔断恢复时长。","type":"integer","format":"int32","example":"12"},"MinRequestAmount":{"description":"触发熔断的最小请求数。","type":"integer","format":"int32","example":"10"},"MaxAllowedMs":{"description":"慢调用模式下慢调用阈值。","type":"integer","format":"int32","example":"10"},"LimitMode":{"description":"阈值转化模式。\n\n0：单机。\n\n1：集群。\n\n2：集群转单机。","type":"integer","format":"int32","example":"0"},"BehaviorType":{"description":"Web fallbaco行为类型。\n\n0：返回指定文本。\n\n1：跳转到指定页面。","type":"integer","format":"int32","example":"0"},"BodyEncoding":{"description":"编码类型。\n\n0：普通文本。\n\n1：JSON。","type":"integer","format":"int32","example":"0"},"ResponseStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"201"},"ResponseContentBody":{"description":"HTTP返回文本。","type":"string","example":"text"},"ResponseRedirectUrl":{"description":"跳转地址。","type":"string","example":"www.******.com"},"ResponseAdditionalHeaders":{"description":"自定义header，输入为key-value键值对。","type":"string","example":"key=value"},"Enable":{"description":"是否开启。\n\n0：不开启。\n\n1：开启。","type":"integer","format":"int32","example":"0"},"IdList":{"title":"筛选规则id","description":"筛选规则id","type":"array","items":{"description":"规则ID。","type":"integer","format":"int64","example":"369"}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalRequest","errorMessage":"Invalid request:%s"},{"errorCode":"InvalidParameter","errorMessage":"Parameter error:%s"}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to perform this operation:%s"}],"404":[{"errorCode":"NotFound","errorMessage":"Not found:%s"}],"500":[{"errorCode":"InternalError","errorMessage":"Console error. Try again later:%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"DC34E4A3-5F1C-4E40-86EA-02EDF967****\\\",\\n  \\\"Data\\\": {\\n    \\\"Id\\\": 369,\\n    \\\"GatewayId\\\": 14407,\\n    \\\"GatewayUniqueId\\\": \\\"gw-c9bc5afd61014165bd58f621b491****\\\",\\n    \\\"RouteId\\\": 645,\\n    \\\"RouteName\\\": \\\"routeName\\\",\\n    \\\"Strategy\\\": 0,\\n    \\\"TriggerRatio\\\": 10,\\n    \\\"StatDurationSec\\\": 11,\\n    \\\"RecoveryTimeoutSec\\\": 12,\\n    \\\"MinRequestAmount\\\": 10,\\n    \\\"MaxAllowedMs\\\": 10,\\n    \\\"LimitMode\\\": 0,\\n    \\\"BehaviorType\\\": 0,\\n    \\\"BodyEncoding\\\": 0,\\n    \\\"ResponseStatusCode\\\": 201,\\n    \\\"ResponseContentBody\\\": \\\"text\\\",\\n    \\\"ResponseRedirectUrl\\\": \\\"www.******.com\\\",\\n    \\\"ResponseAdditionalHeaders\\\": \\\"key=value\\\",\\n    \\\"Enable\\\": 0,\\n    \\\"IdList\\\": [\\n      369\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"更新网关熔断规则"}