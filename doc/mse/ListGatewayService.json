{"summary":"查询网关已订阅的服务列表。","methods":["post","get"],"schemes":["http","https"],"tags":["gateway"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"25193","abilityTreeNodes":["FEATUREmse5GGXKF"]},"parameters":[{"name":"PageNumber","in":"query","schema":{"description":"页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页大小。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"OrderItem","in":"query","schema":{"description":"排序属性。","type":"string","required":false,"example":"GmtCreate"}},{"name":"DescSort","in":"query","schema":{"description":"排序。","type":"boolean","required":false,"example":"false"}},{"name":"FilterParams","in":"query","style":"json","schema":{"description":"过滤条件，格式为{\"key1\":\"value1\"}。","type":"object","properties":{"Name":{"description":"服务名。","type":"string","required":false,"example":"test"},"SourceType":{"description":"来源类型。","type":"string","required":false,"example":"MSE"},"Namespace":{"description":"命名空间。","type":"string","required":false,"example":"public"},"GroupName":{"description":"分组。","type":"string","required":false,"example":"test"},"GatewayUniqueId":{"description":"网关唯一标识ID。","type":"string","required":true,"docRequired":true,"example":"gw-5017305290e14centbrveca****"},"ServiceProtocol":{"description":"服务协议。\n\n- HTTP\n\n- HTTPS\n\n- HTTP2\n\n- GRPC\n\n- DUBBO","type":"string","required":false,"enumValueTitles":{"HTTP2":"HTTP2","HTTPS":"HTTPS","HTTP":"HTTP","DUBBO":"DUBBO","GRPC":"GRPC"},"example":"HTTP"}},"required":false}},{"name":"AcceptLanguage","in":"query","schema":{"title":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","description":"返回信息的语言类型：\n\n- zh：中文\n- en：英文","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"数据结构。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"F46CDBA4-B1EE-5C94-8A48-51C10177****"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"You are not authorized to perform this operation."},"Code":{"description":"返回值。","type":"integer","format":"int32","example":"200"},"Success":{"description":"请求结果，取值如下：\n- `true`：请求成功。\n- `false`：请求失败。","type":"boolean","example":"true"},"Data":{"description":"返回数据。","type":"object","properties":{"TotalSize":{"description":"总条数。","type":"integer","format":"int64","example":"9"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页最大记录数，默认值为10。","type":"integer","format":"int32","example":"10"},"Result":{"description":"返回集合。","type":"array","items":{"description":"数据结构。","type":"object","properties":{"Id":{"description":"ID。","type":"integer","format":"int64","example":"1"},"Name":{"description":"服务名。","type":"string","example":"test"},"GatewayUniqueId":{"description":"网关唯一ID。","type":"string","example":"gw-5017305290e14centbrveca****"},"GatewayId":{"description":"网关ID。","type":"integer","format":"int64","example":"1"},"SourceType":{"description":"来源类型。","type":"string","example":"MSE"},"Namespace":{"description":"命名空间。","type":"string","example":"public"},"GroupName":{"description":"分组。","type":"string","example":"test"},"SourceId":{"description":"来源ID。","type":"integer","format":"int64","example":"2"},"ServiceNameInRegistry":{"description":"注册中心中原服务名。","type":"string","example":"test"},"MetaInfo":{"description":"元信息或IP列表。","type":"string","example":"{}"},"Ips":{"description":"IP列表。","type":"array","items":{"description":"IP。","type":"string","example":"127.0.2.1"}},"GmtCreate":{"description":"记录创建时间。","type":"string","example":"2022-01-07 18:07:57"},"GmtModified":{"description":"记录修改时间。","type":"string","example":"2022-01-07 18:07:57"},"Versions":{"description":"服务版本。","type":"array","items":{"description":"版本。","type":"object","properties":{"Name":{"description":"版本名。","type":"string","example":"v1"}}}},"ServiceProtocol":{"description":"服务协议。","type":"string","example":"HTTP"},"ServicePort":{"description":"服务端口。","type":"integer","format":"int64","example":"80"},"HealehStatus":{"description":"健康状态。\n\n- Health\n\n- Unhealthy\n\n- Unknown","type":"string","example":"Unhealthy"},"HealthStatus":{"description":"健康状态。\n\n- Health\n\n- Unhealthy\n\n- Unknown","type":"string","example":"Unhealthy"},"HealthCheck":{"description":"是否进行健康检查。","type":"boolean","example":"true"},"HealthCheckInfo":{"description":"健康检查信息。","type":"object","properties":{"Check":{"description":"是否检查。","type":"boolean","example":"true"},"Protocol":{"description":"网络协议。","type":"string","example":"TCP"},"Timeout":{"description":"超时时间。","type":"integer","format":"int32","example":"2"},"Interval":{"description":"健康检查间隔。","type":"integer","format":"int32","example":"2"},"HealthyThreshold":{"description":"健康阈值。","type":"integer","format":"int32","example":"2"},"UnhealthyThreshold":{"description":"非健康阈值。","type":"integer","format":"int32","example":"2"},"HttpPath":{"description":"健康检查HTTP请求路径。","type":"string","example":"/health"},"HttpHost":{"description":"健康检查HTTP请求地址。","type":"string","example":"http://172.168.0.1"},"ExpectedStatuses":{"description":"健康检查期望状态值。","type":"array","items":{"description":"期望的HttpStatus。","type":"integer","format":"int32","example":"200"}}}},"UnhealthyEndpoints":{"description":"非健康endpoint数组","type":"array","items":{"description":"非健康endpoint","type":"string","example":"172.168.0.1"}},"GatewayTrafficPolicy":{"description":"流量管理策略。","type":"object","properties":{"Tls":{"description":"TLS。","type":"object","properties":{"Mode":{"title":"DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL","description":"TLS模式。\n\n- DISABLE\n\n - SIMPLE\n\n- MUTUAL\n\n- ISTIO_MUTUAL","type":"string","example":"SIMPLE"},"CertId":{"description":"证书ID。","type":"string","example":"5******-cn-hangzhou"},"CaCertId":{"description":"CA证书ID。","type":"string","example":"5******-cn-hangzhou"},"CaCertContent":{"description":"CA证书公钥。","type":"string","example":"content"},"SubjectAltNames":{"description":"主体别名数组。","type":"array","items":{"description":"主体别名。","type":"string","example":"name"}},"Sni":{"description":"服务名称标识。","type":"string","example":"name-sni"}}},"LoadBalancerSettings":{"description":"负载均衡设置。","type":"object","properties":{"LoadbalancerType":{"title":"ROUND_ROBIN, LEAST_CONN, RANDOM, CONSISTENT_HASH","description":"负载均衡策略\n\n- ROUND_ROBIN\n\n - LEAST_CONN\n\n - RANDOM\n\n - CONSISTENT_HASH","type":"string","example":"RANDOM"},"ConsistentHashLBConfig":{"description":"一致性哈希配置。","type":"object","properties":{"ParameterName":{"description":"参数名称。","type":"string","example":"param"},"HttpCookie":{"description":"基于Cookie的参数。","type":"object","properties":{"Name":{"description":"cookie名称。","type":"string","example":"name"},"Path":{"description":"cookie路径。","type":"string","example":"/path"},"Ttl":{"description":"cookie生命周期。","type":"string","example":"360"}}},"MinimumRingSize":{"description":"哈希环最小值。","type":"integer","format":"int64","example":"10000"},"ConsistentHashLBType":{"title":"HEADER, COOKIE, SOURCE_IP, QUERY_PARAMETER","description":"一致性哈希的方式。\n\n- HEADER\n\n - COOKIE\n\n - SOURCE_IP\n\n - QUERY_PARAMETER","type":"string","example":"HEADER"}}},"WarmupDuration":{"description":"最小请求数的预热时间。","type":"integer","format":"int32","example":"10"}}}}},"Ports":{"description":"端口数组。","type":"array","items":{"description":"端口。","type":"integer","format":"int32","example":"8080"}},"ServiceFQDN":{"type":"string"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalRequest","errorMessage":"Invalid request:%s"},{"errorCode":"InvalidParameter","errorMessage":"Parameter error:%s"}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to perform this operation:%s"}],"404":[{"errorCode":"NotFound","errorMessage":"Not found:%s"}],"500":[{"errorCode":"InternalError","errorMessage":"Console error. Try again later:%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F46CDBA4-B1EE-5C94-8A48-51C10177****\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"You are not authorized to perform this operation.\\\",\\n  \\\"Code\\\": 200,\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"TotalSize\\\": 9,\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"Result\\\": [\\n      {\\n        \\\"Id\\\": 1,\\n        \\\"Name\\\": \\\"test\\\",\\n        \\\"GatewayUniqueId\\\": \\\"gw-5017305290e14centbrveca****\\\",\\n        \\\"GatewayId\\\": 1,\\n        \\\"SourceType\\\": \\\"MSE\\\",\\n        \\\"Namespace\\\": \\\"public\\\",\\n        \\\"GroupName\\\": \\\"test\\\",\\n        \\\"SourceId\\\": 2,\\n        \\\"ServiceNameInRegistry\\\": \\\"test\\\",\\n        \\\"MetaInfo\\\": \\\"{}\\\",\\n        \\\"Ips\\\": [\\n          \\\"127.0.2.1\\\"\\n        ],\\n        \\\"GmtCreate\\\": \\\"2022-01-07 18:07:57\\\",\\n        \\\"GmtModified\\\": \\\"2022-01-07 18:07:57\\\",\\n        \\\"Versions\\\": [\\n          {\\n            \\\"Name\\\": \\\"v1\\\"\\n          }\\n        ],\\n        \\\"ServiceProtocol\\\": \\\"HTTP\\\",\\n        \\\"ServicePort\\\": 80,\\n        \\\"HealehStatus\\\": \\\"Unhealthy\\\",\\n        \\\"HealthStatus\\\": \\\"Unhealthy\\\",\\n        \\\"HealthCheck\\\": true,\\n        \\\"HealthCheckInfo\\\": {\\n          \\\"Check\\\": true,\\n          \\\"Protocol\\\": \\\"TCP\\\",\\n          \\\"Timeout\\\": 2,\\n          \\\"Interval\\\": 2,\\n          \\\"HealthyThreshold\\\": 2,\\n          \\\"UnhealthyThreshold\\\": 2,\\n          \\\"HttpPath\\\": \\\"/health\\\",\\n          \\\"HttpHost\\\": \\\"http://172.168.0.1\\\",\\n          \\\"ExpectedStatuses\\\": [\\n            200\\n          ]\\n        },\\n        \\\"UnhealthyEndpoints\\\": [\\n          \\\"172.168.0.1\\\"\\n        ],\\n        \\\"GatewayTrafficPolicy\\\": {\\n          \\\"Tls\\\": {\\n            \\\"Mode\\\": \\\"SIMPLE\\\",\\n            \\\"CertId\\\": \\\"5******-cn-hangzhou\\\",\\n            \\\"CaCertId\\\": \\\"5******-cn-hangzhou\\\",\\n            \\\"CaCertContent\\\": \\\"content\\\",\\n            \\\"SubjectAltNames\\\": [\\n              \\\"name\\\"\\n            ],\\n            \\\"Sni\\\": \\\"name-sni\\\"\\n          },\\n          \\\"LoadBalancerSettings\\\": {\\n            \\\"LoadbalancerType\\\": \\\"RANDOM\\\",\\n            \\\"ConsistentHashLBConfig\\\": {\\n              \\\"ParameterName\\\": \\\"param\\\",\\n              \\\"HttpCookie\\\": {\\n                \\\"Name\\\": \\\"name\\\",\\n                \\\"Path\\\": \\\"/path\\\",\\n                \\\"Ttl\\\": \\\"360\\\"\\n              },\\n              \\\"MinimumRingSize\\\": 10000,\\n              \\\"ConsistentHashLBType\\\": \\\"HEADER\\\"\\n            },\\n            \\\"WarmupDuration\\\": 10\\n          }\\n        },\\n        \\\"Ports\\\": [\\n          8080\\n        ],\\n        \\\"ServiceFQDN\\\": \\\"\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询网关已订阅的服务列表"}