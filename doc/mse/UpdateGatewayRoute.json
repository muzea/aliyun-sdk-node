{"summary":"更新网关路由。","methods":["post","get"],"schemes":["http","https"],"tags":["gateway"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"GatewayId","in":"query","schema":{"description":"网关ID。","type":"integer","format":"int64","required":false,"example":"501"}},{"name":"Name","in":"query","schema":{"title":"路由名称（已废弃，不支持修改路由名称，填入和当前不同的路由名称会导致更新失败）","description":"路由名称。","type":"string","deprecated":true,"required":false,"example":"route-web"}},{"name":"RouteOrder","in":"query","schema":{"description":"路由顺序。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"Predicates","in":"query","style":"json","schema":{"description":"路由匹配条件。","type":"object","properties":{"PathPredicates":{"description":"Path匹配。","type":"object","properties":{"Path":{"description":"路由Path路径。","type":"string","required":false,"example":"/test"},"Type":{"description":"匹配类型。","type":"string","required":false,"example":"PRE"},"IgnoreCase":{"description":"忽略大小写。","type":"boolean","required":false,"example":"true"}},"required":true,"docRequired":true},"MethodPredicates":{"description":"方法匹配。","type":"array","items":{"description":"具体方法。","type":"string","required":false,"example":"GET"},"required":false},"HeaderPredicates":{"description":"请求头匹配。","type":"array","items":{"description":"请求头。","type":"object","properties":{"Key":{"description":"请求头Key。","type":"string","required":false,"example":"debug"},"Value":{"description":"对应的Value。","type":"string","required":false,"example":"on"},"Type":{"description":"匹配类型。","type":"string","required":false,"example":"PRE"}},"required":false},"required":false},"QueryPredicates":{"description":"参数匹配。","type":"array","items":{"description":"URL参数。","type":"object","properties":{"Key":{"description":"参数名。","type":"string","required":false,"example":"userid"},"Value":{"description":"匹配值。","type":"string","required":false,"example":"test"},"Type":{"description":"匹配类型。","type":"string","required":false,"example":"PRE"}},"required":false},"required":false}},"required":true,"docRequired":true}},{"name":"Services","in":"query","style":"json","schema":{"description":"目标服务。","type":"array","items":{"description":"服务列表。","type":"object","properties":{"ServiceId":{"description":"服务ID。","type":"integer","format":"int64","required":false,"example":"1"},"Percent":{"description":"百分比。","type":"integer","format":"int32","required":false,"example":"80"},"Version":{"description":"服务版本。","type":"string","required":false,"example":"v1"},"Name":{"description":"名称。","type":"string","required":false,"example":"web"},"SourceType":{"description":"来源类型。","type":"string","required":false,"example":"MSE"},"Namespace":{"description":"服务所在命名空间。","type":"string","required":false,"example":"default"},"GroupName":{"description":"服务分组名称。","type":"string","required":false,"example":"test"},"AgreementType":{"description":"协议类型。","type":"string","required":false,"example":"DUBBO\n"},"HttpDubboTranscoder":{"description":"Dubbo协议转换体。","type":"object","properties":{"DubboServiceName":{"description":"Dubbo服务名称。","type":"string","required":false,"example":"org.apache.dubbo.samples.basic.api.DemoService"},"DubboServiceVersion":{"description":"Dubbot服务版本。","type":"string","required":false,"example":"0.0.0"},"DubboServiceGroup":{"description":"Dubbo服务组。","type":"string","required":false,"example":"service name"},"MothedMapList":{"description":"Dubbo转发规则列表。","type":"array","items":{"description":"方法映射体。","type":"object","properties":{"DubboMothedName":{"description":"Dubbo方法名。","type":"string","required":false,"example":"sayHello"},"HttpMothed":{"description":"Http方法。\n> 支持http方法参数值。\n> - ALL_GET。\n> - ALL_POST。\n> - ALL_PUT。\n> - ALL_DELETE。\n> - ALL_PATCH。\n","type":"string","required":false,"example":"ALL_GET"},"Mothedpath":{"description":"方法匹配路径。","type":"string","required":false,"example":"/mytestzbk/sayhello\n"},"PassThroughAllHeaders":{"description":"Header透传类型。\n> 透传类型枚举值。\n> - 透传所有：PASS_ALL。\n> - 不透传：PASS_NOT。\n> - 指定参数：PASS_ASSIGN。\n","type":"string","required":false,"example":"PASS_NOT\n"},"PassThroughList":{"description":"指定透传Header列表。","type":"array","items":{"description":"指定Header透传值。","type":"string","required":false,"example":"x-forward\n"},"required":false},"ParamMapsList":{"description":"参数映射列表。","type":"array","items":{"description":"参数映射体。","type":"object","properties":{"ExtractKeySpec":{"description":"入参位置。\n> 入参位置枚举值。\n> - 请求参数：`ALL_QUERY_PARAMETER`\n> - 请求头：`ALL_HEADER`\n> - 请求路径：`ALL_PATH`\n> - 请求体：`ALL_BODY`\n","type":"string","required":false,"example":"ALL_QUERY_PARAMETER\n"},"ExtractKey":{"description":"入参位提取Key。","type":"string","required":false,"example":"name"},"MappingType":{"description":"后端参数类型。","type":"string","required":false,"example":"java.lang.String"}},"required":false},"required":false}},"required":false},"required":false}},"required":false},"ServicePort":{"description":"Dubbo端口。","type":"integer","format":"int32","required":false,"example":"20880"}},"required":false},"required":false}},{"name":"Id","in":"query","schema":{"description":"路由ID。","type":"integer","format":"int64","required":false,"example":"139"}},{"name":"DestinationType","in":"query","schema":{"description":"目标服务类型。","type":"string","required":false,"example":"Mock"}},{"name":"DirectResponseJSON","in":"query","style":"json","schema":{"description":"Mock内容。","type":"object","properties":{"Code":{"description":"Mock返回码。","type":"integer","format":"int64","required":false,"example":"200"},"Body":{"description":"Mock返回值。","type":"string","required":false,"example":"hello"}},"required":false}},{"name":"GatewayUniqueId","in":"query","schema":{"description":"网关唯一标识ID。","type":"string","required":true,"docRequired":true,"example":"gw-86575c0bc9f04ecfbacb92b8e392a2c4"}},{"name":"DomainIdListJSON","in":"query","schema":{"description":"关联域名。","type":"string","required":true,"docRequired":true,"example":"[90]"}},{"name":"RedirectJSON","in":"query","style":"json","schema":{"description":"重定向。","type":"object","properties":{"Code":{"description":"状态码。","type":"integer","format":"int32","required":false,"example":"302"},"Host":{"description":"重定向主机名。","type":"string","required":false,"example":"test.com"},"Path":{"description":"重定向路径。","type":"string","required":false,"example":"/test"}},"required":false}},{"name":"EnableWaf","in":"query","schema":{"description":"是否开启Waf。","type":"boolean","required":false,"example":"false"}},{"name":"Fallback","in":"query","schema":{"description":"是否开启Fallback服务。","type":"boolean","required":false,"example":"true"}},{"name":"FallbackServices","in":"query","style":"json","schema":{"description":"Fallback服务。","type":"array","items":{"description":"数据对象。","type":"object","properties":{"ServiceId":{"description":"服务ID。","type":"integer","format":"int64","required":false,"example":"1"},"Percent":{"description":"权重百分比。","type":"integer","format":"int32","required":false,"example":"80"},"Version":{"description":"服务版本。","type":"string","required":false,"example":"v1"},"Name":{"description":"名称。","type":"string","required":false,"example":"name"},"SourceType":{"description":"来源类型。","type":"string","required":false,"example":"MSE"},"Namespace":{"description":"服务所在命名空间。","type":"string","required":false,"example":"Namespace\n"},"GroupName":{"description":"服务分组名称。","type":"string","required":false,"example":"test"},"AgreementType":{"description":"协议类型。","type":"string","required":false,"example":"DUBBO\n"},"ServicePort":{"description":"服务端口。","type":"integer","format":"int32","required":false,"example":"8848"}},"required":false},"required":false}},{"name":"Description","in":"query","schema":{"title":"路由描述","description":"路由描述","type":"string","required":false,"example":"a route for xxx"}},{"name":"AcceptLanguage","in":"query","schema":{"title":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","description":"返回信息的语言类型：\n\n- zh：中文\n- en：英文","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"数据结构","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID","type":"string","example":"73785414-2C5B-5E28-BD91-B2C742269C48"},"HttpStatusCode":{"description":"HTTP返回码。\n","type":"integer","format":"int32","example":"200"},"Message":{"description":"响应描述","type":"string","example":"请求处理成功"},"Code":{"description":"状态码","type":"integer","format":"int32","example":"200"},"Success":{"description":"请求结果，取值如下：\n\n- `true`：请求成功。\n- `false`：请求失败。","type":"boolean","example":"true"},"Data":{"description":"数据。","type":"integer","format":"int64","example":"337"},"ErrorCode":{"description":"错误码。","type":"string","example":"NoPermission"}}}}},"errorCodes":{"400":[{"errorCode":"IllegalRequest","errorMessage":"Invalid request:%s"},{"errorCode":"InvalidParameter","errorMessage":"Parameter error:%s"}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to perform this operation:%s"}],"404":[{"errorCode":"NotFound","errorMessage":"Not found:%s"}],"500":[{"errorCode":"InternalError","errorMessage":"Console error. Try again later:%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"73785414-2C5B-5E28-BD91-B2C742269C48\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"请求处理成功\\\",\\n  \\\"Code\\\": 200,\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": 337,\\n  \\\"ErrorCode\\\": \\\"NoPermission\\\"\\n}\",\"type\":\"json\"}]","title":"更新网关路由"}