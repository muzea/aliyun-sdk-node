{"summary":"创建Nacos服务来源。","methods":["post","get"],"schemes":["http","https"],"tags":["gateway"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"Type","in":"query","schema":{"description":"服务注册类型，按来源类型填写对应的值：\n- 容器服务：K8S\n- MSE Nacos：NACOS\n- MSE ZooKeeper：ZOOKEEPER\n- SAE 注册中心：NACOS\n- EDAS 注册中心：NACOS","type":"string","required":false,"docRequired":false,"example":"NACOS\n"}},{"name":"Source","in":"query","schema":{"description":"服务来源类型：\n- 容器服务：K8S\n- MSE Nacos：MSE\n- MSE ZooKeeper：MSE_ZK\n- SAE 注册中心：SAE\n- EDAS 注册中心：EDAS","type":"string","required":false,"docRequired":true,"example":"MSE"}},{"name":"Address","in":"query","schema":{"description":"访问地址（必填）：\n* 容器服务：对应容器服务集群ID\n* MSE Nacos：实例内网访问地址\n* MSE ZooKeeper：实例内网访问地址\n* SAE 注册中心：命名空间TID\n* EDAS 注册中心：微服务空间Namespace","type":"string","required":false,"docRequired":false,"example":"mse-********-nacos-ans.mse.aliyuncs.com:8848"}},{"name":"Name","in":"query","schema":{"description":"名称。\n\n\n> 不同来源类型描述。\n- 类型为K8s时入参为名称。\n- 类型为NACOS时入参为实例ID。","type":"string","required":false,"docRequired":true,"example":"nacos"}},{"name":"GatewayUniqueId","in":"query","schema":{"description":"网关唯一ID。","type":"string","required":true,"docRequired":true,"example":"gw-c70622ff52fe49beb29bea9a6f52****"}},{"name":"IngressOptionsRequest","in":"query","style":"json","schema":{"description":"Ingress配置（服务来源类型为K8S时使用）。","type":"object","properties":{"EnableIngress":{"description":"是否开启Ingress。","type":"boolean","required":false,"example":"true"},"IngressClass":{"description":"监听Ingress Class。","type":"string","required":false,"example":"com.test.xxx"},"WatchNamespace":{"description":"监听目标命名空间。","type":"string","required":false,"example":"default"},"EnableStatus":{"description":"是否更新Ingress Status。","type":"boolean","required":false,"example":"true"}},"required":false}},{"name":"ToAuthorizeSecurityGroups","in":"query","style":"json","schema":{"description":"待授权安全组列表，用于在创建来源时打通后端服务的安全组限制","type":"array","items":{"type":"object","properties":{"SecurityGroupId":{"description":"安全组ID。","type":"string","required":false,"example":"sg-bp1acepclex0vmi1****"},"PortRange":{"description":"安全组的授权端口范围，可多选，使用,分隔。","type":"string","required":false,"example":"8080/8080,9000/10000"},"Description":{"description":"授权记录描述。","type":"string","required":false,"example":"rule for xxx"}},"required":false},"required":false}},{"name":"GroupList","in":"query","style":"json","schema":{"description":"服务分组列表。","type":"array","items":{"description":"服务分组。","type":"string","required":false,"example":"NACOS"},"required":false}},{"name":"PathList","in":"query","style":"json","schema":{"description":"服务根路径数组。","type":"array","items":{"description":"服务根路径。","type":"string","required":false,"example":"/test"},"required":false}},{"name":"AcceptLanguage","in":"query","schema":{"title":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","description":"支持的语言。包括以下取值：\n\n- 中文：zh-CN（默认值）。\n- 英文：en-US。\n- 日文：ja。","type":"string","required":false,"example":"zh-CN"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"数据结构。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"D0DB055C-51F2-5BB2-82A6-CD8A3C6EE6BA"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"You are not authorized to perform this operation. Action: mse:AddServiceSource, Resource: acs:mse:cn-hangzhou:1105471854403716:instance/gw-082c943a8c304e48a37a7a29a5ddeda7"},"Code":{"description":"返回值。","type":"integer","format":"int32","example":"200"},"Success":{"description":"请求结果，取值如下：\n\n- true：请求成功。\n- false：请求失败。","type":"boolean","example":"true"},"Data":{"description":"返回数据。","type":"integer","format":"int64","example":"63"}}}}},"errorCodes":{"400":[{"errorCode":"IllegalRequest","errorMessage":"Invalid request:%s"},{"errorCode":"InvalidParameter","errorMessage":"Parameter error:%s"}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to perform this operation:%s"}],"404":[{"errorCode":"NotFound","errorMessage":"Not found:%s"}],"500":[{"errorCode":"InternalError","errorMessage":"Console error. Try again later:%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D0DB055C-51F2-5BB2-82A6-CD8A3C6EE6BA\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"You are not authorized to perform this operation. Action: mse:AddServiceSource, Resource: acs:mse:cn-hangzhou:1105471854403716:instance/gw-082c943a8c304e48a37a7a29a5ddeda7\\\",\\n  \\\"Code\\\": 200,\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": 63\\n}\",\"type\":\"json\"}]","title":"创建服务来源"}