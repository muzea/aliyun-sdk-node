{"summary":"获取历史风险评估任务列表。","methods":["get","post"],"schemes":["http","https"],"tags":["cluster"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":false,"example":"mse_prepaid_public_cn-7pp2o4wfx01"}},{"name":"PageNum","in":"query","schema":{"title":"查询第几页","description":"查询第几页","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"title":"每页展示条数","description":"每页展示条数","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"RegionId","in":"query","schema":{"description":"集群所在地域。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"RequestPars","in":"query","schema":{"description":"扩展请求参数，JSON格式。","type":"string","required":false,"example":"{}"}},{"name":"AcceptLanguage","in":"query","schema":{"title":"返回结果显示的语言。取值：zh（默认值）：中文，en：英文","description":"返回信息的语言类型：\n\n- zh：中文\n- en：英文","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"headers":{},"schema":{"title":"RestResult<PageResult<ClusterHealthCheckTaskModel>>","description":"RestResult<PageResult<ClusterHealthCheckTaskModel>>","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"4E9FDCFE-0738-493B-B801-82BDFBCB****"},"Success":{"description":"请求结果，取值如下：\n- `true`：请求成功。\n- `false`：请求失败。","type":"boolean","example":"true"},"Code":{"title":"code仅仅用来和success同步","description":"Code仅仅用来和success同步","type":"integer","format":"int32","example":"200"},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回**ErrorCode**字段。\n- 请求失败：返回**ErrorCode**字段。具体信息，请参见本文的**错误码**目录。","type":"string","example":"mse-100-000"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"请求处理成功"},"DynamicCode":{"title":"动态错误信息中的占位符","description":"动态错误信息中的占位符","type":"string","example":"code"},"DynamicMessage":{"description":"动态错误信息，用于替换返回参数**ErrMessage**错误信息中的**%s**。\n> 如果**ErrMessage**返回**The Value of Input Parameter %s is not valid**，且**DynamicMessage**返回**DtsJobId**，则代表所传入的请求参数**DtsJobId**不合法。\n","type":"string","example":"The specified parameter is invalid."},"Data":{"description":"数据概览。","type":"object","properties":{"PageNumber":{"title":"实例列表的页码","description":"列表的页码。","type":"integer","format":"int32","example":"0"},"TotalSize":{"title":"查询到的实例总数","description":"查询到的总数。","type":"integer","format":"int32","example":"9"},"PageSize":{"title":"输入时设置的每页行数","description":"输入时设置的每页行数。","type":"integer","format":"int32","example":"10"},"Result":{"description":"风险评估任务列表。","type":"array","items":{"description":"风险评估任务。","type":"object","properties":{"Id":{"description":"ID。","type":"integer","format":"int32","example":"1"},"Score":{"description":"总得分。","type":"integer","format":"int32","example":"60"},"TotalItem":{"description":"总检查项数。","type":"integer","format":"int32","example":"10"},"TotalRisk":{"description":"总风险项数。","type":"integer","format":"int32","example":"3"},"InstanceId":{"description":"实例ID。","type":"string","example":"mse_ingresspost-cn-0jbvrcex****"},"ClusterType":{"description":"集群类型。","type":"string","example":"Nacos-Ans"},"Type":{"description":"冗余字段。","type":"string","example":"null\n"},"Status":{"description":"任务状态。","type":"string","example":"FINISH"},"PrimaryUser":{"description":"集群归属用户ID。","type":"string","example":"123456"},"Spec":{"description":"规格。","type":"string","example":"MSE_SC_2_4_200_c"},"Replica":{"description":"集群节点数量。","type":"string","example":"3"},"VersionCode":{"description":"版本号。","type":"string","example":"NACOS_ANS_1_2_1_3"},"AppVersion":{"description":"完整版本号。","type":"string","example":"1.2.1"},"ImageVersion":{"description":"冗余字段。","type":"string","example":"null"},"CreateTime":{"description":"任务创建时间。","type":"string","example":"2022-06-20T06:51:46Z"},"UpdateTime":{"description":"最后更新时间。","type":"string","example":"2022-11-12 15:07:55"},"RiskList":{"description":"风险项列表。","type":"array","items":{"description":"风险项信息。","type":"object","properties":{"Id":{"description":"ID。","type":"integer","format":"int32","example":"3426"},"TaskId":{"description":"关联的父任务ID。","type":"integer","format":"int64","example":"1"},"RiskName":{"description":"风险名称。","type":"string","example":"引擎版本过低"},"RiskCode":{"description":"风险编码。","type":"string","example":"22020010001"},"PrimaryUser":{"description":"集群归属用户ID。","type":"string","example":"123456"},"Type":{"description":"冗余字段。","type":"integer","format":"int32","example":"null"},"Values":{"description":"冗余字段。","type":"string","example":"null"},"Module":{"description":"冗余字段。","type":"string","example":"null"},"RiskType":{"description":"风险类型。","type":"string","example":"版本风险"},"RiskLevel":{"title":"HIGH, MID, LOW, NONE","description":"风险等级，取值：\n- HIGH  高风险\n- MID   中风险\n- LOW  低风险","type":"string","example":"MID"},"Suggestion":{"description":"建议。","type":"string","example":"{\\\"desc\\\":\\\"请尽快升级至最新版本\\\",\\\"links\\\":[{\\\"type\\\":\\\"upgrade\\\",\\\"desc\\\":\\\"点击升级\\\"}]}"},"Situation":{"description":"现状。","type":"string","example":"{\\\"desc\\\":\\\"当前引擎版本过低，有大量功能缺失\\\",\\\"links\\\":[{\\\"type\\\":\\\"url\\\",\\\"value\\\":\\\"https://xxxx\"\\\",\\\"desc\\\":\\\"版本说明\\\"}]}"},"Description":{"description":"描述说明。","type":"string","example":"{\\\"desc\\\":\\\"引擎版本过低，有大量功能缺失，请尽快升级至最新版本！\\\"}"},"Mute":{"description":"是否禁用此风险项通知功能。\n\n- true  禁用风险项通知\n- false 开启风险项通知","type":"boolean","example":"false"},"NoticeFeature":{"description":"冗余字段。","type":"boolean","example":"null"}}}},"ChargeType":{"description":"付费类型。","type":"string","example":"PREPAY"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalRequest","errorMessage":"Invalid request:%s"},{"errorCode":"InvalidParameter","errorMessage":"Parameter error:%s"}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to perform this operation:%s"}],"404":[{"errorCode":"NotFound","errorMessage":"Not found:%s"}],"500":[{"errorCode":"InternalError","errorMessage":"Console error. Try again later:%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4E9FDCFE-0738-493B-B801-82BDFBCB****\\\",\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": 200,\\n  \\\"ErrorCode\\\": \\\"mse-100-000\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Message\\\": \\\"请求处理成功\\\",\\n  \\\"DynamicCode\\\": \\\"code\\\",\\n  \\\"DynamicMessage\\\": \\\"The specified parameter is invalid.\\\",\\n  \\\"Data\\\": {\\n    \\\"PageNumber\\\": 0,\\n    \\\"TotalSize\\\": 9,\\n    \\\"PageSize\\\": 10,\\n    \\\"Result\\\": [\\n      {\\n        \\\"Id\\\": 1,\\n        \\\"Score\\\": 60,\\n        \\\"TotalItem\\\": 10,\\n        \\\"TotalRisk\\\": 3,\\n        \\\"InstanceId\\\": \\\"mse_ingresspost-cn-0jbvrcex****\\\",\\n        \\\"ClusterType\\\": \\\"Nacos-Ans\\\",\\n        \\\"Type\\\": \\\"null\\\\n\\\",\\n        \\\"Status\\\": \\\"FINISH\\\",\\n        \\\"PrimaryUser\\\": \\\"123456\\\",\\n        \\\"Spec\\\": \\\"MSE_SC_2_4_200_c\\\",\\n        \\\"Replica\\\": \\\"3\\\",\\n        \\\"VersionCode\\\": \\\"NACOS_ANS_1_2_1_3\\\",\\n        \\\"AppVersion\\\": \\\"1.2.1\\\",\\n        \\\"ImageVersion\\\": \\\"null\\\",\\n        \\\"CreateTime\\\": \\\"2022-06-20T06:51:46Z\\\",\\n        \\\"UpdateTime\\\": \\\"2022-11-12 15:07:55\\\",\\n        \\\"RiskList\\\": [\\n          {\\n            \\\"Id\\\": 3426,\\n            \\\"TaskId\\\": 1,\\n            \\\"RiskName\\\": \\\"引擎版本过低\\\",\\n            \\\"RiskCode\\\": \\\"22020010001\\\",\\n            \\\"PrimaryUser\\\": \\\"123456\\\",\\n            \\\"Type\\\": 0,\\n            \\\"Values\\\": \\\"null\\\",\\n            \\\"Module\\\": \\\"null\\\",\\n            \\\"RiskType\\\": \\\"版本风险\\\",\\n            \\\"RiskLevel\\\": \\\"MID\\\",\\n            \\\"Suggestion\\\": \\\"{\\\\\\\\\\\\\\\"desc\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"请尽快升级至最新版本\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"links\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"upgrade\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"desc\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"点击升级\\\\\\\\\\\\\\\"}]}\\\",\\n            \\\"Situation\\\": \\\"{\\\\\\\\\\\\\\\"desc\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"当前引擎版本过低，有大量功能缺失\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"links\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"url\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"value\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"https://xxxx\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"desc\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"版本说明\\\\\\\\\\\\\\\"}]}\\\",\\n            \\\"Description\\\": \\\"{\\\\\\\\\\\\\\\"desc\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"引擎版本过低，有大量功能缺失，请尽快升级至最新版本！\\\\\\\\\\\\\\\"}\\\",\\n            \\\"Mute\\\": false,\\n            \\\"NoticeFeature\\\": true\\n          }\\n        ],\\n        \\\"ChargeType\\\": \\\"PREPAY\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取风险评估任务列表"}