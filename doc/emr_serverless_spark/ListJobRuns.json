{"summary":"调用ListJobRuns获取Spark任务列表。","path":"/api/v1/workspaces/{workspaceId}/jobRuns","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"list","abilityTreeCode":"215800","abilityTreeNodes":["FEATUREemapreduceTW58EL"]},"parameters":[{"name":"nextToken","in":"query","allowEmptyValue":false,"schema":{"title":"标记当前开始读取的位置。","description":"标记当前开始读取的位置。","type":"string","required":false,"example":"DD6B1B2A-5837-5237-ABE4-FF0C89568980"}},{"name":"maxResults","in":"query","allowEmptyValue":false,"schema":{"title":"一次获取的最大记录数。","description":"一次获取的最大记录数。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"workspaceId","in":"path","allowEmptyValue":false,"schema":{"title":"工作空间id。","description":"工作空间ID。","type":"string","required":true,"example":"w-d2d82aa09155****"}},{"name":"name","in":"query","allowEmptyValue":false,"schema":{"title":"作业名称。","description":"任务名称。","type":"string","required":false,"example":"emr-spark-demo-job"}},{"name":"creator","in":"query","allowEmptyValue":false,"schema":{"title":"创建用户Uid。","description":"创建用户UID。","type":"string","required":false,"example":"150978934701****"}},{"name":"jobRunId","in":"query","allowEmptyValue":false,"schema":{"title":"作业id。","description":"任务ID。","type":"string","required":false,"example":"j-xxx"}},{"name":"tags","in":"query","allowEmptyValue":false,"style":"json","schema":{"title":"标签。","description":"标签列表。","type":"array","items":{"description":"标签对象。","type":"object","properties":{"key":{"description":"标签键。","type":"string","required":false,"example":"tag_key"},"value":{"description":"标签值。","type":"string","required":false,"example":"value"}},"required":false},"required":false}},{"name":"states","in":"query","allowEmptyValue":false,"style":"json","schema":{"title":"作业状态。","description":"任务状态。","type":"array","items":{"description":"任务状态。取值范围：\n- Submitted：已提交。\n- Pending：待处理。\n- Running：运行中。\n- Success：成功。\n- Failed：失败。\n- Cancelling：取消中。\n- Cancelled：已取消。\n- CancelFailed：取消失败。","type":"string","required":false,"example":"Running"},"required":false,"example":"[\"Running\",\"Submitted\"]"}},{"name":"startTime","in":"query","style":"json","schema":{"description":"任务开始时间范围。","type":"object","properties":{"startTime":{"description":"任务开始时间范围的起点。","type":"integer","format":"int64","required":false,"example":"1709740800000"},"endTime":{"description":"任务开始时间范围的终点。","type":"integer","format":"int64","required":false,"example":"1710432000000"}},"required":false}},{"name":"endTime","in":"query","style":"json","schema":{"description":"任务结束时间范围。","type":"object","properties":{"startTime":{"description":"任务结束时间范围的起点。","type":"integer","format":"int64","required":false,"example":"1709740800000"},"endTime":{"description":"任务结束时间范围的终点。","type":"integer","format":"int64","required":false,"example":"1710432000000"}},"required":false}},{"name":"resourceQueueId","in":"query","schema":{"description":"Spark任务运行的资源队列名称。","type":"string","required":false,"example":"dev_queue"}},{"name":"jobRunDeploymentId","in":"query","schema":{"type":"string","required":false}},{"name":"regionId","in":"query","schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"jobRuns":{"description":"Spark任务列表。","type":"array","items":{"description":"Spark任务对象。","type":"object","properties":{"workspaceId":{"title":"工作空间id。","description":"工作空间ID。","type":"string","example":"w-d2d82aa09155****"},"jobRunId":{"title":"任务实例ID。","description":"任务ID。","type":"string","example":"jr-231231"},"name":{"title":"作业实例名称。","description":"任务名称。","type":"string","example":"jobName"},"state":{"title":"作业状态。","description":"任务状态。","type":"string","example":"Running"},"stateChangeReason":{"description":"状态变化原因。","type":"object","properties":{"code":{"description":"错误码。","type":"string","example":"0"},"message":{"description":"错误信息。","type":"string","example":"connection refused\n"}}},"submitTime":{"title":"作业提交时间。","description":"任务提交时间。","type":"integer","format":"int64","example":"1684119314000"},"endTime":{"title":"作业结束时间。","description":"任务结束时间。","type":"integer","format":"int64","example":"1684119314000"},"codeType":{"title":"作业代码类型。","description":"任务代码类型。取值范围：\n\nSQL\n\nJAR\n\nPYTHON","type":"string","example":"SQL"},"webUI":{"title":"作业web ui。","description":"作业Web UI。","type":"string","example":"http://spark-ui"},"executionTimeoutSeconds":{"title":"运行超时时间。","description":"运行超时时间。","type":"integer","format":"int32","example":"3600"},"creator":{"title":"创建用户Uid。","description":"创建用户UID。","type":"string","example":"150978934701****"},"tags":{"title":"标签。","description":"标签。","type":"array","items":{"description":"任务标签.","$ref":"#/components/schemas/Tag"}},"log":{"description":"运行日志路径。","$ref":"#/components/schemas/RunLog"},"releaseVersion":{"description":"运行任务的Spark引擎版本。","type":"string","example":"esr-native-3.4.0"},"jobDriver":{"description":"Spark Driver相关信息。","$ref":"#/components/schemas/JobDriver"},"configurationOverrides":{"description":"Spark高级配置。","type":"object","properties":{"configurations":{"description":"Spark Conf列表。","type":"array","items":{"description":"Spark Conf对象。","$ref":"#/components/schemas/Configuration"}}}}}}},"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"},"nextToken":{"title":"返回读取到的数据位置。","description":"返回读取到的数据位置。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C89568980"},"maxResults":{"title":"本次请求所返回的最大记录条数。","description":"本次请求所返回的最大记录条数。","type":"integer","format":"int32","example":"20"},"totalCount":{"title":"本次请求条件下的数据总量。","description":"本次请求条件下的数据总量。","type":"integer","format":"int32","example":"200"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"jobRuns\\\": [\\n    {\\n      \\\"workspaceId\\\": \\\"w-d2d82aa09155****\\\",\\n      \\\"jobRunId\\\": \\\"jr-231231\\\",\\n      \\\"name\\\": \\\"jobName\\\",\\n      \\\"state\\\": \\\"Running\\\",\\n      \\\"stateChangeReason\\\": {\\n        \\\"code\\\": \\\"0\\\",\\n        \\\"message\\\": \\\"connection refused\\\\n\\\"\\n      },\\n      \\\"submitTime\\\": 1684119314000,\\n      \\\"endTime\\\": 1684119314000,\\n      \\\"codeType\\\": \\\"SQL\\\",\\n      \\\"webUI\\\": \\\"http://spark-ui\\\",\\n      \\\"executionTimeoutSeconds\\\": 3600,\\n      \\\"creator\\\": \\\"150978934701****\\\",\\n      \\\"tags\\\": [\\n        {\\n          \\\"key\\\": \\\"workflowId\\\",\\n          \\\"value\\\": \\\"wf-123test\\\"\\n        }\\n      ],\\n      \\\"log\\\": {\\n        \\\"driverStdOut\\\": \\\"\\\",\\n        \\\"driverStdError\\\": \\\"\\\",\\n        \\\"driverSyslog\\\": \\\"\\\",\\n        \\\"driverStartup\\\": \\\"\\\"\\n      },\\n      \\\"releaseVersion\\\": \\\"esr-native-3.4.0\\\",\\n      \\\"jobDriver\\\": {\\n        \\\"sparkSubmit\\\": {\\n          \\\"entryPoint\\\": \\\"\\\",\\n          \\\"entryPointArguments\\\": [\\n            \\\"\\\"\\n          ],\\n          \\\"sparkSubmitParameters\\\": \\\"\\\"\\n        }\\n      },\\n      \\\"configurationOverrides\\\": {\\n        \\\"configurations\\\": [\\n          {\\n            \\\"configFileName\\\": \\\"\\\",\\n            \\\"configItemKey\\\": \\\"\\\",\\n            \\\"configItemValue\\\": \\\"\\\"\\n          }\\n        ]\\n      }\\n    }\\n  ],\\n  \\\"requestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\",\\n  \\\"nextToken\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C89568980\\\",\\n  \\\"maxResults\\\": 20,\\n  \\\"totalCount\\\": 200\\n}\",\"type\":\"json\"}]","title":"获取Spark任务列表"}