{"path":"/pop/v1/wam/appEnv/rebuild","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":true,"parameters":[{"name":"EnvId","in":"formData","schema":{"description":"环境ID","type":"string","required":false,"docRequired":true,"example":"we-5d39b8ba6786bd4b149*****"}},{"name":"DryRun","in":"formData","schema":{"description":"是否模拟变更\n- 若设定该参数为true，则不会创建变更，而是输出创建环境的操作步骤；否则会创建环境，并输出变更ID\n - 默认为false","type":"boolean","required":false,"example":"true"}},{"name":"RegionId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"响应消息，若成功请求为success","type":"string","example":"success"},"RequestId":{"description":"请求ID","type":"string","example":"8D69F3C4-EA43-49D5-875A-0893BF5*****"},"EnvChangeDetail":{"description":"环境变更信息\n","type":"object","properties":{"StartTime":{"description":"变更开始时间","type":"string","example":"1562666697684"},"ChangeId":{"description":"变更ID","type":"string","example":"wc-5d3e71642977ca5251e*****"},"EnvId":{"description":"环境ID","type":"string","example":"we-5d39b8ba6786bd4b149*****"},"Operations":{"type":"object","properties":{"Operation":{"description":"变更操作列表","type":"array","items":{"type":"object","properties":{"OperationDescription":{"description":"变更操作描述","type":"string","example":"Change application on the instance(s)"},"OperationType":{"description":"变更操作类型","type":"string","example":"update"}}}}}}}},"Code":{"description":"响应代码，若成功请求为OK","type":"string","example":"OK"}}}}},"errorCodes":{"400":[{"errorCode":"EnvOnChanging","errorMessage":"An error occurred while starting the change. Wait until the ongoing change is complete."},{"errorCode":"OSSDisabled","errorMessage":"You have not activated the OSS service and cannot use the WebPlus service. Please go to the OSS console (https://oss.console.aliyun.com) to activate OSS and try again."},{"errorCode":"OSSApiCallFailed","errorMessage":"When initializing applications, updating configurations, or destroying applications, WebPlus attempts to communicate with OSS through API communication. An OSS service throw error occurred. The bucket or the file does not exist."}],"403":[{"errorCode":"StatusNotAllowedRebuild","errorMessage":"You can only rebuild a terminated environment or an environment that failed to be rebuilt."},{"errorCode":"ResourceAuthFailed","errorMessage":"The specified resource does not exist or it does not belong to this Alibaba Cloud account."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"8D69F3C4-EA43-49D5-875A-0893BF5*****\\\",\\n  \\\"EnvChangeDetail\\\": {\\n    \\\"StartTime\\\": \\\"1562666697684\\\",\\n    \\\"EnvId\\\": \\\"we-5d39b8ba6786bd4b149*****\\\",\\n    \\\"ChangeId\\\": \\\"wc-5d3e71642977ca5251e*****\\\",\\n    \\\"Operations\\\": {\\n      \\\"Operation\\\": [\\n        {\\n          \\\"OperationType\\\": \\\"update\\\",\\n          \\\"OperationDescription\\\": \\\"Change application on the instance(s)\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\\n<RebuildAppEnvResponse>\\n  <Message>success</Message>\\n  <RequestId>3E85CF06-071C-4A90-B7A1-2ACBA56*****</RequestId>\\n  <EnvChangeDetail>\\n    <Operations>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Bind to VPC vpc-wz9e6y22o3o91nuy*****</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Bind to VSwitch vsw-wz9gfawx1vxkimtj*****</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Create security group</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>update</OperationType>\\n        <OperationDescription>Update ESS scaling group</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Create 1 ECS instances and create instances with priority using the following instance specifications: ecs.t5-****.small,ecs.***.small,ecs.***,ecs.g5.large Creating resources may incur charges, please see //www.aliyun.com/price/product ?#/ecs/detail ECS Pricing</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Setup platform services on ECS instance(s)</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>create</OperationType>\\n        <OperationDescription>Create monitor group</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>update</OperationType>\\n        <OperationDescription>Synchronous ECS instance(s) to monitor group</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>update</OperationType>\\n        <OperationDescription>Change application on the instance(s)</OperationDescription>\\n      </Operation>\\n    </Operations>\\n  </EnvChangeDetail>\\n  <Code>OK</Code>\\n</RebuildAppEnvResponse>\",\"errorExample\":\"\"}]","title":"重建一个部署环境","summary":"调用RebuildAppEnv重建一个部署环境。","description":"- 只能针对状态处于**已释放**和**异常**的环境执行停止操作。\n- 此API被调用后若非模拟变更，则将返回此次创建的变更ID，可以使用此ID查询变更信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}