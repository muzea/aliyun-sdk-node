{"path":"/pop/v1/wam/appEnv","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":true,"parameters":[{"name":"EnvDescription","in":"formData","schema":{"description":"环境描述信息","type":"string","required":false,"example":"This is an env."}},{"name":"EnvId","in":"formData","schema":{"description":"要更新的环境ID","type":"string","required":false,"docRequired":true,"example":"we-5d39b8ba6786bd4b149*****"}},{"name":"PkgVersionId","in":"formData","schema":{"description":"部署包版本ID","type":"string","required":false,"example":"wp-5d1c0a5d913567334af*****"}},{"name":"OptionSettings","in":"formData","schema":{"description":"自定义配置项数据，JSON数组，包含以下字段：\n- `path`：配置项路径\n- `name`：配置项名称\n- `value`：配置值","type":"string","required":false,"example":"[{\"path\":\"resources.slb.internet\", \"name\":\"enable\",\"value\":\"true\"}]"}},{"name":"StackId","in":"formData","schema":{"description":"环境所使用的技术栈ID","type":"string","required":false,"example":"ws-6c937c98a9c0296d0c48*****"}},{"name":"DryRun","in":"formData","schema":{"description":"是否模拟变更\n- 若设定该参数为true，则不会创建变更，而是输出创建环境的操作步骤；否则会创建环境，并输出变更ID\n - 默认为false","type":"boolean","required":false,"example":"false"}},{"name":"ExtraProperties","in":"formData","schema":{"description":"本次变更的附加参数","type":"string","required":false,"example":"{\"Keypair\":\"testKey\"}"}},{"name":"BatchSize","in":"formData","schema":{"type":"string","required":false}},{"name":"BatchPercent","in":"formData","schema":{"type":"string","required":false}},{"name":"BatchInterval","in":"formData","schema":{"type":"string","required":false}},{"name":"PauseBetweenBatches","in":"formData","schema":{"type":"boolean","required":false}},{"name":"RegionId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"响应消息，若成功请求为success","type":"string","example":"success"},"RequestId":{"description":"请求ID","type":"string","example":"8D69F3C4-EA43-49D5-875A-0893BF5*****"},"EnvChangeDetail":{"description":"环境变更信息","type":"object","properties":{"StartTime":{"description":"变更开始时间","type":"string","example":"1562666600768"},"ChangeId":{"description":"变更ID","type":"string","example":"wc-5d3bb06a970b3f2e2a8*****"},"EnvId":{"description":"环境ID","type":"string","example":"we-5d39b8ba6786bd4b149*****"},"Operations":{"type":"object","properties":{"Operation":{"description":"变更操作","type":"array","items":{"type":"object","properties":{"OperationDescription":{"description":"变更操作","type":"string","example":"Unbind VSwitch(es) vsw-wz9gfawx1vxkimtj*****"},"OperationType":{"description":"操作类型","type":"string","example":"destroy"}}}}}}}},"Code":{"description":"响应代码，若成功请求为OK","type":"string","example":"OK"}}}}},"errorCodes":{"400":[{"errorCode":"ChangingAReadonlyConfig","errorMessage":"An error occurred while modifying the configuration. You cannot modify a read-only configuration."},{"errorCode":"ConfigValueInvalid","errorMessage":"An error occurred while resolving the configuration values. Please make sure the value type and constraints is consistent with the declared type. Types currently supported by WebPlus are: String, Integer, List, Boolean, Float, Json."},{"errorCode":"AppPackageOwnedByOthers","errorMessage":"The version of the application package used must be consistent with the application to which the environment belongs."},{"errorCode":"AppCategoryNotMatchWithStacks","errorMessage":"The application type declared in the application does not match the type of the software stack. Please make sure that the types are consistent and then try again."},{"errorCode":"EnvOnChanging","errorMessage":"An error occurred while starting the change. Wait until the ongoing change is complete."}],"403":[{"errorCode":"ResourceAuthFailed","errorMessage":"The specified resource does not exist or it does not belong to this Alibaba Cloud account."},{"errorCode":"VpcNotAllowedUpdate","errorMessage":"You are not allowed to modify the VPC ID against an unterminated environment. Please terminate it before continuing this operation."}],"404":[{"errorCode":"ConfigOptionNotExists","errorMessage":"An error occurred while updating the configuration. The system did not locate the configuration item declared by the key."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"8D69F3C4-EA43-49D5-875A-0893BF5*****\\\",\\n  \\\"EnvChangeDetail\\\": {\\n    \\\"StartTime\\\": \\\"1562666600768\\\",\\n    \\\"EnvId\\\": \\\"we-5d39b8ba6786bd4b149*****\\\",\\n    \\\"ChangeId\\\": \\\"wc-5d3bb06a970b3f2e2a8*****\\\",\\n    \\\"Operations\\\": {\\n      \\\"Operation\\\": [\\n        {\\n          \\\"OperationType\\\": \\\"destroy\\\",\\n          \\\"OperationDescription\\\": \\\"Unbind VSwitch(es) vsw-wz9gfawx1vxkimtj*****\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\\n<UpdateAppEnvResponse>\\n  <Message>success</Message>\\n  <RequestId>1DCDA97A-5F5E-4DEC-85C7-9F2EE02*****</RequestId>\\n  <EnvChangeDetail>\\n    <Operations>\\n      <Operation>\\n        <OperationType>destroy</OperationType>\\n        <OperationDescription>Delete monitor group *****03</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>destroy</OperationType>\\n        <OperationDescription>Delete security group sg-wz97khuqdfkclpr*****</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>destroy</OperationType>\\n        <OperationDescription>Delete scaling group on ESS</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>destroy</OperationType>\\n        <OperationDescription>Unbind VSwitch(es) vsw-wz9gfawx1vxkimtj*****</OperationDescription>\\n      </Operation>\\n      <Operation>\\n        <OperationType>destroy</OperationType>\\n        <OperationDescription>Unbind VPC vpc-wz9e6y22o3o91nuy*****</OperationDescription>\\n      </Operation>\\n    </Operations>\\n  </EnvChangeDetail>\\n  <Code>OK</Code>\\n</UpdateAppEnvResponse>\",\"errorExample\":\"\"}]","title":"更新一个部署环境","summary":"调用此API更新一个部署环境。","description":"- 无法通过修改技术栈ID来修改环境的技术栈类型。\n- 更新环境所使用的部署包版本必须与环境属于同一个应用。\n- 此API被调用后若非模拟变更，则将返回此次创建的变更ID，可以使用此ID查询变更信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}