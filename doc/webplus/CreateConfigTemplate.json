{"path":"/pop/v1/wam/configTemplate","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":true,"parameters":[{"name":"TemplateName","in":"formData","schema":{"description":"新建模板的名称","type":"string","required":false,"example":"new-template-name"}},{"name":"TemplateDescription","in":"formData","schema":{"description":"新建模版的描述","type":"string","required":false,"example":"this is an new template"}},{"name":"AppId","in":"formData","schema":{"description":"新建模板所在的应用ID","type":"string","required":false,"example":"wa-5d1d9d8c85c7f86e2efb****"}},{"name":"StackId","in":"formData","schema":{"description":"技术栈ID","type":"string","required":false,"example":"ws-6c937c98a9c0296d0c482****"}},{"name":"SourceTemplateId","in":"formData","schema":{"description":"源配置模板的ID，将会以此模板来创建新的配置模板","type":"string","required":false,"example":"wct-5d1ec2813c940d1bf45b****"}},{"name":"SourceEnvId","in":"formData","schema":{"description":"源环境ID，指定用于创建模版配置的源环境","type":"string","required":false,"example":"we-5d1dac8e08350d1dd948****"}},{"name":"ProfileName","in":"formData","schema":{"description":"初始化配置类型，可选以下值：\n - `HighAvailability`：高可用，该配置会将实例数设置为2，同时启用公网SLB\n - `StandAlone`：低成本，该配置会将实例数设置为1","type":"string","required":false,"example":"HighAvailability"}},{"name":"PkgVersionId","in":"formData","schema":{"description":"部署包版本ID","type":"string","required":false,"example":"wp-5d1daece08350d1dd948****"}},{"name":"OptionSettings","in":"formData","schema":{"description":"自定义配置项数据，JSON数组，包含以下字段：\n- `path`：配置项路径\n- `name`：配置项名称\n- `value`：配置值","type":"string","required":false,"example":"[{\"path\":\"resources.ecs.autoScaling\", \"name\":\"instanceNum\",\"value\":\"10\"},     {\"path\":\"application.option\", \"name\":\"port\",\"value\":\"8081\"}]"}},{"name":"RegionId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"ConfigTemplate":{"description":"配置模板信息","type":"object","properties":{"UpdateTime":{"description":"上次更新时间","type":"integer","format":"int64","example":"1562298470970"},"CreateTime":{"description":"配置模板创建时间","type":"integer","format":"int64","example":"1562589211442"},"TemplateType":{"description":"配置模板类型","type":"string","example":"web"},"StackName":{"description":"技术栈名称","type":"string","example":"Java 8 / Aliyun Linux 2.1903"},"PkgVersionId":{"description":"部署包版本ID","type":"string","example":"wp-5d1daece08350d1dd94*****"},"TemplateName":{"description":"配置模板名称","type":"string","example":"new-template-name"},"TemplateDescription":{"description":"模板描述信息","type":"string","example":"this is an new template"},"AppName":{"description":"应用名称","type":"string","example":"app1"},"StackId":{"description":"技术栈ID","type":"string","example":"ws-6c937c98a9c0296d0c48*****"},"PkgVersionLabel":{"description":"部署包版本标签","type":"string","example":"20190726.135654"},"AppId":{"description":"应用ID","type":"string","example":"wa-5d1d9d8c85c7f86e2ef*****"},"TemplateId":{"description":"配置模板ID","type":"string","example":"wct-5d1ec866d56beb722b7*****"}}},"Message":{"description":"响应消息，若成功请求为success","type":"string","example":"success"},"RequestId":{"description":"请求ID","type":"string","example":"7C8AA286-14EA-4713-B81D-859BECF1****"},"Code":{"description":"响应代码，若成功请求为OK","type":"string","example":"OK"}}}}},"errorCodes":{"400":[{"errorCode":"AppNotExist","errorMessage":"A corresponding application was not found based on the application ID."},{"errorCode":"DuplicatedTemplateName","errorMessage":"An error occurred while generating an environment configuration template. The specified template name already exists in the application."},{"errorCode":"AppCategoryNotMatchWithStacks","errorMessage":"The application type declared in the application does not match the type of the software stack. Please make sure that the types are consistent and then try again."},{"errorCode":"StackContainsNoConfigOption","errorMessage":"An error occurred while modifying the configuration. The corresponding software stack does not contain any configuration items."},{"errorCode":"ChangingAReadonlyConfig","errorMessage":"An error occurred while modifying the configuration. You cannot modify a read-only configuration."},{"errorCode":"ConfigValueInvalid","errorMessage":"An error occurred while resolving the configuration values. Please make sure the value type and constraints is consistent with the declared type. Types currently supported by WebPlus are: String, Integer, List, Boolean, Float, Json."},{"errorCode":"AppPackageOwnedByOthers","errorMessage":"The version of the application package used must be consistent with the application to which the environment belongs."},{"errorCode":"ConfigParsingFailed","errorMessage":"An error occurred while extracting the corresponding item from the configuration. Please check the configuration and try again."},{"errorCode":"ProfileNameInvalid","errorMessage":"The specified cluster type in the template is invalid. Valid values: Default, StandAlone, and HighAvailability."}],"403":[{"errorCode":"ResourceAuthFailed","errorMessage":"The specified resource does not exist or it does not belong to this Alibaba Cloud account."}],"404":[{"errorCode":"StackNotExists","errorMessage":"The declared software stack information does not exist."},{"errorCode":"ConfigOptionNotExists","errorMessage":"An error occurred while updating the configuration. The system did not locate the configuration item declared by the key."},{"errorCode":"AppPackageNotExists","errorMessage":"An application deployment package is required to create or update a deployment environment. For the first time of using WebPlus, we recommend that you use a sample project."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"7C8AA286-14EA-4713-B81D-859BECF1****\\\",\\n  \\\"ConfigTemplate\\\": {\\n    \\\"UpdateTime\\\": 1562298470970,\\n    \\\"CreateTime\\\": 1562589211442,\\n    \\\"TemplateType\\\": \\\"web\\\",\\n    \\\"StackName\\\": \\\"Java 8 / Aliyun Linux 2.1903\\\",\\n    \\\"PkgVersionId\\\": \\\"wp-5d1daece08350d1dd94*****\\\",\\n    \\\"TemplateName\\\": \\\"new-template-name\\\",\\n    \\\"TemplateDescription\\\": \\\"this is an new template\\\",\\n    \\\"AppName\\\": \\\"app1\\\",\\n    \\\"StackId\\\": \\\"ws-6c937c98a9c0296d0c48*****\\\",\\n    \\\"PkgVersionLabel\\\": \\\"20190726.135654\\\",\\n    \\\"AppId\\\": \\\"wa-5d1d9d8c85c7f86e2ef*****\\\",\\n    \\\"TemplateId\\\": \\\"wct-5d1ec866d56beb722b7*****\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version='1.0' encoding='UTF-8'?>\\n<CreateConfigTemplateResponse>\\n    <ConfigTemplate>\\n        <TemplateName>new-template-name</TemplateName>\\n        <TemplateDescription>this is an new template</TemplateDescription>\\n        <Type>web</Type>\\n        <StackId>ws-6c937c98a9c0296d0c482****</StackId>\\n        <CreateTime>1562298470970</CreateTime>\\n        <AppId>wa-5d1d9d8c85c7f86e2efb****</AppId>\\n        <UpdateTime>1562298470970</UpdateTime>\\n        <AppName>app1</AppName>\\n        <TemplateId>wct-5d1ec866d56beb722b77****</TemplateId>\\n        <PkgVersionId>wp-5d1daece08350d1dd948****</PkgVersionId>\\n        <StackName>Tomcat 8.5 / Java 8 / Aliyun Linux 2.1903</StackName>\\n    </ConfigTemplate>\\n    <Message>success</Message>\\n    <RequestId>7C8AA286-14EA-4713-B81D-859BECF1****</RequestId>\\n    <Code>OK</Code>\\n</CreateConfigTemplateResponse>\",\"errorExample\":\"\"}]","title":"从一个原有环境来创建一个配置模板","summary":"调用CreateConfigTemplate从一个原有环境来创建一个配置模板。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}