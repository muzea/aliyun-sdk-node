{"summary":"创建一个新的灵骏集群。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClusterName","in":"formData","schema":{"title":"集群名称","description":"集群名称","type":"string","required":false,"example":"Standard_Cluster"}},{"name":"ClusterType","in":"formData","schema":{"title":"集群类型","description":"集群类型","type":"string","required":false,"example":"Lite"}},{"name":"ClusterDescription","in":"formData","schema":{"title":"集群描述","description":"集群描述","type":"string","required":false,"example":"标准集群测试"}},{"name":"NodeGroups","in":"formData","style":"json","schema":{"title":"节点组列表\n","description":"节点组列表\n","type":"array","items":{"description":"节点分组信息","type":"object","properties":{"Nodes":{"title":"节点列表","description":"节点列表","type":"array","items":{"description":"节点列表","type":"object","properties":{"NodeId":{"title":"节点id","description":"节点id","type":"string","required":false,"example":"e01poc-cn-i7m2wnivf0d"},"Hostname":{"title":"主机名\n","description":"主机名\n","type":"string","required":false,"example":"8d13b784-17a9-11ed-bc7b-acde48001122"},"LoginPassword":{"title":"登录密码","description":"登录密码","type":"string","required":false,"example":"***"},"VSwitchId":{"title":"dpu使用的交换机id\n","description":"虚拟交换机ID。","type":"string","required":false,"example":"vsw-bp169pi5fj151rrms4sia"},"VpcId":{"title":"dpu使用的虚拟网络id","description":"专有网络ID","type":"string","required":false,"example":"vpc-0jlasms92fdxqd3wlf8ny"}},"required":false},"required":false},"NodeGroupName":{"title":"节点组名称","description":"节点组名称","type":"string","required":false,"example":"emr-default"},"NodeGroupDescription":{"title":"节点组描述","description":"节点组描述","type":"string","required":false,"example":"默认节点组"},"MachineType":{"title":"机型","description":"机型","type":"string","required":false,"example":"efg1.nvga1"},"ImageId":{"title":"系统镜像id","description":"系统镜像id","type":"string","required":false,"example":"i190297201634099844192"},"ZoneId":{"title":"可用区id","description":"可用区id","type":"string","required":false,"example":"cn-hangzhou-i"},"UserData":{"title":"用户自定义脚本，命令","description":"实例自定义数据。需要以Base64方式编码，原始数据最多为16 KB。","type":"string","required":false,"example":"ZWNobyBoZWxsbyBlY3Mh"}},"required":false},"required":false}},{"name":"IgnoreFailedNodeTasks","in":"formData","schema":{"title":"是否允许跳过失败节点，默认值为Flase","description":"是否允许跳过失败节点，默认值为False","type":"boolean","required":false,"example":"False"}},{"name":"ResourceGroupId","in":"formData","schema":{"title":"资源组id","description":"资源组id","type":"string","required":false,"example":"rg-aek2xdkc6icwfha"}},{"name":"Networks","in":"formData","style":"json","schema":{"title":"网络信息","description":"网络信息","type":"object","properties":{"NewVpdInfo":{"description":"Vpd配置信息","type":"object","properties":{"CenId":{"title":"云企业网id","description":"云企业网id","type":"string","required":false,"example":"cen-1gb1eftc5qp2ao75fo"},"CloudLinkCidr":{"title":"云链cidr","description":"云链cidr","type":"string","required":false,"example":"172.16.0.0/24"},"CloudLinkId":{"title":"云链id","description":"云链id","type":"string","required":false,"example":"vcc-cn-c4dtycm5i08"},"MonitorVpcId":{"title":"专有网络","description":"专有网络","type":"string","required":false,"example":"vpc-0jl2x45apm6odc2c10h25"},"MonitorVswitchId":{"title":"专有网络交换机","description":"专有网络交换机","type":"string","required":false,"example":"vsw-0jl2w3ffbghkss0x2foff"},"VpdCidr":{"title":"集群网段","description":"集群网段","type":"string","required":false,"example":"192.168.0.0/16"},"VpdSubnets":{"title":"vpd子网信息","description":"集群子网","type":"array","items":{"type":"object","properties":{"SubnetCidr":{"title":"子网cidr","description":"子网cidr","type":"string","required":false,"example":"10.0.1.8/24"},"SubnetType":{"title":"子网类型","description":"子网类型","type":"string","required":false,"example":"10.0.2.8/24"},"ZoneId":{"title":"可用区id","description":"可用区id","type":"string","required":false,"example":"cn-wulanchabu-b"}},"required":false},"required":false}},"required":false},"VpdInfo":{"description":"复用VPD信息","type":"object","properties":{"VpdId":{"description":"专有网络 id","type":"string","required":false,"example":"vpd-vfuz6ejv"},"VpdSubnets":{"description":"集群子网id列表","type":"array","items":{"description":"集群子网id","type":"string","required":false,"example":"subnet-jcloe1"},"required":false}},"required":false},"IpAllocationPolicy":{"description":"IP分配策略","type":"array","items":{"type":"object","properties":{"BondPolicy":{"description":"bond策略","type":"object","properties":{"BondDefaultSubnet":{"description":"默认bond集群子网","type":"string","required":false,"example":"172.168.0.0/24"},"Bonds":{"description":"bond信息","type":"array","items":{"type":"object","properties":{"Name":{"description":"bond名称","type":"string","required":false,"example":"bond0"},"Subnet":{"description":"ip来源集群子网","type":"string","required":false,"example":"172.16.0.0/24"}},"required":false},"required":false}},"required":false},"MachineTypePolicy":{"description":"机型分配策略","type":"array","items":{"type":"object","properties":{"Bonds":{"description":"bond信息","type":"array","items":{"type":"object","properties":{"Name":{"description":"bond名称","type":"string","required":false,"example":"bond0"},"Subnet":{"description":"ip来源集群子网","type":"string","required":false,"example":"192.168.1.0/24"}},"required":false},"required":false},"MachineType":{"description":"机型","type":"string","required":false,"example":"efg1.nvga8n"}},"required":false},"required":false},"NodePolicy":{"description":"节点分配策略","type":"array","items":{"type":"object","properties":{"Bonds":{"description":"bond信息","type":"array","items":{"type":"object","properties":{"Name":{"description":"bond名称","type":"string","required":false,"example":"bond0\n"},"Subnet":{"description":"ip来源集群子网","type":"string","required":false,"example":"10.0.0.0/24"}},"required":false},"required":false},"NodeId":{"description":"节点id","type":"string","required":false,"example":"e01-cn-2r42vq62001"}},"required":false},"required":false}},"required":false},"required":false},"SecurityGroupId":{"type":"string","required":false},"VSwitchZoneId":{"type":"string","required":false},"VpcId":{"type":"string","required":false},"VSwitchId":{"type":"string","required":false},"TailIpVersion":{"type":"string","required":false}},"required":false}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"资源标签","description":"资源标签","type":"array","items":{"type":"object","properties":{"Key":{"title":"键","description":"键","type":"string","required":false,"example":"env-name"},"Value":{"title":"值","description":"值","type":"string","required":false,"example":"dev"}},"required":false},"required":false,"maxItems":21}},{"name":"Components","in":"formData","style":"json","schema":{"title":"组件（软件实例）","description":"组件（软件实例）","type":"array","items":{"title":"组件类型","description":"组件类型","type":"object","properties":{"ComponentType":{"title":"组件类型：  \"ACKEdge\"(ACK边缘集群)\n\"ARMS\"（ARMS监控）","description":"组件类型","type":"string","required":false,"enumValueTitles":{"ARMS":"ARMS监控","ACKEdge":"ACK边缘集群"},"example":"ACKEdge"},"ComponentConfig":{"title":"组件配置","description":"组件配置","type":"object","properties":{"BasicArgs":{"description":"组件基础参数","type":"any","required":false,"example":"{\n      \"EndpointPublicAccess\": false,\n      \"ContainerCidr\": \"10.4.0.0/24\",\n      \"KeyPair\": \"test\",\n      \"NodeCidrMask\": \"25\",\n      \"ResourceGroupId\": \"rg-axsadm3sdzsdvdsndstdisd\",\n      \"WorkerSystemDiskCategory\": \"da\",\n      \"WorkerSystemDiskSize\": 40,\n      \"DeletionProtection\": false,\n      \"KubeProxy\": \"iptables\",\n      \"Name\": \"da\",\n      \"LoadBalancerSpec\": \"slb.s1.small\",\n      \"Runtime\": {\n            \"Version\": \"19.03.15\",\n            \"Name\": \"docker\"\n      },\n      \"IsEnterpriseSecurityGroup\": true,\n      \"Vpcid\": \"192.168.23.0/24\",\n      \"NumOfNodes\": 1,\n      \"VswitchIds\": [\n            \"dad\"\n      ],\n      \"ServiceCidr\": \"10.0.0.0/16\",\n      \"SnatEntry\": false,\n      \"kubernetesVersion\": \"1.20.11-aliyunedge.1\",\n      \"WorkerInstanceTypes\": [\n            \"da\"\n      ]\n}"},"NodeUnits":{"title":"节点池配置， 并用于建立节点组和节点池的对应关系。 当\nComponentType=”ACKEdge“时必填，其他为空。","description":"节点池配置， 并用于建立节点组和节点池的对应关系。 当\nComponentType=”ACKEdge“时必填，其他为空。","type":"array","items":{"description":"节点池配置， 并用于建立节点组和节点池的对应关系。 当\nComponentType=”ACKEdge“时必填，其他为空。","type":"any","required":false,"example":"{\n      \"Options\": {},\n      \"Type\": \"edge\",\n      \"ResourceGroupId\": \"rg-acfm2cdxm3zvnt4dsa1s1t65fi\",\n      \"RelatedNodeGroups\": [\n            \"tes\"\n      ],\n      \"NodeUnitKey\": \"da\",\n      \"MaxNodes\": 30\n}"},"required":false}},"required":false}},"required":false},"required":false}},{"name":"HpnZone","in":"formData","schema":{"description":"集群编号","type":"string","required":false,"example":"A1"}},{"name":"NimizVSwitches","in":"formData","style":"json","schema":{"description":"Node虚拟交换机","type":"array","items":{"description":"Node虚拟交换机id","type":"string","required":false,"example":"vsw-0jlx7dkziyhgf6klwnsi3"},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"title":"请求id","description":"请求id","type":"string","example":"3C683243-7915-57FB-9570-A2932C1C0F78"},"ClusterId":{"title":"集群id","description":"集群id","type":"string","example":"i116913051663373010974"},"TaskId":{"title":"任务id","description":"任务id","type":"string","example":"i159809891662373011015"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3C683243-7915-57FB-9570-A2932C1C0F78\\\",\\n  \\\"ClusterId\\\": \\\"i116913051663373010974\\\",\\n  \\\"TaskId\\\": \\\"i159809891662373011015\\\"\\n}\",\"type\":\"json\"}]","title":"创建集群"}