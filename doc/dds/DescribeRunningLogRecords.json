{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DBInstanceId","in":"query","schema":{"description":"实例ID。\n> 当本参数传入的是分片集群实例ID时，还需要传入**NodeId**参数。","type":"string","required":true,"example":"dds-bpxxxxxxxx"}},{"name":"NodeId","in":"query","schema":{"description":"分片集群实例中Mongos节点ID或Shard节点ID。\n\n> 当**DBInstanceId**参数传入的是分片集群实例ID时，本参数才可用。","type":"string","required":false,"example":"d-bpxxxxxxxx"}},{"name":"StartTime","in":"query","schema":{"description":" 查询开始时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。","type":"string","required":true,"example":"2019-01-01T12:10Z"}},{"name":"EndTime","in":"query","schema":{"description":" 查询结束时间，必须晚于查询开始时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。\n> 查询结束时间距查询开始时间不得超过24个小时，超过则调用失败。","type":"string","required":true,"example":"2019-01-01T13:10Z"}},{"name":"DBName","in":"query","schema":{"description":"数据库名。","type":"string","required":false,"example":"mongodbtest"}},{"name":"RoleType","in":"query","schema":{"description":"实例中节点的角色。取值：\n- **primary**：主节点。\n- **secondary**：从节点。\n\n> 当**NodeId**参数传入的是Mongos节点ID时，**RoleType**取值只能为**primary**。","type":"string","required":false,"example":"primary","default":"primary","enum":["primary","secondary"]}},{"name":"PageSize","in":"query","schema":{"description":" 每页记录数，取值范围为**30**~**100**。 ","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"30","example":"30","default":"30"}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值为大于0且不超过Integer数据类型的最大值，默认值为**1**。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1","default":"1"}},{"name":"OrderType","in":"query","schema":{"description":"按时间的升降序对查询到的运行日志进行排序。取值：\n- asc：按时间升序排序。\n- desc：按时间降序排序。","type":"string","required":false,"example":"asc","default":"desc","enum":["desc","asc"]}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。\n","type":"string","required":false,"example":"sg-bpxxxxxxxxxxxxxxxxxx"}},{"name":"RoleId","in":"query","schema":{"description":"节点的角色ID。您可以通过[DescribeReplicaSetRole](~~62134~~)进行查询。","type":"string","required":false,"example":"651xxxxx"}},{"name":"QueryKeywords","in":"query","schema":{"description":"查询关键字，多个关键字以空格分隔，不超过10个关键字。","type":"string","required":false,"example":"test test2"}},{"name":"LogicalOperator","in":"query","schema":{"description":"关键字搜索的逻辑操作，\n默认值为and。","type":"string","required":false,"example":"and","default":"and","enum":["and","or"]}}],"responses":{"200":{"schema":{"type":"object","properties":{"TotalRecordCount":{"description":" 总记录数。 ","type":"integer","format":"int32","example":"2"},"PageRecordCount":{"description":"每页的记录数。","type":"integer","format":"int32","example":"30"},"RequestId":{"description":"请求ID。","type":"string","example":"45D2B592-DEBA-4347-BBF3-47FF6C97DBBC"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"Items":{"type":"object","properties":{"LogRecords":{"description":"运行日志明细列表。","type":"array","items":{"type":"object","properties":{"ConnInfo":{"description":"日志连接信息。","type":"string","example":"conn18xxxxxx"},"CreateTime":{"description":"日志生成时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2019-02-26T12:09:34Z"},"Category":{"description":"日志类别。","type":"string","example":"NETWORK"},"Content":{"description":"日志信息。","type":"string","example":" end connection 11.xxx.xxx.xx:3xxxx (0 connections now open)\\n"}}}}}},"Engine":{"description":"当前数据库的引擎类型。","type":"string","example":"MongoDB"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameterCombination","errorMessage":"The end time must be greater than the start time"},{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The Specified parameter StartTime is not valid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The Specified parameter EndTime is not valid."}],"403":[{"errorCode":"LogApiFrequencyExceeded","errorMessage":"Exceeding the allowed frequency of log api."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalRecordCount\\\": 2,\\n  \\\"PageRecordCount\\\": 30,\\n  \\\"RequestId\\\": \\\"45D2B592-DEBA-4347-BBF3-47FF6C97DBBC\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"Items\\\": {\\n    \\\"LogRecords\\\": [\\n      {\\n        \\\"ConnInfo\\\": \\\"conn18xxxxxx\\\",\\n        \\\"CreateTime\\\": \\\"2019-02-26T12:09:34Z\\\",\\n        \\\"Category\\\": \\\"NETWORK\\\",\\n        \\\"Content\\\": \\\" end connection 11.xxx.xxx.xx:3xxxx (0 connections now open)\\\\\\\\n\\\"\\n      }\\n    ]\\n  },\\n  \\\"Engine\\\": \\\"MongoDB\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\r\\n<DescribeRunningLogRecordsResponse>\\r\\n\\t<Items>\\r\\n\\t\\t<LogRecords>\\r\\n\\t\\t\\t<Category>-</Category>\\r\\n\\t\\t\\t<CreateTime>2019-02-26T12:09:34Z</CreateTime>\\r\\n\\t\\t\\t<ConnInfo>conn18xxxxxx</ConnInfo>\\r\\n\\t\\t\\t<Content>\\r\\n\\t\\t\\t\\tend connection 11.xxx.xxx.xx:3xxxx (0 connections now open)\\r\\n\\t\\t\\t</Content>\\r\\n\\t\\t</LogRecords>\\r\\n\\t\\t<LogRecords>\\r\\n\\t\\t\\t<Category>NETWORK</Category>\\r\\n\\t\\t\\t<CreateTime>2019-02-26T12:09:34Z</CreateTime>\\r\\n\\t\\t\\t<ConnInfo>thread1</ConnInfo>\\r\\n\\t\\t\\t<Content>connection accepted from 11.xxx.xxx.xx:3xxxx #1862051 (11 connections now open)</Content>\\r\\n\\t\\t</LogRecords>\\r\\n\\t</Items>\\r\\n\\t<PageNumber>1</PageNumber>\\r\\n\\t<TotalRecordCount>2</TotalRecordCount>\\r\\n\\t<RequestId>45D2B592-DEBA-4347-BBF3-47FF6C97DBBC</RequestId>\\r\\n</DescribeRunningLogRecordsResponse>\",\"errorExample\":\"\"}]","title":"查询实例的运行日志","summary":"查询MongoDB实例的运行日志。","description":"- 本接口适用于规格类型为**通用型本地盘版**和**独享型本地盘版**实例。\n- 本接口限制每分钟调用30次，如超过这个限制会被限流，请勿高频调用。如需高频调用，请使用Logstore，详情请参见[管理Logstore](~~48990~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}