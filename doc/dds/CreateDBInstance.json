{"summary":"创建或克隆云数据库MongoDB版副本集实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"8241","abilityTreeNodes":["FEATUREmongodbOM9UA4"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID，您可以通过调用[DescribeRegions](~~61933~~)接口查询地域ID。\n> 调用本接口克隆实例或者回收站恢复实例时，该参数值需和源实例保持一致。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCz****"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID，您可以通过调用[DescribeRegions](~~61933~~)接口查询可用区ID。","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"Engine","in":"query","schema":{"description":"数据库引擎，固定取值：**MongoDB**。","type":"string","required":true,"enumValueTitles":{},"example":"MongoDB","enum":["MongoDB"]}},{"name":"EngineVersion","in":"query","schema":{"description":"数据库版本号，取值：\n- **7.0**\n- **6.0**\n- **5.0**\n- **4.4**\n- **4.2**\n- **4.0**\n\n> 调用本接口克隆实例或者回收站恢复实例时，该参数值需和源实例保持一致。","type":"string","required":true,"enumValueTitles":{},"example":"4.4","enum":["4.0","4.2","4.4","5.0","6.0","7.0"]}},{"name":"DBInstanceClass","in":"query","schema":{"description":"实例规格，您可以通过调用[DescribeAvailableResource](~~149719~~)接口查询实例规格。","type":"string","required":true,"example":"dds.mongo.standard"}},{"name":"DBInstanceStorage","in":"query","schema":{"description":"实例存储空间，单位：GB。\n\n具体取值受实例规格约束，详情请参见[副本集实例规格表](~~311410~~)。","type":"integer","format":"int32","required":true,"example":"10"}},{"name":"DBInstanceDescription","in":"query","schema":{"description":"实例名称，取值说明：\n\n- 以中文、英文字母开头。\n- 可以包含数字、中文、英文、下划线（_）和短横线（-）。\n- 长度为2~256个字符。","type":"string","required":false,"example":"test"}},{"name":"SecurityIPList","in":"query","schema":{"description":"实例的IP白名单，多个IP地址请用英文逗号（,）分隔，不可重复。支持如下三种格式：\n\n- 0.0.0.0/0\n- IP地址形式，例如：10.23.12.24。\n- CIDR形式，例如：10.23.12.0/24（无类域间路由，24表示了地址中前缀的长度，范围为1~32）。\n\n> - 每个实例最多添加1000个IP或IP段，即所有IP白名单分组内的IP或IP段总和不能超过1000。\n> - 0.0.0.0/0表示任何IP地址都可以访问实例的数据库，属于高危设置，请谨慎设置。","type":"string","required":false,"example":"192.168.xx.xx,192.168.xx.xx"}},{"name":"AccountPassword","in":"query","schema":{"description":"root账号的密码，取值说明：\n\n- 由大写字母、小写字母、数字和特殊字符中的至少三种组成。\n- !#$%^&*()_+-=为特殊字符。\n- 长度为8~32个字符。","type":"string","required":false,"example":"123456Aa"}},{"name":"ChargeType","in":"query","schema":{"description":"实例的付费类型，取值说明：\n\n- **PostPaid**：默认值，后付费（按量付费）。\n- **PrePaid**：预付费（包年包月）。\n\n> 当该参数的值为**PrePaid**时，您还需要配置**Period**参数。","type":"string","required":false,"enumValueTitles":{},"example":"PrePaid","default":"PostPaid","enum":["PrePaid","PostPaid"]}},{"name":"Period","in":"query","schema":{"description":"实例的购买时长，单位为月。\n\n取值范围：**1**~**9**（整数）、**12**、**24**、**36**、**60**。\n\n> 当**ChargeType**参数值为**PrePaid**时，该参数可用且为必填参数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"NetworkType","in":"query","schema":{"description":"实例的网络类型，取值说明：\n\n**VPC**：专有网络。","type":"string","required":false,"enumValueTitles":{},"example":"VPC","default":"VPC","enum":["VPC"]}},{"name":"VpcId","in":"query","schema":{"description":"专有网络（VPC）ID。","type":"string","required":false,"docRequired":true,"example":"vpc-bp175iuvg8nxqraf2****"}},{"name":"VSwitchId","in":"query","schema":{"description":"虚拟交换机ID。","type":"string","required":false,"docRequired":true,"example":"vsw-bp1gzt31twhlo0sa5****"}},{"name":"SrcDBInstanceId","in":"query","schema":{"description":"源实例ID。\n> 调用本接口克隆实例时，您需要配置该参数，同时还需要配置**BackupId**或**RestoreTime**参数。调用本接口进行回收站恢复时，只需要传入该参数，无需配置**BackupId**或**RestoreTime**。","type":"string","required":false,"example":"dds-bp1ee12ad351****"}},{"name":"BackupId","in":"query","schema":{"description":"备份点ID，您可以通过调用[DescribeBackups](~~62172~~)接口查询备份点ID。\n>只有调用本接口按备份点克隆实例时，您需要配置该参数，同时还需要配置**SrcDBInstanceId**参数。","type":"string","required":false,"example":"32994****"}},{"name":"RestoreTime","in":"query","schema":{"description":"选择要恢复的时间点，您可以配置7天内的任意时间点。格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n> 只有调用本接口按时间点克隆实例时，您需要配置该参数，同时还需要配置**SrcDBInstanceId**参数。","type":"string","required":false,"example":"2022-03-13T12:11:14Z"}},{"name":"BusinessInfo","in":"query","schema":{"description":"附加参数，业务信息。","type":"string","required":false,"example":"{“ActivityId\":\"000000000\"}"}},{"name":"AutoRenew","in":"query","schema":{"description":"实例是否自动续费，取值说明：\n\n- **true**：自动续费。\n- **false**：默认值，不自动续费，即手动续费。\n\n> 当**ChargeType**参数值为**PrePaid**时，该参数可用且为可选参数。","type":"string","required":false,"example":"true"}},{"name":"DatabaseNames","in":"query","schema":{"description":"数据库名。\n> 调用本接口克隆实例时，您可以通过配置该参数指定需要克隆的数据库，如果不配置该参数，则克隆实例的所有数据库。","type":"string","required":false,"example":"mongodbtest"}},{"name":"CouponNo","in":"query","schema":{"description":"是否使用优惠券，取值说明：\n- **default**或**null**（默认）：使用优惠券。\n- **youhuiquan_promotion_option_id_for_blank**：不使用优惠券。","type":"string","required":false,"example":"default"}},{"name":"StorageEngine","in":"query","schema":{"description":"实例的存储引擎，取值固定为**WiredTiger**。\n> - 调用本接口克隆实例或回收站恢复实例时，该参数需和源实例保持一致。\n> - 关于存储引擎与版本的选择约束，请参见[版本与存储引擎](~~61906~~)。","type":"string","required":false,"enumValueTitles":{},"example":"WiredTiger","default":"WiredTiger","enum":["WiredTiger","RocksDB"]}},{"name":"ReplicationFactor","in":"query","schema":{"description":"副本集实例的**主备节点数**，取值：\n\n- **3**（默认值）\n- **5**\n- **7**","type":"string","required":false,"example":"3","default":"3"}},{"name":"ReadonlyReplicas","in":"query","schema":{"description":"副本集实例的**只读节点数**，取值范围：**0**~**5**（整数），默认值为**0**。","type":"string","required":false,"example":"0"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmyiu4ekp****"}},{"name":"ClusterId","in":"query","schema":{"description":"专属集群ID。","type":"string","required":false,"example":"dhg-2x78****"}},{"name":"StorageType","in":"query","allowEmptyValue":true,"schema":{"description":"存储类型，取值说明：\n\n- **cloud_essd1**：ESSD PL1云盘。\n- **cloud_essd2**：ESSD PL2云盘。\n- **cloud_essd3**：ESSD PL3云盘。\n- **cloud_auto**：ESSD AutoPL云盘。\n- **local_ssd**：SSD本地盘。\n\n> - ESSD AutoPL云盘目前仅支持中国站。\n> - 4.4及以上版本实例默认为**cloud_essd1**。\n> - 4.2及以下版本实例默认为**local_ssd**。","type":"string","required":false,"example":"cloud_essd1"}},{"name":"SecondaryZoneId","in":"query","allowEmptyValue":true,"schema":{"description":"配置从节点（Secondary节点）所在的可用区，实现多可用区部署。取值说明：\n\n- **cn-hangzhou-g**：杭州可用区G。\n- **cn-hangzhou-h**：杭州可用区H。\n- **cn-hangzhou-i**：杭州可用区I。\n- **cn-hongkong-b**：中国香港可用区B。\n- **cn-hongkong-c**：中国香港可用区C。\n- **cn-hongkong-d**：中国香港可用区D。\n- **cn-wulanchabu-a**：乌兰察布可用区A。\n- **cn-wulanchabu-b**：乌兰察布可用区B。\n- **cn-wulanchabu-c**：乌兰察布可用区C。\n- **ap-southeast-1a**：新加坡可用区A。\n- **ap-southeast-1b**：新加坡可用区B。\n- **ap-southeast-1c**：新加坡可用区C。\n- **ap-southeast-5a**：雅加达可用区A。\n- **ap-southeast-5b**：雅加达可用区B。\n- **ap-southeast-5c**：雅加达可用区C。\n- **eu-central-1a**：法兰克福可用区A。\n- **eu-central-1b**：法兰克福可用区B。\n- **eu-central-1c**：法兰克福可用区C。\n\n> - 当**EngineVersion**参数值为**4.4**或**5.0**时，该参数可用且为必填参数。\n> - 该参数取值不能与**ZoneId**和**HiddenZoneId**参数值相同。","type":"string","required":false,"example":"cn-hangzhou-h"}},{"name":"HiddenZoneId","in":"query","allowEmptyValue":true,"schema":{"description":"配置隐藏节点（Hidden节点）所在的可用区，实现多可用区部署。取值说明：\n\n- **cn-hangzhou-g**：杭州可用区G。\n- **cn-hangzhou-h**：杭州可用区H。\n- **cn-hangzhou-i**：杭州可用区I。\n- **cn-hongkong-b**：中国香港可用区B。\n- **cn-hongkong-c**：中国香港可用区C。\n- **cn-hongkong-d**：中国香港可用区D。\n- **cn-wulanchabu-a**：乌兰察布可用区A。\n- **cn-wulanchabu-b**：乌兰察布可用区B。\n- **cn-wulanchabu-c**：乌兰察布可用区C。\n- **ap-southeast-1a**：新加坡可用区A。\n- **ap-southeast-1b**：新加坡可用区B。\n- **ap-southeast-1c**：新加坡可用区C。\n- **ap-southeast-5a**：雅加达可用区A。\n- **ap-southeast-5b**：雅加达可用区B。\n- **ap-southeast-5c**：雅加达可用区C。\n- **eu-central-1a**：法兰克福可用区A。\n- **eu-central-1b**：法兰克福可用区B。\n- **eu-central-1c**：法兰克福可用区C。\n\n> - 当**EngineVersion**参数值为**4.4**或**5.0**时，该参数可用且为必填参数。\n> - 该参数值不能与**ZoneId**和**SecondaryZoneId**参数值相同。","type":"string","required":false,"example":"cn-hangzhou-i"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"用户自定义标签。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签的键。\n> - **N**表示传入第几个标签的键。例如：**Tag.1.Key**表示传入第一个标签的键；**Tag.2.Key**表示传入第二个标签的键。","type":"string","required":false,"example":"testdatabase"},"Value":{"description":"标签的值。\n> **N**表示传入第几个标签的值。例如：**Tag.1.Value**表示传入第一个标签的值；**Tag.2.Value**表示传入第二个标签的值。","type":"string","required":false,"example":"apitest"}},"required":false},"required":false,"maxItems":21}},{"name":"GlobalSecurityGroupIds","in":"query","schema":{"description":"实例的全局IP白名单模板，多个IP白名单模板请用英文逗号（,）分隔，不可重复。（功能灰度中）","type":"string","required":false,"example":"g-qxieqf40xjst1ngpr3jz\t"}},{"name":"Encrypted","in":"query","schema":{"description":"是否开启云盘加密","type":"boolean","required":false,"example":"true","default":"flase"}},{"name":"EncryptionKey","in":"query","schema":{"description":"自定义密钥ID。","type":"string","required":false,"example":"2axxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}},{"name":"ProvisionedIops","in":"query","schema":{"description":"预配置性能（IOPS）。取值范围为0~50000。","type":"integer","format":"int64","required":false,"example":"1960"}},{"name":"RestoreType","in":"query","schema":{"type":"string","required":false,"enum":["0","1","2","3"]}},{"name":"SrcRegion","in":"query","schema":{"type":"string","required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D8F1D721-6439-4257-A89C-F1E8E9C9****"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"dds-bp144a7f2db8****"},"OrderId":{"description":"订单ID。","type":"string","example":"21077576248****"}}}}},"errorCodes":{"400":[{"errorCode":"SecurityRisk.AuthVerification","errorMessage":"we have detected a risk with your default payment method. An email and notification has been sent to you. Please re-submit your order before after verificaiton."},{"errorCode":"MissingParameter","errorMessage":"Period is mandatory for this action."},{"errorCode":"ORDER.ACCOUNT_INFORMATION_INCOMPLETE","errorMessage":"Your information is incomplete. Complete your information before ordering."},{"errorCode":"InvalidClientToken.Malformed","errorMessage":"Specified parameter ClientToken is not valid."},{"errorCode":"InvalidDBInstanceDescription.Malformed","errorMessage":"Specified parameter DBInstanceDescription is not valid."},{"errorCode":"InvalidSecurityIPListLength.Malformed","errorMessage":"The quota of security ip exceeds."},{"errorCode":"InsufficientBalance","errorMessage":"Your account does not have enough balance."},{"errorCode":"QuotaExceed.AfterpayInstance","errorMessage":"Living afterpay instances quota exceeded."},{"errorCode":"InvalidCapacity.NotFound","errorMessage":"The Capacity provided does not exist in our records."},{"errorCode":"ResourceNotAvailable","errorMessage":"Resource you requested is not available for finance user."},{"errorCode":"IdempotentParameterMismatch","errorMessage":"Request uses a client token in a previous request but is not identical to that request."},{"errorCode":"InvalidSecurityIPList.Malformed","errorMessage":"The specified  parameter \"SecurityIPList\" is not valid."},{"errorCode":"InvalidSecurityIPList.Duplicate","errorMessage":"The Security IP address is not in the available range or occupied."},{"errorCode":"InvalidDBInstanceStorage.ValueNotSupported","errorMessage":"The specified parameter DBInstanceStorage is not valid."},{"errorCode":"InvalidAccountPassword.Malformed","errorMessage":"Specified parameter AccountPassword is not valid."},{"errorCode":"TokenServiceError","errorMessage":"Duplicate ClientToken request."},{"errorCode":"Zone.Closed","errorMessage":"The specified zone is closed."},{"errorCode":"PRICE.ORIGIN_PRICE_ERROR","errorMessage":"The origin price error."},{"errorCode":"NO_AVAILABLE_PAYMENT_METHOD","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method."},{"errorCode":"InvalidEcsImage.NotFound","errorMessage":"Specified  ecs image does not exist."},{"errorCode":"SaleValidateNoSpecificCodeFailed","errorMessage":"Specified Storage or Version or InstanceClass is invalid."},{"errorCode":"Trade_Not_Support_Async_Pay","errorMessage":"Trade not support async pay."}],"403":[{"errorCode":"RealNameAuthenticationError","errorMessage":"Your account has not passed the real-name authentication yet."},{"errorCode":"RegionUnauthorized","errorMessage":"There is no authority to create instance in the specified region."},{"errorCode":"OperationDenied","errorMessage":"The resource is out of usage."},{"errorCode":"InvalidEngineVersionInRegion.NotAvailable","errorMessage":"The EngineVersion in the Region is not available."},{"errorCode":"InvalidBackupLogStatus","errorMessage":"Current backup log enable status does not support this operation."},{"errorCode":"IncorrectBackupSetState","errorMessage":"Current backup set state does not support operations."}],"404":[{"errorCode":"InvalidBackup.NotFound","errorMessage":"The available backup does not exist in recovery time."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D8F1D721-6439-4257-A89C-F1E8E9C9****\\\",\\n  \\\"DBInstanceId\\\": \\\"dds-bp144a7f2db8****\\\",\\n  \\\"OrderId\\\": \\\"21077576248****\\\"\\n}\",\"type\":\"json\"}]","title":"创建或克隆副本集实例","description":"请确保在使用该接口前，已充分了解云数据库MongoDB产品的收费方式和<props=\"china\">[价格](https://www.aliyun.com/price/product#/mongodb/detail)</props><props=\"intl\">[价格](https://www.alibabacloud.com/zh/product/apsaradb-for-mongodb/pricing)</props>。\n\n关于云数据库MongoDB实例的规格，请参见[实例规格表](~~57141~~)。\n\n如需创建分片集群实例，您可以通过调用[CreateShardingDBInstance](~~61884~~)接口进行创建。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}