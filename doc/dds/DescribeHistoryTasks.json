{"summary":"查看任务中心的任务列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"RegionId","in":"query","allowEmptyValue":false,"schema":{"description":"待处理事件所属的地域ID，您可以通过调用[DescribeRegions](~~61933~~)接口进行查询。","type":"string","required":false,"docRequired":true,"example":"cn-beijing"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：10~100。默认值：10。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"10","example":"10","default":"10"}},{"name":"PageNumber","in":"query","schema":{"description":"查询结果的页码。取值范围：正整数。 默认值：1。","type":"integer","format":"int32","required":false,"maximum":"2147483647","minimum":"1","example":"1","default":"1"}},{"name":"InstanceType","in":"query","schema":{"description":"当前固定为Instance。","type":"string","required":false,"example":"Instance"}},{"name":"Status","in":"query","schema":{"description":"任务状态，用于选择对应状态的任务：\n\n- Scheduled：等待执行\n\n- Running：执行中\n\n- Succeed：执行成功\n\n- Failed：执行失败\n\n- Cancelling：正在终止\n\n- Canceled：已终止\n\n- Waiting：等待预设时间\n\n默认为空，表示全选，如需选择多个状态请用英文逗号（,）分隔。","type":"string","required":false,"example":"Succeed,Running,Waiting"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID，用于查询对应实例的任务，默认为空，表示不限制。如需查询多个实例请用英文逗号（,）分隔，最多支持30个。","type":"string","required":false,"example":"dds-8vb38f0e7933xxxx"}},{"name":"TaskId","in":"query","schema":{"description":"任务ID，用于查询已知ID的任务。默认为空，表示不限制。如需查询多个请用英文逗号（,）分隔，最多支持30个。","type":"string","required":false,"example":"t-0mq1yyhm3ffl2bxxxx"}},{"name":"TaskType","in":"query","schema":{"description":"任务类型，用于查询特定类型任务情况，默认为空，表示不限制，取值如下：\n- CreateIns：创建实例\n- DeleteIns：删除实例\n- ChangeVariable：参数调整\n- ModifyInsConfig：配置变更\n- RestartIns：重启实例\n- HaSwitch：实例主备切换\n- CloneIns：克隆实例\n- KernelVersionUpgrade：内核版本升级\n- ProxyVersionUpgrade：代理版本升级\n- ModifyAccount：账号变更\n- ModifyInsSpec：规格变更或迁移\n- CreateReadIns：创建只读实例\n- StartIns：启动实例\n- StopIns：暂停实例\n- ModifyNetwork：网络变更\n- LockIns： 锁定实例\n- UnlockIns：解锁实例\n- DiskOnlineExpansion：磁盘在线扩容\n- StorageOnlineExpansion：存储在线扩容\n- AddInsNode：增加节点\n- DeleteInsNode：删除节点\n- ManualBackupIns：手动备份实例\n- ModifyInsStorageType：修改存储类型","type":"string","required":false,"example":"DeleteInsNode"}},{"name":"FromStartTime","in":"query","schema":{"description":"运维任务开始的时间，格式为yyyy-MM-ddTHH:mm:ssZ（UTC时间），最早支持查询30天前的数据。","type":"string","required":true,"docRequired":true,"example":"2023-03-15T03:41:26Z"}},{"name":"ToStartTime","in":"query","schema":{"description":"运维任务结束的时间，格式为yyyy-MM-ddTHH:mm:ssZ（UTC时间），最早支持查询30天前的数据。","type":"string","required":true,"docRequired":true,"example":"2023-03-16T07:21:31Z"}},{"name":"FromExecTime","in":"query","schema":{"description":"任务执行耗时的最小值。用于筛选任务执行耗时大于此时间的任务，单位秒。默认0，表示不限制。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"ToExecTime","in":"query","schema":{"description":"任务执行耗时的最大值。用于筛选任务执行耗时不小于此时间的任务，单位秒。默认0，表示不限制。","type":"integer","format":"int32","required":false,"example":"0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageNumber":{"description":"当前显示的页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"3C4A2494-XXXX-XXXX-93CF-548DB3375193"},"PageSize":{"description":"每页显示的最大记录数。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"不考虑分页因素，满足查询条件的总任务数。","type":"integer","format":"int32","example":"5"},"Items":{"description":"任务对象列表。","type":"array","items":{"description":"任务对象，格式是词典。","type":"object","properties":{"Status":{"description":"任务状态。\n- Scheduled：等待执行\n- Running：执行中\n- Succeed：执行成功\n- Failed：执行失败\n- Cancelling：正在终止\n- Canceled：已终止\n- Waiting：等待预设时间","type":"integer","format":"int32","example":"Succeed"},"TaskId":{"description":"任务ID。","type":"string","example":"t-0mq1yyhm3ffl2bxxxx"},"CurrentStepName":{"description":"当前执行的步骤名，如果为空代表任务未开始。","type":"string","example":"exec_task"},"StartTime":{"description":"任务开始时间，格式为yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","example":"2023-02-11T02:33Z"},"EndTime":{"description":"任务结束时间，格式为yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","example":"2023-03-16T02:59Z"},"TaskType":{"description":"任务类型。\n- CreateIns：创建实例\n- DeleteIns：删除实例\n- ChangeVariable：参数调整\n- ModifyInsConfig：配置变更\n- RestartIns：重启实例\n- HaSwitch：实例主备切换\n- CloneIns：克隆实例\n- KernelVersionUpgrade：内核版本升级\n- ProxyVersionUpgrade：代理版本升级\n- ModifyAccount：账号变更\n- ModifyInsSpec：规格变更或迁移\n- CreateReadIns：创建只读实例\n- StartIns：启动实例\n- StopIns：暂停实例\n- ModifyNetwork：网络变更\n- LockIns： 锁定实例\n- UnlockIns：解锁实例\n- DiskOnlineExpansion：磁盘在线扩容\n- StorageOnlineExpansion：存储在线扩容\n- AddInsNode：增加节点\n- DeleteInsNode：删除节点\n- ManualBackupIns：手动备份实例\n- ModifyInsStorageType：修改存储类型","type":"string","example":"CreateIns"},"RemainTime":{"description":"预估剩余执行时间，单位秒，0表示已执行完成。","type":"integer","format":"int32","example":"1000\n"},"Progress":{"description":"当前进度，范围为[0,100]。","type":"number","format":"float","example":"100.0"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"InstanceType":{"description":"实例类型，固定为Instance。","type":"string","example":"Instance"},"InstanceId":{"description":"实例ID。","type":"string","example":"dds-t4n18194768fxxxx"},"InstanceName":{"description":"实例名称。","type":"string","example":"test-dds"},"DbType":{"description":"DB类型，固定为mongodb。","type":"string","example":"mongodb"},"Product":{"description":"产品，固定为dds。","type":"string","example":"dds"},"TaskDetail":{"description":"任务详情，不同taskType对应不同的输出。","type":"string","example":"{\\\"callerUid\\\":\\\"test\\\"}"},"ReasonCode":{"description":"当前任务发起的原因。","type":"string","example":"小版本升级"},"ActionInfo":{"description":"允许的操作信息，具体使用时是根据currentStepName+status在此信息中匹配操作Action，如果未匹配到Action，代表任务当前状态不支持操作，示例：\n```\n   \"steps\": [\n    {\n      \"step_name\": \"exec_task\", // 步骤名, 与currentStepName匹配\n      \"action_info\": {    // 步骤支持的操作\n        \"Waiting\": [      // 状态，与status匹配\n          \"modifySwitchTime\" // 操作Action，可能多个，即代表支持多个操作\n        ]\n      }\n    },\n    {\n      \"step_name\": \"init_task\", // 步骤名\n      \"action_info\": {    // 步骤支持的操作\n        \"Running\": [      // 状态\n          \"cancel\",       // 操作\n          \"pause\"\n        ]\n      }\n    }\n  ]\n}\n```\n\n系统可能支持的操作：\n\n- retry：重试\n- cancel：取消\n- modifySwitchTime：修改切换时间/恢复时间","type":"string","example":"`{\\\"steps\\\":[{\\\"action_info\\\":{\\\"Waiting\\\":[\\\"modifySwitchTime\\\"]},\\\"step_name\\\":\\\"exec_task\\\"}]}`"},"Uid":{"description":"资源所属的用户ID。","type":"string","example":"141345906006****"},"CallerSource":{"description":"请求来源 System：系统 User：用户。","type":"string","example":"System"},"CallerUid":{"description":"请求用户ID，callerSource为User时代表用户UID。","type":"string","example":"141345906006****"}}}}}}}},"errorCodes":{"400":[{"errorCode":"Param.Invalid","errorMessage":"Param invalid"},{"errorCode":"Param.Invalid.TimeEndBeforeStart","errorMessage":"Param invalid. End time before start time"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"PageNumber\\\": 1,\\n  \\\"RequestId\\\": \\\"3C4A2494-XXXX-XXXX-93CF-548DB3375193\\\",\\n  \\\"PageSize\\\": 10,\\n  \\\"TotalCount\\\": 5,\\n  \\\"Items\\\": [\\n    {\\n      \\\"Status\\\": 0,\\n      \\\"TaskId\\\": \\\"t-0mq1yyhm3ffl2bxxxx\\\",\\n      \\\"CurrentStepName\\\": \\\"exec_task\\\",\\n      \\\"StartTime\\\": \\\"2023-02-11T02:33Z\\\",\\n      \\\"EndTime\\\": \\\"2023-03-16T02:59Z\\\",\\n      \\\"TaskType\\\": \\\"CreateIns\\\",\\n      \\\"RemainTime\\\": 1000,\\n      \\\"Progress\\\": 100,\\n      \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"InstanceType\\\": \\\"Instance\\\",\\n      \\\"InstanceId\\\": \\\"dds-t4n18194768fxxxx\\\",\\n      \\\"InstanceName\\\": \\\"test-dds\\\",\\n      \\\"DbType\\\": \\\"mongodb\\\",\\n      \\\"Product\\\": \\\"dds\\\",\\n      \\\"TaskDetail\\\": \\\"{\\\\\\\\\\\\\\\"callerUid\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"test\\\\\\\\\\\\\\\"}\\\",\\n      \\\"ReasonCode\\\": \\\"小版本升级\\\",\\n      \\\"ActionInfo\\\": \\\"`{\\\\\\\\\\\\\\\"steps\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"action_info\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"Waiting\\\\\\\\\\\\\\\":[\\\\\\\\\\\\\\\"modifySwitchTime\\\\\\\\\\\\\\\"]},\\\\\\\\\\\\\\\"step_name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"exec_task\\\\\\\\\\\\\\\"}]}`\\\",\\n      \\\"Uid\\\": \\\"141345906006****\\\",\\n      \\\"CallerSource\\\": \\\"System\\\",\\n      \\\"CallerUid\\\": \\\"141345906006****\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询任务中心的任务信息"}