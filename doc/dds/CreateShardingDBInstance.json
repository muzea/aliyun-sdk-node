{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"8247","abilityTreeNodes":["FEATUREmongodbAPXG80"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID，您可以通过调用[DescribeRegions](~~61933~~)接口查询地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID，您可以通过调用[DescribeRegions](~~61933~~)接口查询可用区ID。","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"Engine","in":"query","schema":{"description":"数据库引擎。固定取值：**MongoDB**。","type":"string","required":true,"example":"MongoDB","enum":["MongoDB"]}},{"name":"EngineVersion","in":"query","schema":{"description":"数据库版本号，取值：\n\n- **7.0**\n- **6.0**\n- **5.0**\n- **4.4**\n- **4.2**\n- **4.0**\n\n> - 关于存储引擎与版本的选择约束，请参见[版本与存储引擎](~~61906~~)。\n> - 调用本接口克隆实例时，该参数值需和源实例保持一致。","type":"string","required":true,"enumValueTitles":{},"example":"4.4","enum":["3.0","3.2","3.4","4.0","4.2","4.4","5.0","6.0","7.0"]}},{"name":"DBInstanceDescription","in":"query","schema":{"description":"实例名称，取值说明：\n- 以中文、英文字母开头。\n- 可以包含数字、中文、英文、下划线（_）和短横线（-）。\n- 长度为2~256个字符。","type":"string","required":false,"example":"test"}},{"name":"SecurityIPList","in":"query","schema":{"description":"实例的IP白名单，多个IP地址请用英文逗号（,）分隔，不可重复。支持如下三种格式：\n- 0.0.0.0/0\n- IP地址形式，例如：10.23.12.24。\n- CIDR形式，例如：10.23.12.0/24（无类域间路由，24表示了地址中前缀的长度，范围为1~32）。\n\n> - 每个实例最多添加1000个IP或IP段，即所有IP白名单分组内的IP或IP段总和不能超过1000。\n> - 0.0.0.0/0表示任何IP地址都可以访问实例的数据库，属于高危设置，请谨慎设置。","type":"string","required":false,"example":"192.168.xx.xx,192.168.xx.xx"}},{"name":"AccountPassword","in":"query","schema":{"description":"root账号的密码，取值说明：\n- 由大写字母、小写字母、数字、特殊字符中的至少三种组成。\n- !#$%^&*()_+-=为特殊字符。\n- 长度为8~32个字符。","type":"string","required":false,"example":"123456Aa"}},{"name":"ChargeType","in":"query","schema":{"description":"实例的付费类型，取值说明：\n\n- **PostPaid**：默认值，后付费（按量付费）。\n- **PrePaid**：预付费（包年包月）。\n\n> 当该参数的值为**PrePaid**时，您还需要配置**Period**参数。","type":"string","required":false,"example":"PrePaid","default":"PostPaid","enum":["PrePaid","PostPaid"]}},{"name":"Period","in":"query","schema":{"description":"实例的购买时长，单位为月。\n\n取值范围：**1**~**9**（整数）、**12**、**24**、**36**、**60**。\n> 当**ChargeType**参数值为**PrePaid**时，该参数可用且为必填参数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"NetworkType","in":"query","schema":{"description":"实例的网络类型，取值说明：\n\n**VPC**：专有网络。","type":"string","required":false,"example":"VPC","default":"VPC","enum":["VPC","Classic"]}},{"name":"VpcId","in":"query","schema":{"description":"专有网络（VPC）ID。","type":"string","required":false,"docRequired":true,"example":"vpc-bp1n3i15v90el48nx****"}},{"name":"VSwitchId","in":"query","schema":{"description":"虚拟交换机ID。\n","type":"string","required":false,"docRequired":true,"example":"vsw-bp1vj604nj5a9zz74****"}},{"name":"SrcDBInstanceId","in":"query","schema":{"description":"源实例ID。\n>只有调用本接口克隆实例时，您需要配置该参数，同时还需要配置**RestoreTime**参数。","type":"string","required":false,"example":"dds-bp11483712c1****"}},{"name":"RestoreTime","in":"query","schema":{"description":"选择要恢复的时间点，您可以配置7天内的任意时间点。格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n>只有调用本接口克隆实例时，您需要配置该参数，同时还需要配置**SrcDBInstanceId**参数。\n","type":"string","required":false,"example":"2022-03-08T02:30:25Z"}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性，防止重复提交请求。由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符，且该参数值中不能包含非ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCz****"}},{"name":"StorageEngine","in":"query","schema":{"description":"实例的存储引擎，取值固定为**WiredTiger**。\n\n> - 调用本接口克隆实例时，该参数需和源实例保持一致。\n> - 关于存储引擎与版本的选择约束，请参见[版本与存储引擎](~~61906~~)。","type":"string","required":false,"example":"WiredTiger","default":"WiredTiger","enum":["WiredTiger","RocksDB"]}},{"name":"AutoRenew","in":"query","schema":{"description":"实例是否自动续费，取值说明：\n\n- **true**：自动续费。\n- **false**：默认值，不自动续费，即手动续费。\n\n> 当**ChargeType**参数值为**PrePaid**时，该参数可用且为可选参数。","type":"string","required":false,"example":"true"}},{"name":"ProtocolType","in":"query","schema":{"description":"访问协议的类型，取值说明：\n- **mongodb**：MongoDB协议。\n- **dynamodb**：DynamoDB协议。","type":"string","required":false,"example":"mongodb","default":"mongodb","enum":["mongodb","dynamodb"]}},{"name":"Mongos","in":"query","style":"repeatList","schema":{"description":"Mongos节点信息。","type":"array","items":{"description":"Mongos节点信息。","type":"object","properties":{"Class":{"description":"Mongos节点的规格，取值详情请参见[分片集群实例规格表](~~311414~~)。\n\n> - 参数名中的**N**代表传入第几个Mongos节点的规格。例如，**Mongos.2.Class**表示传入第二个Mongos节点的规格。\n> - **N**的取值范围为**2**~**32**。","type":"string","required":true,"example":"mdb.shard.2x.xlarge.d"}},"required":true},"required":true,"maxItems":32}},{"name":"ReplicaSet","in":"query","style":"repeatList","schema":{"description":"Shard节点的信息。","type":"array","items":{"description":"Shard节点的信息。","type":"object","properties":{"Class":{"description":"Shard节点的规格，取值详情请参见[分片集群实例规格表](~~311414~~)。\n\n> - 参数名中的**N**代表传入第几个Shard节点的规格。例如，**ReplicaSet.2.Class**表示传入第二个Shard节点的规格。\n> - **N**的取值范围为**2**~**32**。","type":"string","required":true,"example":"dds.shard.standard"},"Storage":{"description":"Shard节点的存储空间，单位为GB。\n\n> - 具体取值受实例规格约束，取值详情请参见[分片集群实例规格表](~~311414~~)。\n> - 参数名中的**N**代表的是传入第几个Shard节点的存储空间，例如：**ReplicaSet.2.Storage**表示传入第二个Shard节点的存储空间。","type":"integer","format":"int32","required":true,"example":"10"},"ReadonlyReplicas":{"description":"设置Shard节点的只读节点个数。\n\n取值范围：**0**~**5**（整数），默认值为**0**。\n>参数名中的**N**代表设置第几个Shard节点中的只读节点个数。例如，**ReplicaSet.2.ReadonlyReplicas**表示设置第二个Shard节点的只读节点个数。","type":"integer","format":"int32","required":false,"maximum":"5","minimum":"0","example":"0","default":"0"}},"required":false},"required":true,"maxItems":32}},{"name":"ConfigServer","in":"query","style":"repeatList","schema":{"description":"ConfigServer节点的信息。","type":"array","items":{"description":"ConfigServer节点的信息。","type":"object","properties":{"Class":{"description":"ConfigServer的规格，取值说明：\n- **mdb.shard.2x.xlarge.d**：4核 8 GB（独享型），仅支持4.4及以上版本的实例。\n- **dds.cs.mid**：1核 2 GB（通用型），仅支持4.2及以下版本的实例。","type":"string","required":true,"example":"mdb.shard.2x.xlarge.d"},"Storage":{"description":"ConfigServer的存储空间，单位为GB。\n\n>具体取值受实例规格约束，取值详情请参见[分片集群实例规格表](~~311414~~)。","type":"integer","format":"int32","required":true,"example":"20"}},"required":false},"required":true,"maxItems":32}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID，资源组详情请参见[查看资源组基本信息](~~151181~~)。\n","type":"string","required":false,"example":"rg-acfmyiu4ekp****"}},{"name":"SecondaryZoneId","in":"query","schema":{"description":"配置备可用区1，实现多可用区部署。取值说明：\n- **cn-hangzhou-g**：杭州可用区G。\n- **cn-hangzhou-h**：杭州可用区H。\n- **cn-hangzhou-i**：杭州可用区I。\n- **cn-hongkong-b**：中国香港可用区B。\n- **cn-hongkong-c**：中国香港可用区C。\n- **cn-hongkong-d**：中国香港可用区D。\n- **cn-wulanchabu-a**：乌兰察布可用区A。\n- **cn-wulanchabu-b**：乌兰察布可用区B。\n- **cn-wulanchabu-c**：乌兰察布可用区C。\n- **ap-southeast-1a**：新加坡可用区A。\n- **ap-southeast-1b**：新加坡可用区B。\n- **ap-southeast-1c**：新加坡可用区C。\n- **ap-southeast-5a**：雅加达可用区A。\n- **ap-southeast-5b**：雅加达可用区B。\n- **ap-southeast-5c**：雅加达可用区C。\n- **eu-central-1a**：法兰克福可用区A。\n- **eu-central-1b**：法兰克福可用区B。\n- **eu-central-1c**：法兰克福可用区C。\n>- 仅**EngineVersion**取值为**4.4**或**5.0**时，该参数可用且为必填参数。\n- 该参数值不能与**ZoneId**和**HiddenZoneId**相同。\n- 分片集群实例的多可用区部署策略，具体请参见[创建多可用区分片集群实例](~~117865~~)。","type":"string","required":false,"example":"cn-hangzhou-h"}},{"name":"HiddenZoneId","in":"query","schema":{"description":"配置备可用区2，实现多可用区部署。取值说明：\n- **cn-hangzhou-g**：杭州可用区G。\n- **cn-hangzhou-h**：杭州可用区H。\n- **cn-hangzhou-i**：杭州可用区I。\n- **cn-hongkong-b**：中国香港可用区B。\n- **cn-hongkong-c**：中国香港可用区C。\n- **cn-hongkong-d**：中国香港可用区D。\n- **cn-wulanchabu-a**：乌兰察布可用区A。\n- **cn-wulanchabu-b**：乌兰察布可用区B。\n- **cn-wulanchabu-c**：乌兰察布可用区C。\n- **ap-southeast-1a**：新加坡可用区A。\n- **ap-southeast-1b**：新加坡可用区B。\n- **ap-southeast-1c**：新加坡可用区C。\n- **ap-southeast-5a**：雅加达可用区A。\n- **ap-southeast-5b**：雅加达可用区B。\n- **ap-southeast-5c**：雅加达可用区C。\n- **eu-central-1a**：法兰克福可用区A。\n- **eu-central-1b**：法兰克福可用区B。\n- **eu-central-1c**：法兰克福可用区C。\n\n> - 仅**EngineVersion**取值为**4.4**或**5.0**时，该参数可用且为必填参数。\n> - 该参数值不能与**ZoneId**和**SecondaryZoneId**相同。\n> - 分片集群实例的多可用区部署策略，具体请参见[创建多可用区分片集群实例](~~117865~~)。","type":"string","required":false,"example":"cn-hangzhou-i"}},{"name":"StorageType","in":"query","allowEmptyValue":true,"schema":{"description":"存储类型，取值说明： \n\n- **cloud_essd1**：ESSD PL1云盘。\n- **cloud_essd2**：ESSD PL2云盘。\n- **cloud_essd3**：ESSD PL3云盘。\n-  **local_ssd**：SSD本地盘。\n\n> - 4.4及以上版本实例只支持云盘，不填写默认选择**cloud_essd1**。\n> - 4.2及以下版本实例只支持本地盘，不填写默认选择**local_ssd**。","type":"string","required":false,"example":"cloud_essd1"}},{"name":"GlobalSecurityGroupIds","in":"query","schema":{"description":"实例的全局IP白名单模板，多个IP白名单模板请用英文逗号（,）分隔，不可重复。","type":"string","required":false,"example":"g-qxieqf40xjst1ngpr3jz\t"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"用户自定义标签。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签的键。\n> - **N**表示传入第几个标签的键。例如：**Tag.1.Key**表示传入第一个标签的键；**Tag.2.Key**表示传入第二个标签的键。","type":"string","required":false,"example":"testdatabase"},"Value":{"description":"标签的值。\n> **N**表示传入第几个标签的值。例如：**Tag.1.Value**表示传入第一个标签的值；**Tag.2.Value**表示传入第二个标签的值。","type":"string","required":false,"example":"apitest"}},"required":false},"required":false,"maxItems":21}},{"name":"Encrypted","in":"query","schema":{"description":"是否开启云盘加密","type":"boolean","required":false,"example":"true","default":"false"}},{"name":"EncryptionKey","in":"query","schema":{"description":"自定义密钥ID。","type":"string","required":false,"example":"2axxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}},{"name":"ProvisionedIops","in":"query","schema":{"description":"预配置IOPS","type":"integer","format":"int64","required":false,"example":"1960"}},{"name":"SrcRegion","in":"query","schema":{"type":"string","required":false}},{"name":"BackupId","in":"query","schema":{"type":"string","required":false}},{"name":"RestoreType","in":"query","schema":{"type":"string","required":false,"enum":["1","2","3"]}},{"name":"DestRegion","in":"query","schema":{"type":"string","required":false}}],"responses":{"200":{"schema":{"description":"返回信息。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D8F1D721-6439-4257-A89C-F1E8E9C9****"},"DBInstanceId":{"description":"实例ID。","type":"string","example":"dds-bp114f14849d****"},"OrderId":{"description":"订单ID。","type":"string","example":"21010996721****"}}}}},"errorCodes":{"400":[{"errorCode":"SecurityRisk.AuthVerification","errorMessage":"we have detected a risk with your default payment method. An email and notification has been sent to you. Please re-submit your order before after verificaiton."},{"errorCode":"InvaliadParameter.ShardsCount.LessThanSrc","errorMessage":"The specified number of shards is less than that of source instance."},{"errorCode":"ORDER.ACCOUNT_INFORMATION_INCOMPLETE","errorMessage":"Your information is incomplete. Complete your information before ordering."},{"errorCode":"InvalidRegion.Format","errorMessage":"Specified Region is not valid."},{"errorCode":"Zone.Closed","errorMessage":"The specified zone is closed."},{"errorCode":"TokenServiceError","errorMessage":"The request token is duplicated."},{"errorCode":"InvalidParam","errorMessage":"Param not valid."},{"errorCode":"InvalidEngineVersion.Malformed","errorMessage":"Specified engine version is not valid."},{"errorCode":"InvalidParameters.Format","errorMessage":"Specified parameters is not valid."}],"403":[{"errorCode":"InvalidBackupLogStatus","errorMessage":"Current backup log enable status does not support this operation."}],"500":[{"errorCode":"VpcServiceError","errorMessage":"Invoke vpc service error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D8F1D721-6439-4257-A89C-F1E8E9C9****\\\",\\n  \\\"DBInstanceId\\\": \\\"dds-bp114f14849d****\\\",\\n  \\\"OrderId\\\": \\\"21010996721****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateShardingDBInstanceResponse>\\n    <RequestId>D8F1D721-6439-4257-A89C-F1E8E9C9****</RequestId>\\n    <DBInstanceId>dds-bp114f14849d****</DBInstanceId>\\n    <OrderId>21010996721****</OrderId>\\n</CreateShardingDBInstanceResponse>\",\"errorExample\":\"\"}]","title":"创建或克隆分片集群实例","summary":"创建或者克隆MongoDB分片集群实例。","description":"- 请确保在使用该接口前，已充分了解云数据库MongoDB的收费方式和<props=\"china\">[价格](https://www.aliyun.com/price/product#/mongodb/detail)</props><props=\"intl\">[价格](https://www.alibabacloud.com/zh/product/apsaradb-for-mongodb/pricing)</props>。\n\n- 关于云数据库MongoDB实例的规格，请参见[实例规格表](~~57141~~)。\n- 如果需要创建单节点实例和副本集实例，您可以通过调用[CreateDBInstance](~~61763~~)接口创建。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}