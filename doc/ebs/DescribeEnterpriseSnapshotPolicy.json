{"summary":"调用DescribeEnterpriseSnapshotPolicy查找企业级快照策略。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"地域ID","description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"PolicyIds","in":"query","style":"repeatList","schema":{"title":"策略ID列表","description":"指定快照策略ID列表。","type":"array","items":{"description":"策略ID。","type":"string","required":false,"example":"esp-xxx"},"required":false,"maxItems":10}},{"name":"DiskIds","in":"query","style":"repeatList","schema":{"title":"磁盘ID列表","description":"磁盘ID列表","type":"array","items":{"description":"磁盘ID。","type":"string","required":false,"example":"[\"d-bp67acfmxazb4p****\",\"d-bp67acfmxazs5t****\"]"},"required":false,"maxItems":10}},{"name":"ResourceGroupId","in":"query","schema":{"title":"资源组ID","description":"资源组ID。","type":"string","required":false,"example":"xxx"}},{"name":"NextToken","in":"query","schema":{"title":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","description":"查询凭证（Token）。取值为上一次调用该接口返回的NextToken参数值，初次调用接口时无需设置该参数。如果设置了NextToken，则请求参数PageSize和PageNumber将失效，且返回数据中的TotalCount无效。","type":"string","required":false,"example":"xxx"}},{"name":"MaxResults","in":"query","schema":{"title":"Token方式最大个数。","description":"本次调用期望查询的最大条目数。可配合NextToken参数一起使用。\n\n取值范围：1~500。\n\n默认值：10。","type":"integer","format":"int32","required":false,"example":"100"}},{"name":"PageSize","in":"query","schema":{"title":"分页查询时设置的每页行数。","description":"分页查询时设置的每页行数。 取值范围1-100。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"PageNumber","in":"query","schema":{"title":"分页模式查询时的页数。","description":"分页查询时的页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ClientToken","in":"query","schema":{"title":"服务端生成的一串字符串，作为客户端进行请求的一个标识。","description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"title":"资源标签键。N的取值范围为1~20。","description":"标签键值对。n的取值范围为 [1, 20]。","type":"array","items":{"description":"标签。","type":"object","properties":{"Key":{"title":"资源的标签键。N的取值范围为 [1, 20]。一旦传入该值，则不允许为空字符串。最多支持128个字符，不能以aliyun和acs:开头，不能包含http://或者https://。","description":"资源的标签键。","type":"string","required":true,"example":"tag-key"},"Value":{"title":"资源的标签值。n 的取值范围为 [1, 20]。一旦传入该值，可以为空字符串。最多支持128个字符，不能以acs:开头，不能包含http://或者https://。","description":"资源的标签值。","type":"string","required":true,"example":"tag-value"}},"required":false},"required":false,"maxItems":10}}],"responses":{"200":{"headers":{},"schema":{"title":"DescribeSnapshotPolicyResponse","description":"应答","type":"object","properties":{"Policies":{"title":"策略列表","description":"策略列表","type":"array","items":{"description":"策略详情","type":"object","properties":{"Name":{"title":"快照策略名称","description":"快照策略名称","type":"string","example":"xxx"},"PolicyId":{"title":"快照策略ID","description":"快照策略ID","type":"string","example":"esp-xxx"},"TargetType":{"title":"快照策略类型","description":"类型。取值范围：\n\n- DISK","type":"string","example":"DISK"},"State":{"title":"快照策略状态","description":"状态。取值范围：\n\n- DISABLED\n- ENABLED","type":"string","example":"DISABLED"},"ManagedForEcs":{"title":"快照托管状态","description":"快照托管状态","type":"boolean","example":"false"},"Desc":{"title":"快照策略描述信息","description":"快照策略描述信息","type":"string","example":"xxx"},"Schedule":{"title":"快照策略调度规则","description":"快照策略调度规则","type":"object","properties":{"CronExpression":{"title":"cron tab 表达式","description":"cron tab 表达式","type":"string","example":"1 1 1 */1 * ?"}}},"RetainRule":{"title":"快照策略保留规则","description":"快照策略保留规则","type":"object","properties":{"Number":{"title":"保留个数","description":"个数","type":"integer","format":"int32","example":"10"},"TimeInterval":{"title":"保留时间值","description":"保留时间值","type":"integer","format":"int32","example":"14"},"TimeUnit":{"title":"保留时间单位","description":"保留时间单位","type":"string","example":"DAYS"}}},"StorageRule":{"title":"快照策略存储规则","description":"快照策略存储规则","type":"object","properties":{"EnableImmediateAccess":{"title":"是否启动快照极速可用","description":"是否启动快照极速可用","type":"boolean","example":"false"}}},"CrossRegionCopyInfo":{"title":"快照快照复制信息","description":"快照复制信息","type":"object","properties":{"Enabled":{"title":"是否启用跨地域复制","description":"是否启用跨地域复制","type":"boolean","example":"true"},"Regions":{"title":"目的地域信息","description":"目的地域信息","type":"array","items":{"description":"拷贝目标地域信息","type":"object","properties":{"RegionId":{"title":"快照复制目的地","description":"快照复制目的地","type":"string","example":"cn-hangzhou"},"RetainDays":{"title":"目的地快照保留天数","description":"目的地快照保留天数","type":"integer","format":"int32","example":"7"}}}}}},"CreateTime":{"title":"创建时间","description":"创建时间","type":"string","example":"2023-06-24T06:03:35Z"},"TargetCount":{"title":"已经绑定的目标个数","description":"已经绑定的目标个数","type":"integer","format":"int32","example":"10"},"Tags":{"title":"the pair tags","description":"the pair tags","type":"array","items":{"type":"object","properties":{"TagKey":{"title":"资源的标签键","description":"资源的标签键","type":"string","example":"key"},"TagValue":{"title":"资源的标签值","description":"资源的标签值","type":"string","example":"value"}}}},"ResourceGroupId":{"title":"the resource group","description":"the resource group","type":"string","example":"rg-xxx"},"SpecialRetainRules":{"title":"快照策略特殊保留规则","description":"快照策略特殊保留规则","type":"object","properties":{"Enabled":{"title":"是否启用特殊保留时间","description":"是否启用特殊保留时间","type":"boolean","example":"true"},"Rules":{"title":"特殊保留规则","description":"特殊保留规则","type":"array","items":{"description":"特殊保留规则","type":"object","properties":{"SpecialPeriodUnit":{"title":"特殊周期单位","description":"特殊周期单位","type":"string","example":"WEEKS"},"TimeInterval":{"title":"保留时间值","description":"保留时间值","type":"integer","format":"int32","example":"1"},"TimeUnit":{"title":"保留时间单位","description":"保留时间单位","type":"string","example":"WEEKS"}}}}}},"DiskIds":{"title":"已绑定的磁盘列表","description":"已绑定的磁盘列表","type":"array","items":{"description":"磁盘ID。","type":"string","example":"[\"d-xxx\"]"}}}}},"PageNumber":{"title":"分页模式查询时的页数。","description":"分页模式查询时的页数。","type":"integer","format":"int32","example":"1"},"PageSize":{"title":"分页模式查询时的单页记录数量。","description":"分页模式查询时的单页记录数量。","type":"integer","format":"int32","example":"10"},"TotalCount":{"title":"总个数","description":"总个数","type":"integer","format":"int64","example":"10"},"RequestId":{"title":"请求ID。无论调用接口成功与否，我们都会返回请求 ID。","description":"请求ID","type":"string","example":"549BB71F-6778-53CE-AA73-E94ACE802AB4"},"NextToken":{"title":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","example":"NextToken"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"The parameter %s is invalid."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"The specified parameter %s and %s are not blank at the same time."},{"errorCode":"InvalidParameter.Format","errorMessage":"Specified parameter format is not valid."},{"errorCode":"MissingParameter","errorMessage":"The input parameter %s that is mandatory for processing this request is not supplied."}],"403":[{"errorCode":"Forbidden","errorMessage":"User is not authorized to operate."},{"errorCode":"Forbidden.Action","errorMessage":"User is not authorized to operate this action."},{"errorCode":"InvalidAccountStatus.NotEnoughBalance","errorMessage":"Your account does not have enough balance."},{"errorCode":"LastTokenProcessing","errorMessage":"The last token request is processing."},{"errorCode":"NoPermission.SLR","errorMessage":"The RAM user does not have the permission to create service linked role: AliyunServiceLinkedRoleForEBS."},{"errorCode":"OperationDenied","errorMessage":"The operation is not allowed."}],"404":[{"errorCode":"InvalidApi.NotFound","errorMessage":"Specified api is not found, please check your url and method."},{"errorCode":"NoSuchResource","errorMessage":"The specified resource does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}],"504":[{"errorCode":"RequestTimeout","errorMessage":"The request is timeout, please try again later."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Policies\\\": [\\n    {\\n      \\\"Name\\\": \\\"xxx\\\",\\n      \\\"PolicyId\\\": \\\"esp-xxx\\\",\\n      \\\"TargetType\\\": \\\"DISK\\\",\\n      \\\"State\\\": \\\"DISABLED\\\",\\n      \\\"ManagedForEcs\\\": false,\\n      \\\"Desc\\\": \\\"xxx\\\",\\n      \\\"Schedule\\\": {\\n        \\\"CronExpression\\\": \\\"1 1 1 */1 * ?\\\"\\n      },\\n      \\\"RetainRule\\\": {\\n        \\\"Number\\\": 10,\\n        \\\"TimeInterval\\\": 14,\\n        \\\"TimeUnit\\\": \\\"DAYS\\\"\\n      },\\n      \\\"StorageRule\\\": {\\n        \\\"EnableImmediateAccess\\\": false\\n      },\\n      \\\"CrossRegionCopyInfo\\\": {\\n        \\\"Enabled\\\": true,\\n        \\\"Regions\\\": [\\n          {\\n            \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n            \\\"RetainDays\\\": 7\\n          }\\n        ]\\n      },\\n      \\\"CreateTime\\\": \\\"2023-06-24T06:03:35Z\\\",\\n      \\\"TargetCount\\\": 10,\\n      \\\"Tags\\\": [\\n        {\\n          \\\"TagKey\\\": \\\"key\\\",\\n          \\\"TagValue\\\": \\\"value\\\"\\n        }\\n      ],\\n      \\\"ResourceGroupId\\\": \\\"rg-xxx\\\",\\n      \\\"SpecialRetainRules\\\": {\\n        \\\"Enabled\\\": true,\\n        \\\"Rules\\\": [\\n          {\\n            \\\"SpecialPeriodUnit\\\": \\\"WEEKS\\\",\\n            \\\"TimeInterval\\\": 1,\\n            \\\"TimeUnit\\\": \\\"WEEKS\\\"\\n          }\\n        ]\\n      },\\n      \\\"DiskIds\\\": [\\n        \\\"[\\\\\\\"d-xxx\\\\\\\"]\\\"\\n      ]\\n    }\\n  ],\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 10,\\n  \\\"TotalCount\\\": 10,\\n  \\\"RequestId\\\": \\\"549BB71F-6778-53CE-AA73-E94ACE802AB4\\\",\\n  \\\"NextToken\\\": \\\"NextToken\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeEnterpriseSnapshotPolicyResponse>\\n    <Policies>\\n        <Schedule/>\\n        <RetainRule/>\\n        <StorageRule/>\\n        <CrossRegionCopyInfo>\\n            <Regions/>\\n        </CrossRegionCopyInfo>\\n        <Tags/>\\n    </Policies>\\n</DescribeEnterpriseSnapshotPolicyResponse>\",\"errorExample\":\"\"}]","title":"查找企业级快照策略"}