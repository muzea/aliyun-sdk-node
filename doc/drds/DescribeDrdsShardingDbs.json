{"summary":"调用DescribeDrdsShardingDbs接口查询PolarDB-X下的水平拆分数据库。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"DrdsInstanceId","in":"query","schema":{"description":"PolarDB-X的实例ID。","type":"string","required":true,"example":"drdshbgaf3c63qbo"}},{"name":"DbName","in":"query","schema":{"description":"PolarDB-X实例的数据库名称。","type":"string","required":true,"example":"drds_test"}},{"name":"DbNamePattern","in":"query","schema":{"description":"数据库匹配格式。","type":"string","required":false,"example":"test"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页数。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页大小。","type":"integer","format":"int64","required":false,"example":"20"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。","type":"string","example":"509BDE17-505A-4B3B-854D-30D3F092502F"},"ShardingDbs":{"type":"object","properties":{"ShardingDb":{"description":"返回结果列表。","type":"array","items":{"type":"object","properties":{"MinPoolSize":{"description":"连接池最小个数。","type":"integer","format":"int32","example":"5"},"MaxPoolSize":{"description":"连接池最大个数。","type":"integer","format":"int32","example":"60"},"DbInstanceId":{"description":"RDS实例ID。","type":"string","example":"rm-bp1hjzn0yv5j2****"},"ConnectUrl":{"description":"连接url。","type":"string","example":"100.100.64.100:11569"},"GroupName":{"description":"物理分片名称。","type":"string","example":"TEMP1_1568171495522SABE_KUP4_0000"},"DbType":{"description":"数据库类型。","type":"string","example":"mysql"},"IdleTimeOut":{"description":"空闲超时时间。","type":"integer","format":"int32","example":"30"},"ShardingDbName":{"description":"物理分库名。","type":"string","example":"temp1_zhk1_0000"},"BlockingTimeout":{"description":"控制事务为获取锁而需要等待的时长。","type":"integer","format":"int32","example":"5000"},"PreparedStatementCacheSize":{"description":"结果缓存大小。","type":"integer","format":"int32","example":"0"},"ConnectionProperties":{"description":"连接串属性。","type":"string","example":"connectTimeout=3000;autoReconnect=true;failOverReadOnly=false;socketTimeout=900000;rewriteBatchedStatements=true;characterEncoding=utf8"},"UserName":{"description":"连接RDS的用户名。","type":"string","example":"pg284mi8"},"DbStatus":{"description":"数据库状态。","type":"string","example":"running"}}}}}},"PageNumber":{"description":"当前页数。","type":"string","example":"1"},"PageSize":{"description":"每页大小。","type":"string","example":"20"},"Total":{"description":"返回的列表总数量。","type":"string","example":"1"}}}}},"errorCodes":{"400":[{"errorCode":"ActionUnauthorized","errorMessage":"The specified action is not available for you"},{"errorCode":"ServiceUnable","errorMessage":"The service is not available now, please try again later"},{"errorCode":"InvalidParameter.Mismatch","errorMessage":"The specified parameter does not match."},{"errorCode":"InvalidDbname.MalFormed","errorMessage":"The specified db name does not match."},{"errorCode":"InvalidDRDSInstanceId.NotFound","errorMessage":"The DrdsInstanceId provided does not exist in our records"},{"errorCode":"InvalidDbName.NotFound","errorMessage":"The Drds DbName provided does not exist in our records"}],"404":[{"errorCode":"InvalidDRDSInstanceId.NotFound","errorMessage":"The DrdsInstanceId provided does not exist in our records."},{"errorCode":"InvalidDbName.NotFound","errorMessage":"The Drds DbName provided does not exist in our records."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"RequestId\\\": \\\"509BDE17-505A-4B3B-854D-30D3F092502F\\\",\\n  \\\"ShardingDbs\\\": {\\n    \\\"ShardingDb\\\": [\\n      {\\n        \\\"MinPoolSize\\\": 5,\\n        \\\"MaxPoolSize\\\": 60,\\n        \\\"DbInstanceId\\\": \\\"rm-bp1hjzn0yv5j2****\\\",\\n        \\\"ConnectUrl\\\": \\\"100.100.64.100:11569\\\",\\n        \\\"GroupName\\\": \\\"TEMP1_1568171495522SABE_KUP4_0000\\\",\\n        \\\"DbType\\\": \\\"mysql\\\",\\n        \\\"IdleTimeOut\\\": 30,\\n        \\\"ShardingDbName\\\": \\\"temp1_zhk1_0000\\\",\\n        \\\"BlockingTimeout\\\": 5000,\\n        \\\"PreparedStatementCacheSize\\\": 0,\\n        \\\"ConnectionProperties\\\": \\\"connectTimeout=3000;autoReconnect=true;failOverReadOnly=false;socketTimeout=900000;rewriteBatchedStatements=true;characterEncoding=utf8\\\",\\n        \\\"UserName\\\": \\\"pg284mi8\\\",\\n        \\\"DbStatus\\\": \\\"running\\\"\\n      }\\n    ]\\n  },\\n  \\\"PageNumber\\\": \\\"1\\\",\\n  \\\"PageSize\\\": \\\"20\\\",\\n  \\\"Total\\\": \\\"1\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDrdsShardingDbsResponse>\\n    <Success>true</Success>\\n    <RequestId>509BDE17-505A-4B3B-854D-30D3F092502F</RequestId>\\n    <ShardingDbs>\\n        <MinPoolSize>5</MinPoolSize>\\n        <MaxPoolSize>60</MaxPoolSize>\\n        <DbInstanceId>rm-bp1hjzn0yv5j2****</DbInstanceId>\\n        <ConnectUrl>100.100.64.100:11569</ConnectUrl>\\n        <GroupName>TEMP1_1568171495522SABE_KUP4_0000</GroupName>\\n        <DbType>mysql</DbType>\\n        <IdleTimeOut>30</IdleTimeOut>\\n        <ShardingDbName>temp1_zhk1_0000</ShardingDbName>\\n        <BlockingTimeout>5000</BlockingTimeout>\\n        <PreparedStatementCacheSize>0</PreparedStatementCacheSize>\\n        <ConnectionProperties>connectTimeout=3000;autoReconnect=true;failOverReadOnly=false;socketTimeout=900000;rewriteBatchedStatements=true;characterEncoding=utf8</ConnectionProperties>\\n        <UserName>pg284mi8</UserName>\\n        <DbStatus>running</DbStatus>\\n    </ShardingDbs>\\n    <PageNumber>1</PageNumber>\\n    <PageSize>20</PageSize>\\n    <Total>1</Total>\\n</DescribeDrdsShardingDbsResponse>\",\"errorExample\":\"\"}]","title":"查询DRDS下水平拆分数据库"}