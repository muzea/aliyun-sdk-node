{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"ServerId","in":"query","schema":{"description":"受保护服务器ID","type":"string","required":false,"example":"sr-0005qxusucbiga738e9s"}}],"responses":{"200":{"schema":{"type":"object","properties":{"PrimarySiteId":{"description":"主站站点ID","type":"string","example":"si-0001jntih0phb0i2w1ya"},"ServerId":{"description":"受保护服务器ID","type":"string","example":"sr-0005qxusucbiip0g6t93"},"RecoveryUseDhcp":{"description":"恢复是否使用DHCP自动分配IP","type":"boolean","example":"false"},"RequestId":{"description":"请求ID","type":"string","example":"BBCC4082-98DF-5804-96C6-0E74C37C5867"},"RecoveryMemory":{"description":"故障切换使用的实例内存大小","type":"integer","format":"int64","example":"4294967296"},"SourceGatewayVersion":{"description":"主站网关版本","type":"string","example":"3.7.3"},"IncrementalSyncStartTime":{"description":"增量复制开始时间","type":"integer","format":"int64","example":"0"},"CrashConsistentPointPolicy":{"description":"恢复点策略","type":"string","example":"{\\\"scheduleType\\\":\\\"CRON\\\",\\\"expression\\\":\\\"0 0 */1 * * 0,1,2,3,4,5,6\\\",\\\"initialDelay\\\":0}"},"Success":{"description":"请求是否成功。","type":"boolean","example":"True"},"RecoveryPostScriptContent":{"description":"故障切换的实例启动后执行的脚本内容","type":"string","example":"echo \\\"127.0.0.1 kubernetes.docker.internal\\\" >> /etc/hosts"},"TestRecoveredInstanceId":{"description":"容灾演练的实例ID","type":"string","example":"i-bp13zgzv13am2n2z92lb"},"ReplicationNetwork":{"description":"复制网络VSwitch ID","type":"string","example":"vsw-bp1g0s2u3b2kbn46kiy53"},"RecoveryUseEssd":{"description":"故障切换的实例云盘类型是否使用ESSD","type":"boolean","example":"false"},"TargetGatewayVersion":{"description":"目的端网关版本","type":"string","example":"i-bp13zgzv13am2n2z92lb"},"OsType":{"description":"操作系统类型","type":"string","example":"linux"},"FullSyncStartTime":{"description":"全量复制开始时间","type":"integer","format":"int64","example":"0"},"ReplicationUseSsd":{"description":"复影实例是否使用SSD云盘","type":"boolean","example":"false"},"Rpo":{"description":"恢复时间目标，单位秒","type":"integer","format":"int32","example":"45"},"Consistent":{"description":"是否处于一致性状态","type":"boolean","example":"false"},"FullSyncTotalSize":{"description":"全量复制大小，单位B","type":"integer","format":"int64","example":"365072220160"},"RecoveredIpAddress":{"description":"容灾切换的实例IP","type":"string","example":"192.168.2.2"},"Alias":{"description":"别名","type":"string","example":"bsdewmpci_rz"},"Status":{"description":"实例状态","type":"string","example":"replicating"},"TestFailoverStatus":{"description":"容灾演练状态","type":"string","example":"testFailovered"},"ReplicationUseEssd":{"description":"复影实例是否使用ESSD云盘","type":"boolean","example":"false"},"OsDetail":{"description":"操作系统详情","type":"string","example":"CentOS;7.9.2009"},"Message":{"description":"返回信息。","type":"string","example":"successful"},"TestRecoveredIpAddress":{"description":"容灾演练的机器IP地址","type":"string","example":"192.168.2.2"},"SecondarySiteId":{"description":"从站站点ID","type":"string","example":"si-000imvpcegvbh6i5kd2u"},"FullSyncProgress":{"description":"全量复制进度百分比","type":"integer","format":"int32","example":"17"},"RecoveryInstanceType":{"description":"故障切换的实例规格","type":"string","example":"ecs.c5.2xlarge"},"IpAddress":{"description":"受保护服务器IP地址","type":"string","example":"30.42.105.6"},"RecoveryInstanceName":{"description":"故障切换的实例名称","type":"string","example":"HDR_Recovery-sr-000bzkmmlwghq3soqry2"},"OriginalInstanceId":{"description":"源端实例ID","type":"string","example":"i-bp19axn91irnsi9204xg"},"RecoveredInstanceId":{"description":"容灾切换的实例ID","type":"string","example":"i-bp19axn91irnsi9204xg"},"RecoveryReserveIp":{"description":"演练实例是否保留源机的IP（需要演练所在的VSwitch包含相应网段）","type":"boolean","example":"false"},"Code":{"description":"状态码。","type":"string","example":"200"},"Memory":{"description":"内存大小","type":"integer","format":"int64","example":"8589934591"},"RecoveryIpAddress":{"description":"故障切换的实例手动设置IP","type":"string","example":"192.168.2.2"},"RecoveryNetwork":{"description":"故障切换的实例所在的VSwitch ID","type":"string","example":"vsw-uf61v3bg6r790ir22jqv4"},"Errno":{"description":"出错原因","type":"string","example":"cdr.console.plugin.failed_to_connect"},"ReplicationUseOriginalInstance":{"description":"反向复制使用源机","type":"boolean","example":"false"},"Hostname":{"description":"主机名称","type":"string","example":"iZ2ze0jazgwtuxettbk1ywZ"},"RecoveryCpu":{"description":"故障切换的实例CPU核数","type":"integer","format":"int32","example":"4"},"AgentPort":{"description":"客户端代理端口","type":"integer","format":"int32","example":"9080"},"ReplicationUseDhcp":{"description":"-","type":"boolean","example":"-"},"TestRecoveredInstanceName":{"description":"容灾演练的实例名称","type":"string","example":"HDR_Recovery-sr-000c2rz7q8tak59pt6sw"},"AgentVersion":{"description":"客户端版本","type":"string","example":"3.7.3"},"FullSyncCurrentSize":{"description":"全量复制已完成大小，单位B","type":"integer","format":"int64","example":"3285276688384"},"ReplicationInfrastructureType":{"description":"复制使用的基础设施类型","type":"string","example":"aliyun"},"Cpu":{"description":"CPU核数","type":"integer","format":"int32","example":"4"},"RecoveryPostScriptType":{"description":"演练实例启动后执行脚本类型，可选项：SHELL","type":"string","example":"SHELL"},"ReplicationInfrastructureId":{"description":"目标站点基础设施ID","type":"string","example":"is-000bzkmmlwgibbduuoff"},"ConnectionStatus":{"description":"连接状态","type":"string","example":"connected"},"Operations":{"description":"支持的操作","type":"string","example":"\"{\\\"Resynchronize\\\":true,\\\"TestFailover\\\":true,\\\"TestCleanup\\\":true,\\\"ChangeRecoveryPoint\\\":true,\\\"UnregisterServer\\\":true,\\\"ReversedEnableReplication\\\":true,\\\"ReversedDisableReplication\\\":true,\\\"DisableReplication\\\":true,\\\"CommitFailover\\\":true,\\\"RestartServer\\\":true,\\\"UpgradeServer\\\":true,\\\"ForcedFailover\\\":true,\\\"RepairReplication\\\":true,\\\"EnableReplication\\\":true,\\\"TriggerReversedRegister\\\":true,\\\"SetupAgent\\\":true,\\\"TriggerRegister\\\":true,\\\"CollectSupportBundle\\\":true,\\\"Failback\\\":true}\""},"TaskId":{"description":"任务ID。","type":"string","example":"t-0004ka624vrza82g46ne"},"RecoveryUseSsd":{"description":"故障切换的实例云盘类型是否使用SSD","type":"boolean","example":"false"},"Disks":{"description":"磁盘信息例表。","type":"string","example":"[{\\\"id\\\":\\\"0\\\",\\\"boot\\\":true,\\\"size\\\":500363689984}]"},"RecoveryEssdPerformanceLevel":{"description":"演练、切换实例使用ESSD选定的PL等级","type":"string","example":"PL1"},"LatestRecoveryPointTime":{"description":"最近一次创建恢复点的时间","type":"string","example":"1661419052"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"PrimarySiteId\\\": \\\"si-0001jntih0phb0i2w1ya\\\",\\n  \\\"ServerId\\\": \\\"sr-0005qxusucbiip0g6t93\\\",\\n  \\\"RecoveryUseDhcp\\\": false,\\n  \\\"RequestId\\\": \\\"BBCC4082-98DF-5804-96C6-0E74C37C5867\\\",\\n  \\\"RecoveryMemory\\\": 4294967296,\\n  \\\"SourceGatewayVersion\\\": \\\"3.7.3\\\",\\n  \\\"IncrementalSyncStartTime\\\": 0,\\n  \\\"CrashConsistentPointPolicy\\\": \\\"{\\\\\\\\\\\\\\\"scheduleType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"CRON\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"expression\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0 0 */1 * * 0,1,2,3,4,5,6\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"initialDelay\\\\\\\\\\\\\\\":0}\\\",\\n  \\\"Success\\\": true,\\n  \\\"RecoveryPostScriptContent\\\": \\\"echo \\\\\\\\\\\\\\\"127.0.0.1 kubernetes.docker.internal\\\\\\\\\\\\\\\" >> /etc/hosts\\\",\\n  \\\"TestRecoveredInstanceId\\\": \\\"i-bp13zgzv13am2n2z92lb\\\",\\n  \\\"ReplicationNetwork\\\": \\\"vsw-bp1g0s2u3b2kbn46kiy53\\\",\\n  \\\"RecoveryUseEssd\\\": false,\\n  \\\"TargetGatewayVersion\\\": \\\"i-bp13zgzv13am2n2z92lb\\\",\\n  \\\"OsType\\\": \\\"linux\\\",\\n  \\\"FullSyncStartTime\\\": 0,\\n  \\\"ReplicationUseSsd\\\": false,\\n  \\\"Rpo\\\": 45,\\n  \\\"Consistent\\\": false,\\n  \\\"FullSyncTotalSize\\\": 365072220160,\\n  \\\"RecoveredIpAddress\\\": \\\"192.168.2.2\\\",\\n  \\\"Alias\\\": \\\"bsdewmpci_rz\\\",\\n  \\\"Status\\\": \\\"replicating\\\",\\n  \\\"TestFailoverStatus\\\": \\\"testFailovered\\\",\\n  \\\"ReplicationUseEssd\\\": false,\\n  \\\"OsDetail\\\": \\\"CentOS;7.9.2009\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"TestRecoveredIpAddress\\\": \\\"192.168.2.2\\\",\\n  \\\"SecondarySiteId\\\": \\\"si-000imvpcegvbh6i5kd2u\\\",\\n  \\\"FullSyncProgress\\\": 17,\\n  \\\"RecoveryInstanceType\\\": \\\"ecs.c5.2xlarge\\\",\\n  \\\"IpAddress\\\": \\\"30.42.105.6\\\",\\n  \\\"RecoveryInstanceName\\\": \\\"HDR_Recovery-sr-000bzkmmlwghq3soqry2\\\",\\n  \\\"OriginalInstanceId\\\": \\\"i-bp19axn91irnsi9204xg\\\",\\n  \\\"RecoveredInstanceId\\\": \\\"i-bp19axn91irnsi9204xg\\\",\\n  \\\"RecoveryReserveIp\\\": false,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Memory\\\": 8589934591,\\n  \\\"RecoveryIpAddress\\\": \\\"192.168.2.2\\\",\\n  \\\"RecoveryNetwork\\\": \\\"vsw-uf61v3bg6r790ir22jqv4\\\",\\n  \\\"Errno\\\": \\\"cdr.console.plugin.failed_to_connect\\\",\\n  \\\"ReplicationUseOriginalInstance\\\": false,\\n  \\\"Hostname\\\": \\\"iZ2ze0jazgwtuxettbk1ywZ\\\",\\n  \\\"RecoveryCpu\\\": 4,\\n  \\\"AgentPort\\\": 9080,\\n  \\\"ReplicationUseDhcp\\\": true,\\n  \\\"TestRecoveredInstanceName\\\": \\\"HDR_Recovery-sr-000c2rz7q8tak59pt6sw\\\",\\n  \\\"AgentVersion\\\": \\\"3.7.3\\\",\\n  \\\"FullSyncCurrentSize\\\": 3285276688384,\\n  \\\"ReplicationInfrastructureType\\\": \\\"aliyun\\\",\\n  \\\"Cpu\\\": 4,\\n  \\\"RecoveryPostScriptType\\\": \\\"SHELL\\\",\\n  \\\"ReplicationInfrastructureId\\\": \\\"is-000bzkmmlwgibbduuoff\\\",\\n  \\\"ConnectionStatus\\\": \\\"connected\\\",\\n  \\\"Operations\\\": \\\"\\\\\\\"{\\\\\\\\\\\\\\\"Resynchronize\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TestFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TestCleanup\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ChangeRecoveryPoint\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"UnregisterServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ReversedEnableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ReversedDisableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"DisableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"CommitFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"RestartServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"UpgradeServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ForcedFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"RepairReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"EnableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TriggerReversedRegister\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"SetupAgent\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TriggerRegister\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"CollectSupportBundle\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"Failback\\\\\\\\\\\\\\\":true}\\\\\\\"\\\",\\n  \\\"TaskId\\\": \\\"t-0004ka624vrza82g46ne\\\",\\n  \\\"RecoveryUseSsd\\\": false,\\n  \\\"Disks\\\": \\\"[{\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"boot\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"size\\\\\\\\\\\\\\\":500363689984}]\\\",\\n  \\\"RecoveryEssdPerformanceLevel\\\": \\\"PL1\\\",\\n  \\\"LatestRecoveryPointTime\\\": \\\"1661419052\\\"\\n}\",\"type\":\"json\"}]","title":"查询受保护服务器","summary":"查询受保护服务器。"}