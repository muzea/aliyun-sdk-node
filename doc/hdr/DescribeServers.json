{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"SitePairId","in":"query","schema":{"description":"站点对ID","type":"string","required":false,"example":"s-0007rvzart0u501t4e5r"}},{"name":"ServerIds","in":"query","schema":{"description":"受保护服务器ID列表","type":"string","required":false,"example":"\"[\\\"sr-0005qxusucbi38lqfc2q\\\",\\\"sr-0005qxusucbi38lqfc2r\\\"]\""}},{"name":"PageNumber","in":"query","schema":{"description":"分页参数：当前页码。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页参数：每页显示条数。","type":"integer","format":"int32","required":false,"example":"10","default":"10"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求id。","type":"string","example":"D2B255D3-9736-5169-B488-C735A8BBCD79"},"Success":{"description":"是否成功。","type":"boolean","example":"True"},"Code":{"description":"状态码。","type":"string","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"successful"},"PageSize":{"description":"分页查询时每页的行数。","type":"integer","format":"int32","example":"10"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"2"},"TotalCount":{"description":"总条数。","type":"integer","format":"int32","example":"10"},"Servers":{"type":"object","properties":{"server":{"description":"受保护服务器信息","type":"array","items":{"description":"受保护服务器信息","type":"object","properties":{"RecoveredInstanceName":{"description":"-","type":"string","example":"-"},"PrimarySiteId":{"description":"主站站点ID","type":"string","example":"si-000cm9ax8sgplgye2vc4"},"ServerId":{"description":"受保护服务器ID","type":"string","example":"sr-000cm9ax8sh2381wa7kv"},"RecoveryUseDhcp":{"description":"容灾切换的实例是否使用DHCP分配IP","type":"boolean","example":"true"},"RecoveryMemory":{"description":"容灾切换的实例内存大小","type":"integer","format":"int64","example":"8589934592"},"SourceGatewayVersion":{"description":"主站网关版本","type":"string","example":"3.7.3"},"IncrementalSyncStartTime":{"description":"增量复制开始时间","type":"integer","format":"int64","example":"1646049677"},"CrashConsistentPointPolicy":{"description":"恢复点策略","type":"string","example":"\"{\\\"scheduleType\\\":\\\"CRON\\\",\\\"expression\\\":\\\"0 0 */1 * * 0,1,2,3,4,5,6\\\",\\\"initialDelay\\\":0}\""},"RecoveryPostScriptContent":{"description":"容灾演练、容灾切换等机器启动后执行的脚本内容","type":"string","example":"\"echo \\\"127.0.0.1 kubernetes.docker.internal\\\" >> /etc/hosts\""},"TestRecoveredInstanceId":{"description":"容灾演练的实例ID","type":"string","example":"i-bp13zgzv13am2n2z92lb"},"ReplicationNetwork":{"description":"复影服务器所在的VSwitch ID","type":"string","example":"vsw-2zey7xe0m8dbqrks2jb9h"},"RecoveryUseEssd":{"description":"容灾演练、容灾切换的实例是否使用ESSD","type":"boolean","example":"false"},"TargetGatewayVersion":{"description":"目的端网关版本","type":"string","example":"3.7.3"},"OsType":{"description":"操作系统类型","type":"string","example":"linux"},"FullSyncStartTime":{"description":"全量复制开始时间","type":"integer","format":"int64","example":"0"},"ReplicationUseSsd":{"description":"复影服务器是否使用SSD","type":"boolean","example":"true"},"Rpo":{"description":"恢复时间目标，单位秒","type":"integer","format":"int32","example":"30"},"Consistent":{"description":"是否处于一致性状态","type":"boolean","example":"true"},"FullSyncTotalSize":{"description":"全量复制大小，单位B","type":"integer","format":"int64","example":"150202220544"},"RecoveredIpAddress":{"description":"容灾切换的实例IP","type":"string","example":"192.168.2.2"},"Alias":{"description":"别名","type":"string","example":"test-ecs"},"Status":{"description":"状态","type":"string","example":"replicating"},"TestFailoverStatus":{"description":"容灾演练状态","type":"string","example":"testFailovered"},"ReplicationUseEssd":{"description":"复影服务器是否使用ESSD","type":"boolean","example":"false"},"OsDetail":{"description":"操作系统详情","type":"string","example":"CentOS;7.9.2009"},"TestRecoveredIpAddress":{"description":"容灾演练的机器IP地址","type":"string","example":"192.168.2.2"},"SecondarySiteId":{"description":"从站站点ID","type":"string","example":"si-0007o5em8n6mhm8hee1l"},"FullSyncProgress":{"description":"全量复制进度百分比","type":"integer","format":"int32","example":"0"},"RecoveryInstanceType":{"description":"容灾切换的实例规格","type":"string","example":"ecs.r6.3xlarge"},"IpAddress":{"description":"内网IP地址","type":"string","example":"30.42.105.6"},"RecoveryInstanceName":{"description":"容灾切换的实例名称","type":"string","example":"HDR_Recovery-sr-000c2rz7q8tak59pt6sw"},"OriginalInstanceId":{"description":"源端实例ID","type":"string","example":"i-bp19axn91irnsi9204xg"},"InstanceId":{"description":"ECS实例ID","type":"string","example":"i-bp19axn91irnsi9204xg"},"RecoveredInstanceId":{"description":"容灾切换的实例ID","type":"string","example":"i-bp19axn91irnsi9204xg"},"RecoveryReserveIp":{"description":"容灾切换实例保留源端IP","type":"boolean","example":"true"},"Memory":{"description":"内存大小","type":"integer","format":"int64","example":"4294967295"},"RecoveryIpAddress":{"description":"容灾切换设置的手动IP地址","type":"string","example":"192.168.2.2"},"RecoveryNetwork":{"description":"复影服务器所在的虚拟交换机ID","type":"string","example":"vsw-uf63qu8ocjcly44tai570"},"Errno":{"description":"出错原因","type":"string","example":"cdr.console.plugin.alicloud.agent_deploy_already_installed"},"ReplicationUseOriginalInstance":{"description":"复影服务器使用源机，仅反向复制时有效","type":"boolean","example":"false"},"Hostname":{"description":"主机名称","type":"string","example":"test"},"RecoveryCpu":{"description":"容灾切换的实例CPU核数","type":"integer","format":"int32","example":"4"},"AgentPort":{"description":"客户端代理端口","type":"integer","format":"int32","example":"9080"},"ReplicationUseDhcp":{"description":"复影服务器使用DHCP分配IP","type":"boolean","example":"false"},"TestRecoveredInstanceName":{"description":"容灾演练的实例名称","type":"string","example":"HDR_Recovery-sr-000c2rz7q8tak59pt6sw"},"AgentVersion":{"description":"客户端版本","type":"string","example":"3.7.3"},"FullSyncCurrentSize":{"description":"全量复制已完成大小，单位B","type":"integer","format":"int64","example":"1603469836288"},"ReplicationInfrastructureType":{"description":"复制使用的基础设施类型","type":"string","example":"aliyun"},"Cpu":{"description":"CPU核数","type":"integer","format":"int32","example":"4"},"RecoveryPostScriptType":{"description":"容灾切换的实例启动后执行的脚本类型","type":"string","example":"SHELL"},"ReplicationInfrastructureId":{"description":"复制使用的基础设施ID","type":"string","example":"is-0004ka624vrxd9xsvs4f"},"ConnectionStatus":{"description":"连接状态","type":"string","example":"connected"},"Operations":{"description":"该实例支持与禁用的操作列表","type":"string","example":"\"{\\\"Resynchronize\\\":true,\\\"TestFailover\\\":true,\\\"TestCleanup\\\":true,\\\"ChangeRecoveryPoint\\\":true,\\\"UnregisterServer\\\":true,\\\"ReversedEnableReplication\\\":true,\\\"ReversedDisableReplication\\\":true,\\\"DisableReplication\\\":true,\\\"CommitFailover\\\":true,\\\"RestartServer\\\":true,\\\"UpgradeServer\\\":true,\\\"ForcedFailover\\\":true,\\\"RepairReplication\\\":true,\\\"EnableReplication\\\":true,\\\"TriggerReversedRegister\\\":true,\\\"SetupAgent\\\":true,\\\"TriggerRegister\\\":true,\\\"CollectSupportBundle\\\":true,\\\"Failback\\\":true}\""},"TaskId":{"description":"正在执行的任务ID","type":"string","example":"t-0007rvzart0v31c0x93q"},"RecoveryUseSsd":{"description":"容灾切换的实例是否使用SSD","type":"boolean","example":"true"},"Disks":{"description":"磁盘信息列表","type":"string","example":"[{\\\"id\\\":\\\"0\\\",\\\"boot\\\":true,\\\"size\\\":500363689984}]"},"RecoveryEssdPerformanceLevel":{"description":"演练、切换使用ESSD时选定的PL等级","type":"string","example":"PL3"},"LatestRecoveryPointTime":{"description":"最近一次创建恢复点的时间","type":"integer","format":"int64","example":"1661419052"}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D2B255D3-9736-5169-B488-C735A8BBCD79\\\",\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"PageSize\\\": 10,\\n  \\\"PageNumber\\\": 2,\\n  \\\"TotalCount\\\": 10,\\n  \\\"Servers\\\": {\\n    \\\"server\\\": [\\n      {\\n        \\\"RecoveredInstanceName\\\": \\\"-\\\",\\n        \\\"PrimarySiteId\\\": \\\"si-000cm9ax8sgplgye2vc4\\\",\\n        \\\"ServerId\\\": \\\"sr-000cm9ax8sh2381wa7kv\\\",\\n        \\\"RecoveryUseDhcp\\\": true,\\n        \\\"RecoveryMemory\\\": 8589934592,\\n        \\\"SourceGatewayVersion\\\": \\\"3.7.3\\\",\\n        \\\"IncrementalSyncStartTime\\\": 1646049677,\\n        \\\"CrashConsistentPointPolicy\\\": \\\"\\\\\\\"{\\\\\\\\\\\\\\\"scheduleType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"CRON\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"expression\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0 0 */1 * * 0,1,2,3,4,5,6\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"initialDelay\\\\\\\\\\\\\\\":0}\\\\\\\"\\\",\\n        \\\"RecoveryPostScriptContent\\\": \\\"\\\\\\\"echo \\\\\\\\\\\\\\\"127.0.0.1 kubernetes.docker.internal\\\\\\\\\\\\\\\" >> /etc/hosts\\\\\\\"\\\",\\n        \\\"TestRecoveredInstanceId\\\": \\\"i-bp13zgzv13am2n2z92lb\\\",\\n        \\\"ReplicationNetwork\\\": \\\"vsw-2zey7xe0m8dbqrks2jb9h\\\",\\n        \\\"RecoveryUseEssd\\\": false,\\n        \\\"TargetGatewayVersion\\\": \\\"3.7.3\\\",\\n        \\\"OsType\\\": \\\"linux\\\",\\n        \\\"FullSyncStartTime\\\": 0,\\n        \\\"ReplicationUseSsd\\\": true,\\n        \\\"Rpo\\\": 30,\\n        \\\"Consistent\\\": true,\\n        \\\"FullSyncTotalSize\\\": 150202220544,\\n        \\\"RecoveredIpAddress\\\": \\\"192.168.2.2\\\",\\n        \\\"Alias\\\": \\\"test-ecs\\\",\\n        \\\"Status\\\": \\\"replicating\\\",\\n        \\\"TestFailoverStatus\\\": \\\"testFailovered\\\",\\n        \\\"ReplicationUseEssd\\\": false,\\n        \\\"OsDetail\\\": \\\"CentOS;7.9.2009\\\",\\n        \\\"TestRecoveredIpAddress\\\": \\\"192.168.2.2\\\",\\n        \\\"SecondarySiteId\\\": \\\"si-0007o5em8n6mhm8hee1l\\\",\\n        \\\"FullSyncProgress\\\": 0,\\n        \\\"RecoveryInstanceType\\\": \\\"ecs.r6.3xlarge\\\",\\n        \\\"IpAddress\\\": \\\"30.42.105.6\\\",\\n        \\\"RecoveryInstanceName\\\": \\\"HDR_Recovery-sr-000c2rz7q8tak59pt6sw\\\",\\n        \\\"OriginalInstanceId\\\": \\\"i-bp19axn91irnsi9204xg\\\",\\n        \\\"InstanceId\\\": \\\"i-bp19axn91irnsi9204xg\\\",\\n        \\\"RecoveredInstanceId\\\": \\\"i-bp19axn91irnsi9204xg\\\",\\n        \\\"RecoveryReserveIp\\\": true,\\n        \\\"Memory\\\": 4294967295,\\n        \\\"RecoveryIpAddress\\\": \\\"192.168.2.2\\\",\\n        \\\"RecoveryNetwork\\\": \\\"vsw-uf63qu8ocjcly44tai570\\\",\\n        \\\"Errno\\\": \\\"cdr.console.plugin.alicloud.agent_deploy_already_installed\\\",\\n        \\\"ReplicationUseOriginalInstance\\\": false,\\n        \\\"Hostname\\\": \\\"test\\\",\\n        \\\"RecoveryCpu\\\": 4,\\n        \\\"AgentPort\\\": 9080,\\n        \\\"ReplicationUseDhcp\\\": false,\\n        \\\"TestRecoveredInstanceName\\\": \\\"HDR_Recovery-sr-000c2rz7q8tak59pt6sw\\\",\\n        \\\"AgentVersion\\\": \\\"3.7.3\\\",\\n        \\\"FullSyncCurrentSize\\\": 1603469836288,\\n        \\\"ReplicationInfrastructureType\\\": \\\"aliyun\\\",\\n        \\\"Cpu\\\": 4,\\n        \\\"RecoveryPostScriptType\\\": \\\"SHELL\\\",\\n        \\\"ReplicationInfrastructureId\\\": \\\"is-0004ka624vrxd9xsvs4f\\\",\\n        \\\"ConnectionStatus\\\": \\\"connected\\\",\\n        \\\"Operations\\\": \\\"\\\\\\\"{\\\\\\\\\\\\\\\"Resynchronize\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TestFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TestCleanup\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ChangeRecoveryPoint\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"UnregisterServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ReversedEnableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ReversedDisableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"DisableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"CommitFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"RestartServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"UpgradeServer\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"ForcedFailover\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"RepairReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"EnableReplication\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TriggerReversedRegister\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"SetupAgent\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"TriggerRegister\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"CollectSupportBundle\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"Failback\\\\\\\\\\\\\\\":true}\\\\\\\"\\\",\\n        \\\"TaskId\\\": \\\"t-0007rvzart0v31c0x93q\\\",\\n        \\\"RecoveryUseSsd\\\": true,\\n        \\\"Disks\\\": \\\"[{\\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"0\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"boot\\\\\\\\\\\\\\\":true,\\\\\\\\\\\\\\\"size\\\\\\\\\\\\\\\":500363689984}]\\\",\\n        \\\"RecoveryEssdPerformanceLevel\\\": \\\"PL3\\\",\\n        \\\"LatestRecoveryPointTime\\\": 1661419052\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询受保护服务器","summary":"查询受保护服务器。"}