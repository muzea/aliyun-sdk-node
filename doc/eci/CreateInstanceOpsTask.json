{"summary":"调用CreateInstanceOpsTask创建一个运维任务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ContainerGroupId","in":"query","schema":{"description":"ECI实例ID。","type":"string","required":true,"example":"eci-bp1dvysdafbh00t7****"}},{"name":"OpsType","in":"query","schema":{"description":"运维任务类型。取值范围：\n\n- coredump\n- tcpdump","type":"string","required":true,"example":"coredump"}},{"name":"OpsValue","in":"query","schema":{"description":"运维任务参数。根据OpsType的取值，可设置相应参数。\n- 当OpsType取值为coredump时，OpsValue取值范围如下：\n    - enable：开启coredump。\n    - disable：关闭coredump。\n- 当OpsType取值为tcpdump时，OpsValue取值为JSON格式的参数字符串，例如`{\"Enable\":true, \"IfDeviceName\":\"eth0\"}`。具体参数如下：\n    - Enable：是否开启tcpdump，必填参数，取值为true表示开启，取值为false表示关闭。\n    - Protocol：网络协议。取值范围为tcp、udp、icmpv4。\n    - SourceIp：源IP地址。\n    - SourceCidr：源IP网段。CIDR格式。如果同时设置了IP和IP网段，在IP网段有效时，将忽略IP设置。\n    - SourcePort：源端口。取值范围为1~65535。\n    - DestIp：目的IP地址。\n    - DestCidr：目的IP网段。CIDR格式。如果同时设置了IP和IP网段，在IP网段有效时，将忽略IP设置。\n    - DestPort：目的端口。取值范围为1~65535。\n    - IfDeviceName：目标网卡。默认为eth0。\n    - Snaplen：数据包抓取长度。默认为65535字节。\n    - Duration：抓取时间。单位为秒。\n    - PacketNum：抓取数据包的目标个数。\n    - FileSize：抓取数据包的目标文件大小。单位为字节。最大为1073741824字节（即1 GB）。","type":"string","required":true,"example":"enable"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"89945DD3-9072-47D0-A318-353284CFC7B"},"Result":{"description":"运维任务执行结果。","type":"string","example":"Coredump settings has been configured successfully."}}}}},"errorCodes":{"400":[{"errorCode":"Coredump.RefrshIntervalTooShort","errorMessage":"The time interval since last setting too short, please try again later."},{"errorCode":"Ops.TypeNotSupport","errorMessage":"%s"},{"errorCode":"Coredump.RegionNotSupport","errorMessage":"%s"},{"errorCode":"CorePattern.UpdateFail","errorMessage":"Update coredump settings fail, please try again later"},{"errorCode":"Coredump.InvalidCorePatternType","errorMessage":"%s"},{"errorCode":"InvalidCorePatternValue","errorMessage":"%s"},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified instanceId does not exist"},{"errorCode":"Ops.InstanceNotSupport","errorMessage":"%s"},{"errorCode":"Ops.IntervalTooShort","errorMessage":"The time interval since last setting too short, please try again later."},{"errorCode":"Ops.RegionNotSupport","errorMessage":"%s"},{"errorCode":"Ops.OpsValueInvalid","errorMessage":"Ops value check failed, please confirm by ops type and try again later."},{"errorCode":"Ops.ExecuteTaskFail","errorMessage":"%s"},{"errorCode":"Tcpdump.InvalidValue","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"89945DD3-9072-47D0-A318-353284CFC7B\\\",\\n  \\\"Result\\\": \\\"Coredump settings has been configured successfully.\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateInstanceOpsTaskResponse>\\n    <RequestId>89945DD3-9072-47D0-A318-353284CFC7B</RequestId>\\n    <Result>Coredump settings has been configured successfully.</Result>\\n</CreateInstanceOpsTaskResponse>\",\"errorExample\":\"\"}]","title":"创建运维任务","description":"##  接口说明\n运维任务支持以下两种：\n\n- coredump：开启coredump后，在容器异常终止时，系统会生成core文件，以便您分析异常，找出问题原因。更多信息，请参见[开启coredump](~~167801~~)。\n- tcpdump：开启tcpdump后，系统将抓取网络数据包，以便您分析报文，定位网络问题。更多信息，请参见[开启tcpdump](~~429749~~)。"}