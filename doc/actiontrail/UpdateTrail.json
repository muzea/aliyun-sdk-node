{"summary":"调整操作审计跟踪的配置信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"Name","in":"query","schema":{"description":"要更新的跟踪名称。\n\n长度为6～36个字符，必须以小写英文字母开头，可包含小写英文字母、数字、短划线（-）和下划线（_）。\n\n> 同一个账号内跟踪名称不可重复。","type":"string","required":true,"docRequired":true,"example":"trail-test"}},{"name":"OssBucketName","in":"query","schema":{"description":"跟踪投递的OSS存储空间名称。\n\n长度为3～63个字符，必须以小写英文字母或者数字开头，可包含小写英文字母、数字和短划线（-）。\n\n> 更新时必须确保该存储空间已经存在。","type":"string","required":false,"example":"audit-log"}},{"name":"OssKeyPrefix","in":"query","schema":{"description":"跟踪投递的OSS存储空间文件名的前缀。\n\n长度为6～32个字符，必须以英文字母开头，可包含英文字母、数字、短划线（-）、正斜线（/）和下划线（_）。","type":"string","required":false,"example":"at-product-account-audit-B"}},{"name":"OssWriteRoleArn","in":"query","schema":{"description":"操作审计向对象存储OSS存储空间投递操作事件时，扮演的角色ARN。\n\n- 如果不指定该参数，操作审计会通过创建服务关联角色来创建相应的资源。更多信息，请参见[操作审计服务关联角色](~~169244~~)。\n- 如果指定了该参数，当您需要将事件投递到本账号时，需要为RAM角色授予操作审计服务关联角色权限。当您需要将事件投递到其他账号时，需要为RAM角色绑定操作事件投递的系统权限策略。关于如何进行跨账号投递，请参见[将多个阿里云账号的事件投递到同一账号](~~207462~~)。","type":"string","required":false,"example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"}},{"name":"SlsProjectArn","in":"query","schema":{"description":"跟踪投递的日志服务项目的ARN。","type":"string","required":false,"example":"acs:log:cn-shanghai:151266687691****:project/test-project"}},{"name":"SlsWriteRoleArn","in":"query","schema":{"description":"操作审计向日志服务项目投递操作事件时，扮演的角色ARN。\n\n- 如果不指定该参数，操作审计会通过创建服务关联角色来创建相应的资源。更多信息，请参见[操作审计服务关联角色](~~169244~~)。\n- 如果指定了该参数，当您需要将事件投递到本账号时，需要为RAM角色授予操作审计服务关联角色权限。当您需要将事件投递到其他账号时，需要为RAM角色绑定操作事件投递的系统权限策略。关于如何进行跨账号投递，请参见[将多个阿里云账号的事件投递到同一账号](~~207462~~)。","type":"string","required":false,"example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"}},{"name":"EventRW","in":"query","schema":{"description":"投递事件的读写类型，取值：\n- Write（默认值）：写类型。\n- Read：读类型。\n- All：读类型和写类型。","type":"string","required":false,"example":"All"}},{"name":"TrailRegion","in":"query","schema":{"description":"跟踪的地域。\n  \n- 默认值为All，表示跟踪全部地域的事件。  \n\n您也可以指定具体的地域。关于地域的更多信息，请调用[DescribeRegions](~~213597~~)接口查询。","type":"string","required":false,"example":"All"}},{"name":"MaxComputeProjectArn","in":"query","schema":{"description":"跟踪投递的大数据计算服务项目的ARN。\n\n> MaxComputeProjectArn中指定的大数据计算服务项目名称必须以actiontrail_作为前缀。","type":"string","required":false,"example":"acs:odps:cn-hangzhou:151266687691****:project/actiontrail_****"}},{"name":"MaxComputeWriteRoleArn","in":"query","schema":{"description":"操作审计向日志服务项目投递操作事件时，扮演的角色ARN。\n\n- 如果不指定该参数，操作审计会通过创建服务关联角色来创建相应的资源。更多信息，请参见[操作审计服务关联角色](~~169244~~)。\n- 如果指定了该参数，当您需要将事件投递到本账号时，需要为RAM角色授予操作审计服务关联角色权限。当您需要将事件投递到其他账号时，需要为RAM角色绑定操作事件投递的系统权限策略。关于如何进行跨账号投递，请参见[将多个阿里云账号的事件投递到同一账号](~~207462~~)。","type":"string","required":false,"example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SlsProjectArn":{"description":"跟踪投递的日志服务项目的ARN。","type":"string","example":"acs:log:cn-hangzhou:151266687691****:project/test-project"},"OssWriteRoleArn":{"description":"操作审计向对象存储OSS存储空间投递操作事件时，扮演的角色ARN。","type":"string","example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"},"EventRW":{"description":"投递事件的读写类型。","type":"string","example":"Write"},"RequestId":{"description":"请求ID。","type":"string","example":"2599A180-5236-44D8-9490-50B6F4F8BA35"},"HomeRegion":{"description":"跟踪的Home地域。","type":"string","example":"cn-hangzhou"},"OssKeyPrefix":{"description":"OSS存储空间文件名的前缀。","type":"string","example":"at-product-account-audit-B"},"OssBucketName":{"description":"OSS存储空间名称。","type":"string","example":"audit-log"},"SlsWriteRoleArn":{"description":"操作审计向日志服务项目投递操作事件时，扮演的角色ARN。","type":"string","example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"},"TrailRegion":{"description":"跟踪的地域。","type":"string","example":"All"},"Name":{"description":"跟踪名称。","type":"string","example":"trail-test"},"MaxComputeProjectArn":{"description":"跟踪投递的大数据计算服务项目的ARN。","type":"string","example":"acs:odps:cn-hangzhou:151266687691****:project/actiontrail_****"},"MaxComputeWriteRoleArn":{"description":"操作审计向大数据计算服务项目投递操作事件时，扮演的角色ARN。","type":"string","example":"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail"}}}}},"errorCodes":{"400":[{"errorCode":"RepeatOssBucket","errorMessage":"The specified OSS bucket is already in use. We recommend that you modify the existing Trail or specify another bucket."},{"errorCode":"SlsProjectDoesNotExistException","errorMessage":"The specified Log Service project does not exist."},{"errorCode":"IncompleteSignature","errorMessage":"The request signature does not conform to Alibaba Cloud standards."},{"errorCode":"InvalidDeliveryConfigurationException","errorMessage":"You must specify at least one Log Service project or OSS bucket for a Trail."},{"errorCode":"InvalidPrefixException","errorMessage":"The specified OSS bucket prefix is invalid."}],"403":[{"errorCode":"InsufficientBucketPolicyException","errorMessage":"Access to the specified OSS bucket was denied."},{"errorCode":"InsufficientSlsPolicyException","errorMessage":"Access to the specified Log Service project was denied."}],"404":[{"errorCode":"TrailNotFoundException","errorMessage":"The specified Trail does not exist."},{"errorCode":"BucketDoesNotExistException","errorMessage":"The specified OSS bucket does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SlsProjectArn\\\": \\\"acs:log:cn-hangzhou:151266687691****:project/test-project\\\",\\n  \\\"OssWriteRoleArn\\\": \\\"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail\\\",\\n  \\\"EventRW\\\": \\\"Write\\\",\\n  \\\"RequestId\\\": \\\"2599A180-5236-44D8-9490-50B6F4F8BA35\\\",\\n  \\\"HomeRegion\\\": \\\"cn-hangzhou\\\",\\n  \\\"OssKeyPrefix\\\": \\\"at-product-account-audit-B\\\",\\n  \\\"OssBucketName\\\": \\\"audit-log\\\",\\n  \\\"SlsWriteRoleArn\\\": \\\"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail\\\",\\n  \\\"TrailRegion\\\": \\\"All\\\",\\n  \\\"Name\\\": \\\"trail-test\\\",\\n  \\\"MaxComputeProjectArn\\\": \\\"acs:odps:cn-hangzhou:151266687691****:project/actiontrail_****\\\",\\n  \\\"MaxComputeWriteRoleArn\\\": \\\"acs:ram::151266687691****:role/aliyunserviceroleforactiontrail\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"更新跟踪","description":"本文将提供一个示例，将跟踪`trail-test`投递的OSS存储空间更新为`audit-log`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~185885~~)。"}