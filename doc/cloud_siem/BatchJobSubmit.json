{"summary":"支持用户通过资源目录架构配置日志接入任务。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"169774","abilityTreeNodes":["FEATUREsas5NAHBX"]},"parameters":[{"name":"JsonConfig","in":"formData","schema":{"description":"任务提交配置，JSON格式。可使用[JobConfigBuilder](https://github.com/aliyun/cloud-siem-client/blob/master/src/main/java/com/aliyun/security/cloudsiem/client/sample/JobBuilderSample.java)自动生成。","type":"string","required":false,"example":"{{\"autoSubmit\":false,\"configName\":\"test_builder\",\"folderConfig\":{\"folderId\":\"rd-EUx7Qp\",\"prodConfig\":[{\"allLogs\":false,\"allRegions\":false,\"logConfig\":[{\"logCode\":\"cloud_siem_rds_audit_log\",\"logStorePattern\":\"vpc-test\",\"projectPattern\":\"vpc-test\"}],\"prodCode\":\"rds\",\"regions\":[\"cn-shanghai\"]},{\"allLogs\":true,\"allRegions\":true,\"prodCode\":\"sas\"}],\"type\":\"folder\"},\"listenRdChange\":false,\"logConfigs\":{\"cloud_siem_rds_audit_log\":{\"logCode\":\"cloud_siem_rds_audit_log\",\"logStorePattern\":\"vpc-test\",\"projectPattern\":\"vpc-test\"}}}}"}},{"name":"RegionId","in":"formData","schema":{"description":"产品所在地域，默认为cn-shanghai。","type":"string","required":false,"example":"cn-shanghai"}}],"responses":{"200":{"headers":{},"schema":{"title":"CloudSiemResponse<BatchJobSubmitResult>","description":"CloudSiemResponse<BatchJobSubmitResult>","type":"object","properties":{"Data":{"description":"返回的具体数据。","type":"object","properties":{"SubmitId":{"description":"任务提交ID，基于资源目录ID，文件夹ID，主账号ID生成。","type":"string","example":"BATCH_JOB_XXXXXX"},"ConfigList":{"title":"key = task name","description":"生成的接入任务配置列表。","type":"array","items":{"type":"object","properties":{"UserId":{"description":"阿里云账号ID。","type":"integer","format":"int64","example":"123xxxxxx"},"ProductList":{"description":"产品列表。","type":"array","items":{"type":"object","properties":{"ProductCode":{"description":"产品Code。","type":"string","example":"sas"},"LogList":{"description":"日志列表。","type":"array","items":{"type":"object","properties":{"ProductCode":{"description":"产品Code。","type":"string","example":"sas"},"LogCode":{"description":"日志Code。","type":"string","example":"cloud_siem_cfw_flow"},"RegionCode":{"description":"地域ID。","type":"string","example":"cn-shanghai"},"ProjectNamePattern":{"description":"SLS Project Name模式。","type":"string","example":"vpc-test-project"},"LogStoreNamePattern":{"description":"SLS LogStore Name模式。","type":"string","example":"vpc-test-logstore"},"ErrorCode":{"description":"任务失败原因。","type":"string","example":"ProjectLogstoreNotFound"}}}}}}}}}},"TaskCount":{"description":"提交接入任务总数。","type":"integer","format":"int32","example":"20"},"ConfigId":{"description":"配置ID，后台自动生成。","type":"string","example":"xxxx_folder_xxxx"}}},"Success":{"description":"请求是否成功。取值：\n- **true**：成功\n- **false**：失败","type":"boolean","example":"true"},"Code":{"description":"请求状态码，返回200代表请求成功。","type":"integer","format":"int32","example":"200"},"Message":{"description":"请求返回的Message，成功为success，失败返回具体的失败原因。","type":"string","example":"success"},"ErrCode":{"description":"请求成功为空，调用出错时返回的具体错误码。","type":"string","example":"ServerError"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"5B0DFF6D-XXXX"}}}}},"errorCodes":{"501":[{"errorCode":"CloudSiem_Internal_Exception","errorMessage":"CloudSiem_Internal_Exception"}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": {\\n    \\\"SubmitId\\\": \\\"BATCH_JOB_XXXXXX\\\",\\n    \\\"ConfigList\\\": [\\n      {\\n        \\\"UserId\\\": 0,\\n        \\\"ProductList\\\": [\\n          {\\n            \\\"ProductCode\\\": \\\"sas\\\",\\n            \\\"LogList\\\": [\\n              {\\n                \\\"ProductCode\\\": \\\"sas\\\",\\n                \\\"LogCode\\\": \\\"cloud_siem_cfw_flow\\\",\\n                \\\"RegionCode\\\": \\\"cn-shanghai\\\",\\n                \\\"ProjectNamePattern\\\": \\\"vpc-test-project\\\",\\n                \\\"LogStoreNamePattern\\\": \\\"vpc-test-logstore\\\",\\n                \\\"ErrorCode\\\": \\\"ProjectLogstoreNotFound\\\"\\n              }\\n            ]\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"TaskCount\\\": 20,\\n    \\\"ConfigId\\\": \\\"xxxx_folder_xxxx\\\"\\n  },\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"ErrCode\\\": \\\"ServerError\\\",\\n  \\\"RequestId\\\": \\\"5B0DFF6D-XXXX\\\"\\n}\",\"type\":\"json\"}]","title":"按资源目录批量提交产品接入任务","description":"入参JsonConfig是一个非常复杂的JSON配置，为此我们提供了辅助工具类帮助具体配置示例，请参考[Demo](https://github.com/aliyun/cloud-siem-client/blob/master/src/main/java/com/aliyun/security/cloudsiem/client/sample/JobBuilderSample.java)。"}