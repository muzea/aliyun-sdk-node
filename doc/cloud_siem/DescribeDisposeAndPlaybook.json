{"summary":"获取需要被处置的实体列表与剧本列表。","methods":["get","post"],"schemes":["https","http"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"EntityType","in":"formData","schema":{"title":"实体类型。取值：\n- ip：ip\n- process：进程\n- file：文件机","description":"实体类型。取值：\n- ip：ip\n- process：进程\n- file：文件","type":"string","required":false,"example":"ip"}},{"name":"IncidentUuid","in":"formData","schema":{"title":"事件id。","description":"事件UUID。","type":"string","required":false,"example":"85ea4241-798f-4684-a876-65d4f0c3****"}},{"name":"CurrentPage","in":"formData","schema":{"title":"列表当前页号， 大于等于1。","description":"列表当前页号， 大于等于1。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"formData","schema":{"title":"列表每页条数， 最大不超过100。","description":"列表每页条数， 最大不超过100。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"RoleType","in":"formData","schema":{"description":"视图类型。\n\n- 0：当前阿里云账号视图。\n- 1：企业下所有账号的视图。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"RoleFor","in":"formData","schema":{"description":"管理员切换成其他成员视角的用户ID。","type":"integer","format":"int64","required":false,"example":"113091674488****"}},{"name":"RegionId","in":"formData","schema":{"title":"威胁分析的数据管理中心所在地。您需要根据资产所在地域，选择管理中心所在地。取值：\n- cn-hangzhou：资产属于中国内地与中国香港\n- ap-southeast-1：资产属于海外地域","description":"威胁分析的数据管理中心所在地。您需要根据资产所在地域，选择管理中心所在地。取值：\n- cn-hangzhou：资产属于中国内地与中国香港\n- ap-southeast-1：资产属于海外地域","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"PageResponse<List<DisposeAndScopeView>>","description":"PageResponse<List<DisposeAndScopeView>>","type":"object","properties":{"Success":{"title":"请求是否成功。取值：\n- true:成功\n- false：失败","description":"请求是否成功。取值：\n- true：成功\n- false：失败","type":"boolean","example":"true"},"Code":{"title":"请求状态码。","description":"请求状态码。","type":"integer","format":"int32","example":"200"},"Message":{"title":"请求返回消息。","description":"请求返回消息。","type":"string","example":"success"},"RequestId":{"title":"请求id。","description":"请求ID。","type":"string","example":"9AAA9ED9-78F4-5021-86DC-D51C7511****"},"Data":{"title":"请求返回值。","description":"请求返回值。","type":"object","properties":{"PageInfo":{"title":"分页记录。","description":"分页记录。","type":"object","properties":{"CurrentPage":{"title":"列表当前页号。","description":"列表当前页号。","type":"integer","format":"int32","example":"1"},"PageSize":{"title":"每页返回记录数。","description":"每页返回记录数。","type":"integer","format":"int32","example":"10"},"TotalCount":{"title":"记录总数。","description":"记录总数。","type":"integer","format":"int64","example":"100"}}},"ResponseData":{"title":"详细数据。","description":"详细数据。","type":"array","items":{"type":"object","properties":{"EntityId":{"title":"实体id。","description":"实体ID。","type":"integer","format":"int64","example":"12345****"},"OpcodeMap":{"title":"实体id。","description":"opcode与oplevel键值对。","type":"object","additionalProperties":{"type":"string","example":"{\"7\",\"2\"}","description":"opcode与oplevel键值对。"},"example":"12345"},"OpcodeSet":{"title":"实体处置推荐剧本code。","description":"实体处置推荐剧本code。","type":"array","items":{"description":"实体处置推荐剧本code。","type":"string","example":"7"},"example":"[1,3]"},"EntityInfo":{"title":"实体信息。","description":"实体信息。","type":"object","example":"{\"file_path\": \"c:/www/leixi.jsp\",\"file_hash\": \"aa0ca926ad948cd820e0a3d9a18c****\",\"host_uuid\": \"efed2cf7-0b77-45d9-a97b-d2cf246b****\",\"malware_type\": \"${aliyun.siem.sas.alert_tag.webshell}\",\"host_name\": \"launch-advisor-2023****\"}"},"Dispose":{"title":"处置对象。","description":"处置对象。","type":"string","example":"192.168.*.*"},"Scope":{"title":"处置作用域，可进行处置用户id列表。","description":"处置作用域，可进行处置用户ID列表。","type":"array","items":{"description":"处置作用域，可进行处置用户ID列表。","type":"any","example":"[127608589417****]"},"example":"176618589410****"},"PlaybookList":{"title":"能够处置该实体的剧本列表。","description":"能够处置该实体的剧本列表。","type":"array","items":{"type":"object","properties":{"OpCode":{"title":"剧本opcode，与处置实体的推荐剧本opcode相对应。","description":"剧本opcode，与处置实体的推荐剧本opcode相对应。","type":"string","example":"7"},"OpLevel":{"title":"事件一键处置是否默认勾选，2：勾选 1：只展示不勾选。","description":"事件一键处置是否默认勾选。取值：\n\n- 2：勾选 \n- 1：只展示不勾选","type":"string","example":"2"},"Description":{"title":"剧本描述。","description":"剧本描述。","type":"string","example":"WafBlockIP"},"DisplayName":{"title":"剧本显示名称。","description":"剧本显示名称。","type":"string","example":"WafBlockIP"},"TaskConfig":{"title":"opcode配置。","description":"opcode配置。","type":"string","example":"{\"opCode\":\"3\"}"},"Name":{"title":"剧本名称，剧本唯一标识。","description":"剧本名称，剧本唯一标识。","type":"string","example":"kill_process_isolate_file"},"ParamConfig":{"title":"剧本的参数列表以及对应参数属性","description":"剧本的参数列表以及对应参数属性","type":"array","items":{"description":"当前剧本的入参列表以及入参格式要求。","type":"any","example":"{\n\t\"ParamConfig\": [\n\t\t{\n\t\t\t\"Field\": \"dispose\",\n\t\t\t\"Necessary\": true,\n\t\t\t\"CheckField\": \"[{&quot;fieldPath&quot;:&quot;$.ip&quot;,&quot;fieldName&quot;:&quot;ip&quot;}]\"\n\t\t},\n\t\t{\n\t\t\t\"Field\": \"alert\",\n\t\t\t\"Necessary\": true,\n\t\t\t\"CheckField\": \"[{&quot;fieldPath&quot;:&quot;$.host_uuid&quot;,&quot;fieldName&quot;:&quot;host_uuid&quot;}]\"\n\t\t},\n\t\t{\n\t\t\t\"Field\": \"scope\",\n\t\t\t\"Necessary\": true,\n\t\t\t\"Value\": \"$.main_user_id\"\n\t\t},\n\t\t{\n\t\t\t\"Field\": \"startTime\",\n\t\t\t\"Necessary\": true\n\t\t},\n\t\t{\n\t\t\t\"Field\": \"endTime\",\n\t\t\t\"Necessary\": true\n\t\t}\n\t]\n}"}},"WafPlaybook":{"title":"是否是waf剧本。","description":"是否是waf剧本。取值：\n\n- true：是\n- false：不是","type":"boolean","example":"false"}}},"example":"[{\"name\":\"云安全中心-云服务器安全\",\"code\":\"1\"}]"},"AlertNum":{"title":"该实体关联的告警数。","description":"该实体关联的告警数。","type":"integer","format":"int32","example":"1"}}}}},"example":"123456"}}}}},"errorCodes":{"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"9AAA9ED9-78F4-5021-86DC-D51C7511****\\\",\\n  \\\"Data\\\": {\\n    \\\"PageInfo\\\": {\\n      \\\"CurrentPage\\\": 1,\\n      \\\"PageSize\\\": 10,\\n      \\\"TotalCount\\\": 100\\n    },\\n    \\\"ResponseData\\\": [\\n      {\\n        \\\"EntityId\\\": 0,\\n        \\\"OpcodeMap\\\": {\\n          \\\"key\\\": \\\"{\\\\\\\"7\\\\\\\",\\\\\\\"2\\\\\\\"}\\\"\\n        },\\n        \\\"OpcodeSet\\\": [\\n          \\\"7\\\"\\n        ],\\n        \\\"EntityInfo\\\": {\\n          \\\"file_path\\\": \\\"c:/www/leixi.jsp\\\",\\n          \\\"file_hash\\\": \\\"aa0ca926ad948cd820e0a3d9a18c****\\\",\\n          \\\"host_uuid\\\": \\\"efed2cf7-0b77-45d9-a97b-d2cf246b****\\\",\\n          \\\"malware_type\\\": \\\"${aliyun.siem.sas.alert_tag.webshell}\\\",\\n          \\\"host_name\\\": \\\"launch-advisor-2023****\\\"\\n        },\\n        \\\"Dispose\\\": \\\"192.168.*.*\\\",\\n        \\\"Scope\\\": [\\n          \\\"[127608589417****]\\\"\\n        ],\\n        \\\"PlaybookList\\\": [\\n          {\\n            \\\"OpCode\\\": \\\"7\\\",\\n            \\\"OpLevel\\\": \\\"2\\\",\\n            \\\"Description\\\": \\\"WafBlockIP\\\",\\n            \\\"DisplayName\\\": \\\"WafBlockIP\\\",\\n            \\\"TaskConfig\\\": \\\"{\\\\\\\"opCode\\\\\\\":\\\\\\\"3\\\\\\\"}\\\",\\n            \\\"Name\\\": \\\"kill_process_isolate_file\\\",\\n            \\\"ParamConfig\\\": [\\n              \\\"{\\\\n\\\\t\\\\\\\"ParamConfig\\\\\\\": [\\\\n\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\\\\"Field\\\\\\\": \\\\\\\"dispose\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\\\\"Necessary\\\\\\\": true,\\\\n\\\\t\\\\t\\\\t\\\\\\\"CheckField\\\\\\\": \\\\\\\"[{&quot;fieldPath&quot;:&quot;$.ip&quot;,&quot;fieldName&quot;:&quot;ip&quot;}]\\\\\\\"\\\\n\\\\t\\\\t},\\\\n\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\\\\"Field\\\\\\\": \\\\\\\"alert\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\\\\"Necessary\\\\\\\": true,\\\\n\\\\t\\\\t\\\\t\\\\\\\"CheckField\\\\\\\": \\\\\\\"[{&quot;fieldPath&quot;:&quot;$.host_uuid&quot;,&quot;fieldName&quot;:&quot;host_uuid&quot;}]\\\\\\\"\\\\n\\\\t\\\\t},\\\\n\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\\\\"Field\\\\\\\": \\\\\\\"scope\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\\\\"Necessary\\\\\\\": true,\\\\n\\\\t\\\\t\\\\t\\\\\\\"Value\\\\\\\": \\\\\\\"$.main_user_id\\\\\\\"\\\\n\\\\t\\\\t},\\\\n\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\\\\"Field\\\\\\\": \\\\\\\"startTime\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\\\\"Necessary\\\\\\\": true\\\\n\\\\t\\\\t},\\\\n\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\\\\"Field\\\\\\\": \\\\\\\"endTime\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\\\\"Necessary\\\\\\\": true\\\\n\\\\t\\\\t}\\\\n\\\\t]\\\\n}\\\"\\n            ],\\n            \\\"WafPlaybook\\\": false\\n          }\\n        ],\\n        \\\"AlertNum\\\": 1\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取需要被处置的实体列表与剧本列表"}