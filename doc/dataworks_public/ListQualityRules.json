{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"78331","abilityTreeNodes":["FEATUREdide3WJOKE"]},"parameters":[{"name":"ProjectName","in":"formData","schema":{"description":"引擎或者数据源的名称。您可以从数据源配置中获取名称。","type":"string","required":true,"docRequired":true,"example":"autotest"}},{"name":"EntityId","in":"formData","schema":{"description":"分区表达式的ID。您可以调用[GetQualityEntity](~~174003~~)获取分区表达式ID。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1234"}},{"name":"PageNumber","in":"formData","schema":{"description":"页码数。","type":"integer","format":"int32","required":true,"docRequired":true,"minimum":"1","example":"1"}},{"name":"PageSize","in":"formData","schema":{"description":"每页显示的条数，默认为10条，最大为20条。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"20","minimum":"1","example":"20"}},{"name":"ProjectId","in":"formData","schema":{"description":"DataWorks项目空间ID","type":"integer","format":"int64","required":true,"docRequired":true,"example":"12345"}}],"responses":{"200":{"schema":{"description":"返回数据结构。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP返回码。","type":"integer","format":"int32","example":"200"},"RequestId":{"description":"请求ID，用于后续错误排查使用。","type":"string","example":"38cbdef0-f6cf-49****"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"You have no permission."},"Success":{"description":"调用是否成功，取值如下：\n- true：调用成功。\n- false：调用失败。","type":"boolean","example":"true"},"ErrorCode":{"description":"错误码。","type":"string","example":"Invalid.Tenant.ConnectionNotExists"},"Data":{"description":"获取的规则列表。","type":"object","properties":{"PageNumber":{"description":"页码数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示的条数，默认为10条，最大为100条。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"返回数据总量。","type":"integer","format":"int64","example":"400"},"Rules":{"description":"校验规则的详情。","type":"array","items":{"description":"返回数据结构。","type":"object","properties":{"BlockType":{"description":"校验规则的强弱。强弱表示规则的重要程度。取值如下：\n- 1，表示强规则。\n- 0，表示弱规则。\n您可以根据实际需求设置重要的规则为强规则。如果使用强规则并触发了红色告警，则会阻塞调度任务。","type":"integer","format":"int32","example":"0"},"OnDutyAccountName":{"description":"配置校验规则的阿里云账号名称。","type":"string","example":"test"},"Property":{"description":"字段的名称。","type":"string","example":"id"},"WarningThreshold":{"description":"橙色告警阈值。表示与样本预期的偏离程度，您可以根据业务需求自定义该阈值。","type":"string","example":"10"},"TableName":{"description":"表的名称。","type":"string","example":"dual"},"OnDuty":{"description":"配置校验规则的账号ID。","type":"string","example":"1912****"},"Comment":{"description":"规则的描述信息。","type":"string","example":"校验表规则"},"RuleCheckerRelationId":{"description":"规则详情的内部关联ID。","type":"integer","format":"int64","example":"132323"},"FixCheck":{"description":"固定值校验。","type":"boolean","example":"true"},"MethodId":{"description":"采集样本数据方法的ID。","type":"integer","format":"int32","example":"21"},"TemplateName":{"description":"使用的校验模板的名称。","type":"string","example":"sql任务表行数，1、7、30天波动检测"},"Trend":{"description":"校验结果的趋势。","type":"string","example":"abs"},"HistoryWarningThreshold":{"description":"历史橙色告警阈值。","type":"string","example":"history max:40%,history min:10%"},"RuleType":{"description":"规则的类型：\n- 0表示系统创建。\n- 1表示用户创建。\n- 2表示项目级规则。","type":"integer","format":"int32","example":"0"},"MatchExpression":{"description":"分区表达式。","type":"string","example":"dt=$[yyyymmdd]"},"ProjectName":{"description":"引擎或者数据源的名称。","type":"string","example":"autotest"},"PropertyKey":{"description":"用于数据质量前端规则联动，可以忽略。","type":"string","example":"table_count"},"CriticalThreshold":{"description":"红色告警阈值。表示与样本预期的偏离程度。您可以根据业务需求自定义该阈值。使用强规则并触发红色阈值，会阻塞调度任务。","type":"string","example":"40"},"HistoryCriticalThreshold":{"description":"历史红色告警阈值。","type":"string","example":"history max:80%,history min:50%"},"MethodName":{"description":"采集样本数据方法的名称。包括avg、count、sum、min、max、count_distinct、user_defined、table_count、table_size、table_dt_load_count、table_dt_refuseload_count、null_value、null_value/table_count、(table_count-count_distinct)/table_count、table_count-count_distinct等。","type":"string","example":"count/table_count"},"CheckerId":{"description":"校验器ID。","type":"integer","format":"int32","example":"7"},"EntityId":{"description":"分区表达式的ID。","type":"integer","format":"int64","example":"1234"},"ExpectValue":{"description":"期望值。","type":"string","example":"1000"},"TemplateId":{"description":"使用的校验模板的ID。","type":"integer","format":"int32","example":"7"},"Id":{"description":"规则的ID。","type":"integer","format":"int64","example":"1234"},"RuleName":{"title":"规则名称","description":"规则名称。","type":"string","example":"test"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"RequestId\\\": \\\"38cbdef0-f6cf-49****\\\",\\n  \\\"ErrorMessage\\\": \\\"You have no permission.\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorCode\\\": \\\"Invalid.Tenant.ConnectionNotExists\\\",\\n  \\\"Data\\\": {\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 400,\\n    \\\"Rules\\\": [\\n      {\\n        \\\"BlockType\\\": 0,\\n        \\\"OnDutyAccountName\\\": \\\"test\\\",\\n        \\\"Property\\\": \\\"id\\\",\\n        \\\"WarningThreshold\\\": \\\"10\\\",\\n        \\\"TableName\\\": \\\"dual\\\",\\n        \\\"OnDuty\\\": \\\"1912****\\\",\\n        \\\"Comment\\\": \\\"校验表规则\\\",\\n        \\\"RuleCheckerRelationId\\\": 132323,\\n        \\\"FixCheck\\\": true,\\n        \\\"MethodId\\\": 21,\\n        \\\"TemplateName\\\": \\\"sql任务表行数，1、7、30天波动检测\\\",\\n        \\\"Trend\\\": \\\"abs\\\",\\n        \\\"HistoryWarningThreshold\\\": \\\"history max:40%,history min:10%\\\",\\n        \\\"RuleType\\\": 0,\\n        \\\"MatchExpression\\\": \\\"dt=$[yyyymmdd]\\\",\\n        \\\"ProjectName\\\": \\\"autotest\\\",\\n        \\\"PropertyKey\\\": \\\"table_count\\\",\\n        \\\"CriticalThreshold\\\": \\\"40\\\",\\n        \\\"HistoryCriticalThreshold\\\": \\\"history max:80%,history min:50%\\\",\\n        \\\"MethodName\\\": \\\"count/table_count\\\",\\n        \\\"CheckerId\\\": 7,\\n        \\\"EntityId\\\": 1234,\\n        \\\"ExpectValue\\\": \\\"1000\\\",\\n        \\\"TemplateId\\\": 7,\\n        \\\"Id\\\": 1234,\\n        \\\"RuleName\\\": \\\"test\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListQualityRulesResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <RequestId>38cbdef0-f6cf-49****</RequestId>\\n    <ErrorMessage>You have no permission.</ErrorMessage>\\n    <Success>true</Success>\\n    <ErrorCode>Invalid.Tenant.ConnectionNotExists</ErrorCode>\\n    <Data>\\n        <PageNumber>1</PageNumber>\\n        <PageSize>20</PageSize>\\n        <TotalCount>400</TotalCount>\\n        <Rules>\\n            <BlockType>0</BlockType>\\n            <OnDutyAccountName>test</OnDutyAccountName>\\n            <Property>id</Property>\\n            <WarningThreshold>10</WarningThreshold>\\n            <TableName>dual</TableName>\\n            <OnDuty>1912****</OnDuty>\\n            <Comment>校验表规则</Comment>\\n            <RuleCheckerRelationId>132323</RuleCheckerRelationId>\\n            <FixCheck>true</FixCheck>\\n            <MethodId>21</MethodId>\\n            <TemplateName>sql任务表行数，1、7、30天波动检测</TemplateName>\\n            <Trend>abs</Trend>\\n            <HistoryWarningThreshold>history max:40%,history min:10%</HistoryWarningThreshold>\\n            <RuleType>0</RuleType>\\n            <MatchExpression>dt=$[yyyymmdd]</MatchExpression>\\n            <ProjectName>autotest</ProjectName>\\n            <PropertyKey>table_count</PropertyKey>\\n            <CriticalThreshold>40</CriticalThreshold>\\n            <HistoryCriticalThreshold>history max:80%,history min:50%</HistoryCriticalThreshold>\\n            <MethodName>count/table_count</MethodName>\\n            <CheckerId>7</CheckerId>\\n            <EntityId>1234</EntityId>\\n            <ExpectValue>1000</ExpectValue>\\n            <TemplateId>7</TemplateId>\\n            <Id>1234</Id>\\n            <RuleName>test</RuleName>\\n        </Rules>\\n    </Data>\\n</ListQualityRulesResponse>\",\"errorExample\":\"\"}]","title":"根据分区表达式获取规则列表","summary":"调用ListQualityRules根据分区表达式获取校验规则列表。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}