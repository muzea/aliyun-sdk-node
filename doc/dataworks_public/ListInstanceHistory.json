{"summary":"调用ListInstanceHistory，获取所有实例历史记录，任务重跑一次就会生成一条历史记录。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"146270","abilityTreeNodes":["FEATUREdide7WF1GB"]},"parameters":[{"name":"InstanceId","in":"formData","schema":{"description":"实例的ID。您可以调用ListInstances获取。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1234"}},{"name":"ProjectEnv","in":"formData","schema":{"description":"工作空间的环境，包括PROD（生产环境）和DEV（开发环境），默认获取PROD（生产环境）的实例数据。","type":"string","required":false,"example":"PROD","default":"PROD"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求的ID。用于定位日志，排查问题。","type":"string","example":"E6F0DBDD-5AD****"},"Success":{"description":"调用是否成功。取值如下：\n- true：调用成功。\n- false：调用失败。","type":"boolean","example":"true"},"Instances":{"description":"实例列表","type":"array","items":{"description":"实例详情","type":"object","properties":{"Status":{"description":"任务的状态，取值如下：\n\n- NOT_RUN（未运行）\n- WAIT_TIME（等待定时时间DueTime或CycTime到来）\n- WAIT_RESOURCE（等待资源）\n- RUNNING（运行中）\n- CHECKING（下发给数据质量进行数据校检）\n- CHECKING_CONDITION（正在进行分支条件校检）\n- FAILURE（执行失败）\n- SUCCESS（执行成功）","type":"string","example":"NOT_RUN"},"CycTime":{"description":"调度任务的运行时间，返回时间戳格式。","type":"integer","format":"int64","example":"1590422400000"},"BeginRunningTime":{"description":"实例开始运行的时间，返回时间戳格式。","type":"integer","format":"int64","example":"1590416703313"},"FinishTime":{"description":"调度任务的结束时间，返回时间戳格式。","type":"integer","format":"int64","example":"1590416703313"},"ErrorMessage":{"description":"实例运行的报错信息。该字段已废弃，您可以调用GetInstanceLog接口获取执行任务的相关报错信息。","type":"string","example":"error message"},"CreateTime":{"description":"实例的创建时间。","type":"integer","format":"int64","example":"1590416703313"},"DagId":{"description":"工作流的ID。","type":"integer","format":"int64","example":"33845"},"TaskType":{"description":"任务实例的调度类型，取值如下：\n\n- NORMAL(0)：正常调度任务。该任务被日常调度。\n- MANUAL(1)：手动任务。该任务不会被日常调度。\n- PAUSE(2)：冻结任务。该任务被日常调度，但启动调度时直接被置为失败状态。\n- SKIP(3)：空跑任务。该任务被日常调度，但启动调度时直接被置为成功状态。\n- SKIP_UNCHOOSE(4)：临时工作流中未选择的任务，仅存在于临时工作流中，启动调度时直接被置为成功状态。\n- SKIP_CYCLE(5)：未到运行周期的周或月任务。该任务被日常调度，但启动调度时直接被置为成功状态。\n- CONDITION_UNCHOOSE(6)：上游实例中有分支（IF）节点，但是该下游节点未被分支节点选中，直接置为空跑任务。\n- REALTIME_DEPRECATED(7)：实时生成的已经过期的周期实例，该类型的任务直接被置为成功状态。","type":"string","example":"NORMAL(0)"},"DagType":{"description":"DQC类型，取值如下：\n\n- 0表示有关联dqc。\n- 1表示没有关联dqc。","type":"string","example":"1"},"ModifyTime":{"description":"调度任务的最新修改时间。","type":"integer","format":"int64","example":"1590416703313"},"InstanceId":{"description":"实例的ID。","type":"integer","format":"int64","example":"1234"},"BeginWaitResTime":{"description":"实例任务开始等待资源的时间。","type":"integer","format":"int64","example":"1590416703313"},"Bizdate":{"description":"执行调度任务的日期。通常为该任务运行时间的前一天。","type":"integer","format":"int64","example":"1590336000000"},"NodeName":{"description":"节点的名称。","type":"string","example":"kzh"},"BeginWaitTimeTime":{"description":"实例任务开始等待调度的时间。","type":"integer","format":"int64","example":"1590416703313"},"NodeId":{"description":"节点的ID。","type":"integer","format":"int64","example":"33115"},"InstanceHistoryId":{"description":"实例的历史档案编号。","type":"integer","format":"int64","example":"1"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E6F0DBDD-5AD****\\\",\\n  \\\"Success\\\": true,\\n  \\\"Instances\\\": [\\n    {\\n      \\\"Status\\\": \\\"NOT_RUN\\\",\\n      \\\"CycTime\\\": 1590422400000,\\n      \\\"BeginRunningTime\\\": 1590416703313,\\n      \\\"FinishTime\\\": 1590416703313,\\n      \\\"ErrorMessage\\\": \\\"error message\\\",\\n      \\\"CreateTime\\\": 1590416703313,\\n      \\\"DagId\\\": 33845,\\n      \\\"TaskType\\\": \\\"NORMAL(0)\\\",\\n      \\\"DagType\\\": \\\"1\\\",\\n      \\\"ModifyTime\\\": 1590416703313,\\n      \\\"InstanceId\\\": 1234,\\n      \\\"BeginWaitResTime\\\": 1590416703313,\\n      \\\"Bizdate\\\": 1590336000000,\\n      \\\"NodeName\\\": \\\"kzh\\\",\\n      \\\"BeginWaitTimeTime\\\": 1590416703313,\\n      \\\"NodeId\\\": 33115,\\n      \\\"InstanceHistoryId\\\": 1\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListInstanceHistoryResponse>\\n    <RequestId>E6F0DBDD-5AD****</RequestId>\\n    <Success>true</Success>\\n    <Instances>\\n        <Status>NOT_RUN</Status>\\n        <CycTime>1590422400000</CycTime>\\n        <BeginRunningTime>1590416703313</BeginRunningTime>\\n        <FinishTime>1590416703313</FinishTime>\\n        <ErrorMessage>error message</ErrorMessage>\\n        <CreateTime>1590416703313</CreateTime>\\n        <DagId>33845</DagId>\\n        <TaskType>NORMAL(0)</TaskType>\\n        <DagType>1</DagType>\\n        <ModifyTime>1590416703313</ModifyTime>\\n        <InstanceId>1234</InstanceId>\\n        <BeginWaitResTime>1590416703313</BeginWaitResTime>\\n        <Bizdate>1590336000000</Bizdate>\\n        <NodeName>kzh</NodeName>\\n        <BeginWaitTimeTime>1590416703313</BeginWaitTimeTime>\\n        <NodeId>33115</NodeId>\\n        <InstanceHistoryId>1</InstanceHistoryId>\\n    </Instances>\\n</ListInstanceHistoryResponse>\",\"errorExample\":\"\"}]","title":"获取所有实例历史记录"}