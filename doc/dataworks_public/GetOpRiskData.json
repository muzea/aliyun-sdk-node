{"methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"PageSize","in":"query","schema":{"description":"每页返回的数据量，最大值为1000。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"1000","minimum":"1","example":"100"}},{"name":"PageNo","in":"query","schema":{"description":"页码数，最小值为1。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"1000","minimum":"1","example":"1"}},{"name":"Name","in":"query","schema":{"description":"获取访问记录的条件设置。可选的参数如下：\n- dbType：数据类型。\n- instanceName：实例名称。\n- databaseName：数据库名称。\n- projectName：项目名称。\n- clusterName：集群名称。\n\n示例获取Hologres中ABC实例的abc数据库的敏感数据访问记录：\n[  {\"dbType\":\"hologres\",\"instanceName\":\"ABC\",\"databaseName\":\"abc\"} ]\n\n实际使用时，您需要根据业务使用的引擎进行配置。","type":"string","required":false,"example":"[ {\"dbType\":\"hologres\",\"instanceName\":\"ABC\",\"databaseName\":\"abc\"}, {\"dbType\":\"ODPS.ODPS\",\"projectName\":\"adbc\"} ]"}},{"name":"Date","in":"query","schema":{"description":"获取访问记录的日期。格式为：yyyyMMdd。","type":"string","required":true,"docRequired":true,"example":"20210221"}},{"name":"RiskType","in":"query","schema":{"description":"指通过什么方式识别风险类型。取值如下：\n- 手工识别。\n- 风险规则名称，您可以进入DataWorks的数据保护伞，在风险识别管理页面获取。","type":"string","required":false,"example":"手工识别"}}],"responses":{"200":{"schema":{"description":"返回参数","type":"object","properties":{"RiskData":{"description":"返回的有风险的敏感数据信息。包括totalCount（敏感数据总条数）和opRiskDatas（风险数据列表）。\n其中opRiskDatas（风险数据列表）包括：\n- sensType：敏感类型。\n- sensLevel：敏感级别。\n- opType：操作类型。\n- sql：操作执行的sql语句。\n- opAccount：执行操作的账号。\n- opTime：执行操作的时间。","type":"string","example":"{     \"opRiskDatas\": [       {         \"riskType\": \"分级维度,EMR引擎维度and项目维度,EMR引擎项目维度的操作数据,导出方式维度,EMR引擎\",         \"opTime\": \"2021-01-04 23:39:13\",         \"opType\": \"SQL_SELECT\",         \"opAccount\": \"user\",         \"sensType\": \"邮箱/姓名/手机号\",         \"sql\": \"SELECT * FROM default.jiade_1219_test_create LIMIT 20\"       }     ],     \"totalCount\": 499   }"},"RequestId":{"description":"请求ID，一次请求的唯一标识。","type":"string","example":"0000-ABCD-EFG****"}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.Param","errorMessage":"The request parameter is invalid."}],"403":[{"errorCode":"Forbidden.NoTenant","errorMessage":"The tenant information cannot be obtained using user ID."}],"500":[{"errorCode":"InternalError.DQC.BizError","errorMessage":"An internal error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RiskData\\\": \\\"{     \\\\\\\"opRiskDatas\\\\\\\": [       {         \\\\\\\"riskType\\\\\\\": \\\\\\\"分级维度,EMR引擎维度and项目维度,EMR引擎项目维度的操作数据,导出方式维度,EMR引擎\\\\\\\",         \\\\\\\"opTime\\\\\\\": \\\\\\\"2021-01-04 23:39:13\\\\\\\",         \\\\\\\"opType\\\\\\\": \\\\\\\"SQL_SELECT\\\\\\\",         \\\\\\\"opAccount\\\\\\\": \\\\\\\"user\\\\\\\",         \\\\\\\"sensType\\\\\\\": \\\\\\\"邮箱/姓名/手机号\\\\\\\",         \\\\\\\"sql\\\\\\\": \\\\\\\"SELECT * FROM default.jiade_1219_test_create LIMIT 20\\\\\\\"       }     ],     \\\\\\\"totalCount\\\\\\\": 499   }\\\",\\n  \\\"RequestId\\\": \\\"0000-ABCD-EFG****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetOpRiskDataResponse>\\n    <RequestId>0000-ABCD-EFG****</RequestId>\\n    <RiskData>{     \\\"opRiskDatas\\\": [       {         \\\"riskType\\\": \\\"分级维度,EMR引擎维度and项目维度,EMR引擎项目维度的操作数据,导出方式维度,EMR引擎\\\",         \\\"opTime\\\": \\\"2021-01-04 23:39:13\\\",         \\\"opType\\\": \\\"SQL_SELECT\\\",         \\\"opAccount\\\": \\\"user\\\",         \\\"sensType\\\": \\\"邮箱/姓名/手机号\\\",         \\\"sql\\\": \\\"SELECT * FROM default.jiade_1219_test_create LIMIT 20\\\"       }     ],     \\\"totalCount\\\": 499   }</RiskData>\\n</GetOpRiskDataResponse>\",\"errorExample\":\"\"}]","title":"获取有风险的敏感数据访问记录","summary":"获取租户下所有DataWorks工作空间指定日期中有风险的敏感数据访问记录。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}