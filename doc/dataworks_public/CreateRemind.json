{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"78196","abilityTreeNodes":["FEATUREdideRJGWWC"]},"parameters":[{"name":"RemindName","in":"formData","schema":{"description":"自定义规则的名称，不能超过128个字符。","type":"string","required":true,"docRequired":true,"example":"test_error_remind"}},{"name":"DndEnd","in":"formData","schema":{"description":"免打扰截止时间，格式为hh:mm。hh的取值范围为\\[0,23\\]，mm的取值范围为\\[0,59\\]。 ","type":"string","required":false,"example":"08:00"}},{"name":"RemindUnit","in":"formData","schema":{"description":"对象的类型，包括NODE（任务节点）、BASELINE（基线） 、PROJECT（工作空间）和BIZPROCESS（业务流程）。","type":"string","required":true,"docRequired":true,"example":"NODE","enum":["NODE","BASELINE","PROJECT","BIZPROCESS"]}},{"name":"NodeIds","in":"formData","schema":{"description":"RemindUnit（对象类型）为NODE（任务节点）时，监控的任务节点ID。多个ID之间使用英文逗号（,）分隔，一个规则最多监控50个节点。","type":"string","required":false,"example":"1,2,3"}},{"name":"BaselineIds","in":"formData","schema":{"description":"当RemindUnit（对象类型）为BASELINE（基线）时，监控的基线ID。多个ID之间使用英文逗号（,）分隔，一个规则最多监控5条基线。","type":"string","required":false,"example":"1,2,3"}},{"name":"ProjectId","in":"formData","schema":{"description":"当RemindUnit（对象类型）为PROJECT（工作空间）时，监控的工作空间ID。一个规则只能监控一个工作空间。","type":"integer","format":"int64","required":false,"example":"9527"}},{"name":"BizProcessIds","in":"formData","schema":{"description":"当RemindUnit（对象类型）为BIZPROCESS（业务流程）时，监控的业务流程ID。多个业务流程ID之间使用英文逗号（,）分隔，一个规则最多监控5个业务流程。","type":"string","required":false,"example":"1,2,3"}},{"name":"RemindType","in":"formData","schema":{"description":"触发条件，包括FINISHED（完成）、UNFINISHED（未完成）、ERROR（出错）、 CYCLE_UNFINISHED（周期未完成）和TIMEOUT（运行超时）。","type":"string","required":true,"docRequired":true,"example":"FINISHED","enum":["FINISHED","UNFINISHED","ERROR","CYCLE_UNFINISHED","TIMEOUT","EXHAUSTED_ERROR"]}},{"name":"MaxAlertTimes","in":"formData","schema":{"description":"最大报警次数。最小值为1，最大值为10，默认值为3。","type":"integer","format":"int32","required":false,"maximum":"10","minimum":"1","example":"2","default":"3"}},{"name":"AlertInterval","in":"formData","schema":{"description":"最小报警间隔，单位为秒。最小值为1200，默认值为1800。","type":"integer","format":"int32","required":false,"minimum":"1200","example":"1800","default":"1800"}},{"name":"Detail","in":"formData","schema":{"description":"不同触发条件的说明如下：\n\n- 当RemindType（触发条件）为FINISHED（完成）时，传空。\n\n- 当RemindType（触发条件）为UNFINISHED（未完成）时，传参格式为{\"hour\":23,\"minu\":59}。hour的取值范围为\\[0,47\\]，minu的取值范围为\\[0,59\\]。\n\n- 当RemindType（触发条件）为ERROR（出错）时，传空。\n\n- 当RemindType（触发条件）为CYCLE_UNFINISHED（周期未完成）时，传参格式为{\"1\":\"05:50\",\"2\":\"06:50\",\"3\":\"07:50\",\"4\":\"08:50\",\"5\":\"09:50\",\"6\":\"10:50\",\"7\":\"11:50\",\"8\":\"12:50\",\"9\":\"13:50\",\"10\":\"14:50\",\"11\":\"15:50\",\"12\":\"16:50\",\"13\":\"17:50\",\"14\":\"18:50\",\"15\":\"19:50\",\"16\":\"20:50\",\"17\":\"21:50\",\"18\":\"22:50\",\"19\":\"23:50\",\"20\":\"24:50\",\"21\":\"25:50\"}。JSON字符串key为周期号，取值范围为\\[1,288\\]。value为该周期对应的未完成时间，格式为hh:mm。hh的取值范围为\\[0,47\\]，mm的取值范围为\\[0,59\\]。\n\n- 当RemindType（触发条件）为TIMEOUT（运行超时）时，传参格式为1800，单位为秒。即从开始运行起，运行超过30分钟触发报警。","type":"string","required":false,"example":"{\"hour\":23,\"minu\":59}"}},{"name":"AlertUnit","in":"formData","schema":{"description":"报警接收对象的粒度，包括OWNER（任务责任人）和OTHER（指定的人）。","type":"string","required":true,"docRequired":true,"example":"OWNER","default":"","enum":["OTHER","OWNER"]}},{"name":"AlertMethods","in":"formData","schema":{"description":"报警方式，取值如下：\n- MAIL：邮件。\n- SMS：短信。\n<props=\"intl\">可使用短信告警的地域为：新加坡、马来西亚（吉隆坡）、德国（法兰克福）。</props>\n<props=\"china\">- PHONE：电话。仅DataWorks专业版及以上版本支持。</props>\n- Webhooks（企业微信或飞书机器人），仅当配置 Webhooks 参数后，该报警方式才会生效。\n\n多个报警方式之间使用英文逗号（,）分隔。","type":"string","required":true,"docRequired":true,"example":"SMS,MAIL"}},{"name":"AlertTargets","in":"formData","schema":{"description":"- 当AlertUnit（报警接收人）为OWNER（节点任务责任人）时，传空。\n\n- 当AlertUnit（报警接收人）为OTHER（指定的人）时，传入指定用户的阿里云UID。多个阿里云UID之间使用英文逗号（,）分隔，最多支持10个。","type":"string","required":false,"example":"9527952795279527"}},{"name":"RobotUrls","in":"formData","schema":{"description":"钉钉群机器人的webhook地址，多个webhook地址之间使用英文逗号（,）分隔。","type":"string","required":false,"example":"https://oapi.dingtalk.com/robot/send?access_token=******************************"}},{"name":"Webhooks","in":"formData","schema":{"description":"企业微信或飞书机器人的webhook地址，多个webhook地址之间使用英文逗号（,）分隔。alertMethods 中需要包含 WEBHOOKS 告警方式。\n\n仅DataWorks企业版支持。\n可用地域：华东2（上海）、西南1（成都）、华北3（张家口）、华北2（北京）、华东1（杭州）、华南1（深圳）、中国（香港）、欧洲中部 1（法兰克福）、亚太东南1（新加坡）。","type":"string","required":false,"example":"https://open.feishu.cn/open-apis/bot/v2/hook/*******"}}],"responses":{"200":{"schema":{"description":"请求返回结果","type":"object","properties":{"HttpStatusCode":{"description":"HTTP返回码。\n","type":"integer","format":"int32","example":"200"},"Data":{"description":"创建自定义监控规则成功后，返回的自定义规则ID。","type":"integer","format":"int64","example":"1234"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"The specified parameters are invalid."},"RequestId":{"description":"本次调用的唯一ID。出现错误后，您可以根据该ID排查问题。","type":"string","example":"0000-ABCD-EFG****"},"Success":{"description":"调用是否成功。","type":"boolean","example":"true"},"ErrorCode":{"description":"错误码。","type":"string","example":"1031203110005"}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.Access","errorMessage":"Access is forbidden. Please first activate DataWorks Enterprise Edition or Flagship Edition."}],"429":[{"errorCode":"Throttling.Api","errorMessage":"The request for this resource has exceeded your available limit."},{"errorCode":"Throttling.Api.Risk","errorMessage":"The request for this resource has exceeded your daily available limit."},{"errorCode":"Throttling.Resource","errorMessage":"You have reached the limit for the resource. Please contact us by submitting a ticket."},{"errorCode":"Throttling.System","errorMessage":"The DataWorks system is busy. Try again later."},{"errorCode":"Throttling.User","errorMessage":"Your request is too frequent. Try again later."}],"500":[{"errorCode":"Forbidden.Not.Server","errorMessage":"The dataworksAPI service is not available in this area. Please try it in another area."},{"errorCode":"Forbidden.Wkbench.BaselineNoPermission","errorMessage":"You are not authorized to access the baseline."},{"errorCode":"Forbidden.Wkbench.ProjectNoPermission","errorMessage":"You are not authorized to access the workspace."},{"errorCode":"InternalError.System","errorMessage":"An internal system error occurred. Try again later."},{"errorCode":"InternalError.UserId.Missing","errorMessage":"An internal system error occurred. Try again later."},{"errorCode":"Forbidden.Wkbench.NoProject","errorMessage":"You have not joined any project."},{"errorCode":"Invalid.Wkbench.NodeNotExist","errorMessage":"The node does not exist."},{"errorCode":"Invalid.Wkbench.BaselineNotExist","errorMessage":"The baseline does not exist."},{"errorCode":"Forbidden.Wkbench.RemindOverlimit","errorMessage":"The maximum number of reminders is exceeded."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Data\\\": 1234,\\n  \\\"ErrorMessage\\\": \\\"The specified parameters are invalid.\\\",\\n  \\\"RequestId\\\": \\\"0000-ABCD-EFG****\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorCode\\\": \\\"1031203110005\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateRemindResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <Data>1234</Data>\\n    <ErrorMessage>The specified parameters are invalid.</ErrorMessage>\\n    <RequestId>0000-ABCD-EFG****</RequestId>\\n    <Success>true</Success>\\n    <ErrorCode>1031203110005</ErrorCode>\\n</CreateRemindResponse>\",\"errorExample\":\"\"}]","title":"创建自定义报警规则","summary":"调用CreateRemind创建自定义报警规则。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}