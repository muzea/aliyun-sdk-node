{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"78329","abilityTreeNodes":["FEATUREdideGK4B66"]},"parameters":[{"name":"EntityId","in":"formData","schema":{"description":"分区表达式ID。您可以调用[GetQualityEntity](~~174003~~)获取分区表达式ID。","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"2147483647","minimum":"1","example":"152322134"}},{"name":"StartDate","in":"formData","schema":{"description":"业务日期起始时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","required":true,"docRequired":true,"example":"2020-09-20 00:00:00"}},{"name":"EndDate","in":"formData","schema":{"description":"业务日期截止时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","required":true,"docRequired":true,"example":"2020-09-21 00:00:00"}},{"name":"PageSize","in":"formData","schema":{"description":"每页显示的条数，默认为10条，最大20条。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"20","minimum":"1","example":"10"}},{"name":"PageNumber","in":"formData","schema":{"description":"页码数。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"2147483647","minimum":"1","example":"1"}},{"name":"ProjectName","in":"formData","schema":{"description":"引擎或者数据源的名称。您可以从数据源配置中获取名称。","type":"string","required":true,"docRequired":true,"example":"autotest"}},{"name":"ProjectId","in":"formData","schema":{"description":"DataWorks项目空间ID。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"12345"}}],"responses":{"200":{"schema":{"description":"校验结果","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"You have no permission."},"RequestId":{"description":"请求ID。","type":"string","example":"CBA58543-00D4-41****"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrorCode":{"description":"错误码。","type":"string","example":"401"},"Data":{"description":"校验结果的顶层结构体。","type":"object","properties":{"PageNumber":{"description":"页码数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示的条数，默认为10条，最大100条。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"数据的总记录数。","type":"integer","format":"int64","example":"50"},"RuleChecks":{"description":"校验结果的列表。","type":"array","items":{"description":"校验结果","type":"object","properties":{"BlockType":{"description":"校验规则的强弱。强弱表示规则的重要程度。取值如下：\n- 1，表示强规则。\n- 0，表示弱规则。\n您可以根据实际需求设置重要的规则为强规则。如果使用强规则并触发了红色告警，则会阻塞调度任务。","type":"integer","format":"int32","example":"0"},"WarningThreshold":{"description":"橙色阈值。表示与样本预期的偏离程度，您可以根据业务需求自定义该阈值。","type":"number","format":"float","example":"0.1"},"Property":{"description":"规则属性的字段，即被校验数据源表的column名称。","type":"string","example":"type"},"TableName":{"description":"进行校验的表名称。","type":"string","example":"dual"},"Comment":{"description":"校验规则的描述。","type":"string","example":"规则的描述信息。"},"CheckResultStatus":{"description":"校验结果状态参数与产品界面中的状态信息一致，取值有以下几种：\n- 0：正常\n- 1：橙色告警\n- 2：红色告警","type":"integer","format":"int32","example":"0"},"TemplateName":{"description":"使用的校验模板的名称。","type":"string","example":"字段唯一值个数期望值校验"},"CheckerName":{"description":"校验器的名称。","type":"string","example":"fulx"},"RuleId":{"description":"规则ID。","type":"integer","format":"int64","example":"123123232"},"FixedCheck":{"description":"是否为固定值校验。取值如下：\n- true：是固定值校验。\n- false：非固定值校验。","type":"boolean","example":"false"},"Op":{"description":"比较符。","type":"string","example":">"},"UpperValue":{"description":"预测上限。设置阈值后自动生成。","type":"number","format":"float","example":"25555"},"ActualExpression":{"description":"被校验的数据源表的实际分区。","type":"string","example":"ds=20200912"},"ExternalId":{"description":"调度任务的节点ID。","type":"string","example":"1112323123"},"TimeCost":{"description":"执行校验任务花费的时间，单位为秒。","type":"string","example":"202"},"Trend":{"description":"校验结果的趋势。","type":"string","example":"abs"},"ExternalType":{"description":"调度系统的类型。目前仅支持CWF。","type":"string","example":"CWF2"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"integer","format":"int64","example":"1600704000000"},"CheckResult":{"description":"校验结果参数的结果通常与CheckResultStatus一致，取值有以下几种：\n- 0：正常\n- 1：橙色告警\n- 2：红色告警","type":"integer","format":"int32","example":"0"},"ResultString":{"description":"校验结果的字符串形式。","type":"string","example":"test"},"MatchExpression":{"description":"分区表达式。","type":"string","example":"ds=$[yyyymmdd]"},"CheckerType":{"description":"校验类型。取值如下：\n- 0，固定值\n- 1，波动校验\n- 2，动态阈值","type":"integer","format":"int32","example":"1"},"ProjectName":{"description":"需要进行数据质量校验的引擎或者数据源名称。","type":"string","example":"autotest"},"BeginTime":{"description":"执行校验操作的开始时间。","type":"integer","format":"int64","example":"1600704000000"},"DateType":{"description":"调度周期的类型。通常为YMD，即年任务、月任务、天任务。","type":"string","example":"YMD"},"CriticalThreshold":{"description":"红色阈值。表示与样本预期的偏离程度。您可以根据业务需求自定义该阈值。使用强规则并触发红色阈值，会阻塞调度任务。","type":"number","format":"float","example":"0.5"},"IsPrediction":{"description":"是否为预测的结果。取值如下：\n- true：是预测的结果。\n- false：不是预测的结果。","type":"boolean","example":"true"},"RuleName":{"description":"规则的名称。","type":"string","example":"规则的名称。"},"CheckerId":{"description":"校验器的ID。","type":"integer","format":"int32","example":"7"},"DiscreteCheck":{"description":"是否为离散校验。取值如下：\n- true：是离散校验。\n- false：非离散校验。","type":"boolean","example":"true"},"EndTime":{"description":"查询校验结果的截止时间。","type":"integer","format":"int64","example":"1600704000000"},"MethodName":{"description":"采集样本数据的方法。包括avg、count、sum、min、max、count_distinct、user_defined、table_count、table_size、table_dt_load_count、table_dt_refuseload_count、null_value、null_value/table_count、(table_count-count_distinct)/table_count、table_count-count_distinct等。","type":"string","example":"count_distinct"},"LowerValue":{"description":"预测结果的下限。根据您设置的阈值自动生成。","type":"number","format":"float","example":"2344"},"EntityId":{"description":"分区表达式ID。","type":"integer","format":"int64","example":"15432322"},"WhereCondition":{"description":"校验任务使用的规则过滤条件。","type":"string","example":"id>0"},"ExpectValue":{"description":"期望值。","type":"number","format":"float","example":"200"},"TemplateId":{"description":"使用的校验模板的ID。","type":"integer","format":"int32","example":"5"},"TaskId":{"description":"校验任务的ID。","type":"string","example":"16008552981681a0d6****"},"Id":{"description":"主键ID。\n\n","type":"integer","format":"int64","example":"121212121"},"ReferenceValue":{"description":"历史样本值。","type":"array","items":{"description":"校验结果","type":"object","properties":{"DiscreteProperty":{"description":"通过group by分组后的样本字段取值。例如group by性别字段，则DiscreteProperty为男生、女生和null。","type":"string","example":"0"},"Value":{"description":"校验值。","type":"number","format":"float","example":"19"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"string","example":"2020-12-03"},"SingleCheckResult":{"description":"校验结果。","type":"integer","format":"int32","example":"0"},"Threshold":{"description":"阈值。","type":"number","format":"float","example":"0.5"}}}},"SampleValue":{"description":"当前使用的样本。","type":"array","items":{"description":"校验结果","type":"object","properties":{"DiscreteProperty":{"description":"通过group by分组后的样本字段取值。例如group by性别字段，则DiscreteProperty为男生、女生和null。","type":"string","example":"0"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"string","example":"2020-12-03"},"Value":{"description":"当前样本值。","type":"number","format":"float","example":"19"}}}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"ErrorMessage\\\": \\\"You have no permission.\\\",\\n  \\\"RequestId\\\": \\\"CBA58543-00D4-41****\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrorCode\\\": \\\"401\\\",\\n  \\\"Data\\\": {\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"TotalCount\\\": 50,\\n    \\\"RuleChecks\\\": [\\n      {\\n        \\\"BlockType\\\": 0,\\n        \\\"WarningThreshold\\\": 0.1,\\n        \\\"Property\\\": \\\"type\\\",\\n        \\\"TableName\\\": \\\"dual\\\",\\n        \\\"Comment\\\": \\\"规则的描述信息。\\\",\\n        \\\"CheckResultStatus\\\": 0,\\n        \\\"TemplateName\\\": \\\"字段唯一值个数期望值校验\\\",\\n        \\\"CheckerName\\\": \\\"fulx\\\",\\n        \\\"RuleId\\\": 123123232,\\n        \\\"FixedCheck\\\": false,\\n        \\\"Op\\\": \\\">\\\",\\n        \\\"UpperValue\\\": 25555,\\n        \\\"ActualExpression\\\": \\\"ds=20200912\\\",\\n        \\\"ExternalId\\\": \\\"1112323123\\\",\\n        \\\"TimeCost\\\": \\\"202\\\",\\n        \\\"Trend\\\": \\\"abs\\\",\\n        \\\"ExternalType\\\": \\\"CWF2\\\",\\n        \\\"BizDate\\\": 1600704000000,\\n        \\\"CheckResult\\\": 0,\\n        \\\"ResultString\\\": \\\"test\\\",\\n        \\\"MatchExpression\\\": \\\"ds=$[yyyymmdd]\\\",\\n        \\\"CheckerType\\\": 1,\\n        \\\"ProjectName\\\": \\\"autotest\\\",\\n        \\\"BeginTime\\\": 1600704000000,\\n        \\\"DateType\\\": \\\"YMD\\\",\\n        \\\"CriticalThreshold\\\": 0.5,\\n        \\\"IsPrediction\\\": true,\\n        \\\"RuleName\\\": \\\"规则的名称。\\\",\\n        \\\"CheckerId\\\": 7,\\n        \\\"DiscreteCheck\\\": true,\\n        \\\"EndTime\\\": 1600704000000,\\n        \\\"MethodName\\\": \\\"count_distinct\\\",\\n        \\\"LowerValue\\\": 2344,\\n        \\\"EntityId\\\": 15432322,\\n        \\\"WhereCondition\\\": \\\"id>0\\\",\\n        \\\"ExpectValue\\\": 200,\\n        \\\"TemplateId\\\": 5,\\n        \\\"TaskId\\\": \\\"16008552981681a0d6****\\\",\\n        \\\"Id\\\": 121212121,\\n        \\\"ReferenceValue\\\": [\\n          {\\n            \\\"DiscreteProperty\\\": \\\"0\\\",\\n            \\\"Value\\\": 19,\\n            \\\"BizDate\\\": \\\"2020-12-03\\\",\\n            \\\"SingleCheckResult\\\": 0,\\n            \\\"Threshold\\\": 0.5\\n          }\\n        ],\\n        \\\"SampleValue\\\": [\\n          {\\n            \\\"DiscreteProperty\\\": \\\"0\\\",\\n            \\\"BizDate\\\": \\\"2020-12-03\\\",\\n            \\\"Value\\\": 19\\n          }\\n        ]\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListQualityResultsByEntityResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <ErrorMessage>You have no permission.</ErrorMessage>\\n    <RequestId>CBA58543-00D4-41****</RequestId>\\n    <Success>true</Success>\\n    <ErrorCode>401</ErrorCode>\\n    <Data>\\n        <PageNumber>1</PageNumber>\\n        <PageSize>10</PageSize>\\n        <TotalCount>50</TotalCount>\\n        <RuleChecks>\\n            <BlockType>0</BlockType>\\n            <WarningThreshold>0.1</WarningThreshold>\\n            <Property>type</Property>\\n            <TableName>dual</TableName>\\n            <Comment>规则的描述信息。</Comment>\\n            <CheckResultStatus>0</CheckResultStatus>\\n            <TemplateName>字段唯一值个数期望值校验</TemplateName>\\n            <CheckerName>fulx</CheckerName>\\n            <RuleId>123123232</RuleId>\\n            <FixedCheck>false</FixedCheck>\\n            <Op>&gt;</Op>\\n            <UpperValue>25555</UpperValue>\\n            <ActualExpression>ds=20200912</ActualExpression>\\n            <ExternalId>1112323123</ExternalId>\\n            <TimeCost>202</TimeCost>\\n            <Trend>abs</Trend>\\n            <ExternalType>CWF2</ExternalType>\\n            <BizDate>1600704000000</BizDate>\\n            <CheckResult>0</CheckResult>\\n            <ResultString>test</ResultString>\\n            <MatchExpression>ds=$[yyyymmdd]</MatchExpression>\\n            <CheckerType>1</CheckerType>\\n            <ProjectName>autotest</ProjectName>\\n            <BeginTime>1600704000000</BeginTime>\\n            <DateType>YMD</DateType>\\n            <CriticalThreshold>0.5</CriticalThreshold>\\n            <IsPrediction>true</IsPrediction>\\n            <RuleName>规则的名称。</RuleName>\\n            <CheckerId>7</CheckerId>\\n            <DiscreteCheck>true</DiscreteCheck>\\n            <EndTime>1600704000000</EndTime>\\n            <MethodName>count_distinct</MethodName>\\n            <LowerValue>2344</LowerValue>\\n            <EntityId>15432322</EntityId>\\n            <WhereCondition>id&gt;0</WhereCondition>\\n            <ExpectValue>200</ExpectValue>\\n            <TemplateId>5</TemplateId>\\n            <TaskId>16008552981681a0d6****</TaskId>\\n            <Id>121212121</Id>\\n            <ReferenceValue>\\n                <DiscreteProperty>0</DiscreteProperty>\\n                <Value>19</Value>\\n                <BizDate>2020-12-03</BizDate>\\n                <SingleCheckResult>0</SingleCheckResult>\\n                <Threshold>0.5</Threshold>\\n            </ReferenceValue>\\n            <SampleValue>\\n                <DiscreteProperty>0</DiscreteProperty>\\n                <BizDate>2020-12-03</BizDate>\\n                <Value>19</Value>\\n            </SampleValue>\\n        </RuleChecks>\\n    </Data>\\n</ListQualityResultsByEntityResponse>\",\"errorExample\":\"\"}]","title":"根据分区表达式查询校验历史结果","summary":"调用ListQualityResultsByEntity，根据分区表达式查询历史校验结果。","description":"****","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}