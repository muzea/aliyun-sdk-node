{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RuleId","in":"formData","schema":{"description":"使用的校验规则ID。您可以使用该规则ID与分区表达式等信息进行联合查询。","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"2147483647","minimum":"1","example":"152322134"}},{"name":"StartDate","in":"formData","schema":{"description":"业务日期起始时间，格式为yyyy-MM-dd HH:mm:ss。\n\n该参数与EndDate配合使用，二者所取的时间区间不能大于7天。","type":"string","required":true,"docRequired":true,"example":"2020-09-20 00:00:00"}},{"name":"EndDate","in":"formData","schema":{"description":"业务日期截止时间，格式为yyyy-MM-dd HH:mm:ss。\n\n该参数与StartDate配合使用，二者所取的时间区间不能大于7天。","type":"string","required":true,"docRequired":true,"example":"2020-09-22 00:00:00"}},{"name":"PageSize","in":"formData","schema":{"description":"每页显示的条数，默认为10条，最大100条。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"20","minimum":"1","example":"10"}},{"name":"PageNumber","in":"formData","schema":{"description":"页码数。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"2147483647","minimum":"1","example":"1"}},{"name":"ProjectName","in":"formData","schema":{"description":"需要进行数据质量校验的引擎或者数据源名称。","type":"string","required":true,"docRequired":true,"example":"autotest"}},{"name":"ProjectId","in":"formData","schema":{"description":"DataWorks项目空间ID。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"12345"}}],"responses":{"200":{"schema":{"description":"校验结果","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"You have no permission."},"RequestId":{"description":"请求ID。","type":"string","example":"CBA58543-00D4-41****"},"ErrorCode":{"description":"错误码。","type":"string","example":"401"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"Data":{"description":"校验结果的顶层结构体。","type":"object","properties":{"PageNumber":{"description":"页码数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示的条数，默认为10条，最大100条。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"数据的总记录数。","type":"integer","format":"int64","example":"200"},"RuleChecks":{"description":"校验结果的列表。","type":"array","items":{"description":"校验结果","type":"object","properties":{"BlockType":{"description":"校验规则的强弱。强弱表示规则的重要程度。取值如下：\n- 1，表示强规则。\n- 0，表示弱规则。\n您可以根据实际需求设置重要的规则为强规则。如果使用强规则并触发了红色告警，则会阻塞调度任务。","type":"integer","format":"int32","example":"1"},"WarningThreshold":{"description":"橙色阈值。表示与样本预期的偏离程度，您可以根据业务需求自定义该阈值。","type":"number","format":"float","example":"0.1"},"Property":{"description":"规则属性的字段，即被校验数据源表的column名称。","type":"string","example":"type"},"TableName":{"description":"进行校验的表名称。","type":"string","example":"dual"},"Comment":{"description":"校验规则的描述。","type":"string","example":"规则的描述信息。"},"CheckResultStatus":{"description":"校验结果状态。","type":"integer","format":"int32","example":"2"},"TemplateName":{"description":"使用的校验模板的名称。","type":"string","example":"字段唯一值个数期望值校验"},"CheckerName":{"description":"校验器的名称。","type":"string","example":"fulx"},"RuleId":{"description":"规则ID。","type":"integer","format":"int64","example":"123421"},"FixedCheck":{"description":"是否为固定值校验。取值如下：\n- true：是固定值校验。\n- false：非固定值校验。","type":"boolean","example":"false"},"Op":{"description":"比较符。","type":"string","example":">"},"UpperValue":{"description":"预测上限。设置阈值后自动生成。","type":"number","format":"float","example":"22200"},"ActualExpression":{"description":"被校验的数据源表的实际分区。","type":"string","example":"ds=20200925"},"ExternalId":{"description":"调度任务的节点ID。","type":"string","example":"123112232"},"TimeCost":{"description":"执行校验任务花费的时间。","type":"string","example":"10"},"Trend":{"description":"校验结果的趋势。","type":"string","example":"up"},"ExternalType":{"description":"调度系统的类型。目前仅支持CWF。","type":"string","example":"CWF2"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"integer","format":"int64","example":"1600704000000"},"CheckResult":{"description":"校验结果。","type":"integer","format":"int32","example":"2"},"ResultString":{"description":"校验结果的字符串形式。","type":"string","example":"ResultString"},"MatchExpression":{"description":"分区表达式。","type":"string","example":"ds=$[yyyymmdd]"},"CheckerType":{"description":"校验器的类型。","type":"integer","format":"int32","example":"0"},"ProjectName":{"description":"需要进行数据质量校验的引擎或者数据源名称。","type":"string","example":"autotest"},"BeginTime":{"description":"执行校验操作的开始时间。","type":"integer","format":"int64","example":"1600704000000"},"DateType":{"description":"调度周期的类型。通常为YMD，即年任务、月任务、天任务。","type":"string","example":"YMD"},"CriticalThreshold":{"description":"红色阈值。表示与样本预期的偏离程度。您可以根据业务需求自定义该阈值。使用强规则并触发红色阈值，会阻塞调度任务。","type":"number","format":"float","example":"0.6"},"IsPrediction":{"description":"是否为预测的结果。取值如下：\n- true：是预测的结果。\n- false：不是预测的结果。","type":"boolean","example":"false"},"RuleName":{"description":"规则的名称。","type":"string","example":"规则的名称。"},"CheckerId":{"description":"校验器的ID。","type":"integer","format":"int32","example":"7"},"DiscreteCheck":{"description":"是否为离散校验。取值如下：\n- true：是离散校验。\n- false：非离散校验。","type":"boolean","example":"true"},"EndTime":{"description":"查询校验结果的截止时间。","type":"integer","format":"int64","example":"1600704000000"},"MethodName":{"description":"采集样本数据的方法。包括avg、count、sum、min、max、count_distinct、user_defined、table_count、table_size、table_dt_load_count、table_dt_refuseload_count、null_value、null_value/table_count、(table_count-count_distinct)/table_count、table_count-count_distinct等。","type":"string","example":"max"},"LowerValue":{"description":"预测下限。根据您设置的阈值自动生成。","type":"number","format":"float","example":"2344"},"EntityId":{"description":"分区表达式ID。","type":"integer","format":"int64","example":"14534343"},"WhereCondition":{"description":"校验任务使用的过滤条件。","type":"string","example":"type!='type2'"},"ExpectValue":{"description":"期望值。","type":"number","format":"float","example":"90"},"TemplateId":{"description":"使用的校验模板的ID。","type":"integer","format":"int32","example":"5"},"TaskId":{"description":"校验任务的ID。","type":"string","example":"16008552981681a0d6****"},"Id":{"description":"主键ID。","type":"integer","format":"int64","example":"2231123"},"ReferenceValue":{"description":"历史样本值。","type":"array","items":{"description":"校验结果","type":"object","properties":{"DiscreteProperty":{"description":"通过group by分组后的样本字段取值。例如group by性别字段，则DiscreteProperty为男生、女生和null。","type":"string","example":"type1"},"Value":{"description":"样本值。","type":"number","format":"float","example":"20"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"string","example":"1600704000000"},"SingleCheckResult":{"description":"校验结果的字符串。","type":"integer","format":"int32","example":"2"},"Threshold":{"description":"阈值。","type":"number","format":"float","example":"0.2"}}}},"SampleValue":{"description":"当前使用的样本。","type":"array","items":{"description":"校验结果","type":"object","properties":{"DiscreteProperty":{"description":"通过group by分组后的样本字段取值。例如group by性别字段，则DiscreteProperty为男生、女生和null。","type":"string","example":"type2"},"BizDate":{"description":"业务日期。如果被校验的业务主体为离线数据，则业务日期通常为执行校验操作的前一天。","type":"string","example":"1600704000000"},"Value":{"description":"样本值。","type":"number","format":"float","example":"23"}}}},"Open":{"description":"规则是否开启。","type":"boolean","example":"true"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"ErrorMessage\\\": \\\"You have no permission.\\\",\\n  \\\"RequestId\\\": \\\"CBA58543-00D4-41****\\\",\\n  \\\"ErrorCode\\\": \\\"401\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"TotalCount\\\": 200,\\n    \\\"RuleChecks\\\": [\\n      {\\n        \\\"BlockType\\\": 1,\\n        \\\"WarningThreshold\\\": 0.1,\\n        \\\"Property\\\": \\\"type\\\",\\n        \\\"TableName\\\": \\\"dual\\\",\\n        \\\"Comment\\\": \\\"规则的描述信息。\\\",\\n        \\\"CheckResultStatus\\\": 2,\\n        \\\"TemplateName\\\": \\\"字段唯一值个数期望值校验\\\",\\n        \\\"CheckerName\\\": \\\"fulx\\\",\\n        \\\"RuleId\\\": 123421,\\n        \\\"FixedCheck\\\": false,\\n        \\\"Op\\\": \\\">\\\",\\n        \\\"UpperValue\\\": 22200,\\n        \\\"ActualExpression\\\": \\\"ds=20200925\\\",\\n        \\\"ExternalId\\\": \\\"123112232\\\",\\n        \\\"TimeCost\\\": \\\"10\\\",\\n        \\\"Trend\\\": \\\"up\\\",\\n        \\\"ExternalType\\\": \\\"CWF2\\\",\\n        \\\"BizDate\\\": 1600704000000,\\n        \\\"CheckResult\\\": 2,\\n        \\\"ResultString\\\": \\\"ResultString\\\",\\n        \\\"MatchExpression\\\": \\\"ds=$[yyyymmdd]\\\",\\n        \\\"CheckerType\\\": 0,\\n        \\\"ProjectName\\\": \\\"autotest\\\",\\n        \\\"BeginTime\\\": 1600704000000,\\n        \\\"DateType\\\": \\\"YMD\\\",\\n        \\\"CriticalThreshold\\\": 0.6,\\n        \\\"IsPrediction\\\": false,\\n        \\\"RuleName\\\": \\\"规则的名称。\\\",\\n        \\\"CheckerId\\\": 7,\\n        \\\"DiscreteCheck\\\": true,\\n        \\\"EndTime\\\": 1600704000000,\\n        \\\"MethodName\\\": \\\"max\\\",\\n        \\\"LowerValue\\\": 2344,\\n        \\\"EntityId\\\": 14534343,\\n        \\\"WhereCondition\\\": \\\"type!='type2'\\\",\\n        \\\"ExpectValue\\\": 90,\\n        \\\"TemplateId\\\": 5,\\n        \\\"TaskId\\\": \\\"16008552981681a0d6****\\\",\\n        \\\"Id\\\": 2231123,\\n        \\\"ReferenceValue\\\": [\\n          {\\n            \\\"DiscreteProperty\\\": \\\"type1\\\",\\n            \\\"Value\\\": 20,\\n            \\\"BizDate\\\": \\\"1600704000000\\\",\\n            \\\"SingleCheckResult\\\": 2,\\n            \\\"Threshold\\\": 0.2\\n          }\\n        ],\\n        \\\"SampleValue\\\": [\\n          {\\n            \\\"DiscreteProperty\\\": \\\"type2\\\",\\n            \\\"BizDate\\\": \\\"1600704000000\\\",\\n            \\\"Value\\\": 23\\n          }\\n        ],\\n        \\\"Open\\\": true\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListQualityResultsByRuleResponse>\\n    <RequestId>CBA58543-00D4-41****</RequestId>\\n    <QualityResults>\\n        <TotalCount>200</TotalCount>\\n        <PageSize>10</PageSize>\\n        <PageNumber>1</PageNumber>\\n        <RuleChecks>\\n            <Op>&amp;gt;</Op>\\n            <TaskId>16008552981681a0d6****</TaskId>\\n            <EndTime>1600704000000</EndTime>\\n            <DiscreteCheck>true</DiscreteCheck>\\n            <CheckerName>fulx</CheckerName>\\n            <ExpectValue>90</ExpectValue>\\n            <ProjectName>autotest</ProjectName>\\n            <RuleId>123421</RuleId>\\n            <WarningThreshold>0.1</WarningThreshold>\\n            <WhereCondition>type!='type2'</WhereCondition>\\n            <BeginTime>1600704000000</BeginTime>\\n            <CheckResultStatus>2</CheckResultStatus>\\n            <MatchExpression>ds=$[yyyymmdd]</MatchExpression>\\n            <UpperValue>22200</UpperValue>\\n            <IsPrediction>false</IsPrediction>\\n            <CheckResult>2</CheckResult>\\n            <TemplateName>字段唯一值个数期望值校验</TemplateName>\\n            <TimeCost>10</TimeCost>\\n            <FixedCheck>false</FixedCheck>\\n            <MethodName>max</MethodName>\\n            <ResultString>ResultString</ResultString>\\n            <Property>type</Property>\\n            <DateType>YMD</DateType>\\n            <BizDate>1600704000000</BizDate>\\n            <TemplateId>5</TemplateId>\\n            <RuleName>这里是规则名称</RuleName>\\n            <Comment>这里是规则描述信息</Comment>\\n            <CriticalThreshold>0.6</CriticalThreshold>\\n            <ExternalId>123112232</ExternalId>\\n            <Trend>up</Trend>\\n            <CheckerType>0</CheckerType>\\n            <ExternalType>CWF2</ExternalType>\\n            <CheckerId>7</CheckerId>\\n            <EntityId>14534343</EntityId>\\n            <TableName>dual</TableName>\\n            <BlockType>1</BlockType>\\n            <Id>2231123</Id>\\n            <ActualExpression>ds=20200925</ActualExpression>\\n            <LowerValue>2344</LowerValue>\\n        </RuleChecks>\\n        <RuleChecks>\\n            <SampleValue>\\n                <SingleCheckResult>2</SingleCheckResult>\\n                <Value>20</Value>\\n                <BizDate>1600704000000</BizDate>\\n                <DiscreteProperty>type1</DiscreteProperty>\\n                <Threshold>0.2</Threshold>\\n            </SampleValue>\\n            <SampleValue>\\n                <Value>23</Value>\\n                <BizDate>1600704000000</BizDate>\\n                <DiscreteProperty>type2</DiscreteProperty>\\n            </SampleValue>\\n            <ReferenceValue>\\n                <SingleCheckResult>2</SingleCheckResult>\\n                <Value>20</Value>\\n                <BizDate>1600704000000</BizDate>\\n                <DiscreteProperty>type1</DiscreteProperty>\\n                <Threshold>0.2</Threshold>\\n            </ReferenceValue>\\n            <ReferenceValue>\\n                <Value>23</Value>\\n                <BizDate>1600704000000</BizDate>\\n                <DiscreteProperty>type2</DiscreteProperty>\\n            </ReferenceValue>\\n        </RuleChecks>\\n    </QualityResults>\\n</ListQualityResultsByRuleResponse>\",\"errorExample\":\"\"}]","title":"校验数据源质量","summary":"根据校验规则校验数据源的质量，并查询校验结果。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}