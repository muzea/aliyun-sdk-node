{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]},{"APP":[]},{"PrivateKey":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ProjectId","in":"query","schema":{"description":"DataWorks工作空间的ID。您可以登录[DataWorks控制台](https://workbench.data.aliyun.com/console)，进入工作空间配置页面获取工作空间ID。\n\n该参数用来确定本次API调用操作使用的DataWorks工作空间。","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"10000000000","minimum":"1","example":"10000"}},{"name":"TaskType","in":"query","schema":{"description":"使用异步方式创建数据集成同步任务的任务类型。取值如下：\n- DI_REALTIME：表示实时同步任务。\n- DI_SOLUTION：表示其他同步类型的同步任务。\n\n仅支持使用异步方式生成数据集成实时同步任务和其他同步类型的同步任务。\n \n","type":"string","required":true,"docRequired":true,"enumValueTitles":{},"example":"DI_REALTIME","enum":["DI_OFFLINE","DI_REALTIME","DI_SOLUTION"]}},{"name":"TaskParam","in":"query","schema":{"description":"数据集成同步任务的脚本。\n目前支持创建的同步任务类型如下： \n- 同步MySQL数据至MaxCompute。\n- 同步MySQL数据至Kafka。\n- 同步MySQL数据至Hologres。\n\nSelectedTables用于多库模式选择同步表，Tables用于单库模式选择同步表。\n- 当脚本中包含SelectedTables语句时，系统会使用SelectedTables语句中的表信息进行同步。\n- 当脚本中包含Tables语句时，系统会使用Tables的字段信息进行同步。\n\n\n同步MySQL数据至MaxCompute，示例语句如下。\n```\n{\n  \"type\": \"realtime\",\n  \"version\": \"1.0\",\n  \"setting\": {\n    \"resourceGroup\": \"S_res_group_280749521950784_1623033752022\",\n    \"taskType\": \"oneclick_to_odps\"\n  },\n  \"steps\": [\n    {\n      \"stepType\": \"mysql\",\n      \"parameter\": {\n        \"connection\": [\n          {\n            \"datasourceType\": \"mysql\",\n            \"datasource\": \"mysql_pub1\",\n            \"selectedTables\": [\n              {\n                \"dbName\": \"mysql_db\",\n                \"schema\": [\n                  {\n                    \"tableInfos\": [\n                      {\n                        \"table\": \"molin_di_test_in_pk_v4\"\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      \"name\": \"Reader\",\n      \"category\": \"reader\"\n    },\n    {\n      \"stepType\": \"odps\",\n      \"parameter\": {\n        \"datasource\": \"odps_source\"\n      },\n      \"name\": \"Writer\",\n      \"category\": \"writer\"\n    }\n  ]\n}\n```\n\n同步MySQL数据至Kafka，示例语句如下。\n```\n{\n  \"type\": \"realtime\",\n  \"version\": \"1.0\",\n  \"setting\": {\n    \"resourceGroup\": \"S_res_group_280749521950784_1623033752022\",\n    \"taskType\": \"oneclick_to_kafka\"\n  },\n  \"steps\": [\n    {\n      \"stepType\": \"mysql\",\n      \"parameter\": {\n        \"connection\": [\n          {\n            \"datasourceType\": \"mysql\",\n            \"datasource\": \"pkset_test\",\n            \"selectedTables\": [\n              {\n                \"dbName\": \"mysql_db\",\n                \"schema\": [\n                  {\n                    \"tableInfos\": [\n                      {\n                        \"table\": \"molin_di_test_in_pk_v4\"\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      \"name\": \"Reader\",\n      \"category\": \"reader\"\n    },\n    {\n      \"stepType\": \"kafka\",\n      \"parameter\": {\n        \"datasource\": \"azn_kafka\"\n      },\n      \"name\": \"Writer\",\n      \"category\": \"writer\"\n    }\n  ]\n}\n```\n\n同步MySQL数据至Hologres，示例语句如下。\n```\n{\n  \"type\": \"realtime\",\n  \"version\": \"1.0\",\n  \"setting\": {\n    \"resourceGroup\": \"S_res_group_280749521950784_1623033752022\",\n    \"taskType\": \"oneclick_to_holo\"\n  },\n  \"steps\": [\n    {\n      \"stepType\": \"mysql\",\n      \"parameter\": {\n        \"connection\": [\n          {\n            \"datasourceType\": \"mysql\",\n            \"datasource\": \"mysql_pub\",\n            \"selectedTables\": [\n              {\n                \"dbName\": \"mysql_db\",\n                \"schema\": [\n                  {\n                    \"tableInfos\": [\n                      {\n                        \"table\": \"molin_di_test_in2_pk_v3\"\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      \"name\": \"Reader\",\n      \"category\": \"reader\"\n    },\n    {\n      \"stepType\": \"holo\",\n      \"parameter\": {\n        \"datasource\": \"holo\"\n      },\n      \"name\": \"Writer\",\n      \"category\": \"writer\"\n    }\n  ]\n}\n```\n\n\n","type":"string","required":true,"docRequired":true,"example":"{  \"type\": \"realtime\",  \"version\": \"1.0\",  \"setting\": {  \"resourceGroup\": \"S_res_group_280749521950784_1623033752022\",  \"taskType\": \"oneclick_to_odps\"  },  \"steps\": [{ \"stepType\": \"mysql\", \"parameter\": { \"connection\": [ { \"datasourceType\": \"mysql\", \"datasource\": \"mysql_pub1\", \"selectedTables\": [ { \"dbName\": \"mysql_db\", \"schema\": [ { \"tableInfos\": [ { \"table\": \"molin_di_test_in_pk_v4\" }]  }  ]  }  ]  }  ]  },  \"name\": \"Reader\",  \"category\": \"reader\"  },  {  \"stepType\": \"odps\",  \"parameter\": {  \"datasource\": \"odps_source\"  },  \"name\": \"Writer\",  \"category\": \"writer\"  }  ]  }"}},{"name":"ClientToken","in":"query","schema":{"description":"幂等参数。用于避免多次调用导致操作重复。","type":"string","required":false,"example":"ABFUOEUOTRTRJKE"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"Success":{"description":"请求是否成功。取值如下：\n- true：成功。\n- false：失败。","type":"boolean","example":"true"},"RequestId":{"description":"请求ID。用于定位日志，排查问题。","type":"string","example":"0bc1411515937635973****"},"Data":{"description":"异步线程ID的生成结果。","type":"object","properties":{"Status":{"description":"生成异步线程ID的结果状态。取值如下：\n- success：表示成功生成异步线程ID。\n- fail：表示异步线程ID生成失败。您可以查看失败原因，处理相关问题。","type":"string","example":"true"},"ProcessId":{"description":"异步线程ID。您需要通过该ID，调用[QueryDISyncTaskConfigProcessResult](~~383465~~)接口获取异步生成创建数据集成同步任务需要的参数，使用该参数创建数据集成同步任务。","type":"integer","format":"int64","example":"10"},"Message":{"description":"异步线程ID生成失败的原因描述。\n如果成功生成异步线程ID，则该参数的返回值为空。","type":"string","example":"XXX is invalid."}}}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.DI.Parameter","errorMessage":"The parameter is invalid."},{"errorCode":"Invalid.DI.Parameter.File.Existed","errorMessage":"The file name already exists."}],"403":[{"errorCode":"Forbidden.DI.NoPrivilege","errorMessage":"No access."}],"500":[{"errorCode":"InternalError.DI.Parameter","errorMessage":"A DI internal error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"RequestId\\\": \\\"0bc1411515937635973****\\\",\\n  \\\"Data\\\": {\\n    \\\"Status\\\": \\\"true\\\",\\n    \\\"ProcessId\\\": 10,\\n    \\\"Message\\\": \\\"XXX is invalid.\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GenerateDISyncTaskConfigForCreatingResponse>\\n    <Success>true</Success>\\n    <RequestId>0bc1411515937635973****</RequestId>\\n    <Data>\\n        <Status>true</Status>\\n        <ProcessId>10</ProcessId>\\n        <Message>XXX is invalid.</Message>\\n    </Data>\\n</GenerateDISyncTaskConfigForCreatingResponse>\",\"errorExample\":\"\"}]","title":"异步生成同时任务的JSON","summary":"异步生成同时任务的JSON。","description":"DataWorks目前仅支持直接使用[CreateDISyncTask](~~278725~~)接口创建数据集成离线同步任务，而数据集成实时同步任务和其他同步类型的任务则需要先调用[GenerateDISyncTaskConfigForCreating](~~383463~~)和[QueryDISyncTaskConfigProcessResult](~~383465~~)接口，获取异步生成创建数据集成同步任务需要的参数，再将该参数作为[CreateDISyncTask](~~278725~~)接口的入参，使用[CreateDISyncTask](~~278725~~)接口创建相应的实时同步任务和其他同步类型的同步任务。\n仅支持使用异步方式创建数据集成实时同步任务和其他同步类型的同步任务。"}