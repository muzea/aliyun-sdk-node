{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]},{"PrivateKey":[]},{"APP":[]}],"operationType":"write","deprecated":true,"parameters":[{"name":"ProjectId","in":"query","schema":{"description":"目标数据源所在的DataWorks工作空间ID。您可以调用[ListProjects](~~178393~~)接口获取工作空间ID。","type":"integer","format":"int64","required":true,"docRequired":true,"maximum":"10000000000","minimum":"1","example":"10000"}},{"name":"DatasourceName","in":"query","schema":{"description":"待分享的目标数据源名称。","type":"string","required":true,"docRequired":true,"example":"mysql_name"}},{"name":"EnvType","in":"query","schema":{"description":"目标数据源所属的环境。取值如下：\n- 0：开发环境。\n- 1：生产环境。","type":"string","required":false,"docRequired":true,"example":"1"}},{"name":"ProjectPermissions","in":"query","schema":{"description":"指定需要分享目标数据源的DataWorks工作空间。分享后，该工作空间的所有成员均可查看或使用目标数据源。使用JSONARRAY格式。[{\"projectId\":1000,\"permission\":\"WRITE\",\"sharedName\":\"PX_DATAHUB1.shared_name\"}]，\n参数说明如下：\n- projectId：需要分享目标数据源的工作空间ID。\n- permission：支持READ（读取）和WRITE（写入）两种模式权限。READ（读取）表示指定工作空间的所有成员仅可以读取目标数据源的数据，但是不能修改该数据；WRITE（写入）表示指定工作空间的所有成员可以修改目标数据源的数据。\n- sharedName：待分享的数据源名称。","type":"string","required":false,"example":"[{\"projectId\":1000,\"permission\":\"WRITE\",\"sharedName\":\"PX_DATAHUB1.shared_name\"}]"}},{"name":"UserPermissions","in":"query","schema":{"description":"指定需要分享目标数据源的用户。分享后，该用户可查看或使用目标数据源。使用JSONARRAY格式。[{\"projectId\":10000,\"users\":[{\"userId\":\"276184575345452131\",\"permission\":\"WRITE\"}],\"sharedName\":\"PX_DATAHUB1.shared_name\"}]，\n参数说明如下：\n- projectId：指定DataWorks工作空间的ID。表示需要分享目标数据源的用户仅在该工作空间下可查看或使用目标数据源。\n- userId：需要分享目标数据源的用户ID。\n- permission：支持READ（读取）和WRITE（写入）两种模式权限。READ（读取）表示指定的用户仅可以读取目标数据源的数据，但是不能修改该数据；WRITE（写入）表示指定的用户可以修改目标数据源的数据。\n- sharedName：待分享的数据源名称。\n\nProjectPermissions和UserPermissions如果都为空，则该接口不会做任何修改。如果都不为空，则既会UserPermissions生效，ProjectPermissions也会生效\n\n","type":"string","required":false,"example":"[{\"projectId\":10000,\"users\":[{\"userId\":\"276184575345452131\",\"permission\":\"WRITE\"}],\"sharedName\":\"PX_DATAHUB1.shared_name\"}]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Success":{"description":"请求是否成功。取值如下：\n- true：成功。\n- false：失败。","type":"boolean","example":"true"},"RequestId":{"description":"本次调用的唯一ID。用于出现错误后定位日志，排查问题。","type":"string","example":"0000-ABCD-EFG\t"},"Data":{"description":"分享目标数据源的返回数据。","type":"object","properties":{"Status":{"description":"分享目标数据源的结果状态。取值如下：\n- success：表示目标数据源分享成功。\n- fail：表示目标数据源分享失败。您可以查看Message参数定位失败原因。","type":"string","example":"success"},"Message":{"description":"分享目标数据源失败后的原因描述。如果分享目标数据源成功，则该参数的返回值为空。","type":"string","example":"datasource is wrong"}}}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.DI.Parameter","errorMessage":"The parameter is invalid."}],"403":[{"errorCode":"Forbidden.DI.NoPrivilege","errorMessage":"No access."}],"500":[{"errorCode":"InternalError.DI.Parameter","errorMessage":"A DI internal error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"RequestId\\\": \\\"0000-ABCD-EFG\\\\t\\\",\\n  \\\"Data\\\": {\\n    \\\"Status\\\": \\\"success\\\",\\n    \\\"Message\\\": \\\"datasource is wrong\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RequestId>0000-ABCD-EFG\\t</RequestId>\\n<Data>\\n    <Status>success</Status>\\n    <Message>datasource is wrong</Message>\\n</Data>\\n<Success>true</Success>\",\"errorExample\":\"\"}]","title":"分享目标数据源","summary":"分享目标数据源至指定DataWorks工作空间或指定用户。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}