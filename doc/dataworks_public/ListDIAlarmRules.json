{"summary":"查询数据集成新版任务告警规则列表，当前支持的任务类型包括：MySQL到Hologres整库实时解决方案。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","abilityTreeCode":"154898","abilityTreeNodes":["FEATUREdideTG7EYI"]},"parameters":[{"name":"DIJobId","in":"formData","schema":{"description":"任务ID，是告警规则关联的任务ID。","type":"integer","format":"int64","required":true,"example":"11260"}},{"name":"PageNumber","in":"formData","schema":{"description":"页码，默认为1。","type":"integer","format":"int64","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"formData","schema":{"description":"分页大小，默认为10。","type":"integer","format":"int64","required":false,"example":"10","default":"10"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"响应。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"74C2FECD-5B3A-554A-BCF5-351A36DE9815"},"DIAlarmRulePaging":{"description":"告警规则分页结果。","type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"integer","format":"int64","example":"2"},"PageNumber":{"description":"页码。","type":"integer","format":"int64","example":"1"},"PageSize":{"description":"分页大小。","type":"integer","format":"int64","example":"10"},"DIJobAlarmRules":{"description":"告警规则列表。","type":"array","items":{"description":"告警规则。","type":"object","properties":{"DIAlarmRuleId":{"description":"告警规则ID。","type":"integer","format":"int64","example":"41998"},"DIJobId":{"description":"任务ID，是告警规则关联的任务ID。","type":"integer","format":"int64","example":"11260"},"Description":{"description":"描述。","type":"string","example":"mysql同步到hologres心跳告警"},"MetricType":{"description":"告警指标类型，可选的枚举值：\n- Heartbeat（任务状态报警）\n- FailoverCount（failover次数报警）\n- Delay（任务延迟报警）","type":"string","enumValueTitles":{"Heartbeat":"任务状态报警","FailoverCount":"failover次数报警","Delay":"任务延迟报警"},"example":"Heartbeat"},"Enabled":{"description":"告警规则是否启用。","type":"boolean","example":"true"},"TriggerConditions":{"description":"告警触发条件列表，支持多条件。","type":"array","items":{"description":"告警触发条件。","type":"object","properties":{"Severity":{"description":"严重程度，可选的枚举值：\n- Warning\n- Critical","type":"string","enumValueTitles":{"Warning":"Warning","Critical":"Critical"},"example":"Warning"},"Duration":{"description":"告警计算时间区间，单位分钟。","type":"integer","format":"int64","example":"15"},"Threshold":{"description":"告警阈值。\n\n- 任务状态报警：无阈值。\n- failover次数报警：阈值为failover次数。\n- 任务延迟报警：阈值为延迟时长，单位秒。","type":"integer","format":"int64","example":"5"}}}},"NotificationSettings":{"description":"告警通知设置。","type":"object","properties":{"NotificationChannels":{"description":"告警通知渠道，支持多值。","type":"array","items":{"description":"告警通知渠道。","type":"object","properties":{"Severity":{"description":"严重程度，可选的枚举值：\n- Warning\n- Critical","type":"string","enumValueTitles":{"Warning":"Warning","Critical":"Critical"},"example":"Warning"},"Channels":{"description":"通道列表。","type":"array","items":{"description":"通道，可选的枚举值：\n- Mail（邮件）\n- Phone（电话）\n- Sms（短信）\n- Ding（钉钉）","type":"string","enumValueTitles":{"Mail":"邮件","Phone":"电话","Sms":"短信","Ding":"钉钉"},"example":"Ding"}}}}},"NotificationReceivers":{"description":"告警通知接收方，支持多值。","type":"array","items":{"description":"告警通知接收方。","type":"object","properties":{"ReceiverType":{"description":"接收方类型。\n\n- 当告警通知渠道为邮件、电话、短信时，接收方类型为阿里云用户ID。\n- 当告警通知渠道为钉钉时，接收方类型为钉钉token。","type":"string","enumValueTitles":{"DingToken":"钉钉token","AliyunUid":"阿里云用户ID"},"example":"DingToken"},"ReceiverValues":{"description":"接收方取值列表。","type":"array","items":{"description":"接收方取值。\n\n- 当接收方类型为阿里云ID时，接收方取值为具体阿里云用户ID。\n- 当接收方类型为钉钉token时，接收方取值为具体钉钉token值。","type":"string","example":"token1"}}}}},"InhibitionInterval":{"description":"告警抑制间隔时长，单位分钟。","type":"integer","format":"int32","example":"5"}}}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.Access","errorMessage":"Access is forbidden. Please first activate DataWorks Enterprise Edition or Flagship Edition."}],"429":[{"errorCode":"Throttling.Api","errorMessage":"The request for this resource has exceeded your available limit."},{"errorCode":"Throttling.System","errorMessage":"The DataWorks system is busy. Try again later."},{"errorCode":"Throttling.User","errorMessage":"Your request is too frequent. Try again later."}],"500":[{"errorCode":"InternalError.System","errorMessage":"An internal system error occurred. Try again later."},{"errorCode":"InternalError.UserId.Missing","errorMessage":"An internal system error occurred. Try again later."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"74C2FECD-5B3A-554A-BCF5-351A36DE9815\\\",\\n  \\\"DIAlarmRulePaging\\\": {\\n    \\\"TotalCount\\\": 2,\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"DIJobAlarmRules\\\": [\\n      {\\n        \\\"DIAlarmRuleId\\\": 41998,\\n        \\\"DIJobId\\\": 11260,\\n        \\\"Description\\\": \\\"mysql同步到hologres心跳告警\\\",\\n        \\\"MetricType\\\": \\\"Heartbeat\\\",\\n        \\\"Enabled\\\": true,\\n        \\\"TriggerConditions\\\": [\\n          {\\n            \\\"Severity\\\": \\\"Warning\\\",\\n            \\\"Duration\\\": 15,\\n            \\\"Threshold\\\": 5\\n          }\\n        ],\\n        \\\"NotificationSettings\\\": {\\n          \\\"NotificationChannels\\\": [\\n            {\\n              \\\"Severity\\\": \\\"Warning\\\",\\n              \\\"Channels\\\": [\\n                \\\"Ding\\\"\\n              ]\\n            }\\n          ],\\n          \\\"NotificationReceivers\\\": [\\n            {\\n              \\\"ReceiverType\\\": \\\"DingToken\\\",\\n              \\\"ReceiverValues\\\": [\\n                \\\"token1\\\"\\n              ]\\n            }\\n          ],\\n          \\\"InhibitionInterval\\\": 5\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListDIAlarmRulesResponse>\\n    <RequestId>74C2FECD-5B3A-554A-BCF5-351A36DE9815</RequestId>\\n    <DIAlarmRulePaging>\\n        <TotalCount>2</TotalCount>\\n        <PageNumber>1</PageNumber>\\n        <PageSize>10</PageSize>\\n        <DIJobAlarmRules>\\n            <DIAlarmRuleId>41998</DIAlarmRuleId>\\n            <DIJobId>11260</DIJobId>\\n            <Description>mysql同步到hologres心跳告警</Description>\\n            <MetricType>Heartbeat</MetricType>\\n            <Enabled>true</Enabled>\\n            <TriggerConditions>\\n                <Severity>Warning</Severity>\\n                <Duration>15</Duration>\\n                <Threshold>5</Threshold>\\n            </TriggerConditions>\\n            <NotificationSettings>\\n                <NotificationChannels>\\n                    <Severity>Warning</Severity>\\n                    <Channels>Ding</Channels>\\n                </NotificationChannels>\\n                <NotificationReceivers>\\n                    <ReceiverType>DingToken</ReceiverType>\\n                    <ReceiverValues>token1</ReceiverValues>\\n                </NotificationReceivers>\\n                <InhibitionInterval>5</InhibitionInterval>\\n            </NotificationSettings>\\n        </DIJobAlarmRules>\\n    </DIAlarmRulePaging>\\n</ListDIAlarmRulesResponse>\",\"errorExample\":\"\"}]","title":"查询数据集成新版任务告警规则列表","description":"当您的任务同步类型中包含实时同步时，支持设置告警规则。"}