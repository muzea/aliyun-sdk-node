{"summary":"该接口用于创建DataWorks数据源。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"ProjectId","in":"query","schema":{"description":"数据源所在的DataWorks工作空间ID。您可以通过[ListProjects](~~2780068~~)接口获取工作空间ID。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1"}},{"name":"Name","in":"query","schema":{"description":"数据源的名称。","type":"string","required":true,"docRequired":true,"example":"abc"}},{"name":"Description","in":"query","schema":{"description":"数据源的描述信息。","type":"string","required":false,"example":"abc"}},{"name":"DataSourceType","in":"query","schema":{"description":"数据源的类型。常用类型如下：\n- odps\n- mysql\n- rds\n- oss\n- sqlserver\n- polardb\n- oracle\n- mongodb\n- emr\n- postgresql\n- analyticdb_for_mysql\n- hybriddb_for_postgresql\n- holo","type":"string","required":true,"docRequired":true,"example":"rds"}},{"name":"SubType","in":"query","schema":{"description":"数据源的子类型。使用如下：\n\n- 当DataSourceType参数配置为RDS时，SubType参数生效。\n- 如果DataSourceType参数配置为RDS，SubType参数支持配置为mysql、sqlserver或postgresql。","type":"string","required":false,"example":"mysql"}},{"name":"EnvType","in":"query","schema":{"description":"数据源所属的环境，包括0（开发环境）和1（生产环境）。\n\n","type":"integer","format":"int32","required":true,"docRequired":true,"example":"1"}},{"name":"Content","in":"query","schema":{"description":"数据源的详细信息。部分常用数据源样例如下：\n- odps\n  ```\n  {\n    \"accessId\": \"xssssss\",\n    \"accessKey\": \"xsaxsaxsa\",\n    \"authType\": 2,\n    \"endpoint\": \"http://service.odps.aliyun.com/api\",\n    \"project\": \"xsaxsax\",\n    \"tag\": \"public\"\n  }\n  ```\n- mysql\n  ```\n  {\n    \"database\": \"xsaxsa\",\n    \"instanceName\": \"rm-xsaxsa\",\n    \"password\": \"xsaxsa\",\n    \"rdsOwnerId\": \"xasxsa\",\n    \"regionId\": \"cn-shanghai\",\n    \"tag\": \"rds\",\n    \"username\": \"xsaxsa\"\n  }\n  ```\n- rds\n  ```\n  {\n    \"configType\": 1,\n    \"tag\": \"rds\",\n    \"database\": \"xsaxsa\",\n    \"username\": \"xsaxsa\",\n    \"password\": \"xssaxsa$32050\",\n    \"instanceName\": \"rm-xsaxs\",\n    \"rdsOwnerId\": \"11111111\"\n  }\n  ```\n- oss\n  ```\n  {\n    \"accessId\": \"sssssxx\",\n    \"accessKey\": \"xsaxaxsaxs\",\n    \"bucket\": \"xsa-xs-xs\",\n    \"endpoint\": \"http://oss-cn-shanghai.aliyuncs.com\",\n    \"tag\": \"public\"\n  }\n  ```\n- sqlserver\n  ```\n  {\n    \"jdbcUrl\": \"jdbc:sqlserver://xsaxsa-xsaxsa.database.xxx.cn:123;DatabaseName=xsxs-xsxs\",\n    \"password\": \"sdasda$fs\",\n    \"tag\": \"public\",\n    \"username\": \"sxaxacdacdd\"\n  }\n  ```\n- polardb\n  ```\n  {\n    \"clusterId\": \"pc-sdadsadsa\",\n    \"database\": \"dsadsadsa\",\n    \"ownerId\": \"121212122\",\n    \"password\": \"sdasdafssa\",\n    \"region\": \"cn-shanghai\",\n    \"tag\": \"polardb\",\n    \"username\": \"asdadsads\"\n  }\n  ```\n- redis\n  ```\n  {    \n  \"password\": \"xxxxxx\",   \n   \"address\":\"[{\\\"host\\\":\\\"xxxxxxx.redis.rds.aliyuncs.com\\\",\\\"port\\\":6379}]\",    \n  \"tag\": \"public\"\n  }\n  ```\n- oracle\n  ```\n  {\n    \"jdbcUrl\": \"jdbc:oracle:saaa:@xxxxx:1521:PROD\",\n    \"password\": \"sxasaxsa\",\n    \"tag\": \"public\",\n    \"username\": \"sasfadfa\"\n  }\n  ```\n- mongodb\n  ```\n  {\n    \"address\": \"[\\\"xsaxxsa.mongodb.rds.aliyuncs.com:3717\\\"]\",\n    \"database\": \"admin\",\n    \"password\": \"sadsda@\",\n    \"tag\": \"public\",\n    \"username\": \"dsadsadas\"\n  }\n  ```\n- emr\n  ```\n  {\n    \"accessId\": \"xsaxsa\",\n    \"emrClusterId\": \"C-dsads\",\n    \"emrResourceQueueName\": \"default\",\n    \"emrEndpoint\": \"emr.aliyuncs.com\",\n    \"accessKey\": \"dsadsad\",\n    \"emrUserId\": \"224833315798889783\",\n    \"name\": \"sasdsadsa\",\n    \"emrAccessMode\": \"simple\",\n    \"region\": \"cn-shanghai\",\n    \"authType\": \"2\",\n    \"emrProjectId\": \"FP-sdadsad\"\n  }\n  ```\n- postgresql\n  ```\n  {\n    \"jdbcUrl\": \"jdbc:postgresql://xxxx:1921/ssss\",\n    \"password\": \"sdadsads\",\n    \"tag\": \"public\",\n    \"username\": \"sdsasda\"\n  }\n  ```\n- analyticdb_for_mysql\n  ```\n  {\n    \"instanceId\": \"am-sadsada\",\n    \"database\": \"xsxsx\",\n    \"username\": \"xsxsa\",\n    \"password\": \"asdadsa\",\n    \"connectionString\": \"am-xssxsxs.ads.aliyuncs.com:3306\"\n  }\n  ```\n- hybriddb_for_postgresql\n  ```\n  {\n    \"connectionString\": \"gp-xsaxsaxa-master.gpdbmaster.rds.aliyuncs.com\",\n    \"database\": \"xsaxsaxas\",\n    \"password\": \"xsaxsaxsa@11\",\n    \"instanceId\": \"gp-xsaxsaxsa\",\n    \"port\": \"541132\",\n    \"ownerId\": \"xsaxsaxsas\",\n    \"username\": \"sadsad\"\n  }\n  ```\n- holo\n  ```\n  {\n    \"accessId\": \"xsaxsaxs\",\n    \"accessKey\": \"xsaxsaxsa\",\n    \"database\": \"xsaxsaxsa\",\n    \"instanceId\": \"xsaxa\",\n    \"tag\": \"aliyun\"\n  }\n  ```\n- kafka\n  ```\n  {\n    \"instanceId\": \"xsax-cn-xsaxsa\",\n    \"regionId\": \"cn-shanghai\",\n    \"tag\": \"aliyun\",\n    \"ownerId\": \"1212121212112\"\n  }\n  ```","type":"string","required":true,"docRequired":true,"example":"{\"database\":\"dbname\",\"instanceName\":\"instancename\",\"password\":\"password\",\"rdsOwnerId\":\"123\",\"username\":\"username\"}"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"HttpStatusCode":{"description":"请求返回码。","type":"string","example":"200"},"Data":{"description":"数据源ID。","type":"integer","format":"int64","example":"123"},"RequestId":{"description":"请求ID。","type":"string","example":"0bc141151593763****"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.Tenant.ConnectionNotExists","errorMessage":"The connection does not exist."},{"errorCode":"Invalid.Tenant.ProjectNotExists","errorMessage":"The project does not exist."},{"errorCode":"Invalid.Tenant.UserNotInProject","errorMessage":"The user is not in the project."},{"errorCode":"ConnectionAlreadyExist","errorMessage":"The connection with envType %s and name %s already exists."},{"errorCode":"DataSource.CheckRamRoleFailure","errorMessage":"Failed to check the RAM role. AccountId %s. roleArn %s."},{"errorCode":"DataSource.ConnectionStrProperty.PatternNotMatch","errorMessage":"The pattern value %s is invalid. The correct pattern is %s."},{"errorCode":"Invalid.DataSource.DataSourceTypeNotSupport","errorMessage":"The dataSourceType %s and subType %s are not supported."},{"errorCode":"Invalid.Param.Odps.EngineIdOrConnectStrEmpty","errorMessage":"Either the compute engine ID or the connection string must be specified when data source type is ODPS."},{"errorCode":"MissingParam.ConnectionStr.Property","errorMessage":"You must specify property %s required by the data source connection string."},{"errorCode":"Invalid.DataSource.DataSourceTypeNotExist","errorMessage":"The data source type %s does not exist."}],"403":[{"errorCode":"Invalid.Tenant.UserIsNotProjectOwnerOrAdmin","errorMessage":"The user is not a project administrator or owner."},{"errorCode":"Invalid.Tenant.UserNotInTenant","errorMessage":"The user is not in tenant."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": \\\"200\\\",\\n  \\\"Data\\\": 123,\\n  \\\"RequestId\\\": \\\"0bc141151593763****\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDataSourceResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <Data>123</Data>\\n    <RequestId>0bc141151593763****</RequestId>\\n    <Success>true</Success>\\n</CreateDataSourceResponse>\",\"errorExample\":\"\"}]","title":"创建数据源","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}