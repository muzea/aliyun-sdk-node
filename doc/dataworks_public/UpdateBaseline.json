{"summary":"更新基线","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"158726","abilityTreeNodes":["FEATUREdideSFSFU4"]},"parameters":[{"name":"BaselineId","in":"formData","schema":{"description":"基线的ID, 可通过 [ListBaselines](~~2261507~~) 获取。","type":"integer","format":"int64","required":true,"example":"1000010800007"}},{"name":"ProjectId","in":"formData","schema":{"description":"项目ID, 可通过 [ListBaselines](~~2261507~~) 获取。","type":"integer","format":"int64","required":true,"example":"2043"}},{"name":"BaselineName","in":"formData","schema":{"title":"基线名","description":"基线名。","type":"string","required":false,"example":"BaselineName"}},{"name":"Owner","in":"formData","schema":{"title":"责任人","description":"基线责任人的阿里云uid。","type":"string","required":false,"example":"3726346****"}},{"name":"Priority","in":"formData","schema":{"title":"基线优先级","description":"基线的优先级，取值范围为{1,3,5,7,8}。","type":"integer","format":"int32","required":false,"example":"7"}},{"name":"NodeIds","in":"formData","schema":{"description":"基线上游节点列表，使用逗号分割，节点较多的情况下，建议在其下游增加虚节点，便于管理。","type":"string","required":false,"example":"1,2,3"}},{"name":"OvertimeSettings","in":"formData","style":"json","schema":{"title":"基线承诺时间","description":"基线承诺时间配置。","type":"array","items":{"description":"周期。","type":"object","properties":{"Cycle":{"title":"周期，取值范围 [1,24]","description":"承诺时间对应的周期，天基线是1，小时基线可以配置最多24个周期。","type":"integer","format":"int32","required":false,"example":"1"},"Time":{"title":"承诺时间，hh:mm格式，hh的取值范围为[0,47]，mm的取值范围为[0,59]","description":"承诺时间，hh:mm格式，hh的取值范围为[0,47]，mm的取值范围为[0,59]。","type":"string","required":false,"example":"00:00"}},"required":false},"required":false,"maxItems":24}},{"name":"AlertMarginThreshold","in":"formData","schema":{"title":"基线预警余量","description":"基线预警余量，单位为分钟。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"BaselineType","in":"formData","schema":{"title":"基线类型 (DAILY, HOURLY)","description":"基线类型，包括DAILY（天基线）和HOURLY（小时基线）。","type":"string","required":false,"example":"DAILY"}},{"name":"Enabled","in":"formData","schema":{"title":"是否开启基线","description":"基线是否开启，包括true（可用）和false（不可用）。","type":"boolean","required":false,"example":"true"}},{"name":"AlertEnabled","in":"formData","schema":{"title":"是否开启告警","description":"是否开启告警，包括true（开启）和false（关闭）。","type":"boolean","required":false,"example":"true"}},{"name":"AlertSettings","in":"formData","style":"json","schema":{"title":"告警配置","description":"基线告警配置。","type":"array","items":{"description":"告警配置。","type":"object","properties":{"AlertType":{"title":"告警类型，BASELINE / TOPIC","description":"告警类型，BASELINE - 基线 / TOPIC - 事件。","type":"string","required":false,"example":"BASELINE"},"AlertMethods":{"title":"告警方式","description":"MAIL（邮件）\nSMS（短信）\nPHONE（电话），仅DataWorks专业版及以上版本支持使用电话方式接收报警。\nDINGROBOTS（钉钉机器人），仅当配置RobotUrls参数后，该报警方式才会生效。\nWebhooks（企业微信或飞书机器人），仅当配置 Webhooks 参数后，该报警方式才会生效。","type":"array","items":{"description":"报警的方式","type":"string","required":false,"example":"SMS"},"required":false},"SilenceStartTime":{"title":"静默开始时间","description":"静默开始时间。","type":"string","required":false,"example":"00:00:00"},"SilenceEndTime":{"title":"静默结束时间","description":"静默结束时间。","type":"string","required":false,"example":"00:00:00"},"AlertInterval":{"title":"事件告警间隔","description":"事件告警间隔，单位为秒，最小为900。","type":"integer","format":"int32","required":false,"maximum":"1440","minimum":"5","example":"1800"},"AlertMaximum":{"title":"事件告警最大次数","description":"事件告警最大次数，最大为24。","type":"integer","format":"int32","required":false,"maximum":"288","minimum":"1","example":"1"},"DingRobots":{"title":"钉钉机器人列表","description":"钉钉机器人列表","type":"array","items":{"description":"钉钉机器人配置。","type":"object","properties":{"WebUrl":{"description":"钉钉群机器人的webhook地址。","type":"string","required":false,"example":"https://oapi.dingtalk.com/robot/send?access_token=xxx\t"},"AtAll":{"description":"是否@所有人，包括true（是）和false（否）。","type":"boolean","required":false,"example":"false"}},"required":false},"required":false,"maxItems":10},"Webhooks":{"title":"webhook 列表","description":"webhook 列表。","type":"array","items":{"description":"企业微信或飞书机器人的webhook地址，多个webhook地址之间使用英文逗号（,）分隔。alertMethods 中需要包含 WEBHOOKS 告警方式。当该参数配置为undefined时，系统会清空WebHook地址。\n\n仅DataWorks企业版支持。\n可用地域：华东2（上海）、西南1（成都）、华北3（张家口）、华北2（北京）、华东1（杭州）、华南1（深圳）、中国（香港）、欧洲中部 1（法兰克福）、亚太东南1（新加坡）。","type":"string","required":false,"example":"https://open.feishu.cn/open-apis/bot/v2/hook/xxx\t"},"required":false,"maxItems":10},"TopicTypes":{"title":"事件告警类型，事件特有配置","description":"事件告警类型，事件特有配置。","type":"array","items":{"description":"事件的类型，包括SLOW（变慢）和ERROR（出错）。多个事件类型之间使用英文逗号（,）分隔。","type":"string","required":false,"example":"SLOW"},"required":false,"maxItems":10},"BaselineAlertEnabled":{"title":"基线告警开关，基线特有配置","description":"基线告警开关，基线特有配置，包括true（是）和false（否）。","type":"boolean","required":false,"example":"true"},"AlertRecipientType":{"title":"告警接收人类型","description":"告警接收人类型，OWNER（任务责任人）/ OTHER（指定的人）/ SHIFT_SCHEDULE（值班表）。","type":"string","required":false,"example":"OWNER"},"AlertRecipient":{"title":"告警接收人详情","description":"告警接收人详情，指定人：工号列表，值班表：值班表名，责任人：空。","type":"string","required":false,"example":"123123"}},"required":false},"required":false}},{"name":"RemoveNodeIds","in":"formData","schema":{"description":"需要从基线上提出的节点ID，多个ID间使用,分隔","type":"string","required":false,"example":"123,456"}}],"responses":{"200":{"schema":{"title":"OpenApiResultModel<Boolean>","description":"OpenApiResultModel<Boolean>","type":"object","properties":{"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrorCode":{"description":"错误码。","type":"string","example":"401"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"The specified parameters are invalid."},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Data":{"description":"基线是否更新成功。","type":"boolean","example":"true"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"6E07E90B-D9BC-5D6B-896A-82BA41A34AE1"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"ErrorCode\\\": \\\"401\\\",\\n  \\\"ErrorMessage\\\": \\\"The specified parameters are invalid.\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Data\\\": true,\\n  \\\"RequestId\\\": \\\"6E07E90B-D9BC-5D6B-896A-82BA41A34AE1\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateBaselineResponse>\\n    <Success>true</Success>\\n    <ErrorCode>401</ErrorCode>\\n    <ErrorMessage>The specified parameters are invalid.</ErrorMessage>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <Data>true</Data>\\n    <RequestId>6E07E90B-D9BC-5D6B-896A-82BA41A34AE1</RequestId>\\n</UpdateBaselineResponse>\",\"errorExample\":\"\"}]","title":"修改基线配置"}