{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"78310","abilityTreeNodes":["FEATUREdide8FM783"]},"parameters":[{"name":"FileFolderPath","in":"formData","schema":{"description":"文件所在的文件夹路径。","type":"string","required":false,"docRequired":false,"example":"业务流程/我的第一个业务流程/MaxCompute/ods层"}},{"name":"ProjectId","in":"formData","schema":{"description":"DataWorks工作空间的ID。您可以登录[DataWorks控制台](https://workbench.data.aliyun.com/console)，进入工作空间配置页面获取工作空间ID。\n\n该参数与ProjectIdentifier参数，二者必须设置其一，用来确定本次API调用操作的DataWorks工作空间。","type":"integer","format":"int64","required":false,"docRequired":false,"example":"10000"}},{"name":"Keyword","in":"formData","schema":{"description":"文件名称的关键字。支持模糊匹配，即输入关键字即可查询包含该关键字的所有文件。","type":"string","required":false,"docRequired":false,"example":"ods"}},{"name":"ProjectIdentifier","in":"formData","schema":{"description":"DataWorks工作空间的名称。您可以登录[DataWorks控制台](https://workbench.data.aliyun.com/console)，进入工作空间配置页面获取工作空间名称。\n\n该参数与ProjectId参数，二者必须设置其一，用来确定本次API调用操作的DataWorks工作空间。","type":"string","required":false,"example":"dw_project"}},{"name":"PageNumber","in":"formData","schema":{"description":"请求的数据页数，用于翻页。","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"formData","schema":{"description":"每页显示的条数，默认为10条，最大为100条。","type":"integer","format":"int32","required":false,"docRequired":false,"maximum":"100","minimum":"0","example":"10","default":"10"}},{"name":"UseType","in":"formData","schema":{"description":"文件所属的功能模块。取值如下：\n- NORMAL：数据开发。\n- MANUAL：手动任务。\n- MANUAL_BIZ：手动业务流程。\n- SKIP：数据开发的空跑调度。\n- ADHOCQUERY：临时查询。\n- COMPONENT：组件管理。","type":"string","required":false,"example":"NORMAL"}},{"name":"FileTypes","in":"formData","schema":{"description":"文件的代码类型。\n\n常用的代码及其对应的文件类型包括6（Shell）、10（ODPS SQL）、11（ODPS MR）、23（数据集成）、24（ODPS Script）、97（PAI）、98（组合节点）、99（虚拟节点）、221（PyODPS 2）、225（ODPS Spark）、227（EMR Hive）、228（EMR Spark）、229（EMR Spark SQL）、230（EMR MR）、239（OSS对象检查）、257（EMR Shell）、258（EMR Spark Shell）、259（EMR Presto）、260（EMR Impala）、900（实时同步）、1002（PAI内部节点）、1089（跨租户节点）、1091（Hologres开发）、1093（Hologres SQL）、1100（赋值节点）、1106（遍历节点（foreach））、1221（PyODPS 3）。","type":"string","required":false,"example":"10,23"}},{"name":"Owner","in":"formData","schema":{"description":"文件责任人。","type":"string","required":false,"example":"3726346****"}},{"name":"NodeId","in":"formData","schema":{"description":"调度节点的ID。您可以调用[ListNodes](~~173979~~)接口获取节点ID。","type":"integer","format":"int64","required":false,"example":"123541234"}},{"name":"NeedContent","in":"formData","schema":{"description":"查询结果是否包含文件内容（对于内容较多的文件，可能存在较长的网络传输延时）。","type":"boolean","required":false,"example":"false"}},{"name":"NeedAbsoluteFolderPath","in":"formData","schema":{"description":"查询结果是否包含文件所在的文件夹的路径。","type":"boolean","required":false,"example":"false"}},{"name":"ExactFileName","in":"formData","schema":{"description":"精确匹配的文件名称，查询结果的文件名称与该参数完全一致。","type":"string","required":false,"example":"ods_create.sql"}},{"name":"FileIdIn","in":"formData","schema":{"description":"Fileld列表，查询结果的文件ID集合只能是该列表的子集。最多支持一次指定50个FileId。","type":"string","required":false,"example":"78237,816123"}}],"responses":{"200":{"schema":{"description":"返回结果。","type":"object","properties":{"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"ErrorMessage":{"description":"错误信息。","type":"string","example":"The connection does not exist."},"RequestId":{"description":"请求ID。用于出现错误后排查问题。","type":"string","example":"0000-ABCD-EFG"},"ErrorCode":{"description":"错误码。","type":"string","example":"Invalid.Tenant.ConnectionNotExists"},"Success":{"description":"调用是否成功。取值如下：\n- true：调用成功。\n- false：调用失败。","type":"boolean","example":"true"},"Data":{"description":"满足条件的文件列表。","type":"object","properties":{"PageNumber":{"description":"请求的数据页数。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示的数据条数。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"满足条件的数据总条数。","type":"integer","format":"int32","example":"13"},"Files":{"description":"文件详情。","type":"array","items":{"description":"文件信息。","type":"object","properties":{"CommitStatus":{"description":"文件当前的提交状态，包括0（未提交最新的代码）和1（已提交最新的代码）。","type":"integer","format":"int32","example":"1"},"AutoParsing":{"description":"文件是否开启自动解析功能。取值如下：\n- true：文件会自动解析代码。\n- false：文件不会自动解析代码。\n\n该参数与[DataWorks控制台](https://workbench.data.aliyun.com/console)中，数据开发任务的“调度配置>调度依赖”选择“同周期”时的“代码解析”对应。","type":"boolean","example":"true"},"Owner":{"description":"文件责任人的阿里云用户ID。\n","type":"string","example":"3872572****"},"CreateTime":{"description":"文件创建时间的毫秒时间戳。\n","type":"integer","format":"int64","example":"1593950832000"},"FileType":{"description":"文件的代码类型。常用的代码及其对应的文件类型包括6（Shell）、10（ODPS SQL）、11（ODPS MR）、23（数据集成）、24（ODPS Script）、99（虚拟节点）、221（PyODPS 2）、225（ODPS Spark）、227（EMR Hive）、228（EMR Spark）、229（EMR Spark SQL）、230（EMR MR）、239（OSS对象检查）、257（EMR Shell）、258（EMR Spark Shell）、259（EMR Presto）、260（EMR Impala）、900（实时同步）、1089（跨租户节点）、1091（Hologres开发）、1093（Hologres SQL）、1100（赋值节点）、1221（PyODPS 3）。","type":"integer","format":"int32","example":"10"},"CurrentVersion":{"description":"文件当前已经提交的最新版本号。","type":"integer","format":"int32","example":"2"},"BizId":{"description":"文件所属的业务流程ID。该字段已废弃，请使用BusinessId字段。","type":"integer","format":"int64","example":"300000"},"LastEditUser":{"description":"最近一次编辑文件的用户阿里云用户ID。\n","type":"string","example":"38748246285727"},"FileName":{"description":"文件的名称。\n","type":"string","example":"ods_user_info_d"},"ConnectionName":{"description":"文件对应的任务执行时所使用的数据源名称。","type":"string","example":"odps_source"},"UseType":{"description":"文件所属的功能模块。取值如下：\n- NORMAL：数据开发。\n- MANUAL：手动任务。\n- MANUAL_BIZ：手动业务流程。\n- SKIP：数据开发的空跑调度。\n- ADHOCQUERY：临时查询。\n- COMPONENT：组件管理。\n","type":"string","example":"NORMAL"},"FileFolderId":{"description":"文件所在文件夹的ID。\n","type":"string","example":"2735c2****"},"FileId":{"description":"文件的ID。","type":"integer","format":"int64","example":"10000001"},"ParentId":{"description":"如果当前文件是组合节点文件的内部文件，该字段标识对应组合节点文件的ID。","type":"integer","format":"int64","example":"-1"},"CreateUser":{"description":"文件创建者的阿里云用户ID。\n","type":"string","example":"382762****"},"IsMaxCompute":{"description":"如果当前文件是MaxCompute资源文件，该字段标识该资源文件是否需要上传至MaxCompute。\n\n仅当文件是MaxCompute资源文件时才需要配置该参数。","type":"boolean","example":"false"},"BusinessId":{"description":"文件所属的业务流程ID。","type":"integer","format":"int64","example":"300000"},"FileDescription":{"description":"文件的描述信息。\n","type":"string","example":"my test datastudio file"},"LastEditTime":{"description":"最近一次编辑文件的毫秒时间戳。\n","type":"integer","format":"int64","example":"1593950832000"},"Content":{"description":"该参数已废弃。您可通过[GetFile](~~173954~~)接口查询。","type":"string","example":"SHOW TABLES;"},"NodeId":{"description":"提交文件后，在调度系统生成的调度任务的ID。","type":"integer","format":"int64","example":"300001"},"AbsoluteFolderPath":{"description":"文件所在的文件夹的路径","type":"string","example":"业务流程/我的第一个业务流程/MaxCompute/ods层"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.Access","errorMessage":"Access is forbidden. Please first activate DataWorks Enterprise Edition or Flagship Edition."}],"429":[{"errorCode":"Throttling.Api","errorMessage":"The request for this resource has exceeded your available limit."},{"errorCode":"Throttling.System","errorMessage":"The DataWorks system is busy. Try again later."},{"errorCode":"Throttling.User","errorMessage":"Your request is too frequent. Try again later."}],"500":[{"errorCode":"InternalError.System","errorMessage":"An internal system error occurred. Try again later."},{"errorCode":"InternalError.UserId.Missing","errorMessage":"An internal system error occurred. Try again later."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"ErrorMessage\\\": \\\"The connection does not exist.\\\",\\n  \\\"RequestId\\\": \\\"0000-ABCD-EFG\\\",\\n  \\\"ErrorCode\\\": \\\"Invalid.Tenant.ConnectionNotExists\\\",\\n  \\\"Success\\\": true,\\n  \\\"Data\\\": {\\n    \\\"PageNumber\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"TotalCount\\\": 13,\\n    \\\"Files\\\": [\\n      {\\n        \\\"CommitStatus\\\": 1,\\n        \\\"AutoParsing\\\": true,\\n        \\\"Owner\\\": \\\"3872572****\\\",\\n        \\\"CreateTime\\\": 1593950832000,\\n        \\\"FileType\\\": 10,\\n        \\\"CurrentVersion\\\": 2,\\n        \\\"BizId\\\": 300000,\\n        \\\"LastEditUser\\\": \\\"38748246285727\\\",\\n        \\\"FileName\\\": \\\"ods_user_info_d\\\",\\n        \\\"ConnectionName\\\": \\\"odps_source\\\",\\n        \\\"UseType\\\": \\\"NORMAL\\\",\\n        \\\"FileFolderId\\\": \\\"2735c2****\\\",\\n        \\\"FileId\\\": 10000001,\\n        \\\"ParentId\\\": -1,\\n        \\\"CreateUser\\\": \\\"382762****\\\",\\n        \\\"IsMaxCompute\\\": false,\\n        \\\"BusinessId\\\": 300000,\\n        \\\"FileDescription\\\": \\\"my test datastudio file\\\",\\n        \\\"LastEditTime\\\": 1593950832000,\\n        \\\"Content\\\": \\\"SHOW TABLES;\\\",\\n        \\\"NodeId\\\": 300001,\\n        \\\"AbsoluteFolderPath\\\": \\\"业务流程/我的第一个业务流程/MaxCompute/ods层\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListFilesResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <ErrorMessage>The connection does not exist.</ErrorMessage>\\n    <RequestId>0000-ABCD-EFG</RequestId>\\n    <ErrorCode>Invalid.Tenant.ConnectionNotExists</ErrorCode>\\n    <Success>true</Success>\\n    <Data>\\n        <PageNumber>1</PageNumber>\\n        <PageSize>10</PageSize>\\n        <TotalCount>13</TotalCount>\\n        <Files>\\n            <CommitStatus>1</CommitStatus>\\n            <AutoParsing>true</AutoParsing>\\n            <Owner>3872572****</Owner>\\n            <CreateTime>1593950832000</CreateTime>\\n            <FileType>10</FileType>\\n            <CurrentVersion>2</CurrentVersion>\\n            <BizId>300000</BizId>\\n            <LastEditUser>38748246285727</LastEditUser>\\n            <FileName>ods_user_info_d</FileName>\\n            <ConnectionName>odps_source</ConnectionName>\\n            <UseType>NORMAL</UseType>\\n            <FileFolderId>2735c2****</FileFolderId>\\n            <FileId>10000001</FileId>\\n            <ParentId>-1</ParentId>\\n            <CreateUser>382762****</CreateUser>\\n            <IsMaxCompute>false</IsMaxCompute>\\n            <BusinessId>300000</BusinessId>\\n            <FileDescription>my test datastudio file</FileDescription>\\n            <LastEditTime>1593950832000</LastEditTime>\\n            <Content>SHOW TABLES;</Content>\\n            <NodeId>300001</NodeId>\\n        </Files>\\n    </Data>\\n</ListFilesResponse>\",\"errorExample\":\"\"}]","title":"查询文件列表","summary":"调用ListFiles查询文件列表。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}