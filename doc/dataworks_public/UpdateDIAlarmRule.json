{"summary":"更新数据集成新版任务告警规则，当前支持的任务类型包括：MySQL到Hologres整库实时解决方案。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"154892","abilityTreeNodes":["FEATUREdide39WW3A"]},"parameters":[{"name":"DIAlarmRuleId","in":"formData","schema":{"description":"告警规则ID。","type":"integer","format":"int64","required":true,"example":"34982"}},{"name":"Description","in":"formData","schema":{"description":"描述。","type":"string","required":false,"example":"mysql同步到hologres心跳告警"}},{"name":"MetricType","in":"formData","schema":{"description":"告警指标类型，可选的枚举值：\n- Heartbeat（任务状态报警）\n- FailoverCount（failover次数报警）\n- Delay（任务延迟报警）","type":"string","required":true,"enumValueTitles":{"Heartbeat":"任务状态报警","FailoverCount":"failover次数报警","Delay":"任务延迟报警"},"example":"Heartbeat"}},{"name":"TriggerConditions","in":"formData","style":"json","schema":{"description":"告警触发条件列表，支持多条件。","type":"array","items":{"description":"告警触发条件。","type":"object","properties":{"Severity":{"description":"严重程度，可选的枚举值;\n- Warning\n- Critical","type":"string","required":false,"enumValueTitles":{"Warning":"Warning","Critical":"Critical"},"example":"Warning"},"Duration":{"description":"告警计算时间区间，单位分钟。","type":"integer","format":"int64","required":false,"example":"15"},"Threshold":{"description":"告警阈值。\n\n- 任务状态报警：无需填写阈值。\n- failover次数报警：阈值为failover次数。\n- 任务延迟报警：阈值为延迟时长，单位秒。","type":"integer","format":"int64","required":false,"example":"5"}},"required":false},"required":true}},{"name":"NotificationSettings","in":"formData","style":"json","schema":{"description":"告警通知设置。","type":"object","properties":{"NotificationChannels":{"description":"告警通知渠道，支持多值。","type":"array","items":{"description":"告警通知渠道。","type":"object","properties":{"Severity":{"description":"严重程度，可选的枚举值：\n- Warning\n- Critical","type":"string","required":false,"enumValueTitles":{"Warning":"Warning","Critical":"Critical"},"example":"Warning"},"Channels":{"description":"通道列表。","type":"array","items":{"description":"通道，可选的枚举值：\n- Mail（邮件）\n- Phone（电话）\n- Sms（短信）\n- Ding（钉钉）","type":"string","required":false,"enumValueTitles":{"Mail":"邮件","Phone":"电话","Sms":"短信","Ding":"钉钉"},"example":"Ding"},"required":false}},"required":false},"required":true},"NotificationReceivers":{"description":"告警通知接收方，支持多值。","type":"array","items":{"description":"告警通知接收方。","type":"object","properties":{"ReceiverType":{"description":"接收方类型。\n\n- 当告警通知渠道为邮件、电话、短信时，接收方类型选择阿里云用户ID。\n- 当告警通知渠道为钉钉时，接收方类型选择钉钉token。","type":"string","required":false,"enumValueTitles":{"DingToken":"钉钉token","AliyunUid":"阿里云用户ID"},"example":"DingToken"},"ReceiverValues":{"description":"接收方取值列表。","type":"array","items":{"description":"接收方取值。\n\n- 当接收方类型为阿里云ID时，接收方取值为具体阿里云用户ID。\n- 当接收方类型为钉钉token时，接收方取值为具体钉钉token值。","type":"string","required":false,"example":"token1"},"required":false}},"required":false},"required":true},"InhibitionInterval":{"description":"告警抑制间隔时长，单位分钟，默认5分钟。","type":"integer","format":"int32","required":false,"example":"5"}},"required":true}},{"name":"Enabled","in":"formData","schema":{"description":"告警规则是否启用，默认不开启。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"响应。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"A6C6B486-E3A2-5D52-9E76-D9380485D946"}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.Access","errorMessage":"Access is forbidden. Please first activate DataWorks Enterprise Edition or Flagship Edition."}],"429":[{"errorCode":"Throttling.Api","errorMessage":"The request for this resource has exceeded your available limit."},{"errorCode":"Throttling.System","errorMessage":"The DataWorks system is busy. Try again later."},{"errorCode":"Throttling.User","errorMessage":"Your request is too frequent. Try again later."}],"500":[{"errorCode":"InternalError.System","errorMessage":"An internal system error occurred. Try again later."},{"errorCode":"InternalError.UserId.Missing","errorMessage":"An internal system error occurred. Try again later."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A6C6B486-E3A2-5D52-9E76-D9380485D946\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateDIAlarmRuleResponse>\\n    <RequestId>A6C6B486-E3A2-5D52-9E76-D9380485D946</RequestId>\\n</UpdateDIAlarmRuleResponse>\",\"errorExample\":\"\"}]","title":"更新数据集成新版任务告警规则","description":"当您的任务同步类型中包含实时同步时，支持设置告警规则。\n告警规则更新为全字段更新，不支持部分字段更新。"}