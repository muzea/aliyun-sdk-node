{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClientId","in":"query","schema":{"description":"需要注册访问凭证的设备的Client ID。","type":"string","required":true,"docRequired":true,"example":"GID_test@@@test"}},{"name":"InstanceId","in":"query","schema":{"description":"云消息队列 MQTT 版实例的ID，一定要和客户端实际使用的实例ID匹配。您可以在控制台**实例详情**页面获取该ID。","type":"string","required":true,"docRequired":true,"example":"post-cn-0pp12gl****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"公共参数，每个请求的ID都是唯一的。","type":"string","example":"E4581CCF-62AF-44D9-B5B4-D1DBDC0E****"},"DeviceCredential":{"description":"设备的访问凭证信息。","type":"object","properties":{"UpdateTime":{"description":"设备访问凭证上一次更新的毫秒时间戳。","type":"integer","format":"int64","example":"1605541382000"},"DeviceAccessKeyId":{"description":"设备的AccessKey ID。","type":"string","example":"DC.Z5fXh9sRRVufyLi6wo****"},"CreateTime":{"description":"设备访问凭证创建的毫秒时间戳。","type":"integer","format":"int64","example":"1605541382000"},"InstanceId":{"description":"云消息队列 MQTT 版实例的ID。","type":"string","example":"post-cn-0pp12gl****"},"DeviceAccessKeySecret":{"description":"设备的AccessKey Secret。","type":"string","example":"DC.BJMkn4eMQJK2vaApTS****"},"ClientId":{"description":"设备的Client ID。","type":"string","example":"GID_test@@@test"}}}}}}},"errorCodes":{"400":[{"errorCode":"ApplyTokenOverFlow","errorMessage":"You have applied for tokens too many times. Please try again later."},{"errorCode":"CheckAccountInfoFailed","errorMessage":"An error occurred while checking the account information by the STS token."},{"errorCode":"InstancePermissionCheckFailed","errorMessage":"An error occurred while validating the permissions of the instance. Please verify the account that created the instance and its permissions settings."},{"errorCode":"ParameterCheckFailed","errorMessage":"An error occurred while validating the parameters. The parameters may be missing or invalid."},{"errorCode":"PermissionCheckFailed","errorMessage":"An error occurred while validating the resource permissions. Please check the account that created the instance, topic, and GroupId, and check their permission settings."},{"errorCode":"InvalidParameter.%s","errorMessage":"An error occurred while validating the parameter. The parameter may be missing or invalid."},{"errorCode":"DeviceCredentialNumExceed","errorMessage":"The number of device credentia exceeds the limit. Please revoke unused device certificates"},{"errorCode":"DeviceCredentialExsit","errorMessage":"Device Credential Exsit"},{"errorCode":"DeviceCredentialNotFound","errorMessage":"Device Credential Not Found. Check if the device certificate is registered"}],"404":[{"errorCode":"ApiNotSupport","errorMessage":"The specified API is not supported."}],"500":[{"errorCode":"InternalError","errorMessage":"An error occurred while processing your request. Try again later."},{"errorCode":"SystemOverFlow","errorMessage":"An error occurred while processing your request. Please try again."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E4581CCF-62AF-44D9-B5B4-D1DBDC0E****\\\",\\n  \\\"DeviceCredential\\\": {\\n    \\\"UpdateTime\\\": 1605541382000,\\n    \\\"DeviceAccessKeyId\\\": \\\"DC.Z5fXh9sRRVufyLi6wo****\\\",\\n    \\\"CreateTime\\\": 1605541382000,\\n    \\\"InstanceId\\\": \\\"post-cn-0pp12gl****\\\",\\n    \\\"DeviceAccessKeySecret\\\": \\\"DC.BJMkn4eMQJK2vaApTS****\\\",\\n    \\\"ClientId\\\": \\\"GID_test@@@test\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RegisterDeviceCredentialResponse>\\n<RequestId>E4581CCF-62AF-44D9-B5B4-D1DBDC0E****</RequestId>\\n<DeviceCredential>\\n    <InstanceId>post-cn-0pp12gl****</InstanceId>\\n    <DeviceAccessKeySecret>DC.BJMkn4eMQJK2vaApTS****</DeviceAccessKeySecret>\\n    <CreateTime>1605541382000</CreateTime>\\n    <UpdateTime>1605541382000</UpdateTime>\\n    <DeviceAccessKeyId>DC.Z5fXh9sRRVufyLi6wo****</DeviceAccessKeyId>\\n    <ClientId>GID_test@@@test</ClientId>\\n</DeviceCredential>\\n</RegisterDeviceCredentialResponse>\",\"errorExample\":\"\"}]","title":"为某个设备注册访问凭证","summary":"一机一密认证方法，即预先为每个设备申请唯一的访问凭证（ClientId、DeviceAccessKeyId和DeviceAccessKeySecret）。当设备与云消息队列 MQTT 版建立连接时，需要将设备访问凭证中的信息按照约定的形式设置到Username和Password中，向云消息队列 MQTT 版发起认证请求，云消息队列 MQTT 版认证通过后激活设备，设备与云消息队列 MQTT 版间才可传输数据。\n本接口用于为指定设备申请访问凭证。","description":"- 一个设备只能申请一个访问凭证，若调用本接口申请多次，以最近一次返回的访问凭证为准。\n- 本接口的单用户QPS限制为500次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~163047~~)。\n- 每成功调用一次**RegisterDeviceCredential**接口，都会计算为一次消息TPS，从而影响您的计费。详细信息，请参见[计费说明](~~52819~~)。","requestParamsDescription":" > 更多参数说明请参见[公共参数](~~163046~~)和[服务接入点](~~181438~~)。","responseParamsDescription":" ","extraInfo":" "}