{"summary":"根据规则ID查询灰度规则详情。","path":"/pop/v1/sam/tagroute/greyTagRoute","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"10298","abilityTreeNodes":["FEATUREsaeETR3ZD"]},"parameters":[{"name":"GreyTagRouteId","in":"query","schema":{"title":"规则ID","description":"规则ID。","type":"integer","format":"int64","required":true,"exclusiveMaximum":false,"minimum":"1","example":"1"}}],"responses":{"200":{"schema":{"description":"返回数据。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"9D29CBD0-45D3-410B-9826-52F86F90****"},"Message":{"description":"调用结果的附加信息。","type":"string","example":"success"},"TraceId":{"description":"调用链ID，用于精确查询调用信息。","type":"string","example":"0a98a02315955564772843261e****"},"Data":{"description":"灰度规则信息。","type":"object","properties":{"GreyTagRouteId":{"description":"灰度规则ID，全局唯一。","type":"integer","format":"int64","example":"16"},"Name":{"description":"规则名称。","type":"string","example":"rule-name"},"Description":{"description":"规则描述。","type":"string","example":"test"},"ScRules":{"description":"Spring Cloud应用的灰度规则。","type":"array","items":{"description":"灰度规则数据。","type":"object","properties":{"path":{"description":"Spring Cloud应用灰度规则对应的路径。","type":"string","example":"/path"},"condition":{"description":"灰度规则的条件模式，取值说明如下：\n- **AND**：表示与，即同时满足条件列表中的所有条件。\n- **OR**：表示或，即满足条件列表中的任一条件。","type":"string","example":"OR"},"items":{"description":"条件列表。","type":"array","items":{"description":"条件列表数据。","type":"object","properties":{"type":{"description":"比较类型。取值说明如下：\n- **param**：表示Parameter。\n- **cookie**：表示Cookie。\n- **header**：表示Header。","type":"string","example":"cookie"},"name":{"description":"参数名。","type":"string","example":"test"},"operator":{"description":"运算符。取值说明如下：\n- **rawvalue**：直接比较。\n- **list**：白名单。\n- **mod**：对100取模。\n- **deterministic\\_proportional\\_steaming\\_division**：百分比。","type":"string","example":"rawvalue"},"value":{"description":"参数取值，根据**type**和**name**得到的值跟这个值进行比较。","type":"string","example":"test"},"cond":{"description":"比较操作符。可取值：**>**、**<**、**>=**、**<=**、**==**以及**!=**。","type":"string","example":"=="},"index":{"title":"abandon","description":"Spring Cloud应用不涉及。","type":"integer","format":"int32","example":"N/A"},"expr":{"title":"abandon","description":"Spring Cloud应用不涉及。","type":"string","example":"N/A"}}}}}}},"AlbRules":{"type":"array","items":{"type":"object","properties":{"serviceId":{"description":"路由服务ID。","type":"string","example":"22"},"ingressId":{"description":"网关路由ID。","type":"string","example":"23"},"condition":{"description":"灰度规则的条件模式，当前只支持AND：表示同时满足条件列表中的所有条件。","type":"string","example":"AND"},"items":{"type":"array","items":{"type":"object","properties":{"type":{"description":"比较类型。取值说明如下：\n- **sourceIp**：表示SourceIp。\n- **cookie**：表示Cookie。\n- **header**：表示Header。","type":"string","example":"cookie"},"name":{"description":"参数名。","type":"string","example":"example"},"operator":{"description":"运算符。取值说明如下：目前只支持**rawvalue**：直接比较。","type":"string","example":"rawvalue"},"value":{"description":"参数取值，根据type和name得到的值跟这个值进行比较。","type":"string","example":"test"},"cond":{"description":"暂支持==。","type":"string","example":"=="},"index":{"title":"abandon","description":"Alb应用无需填写。","type":"integer","format":"int32","example":"N/A"},"expr":{"title":"abandon","description":"Alb应用无需填写。","type":"string","example":"N/A"}}}}}}},"DubboRules":{"description":"Dubbo服务的灰度规则。","type":"array","items":{"description":"灰度规则数据。","type":"object","properties":{"serviceName":{"description":"Dubbo服务名称。","type":"string","example":"com.alibaba.edas.boot.EchoService"},"group":{"description":"灰度规则对应的Dubbo服务的分组。","type":"string","example":"DUBBO"},"version":{"description":"Dubbo服务版本。","type":"string","example":"1.0.0"},"methodName":{"description":"Dubbo服务的方法名。","type":"string","example":"echo"},"condition":{"description":"灰度规则的条件模式，取值说明如下：\n- **AND**：表示与，即同时满足条件列表中的所有条件。\n- **OR**：表示或，即满足条件列表中的任一条件。","type":"string","example":"OR"},"items":{"description":"条件列表。","type":"array","items":{"description":"条件列表数据。","type":"object","properties":{"index":{"description":"参数编号，0表示第一个参数。","type":"integer","format":"int32","example":"0"},"expr":{"description":"参数值获取表达式。取值说明如下：\n- **留空**：直接取当前参数的值。\n- **.name**：取参数的name属性，相当于args0.getName()。\n- **.isEnabled()** ：取参数的enabled属性，相当于args0.isEnabled()。\n- **[0]**：当前参数应是一个数组，取数组的第一个值，相当于args0\\[0]，注意开始没有英文句点（.）。\n- **.get(0)**：当前参数应是一个List，取List的第一个值，相当于args0.get(0)。\n- **.get(\"key\")**：当前参数是一个Map，获取key对应的值，相当于args0.get(\"key\")。","type":"string","example":".name"},"operator":{"description":"运算符。取值说明如下：\n- **rawvalue**：直接比较。\n- **list**：白名单。\n- **mod**：对100取模。\n- **deterministic\\_proportional\\_steaming\\_division**：百分比。","type":"string","example":"rawvalue"},"value":{"description":"参数取值，根据**expr**和**index**得到的值跟这个值进行比较。","type":"string","example":"test"},"cond":{"description":"比较操作符。可取值：**>**、**<**、**>=**、**<=**、**==**以及**!=**。","type":"string","example":"=="},"type":{"title":"abandon","description":"Dubbo服务不涉及。","type":"string","example":"N/A"},"name":{"title":"abandon","description":"Dubbo服务不涉及。","type":"string","example":"N/A"}}}}}}},"CreateTime":{"description":"规则被创建的时间戳。单位：毫秒。","type":"integer","format":"int64","example":"1619007592013"},"UpdateTime":{"description":"规则被更新的时间戳。单位：毫秒。","type":"integer","format":"int64","example":"1609434061000"},"AppId":{"description":"应用ID。","type":"string","example":"3faaf993-7aed-4bcd-b189-625e6a5a****"}}},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回**ErrorCode**字段。\n- 请求失败：返回**ErrorCode**字段。具体信息，请参见本文的**错误码**列表。","type":"string","example":"空"},"Code":{"description":"接口状态或POP错误码。取值说明如下：\n\n- **2xx**：成功。\n- **3xx**：重定向。\n- **4xx**：请求错误。\n- **5xx**：服务器错误。","type":"string","example":"200"},"Success":{"description":"查询变更单信息是否成功。取值说明如下：\n\n- **true**：查询成功。\n- **false**：查询失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter.NotEmpty","errorMessage":"You must specify the parameter %s."},{"errorCode":"InvalidParameter.Obviously","errorMessage":"The specified parameter is invalid {%s}."},{"errorCode":"InvalidParameter.WithMessage","errorMessage":"The parameter is invalid {%s}: %s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9D29CBD0-45D3-410B-9826-52F86F90****\\\",\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"TraceId\\\": \\\"0a98a02315955564772843261e****\\\",\\n  \\\"Data\\\": {\\n    \\\"GreyTagRouteId\\\": 16,\\n    \\\"Name\\\": \\\"rule-name\\\",\\n    \\\"Description\\\": \\\"test\\\",\\n    \\\"ScRules\\\": [\\n      {\\n        \\\"path\\\": \\\"/path\\\",\\n        \\\"condition\\\": \\\"OR\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"type\\\": \\\"cookie\\\",\\n            \\\"name\\\": \\\"test\\\",\\n            \\\"operator\\\": \\\"rawvalue\\\",\\n            \\\"value\\\": \\\"test\\\",\\n            \\\"cond\\\": \\\"==\\\",\\n            \\\"index\\\": 0,\\n            \\\"expr\\\": \\\"N/A\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"AlbRules\\\": [\\n      {\\n        \\\"serviceId\\\": \\\"22\\\",\\n        \\\"ingressId\\\": \\\"23\\\",\\n        \\\"condition\\\": \\\"AND\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"type\\\": \\\"cookie\\\",\\n            \\\"name\\\": \\\"example\\\",\\n            \\\"operator\\\": \\\"rawvalue\\\",\\n            \\\"value\\\": \\\"test\\\",\\n            \\\"cond\\\": \\\"==\\\",\\n            \\\"index\\\": 0,\\n            \\\"expr\\\": \\\"N/A\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"DubboRules\\\": [\\n      {\\n        \\\"serviceName\\\": \\\"com.alibaba.edas.boot.EchoService\\\",\\n        \\\"group\\\": \\\"DUBBO\\\",\\n        \\\"version\\\": \\\"1.0.0\\\",\\n        \\\"methodName\\\": \\\"echo\\\",\\n        \\\"condition\\\": \\\"OR\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"index\\\": 0,\\n            \\\"expr\\\": \\\".name\\\",\\n            \\\"operator\\\": \\\"rawvalue\\\",\\n            \\\"value\\\": \\\"test\\\",\\n            \\\"cond\\\": \\\"==\\\",\\n            \\\"type\\\": \\\"N/A\\\",\\n            \\\"name\\\": \\\"N/A\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"CreateTime\\\": 1619007592013,\\n    \\\"UpdateTime\\\": 1609434061000,\\n    \\\"AppId\\\": \\\"3faaf993-7aed-4bcd-b189-625e6a5a****\\\"\\n  },\\n  \\\"ErrorCode\\\": \\\"空\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeGreyTagRouteResponse>\\n    <RequestId>9D29CBD0-45D3-410B-9826-52F86F90****</RequestId>\\n    <Message>success</Message>\\n    <TraceId>0a98a02315955564772843261e****</TraceId>\\n    <Data>\\n        <GreyTagRouteId>16</GreyTagRouteId>\\n        <Name>rule-name</Name>\\n        <Description>test</Description>\\n        <ScRules>\\n            <path>/path</path>\\n            <condition>OR</condition>\\n            <items>\\n                <type>cookie</type>\\n                <name>test</name>\\n                <operator>rawvalue</operator>\\n                <value>test</value>\\n                <cond>==</cond>\\n                <expr>N/A</expr>\\n            </items>\\n        </ScRules>\\n        <DubboRules>\\n            <serviceName>com.alibaba.edas.boot.EchoService</serviceName>\\n            <group>DUBBO</group>\\n            <version>1.0.0</version>\\n            <methodName>echo</methodName>\\n            <condition>OR</condition>\\n            <items>\\n                <index>0</index>\\n                <expr>.name</expr>\\n                <operator>rawvalue</operator>\\n                <value>test</value>\\n                <cond>==</cond>\\n                <type>N/A</type>\\n                <name>N/A</name>\\n            </items>\\n        </DubboRules>\\n        <CreateTime>1619007592013</CreateTime>\\n        <UpdateTime>1609434061000</UpdateTime>\\n        <AppId>3faaf993-7aed-4bcd-b189-625e6a5a****</AppId>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</DescribeGreyTagRouteResponse>\",\"errorExample\":\"\"}]","title":"DescribeGreyTagRoute"}