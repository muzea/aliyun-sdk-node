{"path":"/pop/v1/sam/app/deployApplication","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"6316","abilityTreeNodes":["FEATUREsaeD9PL61"]},"parameters":[{"name":"AppId","in":"query","schema":{"description":"需要部署的应用ID。","type":"string","required":true,"example":"7171a6ca-d1cd-4928-8642-7d5cfe69****"}},{"name":"Jdk","in":"query","schema":{"description":"部署包依赖的JDK版本。支持版本如下：\n\n- **Open JDK 8**\n- **Open JDK 7**\n- **Dragonwell 11**\n- **Dragonwell 8**\n- **openjdk-8u191-jdk-alpine3.9**\n- **openjdk-7u201-jdk-alpine3.9**\n\n当**Package Type**为**Image**时不支持。\n\n","type":"string","required":false,"example":"Open JDK 8"}},{"name":"WebContainer","in":"query","schema":{"description":"部署包依赖的Tomcat版本。支持版本如下：\n\n- **apache-tomcat-7.0.91**\n- **apache-tomcat-8.5.42**\n\n当**Package Type**为**Image**时不支持。","type":"string","required":false,"example":"apache-tomcat-7.0.91"}},{"name":"PackageVersion","in":"query","schema":{"description":"部署包的版本号。当**Package Type**为**FatJar**、**War**或**PythonZip**时必填。\n","type":"string","required":false,"example":"1.0.1"}},{"name":"PackageUrl","in":"query","schema":{"description":"部署包地址。当**Package Type**为**FatJar**、**War**或**PythonZip**时必填。\n","type":"string","required":false,"example":"http://myoss.oss-cn-hangzhou.aliyuncs.com/my-buc/2019-06-30/****.jar"}},{"name":"ImageUrl","in":"query","schema":{"description":"镜像地址。当**Package Type**为**Image**时必填。","type":"string","required":false,"example":"registry.cn-hangzhou.aliyuncs.com/sae_test/ali_sae_test:0.0.1"}},{"name":"Command","in":"query","schema":{"description":"镜像启动命令。该命令必须为容器内存在的可执行的对象。示例如下：\n\n```\ncommand:\n      - echo\n      - abc\n      - >\n      - file0\n```\n根据上述示例，则`Command=\"echo\", CommandArgs=[\"abc\", \">\", \"file0\"]`。","type":"string","required":false,"example":"echo"}},{"name":"CommandArgs","in":"query","schema":{"description":"镜像启动命令参数。上述启动命令**Command**所需参数。格式如下：\n\n`[\"a\",\"b\"]`\n\n在上述示例中，`CommandArgs=[\"abc\", \">\", \"file0\"]`，其中`[\"abc\", \">\", \"file0\"]`需要转成String类型，里面的格式为JSON数组。如果无此参数，则无需填写。","type":"string","required":false,"example":"[\"a\",\"b\"]"}},{"name":"Envs","in":"query","schema":{"description":"容器环境变量参数。支持自定义或引用配置项。如需引用配置项，请先创建ConfigMap实例。更多信息，请参见[CreateConfigMap](~~176914~~)。取值说明如下：\n- 自定义配置\n    - **name**：环境变量名称。\n    - **value**：环境变量值。优先级高于valueFrom。\n- 引用配置项（valueFrom）\n    - **name**：环境变量名称。支持引用单个或全部键，如果引用全部键，需输入`sae-sys-configmap-all-<配置项名称>`，例如`sae-sys-configmap-all-test1`。\n    - **valueFrom**：环境变量引用。取值为`configMapRef`。\n    - **configMapId**：配置项ID。\n    - **key**：键。如果引用全部健值，则不设置该字段。","type":"string","required":false,"example":"[     {         \"name\": \"sae-sys-configmap-all-hello\",         \"valueFrom\": {             \"configMapRef\": {                 \"configMapId\": 100,                 \"key\": \"\"             }         }     },     {         \"name\": \"hello\",         \"valueFrom\": {             \"configMapRef\": {                 \"configMapId\": 101,                 \"key\": \"php-fpm\"             }         }     },     {         \"name\": \"envtmp\",         \"value\": \"newenv\"     } ]"}},{"name":"CustomHostAlias","in":"query","schema":{"description":"容器内自定义Host映射。取值说明如下：\n\n- **hostName**：域名或主机名。\n- **ip**：IP地址。","type":"string","required":false,"example":"[{\"hostName\":\"samplehost\",\"ip\":\"127.0.0.1\"}]"}},{"name":"JarStartOptions","in":"query","schema":{"description":"JAR包启动应用选项。应用默认启动命令：`$JAVA_HOME/bin/java $JarStartOptions -jar $CATALINA_OPTS \"$package_path\" $JarStartArgs`","type":"string","required":false,"example":"custom-option"}},{"name":"JarStartArgs","in":"query","schema":{"description":"JAR包启动应用参数。应用默认启动命令：`$JAVA_HOME/bin/java $JarStartOptions -jar $CATALINA_OPTS \"$package_path\" $JarStartArgs`","type":"string","required":false,"example":"-Xms4G -Xmx4G"}},{"name":"Liveness","in":"query","schema":{"description":"容器健康检查，健康检查失败的容器将被关闭并恢复。支持方式如下：\n\n- **exec**：例如 `{\"exec\":{\"command\":\\[\"sh\",\"-c\",\"cat/home/admin/start.sh\"]},\"initialDelaySeconds\":30,\"periodSeconds\":30,\"timeoutSeconds\":2}`\n- **httpGet**：例如`{\"httpGet\":{\"path\":\"/\",\"port\":18091,\"scheme\":\"HTTP\",\"isContainKeyWord\":true,\"keyWord\":\"SAE\"},\"initialDelaySeconds\":11,\"periodSeconds\":10,\"timeoutSeconds\":1}`\n- **tcpSocket**：例如`{\"tcpSocket\":{\"port\":18091},\"initialDelaySeconds\":11,\"periodSeconds\":10,\"timeoutSeconds\":1}`\n\n> 只能选择一种方式进行健康检查。\n\n参数说明如下：\n\n- **exec.command**：设置健康检查命令。\n- **httpGet.path**：访问路径。\n- **httpGet.scheme**：**HTTP**或**HTTPS**。\n- **httpGet.isContainKeyWord**：**true**表示包含关键字，**false**表示不包含关键字，缺失该字段表示不使用高级功能。\n- **httpGet.keyWord**：自定义的关键字，使用时不能缺失**isContainKeyWord**字段。\n- **tcpSocket.port**：tcp连接检测的端口 。\n- **initialDelaySeconds**：设置健康检查延迟检测时间，默认为10，单位为秒。\n- **periodSeconds**：设置健康检查周期，默认为30，单位为秒。\n- **timeoutSeconds**：设置健康检查超时等待时间，默认为1，单位为秒。如果设置为0或不设置，默认超时等待时间为1秒。","type":"string","required":false,"example":"{\"exec\":{\"command\":[\"sleep\",\"5s\"]},\"initialDelaySeconds\":10,\"timeoutSeconds\":11}"}},{"name":"Readiness","in":"query","schema":{"description":"应用启动状态检查，多次健康检查失败的容器将被关闭并重启。不通过健康检查的容器将不会有SLB流量进入。支持**exec**、**httpGet**和**tcpSocket**方式。具体示例，请参见**Liveness**参数。\n\n> 只能选择一种方式进行健康检查。","type":"string","required":false,"example":"{\"exec\":{\"command\":[\"sleep\",\"6s\"]},\"initialDelaySeconds\":15,\"timeoutSeconds\":12}"}},{"name":"MinReadyInstances","in":"query","schema":{"description":"最小存活实例数。取值说明如下：\n\n- 如果设置为**0**，应用在升级过程中将会中断业务。\n- 如果设置为**-1**，最小存活实例数将使用系统推荐值，即取现有实例数的25%。如果当前为5个实例，5×25%=1.25，向上取整后，最小存活实例数为2。\n\n> 每次滚动部署最小存活的实例数建议≥1，保证业务不中断。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"MinReadyInstanceRatio","in":"query","schema":{"description":"最小存活实例数百分比。取值说明如下：\n\n - **-1**：初始化值，表示不采用百分比。\n - **0~100**：单位为百分比，向上取整。例如设置为**50**%，如果当前为5个实例，则最小存活实例数为3。\n\n> 当**MinReadyInstance**和**MinReadyInstanceRatio**同时传递时，且**MinReadyInstanceRatio**的取值非**-1**时，以**MinReadyInstanceRatio**参数为准。假设**MinReadyInstances**取值为**5**，**MinReadyInstanceRatio**取值为**50**，则会用**50**来计算最小存活实例数。","type":"integer","format":"int32","required":false,"example":"-1"}},{"name":"BatchWaitTime","in":"query","schema":{"description":"批次内部署间隔，单位为秒。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"EdasContainerVersion","in":"query","schema":{"description":"HSF框架中应用运行环境版本，例如Ali-Tomcat容器。","type":"string","required":false,"example":"3.5.3"}},{"name":"UpdateStrategy","in":"query","schema":{"description":"部署策略。当最小存活实例数等于1时，**UpdateStrategy**字段的值为\"\"。当最小存活实例数大于1时，示例如下：\n \n - 灰度1台+后续分2批+自动分批+分批间隔1分钟：`{\"type\":\"GrayBatchUpdate\",\"batchUpdate\":{\"batch\":2,\"releaseType\":\"auto\",\"batchWaitTime\":1},\"grayUpdate\":{\"gray\":1}}`\n  - 灰度1台+后续分2批+手动分批：`{\"type\":\"GrayBatchUpdate\",\"batchUpdate\":{\"batch\":2,\"releaseType\":\"manual\"},\"grayUpdate\":{\"gray\":1}}`\n  - 分2批+自动分批+分批间隔0分钟：`{\"type\":\"BatchUpdate\",\"batchUpdate\":{\"batch\":2,\"releaseType\":\"auto\",\"batchWaitTime\":0}}`\n\n参数说明如下：\n  - **type**：发布策略类型，可选灰度发布**GrayBatchUpdate**或分批发布**BatchUpdate**。\n  - **batchUpdate**：分批发布策略。\n    - **batch**：发布批次。\n    - **releaseType**：分批间处理方式，可选自动**auto**或手动**manual**。\n    - **batchWaitTime**：分批间隔时间，单位为分钟。\n\n  - **grayUpdate**：灰度后剩余批次，当**type**为**GrayBatchUpdate**时必填。","type":"string","required":false,"example":"{\"type\":\"GrayBatchUpdate\",\"batchUpdate\":{\"batch\":2,\"releaseType\":\"auto\",\"batchWaitTime\":1},\"grayUpdate\":{\"gray\":1}}"}},{"name":"SlsConfigs","in":"query","schema":{"description":"日志采集到SLS的配置。\n\n- 使用SAE自动创建的SLS资源：`[{\"logDir\":\"\",\"logType\":\"stdout\"},{\"logDir\":\"/tmp/a.log\"}]`。\n- 使用自定义的SLS资源：`[{\"projectName\":\"test-sls\",\"logType\":\"stdout\",\"logDir\":\"\",\"logstoreName\":\"sae\",\"logtailName\":\"\"},{\"projectName\":\"test\",\"logDir\":\"/tmp/a.log\",\"logstoreName\":\"sae\",\"logtailName\":\"\"}]`。\n\n参数说明如下：\n\n- **projectName**：配置SLS上的Project名称。  \n- **logDir**：日志路径。\n- **logType**：日志类型。**stdout**表示容器标准输出日志，仅可设置1条；如果不设置，则表示收集文件日志。\n- **logstoreName**：配置SLS上的Logstore名称。\n- **logtailName**：配置SLS上的Logtail名称，如果不指定，则表示新建Logtail。\n\n多次部署时如果SLS采集配置没有变更，则不需要设置该参数（即请求中无需包含**SlsConfigs**字段）；如果不再需要使用SLS采集功能，您需要在请求中将该字段的值设置为空字符串（即请求中**SlsConfigs**字段的值为\"\"）。\n\n> 随应用自动创建的Project会随着应用删除而删除，因此在选择已有Project时，不能选择SAE自动创建的Project。","type":"string","required":false,"example":"[{\"logDir\":\"\",\"logType\":\"stdout\"},{\"logDir\":\"/tmp/a.log\"}]"}},{"name":"Timezone","in":"query","schema":{"description":"时区，默认为**Asia/Shanghai**。","type":"string","required":false,"example":"Asia/Shanghai"}},{"name":"NasId","in":"query","schema":{"description":"不推荐配置该字段，推荐配置**NasConfigs**。NAS文件系统的ID。部署时如果配置没有变更，则不需要设置该参数（即请求中无需包含**NasId**字段）；如果需要清除NAS配置，您需要在请求中将该字段的值设置为空字符串（即请求中**NasId**字段的值为\"\"）。","type":"string","required":false,"example":"10d3b4****"}},{"name":"MountHost","in":"query","schema":{"description":"不推荐配置该字段，推荐配置**NasConfigs**。NAS在应用VPC内的挂载点。部署时如果配置没有变更，则不需要设置该参数（即请求中无需包含**MountHost**字段）；如果需要清除NAS配置，您需要在请求中将该字段的值设置为空字符串（即请求中**MountHost**字段的值为\"\"）。","type":"string","required":false,"example":"10d3b4bc9****.com"}},{"name":"MountDesc","in":"query","schema":{"description":"不推荐配置该字段，推荐配置**NasConfigs**。NAS挂载描述。部署时如果配置没有变更，则不需要设置该参数（即请求中无需包含**MountDesc**字段）；如果需要清除NAS配置，您需要在请求中将该字段的值设置为空字符串（即请求中**MountDesc**字段的值为\"\"）。","type":"string","required":false,"example":"[{mountPath: \"/tmp\", nasPath: \"/\"}]"}},{"name":"PostStart","in":"query","schema":{"description":"容器启动后执行脚本。在容器被创建后立刻触发执行一段脚本，格式如：`{\"exec\":{\"command\":\\[\"sh\",\"-c\",\"echo hello\"\\]}}`","type":"string","required":false,"example":"{\"exec\":{\"command\":[\"sh\",\"-c\",\"echo hello\"]}}"}},{"name":"PreStop","in":"query","schema":{"description":"容器停止前执行脚本。在容器被删除前触发执行一段脚本，格式如：`{\"exec\":{\"command\":\\[\"sh\",\"-c\",\"echo hello\"\\]}}`","type":"string","required":false,"example":"{\"exec\":{\"command\":[\"sh\",\"-c\",\"echo hello\"]}}"}},{"name":"ChangeOrderDesc","in":"query","schema":{"description":"发布单描述信息。","type":"string","required":false,"example":"启动应用"}},{"name":"WarStartOptions","in":"query","schema":{"description":"设置WAR包部署应用的启动命令，操作步骤与镜像部署的启动命令配置操作相同。更多信息，请参见[设置启动命令](~~96677~~)。","type":"string","required":false,"example":"CATALINA_OPTS=\\\"$CATALINA_OPTS $Options\\\" catalina.sh run"}},{"name":"AutoEnableApplicationScalingRule","in":"query","schema":{"description":"是否自动启用应用弹性伸缩策略。取值说明如下：\n- **true**：开启。\n- **false**：关闭。","type":"boolean","required":false,"example":"true"}},{"name":"ConfigMapMountDesc","in":"formData","schema":{"description":"**ConfigMap**挂载描述。使用在命名空间配置项页面创建的配置项来向容器中注入配置信息。参数说明如下：\n\n- **configMapId**：ConfigMap实例ID。可通过调用[ListNamespacedConfigMaps](~~176917~~)接口获取。\n- **key**：键值。\n\n> 可通过传递`sae-sys-configmap-all`参数挂载所有键。\n\n- **mountPath**：挂载路径。","type":"string","required":false,"example":"[{\"configMapId\":16,\"key\":\"test\",\"mountPath\":\"/tmp\"}]"}},{"name":"TerminationGracePeriodSeconds","in":"query","schema":{"description":"优雅下线超时时间，默认为30，单位为秒。取值范围为1~300。","type":"integer","format":"int32","required":false,"maximum":"6000","minimum":"0","example":"10","default":"30"}},{"name":"EnableAhas","in":"query","schema":{"description":"是否接入AHAS。取值说明如下：\n\n- **true**：接入AHAS。\n- **false**：不接入AHAS。","type":"string","required":false,"example":"false"}},{"name":"PhpArmsConfigLocation","in":"query","schema":{"description":"PHP应用监控挂载路径，需要您保证PHP服务器一定会加载这个路径的配置文件。您无需关注配置内容，SAE会自动渲染正确的配置文件。","type":"string","required":false,"example":"/usr/local/etc/php/conf.d/arms.ini"}},{"name":"PhpConfigLocation","in":"query","schema":{"description":"PHP应用启动配置挂载路径，需要您保证PHP服务器会使用这个配置文件启动。","type":"string","required":false,"example":"/usr/local/etc/php/php.ini"}},{"name":"PhpConfig","in":"formData","schema":{"description":"PHP配置文件内容。","type":"string","required":false,"example":"k1=v1"}},{"name":"TomcatConfig","in":"query","schema":{"description":"Tomcat文件配置，设置为\"\"或\"{}\"表示删除配置。取值说明如下：\n\n- **port**：端口范围为1024~65535，小于1024的端口需要Root权限才能操作。因为容器配置的是Admin权限，所以请填写大于1024的端口。如果不配置，则默认为8080。\n- **contextPath**：访问路径，默认为根目录\"/\"。\n- **maxThreads**：配置连接池的连接数大小，默认大小为400。\n- **uriEncoding**：Tomcat的编码格式，包括**UTF-8**、**ISO-8859-1**、**GBK和GB2312**。如果不设置，则默认为**ISO-8859-1**。\n- **useBodyEncodingForUri**：是否使用**BodyEncoding for URL**，默认为**true**。","type":"string","required":false,"example":"{\"port\":8080,\"contextPath\":\"/\",\"maxThreads\":400,\"uriEncoding\":\"ISO-8859-1\",\"useBodyEncodingForUri\":true}"}},{"name":"OssMountDescs","in":"formData","schema":{"title":"OSS挂载描述信息","description":"OSS挂载描述信息。参数说明如下：\n\n- **bucketName**：Bucket名称。\n- **bucketPath**：您在OSS创建的目录或OSS对象，如果OSS挂载目录不存在，会触发异常。\n- **mountPath**：您在SAE的容器路径。如果路径已存在，为覆盖关系；如果路径不存在，会新建。\n- **readOnly**：容器路径是否对挂载目录资源有可读权限，取值说明如下：\n    - **true**：只读权限。\n    - **false**：读写权限。","type":"string","required":false,"example":"[{\"bucketName\": \"oss-bucket\", \"bucketPath\": \"data/user.data\", \"mountPath\": \"/usr/data/user.data\", \"readOnly\": true}]"}},{"name":"OssAkId","in":"formData","schema":{"title":"OSS使用的AKID","description":"OSS读写的AccessKey ID。","type":"string","required":false,"example":"xxxxxx"}},{"name":"OssAkSecret","in":"formData","schema":{"title":"OSS AKID对应的secret","description":"OSS读写的AccessKey Secret。","type":"string","required":false,"example":"xxxxxx"}},{"name":"EnableGreyTagRoute","in":"query","schema":{"title":"是否开启发布流量灰度规则","description":"是否启用流量灰度规则。该规则仅适用于Spring Cloud和Dubbo框架的应用。取值说明如下：\n\n- **true**：启用灰度规则。\n- **false**：禁用灰度规则。","type":"boolean","required":false,"example":"false"}},{"name":"Php","in":"formData","schema":{"title":"PHP部署包依赖的PHP版本。镜像不支持","description":"PHP部署包依赖的PHP版本。镜像不支持。","type":"string","required":false,"example":"PHP-FPM 7.0"}},{"name":"AcrInstanceId","in":"formData","schema":{"title":"ACR 企业版实例 ID","description":"ACR企业版实例ID。当**ImageUrl**为容器镜像服务企业版时必填。","type":"string","required":false,"example":"cri-xxxxxx"}},{"name":"AcrAssumeRoleArn","in":"query","schema":{"description":"跨账号拉取镜像时所需的RAM角色的ARN。更多信息，请参见[通过RAM角色实现跨云账号授权](~~223585~~)。","type":"string","required":false,"example":"acs:ram::123456789012****:role/adminrole"}},{"name":"ImagePullSecrets","in":"query","schema":{"description":"对应保密字典ID。","type":"string","required":false,"example":"10"}},{"name":"AssociateEip","in":"formData","schema":{"title":"是否绑定EIP","description":"是否绑定EIP。取值说明如下：\n\n- **true**：绑定。\n- **false**：不绑定。","type":"boolean","required":false,"example":"true"}},{"name":"KafkaConfigs","in":"query","schema":{"description":"日志采集到Kafka的配置汇总信息。取值说明如下：\n\n- **kafkaEndpoint**：Kafka API的服务接入地址。\n- **kafkaInstanceId**：Kafka实例ID。\n- **kafkaConfigs**：单条或多条日志的配置汇总信息。示例值与参数说明，请参见本文的请求参数** kafkaConfigs**。","type":"string","required":false,"example":"{\"kafkaEndpoint\":\"10.0.X.XXX:XXXX,10.0.X.XXX:XXXX,10.0.X.XXX:XXXX\",\"kafkaInstanceId\":\"alikafka_pre-cn-7pp2l8kr****\",\"kafkaConfigs\":[{\"logType\":\"file_log\",\"logDir\":\"/tmp/a.log\",\"kafkaTopic\":\"test2\"},{\"logType\":\"stdout\",\"logDir\":\"\",\"kafkaTopic\":\"test\"}]}"}},{"name":"PvtzDiscoverySvc","in":"query","schema":{"description":"开启K8s Service服务注册发现。取值说明如下：\n\n- **portProtocols**：端口与协议。端口取值范围为\\[1,65535]，协议支持**TCP**和**UDP**。\n- **portAndProtocol**：端口与协议。端口取值范围为\\[1,65535]，协议支持**TCP**和**UDP**。**优先推荐portProtocols，如果设置了portProtocols，仅portProtocols生效**。\n- **enable**：开启K8s Service服务注册发现。","type":"string","required":false,"example":"{\"portProtocols\":[{\"port\":18012,\"protocol\":\"TCP\"}],\"portAndProtocol\":{\"18012\":\"TCP\"},\"enable\":true}"}},{"name":"MicroRegistration","in":"query","schema":{"description":"选择Nacos注册中心，取值说明如下：\n- **0**：SAE内置Nacos。\n- **1**：用户自建Nacos。\n- **2**：MSE商业版Nacos。","type":"string","required":false,"example":"\"0\""}},{"name":"MicroRegistrationConfig","in":"formData","schema":{"title":"注册中心配置，仅在注册中心类型为MSE Nacos企业版时生效","description":"注册中心配置，仅在注册中心类型为MSE Nacos企业版时生效","type":"string","required":false}},{"name":"NasConfigs","in":"query","schema":{"description":"挂载NAS的配置。取值说明如下：\n- **mountPath**：容器挂载路径。\n- **readOnly**：取值为**false**时，表示拥有读写权限。\n- **nasId**：NAS ID。\n- **mountDomain**：容器挂载点地址。更多信息，请参见[DescribeMountTargets](~~62626~~)。\n- **nasPath**：NAS相对文件目录。","type":"string","required":false,"example":"[{\"mountPath\":\"/test1\",\"readOnly\":false,\"nasId\":\"nasId1\",\"mountDomain\":\"nasId1.cn-shenzhen.nas.aliyuncs.com\",\"nasPath\":\"/test1\"},{\"nasId\":\"nasId2\",\"mountDomain\":\"nasId2.cn-shenzhen.nas.aliyuncs.com\",\"readOnly\":false,\"nasPath\":\"/test2\",\"mountPath\":\"/test2\"}]"}},{"name":"Python","in":"query","schema":{"description":"Python环境。支持**PYTHON 3.9.15**。","type":"string","required":false,"example":"PYTHON 3.9.15"}},{"name":"PythonModules","in":"query","schema":{"description":"自定义安装模块依赖。默认安装根目录下requirements.txt定义的依赖项。如果未配置或自定义软件包，可以指定安装的依赖。","type":"string","required":false,"example":"Flask==2.0"}},{"name":"Deploy","in":"query","schema":{"description":"该参数仅对停止状态的应用生效。如果运行中的应用调用**DeployApplication**接口，会立即重新部署。\n- **true**：默认值。表示立即部署，生效新的部署配置，并立即拉起实例。\n- **false**：表示仅生效新的部署配置，不会拉起应用实例。","type":"string","required":false,"example":"true"}},{"name":"PackageType","in":"query","schema":{"description":"应用包类型。取值说明如下：\n\n- 当您选择用Java部署时，支持**FatJar**、**War**和**Image**。\n- 当您选择用PHP部署时，支持类型如下：\n    - **PhpZip**\n    - **IMAGE\\_PHP\\_5\\_4**\n    - **IMAGE\\_PHP\\_5\\_4\\_ALPINE**\n    - **IMAGE\\_PHP\\_5\\_5**\n    - **IMAGE\\_PHP\\_5\\_5\\_ALPINE**\n    - **IMAGE\\_PHP\\_5\\_6**\n    - **IMAGE\\_PHP\\_5\\_6\\_ALPINE**\n    - **IMAGE\\_PHP\\_7\\_0**\n    - **IMAGE\\_PHP\\_7\\_0\\_ALPINE**\n    - **IMAGE\\_PHP\\_7\\_1**\n    - **IMAGE\\_PHP\\_7\\_1\\_ALPINE**\n    - **IMAGE\\_PHP\\_7\\_2**\n    - **IMAGE\\_PHP\\_7\\_2\\_ALPINE**\n    - **IMAGE\\_PHP\\_7\\_3**\n    - **IMAGE\\_PHP\\_7\\_3\\_ALPINE**\n- 当您选择用Python部署时，支持**PythonZip**和**Image**。","type":"string","required":false,"example":"FatJar"}},{"name":"Cpu","in":"query","schema":{"description":"每个实例所需的CPU，单位为毫核，不能为0。目前仅支持以下固定规格：\n- **500**\n- **1000**\n- **2000**\n- **4000**\n- **8000**\n- **12000**\n- **16000**\n- **32000**","type":"integer","format":"int32","required":false,"example":"1000"}},{"name":"Memory","in":"query","schema":{"description":"每个实例所需的内存，单位为MB，不能为0。与CPU为一一对应关系，目前仅支持以下固定规格：\n- **1024**：对应CPU为500毫核和1000毫核。\n- **2048**：对应CPU为500、1000毫核和2000毫核。\n- **4096**：对应CPU为1000、2000毫核和4000毫核。\n- **8192**：对应CPU为2000、4000毫核和8000毫核。\n- **12288**：对应CPU为12000毫核。\n- **16384**：对应CPU为4000、8000毫核和16000毫核。\n- **24576**：对应CPU为12000毫核。\n- **32768**：对应CPU为16000毫核。\n- **65536**：对应CPU为8000、16000和32000毫核。\n- **131072**：对应CPU为32000毫核。","type":"integer","format":"int32","required":false,"example":"1024"}},{"name":"Replicas","in":"query","schema":{"description":"实例数。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"SecurityGroupId","in":"query","schema":{"description":"安全组ID。","type":"string","required":false,"example":"sg-wz969ngg2e49q5i4****"}},{"name":"VSwitchId","in":"query","schema":{"description":"应用实例弹性网卡所在的虚拟交换机。该交换机必须位于上述VPC内。","type":"string","required":false,"example":"vsw-bp12mw1f8k3jgygk9****"}},{"name":"ServiceTags","in":"formData","schema":{"type":"string","required":false}}],"responses":{"200":{"schema":{"description":"部署的应用信息。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"01CF26C7-00A3-4AA6-BA76-7E95F2A3***"},"Message":{"description":"附加信息。取值说明如下：\n\n- 请求正常，返回**success**。\n- 请求异常，返回具体异常错误码。","type":"string","example":"success"},"TraceId":{"description":"调用链ID，用于精确查询调用信息。","type":"string","example":"ac1a0b2215622246421415014e****"},"Data":{"description":"返回结果。","type":"object","properties":{"ChangeOrderId":{"description":"返回的发布单ID，用于查询任务执行状态。","type":"string","example":"01db03d3-3ee9-48b3-b3d0-dfce2d88****"},"AppId":{"description":"应用ID。\n","type":"string","example":"7171a6ca-d1cd-4928-8642-7d5cfe69****"},"IsNeedApproval":{"description":"RAM用户发布变更是否需要审批。取值说明如下：\n\n- **true**：需审批。\n- **false**：无需审批。","type":"boolean","example":"true"}}},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回**ErrorCode**字段。\n- 请求失败：返回**ErrorCode**字段。具体信息，请参见本文的**错误码**列表。","type":"string","example":"空"},"Code":{"description":"接口状态或POP错误码。取值说明如下：\n\n- **2xx**：成功。\n- **3xx**：重定向。\n- **4xx**：请求错误。\n- **5xx**：服务器错误。","type":"string","example":"200"},"Success":{"description":"部署应用是否成功。取值说明如下：\n\n- **true**：部署成功。\n- **false**：部署失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"Application.MissingJdk","errorMessage":"Your application must at least contain a JDK component."},{"errorCode":"InvalidApplication.NotFound","errorMessage":"The current application does not exist."},{"errorCode":"InvalidComponent.NotFound","errorMessage":"The current component (such as JDK, Tomcat, or EDASWebContainer) does not exist."},{"errorCode":"InvalidHostnameIp.Invalid","errorMessage":"The hostname and/or IP is invalid: Hostname [%s], IP [%s]."},{"errorCode":"InvalidInstanceSpecification.Unsupported","errorMessage":"The instance specification is not supported: CPU [%s], memory [%s]."},{"errorCode":"InvalidPackageType.NotFound","errorMessage":"The package type must be War, FatJar, or Image."},{"errorCode":"InvalidParameter.NotEmpty","errorMessage":"You must specify the parameter %s."},{"errorCode":"InvalidParameter.Obviously","errorMessage":"The specified parameter is invalid {%s}."},{"errorCode":"InvalidParameter.WithMessage","errorMessage":"The parameter is invalid {%s}: %s"},{"errorCode":"JarApplication.MissingJdk","errorMessage":"A FatJar application must contain JDK."},{"errorCode":"NoComputeResourceQuota.Exceed","errorMessage":"Your compute resource is insufficient. Please contact us to raise the quota."},{"errorCode":"PandoraApplication.MissingJdk","errorMessage":"The Pandora application is missing a JDK component."},{"errorCode":"PandoraApplication.OnlyJdk","errorMessage":"A Pandora application only requires JDK component."},{"errorCode":"WarApplication.MissingJdkWebcontainer","errorMessage":"A War application must contain JDK and Tomcat."},{"errorCode":"LogService.ConfigQuotaExceed","errorMessage":"The maximum number of Log Service configs is exceeded."},{"errorCode":"LogService.InternalError","errorMessage":"An exception occurred while calling Log Service. Please submit a ticket to solve the problem."},{"errorCode":"LogService.LogDirInvalid","errorMessage":"The log collection path is invalid."},{"errorCode":"LogService.NotAvailable","errorMessage":"Log Service is unavailable. Please activate Log Service first."},{"errorCode":"LogService.ProjectNumQuotaExceed","errorMessage":"The maximum number of Log Service projects is exceeded."},{"errorCode":"user.indebt","errorMessage":"The user has an outstanding payment."},{"errorCode":"NoComputeResourceQuota.App.Exceed","errorMessage":"You can create %s instances for each application.  Please submit a ticket to raise the quota."},{"errorCode":"NoComputeResourceQuota.User.Exceed","errorMessage":"Your account is limited to create %s instances.  Please submit a ticket to raise the quota."},{"errorCode":"System.Upgrading","errorMessage":"The system is being upgraded. Please try again later."},{"errorCode":"VolumnPath.Conflict","errorMessage":"Conflict between log collection directory and persistent storage directory."},{"errorCode":"Application.ChangerOrderRunning","errorMessage":"An application change process is in progress. Please try again later."},{"errorCode":"Application.InvalidStatus","errorMessage":"The application status is abnormal. Please try again later."},{"errorCode":"MountConflict.ConfigMap","errorMessage":"Conflict detected for ConfigMap path %s."},{"errorCode":"NotFound.ConfigMap","errorMessage":"The ConfigMap object (ID: %s) does not exist."},{"errorCode":"NotFound.ConfigMapKey","errorMessage":"The key %s of ConfigMap object (ID: %s) does not exist."},{"errorCode":"Package.Version.Too.Long","errorMessage":"The maximum length of package version is exceeded."},{"errorCode":"App.Package.Version.Exists","errorMessage":"The package version of application  already exists."},{"errorCode":"Slb.Occupied","errorMessage":"The SLB instance is occupied."},{"errorCode":"Slb.Tag.Not.Qualified","errorMessage":"The current SLB instance cannot be reused because it may have been occupied by %s."},{"errorCode":"MinReadyInstances.Not.Smaller.Replicas","errorMessage":"The minimum number of available instances must be less than the number of application instances."},{"errorCode":"MinReadyInstanceRatio.Invalid","errorMessage":"The ratio of minimum available instances must be between 0 and 100."},{"errorCode":"BatchWaitTime.Not.Smaller.Zero","errorMessage":"BatchWaitTime must not be smaller than zero."},{"errorCode":"Sls.Config.Mixed.Multi.Project","errorMessage":"The specified Config contains multiple projects."},{"errorCode":"Sls.Config.User.Defined.Missing.Logstore.Info","errorMessage":"The specified Config is invalid. Both Project and Logstore must be specified."},{"errorCode":"Sls.Config.User.Defined.Missing.Project.Info","errorMessage":"The specified Config is invalid. Both Project and Logstore must be specified."},{"errorCode":"Sls.Logstore.Name.Invalid","errorMessage":"The specified name of Logstore is invalid. The Logstore name must not contain the prefix \"sae-\"."},{"errorCode":"Sls.Logstore.User.Defined.Not.Exist","errorMessage":"The user defined Logstore does not exist."},{"errorCode":"Sls.Project.Name.Invalid","errorMessage":"The specified project name is invalid. The project name must not contain the prefix \"sae-\"."},{"errorCode":"Sls.Project.User.Defined.Not.Exist","errorMessage":"The user defined project does not exist."},{"errorCode":"Sae.Errorcode.Ahas.Create.Error.Message","errorMessage":"Failed to create AHAS."},{"errorCode":"InvalidImageUrl.AcrInstanceId.Domain.NotMatch","errorMessage":"The specified domain of ImageUrl does not match AcrInstanceId domains."},{"errorCode":"PhpApplication.MissingPhpRuntime","errorMessage":"A PHP application must contain PHP Runtime."},{"errorCode":"InvalidParameter.FileName","errorMessage":"The application deployment package name is invalid. This name can contain only alphanumeric characters, hyphens (-), and underscores (_). For deploying java package, you can upload JAR files only if the selected deployment version supports JAR file. Otherwise, upload WAR files only. For deploying php package, you can upload ZIP files only if the selected deployment version supports ZIP file."},{"errorCode":"Sls.Logtail.Name.Invalid","errorMessage":"The specified name of Logtail is invalid. The Logtail name must not contain the prefix sae-."},{"errorCode":"InvalidImageUrl.MissingAcrInstanceId","errorMessage":"The specified domain of ImageUrl is from ACREE, but you are not specified AcrInstanceId."}],"404":[{"errorCode":"InvalidNamespaceId.NotFound","errorMessage":"The specified NamespaceId does not exist."},{"errorCode":"InvalidAcrInstanceId.NotFound","errorMessage":"The specified AcrInstanceId does not exist."},{"errorCode":"Associate.Eip.Not.Enough","errorMessage":"No sufficient EIPs are available."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"01CF26C7-00A3-4AA6-BA76-7E95F2A3***\\\",\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"TraceId\\\": \\\"ac1a0b2215622246421415014e****\\\",\\n  \\\"Data\\\": {\\n    \\\"ChangeOrderId\\\": \\\"01db03d3-3ee9-48b3-b3d0-dfce2d88****\\\",\\n    \\\"AppId\\\": \\\"7171a6ca-d1cd-4928-8642-7d5cfe69****\\\",\\n    \\\"IsNeedApproval\\\": true\\n  },\\n  \\\"ErrorCode\\\": \\\"空\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DeployApplicationResponse>\\n    <RequestId>01CF26C7-00A3-4AA6-BA76-7E95F2A3***</RequestId>\\n    <Message>success</Message>\\n    <TraceId>ac1a0b2215622246421415014e****</TraceId>\\n    <Data>\\n        <ChangeOrderId>01db03d3-3ee9-48b3-b3d0-dfce2d88****</ChangeOrderId>\\n        <AppId>7171a6ca-d1cd-4928-8642-7d5cfe69****</AppId>\\n        <IsNeedApproval>true</IsNeedApproval>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</DeployApplicationResponse>\",\"errorExample\":\"\"}]","title":"DeployApplication","summary":"调用DeployApplication接口部署应用。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}