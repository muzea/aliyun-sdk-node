{"path":"/pop/v1/sam/app/rescaleApplication","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"6385","abilityTreeNodes":["FEATUREsae5HLO11"]},"parameters":[{"name":"AppId","in":"query","schema":{"description":"目标应用ID。","type":"string","required":true,"example":"0099b7be-5f5b-4512-a7fc-56049ef1****"}},{"name":"Replicas","in":"query","schema":{"description":"目标实例数。","type":"integer","format":"int32","required":true,"example":"5"}},{"name":"MinReadyInstances","in":"query","schema":{"description":"最小存活实例数。取值说明如下：\n\n- 如果设置为**0**，应用在升级过程中将会中断业务。\n- 如果设置为**-1**，最小存活实例数将使用系统推荐值，即取现有实例数的25%。如果当前为5个实例，5×25%=1.25，向上取整后，最小存活实例数为2。\n\n> 每次滚动部署最小存活的实例数建议≥1，保证业务不中断。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"MinReadyInstanceRatio","in":"query","schema":{"description":"最小存活实例数百分比。取值说明如下：\n\n - **-1**：初始化值，表示不采用百分比。\n - **0~100**：单位为百分比，向上取整。例如设置为**50**%，如果当前为5个实例，则最小存活实例数为3。\n\n> 当**MinReadyInstance**和**MinReadyInstanceRatio**同时传递时，且**MinReadyInstanceRatio**的取值非**-1**时，以**MinReadyInstanceRatio**参数为准。假设**MinReadyInstances**取值为**5**，**MinReadyInstanceRatio**取值为**50**，则会用**50**来计算最小存活实例数。","type":"integer","format":"int32","required":false,"example":"-1"}},{"name":"AutoEnableApplicationScalingRule","in":"query","schema":{"description":"是否自动启用应用弹性伸缩策略。取值说明如下：\n\n- **true**：开启。\n- **false**：关闭。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"description":"返回数据。","type":"object","properties":{"Message":{"description":"调用结果的附加信息。","type":"string","example":"success"},"RequestId":{"description":"请求ID。","type":"string","example":"91F93257-7A4A-4BD3-9A7E-2F6EAE6D****"},"Data":{"description":"返回结果。","type":"object","properties":{"ChangeOrderId":{"description":"发布单ID。","type":"string","example":"0e09829f-4914-4612-bc88-6f52fd81****"}}},"ErrorCode":{"description":"错误码。取值说明如下：\n\n- 请求成功：不返回**ErrorCode**字段。\n- 请求失败：返回**ErrorCode**字段。具体信息，请参见本文的**错误码**列表。","type":"string","example":"空"},"Code":{"description":"接口状态或POP错误码。取值说明如下：\n\n- **2xx**：成功。\n- **3xx**：重定向。\n- **4xx**：请求错误。\n- **5xx**：服务器错误。","type":"string","example":"200"},"Success":{"description":"应用扩缩是否成功。取值说明如下：\n\n- **true**：扩缩成功。\n- **false**：扩缩失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidApplication.NotFound","errorMessage":"The current application does not exist."},{"errorCode":"InvalidParameter.NotEmpty","errorMessage":"You must specify the parameter %s."},{"errorCode":"InvalidParameter.Obviously","errorMessage":"The specified parameter is invalid {%s}."},{"errorCode":"InvalidParameter.WithMessage","errorMessage":"The parameter is invalid {%s}: %s"},{"errorCode":"user.indebt","errorMessage":"The user has an outstanding payment."},{"errorCode":"NoComputeResourceQuota.App.Exceed","errorMessage":"You can create %s instances for each application.  Please submit a ticket to raise the quota."},{"errorCode":"NoComputeResourceQuota.Exceed","errorMessage":"Your compute resource is insufficient. Please contact us to raise the quota."},{"errorCode":"NoComputeResourceQuota.User.Exceed","errorMessage":"Your account is limited to create %s instances.  Please submit a ticket to raise the quota."},{"errorCode":"System.Upgrading","errorMessage":"The system is being upgraded. Please try again later."},{"errorCode":"Application.ChangerOrderRunning","errorMessage":"An application change process is in progress. Please try again later."},{"errorCode":"Application.InvalidStatus","errorMessage":"The application status is abnormal. Please try again later."},{"errorCode":"Application.NotDeployYet","errorMessage":"The application has not been deployed. Please deploy it and try again."},{"errorCode":"MinReadyInstances.Not.Smaller.Replicas","errorMessage":"The minimum number of available instances must be less than the number of application instances."},{"errorCode":"MinReadyInstanceRatio.Invalid","errorMessage":"The ratio of minimum available instances must be between 0 and 100."}],"404":[{"errorCode":"Associate.Eip.Not.Enough","errorMessage":"No sufficient EIPs are available."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"RequestId\\\": \\\"91F93257-7A4A-4BD3-9A7E-2F6EAE6D****\\\",\\n  \\\"Data\\\": {\\n    \\\"ChangeOrderId\\\": \\\"0e09829f-4914-4612-bc88-6f52fd81****\\\"\\n  },\\n  \\\"ErrorCode\\\": \\\"空\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RescaleApplicationResponse>\\n    <Message>success</Message>\\n    <RequestId>91F93257-7A4A-4BD3-9A7E-2F6EAE6D****</RequestId>\\n    <Data>\\n        <ChangeOrderId>0e09829f-4914-4612-bc88-6f52fd81****</ChangeOrderId>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</RescaleApplicationResponse>\",\"errorExample\":\"\"}]","title":"应用扩缩","summary":"调用RescaleApplication接口完成应用扩缩。"}