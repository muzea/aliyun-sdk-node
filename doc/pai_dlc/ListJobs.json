{"summary":"获取任务列表，支持分页、排序和按条件过滤。","path":"/api/v1/jobs","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"DisplayName","in":"query","schema":{"title":"作业显示名称，支持模糊查询","description":"任务名称，支持模糊查询，大小写不敏感，不支持通配符。\n例如：输入test，可以匹配test-job1、job-test、job-test2或job-Test；但是不能匹配job-t1。\n默认为空，代表任意任务名称。","type":"string","required":false,"example":"tf-mnist-test","maxLength":1024}},{"name":"JobType","in":"query","schema":{"title":"作业类型","description":"任务类型，可以查询任意任务类型。默认为空，代表所有类型。支持的任务类型如下：\n- TFJob\n- PyTorchJob\n- XGBoostJob\n- OneFlowJob\n- ElasticBatchJob","type":"string","required":false,"example":"TFJob","maxLength":32}},{"name":"Status","in":"query","schema":{"title":"作业状态","description":"任务状态；默认为空，代表任意状态。","type":"string","required":false,"example":"Running","maxLength":32}},{"name":"StartTime","in":"query","schema":{"title":"起始时间","description":"查询区间的起始时间；使用任务的创建时间来过滤。","type":"string","required":false,"example":"2020-11-08T16:00:00Z"}},{"name":"EndTime","in":"query","schema":{"title":"截止时间","description":"查询区间的截止时间；使用任务的创建时间来过滤。","type":"string","required":false,"example":"2020-11-09T14:45:00Z"}},{"name":"PageNumber","in":"query","schema":{"title":"当前页","description":"分页查询，指定当前需要返回的页码，起始值为1，默认为1。","type":"integer","format":"int32","required":false,"maximum":"1000","minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"title":"每页返回的作业数","description":"分页查询中，指定每页返回的任务数量。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"50","default":"10"}},{"name":"SortBy","in":"query","schema":{"title":"按返回字段排序","description":"返回任务列表的排序字段，枚举型：\n\n- DisplayName\n- JobType\n- Status\n- GmtCreateTime\n- GmtFinishTime","type":"string","required":false,"example":"GmtCreateTime"}},{"name":"Order","in":"query","schema":{"title":"排序顺序","description":"排列顺序，枚举类型：\n\n- desc：降序。\n- asc：升序。","type":"string","required":false,"example":"desc","default":"desc"}},{"name":"ShowOwn","in":"query","schema":{"title":"是否只返回当前登录者所提交的作业","description":"是否只查询当前用户提交的任务列表。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"WorkspaceId","in":"query","schema":{"title":"工作空间ID","description":"工作空间ID。如何获取工作空间ID，请参见[ListWorkspaces](~~449124~~)。","type":"string","required":false,"example":"1****"}},{"name":"ResourceId","in":"query","schema":{"title":"资源组ID","description":"资源组ID。如何查询专有资源组ID，详情请参见[准备及管理DLC资源组集群](https://help.aliyun.com/document_detail/202827.html#section-yhx-u5z-nh8)。","type":"string","required":false,"example":"r*****"}},{"name":"BusinessUserId","in":"query","schema":{"title":"作业关联用户ID","description":"任务关联用户ID。","type":"string","required":false,"example":"16****"}},{"name":"Caller","in":"query","schema":{"title":"调用方","description":"调用方。","type":"string","required":false,"example":"local"}},{"name":"Tags","in":"query","style":"json","schema":{"title":"自定义标签","description":"用于过滤的标签。","type":"object","required":false,"additionalProperties":{"type":"string","example":"recommandation","description":"单个标签。"}}},{"name":"PipelineId","in":"query","schema":{"title":"工作流ID","description":"过滤指定工作流ID创建的任务。","type":"string","required":false,"example":"flow-*******"}},{"name":"FromAllWorkspaces","in":"query","schema":{"description":"是否跨工作空间获取任务列表，需要配合`ShowOwn=true`参数使用，可以查询当前用户最近提交的任务列表。","type":"boolean","required":false,"example":"false"}},{"name":"JobId","in":"query","schema":{"description":"任务ID，不支持模糊查询，对大小写不敏感。不支持通配符。\n默认为空，代表任意任务ID。","type":"string","required":false,"example":"dlc********"}},{"name":"UserIdForFilter","in":"query","schema":{"title":"用于过滤的用户ID","description":"用于过滤的用户ID","type":"string","required":false}},{"name":"Username","in":"query","schema":{"title":"提交作业用户名，支持模糊匹配","description":"提交作业用户名，支持模糊匹配","type":"string","required":false}},{"name":"ResourceQuotaName","in":"query","schema":{"title":"资源组名称","description":"资源组名称","type":"string","required":false}}],"responses":{"200":{"schema":{"description":"任务列表。","type":"object","properties":{"Jobs":{"title":"作业列表","description":"任务列表。","type":"array","items":{"description":"单个任务。","$ref":"#/components/schemas/JobItem"}},"TotalCount":{"title":"符合过滤条件的总作业数","description":"符合过滤条件的总任务数。","type":"integer","format":"int64","example":"2"},"RequestId":{"title":"请求Id","description":"请求ID，用于诊断和答疑。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Jobs\\\": [\\n    {\\n      \\\"JobId\\\": \\\"dlc-20210126170216-mtl37ge7gkvdz\\\",\\n      \\\"CredentialConfig\\\": {\\n        \\\"EnableCredentialInject\\\": true,\\n        \\\"AliyunEnvRoleKey\\\": \\\"\\\",\\n        \\\"CredentialConfigItems\\\": [\\n          {\\n            \\\"Key\\\": \\\"\\\",\\n            \\\"Type\\\": \\\"\\\",\\n            \\\"Roles\\\": [\\n              {\\n                \\\"RoleArn\\\": \\\"\\\",\\n                \\\"RoleType\\\": \\\"\\\",\\n                \\\"AssumeRoleFor\\\": \\\"\\\",\\n                \\\"Policy\\\": \\\"\\\",\\n                \\\"AssumeUserInfo\\\": {\\n                  \\\"SecurityToken\\\": \\\"\\\",\\n                  \\\"AccessKeyId\\\": \\\"\\\",\\n                  \\\"Type\\\": \\\"\\\",\\n                  \\\"Id\\\": \\\"\\\"\\n                }\\n              }\\n            ]\\n          }\\n        ]\\n      },\\n      \\\"JobType\\\": \\\"TFJob\\\",\\n      \\\"DisplayName\\\": \\\"tf-mnist-test\\\",\\n      \\\"UserId\\\": \\\"123456789\\\",\\n      \\\"Username\\\": \\\"pai-dlc-role\\\",\\n      \\\"Status\\\": \\\"Stopped\\\",\\n      \\\"WorkspaceId\\\": \\\"268\\\",\\n      \\\"WorkspaceName\\\": \\\"dlc-workspace\\\",\\n      \\\"ResourceId\\\": \\\"dlc-quota\\\",\\n      \\\"ResourceLevel\\\": \\\"L0\\\",\\n      \\\"ReasonCode\\\": \\\"JobStoppedByUser\\\",\\n      \\\"ReasonMessage\\\": \\\"Job is stopped by user.\\\",\\n      \\\"JobSpecs\\\": [\\n        {\\n          \\\"Type\\\": \\\"Worker\\\",\\n          \\\"Image\\\": \\\"registry.cn-hangzhou.aliyuncs.com/pai-dlc/tensorflow-training:1.12.2PAI-cpu-py27-ubuntu16.04\\\",\\n          \\\"ImageConfig\\\": {\\n            \\\"DockerRegistry\\\": \\\"registry.cn-hangzhou.aliyuncs.com\\\",\\n            \\\"Username\\\": \\\"\\\",\\n            \\\"Password\\\": \\\"\\\",\\n            \\\"Auth\\\": \\\"\\\"\\n          },\\n          \\\"PodCount\\\": 1,\\n          \\\"EcsSpec\\\": \\\"ecs.c6.large\\\",\\n          \\\"ExtraPodSpec\\\": {\\n            \\\"SideCarContainers\\\": [\\n              {\\n                \\\"Name\\\": \\\"data-init\\\",\\n                \\\"Image\\\": \\\"registry.cn-hangzhou.aliyuncs.com/pai-dlc/curl:v1.0.0\\\",\\n                \\\"Command\\\": [\\n                  \\\"curl www.aliyun.com\\\"\\n                ],\\n                \\\"Args\\\": [\\n                  \\\"\\\"\\n                ],\\n                \\\"WorkingDir\\\": \\\"/root\\\",\\n                \\\"Env\\\": [\\n                  {\\n                    \\\"Name\\\": \\\"ENABLE_DEBUG\\\",\\n                    \\\"Value\\\": \\\"true\\\"\\n                  }\\n                ],\\n                \\\"Resources\\\": {\\n                  \\\"Limits\\\": {\\n                    \\\"key\\\": \\\"\\\"\\n                  },\\n                  \\\"Requests\\\": {\\n                    \\\"key\\\": \\\"\\\"\\n                  }\\n                }\\n              }\\n            ],\\n            \\\"InitContainers\\\": [\\n              {\\n                \\\"Name\\\": \\\"data-init\\\",\\n                \\\"Image\\\": \\\"registry.cn-hangzhou.aliyuncs.com/pai-dlc/curl:v1.0.0\\\",\\n                \\\"Command\\\": [\\n                  \\\"curl www.aliyun.com\\\"\\n                ],\\n                \\\"Args\\\": [\\n                  \\\"\\\"\\n                ],\\n                \\\"WorkingDir\\\": \\\"/root\\\",\\n                \\\"Env\\\": [\\n                  {\\n                    \\\"Name\\\": \\\"ENABLE_DEBUG\\\",\\n                    \\\"Value\\\": \\\"true\\\"\\n                  }\\n                ],\\n                \\\"Resources\\\": {\\n                  \\\"Limits\\\": {\\n                    \\\"key\\\": \\\"\\\"\\n                  },\\n                  \\\"Requests\\\": {\\n                    \\\"key\\\": \\\"\\\"\\n                  }\\n                }\\n              }\\n            ],\\n            \\\"PodLabels\\\": {\\n              \\\"key\\\": \\\"\\\"\\n            },\\n            \\\"PodAnnotations\\\": {\\n              \\\"key\\\": \\\"\\\"\\n            },\\n            \\\"SharedVolumeMountPaths\\\": [\\n              \\\"/root/share/\\\"\\n            ]\\n          },\\n          \\\"ResourceConfig\\\": {\\n            \\\"CPU\\\": \\\"10\\\",\\n            \\\"GPU\\\": \\\"3\\\",\\n            \\\"Memory\\\": \\\"10Gi\\\",\\n            \\\"SharedMemory\\\": \\\"5Gi\\\",\\n            \\\"GPUType\\\": \\\"Tesla-V100-16G\\\"\\n          },\\n          \\\"UseSpotInstance\\\": false,\\n          \\\"SpotSpec\\\": {\\n            \\\"SpotStrategy\\\": \\\"\\\",\\n            \\\"SpotDiscountLimit\\\": 0\\n          }\\n        }\\n      ],\\n      \\\"UserCommand\\\": \\\"python /root/code/mnist.py\\\",\\n      \\\"DataSources\\\": [\\n        {\\n          \\\"DataSourceId\\\": \\\"data-20210114104214-vf9lowjt3pso\\\",\\n          \\\"MountPath\\\": \\\"/mnt/data\\\"\\n        }\\n      ],\\n      \\\"CodeSource\\\": {\\n        \\\"CodeSourceId\\\": \\\"code-20210111103721-85qz78ia96lu\\\",\\n        \\\"Branch\\\": \\\"master\\\",\\n        \\\"Commit\\\": \\\"44da109b59f8596152987eaa8f3b2487bb72ea63\\\",\\n        \\\"MountPath\\\": \\\"/mnt/data\\\"\\n      },\\n      \\\"ThirdpartyLibs\\\": [\\n        \\\"numpy==1.16.1\\\"\\n      ],\\n      \\\"ThirdpartyLibDir\\\": \\\"/root/code/\\\",\\n      \\\"Envs\\\": {\\n        \\\"key\\\": \\\"ENABLE_DEBUG_MODE\\\"\\n      },\\n      \\\"GmtCreateTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtSubmittedTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtRunningTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtSuccessedTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtStoppedTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtFailedTime\\\": \\\"2021-01-12T14:35:01Z\\\",\\n      \\\"GmtFinishTime\\\": \\\"2021-01-12T15:36:08Z\\\",\\n      \\\"Duration\\\": 3602,\\n      \\\"Settings\\\": {\\n        \\\"BusinessUserId\\\": \\\"166924\\\",\\n        \\\"Caller\\\": \\\"SilkFlow\\\",\\n        \\\"Tags\\\": {\\n          \\\"key\\\": \\\"\\\"\\n        },\\n        \\\"PipelineId\\\": \\\"pid-123456\\\",\\n        \\\"EnableTideResource\\\": true,\\n        \\\"EnableErrorMonitoringInAIMaster\\\": false,\\n        \\\"ErrorMonitoringArgs\\\": \\\"--enable-log-hang-detection true\\\",\\n        \\\"EnableRDMA\\\": true,\\n        \\\"EnableOssAppend\\\": true,\\n        \\\"OversoldType\\\": \\\"AcceptQuotaOverSold\\\",\\n        \\\"AdvancedSettings\\\": {\\n          \\\"test\\\": \\\"test\\\",\\n          \\\"test2\\\": 1\\n        },\\n        \\\"Driver\\\": \\\"535.54.03\\\",\\n        \\\"EnableSanityCheck\\\": true,\\n        \\\"SanityCheckArgs\\\": \\\"--sanity-check-timing=AfterJobFaultTolerant --sanity-check-timeout-ops=MarkJobFai\\\",\\n        \\\"JobReservedMinutes\\\": 30,\\n        \\\"JobReservedPolicy\\\": \\\"Always\\\"\\n      },\\n      \\\"EnabledDebugger\\\": false,\\n      \\\"ResourceName\\\": \\\"my_resource_group\\\",\\n      \\\"Priority\\\": 1,\\n      \\\"SubStatus\\\": \\\"Restarting\\\",\\n      \\\"UseOversoldResource\\\": false,\\n      \\\"ResourceType\\\": \\\"ECS\\\"\\n    }\\n  ],\\n  \\\"TotalCount\\\": 2,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<不支持/>\",\"errorExample\":\"\"}]","title":"获取任务列表"}