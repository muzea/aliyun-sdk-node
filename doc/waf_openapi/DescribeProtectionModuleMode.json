{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"Domain","in":"query","schema":{"description":"要查询的网站域名。\n> 网站域名必须已经接入WAF防护。您可以调用[DescribeDomainList](~~255880~~)查询所有已接入WAF防护的网站域名。","type":"string","required":true,"example":"www.aliyundoc.com"}},{"name":"DefenseType","in":"query","schema":{"description":"要查询其模式的防护模块。取值：\n\n- **waf**：表示规则防护引擎。\n- **dld**：表示深度学习引擎。\n- **ac_cc**：表示CC安全防护。\n- **antifraud**：表示数据风控。\n- **normalized**：表示主动防御。","type":"string","required":true,"example":"waf"}},{"name":"InstanceId","in":"query","schema":{"description":"WAF实例的ID。\n\n> 您可以调用[DescribeInstanceInfo](~~140857~~)查询当前WAF实例的ID。","type":"string","required":true,"example":"waf-cn-tl32ast****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"网站域名在资源管理服务中所属的资源组ID。不设置该参数表示默认资源组。","type":"string","required":false,"example":"rg-atstuj3rtop****"}},{"name":"RegionId","in":"query","schema":{"type":"string","required":false,"default":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次请求的ID。","type":"string","example":"DE14845A-F46F-59BE-B8F7-6ED7A787D213"},"Mode":{"description":"防护模块当前使用的防护模式。根据请求参数**DefenseType**不同，该参数的取值和含义不同，具体说明如下：\n\n- **DefenseType**为**waf**（表示查询规则防护引擎），**Mode**取值：\n\n    - **0**：表示拦截模式。\n    - **1**：表示告警模式。\n\n- **DefenseType**为**dld**（表示查询深度学习引擎），**Mode**取值：\n\n    - **0**：表示告警模式。\n    - **1**：表示拦截模式。\n\n- **DefenseType**为**ac_cc**（表示查询CC安全防护模块），**Mode**取值：\n\n    - **0**：表示防护模式。\n    - **1**：表示防护-紧急模式。\n\n- **DefenseType**为**antifraud**（表示查询数据风控模块），**Mode**取值：\n\n    - **0**：表示告警模式。\n    - **1**：表示拦截模式。\n    - **2**：表示强拦截模式。\n\n- **DefenseType**为**normalized**（表示查询主动防御模块），**Mode**取值：\n\n    - **0**：表示告警模式。\n    - **1**：表示拦截模式。","type":"integer","format":"int32","example":"0"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"DE14845A-F46F-59BE-B8F7-6ED7A787D213\\\",\\n  \\\"Mode\\\": 0\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeProtectionModuleModeResponse>\\n    <LearnStatus>3</LearnStatus>\\n    <RequestId>DE14845A-F46F-59BE-B8F7-6ED7A787D213</RequestId>\\n    <Mode>0</Mode>\\n</DescribeProtectionModuleModeResponse>\",\"errorExample\":\"\"}]","title":"获取域名当前的防护模式","summary":"获取指定域名配置当前的防护模式，如正则防护引擎、大数据深度学习引擎、CC安全防护、数据风控、主动防御。","description":"本接口用于查询网站防护配置中，指定防护模块（包括规则防护引擎、深度学习引擎、CC安全防护、数据风控、主动防御）当前使用的防护模式。\n您可以通过设置**DefenseType**参数值指定要查询的防护模块。具体参数值的含义，请参见请求参数**DefenseType**的描述。\n调用接口前，您必须已经调用[CreateDomain](~~160780~~)创建了网站接入配置，将网站域名接入WAF防护。\n请注意，为了确保系统的文档性，对单用户QPS限制为10次/秒。超过限制，API调用将会被限流，这可能影响您的业务，请合理调用。","requestParamsDescription":"调用API时，除了本文中该API的请求参数，还需加入阿里云API公共请求参数。公共请求参数的详细介绍，请参见[公共参数](~~162719~~)。\n调用API的请求格式，请参见本文**示例**中的请求示例。","responseParamsDescription":" ","extraInfo":" "}