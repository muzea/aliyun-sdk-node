{"summary":"全文识别高精版。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"Url","in":"query","schema":{"title":"图片链接（长度不超 2048，不支持 base64）","description":"* 本字段和body字段二选一，不可同时透传或同时为空。\n* 图片链接（长度不超2048，不支持base64）。","type":"string","required":false,"example":"https://example.png","maxLength":2048}},{"name":"body","in":"body","schema":{"title":"图片二进制字节流，最大10MB","description":"* 本字段和URL字段二选一，不可同时透传或同时为空。\n* 图片二进制文件，最大10MB。\n* 使用HTTP方式调用，把图片二进制文件放到HTTP body中上传即可。\n* 使用SDK的方式调用，把图片放到SDK的body中即可。","type":"string","format":"binary","required":false,"example":"图片二进制文件"}},{"name":"OutputCharInfo","in":"query","schema":{"title":"是否输出单字识别结果","description":"* 是否输出单字识别结果，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"NeedRotate","in":"query","schema":{"title":"是否需要自动旋转功能(结构化检测、混贴场景、教育相关场景会自动做旋转，无需设置)，返回角度信息","description":"* 是否需要自动旋转功能，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"OutputTable","in":"query","schema":{"title":"是否输出表格识别结果，包含单元格信息","description":"* 是否输出表格识别结果，包含单元格信息，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"NeedSortPage","in":"query","schema":{"title":"是否按顺序输出文字块。false表示从左往右，从上到下的顺序；true表示从上到下，从左往右的顺序","description":"* 是否按顺序输出文字块，默认为false。\n* false表示从左往右，从上到下的顺序；true表示从上到下，从左往右的顺序。","type":"boolean","required":false,"example":"false"}},{"name":"OutputFigure","in":"query","schema":{"title":"是否需要图案检测功能，默认不需要。true：需要 false：不需要","description":"* 是否需要图案检测功能，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"NoStamp","in":"query","schema":{"title":"是否需要去除印章功能，默认不需要。true：需要 false：不需要","description":"* 是否需要去除印章功能，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"Paragraph","in":"query","schema":{"title":"是否需要分段功能，默认不需要。true：需要 false：不需要","description":"* 是否需要分段功能，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}},{"name":"Row","in":"query","schema":{"title":"是否需要成行返回功能，默认不需要","description":"* 是否需要成行返回功能，默认不需要。\n* true：需要；false：不需要。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"请求唯一 ID","description":"请求唯一 ID","type":"string","example":"43A29C77-405E-4CC0-BC55-EE694AD00655"},"Data":{"title":"返回数据","description":"返回数据","type":"string","example":"{ \t\"content\": \"2017年河北区实验小学\", \t\"height\": 3509, \t\"orgHeight\": 3509, \t\"orgWidth\": 2512, \t\"prism_version\": \"1.0.9\", \t\"prism_wnum\": 126, \t\"prism_wordsInfo\": [{ \t\t\"angle\": -89, \t\t\"direction\": 0, \t\t\"height\": 541, \t\t\"pos\": [{ \t\t\t\"x\": 982, \t\t\t\"y\": 223 \t\t}, { \t\t\t\"x\": 1522, \t\t\t\"y\": 223 \t\t}, { \t\t\t\"x\": 1522, \t\t\t\"y\": 266 \t\t}, { \t\t\t\"x\": 982, \t\t\t\"y\": 266 \t\t}], \t\t\"prob\": 99, \t\t\"width\": 43, \t\t\"word\": \"2017年河北区实验小学\", \t\t\"x\": 1230, \t\t\"y\": -26 \t}], \t\"width\": 2512 }"},"Code":{"title":"错误码","description":"状态码","type":"string","example":"200"},"Message":{"title":"错误提示","description":"详细信息","type":"string","example":"message"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"43A29C77-405E-4CC0-BC55-EE694AD00655\\\",\\n  \\\"Data\\\": \\\"{ \\\\t\\\\\\\"content\\\\\\\": \\\\\\\"2017年河北区实验小学\\\\\\\", \\\\t\\\\\\\"height\\\\\\\": 3509, \\\\t\\\\\\\"orgHeight\\\\\\\": 3509, \\\\t\\\\\\\"orgWidth\\\\\\\": 2512, \\\\t\\\\\\\"prism_version\\\\\\\": \\\\\\\"1.0.9\\\\\\\", \\\\t\\\\\\\"prism_wnum\\\\\\\": 126, \\\\t\\\\\\\"prism_wordsInfo\\\\\\\": [{ \\\\t\\\\t\\\\\\\"angle\\\\\\\": -89, \\\\t\\\\t\\\\\\\"direction\\\\\\\": 0, \\\\t\\\\t\\\\\\\"height\\\\\\\": 541, \\\\t\\\\t\\\\\\\"pos\\\\\\\": [{ \\\\t\\\\t\\\\t\\\\\\\"x\\\\\\\": 982, \\\\t\\\\t\\\\t\\\\\\\"y\\\\\\\": 223 \\\\t\\\\t}, { \\\\t\\\\t\\\\t\\\\\\\"x\\\\\\\": 1522, \\\\t\\\\t\\\\t\\\\\\\"y\\\\\\\": 223 \\\\t\\\\t}, { \\\\t\\\\t\\\\t\\\\\\\"x\\\\\\\": 1522, \\\\t\\\\t\\\\t\\\\\\\"y\\\\\\\": 266 \\\\t\\\\t}, { \\\\t\\\\t\\\\t\\\\\\\"x\\\\\\\": 982, \\\\t\\\\t\\\\t\\\\\\\"y\\\\\\\": 266 \\\\t\\\\t}], \\\\t\\\\t\\\\\\\"prob\\\\\\\": 99, \\\\t\\\\t\\\\\\\"width\\\\\\\": 43, \\\\t\\\\t\\\\\\\"word\\\\\\\": \\\\\\\"2017年河北区实验小学\\\\\\\", \\\\t\\\\t\\\\\\\"x\\\\\\\": 1230, \\\\t\\\\t\\\\\\\"y\\\\\\\": -26 \\\\t}], \\\\t\\\\\\\"width\\\\\\\": 2512 }\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"message\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RecognizeAdvancedResponse>\\n    <RequestId>43A29C77-405E-4CC0-BC55-EE694AD00655</RequestId>\\n    <Data>{ \\t\\\"content\\\": \\\"2017年河北区实验小学\\\", \\t\\\"height\\\": 3509, \\t\\\"orgHeight\\\": 3509, \\t\\\"orgWidth\\\": 2512, \\t\\\"prism_version\\\": \\\"1.0.9\\\", \\t\\\"prism_wnum\\\": 126, \\t\\\"prism_wordsInfo\\\": [{ \\t\\t\\\"angle\\\": -89, \\t\\t\\\"direction\\\": 0, \\t\\t\\\"height\\\": 541, \\t\\t\\\"pos\\\": [{ \\t\\t\\t\\\"x\\\": 982, \\t\\t\\t\\\"y\\\": 223 \\t\\t}, { \\t\\t\\t\\\"x\\\": 1522, \\t\\t\\t\\\"y\\\": 223 \\t\\t}, { \\t\\t\\t\\\"x\\\": 1522, \\t\\t\\t\\\"y\\\": 266 \\t\\t}, { \\t\\t\\t\\\"x\\\": 982, \\t\\t\\t\\\"y\\\": 266 \\t\\t}], \\t\\t\\\"prob\\\": 99, \\t\\t\\\"width\\\": 43, \\t\\t\\\"word\\\": \\\"2017年河北区实验小学\\\", \\t\\t\\\"x\\\": 1230, \\t\\t\\\"y\\\": -26 \\t}], \\t\\\"width\\\": 2512 }</Data>\\n</RecognizeAdvancedResponse>\",\"errorExample\":\"\"}]","title":"全文识别高精版","description":"#### 本接口适用场景\n* 阿里云全文识别高精版，是阿里云官方自研OCR文字识别产品，智能识别图片所包含的全部字段，集表格识别、旋转识别、生僻字识别等多功能为一体，提供高性价比的多场景文字识别体验。\n* 阿里云OCR产品基于阿里巴巴达摩院强大的AI技术及海量数据，历经多年沉淀打磨，具有服务稳定、操作简易、实时性高、能力全面等几大优势。\n* 本接口图片示例\n<p style=\"text-align:center\"><img src=\"https://img.alicdn.com/imgextra/i1/O1CN01JW5Amf1TfpKdxvNhB_!!6000000002410-2-tps-1105-549.png\" width=\"70%\"></p>\n\n#### 本接口核心能力\n  \n|分类 |概述|\n|---|---------|\n|多功能集结|集表格识别、旋转识别、生僻字识别等多功能为一体。|\n|抗干扰|支持多格式版面、复杂文档背景和光照环境的精准识别。|\n|自动排异|对有印章、手印的文档，可实现印章查处后识别。|\n|高阶能力|支持覆盖文字编辑、低置信度过滤、图案检测。|\n\n#### 如何使用本接口\n\n|步骤|概述|\n|--|---|\n|1|开通 [通用文字识别](https://common-buy.aliyun.com?commodityCode=ocr_general_public_cn) 服务。开通服务前后，您可以通过[体验馆](https://duguang.aliyun.com/experience?type=universal&subtype=general#intro)免费体验本功能识别效果。|\n|2|购买[全文识别高精版资源包](https://common-buy.aliyun.com/?commodityCode=ocr_general_dp_cn&request=%7B%22ord_time%22:%221:Year%22,%22order_num%22:1,%22pack%22:%22ocr_general_dp_cn_20211103172431_0719%22,%22flowout_spec%22:%22500%22%7D)。本API会赠送免费额度，可使用免费额度测试。|\n|3|可以参照[调试页面](https://next.api.aliyun.com/api/ocr-api/2021-07-07/RecognizeAdvanced?lang=JAVA&sdkStyle=dara)提供的代码示例完成API接入开发。接入完成后，调用API获取识别结果。如果使用子账号调用接口，需要阿里云账号（主账号）对RAM账号进行授权。创建RAM用户的具体操作，请参考：[创建RAM用户。](https://help.aliyun.com/document_detail/93720.html)文字识别服务提供一种系统授权策略，即**AliyunOCRFullAccess**。具体授权操作，请参见[在用户页面为RAM用户授权。](https://help.aliyun.com/document_detail/116146.html)|\n\n#### 重要提示\n|类型|概述|\n|----|-------------------|\n|图片格式|<ul> <li>本接口支持：PNG、JPG、JPEG、BMP、GIF、TIFF、WebP。暂不支持PDF格式。</li></ul>|\n|图片尺寸|<ul> <li> 图片长宽需要大于15像素，小于8192像素。</li> <li>长宽比需要小于50。</li> <li>如需达到较好识别效果，建议长宽均大于500px。</li> </ul>|\n|图片大小|<ul> <li> 图片二进制文件不能超过10MB。</li> <li> 图片过大会影响接口响应速度，建议使用小于1.5M图片进行识别，且通过传图片URL的方式调用接口。</li> </ul>|\n|其他提示|<ul> <li>接口响应速度和图片中的文字数量有关，如果图片中文字数量越多，接口响应可能越慢。</li> <li> 接口会自动处理反光、扭曲等干扰信息，但会影响精度。请尽量选择清晰度高、无反光、无扭曲的图片。 </li> </ul>|","responseParamsDescription":"#### 返回参数说明\n<br/>\n\n|字段|类型|说明|\n|-----|---|--|\n|angle|int|图片的角度（当NeedRotate=true时，返回此字段）。0表示正向，90表示图片朝右，180朝下，270朝左。|\n|content|string|识别出图片的文字块汇总。|\n|figure|list|图片中的图案信息（当OutputFigure=true时，返回此字段）。|\n|prism_wordsInfo|list|文字块信息。|\n|prism_tablesInfo|list|表格信息（当OutputTable=true时，返回此字段）。|\n|prism_paragraphsInfo|list|段落信息（当Paragraph=true时，返回此字段）。|\n|prism_rowsInfo|list|行信息（当Row=true时，返回此字段）。|\n|prism_wnum|int|识别的文字块的数量，prism_wordsInfo数组的大小。|\n|height|int|算法矫正图片后的高度。|\n|width|int|算法矫正图片后的宽度。|\n|orgHeight|int|原图的高度。|\n|orgWidth|int|原图的宽度。|\n\n#### 文字块信息（prism_wordsInfo字段）\n|字段|类型|说明|\n|-----|---|--|\n|angle|int|文字块的角度。|\n|height|int|算法矫正图片后的高度。|\n|width|int|算法矫正图片后的宽度。|\n|pos|list|文字块的外矩形四个点的坐标按顺时针排列（左上、右上、右下、左下）。当NeedRotate=true时，如果最外层的angle不为0，需要按照angle矫正图片后，坐标才准确。|\n|word|string|文字块的文字内容。|\n|tableId|int|表格的id（当OutputTable=true时，返回此字段）。|\n|tableCellId|int|表格中单元格的id（当OutputTable=true时，返回此字段）。|\n|charInfo|list|单字信息。|\n\n#### 单字信息（charInfo字段）\n|字段|类型|说明|\n|-----|---|--|\n|word|string|单字文字。|\n|prob|int|置信度。|\n|x|int|单字左上角横坐标。|\n|y|int|单字左上角纵坐标。|\n|w|int|单字宽度。|\n|h|int|单字高度。|\n\n#### 表格信息（prism_tablesInfo字段。当OutputTable=true时，返回此字段。）\n|字段|类型|说明|\n|-----|---|--|\n|tableId|int|表格id，和prism_wordsInfo信息中的tableId对应。|\n|xCellSize|int|表格中横坐标单元格的数量。|\n|yCellSize|int|表格中纵坐标单元格的数量。|\n|cellInfos|list|单元格信息。|\n\n#### 单元格信息（cellInfos字段）\n|字段|类型|说明|\n|-----|---|--|\n|tableCellId|int|表格中单元格id，和prism_wordsInfo信息中的tableCellId对应。|\n|word|string|单元格中的文字。|\n|xsc|int|xStartCell缩写，表示横轴方向该单元格起始在第几个单元格，第一个单元格值为0。|\n|xec|int|xEndCell缩写，表示横轴方向该单元格结束在第几个单元格，第一个单元格值为0，如果xsc和xec都为0说明该文字在横轴方向占据了一个单元格并且在第一个单元格内。|\n|ysc|int|yStartCell缩写，表示纵轴方向该单元格起始在第几个单元格，第一个单元格值为0。|\n|yec|int|yEndCell缩写，表示纵轴方向该单元格结束在第几个单元格，第一个单元格值为0。|\n|pos|list|单元格位置，按照单元格四个角的坐标顺时针排列，分别为左上XY坐标、右上XY坐标、右下XY坐标、左下XY坐标。|\n\n#### 段落信息（prism_paragraphsInfo字段。当Paragraph=true时，返回此字段。）\n|字段|类型|说明|\n|-----|---|--|\n|paragraphId|int|段落id，和prism_wordsInfo信息中的paragraphId对应。|\n|word|string|段落文字。|\n\n#### 行信息（prism_rowsInfo字段。当Row=true时，返回此字段。）\n|字段|类型|说明|\n|-----|---|--|\n|rowId|int|行id，和prism_wordsInfo信息中的rowId对应。|\n|word|string|行文字。|\n\n#### 图案位置信息（figure字段。当OutputFigure=true时，返回此字段。）\n|字段|类型|说明|\n|-----|---|--|\n|type|string|图案类型。blicense_title营业执照标题，national_emblem中国国徽，barcode条形码，qrcode二维码，face人脸，finger_print指纹，signature签名，round_stamp圆形印章，oval_stamp椭圆印章，rectangular_stamp矩形印章，square_stamp方形印章，rhombus_stamp菱形印章|\n|x|int|图案左上角横坐标。|\n|y|int|图案左上角纵坐标。|\n|w|int|图案宽度。|\n|h|int|图案高度。|\n|box|object|图案坐标信息：中心横纵坐标，长宽，顺时针旋转角度。定义同 OpenCV 中 RotatedRect，请参见 [OpenCV 文档](https://docs.opencv.org/3.4/db/dd6/classcv_1_1RotatedRect.html#a6bd95a46f9ab83a4f384a4d4845e6332)。|\n|points|list|图案四个点坐标（左上、右上、右下、左下）。|","extraInfo":"SDK调用\n通过SDK调用此接口的示例请参考[开发者中心](https://next.api.aliyun.com/api-tools/sdk/ocr-api?version=2021-07-07&language=java-tea)"}