{"summary":"出租车发票识别。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"Url","in":"query","schema":{"title":"图片链接（长度不超 2048，不支持 base64）","description":"* 本字段和body字段二选一，不可同时透传或同时为空。\n* 图片链接（长度不超2048，不支持base64）。","type":"string","required":false,"example":"https://img.alicdn.com/tfs/TB1.OicXebviK0jSZFNXXaApXXa-364-982.jpg","maxLength":2048}},{"name":"body","in":"body","schema":{"title":"图片二进制字节流，最大10MB","description":"* 本字段和URL字段二选一，不可同时透传或同时为空。\n* 图片二进制文件，最大10MB。\n* 使用HTTP方式调用，把图片二进制文件放到HTTP body中上传即可。\n* 使用SDK的方式调用，把图片放到SDK的body中即可。","type":"string","format":"binary","required":false,"example":"图片二进制文件"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"description":"请求唯一 ID","type":"string","example":"43A29C77-405E-4CC0-BC55-EE694AD00655"},"Data":{"description":"返回数据","type":"string","example":"{ \t\"data\": { \t\t\"licensePlateNumber\": \"B-30T76\", \t\t\"date\": \"2018-09-28\", \t\t\"invoiceCode\": \"150001583910\", \t\t\"invoiceNumber\": \"22566685\", \t\t\"mileage\": \"22.8\", \t\t\"fare\": \"¥57.00\", \t\t\"dropOffTime\": \"01：40\", \t\t\"pickUpTime\": \"01：19\" \t}, \t\"ftype\": 0, \t\"height\": 982, \t\"orgHeight\": 982, \t\"orgWidth\": 364,  \t\"width\": 364 }"},"Code":{"description":"状态码","type":"string","example":"200"},"Message":{"description":"详细信息","type":"string","example":"message"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"43A29C77-405E-4CC0-BC55-EE694AD00655\\\",\\n  \\\"Data\\\": \\\"{ \\\\t\\\\\\\"data\\\\\\\": { \\\\t\\\\t\\\\\\\"licensePlateNumber\\\\\\\": \\\\\\\"B-30T76\\\\\\\", \\\\t\\\\t\\\\\\\"date\\\\\\\": \\\\\\\"2018-09-28\\\\\\\", \\\\t\\\\t\\\\\\\"invoiceCode\\\\\\\": \\\\\\\"150001583910\\\\\\\", \\\\t\\\\t\\\\\\\"invoiceNumber\\\\\\\": \\\\\\\"22566685\\\\\\\", \\\\t\\\\t\\\\\\\"mileage\\\\\\\": \\\\\\\"22.8\\\\\\\", \\\\t\\\\t\\\\\\\"fare\\\\\\\": \\\\\\\"¥57.00\\\\\\\", \\\\t\\\\t\\\\\\\"dropOffTime\\\\\\\": \\\\\\\"01：40\\\\\\\", \\\\t\\\\t\\\\\\\"pickUpTime\\\\\\\": \\\\\\\"01：19\\\\\\\" \\\\t}, \\\\t\\\\\\\"ftype\\\\\\\": 0, \\\\t\\\\\\\"height\\\\\\\": 982, \\\\t\\\\\\\"orgHeight\\\\\\\": 982, \\\\t\\\\\\\"orgWidth\\\\\\\": 364,  \\\\t\\\\\\\"width\\\\\\\": 364 }\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"message\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RecognizeTaxiInvoiceResponse>\\n    <RequestId>47AE7D1E-54E3-41D1-B50F-CB78E7506B8B</RequestId>\\n    <Data>{\\\"data\\\":{\\\"licensePlateNumber\\\":\\\"B-30T76\\\",\\\"date\\\":\\\"2018-09-28\\\",\\\"invoiceCode\\\":\\\"150001583910\\\",\\\"invoiceNumber\\\":\\\"22566685\\\",\\\"mileage\\\":\\\"22.8\\\",\\\"fare\\\":\\\"¥57.00\\\",\\\"dropOffTime\\\":\\\"01：40\\\",\\\"pickUpTime\\\":\\\"01：19\\\"},\\\"ftype\\\":0,\\\"height\\\":982,\\\"orgHeight\\\":982,\\\"orgWidth\\\":364,\\\"prism_keyValueInfo\\\":[{\\\"key\\\":\\\"licensePlateNumber\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"B-30T76\\\",\\\"valuePos\\\":[{\\\"x\\\":200,\\\"y\\\":559},{\\\"x\\\":314,\\\"y\\\":557},{\\\"x\\\":315,\\\"y\\\":579},{\\\"x\\\":201,\\\"y\\\":581}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"date\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"2018-09-28\\\",\\\"valuePos\\\":[{\\\"x\\\":153,\\\"y\\\":600},{\\\"x\\\":318,\\\"y\\\":596},{\\\"x\\\":319,\\\"y\\\":618},{\\\"x\\\":154,\\\"y\\\":622}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"invoiceCode\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"150001583910\\\",\\\"valuePos\\\":[{\\\"x\\\":74,\\\"y\\\":193},{\\\"x\\\":337,\\\"y\\\":187},{\\\"x\\\":338,\\\"y\\\":213},{\\\"x\\\":75,\\\"y\\\":220}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"invoiceNumber\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"22566685\\\",\\\"valuePos\\\":[{\\\"x\\\":248,\\\"y\\\":236},{\\\"x\\\":248,\\\"y\\\":259},{\\\"x\\\":75,\\\"y\\\":259},{\\\"x\\\":75,\\\"y\\\":236}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"mileage\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"22.8\\\",\\\"valuePos\\\":[{\\\"x\\\":313,\\\"y\\\":741},{\\\"x\\\":313,\\\"y\\\":762},{\\\"x\\\":256,\\\"y\\\":762},{\\\"x\\\":256,\\\"y\\\":741}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"fare\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"¥57.00\\\",\\\"valuePos\\\":[{\\\"x\\\":225,\\\"y\\\":849},{\\\"x\\\":322,\\\"y\\\":847},{\\\"x\\\":323,\\\"y\\\":869},{\\\"x\\\":226,\\\"y\\\":871}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"dropOffTime\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"01：40\\\",\\\"valuePos\\\":[{\\\"x\\\":316,\\\"y\\\":671},{\\\"x\\\":316,\\\"y\\\":693},{\\\"x\\\":238,\\\"y\\\":693},{\\\"x\\\":238,\\\"y\\\":671}],\\\"valueProb\\\":100},{\\\"key\\\":\\\"pickUpTime\\\",\\\"keyProb\\\":100,\\\"value\\\":\\\"01：19\\\",\\\"valuePos\\\":[{\\\"x\\\":236,\\\"y\\\":635},{\\\"x\\\":316,\\\"y\\\":633},{\\\"x\\\":317,\\\"y\\\":654},{\\\"x\\\":237,\\\"y\\\":657}],\\\"valueProb\\\":100}],\\\"sliceRect\\\":{\\\"x0\\\":0,\\\"y0\\\":0,\\\"x1\\\":364,\\\"y1\\\":0,\\\"x2\\\":364,\\\"y2\\\":973,\\\"x3\\\":0,\\\"y3\\\":975},\\\"width\\\":364}</Data>\\n</RecognizeTaxiInvoiceResponse>\",\"errorExample\":\"\"}]","title":"出租车发票识别","description":"#### 本接口适用场景\n  * 阿里云出租车发票识别，是阿里云官方自研OCR文字识别产品，适用于识别出租车发票所包含的发票代码、发票号码、金额、里程等关键信息的场景。\n  * 阿里云OCR产品基于阿里巴巴达摩院强大的AI技术及海量数据，历经多年沉淀打磨，具有服务稳定、操作简易、实时性高、能力全面等几大优势。\n  * 本接口图片示例\n<p style=\"text-align:center\"><img src=\"https://img.alicdn.com/tfs/TB1.OicXebviK0jSZFNXXaApXXa-364-982.jpg\" width=\"30%\"></p>\n\n#### 本接口核心能力\n  \n|分类 |概述|\n|---|---------|\n|图像增强|默认支持图像增强，包括图像自动旋转、畸变自动矫正、模糊图片自动增强等能力。|\n|多类型覆盖|支持模糊、光照不均、透视畸变、任意背景等低质量图像识别。|\n|高精度识别|总体识别准确率可达97%。|\n\n#### 如何使用本接口\n\n|步骤|概述|\n|--|---|\n|1|开通 [票据凭证识别](https://common-buy.aliyun.com/?commodityCode=ocr_invoice_public_cn) 服务。开通服务前后，您可以通过[体验馆](https://duguang.aliyun.com/experience?type=bill&subtype=taxi_ticket#intro)免费体验本功能识别效果。|\n|2|购买[票据凭证识别资源包](https://common-buy.aliyun.com/?commodityCode=ocr_invoice_dp_cn&request=%7B%22ord_time%22:%221:Year%22,%22order_num%22:1,%22pack%22:%22ocr_invoice_dp_cn_20211103182712_0996%22,%22flowout_spec%22:%22500%22%7D)。本API会赠送免费额度，可使用免费额度测试。您也可以不购买资源包，系统会通过“[按量付费](https://help.aliyun.com/document_detail/295347.html)”方式按实际调用量自动扣款。|\n|3|可以参照[调试页面](https://next.api.aliyun.com/api/ocr-api/2021-07-07/RecognizeTaxiInvoice?sdkStyle=dara)提供的代码示例完成API接入开发。接入完成后，调用API获取识别结果。如果使用子账号调用接口，需要阿里云账号（主账号）对RAM账号进行授权。创建RAM用户的具体操作，请参考：[创建RAM用户。](https://help.aliyun.com/document_detail/93720.html)文字识别服务提供一种系统授权策略，即**AliyunOCRFullAccess**。具体授权操作，请参见[在用户页面为RAM用户授权。](https://help.aliyun.com/document_detail/116146.html)|\n\n#### 重要提示\n|类型|概述|\n|----|-------------------|\n|图片格式|<ul> <li>本接口支持：PNG、JPG、JPEG、BMP、GIF、TIFF、WebP。暂不支持PDF格式。</li></ul>|\n|图片尺寸|<ul> <li> 图片长宽需要大于15像素，小于8192像素。</li> <li>长宽比需要小于50。</li> <li>如需达到较好识别效果，建议长宽均大于500px。</li> <li> 图片尺寸过小，会影响识别精度。图片内单字大小在10-50px内时，识别效果较好。 </li> </ul>|\n|图片大小|<ul> <li> 图片二进制文件不能超过10MB。</li> <li> 图片过大会影响接口响应速度，建议使用小于1.5M图片进行识别，且通过传图片URL的方式调用接口。</li> </ul>|\n|其他提示|<ul> <li> 接口会自动处理反光、扭曲等干扰信息，但会影响精度。请尽量选择清晰度高、无反光、无扭曲的图片。 </li>  </ul>|","responseParamsDescription":"#### 返回参数说明\n<br/>\n\n|字段|类型|说明|\n|-----|---|--|\n|data|object|结构化信息。|\n|angle|int|图片的角度，0表示正向，90表示图片朝右，180朝下，270朝左。|\n|prism_keyValueInfo|list|结构化信息的坐标信息。|\n|ftype|int|是否为复印件（1：是，0：否）。|\n|height|int|算法矫正图片后的高度。|\n|width|int|算法矫正图片后的宽度。|\n|orgHeight|int|原图的高度。|\n|orgWidth|int|原图的宽度。|\n|sliceRect|list|检测出的子图坐标信息。|\n\n#### 结构化信息（data字段）\n|字段|类型|说明|\n|-----|---|--|\n|date|string|乘车日期。|\n|dropOffTime|string|下车时间。|\n|fare|string|金额。|\n|invoiceCode|string|发票代码。|\n|invoiceNumber|string|发票号码。|\n|licensePlateNumber|string|车牌号。|\n|mileage|string|里程。|\n|pickUpTime|string|上车时间。|\n\n#### 结构化坐标信息（prism_keyValueInfo字段）\n|字段|类型|说明|\n|-----|---|--|\n|key|string|识别出的字段名称。|\n|keyProb|int|字段名称置信度。|\n|value|string|识别出的字段名称对应的值。|\n|valueProb|int|字段名称对应值的置信度。|\n|valuePos|list|字段在原图中的四个点坐标（左上、右上、右下、左下）。|"}