{"summary":"支付详情页识别。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Url","in":"query","schema":{"title":"图片链接（长度不超 2048，不支持 base64）","description":"* 本字段和body字段二选一，不可同时透传或同时为空。\n* 图片链接（长度不超2048，不支持base64）。","type":"string","required":false,"example":"https://img.alicdn.com/tfs/TB1Wo7eXAvoK1RjSZFDXXXY3pXa-2512-3509.jpg","default":"2048"}},{"name":"body","in":"body","schema":{"title":"图片二进制字节流，最大10MB","description":"* 本字段和URL字段二选一，不可同时透传或同时为空。\n* 图片二进制文件，最大10MB。\n* 使用HTTP方式调用，把图片二进制文件放到HTTP body中上传即可。\n* 使用SDK的方式调用，把图片放到SDK的body中即可。","type":"string","format":"binary","required":false,"example":"图片二进制"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"description":"请求唯一ID","type":"string","example":"43A29C77-405E-4CC0-BC55-EE694AD00655"},"Data":{"description":"返回数据","type":"string","example":"{\"data\": {\"recipientName\": \"中国铁路网络有限公司\", \"totalAmount\": \"-198.00\", \"paymentMethod\": \"花呗\", \"description\": \"火车票\", \"paymentTime\": \"2019-07-21 12:45\", \"orderNumber\": \"2019072122001457521050262559\"}, \"ftype\": 0, \"height\": 1184, \"orgHeight\": 1263, \"orgWidth\": 674, \"prism_keyValueInfo\": [{\"key\": \"recipientName\", \"keyProb\": 100, \"value\": \"中国铁路网络有限公司\", \"valuePos\": [{\"x\": 158, \"y\": 146}, {\"x\": 448, \"y\": 136}, {\"x\": 450, \"y\": 166}, {\"x\": 160, \"y\": 177}], \"valueProb\": 100}, {\"key\": \"totalAmount\", \"keyProb\": 100, \"value\": \"-198.00\", \"valuePos\": [{\"x\": 207, \"y\": 204}, {\"x\": 406, \"y\": 198}, {\"x\": 407, \"y\": 246}, {\"x\": 208, \"y\": 252}], \"valueProb\": 100}, {\"key\": \"paymentMethod\", \"keyProb\": 100, \"value\": \"花呗\", \"valuePos\": [{\"x\": 502, \"y\": 364}, {\"x\": 561, \"y\": 362}, {\"x\": 562, \"y\": 392}, {\"x\": 502, \"y\": 393}], \"valueProb\": 100}, {\"key\": \"description\", \"keyProb\": 100, \"value\": \"火车票\", \"valuePos\": [{\"x\": 517, \"y\": 492}, {\"x\": 603, \"y\": 489}, {\"x\": 604, \"y\": 518}, {\"x\": 519, \"y\": 522}], \"valueProb\": 100}, {\"key\": \"paymentTime\", \"keyProb\": 100, \"value\": \"2019-07-21 12:45\", \"valuePos\": [{\"x\": 389, \"y\": 564}, {\"x\": 607, \"y\": 555}, {\"x\": 608, \"y\": 580}, {\"x\": 391, \"y\": 590}], \"valueProb\": 100}, {\"key\": \"orderNumber\", \"keyProb\": 100, \"value\": \"2019072122001457521050262559\", \"valuePos\": [{\"x\": 179, \"y\": 638}, {\"x\": 606, \"y\": 620}, {\"x\": 607, \"y\": 644}, {\"x\": 181, \"y\": 663}], \"valueProb\": 100}], \"sliceRect\": {\"x0\": 2, \"y0\": 99, \"x1\": 631, \"y1\": 75, \"x2\": 669, \"y2\": 1251, \"x3\": 33, \"y3\": 1258}, \"width\": 668}"},"Code":{"description":"状态码","type":"string","example":"200"},"Message":{"description":"详细信息","type":"string","example":"message"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"43A29C77-405E-4CC0-BC55-EE694AD00655\\\",\\n  \\\"Data\\\": \\\"{\\\\\\\"data\\\\\\\": {\\\\\\\"recipientName\\\\\\\": \\\\\\\"中国铁路网络有限公司\\\\\\\", \\\\\\\"totalAmount\\\\\\\": \\\\\\\"-198.00\\\\\\\", \\\\\\\"paymentMethod\\\\\\\": \\\\\\\"花呗\\\\\\\", \\\\\\\"description\\\\\\\": \\\\\\\"火车票\\\\\\\", \\\\\\\"paymentTime\\\\\\\": \\\\\\\"2019-07-21 12:45\\\\\\\", \\\\\\\"orderNumber\\\\\\\": \\\\\\\"2019072122001457521050262559\\\\\\\"}, \\\\\\\"ftype\\\\\\\": 0, \\\\\\\"height\\\\\\\": 1184, \\\\\\\"orgHeight\\\\\\\": 1263, \\\\\\\"orgWidth\\\\\\\": 674, \\\\\\\"prism_keyValueInfo\\\\\\\": [{\\\\\\\"key\\\\\\\": \\\\\\\"recipientName\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"中国铁路网络有限公司\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 158, \\\\\\\"y\\\\\\\": 146}, {\\\\\\\"x\\\\\\\": 448, \\\\\\\"y\\\\\\\": 136}, {\\\\\\\"x\\\\\\\": 450, \\\\\\\"y\\\\\\\": 166}, {\\\\\\\"x\\\\\\\": 160, \\\\\\\"y\\\\\\\": 177}], \\\\\\\"valueProb\\\\\\\": 100}, {\\\\\\\"key\\\\\\\": \\\\\\\"totalAmount\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"-198.00\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 207, \\\\\\\"y\\\\\\\": 204}, {\\\\\\\"x\\\\\\\": 406, \\\\\\\"y\\\\\\\": 198}, {\\\\\\\"x\\\\\\\": 407, \\\\\\\"y\\\\\\\": 246}, {\\\\\\\"x\\\\\\\": 208, \\\\\\\"y\\\\\\\": 252}], \\\\\\\"valueProb\\\\\\\": 100}, {\\\\\\\"key\\\\\\\": \\\\\\\"paymentMethod\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"花呗\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 502, \\\\\\\"y\\\\\\\": 364}, {\\\\\\\"x\\\\\\\": 561, \\\\\\\"y\\\\\\\": 362}, {\\\\\\\"x\\\\\\\": 562, \\\\\\\"y\\\\\\\": 392}, {\\\\\\\"x\\\\\\\": 502, \\\\\\\"y\\\\\\\": 393}], \\\\\\\"valueProb\\\\\\\": 100}, {\\\\\\\"key\\\\\\\": \\\\\\\"description\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"火车票\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 517, \\\\\\\"y\\\\\\\": 492}, {\\\\\\\"x\\\\\\\": 603, \\\\\\\"y\\\\\\\": 489}, {\\\\\\\"x\\\\\\\": 604, \\\\\\\"y\\\\\\\": 518}, {\\\\\\\"x\\\\\\\": 519, \\\\\\\"y\\\\\\\": 522}], \\\\\\\"valueProb\\\\\\\": 100}, {\\\\\\\"key\\\\\\\": \\\\\\\"paymentTime\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"2019-07-21 12:45\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 389, \\\\\\\"y\\\\\\\": 564}, {\\\\\\\"x\\\\\\\": 607, \\\\\\\"y\\\\\\\": 555}, {\\\\\\\"x\\\\\\\": 608, \\\\\\\"y\\\\\\\": 580}, {\\\\\\\"x\\\\\\\": 391, \\\\\\\"y\\\\\\\": 590}], \\\\\\\"valueProb\\\\\\\": 100}, {\\\\\\\"key\\\\\\\": \\\\\\\"orderNumber\\\\\\\", \\\\\\\"keyProb\\\\\\\": 100, \\\\\\\"value\\\\\\\": \\\\\\\"2019072122001457521050262559\\\\\\\", \\\\\\\"valuePos\\\\\\\": [{\\\\\\\"x\\\\\\\": 179, \\\\\\\"y\\\\\\\": 638}, {\\\\\\\"x\\\\\\\": 606, \\\\\\\"y\\\\\\\": 620}, {\\\\\\\"x\\\\\\\": 607, \\\\\\\"y\\\\\\\": 644}, {\\\\\\\"x\\\\\\\": 181, \\\\\\\"y\\\\\\\": 663}], \\\\\\\"valueProb\\\\\\\": 100}], \\\\\\\"sliceRect\\\\\\\": {\\\\\\\"x0\\\\\\\": 2, \\\\\\\"y0\\\\\\\": 99, \\\\\\\"x1\\\\\\\": 631, \\\\\\\"y1\\\\\\\": 75, \\\\\\\"x2\\\\\\\": 669, \\\\\\\"y2\\\\\\\": 1251, \\\\\\\"x3\\\\\\\": 33, \\\\\\\"y3\\\\\\\": 1258}, \\\\\\\"width\\\\\\\": 668}\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"message\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RecognizePaymentRecordResponse>\\n    <RequestId>43A29C77-405E-4CC0-BC55-EE694AD00655</RequestId>\\n    <Data>{\\\"data\\\": {\\\"recipientName\\\": \\\"中国铁路网络有限公司\\\", \\\"totalAmount\\\": \\\"-198.00\\\", \\\"paymentMethod\\\": \\\"花呗\\\", \\\"description\\\": \\\"火车票\\\", \\\"paymentTime\\\": \\\"2019-07-21 12:45\\\", \\\"orderNumber\\\": \\\"2019072122001457521050262559\\\"}, \\\"ftype\\\": 0, \\\"height\\\": 1184, \\\"orgHeight\\\": 1263, \\\"orgWidth\\\": 674, \\\"prism_keyValueInfo\\\": [{\\\"key\\\": \\\"recipientName\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"中国铁路网络有限公司\\\", \\\"valuePos\\\": [{\\\"x\\\": 158, \\\"y\\\": 146}, {\\\"x\\\": 448, \\\"y\\\": 136}, {\\\"x\\\": 450, \\\"y\\\": 166}, {\\\"x\\\": 160, \\\"y\\\": 177}], \\\"valueProb\\\": 100}, {\\\"key\\\": \\\"totalAmount\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"-198.00\\\", \\\"valuePos\\\": [{\\\"x\\\": 207, \\\"y\\\": 204}, {\\\"x\\\": 406, \\\"y\\\": 198}, {\\\"x\\\": 407, \\\"y\\\": 246}, {\\\"x\\\": 208, \\\"y\\\": 252}], \\\"valueProb\\\": 100}, {\\\"key\\\": \\\"paymentMethod\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"花呗\\\", \\\"valuePos\\\": [{\\\"x\\\": 502, \\\"y\\\": 364}, {\\\"x\\\": 561, \\\"y\\\": 362}, {\\\"x\\\": 562, \\\"y\\\": 392}, {\\\"x\\\": 502, \\\"y\\\": 393}], \\\"valueProb\\\": 100}, {\\\"key\\\": \\\"description\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"火车票\\\", \\\"valuePos\\\": [{\\\"x\\\": 517, \\\"y\\\": 492}, {\\\"x\\\": 603, \\\"y\\\": 489}, {\\\"x\\\": 604, \\\"y\\\": 518}, {\\\"x\\\": 519, \\\"y\\\": 522}], \\\"valueProb\\\": 100}, {\\\"key\\\": \\\"paymentTime\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"2019-07-21 12:45\\\", \\\"valuePos\\\": [{\\\"x\\\": 389, \\\"y\\\": 564}, {\\\"x\\\": 607, \\\"y\\\": 555}, {\\\"x\\\": 608, \\\"y\\\": 580}, {\\\"x\\\": 391, \\\"y\\\": 590}], \\\"valueProb\\\": 100}, {\\\"key\\\": \\\"orderNumber\\\", \\\"keyProb\\\": 100, \\\"value\\\": \\\"2019072122001457521050262559\\\", \\\"valuePos\\\": [{\\\"x\\\": 179, \\\"y\\\": 638}, {\\\"x\\\": 606, \\\"y\\\": 620}, {\\\"x\\\": 607, \\\"y\\\": 644}, {\\\"x\\\": 181, \\\"y\\\": 663}], \\\"valueProb\\\": 100}], \\\"sliceRect\\\": {\\\"x0\\\": 2, \\\"y0\\\": 99, \\\"x1\\\": 631, \\\"y1\\\": 75, \\\"x2\\\": 669, \\\"y2\\\": 1251, \\\"x3\\\": 33, \\\"y3\\\": 1258}, \\\"width\\\": 668}</Data>\\n    <Code>200</Code>\\n    <Message>message</Message>\\n</RecognizePaymentRecordResponse>\",\"errorExample\":\"\"}]","title":"支付详情页识别","description":"#### 本接口适用场景\n  * 阿里云支付详情页识别，是阿里云官方自研OCR文字识别产品，适用于识别支付详情页所包含的收款方名称、合计金额、付款方式、商品说明、支付时间等关键信息的场景。\n  * 阿里云OCR产品基于阿里巴巴达摩院强大的AI技术及海量数据，历经多年沉淀打磨，具有服务稳定、操作简易、实时性高、能力全面等几大优势。\n  * 本接口图片示例\n<p style=\"text-align:center\"><img src=\"https://img.alicdn.com/imgextra/i2/O1CN01pP14mQ1F2WjPhgXev_!!6000000000429-2-tps-821-313.png\" width=\"50%\"></p>\n\n#### 本接口核心能力\n  \n|分类 |概述|\n|---|---------|\n|图像增强|默认支持图像增强，包括图像自动旋转、畸变自动矫正、模糊图片自动增强等能力。|\n|多类型覆盖|支持模糊、光照不均、透视畸变、任意背景等低质量图像识别。|\n|高精度识别|总体识别准确率可达98%。|\n\n#### 如何使用本接口\n\n|步骤|概述|\n|--|---|\n|1|开通 [票据凭证识别](https://common-buy.aliyun.com/?commodityCode=ocr_invoice_public_cn) 服务。开通服务前后，您可以通过[体验馆](https://duguang.aliyun.com/experience?type=bill&subtype=nontax_invoice#intro)免费体验本功能识别效果。|\n|2|购买[票据凭证识别资源包](https://common-buy.aliyun.com/?commodityCode=ocr_invoice_dp_cn&request=%7B%22ord_time%22:%221:Year%22,%22order_num%22:1,%22pack%22:%22ocr_invoice_dp_cn_20220303112214_0069%22,%22flowout_spec%22:%22500%22%7D)。本API会赠送免费额度，可使用免费额度测试。您也可以不购买资源包，系统会通过“[按量付费](https://help.aliyun.com/document_detail/295347.html)”方式按实际调用量自动扣款。|\n|3|可以参照[调试页面](https://next.api.aliyun.com/api/ocr-api/2021-07-07/RecognizePaymentRecord?sdkStyle=dara)提供的代码示例完成API接入开发。接入完成后，调用API获取识别结果。如果使用子账号调用接口，需要阿里云账号（主账号）对RAM账号进行授权。创建RAM用户的具体操作，请参考：[创建RAM用户。](https://help.aliyun.com/document_detail/93720.html)文字识别服务提供一种系统授权策略，即**AliyunOCRFullAccess**。具体授权操作，请参见[在用户页面为RAM用户授权。](https://help.aliyun.com/document_detail/116146.html)|\n\n#### 重要提示\n|类型|概述|\n|----|-------------------|\n|图片格式|<ul> <li>本接口支持：PNG、JPG、JPEG、BMP、GIF、TIFF、WebP。暂不支持PDF格式。</li></ul>|\n|图片尺寸|<ul> <li> 图片长宽需要大于15像素，小于8192像素。</li> <li>长宽比需要小于50。</li> <li>如需达到较好识别效果，建议长宽均大于500px。</li> <li> 图片尺寸过小，会影响识别精度。图片内单字大小在10-50px内时，识别效果较好。 </li> </ul>|\n|图片大小|<ul> <li> 图片二进制文件不能超过10MB。</li> <li> 图片过大会影响接口响应速度，建议使用小于1.5M图片进行识别，且通过传图片URL的方式调用接口。</li> </ul>|\n|其他提示|<ul> <li> 接口会自动处理反光、扭曲等干扰信息，但会影响精度。请尽量选择清晰度高、无反光、无扭曲的图片。</li> </ul> |","responseParamsDescription":"#### 返回参数说明\n<br/>\n\n|字段|类型|说明|\n|-----|---|--|\n|data|object|结构化信息。|\n|prism_keyValueInfo|list|结构化信息的坐标信息。|\n|ftype|int|是否为复印件（1：是，0：否）。|\n|height|int|算法矫正图片后的高度。|\n|width|int|算法矫正图片后的宽度。|\n|orgHeight|int|原图的高度。|\n|orgWidth|int|原图的宽度。|\n|sliceRect|list|检测出的子图坐标信息。|\n\n#### 结构化信息（data字段）\n|字段|类型|说明|\n|-----|---|--|\n|description|string|商品说明。|\n|orderNumber|string|订单号。|\n|paymentMethod|string|付款方式。|\n|paymentTime|string|支付时间。|\n|recipientName|string|收款方名称。|\n|totalAmount|string|合计金额。|\n\n#### 结构化坐标信息（prism_keyValueInfo字段）\n|字段|类型|说明|\n|-----|---|--|\n|key|string|识别出的字段名称。|\n|keyProb|int|字段名称置信度。|\n|value|string|识别出的字段名称对应的值。|\n|valueProb|int|字段名称对应值的置信度。|\n|valuePos|list|字段在原图中的四个点坐标（左上、右上、右下、左下）。|","extraInfo":"SDK调用\n通过SDK调用此接口的示例请参考[开发者中心](https://next.api.aliyun.com/api-tools/sdk/ocr-api?version=2021-07-07&language=java-tea)"}