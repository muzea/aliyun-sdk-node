{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID","type":"string","required":true,"docRequired":true,"example":"cri-4cdrlqmhn4gm****"}},{"name":"ChainId","in":"query","schema":{"description":"交付链ID","type":"string","required":true,"docRequired":true,"example":"chi-0ops0gsmw5x2****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"ModifiedTime":{"description":"交付链描述修改时间","type":"integer","format":"int64","example":"1638259914000"},"ScopeId":{"description":"交付链作用域ID","type":"string","example":"crr-nyrh2oko32xb****"},"RequestId":{"description":"请求ID","type":"string","example":"C87993B5-7D61-5CAC-8D64-1AC732DD69FF"},"Description":{"description":"交付链描述","type":"string","example":"description"},"CreateTime":{"description":"交付链创建时间","type":"integer","format":"int64","example":"1638255427000"},"ScopeType":{"description":"交付链作用域类型","type":"string","example":"REPOSITORY"},"Code":{"description":"返回码","type":"string","example":"success"},"ChainId":{"description":"交付链ID","type":"string","example":"chi-0ops0gsmw5x2****"},"InstanceId":{"description":"实例ID","type":"string","example":"cri-4cdrlqmhn4gm****"},"IsSuccess":{"description":"是否成功","type":"boolean","example":"true"},"Name":{"description":"交付链名称","type":"string","example":"test"},"ChainConfig":{"description":"交付链配置描述","type":"object","properties":{"ChainConfigId":{"description":"交付链配置ID","type":"string","example":"cci-lz3ycgo69ukt****"},"IsActive":{"description":"交付链配置是否有生效，取值：\n\n- `true`：生效\n\n- `false`：不生效","type":"boolean","example":"true"},"Version":{"description":"交付链版本","type":"string","example":"1"},"Routers":{"description":"交付链节点间执行顺序关系","type":"array","items":{"type":"object","properties":{"From":{"description":"源节点","type":"object","properties":{"NodeName":{"description":"源节点名称","type":"string","example":"DOCKER_IMAGE_BUILD"}}},"To":{"description":"目的节点","type":"object","properties":{"NodeName":{"description":"目的节点名称","type":"string","example":"DOCKER_IMAGE_PUSH"}}}}}},"Nodes":{"description":"交付链中的每一个节点","type":"array","items":{"type":"object","properties":{"NodeName":{"description":"交付链节点名称","type":"string","example":"VULNERABILITY_SCANNING"},"Enable":{"description":"是否启用该交付链节点，取值：\n\n- `true`：启用交付链节点\n\n- `false`：不启用交付链节点","type":"boolean","example":"true"},"NodeConfig":{"description":"交付链节点配置","type":"object","properties":{"Timeout":{"description":"超时时间（单位秒）","type":"integer","format":"int64","example":"900"},"Retry":{"description":"重试次数","type":"integer","format":"int32","example":"3"},"DenyPolicy":{"description":"交付链节点中扫描节点的阻断规则","type":"object","properties":{"Logic":{"description":"扫描触发阻断的逻辑","type":"string","example":"AND"},"IssueLevel":{"description":"扫描漏洞等级达到多少时触发阻断","type":"string","example":"HIGH"},"IssueCount":{"description":"扫描漏洞数达到多少时触发阻断","type":"string","example":"10"},"Action":{"description":"阻断动作，取值：\n\n- `BLOCK`：阻断交付链继续执行\n\n- `BLOCK_RETAG`：阻断覆盖推送镜像 tag\n\n- `BLOCK_DELETE_TAG`：阻断删除镜像 tag","type":"string","example":"BLOCK"},"IssueList":{"description":"需要阻断的CVE漏洞集合，多个CVE漏洞名用英文逗号分隔","type":"string","example":"CVE-2020-8286,CVE-2020-8285"},"MaliciousList":{"description":"需要阻断的恶意样本集合，多个恶意样本名用英文逗号分隔","type":"string","example":"mutate_cockhorse,abnormal_program"},"BaselineList":{"description":"需要阻断的基线样本集合，多个基线样本名用英文逗号分隔","type":"string","example":"identification,hc_image_exploit"}}},"ScanEngine":{"description":"交付链扫描节点引擎\n\n- `SAS_SCAN_SERVICE`, 云安全扫描引擎（需要付费开通）\n- `ACR_SCAN_SERVICE`, ACR扫描引擎","type":"string","example":"ACR_SCAN_SERVICE"}}}}}}}},"ScopeExclude":{"description":"不被交付链执行的仓库集合","type":"array","items":{"description":"不被交付链执行的仓库名，多个仓库名用英文逗号分隔","type":"string","example":"repo_name1,repo_name2\n"},"maxItems":50}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"ModifiedTime\\\": 1638259914000,\\n  \\\"ScopeId\\\": \\\"crr-nyrh2oko32xb****\\\",\\n  \\\"RequestId\\\": \\\"C87993B5-7D61-5CAC-8D64-1AC732DD69FF\\\",\\n  \\\"Description\\\": \\\"description\\\",\\n  \\\"CreateTime\\\": 1638255427000,\\n  \\\"ScopeType\\\": \\\"REPOSITORY\\\",\\n  \\\"Code\\\": \\\"success\\\",\\n  \\\"ChainId\\\": \\\"chi-0ops0gsmw5x2****\\\",\\n  \\\"InstanceId\\\": \\\"cri-4cdrlqmhn4gm****\\\",\\n  \\\"IsSuccess\\\": true,\\n  \\\"Name\\\": \\\"test\\\",\\n  \\\"ChainConfig\\\": {\\n    \\\"ChainConfigId\\\": \\\"cci-lz3ycgo69ukt****\\\",\\n    \\\"IsActive\\\": true,\\n    \\\"Version\\\": \\\"1\\\",\\n    \\\"Routers\\\": [\\n      {\\n        \\\"From\\\": {\\n          \\\"NodeName\\\": \\\"DOCKER_IMAGE_BUILD\\\"\\n        },\\n        \\\"To\\\": {\\n          \\\"NodeName\\\": \\\"DOCKER_IMAGE_PUSH\\\"\\n        }\\n      }\\n    ],\\n    \\\"Nodes\\\": [\\n      {\\n        \\\"NodeName\\\": \\\"VULNERABILITY_SCANNING\\\",\\n        \\\"Enable\\\": true,\\n        \\\"NodeConfig\\\": {\\n          \\\"Timeout\\\": 900,\\n          \\\"Retry\\\": 3,\\n          \\\"DenyPolicy\\\": {\\n            \\\"Logic\\\": \\\"AND\\\",\\n            \\\"IssueLevel\\\": \\\"HIGH\\\",\\n            \\\"IssueCount\\\": \\\"10\\\",\\n            \\\"Action\\\": \\\"BLOCK\\\",\\n            \\\"IssueList\\\": \\\"CVE-2020-8286,CVE-2020-8285\\\",\\n            \\\"MaliciousList\\\": \\\"mutate_cockhorse,abnormal_program\\\",\\n            \\\"BaselineList\\\": \\\"identification,hc_image_exploit\\\"\\n          },\\n          \\\"ScanEngine\\\": \\\"ACR_SCAN_SERVICE\\\"\\n        }\\n      }\\n    ]\\n  },\\n  \\\"ScopeExclude\\\": [\\n    \\\"repo_name1,repo_name2\\\\n\\\"\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetChainResponse>\\n    <ModifiedTime>1638259914000</ModifiedTime>\\n    <ScopeId>crr-nyrh2oko32xb****</ScopeId>\\n    <RequestId>C87993B5-7D61-5CAC-8D64-1AC732DD69FF</RequestId>\\n    <Description>description</Description>\\n    <CreateTime>1638255427000</CreateTime>\\n    <ScopeType>REPOSITORY</ScopeType>\\n    <Code>success</Code>\\n    <ChainId>chi-0ops0gsmw5x2****</ChainId>\\n    <InstanceId>cri-4cdrlqmhn4gm****</InstanceId>\\n    <IsSuccess>true</IsSuccess>\\n    <Name>test</Name>\\n    <ChainConfig>\\n        <ChainConfigId>cci-lz3ycgo69ukt****</ChainConfigId>\\n        <IsActive>true</IsActive>\\n        <Version>1</Version>\\n        <Routers>\\n            <From>\\n                <NodeName>DOCKER_IMAGE_BUILD</NodeName>\\n            </From>\\n            <To>\\n                <NodeName>DOCKER_IMAGE_PUSH</NodeName>\\n            </To>\\n        </Routers>\\n        <Nodes>\\n            <NodeName>VULNERABILITY_SCANNING</NodeName>\\n            <Enable>true</Enable>\\n            <NodeConfig>\\n                <Timeout>5</Timeout>\\n                <Retry>3</Retry>\\n                <DenyPolicy>\\n                    <Logic>AND</Logic>\\n                    <IssueLevel>HIGH</IssueLevel>\\n                    <IssueCount>10</IssueCount>\\n                    <Action>BLOCK</Action>\\n                </DenyPolicy>\\n                <ScanEngine>ACR_SCAN_SERVICE</ScanEngine>\\n            </NodeConfig>\\n        </Nodes>\\n    </ChainConfig>\\n</GetChainResponse>\",\"errorExample\":\"\"}]","title":"获取交付链定义","summary":"获取交付链定义，用于了解交付链的节点执行顺序。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}