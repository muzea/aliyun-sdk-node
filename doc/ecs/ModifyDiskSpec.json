{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29058","abilityTreeNodes":["FEATUREecsTKAXF8","FEATUREecs70JNQP"]},"parameters":[{"name":"DiskId","in":"query","schema":{"description":"云盘的ID。","type":"string","required":true,"docRequired":true,"example":"d-bp131n0q38u3a4zi****"}},{"name":"PerformanceLevel","in":"query","schema":{"description":"修改一块ESSD云盘的性能级别。取值范围：\n\n- PL0：单盘最高随机读写IOPS 1万。\n- PL1：单盘最高随机读写IOPS 5万。\n- PL2：单盘最高随机读写IOPS 10万。\n- PL3：单盘最高随机读写IOPS 100万。\n\n默认值：PL1。","type":"string","required":false,"example":"PL2"}},{"name":"DiskCategory","in":"query","schema":{"description":"变更一块云盘的类型。取值范围：\n\n- cloud_essd：ESSD云盘。\n- cloud_auto：ESSD AutoPL云盘。\n- cloud_ssd：SSD云盘。\n<props=\"china\">\n- cloud_essd_entry：ESSD Entry云盘。\n</props>\n- cloud_efficiency：高效云盘。\n\n默认值：空，表示不变配云盘。\n\n> - 以上有效取值按云盘性能降序排列。如果指定的云盘是包年包月云盘，则不允许降配云盘。\n<props=\"china\">\n- ESSD Entry云盘仅支持变配到ESSD云盘和ESSD AutoPL云盘。更多信息，请参见[变更云盘类型](~~161980~~)。\n</props>","type":"string","required":false,"example":"cloud_essd"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。取值范围：\n\n* true：发送检查请求。检查项包括是否填写了必需参数、请求格式、业务限制和ECS库存。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n\n* false：发送正常请求，通过检查后返回2XX HTTP状态码并且直接变配云盘或修改ESSD性能等级。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"ProvisionedIops","in":"query","schema":{"description":"是否修改ESSD AutoPL云盘预配置读写IOPS。取值范围：0~min{50000, 1000*容量-基准性能}。\n\n基准性能=min{1,800+50*容量, 50,000}\n\n> 当DiskCategory取值为cloud_auto时才支持设置该参数。更多信息，请参见[ESSD AutoPL云盘](~~368372~~)和[修改ESSD AutoPL云盘预配置信息](~~413275~~)。\n\n","type":"integer","format":"int64","required":false,"example":"50000"}},{"name":"PerformanceControlOptions","in":"query","style":"flat","schema":{"description":"磁盘性能控制参数集合","type":"object","properties":{"IOPS":{"description":"目标云盘IOPS。仅支持修改专属存储集群云盘IOPS。\n\n取值范围：900~单盘最大IOPS，步长100。\n\n\n更多信息，请参见[云盘性能](~~25382~~)。","type":"integer","format":"int32","required":false,"example":"2000"},"Throughput":{"description":"目标云盘吞吐量，仅支持修改专属存储集群云盘吞吐量，单位MB/s。\n\n取值范围：60~单盘最大吞吐量。\n\n更多信息，请参见[云盘性能](~~25382~~)。","type":"integer","format":"int32","required":false,"example":"200"},"Recover":{"description":"重置云盘性能，仅支持专属存储集群云盘。\n\n设置该参数后，PerformanceControlOptions.IOPS和PerformanceControlOptions.Throughput参数不生效。\n\n\n目前仅支持设置为All（重置云盘IOPS和吞吐量到初始值）。","type":"string","required":false,"example":"All","enum":["All"]}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TaskId":{"description":"变配云盘的任务ID。\n\n> 如果您只修改了一块ESSD云盘的性能级别，则不会返回该参数。","type":"string","example":"t-bp67acfmxazb4p****"},"OrderId":{"description":"生成的订单ID。\n\n> 仅在变更或修改包年包月云盘时会返回订单ID。","type":"string","example":"20413515388****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidPerformanceLevel.Malformed","errorMessage":"The specified parameter PerformanceLevel is not valid."},{"errorCode":"InvalidDiskCategory.ValueNotSupported","errorMessage":"The specified parameter \"DiskCategory\" is not valid."},{"errorCode":"InvalidPerformanceLevelParam.Mismatch","errorMessage":"The specified parameter PerformanceLevel should be null when DiskCategory is not cloud_essd."},{"errorCode":"OperationDenied.DiskInDedicatedBlockStorageCluster","errorMessage":"The disk in dedicated block storage cluster is not allowed to do this operation."},{"errorCode":"IncorrectDiskStatus.ReplicationStatusNotFound","errorMessage":"Disk replication status not found."},{"errorCode":"IncorrectDiskStatus.InReplication","errorMessage":"Disk already in replication."},{"errorCode":"ProvisionedIopsForDiskCategoryUnsupported","errorMessage":"The specified disk category does not support provisioned iops."},{"errorCode":"InvalidProvisionedIops.LimitExceed","errorMessage":"The provisioned iops exceeds the limit."},{"errorCode":"QuotaExceed.DiskCapacity","errorMessage":"The used capacity of disk type has exceeded the quota in the zone,  %s."},{"errorCode":"MalformedParameter.PerformanceControlOptions","errorMessage":"Parameter invalid, %s."},{"errorCode":"InvalidPerformanceControlOptions.ModifyOperationUnsupported","errorMessage":"The specified performance control options are conflicts with disk category or performance level or ProvisionIOPS."},{"errorCode":"NoPermission.Price","errorMessage":"The operation requires price permission. Please either apply for permission from your main account, or set the parameter AutoPay as true."},{"errorCode":"NoPermission.Refund","errorMessage":"The operation requires refund permission. Please apply for permission from your main account."},{"errorCode":"InvalidOperation.InstanceRenewWithDowngradeInPlan","errorMessage":"The operation is denied due to the specified instance has renew with downgrade record in plan."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"%s"}],"403":[{"errorCode":"DiskInArrears","errorMessage":"The specified operation is denied as your disk owing fee."},{"errorCode":"InstanceExpiredOrInArrears","errorMessage":"The specified operation is denied as your prepay instance is expired (prepay mode) or in arrears (afterpay mode)."},{"errorCode":"IncorrectDiskStatus","errorMessage":"The current disk status does not support this operation."},{"errorCode":"DiskCreatingSnapshot","errorMessage":"The operation is denied due to a snapshot of the specified disk is not completed yet."},{"errorCode":"OperationDenied","errorMessage":"The type of the disk does not support the operation."},{"errorCode":"InvalidPerformanceLevel.TooLow","errorMessage":"Specified new performance level is lower than the original performance level."},{"errorCode":"OperationDenied.PerformanceLevelNotMatch","errorMessage":"The specified PerformanceLevel and disk size do not match."},{"errorCode":"UserNotInTheWhiteList","errorMessage":"The user is not in modify disk category white list."},{"errorCode":"InvalidRegion.NotSupport","errorMessage":"The specified region does not support modify disk category."},{"errorCode":"InvalidDiskCategory.ValueNotSupported","errorMessage":"The current disk category of the resource does not support this operation."},{"errorCode":"Downgrade.NotSupported","errorMessage":"Downgrade operation for prepay resource is not supported."},{"errorCode":"InvalidInstanceType.NotSupportDiskCategory","errorMessage":"The instanceType of the specified instance does not support this disk category."},{"errorCode":"ModifyingDiskCategoryLimitExceed","errorMessage":"The amount of modifying disk category exceeds the limit."},{"errorCode":"DiskInCoolingPeriod","errorMessage":"There is a cooling period after the disk is successfully modified."},{"errorCode":"DiskHasFlashSnapshot","errorMessage":"The specified disk with flash snapshots do not support modify disk category."},{"errorCode":"NoChangeInDiskCategoryAndPerformanceLevel","errorMessage":"There is no change between the parameters transmitted and the current."},{"errorCode":"OperationDenied.NoStock","errorMessage":"The requested resource is sold out in the specified zone; try other types of resources or other regions and zones."},{"errorCode":"InvalidOperation.MultiAttachDisk","errorMessage":"Multi attach disk does not support this operation."},{"errorCode":"OperationDenied.DiskExpansionUnfinished","errorMessage":"The instance has not been restarted after a previous disk expansion."},{"errorCode":"InvalidDiskCategory.NotSupported","errorMessage":"The specified disk category is not supported."},{"errorCode":"InvalidPerformanceParameter.DiskNotInDedicatedStorageCluster","errorMessage":"The specified disk not in dedicated storage cluster, can not modify performance control options."},{"errorCode":"InvalidStatus.DiskUnderPerformanceControl","errorMessage":"The specified disk is under performance control, any modifications to the category or performance level of the specified disk are unsupported.."},{"errorCode":"InvalidStatus.DiskNotReady","errorMessage":"This specified disk is not ready, status needs to be either In_use or Available."}],"404":[{"errorCode":"InvalidDiskId.NotFound","errorMessage":"The specified disk does not exist."},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified InstanceId does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TaskId\\\": \\\"t-bp67acfmxazb4p****\\\",\\n  \\\"OrderId\\\": \\\"20413515388****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyDiskSpecResponse>\\n    <TaskId>t-bp67acfmxazb4p****</TaskId>\\n    <RequestId>5B38289D-88AB-42BD-B021-12FC6942F099</RequestId>\\n    <OrderId>20413515388****</TaskId>\\n</ModifyDiskSpecResponse>\",\"errorExample\":\"\"}]","title":"变更云盘类型或性能级别","summary":"调用ModifyDiskSpec变更一块云盘类型，或者修改一块ESSD云盘的性能级别。","description":"## 接口说明\n<props=\"china\">请确保在使用该接口前，您已充分了解云盘的计费方式和[价格](https://www.aliyun.com/price/product#/disk/detail)。</props>\n\n调用该接口完成以下操作时，您需要注意：\n\n- 修改ESSD云盘性能级别：\n\n    - 包年包月ESSD云盘仅支持升级性能级别。\n\n    - 按量付费ESSD云盘支持升级和降低性能级别，但不支持降配到PL0。\n\n    - ESSD云盘的状态必须是**使用中**（In_Use）状态或者**待挂载**（Available）状态。\n\n    - 若ESSD云盘已挂载到ECS实例上，实例必须处于**运行中**（Running）状态或者**已停止**（Stopped）状态，ECS实例不能处于过期或者账号欠费状态。\n\n    - 由于ESSD云盘性能级别受容量限制，如果您无法升级性能级别，可以扩容（[ResizeDisk](~~25522~~)）后重新操作。更多信息，请参见[ESSD云盘](~~122389~~)。\n\n- 变更一块云盘类型的注意事项，请参见[变更云盘类型](~~161980~~)中的限制条件章节。\n\n<props=\"china\">* 开启多重挂载特性的云盘不支持云盘变配。</props>\n\n调用接口后，新的云盘类型立即生效，阿里云按照新的云盘类型及云盘性能级别单价计算消费账单。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}