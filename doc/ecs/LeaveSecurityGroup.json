{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29041","abilityTreeNodes":["FEATUREecs9IXIKV"]},"parameters":[{"name":"SecurityGroupId","in":"query","schema":{"description":"安全组ID。","type":"string","required":true,"example":"sg-bp67acfmxazb4p****"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID。\n\n> 当该参数传入值时，`NetworkInterfaceId`必须为空。","type":"string","required":false,"example":"i-bp67acfmxazb4p****"}},{"name":"NetworkInterfaceId","in":"query","schema":{"description":"弹性网卡ID。\n\n> 当该参数传入值时，`InstanceId`必须为空。","type":"string","required":false,"example":"eni-bp13kd656hxambfe****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。\n\n- 实例移出安全组的操作可以不指定地域ID。\n- 弹性网卡移出安全组的操作必须指定弹性网卡所在的地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidInstanceId.Malformed","errorMessage":"The specified parameter \"InstanceId\" is not valid."},{"errorCode":"MissingParameter.RegionId","errorMessage":"The specified RegionId should not be null."},{"errorCode":"InvalidOperation.InvalidEniState","errorMessage":"%s"},{"errorCode":"InvalidSecurityGroupAssociation.NotFound","errorMessage":"%s."}],"403":[{"errorCode":"InstanceLastSecurityGroup","errorMessage":"The specified security group is the last security group for the instance."},{"errorCode":"IncorrectInstanceStatus","errorMessage":"The current status of the resource does not support this operation."},{"errorCode":"InstanceLockedForSecurity","errorMessage":"The specified operation is denied as your instance is locked for security reasons."},{"errorCode":"InstanceNotInSecurityGroup","errorMessage":"The instance not in the group."},{"errorCode":"InvalidOperation.ResourceManagedByCloudProduct","errorMessage":"%s"},{"errorCode":"InvalidOperation.AtLeastInOneGroup","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniServiceManaged","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidEniType","errorMessage":"%s"},{"errorCode":"InvalidParam.Malformed","errorMessage":"%s"},{"errorCode":"InvalidParam.EniIdAndInstanceId.Conflict","errorMessage":"%s"}],"404":[{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified InstanceId does not exist."},{"errorCode":"InvalidSecurityGroupId.NotFound","errorMessage":"The specified SecurityGroupId does not exist."},{"errorCode":"InvalidEniId.NotFound","errorMessage":"%s"}],"504":[{"errorCode":"RequestTimeout","errorMessage":"The request encounters an upstream server timeout."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<LeaveSecurityGroupResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n</LeaveSecurityGroupResponse>\",\"errorExample\":\"<LeaveSecurityGroupResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n</LeaveSecurityGroupResponse>\"}]","title":"将实例移出指定安全组","summary":"调用LeaveSecurityGroup将一台ECS实例或一个弹性网卡移出指定的安全组。","description":"## 接口说明\n\n> - 为了提升您的使用体验，阿里云将于2024年7月8日起开始对LeaveSecurityGroup（将实例移出指定安全组）调整校验规则。当移除不在组内的实例或者网卡时，从返回成功调整为返回错误码：“InvalidSecurityGroupAssociation.NotFound”。请您及时做好错误码兼容，避免影响线上业务。\n> - 该API已不推荐使用。推荐您调用[ModifyInstanceAttribute](~~25503~~)接口将ECS实例加入或移除安全组；调用[ModifyNetworkInterfaceAttribute](~~58513~~)接口将弹性网卡（ENI）加入或移除安全组。\n\n调用该接口时，您需要注意：\n\n-  移出安全组之前，实例必须处于**已停止**（Stopped）或者**运行中**（Running）状态。  \n\n-  一台实例必须至少加入一个安全组，当该实例只加入了一个安全组时，则LeaveSecurityGroup请求会失败。  \n\n- 不支持同时将实例和弹性网卡移出一个安全组，即参数`InstanceId`和`NetworkInterfaceId`不能同时传值。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}