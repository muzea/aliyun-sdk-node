{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"28999","abilityTreeNodes":["FEATUREecsDXRH67"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"指定的实例ID。","type":"string","required":false,"example":"i-bp67acfmxazb4p****"}},{"name":"DiskId","in":"query","schema":{"description":"指定的云盘设备ID。","type":"string","required":false,"example":"d-bp67acfmxazb4p****"}},{"name":"SnapshotLinkId","in":"query","schema":{"description":"快照链ID。","type":"string","required":false,"example":"sl-bp1grgphbcc9brb5****"}},{"name":"RegionId","in":"query","schema":{"description":"云盘所属于的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"SnapshotIds","in":"query","schema":{"description":"快照标识编码。取值可以由多个快照ID组成一个JSON数组，最多支持100个ID，ID之间用半角逗号（,）隔开。 ","type":"string","required":false,"example":"[\"s-bp67acfmxazb4p****\", \"s-bp67acfmxazb5p****\", … \"s-bp67acfmxazb6p****\"]"}},{"name":"PageNumber","in":"query","schema":{"description":"快照列表的页码。起始值：1。\n\n默认值：1 。","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。最大值：100。\n\n默认值：10 。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"NextToken","in":"query","schema":{"description":"查询起始标志。由上一次的请求结果中获取。","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0a4883"}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页行数。最大值：100。\n\n默认值：10。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"SnapshotName","in":"query","schema":{"description":"快照名称。","type":"string","required":false,"example":"testSnapshotName"}},{"name":"Status","in":"query","schema":{"description":"快照状态。取值范围： \n         \n- progressing：正在创建的快照。\n- accomplished：创建成功的快照。\n- failed：创建失败的快照。\n- all（默认）：所有快照状态。","type":"string","required":false,"example":"all"}},{"name":"SnapshotType","in":"query","schema":{"description":"快照创建类型。取值范围： \n         \n- auto：自动创建快照。\n- user：手动创建快照。\n- all（默认）：所有的快照创建类型。","type":"string","required":false,"example":"all"}},{"name":"Filter.1.Key","in":"query","schema":{"description":"查询资源时的筛选键，取值必须为`CreationStartTime`。同时设置`Filter.1.Key`和`Filter.1.Value`可以查询在指定时间点后创建的资源信息。","type":"string","required":false,"example":"CreationStartTime"}},{"name":"Filter.2.Key","in":"query","schema":{"description":"查询资源时的筛选键，取值必须为`CreationEndTime`。同时设置`Filter.2.Key`和`Filter.2.Value`可以查询在指定时间点前创建的资源信息。","type":"string","required":false,"example":"CreationEndTime"}},{"name":"Filter.1.Value","in":"query","schema":{"description":"查询资源时的筛选值。指定该参数时必须同时指定`Filter.1.Key`参数，格式为：`yyyy-MM-ddTHH:mmZ`，采用UTC +0时区。","type":"string","required":false,"example":"2019-12-13T17:00Z"}},{"name":"Filter.2.Value","in":"query","schema":{"description":"查询资源时的筛选值。指定该参数时必须同时指定`Filter.2.Key`参数，格式为：`yyyy-MM-ddTHH:mmZ`，采用UTC +0时区。","type":"string","required":false,"example":"2019-12-13T22:00Z"}},{"name":"Usage","in":"query","schema":{"description":"快照是否被用作创建镜像或云盘。取值范围： \n\n- image：使用快照创建了自定义镜像。\n- disk：使用快照创建了云盘。\n- image_disk：使用快照创建了数据盘和自定义镜像。\n- none：暂未使用。","type":"string","required":false,"example":"none"}},{"name":"SourceDiskType","in":"query","schema":{"description":"快照源云盘的云盘类型。取值范围： \n     \n- System：系统盘。\n- Data：数据盘。\n\n> 取值不区分大小写。","type":"string","required":false,"example":"Data"}},{"name":"Encrypted","in":"query","schema":{"description":"是否过滤加密快照。默认值：false 。","type":"boolean","required":false,"example":"false"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。使用该参数过滤资源时，资源数量不能超过1000个。\n\n>不支持默认资源组过滤。","type":"string","required":false,"example":"rg-bp67acfmxazb4p****"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。\n\n- true：发送检查请求，不会查询资源状况。检查项包括AccessKey是否有效、RAM用户的授权情况和是否填写了必需参数。如果检查不通过，则返回对应错误。如果检查通过，会返回错误码DryRunOperation。\n- false（默认）：发送正常请求，通过检查后返回2XX HTTP状态码并直接查询资源状况。","type":"boolean","required":false,"example":"false"}},{"name":"KMSKeyId","in":"query","schema":{"description":"数据盘对应的KMS密钥ID。","type":"string","required":false,"example":"0e478b7a-4262-4802-b8cb-00d3fb40****"}},{"name":"Category","in":"query","schema":{"description":"快照类型。取值范围：\n- Standard：普通快照。\n- Flash：本地快照。\n\n原本地快照更替为快照极速可用功能。该参数说明如下：\n- 如果您在2020年12月14日之前使用过本地快照。您可以正常使用该参数。\n- 如果您在2020年12月14日之前未使用过本地快照。您不能使用该参数。\n\n<props=\"china\">更多信息，请参见[12月14日阿里云快照服务升级与新增计费项通知](https://help.aliyun.com/noticelist/articleid/1060755542.html)。</props>\n\n> 该参数即将被弃用，为提高兼容性，建议您尽量使用其他参数。","type":"string","required":false,"example":"Standard"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"type":"object","properties":{"key":{"description":"资源的标签键。\n\n>为提高兼容性，建议您尽量使用Tag.N.Key参数。","type":"string","required":false,"example":"SnapshotTest"},"Key":{"description":"快照的标签键。N的取值范围：1~20。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个；使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，请使用[ListTagResources](~~110425~~)接口进行查询。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"快照的标签值。N的取值范围：1~20。","type":"string","required":false,"example":"TestValue"},"value":{"description":"资源的标签值。\n\n>为提高兼容性，建议您尽量使用Tag.N.Value参数。","type":"string","required":false,"example":"SnapshotTest"}},"required":false},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"description":"下一个查询起始标志。","type":"string","example":"caeba0bbb2be03f84eb48b699f0a4883"},"PageSize":{"description":"输入时设置的每页行数。","type":"integer","format":"int32","example":"10"},"PageNumber":{"description":"快照列表的页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TotalCount":{"description":"快照总个数。","type":"integer","format":"int32","example":"1"},"Snapshots":{"type":"object","properties":{"Snapshot":{"description":"快照详情集合。","type":"array","items":{"type":"object","properties":{"Status":{"description":"快照状态。可能值：\n\n- progressing\n- accomplished\n- failed","type":"string","example":"accomplished"},"CreationTime":{"description":"创建时间。按照[ISO 8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2020-08-20T14:52:28Z"},"Progress":{"description":"快照创建进度，单位为百分比。","type":"string","example":"100%"},"InstantAccess":{"description":"是否开启了快照极速可用能力。可能值：\n\n- true：开启。ESSD云盘默认开启该能力。\n- false：关闭。即快照为未开启极速可用能力的普通快照。","type":"boolean","example":"false"},"Available":{"description":"快照是否可用于创建云盘、回滚云盘。可能值：\n\n- true：可用。\n- false：不可用。","type":"boolean","example":"false"},"RemainTime":{"description":"正在创建的快照剩余完成时间，单位为秒。","type":"integer","format":"int32","example":"38"},"SourceDiskSize":{"description":"源云盘容量，单位：GiB。","type":"string","example":"40"},"RetentionDays":{"description":"自动快照保留天数。","type":"integer","format":"int32","example":"30"},"SourceDiskType":{"description":"源云盘属性。可能值：\n\n- system\n- data","type":"string","example":"system"},"SourceStorageType":{"description":"原云盘类型。\n\n>该参数即将被弃用，为提高兼容性，建议您尽量使用其他参数。","type":"string","example":"disk"},"Usage":{"description":"快照是否被用作创建镜像或云盘。可能值：\n\n- image\n- disk\n- image_disk\n- none","type":"string","example":"image"},"LastModifiedTime":{"description":"快照的最后变更时间。按照[ISO 8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2020-08-25T14:18:09Z"},"Encrypted":{"description":"该快照是否加密。","type":"boolean","example":"false"},"SnapshotType":{"description":"快照创建类型。可能值：\n\n- auto或者timer：自动创建快照。\n- user：手动创建快照。\n- all：所有的快照创建类型。","type":"string","example":"all"},"SourceDiskId":{"description":"源云盘ID。如果快照的源云盘已经被释放，该字段仍旧保留。","type":"string","example":"d-bp67acfmxazb4ph****"},"SnapshotName":{"description":"快照显示名称。如果创建时指定了快照显示名称，则返回。","type":"string","example":"testSnapshotName"},"InstantAccessRetentionDays":{"description":"设置快照极速可用功能的保留时间，保留时间到期后自动关闭快照极速可用功能。\n\n默认与参数`RetentionDays`的值一致。\n\n>该参数已弃用。ESSD云盘普通快照已升级为[默认极速可用](~~193667~~)，您无需额外配置，且不产生额外花销。","type":"integer","format":"int32","example":"30"},"Description":{"description":"描述信息。","type":"string","example":"testDescription"},"SnapshotId":{"description":"快照ID。","type":"string","example":"s-bp67acfmxazb4p****"},"RegionId":{"description":"快照所属的地域ID。","type":"string","example":"cn-hangzhou"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-bp67acfmxazb4p****"},"Category":{"description":"快照类型。\n\n> 该参数即将被弃用，为提高兼容性，建议您尽量使用参数`InstantAccess`。","type":"string","example":"standard"},"KMSKeyId":{"description":"数据盘对应的KMS密钥ID。","type":"string","example":"0e478b7a-4262-4802-b8cb-00d3fb40****"},"SnapshotSN":{"description":"快照序列号。","type":"string","example":"64472-116742336-61976****"},"ProductCode":{"description":"从云市场镜像继承的产品编号。","type":"string","example":"jxsc000****"},"SourceSnapshotId":{"title":"源快照","description":"源快照。","type":"string","example":"s-bp67acfmxazb4p****"},"SourceRegionId":{"title":"源快照地域","description":"源快照地域。","type":"string","example":"cn-hangzhou"},"SnapshotLinkId":{"title":"快照关联的快照链Id","description":"快照关联的快照链ID。","type":"string","example":"sl-bp1grgphbcc9brb5****"},"Tags":{"type":"object","properties":{"Tag":{"description":"标签。","type":"array","items":{"type":"object","properties":{"TagValue":{"description":"快照的标签值。","type":"string","example":"TestValue"},"TagKey":{"description":"快照的标签键。","type":"string","example":"TestKey"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidTag.Mismatch","errorMessage":"The specified Tag.n.Key and Tag.n.Value are not match."},{"errorCode":"InvalidTagCount","errorMessage":"The specified tags are beyond the permitted range."}],"403":[{"errorCode":"InvalidSnapshotIds.Malformed","errorMessage":"The amount of specified specified snapshot Ids exceeds the limit."},{"errorCode":"InvalidSnapshotCategory.Malformed","errorMessage":"The specified Category is not valid."}],"404":[{"errorCode":"InvalidFilterKey.NotFound","errorMessage":"The specified FilterKey is not found."},{"errorCode":"InvalidFilterValue","errorMessage":"The specified FilterValue  exceeds the limit."},{"errorCode":"InvalidUsage","errorMessage":"The specifed Usage is not valid."},{"errorCode":"InvalidSourceDiskType","errorMessage":"The specifed SourceDiskType is not valid."},{"errorCode":"InvalidStatus.NotFound","errorMessage":"The specified Status is not found."},{"errorCode":"InvalidSnapshotType.NotFound","errorMessage":"The specfied SnapshotType is not found."},{"errorCode":"InvalidSnapshotLinkId.NotFound","errorMessage":"The specified snapshot link is not found."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0a4883\\\",\\n  \\\"PageSize\\\": 10,\\n  \\\"PageNumber\\\": 1,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"Snapshots\\\": {\\n    \\\"Snapshot\\\": [\\n      {\\n        \\\"Status\\\": \\\"accomplished\\\",\\n        \\\"CreationTime\\\": \\\"2020-08-20T14:52:28Z\\\",\\n        \\\"Progress\\\": \\\"100%\\\",\\n        \\\"InstantAccess\\\": false,\\n        \\\"Available\\\": false,\\n        \\\"RemainTime\\\": 38,\\n        \\\"SourceDiskSize\\\": \\\"40\\\",\\n        \\\"RetentionDays\\\": 30,\\n        \\\"SourceDiskType\\\": \\\"system\\\",\\n        \\\"SourceStorageType\\\": \\\"disk\\\",\\n        \\\"Usage\\\": \\\"image\\\",\\n        \\\"LastModifiedTime\\\": \\\"2020-08-25T14:18:09Z\\\",\\n        \\\"Encrypted\\\": false,\\n        \\\"SnapshotType\\\": \\\"all\\\",\\n        \\\"SourceDiskId\\\": \\\"d-bp67acfmxazb4ph****\\\",\\n        \\\"SnapshotName\\\": \\\"testSnapshotName\\\",\\n        \\\"InstantAccessRetentionDays\\\": 30,\\n        \\\"Description\\\": \\\"testDescription\\\",\\n        \\\"SnapshotId\\\": \\\"s-bp67acfmxazb4p****\\\",\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"ResourceGroupId\\\": \\\"rg-bp67acfmxazb4p****\\\",\\n        \\\"Category\\\": \\\"standard\\\",\\n        \\\"KMSKeyId\\\": \\\"0e478b7a-4262-4802-b8cb-00d3fb40****\\\",\\n        \\\"SnapshotSN\\\": \\\"64472-116742336-61976****\\\",\\n        \\\"ProductCode\\\": \\\"jxsc000****\\\",\\n        \\\"SourceSnapshotId\\\": \\\"s-bp67acfmxazb4p****\\\",\\n        \\\"SourceRegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"SnapshotLinkId\\\": \\\"sl-bp1grgphbcc9brb5****\\\",\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"TagValue\\\": \\\"TestValue\\\",\\n              \\\"TagKey\\\": \\\"TestKey\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSnapshotsResponse>\\n    <TotalCount>1</TotalCount>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n    <PageSize>10</PageSize>\\n    <NextToken>caeba0bbb2be03f84eb48b699f0a4883</NextToken>\\n    <PageNumber>1</PageNumber>\\n    <Snapshots>\\n        <Snapshot>\\n            <Status>accomplished</Status>\\n            <InstantAccess>false</InstantAccess>\\n            <Progress>100%</Progress>\\n            <Available>false</Available>\\n            <Usage>image</Usage>\\n            <Description>testDescription</Description>\\n            <Category>standard</Category>\\n            <KMSKeyId>0e478b7a-4262-4802-b8cb-00d3fb40****</KMSKeyId>\\n            <ProductCode>jxsc000****</ProductCode>\\n            <Encrypted>false</Encrypted>\\n            <SnapshotName>testSnapshotName</SnapshotName>\\n            <SourceDiskId>d-bp67acfmxazb4ph****</SourceDiskId>\\n            <SourceStorageType>disk</SourceStorageType>\\n            <SnapshotId>s-bp67acfmxazb4p****</SnapshotId>\\n            <SnapshotSN>64472-116742336-61976****</SnapshotSN>\\n            <SourceDiskSize>40</SourceDiskSize>\\n            <CreationTime>2020-08-20T14:52:28Z</CreationTime>\\n            <LastModifiedTime>2020-08-25T14:18:09Z</LastModifiedTime>\\n            <SnapshotType>all</SnapshotType>\\n            <SourceDiskType>system</SourceDiskType>\\n            <Tags>\\n            </Tags>\\n        </Snapshot>\\n    </Snapshots>\\n</DescribeSnapshotsResponse>\",\"errorExample\":\"\"}]","title":"查询实例或云盘快照列表","summary":"调用DescribeSnapshots查询一台ECS实例或一块云盘所有的快照列表。","description":"## 接口说明\n\n`InstanceId`、`DiskId`和`SnapshotIds`不是必需的请求参数，但是可以构建过滤器逻辑，参数之间为逻辑与（And）关系。\n\n通过阿里云CLI调用API时，不同数据类型的请求参数取值必须遵循一定的格式要求，详情请参见[CLI参数格式说明](~~110340~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}