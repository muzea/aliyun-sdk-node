{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"需要查询升配价格的实例ID。","type":"string","required":true,"example":"i-bp1f2o4ldh8l****"}},{"name":"InstanceType","in":"query","schema":{"description":"实例升配的目标实例规格。建议您先调用[DescribeResourcesModification](~~66187~~)查询指定可用区内可升配的实例规格信息。\n\n> 查询时，实例规格参数（`InstanceType`）和数据盘参数（`DataDisk.N.*`）不得同时为空，必须至少指定一个。","type":"string","required":false,"example":"ecs.g6e.large"}},{"name":"SystemDisk.Category","in":"query","schema":{"description":"系统盘类型。仅当从已停售的实例规格升配至在售实例规格，并将非I/O优化实例规格升级为I/O优化实例规格时，才需要传入参数值。关于实例规格的更多信息，请参见[实例规格族](~~25378~~)以及[已停售的实例规格](~~55263~~)。\n\n取值范围：\n\n- cloud_efficiency：高效云盘。\n- cloud_ssd：SSD云盘。\n\n默认值：无。","type":"string","required":false,"example":"cloud_ssd"}},{"name":"DataDisk","in":"query","style":"repeatList","schema":{"description":"数据盘类型信息。","type":"array","items":{"description":"数据盘类型信息。","type":"object","properties":{"PerformanceLevel":{"description":"当数据盘类型为ESSD云盘时，设置云盘的性能等级。N的取值必须和`DataDisk.N.Category=cloud_essd`中的N保持一致。取值范围：\n\n- PL0：单盘最高随机读写IOPS 1万。\n- PL1：单盘最高随机读写IOPS 5万。\n- PL2：单盘最高随机读写IOPS 10万。\n- PL3：单盘最高随机读写IOPS 100万。\n\n默认值：PL1。\n\n有关如何选择ESSD性能等级，请参见[ESSD云盘](~~122389~~)。","type":"string","required":false,"example":"PL1"},"Size":{"description":"数据盘的容量大小。N的取值范围：1~16，内存单位为GiB。取值范围：\n\n- cloud_efficiency：20~32768。\n- cloud_ssd：20~32768。\n- cloud_essd：具体取值范围与`DataDisk.N.PerformanceLevel`的取值有关。    \n    - PL0：1~32768。\n    - PL1：20~32768。\n    - PL2：461~32768。\n    - PL3：1261~32768。\n- cloud：5~2000。\n\n默认值：指定数据盘类型相应的容量大小的最小值。","type":"integer","format":"int32","required":false,"example":"100"},"Category":{"description":"数据盘类型。当您需要查询ECS实例挂载的新包年包月数据盘的价格时，可以传入该参数值。N的取值范围：1~16。取值范围：\n\n- cloud_efficiency：高效云盘。\n- cloud_ssd：SSD云盘。\n- cloud_essd：ESSD云盘。\n- cloud：普通云盘。\n\n默认值：无。\n\n> 查询时，实例规格参数（`InstanceType`）和数据盘参数（`DataDisk.N.*`）不得同时为空，必须至少指定一个。\n\n","type":"string","required":false,"example":"cloud_essd"}},"required":false},"required":false,"maxItems":16}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A3DC3196-379B-4F32-A2C5-B937134FAD8A"},"PriceInfo":{"description":"价格信息类型（PriceInfo）组成的数据类型，包括价格和优惠规则信息。","type":"object","properties":{"Rules":{"type":"object","properties":{"Rule":{"description":"活动规则。","type":"array","items":{"type":"object","properties":{"Description":{"description":"活动规则描述。","type":"string","example":"升级优惠"},"RuleId":{"description":"活动ID。","type":"integer","format":"int64","example":"1234567890"}}}}}},"Price":{"description":"价格。","type":"object","properties":{"OriginalPrice":{"description":"原价。","type":"number","format":"float","example":"175.200"},"DiscountPrice":{"description":"折扣。","type":"number","format":"float","example":"61.320"},"Currency":{"description":"货币单位。\n\n中国站：CNY。\n\n国际站：USD。","type":"string","example":"CNY"},"TradePrice":{"description":"最终价，为原价减去折扣。","type":"number","format":"float","example":"113.880"}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter.InstanceTypeOrDataDisk","errorMessage":"You must specify the parameter InstanceType or DataDisk."},{"errorCode":"InvalidSystemDiskCategory.ValueNotSupported","errorMessage":"The specified parameter \"SystemDisk.Category\" is not valid."},{"errorCode":"InvalidDiskCategory.Missing","errorMessage":"The DataDisk.1.Category parameter that is mandatory for processing the request is not provided."},{"errorCode":"InvalidDataDiskCategory.ValueNotSupported","errorMessage":"The specified parameter \"DataDisk.n.Category\" is not valid."},{"errorCode":"InvalidDiskCategory.ValueNotSupported","errorMessage":"The specified parameter \"DiskCategory\" is not valid."},{"errorCode":"InvalidDataDiskSize.ValueNotSupported","errorMessage":"The specified DataDisk.n.Size beyond the permitted range."},{"errorCode":"InvalidPerformanceLevel.Malformed","errorMessage":"The specified parameter DataDisk.n.PerformanceLevel is not valid."},{"errorCode":"InvalidDiskSize.TooSmall","errorMessage":"Specified disk size is too small when choose PL0 of cloud_essd."},{"errorCode":"OperationDenied.PerformanceLevelNotMatch","errorMessage":"The specified DataDisk.n.PerformanceLevel and DataDisk.n.Size do not match."},{"errorCode":"InvalidInstanceType.ValueNotSupported","errorMessage":"The specified InstanceType does not exist or beyond the permitted range."},{"errorCode":"InstanceType.Offline","errorMessage":"%s"},{"errorCode":"RegionUnauthorized","errorMessage":"%s"},{"errorCode":"InvalidAction.WithActiveElasticUpgrade","errorMessage":"The instance has active Elastic Upgrade."},{"errorCode":"PriceNotFound","errorMessage":"The price of your queried resource is not available now, please try other resources."}],"403":[{"errorCode":"InvalidParameter.ResourceOwnerAccount","errorMessage":"ResourceOwnerAccount is Invalid."},{"errorCode":"ChargeTypeViolation","errorMessage":"PostPaid instance do not support this operation."},{"errorCode":"InvalidInstanceType.NotSupportUpgrade","errorMessage":"The specified InstanceType can only be downgraded. This API supports querying prices only of InstanceType that can be upgraded."},{"errorCode":"InstanceExpired","errorMessage":"The PrePaid instance has been expired."},{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."},{"errorCode":"Throttling","errorMessage":"Request was denied due to request throttling."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."},{"errorCode":"InvalidResourceGroup.NotFound","errorMessage":"The ResourceGroup provided does not exist in our records."},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified InstanceId does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"%s"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A3DC3196-379B-4F32-A2C5-B937134FAD8A\\\",\\n  \\\"PriceInfo\\\": {\\n    \\\"Rules\\\": {\\n      \\\"Rule\\\": [\\n        {\\n          \\\"Description\\\": \\\"升级优惠\\\",\\n          \\\"RuleId\\\": 1234567890\\n        }\\n      ]\\n    },\\n    \\\"Price\\\": {\\n      \\\"OriginalPrice\\\": 175.2,\\n      \\\"DiscountPrice\\\": 61.32,\\n      \\\"Currency\\\": \\\"CNY\\\",\\n      \\\"TradePrice\\\": 113.88\\n    }\\n  }\\n}\",\"type\":\"json\"}]","title":"查询未到期的包年包月ECS实例升配时目标实例规格的价格信息、新增包年包月数据盘的价格信息","summary":"调用DescribeInstanceModificationPrice查询未到期的包年包月ECS实例升配时目标实例规格的价格信息、新增包年包月数据盘的价格信息。","description":"- 仅支持查询未到期的包年包月ECS实例升配的价格信息，暂不支持查询实例降配的价格信息。\n- 不支持查询按量付费ECS实例变配时的价格信息。由于按量付费ECS实例变配后的价格与新购实例的价格一致，因此您可以直接调用[DescribePrice](~~107829~~)查询ECS实例的最新价格。\n- 实例升配前，建议您先调用[DescribeResourcesModification](~~66187~~)查询指定可用区内可升配的实例规格信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}