{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"容量预定服务所属地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。使用该参数过滤资源时，资源数量不能超过1000个。\n\n>不支持默认资源组过滤。","type":"string","required":false,"example":"rg-bp67acfmxazb4p****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签键。N表示可以设置多个标签键进行过滤，N的取值范围为1~20。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个；使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，请使用[ListTagResources](~~110425~~)接口进行查询。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"标签值。N表示可以设置多个标签值进行过滤，N的取值范围为1~20。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":20}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页行数。\n\n最大值：100。\n\n默认值：10。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"NextToken","in":"query","schema":{"description":"容量预定服务查询起始标志。由上一次的请求结果中获取。","type":"string","required":false,"example":"caeba0bbb2be03f84eb48b699f0a4883"}},{"name":"PrivatePoolOptions.Ids","in":"query","schema":{"description":"容量预定服务ID列表。取值可以由多个ID组成一个JSON数组，最多支持100个ID，ID之间用半角逗号（,）隔开。","type":"string","required":false,"example":"[\"crp-bp1gubrkqutenqdd****\", \"crp-bp67acfmxazb5****\"]"}},{"name":"Platform","in":"query","schema":{"description":"实例的操作系统。取值范围：\n\n- windows：仅查询Windows系统的容量预定服务。\n- linux：仅查Linux系统的容量预定服务。\n- all：查询所有容量预定服务。\n\n默认值：all。","type":"string","required":false,"example":"linux"}},{"name":"InstanceType","in":"query","schema":{"description":"实例规格。","type":"string","required":false,"example":"ecs.c6.large"}},{"name":"ZoneId","in":"query","schema":{"description":"容量预定服务所属地域下的可用区ID。","type":"string","required":false,"example":"cn-hangzhou-h"}},{"name":"InstanceChargeType","in":"query","schema":{"description":"实例的计费方式。取值范围：\n\n- PostPaid：按量付费。\n- PrePaid：包年包月。\n\n默认值：PostPaid。","type":"string","required":false,"example":"PostPaid"}},{"name":"Status","in":"query","schema":{"description":"容量预定服务的状态。取值范围：\n\n- All：所有状态。\n- Pending：初始化。指定时间生效的容量预定会先进入初始化状态。\n- Preparing：准备中。指定时间生效的容量预定在资源交付进行阶段，处于准备中状态。\n- Prepared：待生效。指定时间生效的容量预定在资源交付完成，服务正式生效之前，处于待生效状态。\n- Active：生效中。\n- Released：已释放，包括手动释放与到期自动释放。\n\n默认值：Active。","type":"string","required":false,"example":"Active"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"description":"容量预定服务下一个查询起始标志。","type":"string","example":"caeba0bbb2be03f84eb48b699f0a****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"TotalCount":{"description":"符合查询条件的记录条数。","type":"integer","format":"int32","example":"1"},"MaxResults":{"description":"容量预定服务每页显示行数。","type":"integer","format":"int32","example":"10"},"CapacityReservationSet":{"type":"object","properties":{"CapacityReservationItem":{"description":"容量预定服务详细信息组成的集合。","type":"array","items":{"type":"object","properties":{"Status":{"description":"容量预定服务的状态。可能值：\n\n- Pending：初始化。\n- Preparing：准备中。\n- Prepared：待生效。\n- Active：生效中。\n- Released：已释放，包括手动释放与到期自动释放。","type":"string","example":"Active"},"TimeSlot":{"description":"> 该参数正在邀测中，暂未开放使用。","type":"string","example":"null"},"PrivatePoolOptionsMatchCriteria":{"description":"容量预定服务生效后生成的私有资源池的类型。可能值：\n\n- Open：开放模式。\n- Target：专用模式。\n","type":"string","example":"Open"},"PrivatePoolOptionsId":{"description":"容量预定服务ID。","type":"string","example":"crp-bp1gubrkqutenqdd****"},"PrivatePoolOptionsName":{"description":"容量预定服务名称。","type":"string","example":"crpTestName"},"RegionId":{"description":"容量预定服务所属地域ID。","type":"string","example":"cn-hangzhou"},"InstanceChargeType":{"description":"容量预定服务中实例的付费类型。可能值：\n\n- PostPaid：按量付费。\n- PrePaid：包年包月。","type":"string","example":"PostPaid"},"EndTime":{"description":"容量预定服务的失效时间。","type":"string","example":"2021-02-19T03:02Z"},"StartTime":{"description":"容量预定服务生效时间。","type":"string","example":"2021-02-19T02:01Z"},"Description":{"description":"容量预定服务描述。","type":"string","example":"This is description."},"EndTimeType":{"description":"容量预定服务的失效方式。可能值：\n\n- Limited：指定时间释放。\n- Unlimited：手动释放。不限制时间。","type":"string","example":"Unlimited"},"ResourceGroupId":{"description":"容量预定服务所属的资源组ID。","type":"string","example":"rg-bp67acfmxazb4p****"},"Platform":{"description":"匹配的实例的操作系统。可能值：\n\n- windows。\n- linux。","type":"string","example":"linux"},"AllocatedResources":{"type":"object","properties":{"AllocatedResource":{"description":"资源分配详情。","type":"array","items":{"type":"object","properties":{"UsedAmount":{"description":"已使用的实例的数量。","type":"integer","format":"int32","example":"2"},"TotalAmount":{"description":"在一个实例规格内，需要预留的实例的总数量。","type":"integer","format":"int32","example":"2"},"AvailableAmount":{"description":"可用的实例数量。","type":"integer","format":"int32","example":"2"},"zoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-h"},"InstanceType":{"description":"实例规格。","type":"string","example":"ecs.c6.large"},"CapacityReservationUsages":{"type":"object","properties":{"CapacityReservationUsage":{"description":"已使用的实例的数量详情列表。","type":"array","items":{"description":"已使用的实例的数量详情。","type":"object","properties":{"AccountId":{"description":"阿里云账号ID。","type":"string","example":"105909559088****"},"ServiceName":{"description":"阿里云服务名称。","type":"string","example":"maxcompute.aliyuncs.com"},"UsedAmount":{"description":"该阿里云账号或服务已使用的实例的数量。","type":"integer","format":"int32","example":"20"}}}}}}}}}}},"Tags":{"type":"object","properties":{"Tag":{"description":"容量预定服务绑定的标签键值对信息。","type":"array","items":{"description":"容量预定服务绑定的标签键值对信息。","type":"object","properties":{"TagValue":{"description":"标签值。","type":"string","example":"TestValue"},"TagKey":{"description":"标签键。","type":"string","example":"TestKey"}}}}}},"StartTimeType":{"description":"容量预定生效方式。可能值：\n\n- Now：立即生效。\n- Later：指定时间生效。","type":"string","example":"Now"},"SavingPlanId":{"description":"容量预定搭配的节省计划券ID。","type":"string","example":"spn-c29b5e18pJMT****"},"ReservedInstanceId":{"description":"容量预定搭配的预留实例券ID。","type":"string","example":"ri-bpzhex2ulpzf53****"},"CapacityReservationOwnerId":{"description":"容量预定资源包所有者ID。","type":"string","example":"100************7\n"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter.RegionId","errorMessage":"The specified RegionId should not be null."},{"errorCode":"InvalidParameter.Name","errorMessage":"The specified PrivatePoolOptions.Name is invalid."},{"errorCode":"InvalidParameter.PrivatePoolOptions.Ids","errorMessage":"The specified PrivatePoolOptions.Ids is invalid."},{"errorCode":"DedicatedHostNotSupported","errorMessage":"DedicatedHost is not supported for PrivatePool."},{"errorCode":"SpotNotSupported","errorMessage":"Spot is not supported for PrivatePool."},{"errorCode":"ClassicNetworkNotSupported","errorMessage":"Classic network is not supported for PrivatePool."},{"errorCode":"Invalid.InstanceId","errorMessage":"Instance does not exist."},{"errorCode":"Invalid.PrivatePoolOptions.MatchCriteria","errorMessage":"Target mode does not support this operation."},{"errorCode":"MissingParameter.PrivatePoolOptions.Id","errorMessage":"The specified PrivatePoolOptions.Id should not be null."},{"errorCode":"Invalid.PrivatePoolOptions.Id","errorMessage":"The PrivatePool does not exist."},{"errorCode":"Invalid.InstanceType","errorMessage":"The InstanceType does not match the PrivatePool."},{"errorCode":"Invalid.InstanceChargeType","errorMessage":"The InstanceChargeType does not match the PrivatePool."},{"errorCode":"Invalid.ZoneId","errorMessage":"The ZoneId does not match the PrivatePool."},{"errorCode":"Invalid.PrivatePoolOptions.status","errorMessage":"The PrivatePool has been used up."},{"errorCode":"InvalidPlatform.ValueNotSupported","errorMessage":"The Platform does not match the PrivatePool."},{"errorCode":"InvalidAliUid","errorMessage":"The PrivatePool does not belong to the user of the Instance."},{"errorCode":"MissingParameter.PackageType","errorMessage":"The specified parameter \"PackageType\" can not be empty."},{"errorCode":"MissingParameter.PrivatePoolOptions.Ids","errorMessage":"The specified parameter \"PrivatePoolOptions.Ids\" can not be empty."},{"errorCode":"MissingParameter.InstanceCpuCoreCount","errorMessage":"The specified parameter \"InstanceCpuCoreCount\" can not be empty."},{"errorCode":"MissingParameter.InstanceAmount","errorMessage":"The specified parameter \"InstanceAmount\" can not be empty."},{"errorCode":"MissingParameter.InstanceCpuCoreCountOrInstanceAmount","errorMessage":"The specified parameter \"InstanceCpuCoreCount\" and \"InstanceAmount\" must not be empty at the same time."},{"errorCode":"Invalid.TooManyPrivatePoolOptions.Ids","errorMessage":"Too many PrivatePoolOptions.Ids in this request."},{"errorCode":"Invalid.TooManyZoneIds","errorMessage":"Too many ZoneIds in the request."},{"errorCode":"Invalid.TooManyInstanceTypes","errorMessage":"Too many InstanceTypes in the request."},{"errorCode":"Invalid.TooManyUnpaidPrivatePool","errorMessage":"Too many PrivatePools create but still unpaid."},{"errorCode":"Invalid.InstanceCpuCoreCountOrInstanceAmount","errorMessage":"Both InstanceCpuCoreCount and InstanceAmount are provided."},{"errorCode":"Invalid.PrivatePoolOptions.Ids","errorMessage":"The specified parameter \"PrivatePoolOptions.Ids\" exist invalid element Id."},{"errorCode":"Invalid.PackageType","errorMessage":"The specified parameter \"PackageType\" is invalid."},{"errorCode":"Invalid.PrivatePool.Purchase","errorMessage":"The PrivatePool has already paid."},{"errorCode":"Invalid.AssuranceTimes.NotSupported","errorMessage":"The value of AssuranceTimes is not supported."},{"errorCode":"RepeatStartPrivatePool","errorMessage":"PrivatePool has already been started."},{"errorCode":"InvalidParameter.RegionId","errorMessage":"The specified RegionId is not exist."},{"errorCode":"InvalidPermission.ResourceShareAssocoated","errorMessage":"The current resource is associated to a shared relationship and cannot be released."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"caeba0bbb2be03f84eb48b699f0a****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"MaxResults\\\": 10,\\n  \\\"CapacityReservationSet\\\": {\\n    \\\"CapacityReservationItem\\\": [\\n      {\\n        \\\"Status\\\": \\\"Active\\\",\\n        \\\"TimeSlot\\\": \\\"null\\\",\\n        \\\"PrivatePoolOptionsMatchCriteria\\\": \\\"Open\\\",\\n        \\\"PrivatePoolOptionsId\\\": \\\"crp-bp1gubrkqutenqdd****\\\",\\n        \\\"PrivatePoolOptionsName\\\": \\\"crpTestName\\\",\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"InstanceChargeType\\\": \\\"PostPaid\\\",\\n        \\\"EndTime\\\": \\\"2021-02-19T03:02Z\\\",\\n        \\\"StartTime\\\": \\\"2021-02-19T02:01Z\\\",\\n        \\\"Description\\\": \\\"This is description.\\\",\\n        \\\"EndTimeType\\\": \\\"Unlimited\\\",\\n        \\\"ResourceGroupId\\\": \\\"rg-bp67acfmxazb4p****\\\",\\n        \\\"Platform\\\": \\\"linux\\\",\\n        \\\"AllocatedResources\\\": {\\n          \\\"AllocatedResource\\\": [\\n            {\\n              \\\"UsedAmount\\\": 2,\\n              \\\"TotalAmount\\\": 2,\\n              \\\"AvailableAmount\\\": 2,\\n              \\\"zoneId\\\": \\\"cn-hangzhou-h\\\",\\n              \\\"InstanceType\\\": \\\"ecs.c6.large\\\",\\n              \\\"CapacityReservationUsages\\\": {\\n                \\\"CapacityReservationUsage\\\": [\\n                  {\\n                    \\\"AccountId\\\": \\\"105909559088****\\\",\\n                    \\\"ServiceName\\\": \\\"maxcompute.aliyuncs.com\\\",\\n                    \\\"UsedAmount\\\": 20\\n                  }\\n                ]\\n              }\\n            }\\n          ]\\n        },\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"TagValue\\\": \\\"TestValue\\\",\\n              \\\"TagKey\\\": \\\"TestKey\\\"\\n            }\\n          ]\\n        },\\n        \\\"StartTimeType\\\": \\\"Now\\\",\\n        \\\"SavingPlanId\\\": \\\"spn-c29b5e18pJMT****\\\",\\n        \\\"ReservedInstanceId\\\": \\\"ri-bpzhex2ulpzf53****\\\",\\n        \\\"CapacityReservationOwnerId\\\": \\\"100************7\\\\n\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeCapacityReservationsResponse>\\n    <TotalCount>1</TotalCount>\\n    <NextToken>caeba0bbb2be03f84eb48b699f0a****</NextToken>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>\\n    <MaxResults>10</MaxResults>\\n    <CapacityReservationSet>\\n        <CapacityReservationItem>\\n            <Status>Active</Status>\\n            <Description>This is description.</Description>\\n            <EndTime>2021-02-19T03:02Z</EndTime>\\n            <Platform>linux</Platform>\\n            <ResourceGroupId>rg-bp67acfmxazb4p****</ResourceGroupId>\\n            <PrivatePoolOptionsName>crpTestName</PrivatePoolOptionsName>\\n            <InstanceChargeType>PostPaid</InstanceChargeType>\\n            <StartTime>2021-02-19T02:01Z</StartTime>\\n            <StartTimeType>Now</StartTimeType>\\n            <PrivatePoolOptionsMatchCriteria>Open</PrivatePoolOptionsMatchCriteria>\\n            <TimeSlot/>\\n            <SavingPlanId>spn-c29b5e18pJMT****</SavingPlanId>\\n            <ReservedInstanceId>ri-bpzhex2ulpzf53****</ReservedInstanceId>\\n            <AllocatedResources>\\n                <AllocatedResource>\\n                    <UsedAmount>2</UsedAmount>\\n                    <zoneId>cn-hangzhou-h</zoneId>\\n                    <TotalAmount>2</TotalAmount>\\n                    <InstanceType>ecs.c6.large</InstanceType>\\n                </AllocatedResource>\\n            </AllocatedResources>\\n            <PrivatePoolOptionsId>crp-bp1gubrkqutenqdd****</PrivatePoolOptionsId>\\n            <EndTimeType>Unlimited</EndTimeType>\\n            <RegionId>cn-hangzhou</RegionId>\\n            <Tags>\\n                <Tag>\\n                    <TagKey>TestKey</TagKey>\\n                    <TagValue>TestValue</TagValue>\\n                </Tag>\\n            </Tags>\\n        </CapacityReservationItem>\\n    </CapacityReservationSet>\\n</DescribeCapacityReservationsResponse>\",\"errorExample\":\"\"}]","title":"查询容量预定服务的详细信息","summary":"调用DescribeCapacityReservations查询一个或多个容量预定服务的详细信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}