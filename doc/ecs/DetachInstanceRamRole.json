{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29021","abilityTreeNodes":["FEATUREecsT6V7S4"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RamRoleName","in":"query","schema":{"description":"收回赋予了某一实例RAM角色的所有ECS实例。您可以使用RAM API [ListRoles](~~28713~~)查询您已创建的实例RAM角色。","type":"string","required":false,"example":"RamRoleTest"}},{"name":"InstanceIds","in":"query","schema":{"description":"指定收回的实例ID。取值可以由多个实例ID组成一个JSON数组，最多支持100个ID，ID之间用半角逗号（,）隔开。","type":"string","required":true,"example":"[\"i-bp67acfmxazb4p****\", \"i-bp67acfmxazb5p****\", \"i-bp67acfmxazb6p****\"…]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RamRoleName":{"description":"收回实例RAM角色的名称。","type":"string","example":"RamRoleTest"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TotalCount":{"description":"收回的实例RAM角色的总个数。","type":"integer","format":"int32","example":"1"},"FailCount":{"description":"收回失败的实例RAM角色的个数。","type":"integer","format":"int32","example":"0"},"DetachInstanceRamRoleResults":{"type":"object","properties":{"DetachInstanceRamRoleResult":{"description":"由实例RAM角色类型（DetachInstanceRamRoleResult）组成的信息集。","type":"array","items":{"type":"object","properties":{"Code":{"description":"判断是否成功收回实例RAM角色。返回值为200表示成功收回，返回其他值表示收回失败，失败原因参见错误码。","type":"string","example":"200"},"Message":{"description":"判断是否成功收回实例RAM角色。返回值为Success表示成功收回，返回其他值表示收回失败，失败原因参见错误码。","type":"string","example":"Success"},"InstanceId":{"description":"准备收回实例RAM角色的ECS实例。","type":"string","example":"i-bp67acfmxazb4p****"},"Success":{"description":"是否成功回收了指定的实例角色。","type":"boolean","example":"true"},"InstanceRamRoleSets":{"type":"object","properties":{"InstanceRamRoleSet":{"description":"实例的RAM角色集合。","type":"array","items":{"type":"object","properties":{"RamRoleName":{"description":"收回实例RAM角色的名称。","type":"string","example":"RamRoleTest"},"InstanceId":{"description":"实例ID。","type":"string","example":"i-bp67acfmxazb4p****"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidInstanceIds.Malformed","errorMessage":"The specified instanceIds are not valid."}],"403":[{"errorCode":"InvalidNetworkType.MismatchRamRole","errorMessage":"Ram role cannot be applied to instances of Classic network type."},{"errorCode":"InvalidUser.PassRoleForbidden","errorMessage":"The RAM user does not have the privilege to pass a RAM role."}],"404":[{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified instanceId does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RamRoleName\\\": \\\"RamRoleTest\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TotalCount\\\": 1,\\n  \\\"FailCount\\\": 0,\\n  \\\"DetachInstanceRamRoleResults\\\": {\\n    \\\"DetachInstanceRamRoleResult\\\": [\\n      {\\n        \\\"Code\\\": \\\"200\\\",\\n        \\\"Message\\\": \\\"Success\\\",\\n        \\\"InstanceId\\\": \\\"i-bp67acfmxazb4p****\\\",\\n        \\\"Success\\\": true,\\n        \\\"InstanceRamRoleSets\\\": {\\n          \\\"InstanceRamRoleSet\\\": [\\n            {\\n              \\\"RamRoleName\\\": \\\"RamRoleTest\\\",\\n              \\\"InstanceId\\\": \\\"i-bp67acfmxazb4p****\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"E6352369-5C2B-41CD-AB50-471550C8F674\\\",\\n    \\\"DetachInstanceRamRoleResults\\\": {\\n        \\\"DetachInstanceRamRoleResult\\\": [\\n            {\\n                \\\"Message\\\": \\\"success\\\",\\n                \\\"InstanceId\\\": \\\"i-instance1\\\",\\n                \\\"Code\\\": \\\"200\\\"\\n            }\\n        ]\\n    },\\n    \\\"TotalCount\\\": 1,\\n    \\\"FailCount\\\": 0,\\n    \\\"RamRoleName\\\": \\\"RamRoleTest\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<DetachInstanceRamRoleResponse>\\n    <TotalCount>1</TotalCount>\\n    <DetachInstanceRamRoleResults>\\n        <DetachInstanceRamRoleResult>\\n            <Message>success</Message>\\n            <InstanceId>i-bp16qng6jnvt6g7t****</InstanceId>\\n            <Code>200</Code>\\n            <InstanceRamRoleSets>\\n                <InstanceId>i-bp16qng6jnvt6g7t****</InstanceId>\\n                <RamRoleName>RamRoleTest</RamRoleName>\\n            </InstanceRamRoleSets>\\n        </DetachInstanceRamRoleResult>\\n    </DetachInstanceRamRoleResults>\\n    <RequestId>14D5B163-CE6C-4489-B979-DBE5D0495A63</RequestId>\\n    <RamRoleName/>\\n    <FailCount>0</FailCount>\\n</DetachInstanceRamRoleResponse>\",\"errorExample\":\"<DetachInstanceRamRoleResponse>\\n    <RequestId>E6352369-5C2B-41CD-AB50-471550C8F674</RequestId>\\n    <DetachInstanceRamRoleResults>\\n        <DetachInstanceRamRoleResult>\\n             <InstanceId>i-instance1</InstanceId>\\n             <Code>200</Code>\\n             <Message>success</Message>\\n        </DetachInstanceRamRoleResult>\\n    </DetachInstanceRamRoleResults>\\n    <TotalCount>1</TotalCount>\\n    <FailCount>0</FailCount>\\n    <RamRoleName>RamRoleTest</RamRoleName>\\n</DetachInstanceRamRoleResponse>\\n\"}]","title":"回收实例的实例RAM角色","summary":"调用DetachInstanceRamRole回收一台或多台ECS实例的实例RAM角色。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}