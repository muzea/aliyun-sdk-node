{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update","abilityTreeCode":"29135","abilityTreeNodes":["FEATUREecs0ILANB"]},"parameters":[{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。取值范围：\n\n- true：发送检查请求，不会重启实例。检查项包括是否填写了必需参数、请求格式、实例状态。如果检查不通过，则返回对应错误。如果检查通过，则返回`DRYRUN.SUCCESS`。\n> 如果参数`BatchOptimization`被设置为`SuccessFirst`，对应的`DryRun=true`的预检结果只会返回`DRYRUN.SUCCESS`。\n\n- false：发送正常请求，通过检查后直接重启实例。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"RegionId","in":"query","schema":{"description":"实例所在的地域。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ForceReboot","in":"query","schema":{"description":"是否强制重启。取值范围：\n\n-   true：强制重启。相当于典型的断电操作，所有未写入存储设备的缓存数据会丢失。\n\n-   false：正常重启。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"BatchOptimization","in":"query","schema":{"description":"设置批量操作模式。取值范围：\n\n- AllTogether：该模式下，如果实例全部重启成功，则返回成功信息；如果任意一个实例校验不通过，则所有实例重启失败，并返回失败信息。\n\n- SuccessFirst：该模式下，分别重启每个实例，返回结果包含每个实例的操作结果信息。\n\n默认值：AllTogether。","type":"string","required":false,"example":"AllTogether"}},{"name":"InstanceId","in":"query","style":"repeatList","schema":{"description":"实例ID列表。最多100个实例ID。","type":"array","items":{"description":"实例ID。","type":"string","required":false,"example":"i-bp67acfmxazb4p****"},"required":true,"example":"i-bp67acfmxazb4p****","maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"InstanceResponses":{"type":"object","properties":{"InstanceResponse":{"description":"由InstanceResponse组成的数组格式，返回每个实例操作的前后状态及操作结果。","type":"array","items":{"type":"object","properties":{"Code":{"description":"实例操作结果错误码。返回值为200表示操作成功。更多信息，请参见下文错误码列表。","type":"string","example":"200"},"Message":{"description":"实例操作返回错误信息。返回值为Success表示操作成功。更多信息，请参见下文错误码列表。","type":"string","example":"success"},"InstanceId":{"description":"实例ID。","type":"string","example":"i-bp1g6zv0ce8oghu7****"},"CurrentStatus":{"description":"实例当前状态。","type":"string","example":"Stopping"},"PreviousStatus":{"description":"实例操作前状态。","type":"string","example":"Running"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter.KMSKeyId.CMKNotEnabled","errorMessage":"The CMK needs to be added ECS tag"},{"errorCode":"InvalidParameter.KMSKeyId.KMSUnauthorized","errorMessage":"ECS service account have no right to access your KMS."},{"errorCode":"DRYRUN.SUCCESS","errorMessage":"This request is a dryrun request with successful result."}],"403":[{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"InstanceId should not be null."},{"errorCode":"InvalidParameter.TooManyInstanceIds","errorMessage":"Instance ids cannot be more than 100."},{"errorCode":"Abs.InvalidInstanceIds.MalFormed","errorMessage":"The specified instanceIds is not valid."},{"errorCode":"InstanceLockedForSecurity","errorMessage":"%s"},{"errorCode":"InstanceExpiredOrInArrears","errorMessage":"%s"},{"errorCode":"IncorrectInstanceStatus","errorMessage":"%s"},{"errorCode":"InvalidInstance.NotFoundSystemDisk","errorMessage":"%s"},{"errorCode":"InsufficientBalance","errorMessage":"Your account does not have enough balance."},{"errorCode":"InstanceNotReady","errorMessage":"The specified instance is not ready for use."}],"404":[{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"%s"},{"errorCode":"InvalidInstanceIds.NotFound","errorMessage":"The specified InstanceIds does not exist."}],"409":[{"errorCode":"InvalidOperation.Conflict","errorMessage":"Request was denied due to conflict with a previous request, please try again later."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"InstanceResponses\\\": {\\n    \\\"InstanceResponse\\\": [\\n      {\\n        \\\"Code\\\": \\\"200\\\",\\n        \\\"Message\\\": \\\"success\\\",\\n        \\\"InstanceId\\\": \\\"i-bp1g6zv0ce8oghu7****\\\",\\n        \\\"CurrentStatus\\\": \\\"Stopping\\\",\\n        \\\"PreviousStatus\\\": \\\"Running\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RebootInstancesResponse>\\n    <RequestId>FF53E96D-3F1A-42F0-8373-1C2B39D72D44</RequestId>\\n    <InstanceResponses>\\n        <InstanceResponse>\\n            <Message>success</Message>\\n            <InstanceId>i-bp1g6zv0ce8oghu7****</InstanceId>\\n            <PreviousStatus>Running</PreviousStatus>\\n            <CurrentStatus>Stopping</CurrentStatus>\\n            <Code>200</Code>\\n        </InstanceResponse>\\n        <InstanceResponse>\\n            <Message>success</Message>\\n            <InstanceId>i-bp1g6zv0ce8oghu7****</InstanceId>\\n            <PreviousStatus>Running</PreviousStatus>\\n            <CurrentStatus>Stopping</CurrentStatus>\\n            <Code>200</Code>\\n        </InstanceResponse>\\n        <InstanceResponse>\\n            <Message>The specified InstanceId does not exist.</Message>\\n            <InstanceId>i-TestID</InstanceId>\\n            <PreviousStatus/>\\n            <CurrentStatus/>\\n            <Code>InvalidInstanceId.NotFound</Code>\\n        </InstanceResponse>\\n    </InstanceResponses>\\n</RebootInstancesResponse>\",\"errorExample\":\"\"}]","title":"重启一台或多台实例","summary":"调用RebootInstances重启一台或多台处于运行中（Running）状态的ECS实例。接口调用成功后，ECS实例先进入停止中（Stopping）状态，最终进入运行中（Running）状态。","description":"## 接口说明\n\n- ECS实例的状态必须为**运行中**（`Running`）。\n- 支持批量操作，可以通过参数`BatchOptimization`设置批量操作模式。\n- 支持强制重启（`ForceReboot`），强制重启等同于传统服务器的断电重启，可能丢失实例操作系统中未写入块存储的数据。\n- 查询ECS实例信息时，如果返回数据中包含`{\"OperationLocks\": {\"LockReason\" : \"security\"}}`，则禁止一切操作。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}