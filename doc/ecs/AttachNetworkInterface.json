{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29243","abilityTreeNodes":["FEATUREecsT5S9N2"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"实例所在地域的ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"实例所在地域的ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"NetworkInterfaceId","in":"query","schema":{"description":"弹性网卡ID。","type":"string","required":true,"docRequired":true,"example":"eni-bp17pdijfczax1huji****"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"i-bp16qstyvxj9gpqw****"}},{"name":"TrunkNetworkInstanceId","in":"query","schema":{"description":"中继网卡ID。\n>该参数暂未上线，不支持使用。","type":"string","required":false,"example":"eni-f8zapqwj1v1j4ia3****"}},{"name":"WaitForNetworkConfigurationReady","in":"query","schema":{"description":">该参数已废弃。","type":"boolean","required":false,"example":"null"}},{"name":"NetworkCardIndex","in":"query","schema":{"description":"网卡指定的物理网卡索引。\n\n>NetworkCardIndex 取值与实例规格族有关。如果实例规格不支持NetworkCard则不能指定；如果支持，取值请参见[实例规格族](~~25378~~)。","type":"integer","format":"int32","required":false,"example":"0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidOperation.Ipv6CountExceeded","errorMessage":"The number of IPv6 supported by the current instance type has reached the upper limit."},{"errorCode":"MissingParameter","errorMessage":"%s"},{"errorCode":"UnsupportedParameter","errorMessage":"%s"},{"errorCode":"InvalidParameter","errorMessage":"%s"},{"errorCode":"InvalidInstanceID.Malformed","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidRegion","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidEcsState","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidEniState","errorMessage":"%s"},{"errorCode":"InvalidOperation.DetachPrimaryEniNotAllowed","errorMessage":"%s"},{"errorCode":"Forbidden.RegionId","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidGeneration","errorMessage":"%s"},{"errorCode":"InvalidParams.EniId","errorMessage":"%s"},{"errorCode":"InvalidParameter.NetworkCardIndexInvalid","errorMessage":"Invalid network card index, please check instance type."},{"errorCode":"InvalidOperation.UserNotSupportNetworkCard","errorMessage":"User not support network card."},{"errorCode":"InvalidOperation.ConnectionTrackingConfigNotSupportMemberEni","errorMessage":"Member eni not support ConnectionTrackingConfiguration."}],"403":[{"errorCode":"InvalidUserType.NotSupported","errorMessage":"%s"},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"%s"},{"errorCode":"Forbidden.NotSupportRAM","errorMessage":"%s"},{"errorCode":"Forbidden.SubUser","errorMessage":"%s"},{"errorCode":"MaxEniCountExceeded","errorMessage":"%s"},{"errorCode":"EniPerInstanceLimitExceeded","errorMessage":"%s"},{"errorCode":"InvalidOperation.AvailabilityZoneMismatch","errorMessage":"%s"},{"errorCode":"InvalidOperation.VpcMismatch","errorMessage":"%s"},{"errorCode":"SecurityGroupInstanceLimitExceed","errorMessage":"%s"},{"errorCode":"InvalidSecurityGroupId.NotVpc","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidEniType","errorMessage":"%s"},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"%s"},{"errorCode":"InvalidEni.NotSameVpc","errorMessage":"%s"},{"errorCode":"InvalidOperation.Ipv4CountExceeded","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniServiceManaged","errorMessage":"%s"},{"errorCode":"InvalidOperation.MultiGroupType","errorMessage":"The specified instance can't join different types of security group."},{"errorCode":"InvalidOperation.NotSupportEnterpriseGroup","errorMessage":"The specified instance type doesn't support enterprise level security group."},{"errorCode":"InvalidOperation.EniCountExceeded","errorMessage":"The maximum number of eni in a enterprise level security group is exceeded."},{"errorCode":"InvalidOperation.EipBindModel","errorMessage":"%s"},{"errorCode":"InvalidOperation.Ipv6NotSupport","errorMessage":"%s"},{"errorCode":"InvalidOperation.HotPlugNotSupport","errorMessage":"%s"},{"errorCode":"InvalidInstance.NetworkType","errorMessage":"%s"},{"errorCode":"InvalidOperation.InvalidTrunkEniStatus","errorMessage":"%s"},{"errorCode":"InvalidOperation.TrunkingIsNotAllowed","errorMessage":"%s"},{"errorCode":"InvalidOperation.InstanceTypeNotSupportEniTrunking","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniTypeNotSupportTrunking","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniTrunkDeviceFull","errorMessage":"%s"},{"errorCode":"InvalidParameter.EniNotBelongTrunk","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniTypeNotSupportAttachToTrunk","errorMessage":"%s"},{"errorCode":"InvalidParameter.EniNotBelongEcs","errorMessage":"%s"},{"errorCode":"InvalidParameter.InvalidEniQueueNumber","errorMessage":"%s"},{"errorCode":"InvalidOperation.MaxEniQueueNumberExceeded","errorMessage":"%s"},{"errorCode":"InvalidOperation.ExceedInstanceTypeQueueNumber","errorMessage":"%s"},{"errorCode":"InvalidOperation.HighPerformanceTrafficModeNotSupportTrunkEni","errorMessage":"%s"},{"errorCode":"InvalidOperation.HighPerformanceTrafficModeNotSupportMemberEni","errorMessage":"%s"},{"errorCode":"InvalidOperation.InstanceTypeNotSupportHighPerformanceTrafficMode","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniTrafficModeNotSupportIpv6","errorMessage":"%s"},{"errorCode":"InvalidOperation.MaxEniQueuePairNumberExceed","errorMessage":"%s"},{"errorCode":"InvalidParameter.InvalidQueuePairNumber","errorMessage":"%s"},{"errorCode":"InvalidOperation.EniQueuePairNumberOverflow","errorMessage":"%s"},{"errorCode":"InvalidOperation.HighPerformanceEniPerInstanceLimitExceeded","errorMessage":"%s"}],"404":[{"errorCode":"InvalidEcsId.NotFound","errorMessage":"%s"},{"errorCode":"InvalidEniId.NotFound","errorMessage":"%s"},{"errorCode":"InvalidVSwitchId.NotFound","errorMessage":"%s"},{"errorCode":"InvalidSecurityGroupId.NotFound","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AttachNetworkInterfaceResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n</AttachNetworkInterfaceResponse>\",\"errorExample\":\"\"}]","title":"附加弹性网卡到专有网络VPC类型实例上","summary":"调用AttachNetworkInterface附加一个弹性网卡（ENI）到一台专有网络VPC类型ECS实例上。","description":"调用该接口时，请注意：\n\n- 弹性网卡必须处于**可用**（`Available`）状态，一个弹性网卡只能同时附加到一台相同可用区且相同专有网络的实例上。\n\n- 实例需处于运行中（Running）或者已停止（Stopped）状态，部分实例规格的实例在附加弹性网卡时必须为已停止（Stopped）状态，更多信息，请参见[附加弹性网卡](~~58503~~)中的需要停止实例的ECS实例规格章节。\n\n    > 如果实例最后一次启动时间在2018年4月1日之前（包括但不限于启动新购的实例、重启、重开机），您必须提前调用RebootInstance重启一直保持运行中状态的实例，否则无法附加弹性网卡。\n\n- 一台实例可以同时附加多个弹性网卡，更多信息，请参见[弹性网卡概述](~~58496~~)。\n  \n- 弹性网卡所在的交换机必须与实例所在交换机属于同一可用区且同一专有网络VPC。   \n\n- 该接口为异步接口，调用成功后，您可以通过查询弹性网卡状态或监听网卡操作事件的方式来感知操作结果。 弹性网卡状态机如下图所示：\n![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/file-manage-files/zh-CN/20221124/esgu/AttachNetworkInterface.jpg)\n    - Attaching说明附加弹性网卡请求发送成功，弹性网卡正在附加到ECS实例中。\n    - InUse说明弹性网卡已附加到ECS实例。\n    - Available说明弹性网卡附加到ECS实例失败。   \n\n**调用示例详情参见**[附加弹性网卡](~~471550~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}