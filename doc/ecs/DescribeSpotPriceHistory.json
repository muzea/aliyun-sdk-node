{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"29294","abilityTreeNodes":["FEATUREecs2UXJI2"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"实例所属的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"实例所属的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"NetworkType","in":"query","schema":{"description":"抢占式实例网络类型。取值范围：\n\n- classic：表示抢占式实例的网络类型为经典网络。\n\n- vpc：表示抢占式实例的网络类型为专有网络。","type":"string","required":true,"example":"vpc"}},{"name":"InstanceType","in":"query","schema":{"description":"实例规格。","type":"string","required":true,"example":"ecs.t1.xsmall"}},{"name":"SpotDuration","in":"query","schema":{"description":"抢占式实例的保留时长，单位为小时。 默认值：1。取值范围：\n- 1：创建后阿里云会保证实例运行1小时不会被自动释放；超过1小时后，系统会自动比较出价与市场价格、检查资源库存，来决定实例的持有和回收。\n- 0：创建后，阿里云不保证实例运行1小时，系统会自动比较出价与市场价格、检查资源库存，来决定实例的持有和回收。\n\n实例回收前5分钟阿里云会通过ECS系统事件向您发送通知。抢占式实例按秒计费，建议您结合具体任务执行耗时来选择合适的保留时长。\n\n> 当SpotStrategy值为SpotWithPriceLimit或SpotAsPriceGo时该参数生效。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"IoOptimized","in":"query","schema":{"description":"是否为I/O优化实例。取值范围：\n\n- optimized：表示抢占式实例为I/O优化实例。\n\n- none：表示抢占式实例为非I/O优化实例。\n\n系列I实例默认值：none。\n\n其余实例规格族默认值：optimized。","type":"string","required":false,"example":"optimized"}},{"name":"StartTime","in":"query","schema":{"description":"查询抢占式实例历史价格的起始时间，最大值不得超过指定的结束时间30天。按照[ISO 8601](~~25696~~)标准表示，并使用UTC +0时间，格式为`yyyy-MM-ddTHH:mm:ssZ`。\n\n默认值：空，空代表结束时间前3小时。","type":"string","required":false,"example":"2017-08-22T08:45:08Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询抢占式实例历史价格的结束时间。按照[ISO 8601](~~25696~~)标准表示，并使用UTC +0时间，格式为`yyyy-MM-ddTHH:mm:ssZ`。\n\n默认值：空，空表示当前时间。","type":"string","required":false,"example":"2017-08-22T08:45:08Z"}},{"name":"OSType","in":"query","schema":{"description":"操作系统的发行平台类型。取值范围：\n\n- linux。\n- windows。","type":"string","required":false,"example":"linux"}},{"name":"Offset","in":"query","schema":{"description":"查询开始行。\n\n默认值：0。","type":"integer","format":"int32","required":false,"example":"0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"Currency":{"description":"价格的货币单位。\n\n中国站：CNY。\n\n国际站：USD。","type":"string","example":"CNY"},"NextOffset":{"description":"下一页开始行，查询下一页的数据。参数`Offset`的指定值为该值。","type":"integer","format":"int32","example":"1000"},"SpotPrices":{"type":"object","properties":{"SpotPriceType":{"description":"抢占价格详情。","type":"array","items":{"type":"object","properties":{"IoOptimized":{"description":"抢占式实例是否为I/O优化实例。","type":"string","example":"optimized"},"ZoneId":{"description":"抢占式实例所属的可用区ID。","type":"string","example":"cn-hangzhou-c"},"SpotPrice":{"description":"抢占式实例价格。","type":"number","format":"float","example":"0.036"},"Timestamp":{"description":"时间格式为`yyyy-MM-ddTHH:mm:ssZ`的价格时间。","type":"string","example":"2019-11-19T06:00:00Z"},"NetworkType":{"description":"抢占式实例的网络类型。","type":"string","example":"vpc"},"InstanceType":{"description":"抢占式实例的实例规格。","type":"string","example":"ecs.g5.large"},"OriginPrice":{"description":"按量付费实例部分原价。","type":"number","format":"float","example":"0.354"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"%s"},{"errorCode":"UnsupportedParameter","errorMessage":"%s"},{"errorCode":"InvalidParameter","errorMessage":"%s"},{"errorCode":"InvalidInstanceID.Malformed","errorMessage":"%s"},{"errorCode":"InvalidParams.StartTime","errorMessage":"%s"},{"errorCode":"InvalidParams.EndTime","errorMessage":"%s"},{"errorCode":"Abs.Abs.InvalidSpotInstanceUID","errorMessage":"%s"},{"errorCode":"InvalidParams.NetworkType","errorMessage":"%s"},{"errorCode":"InvalidParams.IoOptimized","errorMessage":"%s"},{"errorCode":"InvalidParams.OSType","errorMessage":"%s"},{"errorCode":"Abs.IoOptimized.ValueNotSupported","errorMessage":"%s"},{"errorCode":"InvalidZoneId.NotFound","errorMessage":"The specified zone does not exist."},{"errorCode":"InvalidParams.ZoneId","errorMessage":"%s"},{"errorCode":"InvalidParams.RegionId","errorMessage":"%s"},{"errorCode":"InvalidParams.InstanceType","errorMessage":"%s"},{"errorCode":"InvalidParams.PageSize","errorMessage":"%s"},{"errorCode":"InvalidParams.Offset","errorMessage":"%s"},{"errorCode":"InvalidInstanceType.ValueNotSupported","errorMessage":"%s"},{"errorCode":"DependencyViolation.IoOptimized","errorMessage":"The specified instancetype must be IoOptimized instance."},{"errorCode":"InvalidSpotDuration","errorMessage":"The specified SpotDuration is not valid."},{"errorCode":"OperationDenied.QueryFail","errorMessage":"Query spot price fail, please retry later."}],"403":[{"errorCode":"InvalidUserType.NotSupported","errorMessage":"%s"},{"errorCode":"Abs.InvalidAccount.NotFound","errorMessage":"%s"},{"errorCode":"Forbedden.NotSupportRAM","errorMessage":"%s"},{"errorCode":"Forbbiden.SubUser","errorMessage":"%s"},{"errorCode":"OperationDenied.RegionIdNotSupported","errorMessage":"region not support spot duration instance."},{"errorCode":"OperationDenied.FlavorNotSupported","errorMessage":"flavor not support spot duration instance."},{"errorCode":"OperationDenied.TimestampNotSupported","errorMessage":"timestamp not support spot duration instance."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"Currency\\\": \\\"CNY\\\",\\n  \\\"NextOffset\\\": 1000,\\n  \\\"SpotPrices\\\": {\\n    \\\"SpotPriceType\\\": [\\n      {\\n        \\\"IoOptimized\\\": \\\"optimized\\\",\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-c\\\",\\n        \\\"SpotPrice\\\": 0.036,\\n        \\\"Timestamp\\\": \\\"2019-11-19T06:00:00Z\\\",\\n        \\\"NetworkType\\\": \\\"vpc\\\",\\n        \\\"InstanceType\\\": \\\"ecs.g5.large\\\",\\n        \\\"OriginPrice\\\": 0.354\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"540CFF28-407A-40B5-B6A5-74Bxxxxxxxxx\\\", \\n    \\\"HostId\\\": \\\"ecs.aliyuncs.com\\\",\\n    \\\"Code\\\": \\\"IncompleteSignature\\\",\\n    \\\"Message\\\": \\\"The request signature does not conform to Aliyun standards.\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<DescribeSpotPriceHistoryResponse>\\n    <RequestId>5E2D59BA-4EB0-45C4-A0D7-D98C1A4B320B</RequestId>\\n    <SpotPrices>\\n        <SpotPriceType>\\n            <IoOptimized>optimized</IoOptimized>\\n            <OriginPrice>0.354</OriginPrice>\\n            <NetworkType>vpc</NetworkType>\\n            <ZoneId>cn-hangzhou-g</ZoneId>\\n            <Timestamp>2019-11-19T06:00:00Z</Timestamp>\\n            <SpotPrice>0.036</SpotPrice>\\n            <InstanceType>ecs.g5.large</InstanceType>\\n        </SpotPriceType>\\n        <SpotPriceType>\\n            <IoOptimized>optimized</IoOptimized>\\n            <OriginPrice>0.354</OriginPrice>\\n            <NetworkType>vpc</NetworkType>\\n            <ZoneId>cn-hangzhou-g</ZoneId>\\n            <Timestamp>2019-11-19T07:00:00Z</Timestamp>\\n            <SpotPrice>0.036</SpotPrice>\\n            <InstanceType>ecs.g5.large</InstanceType>\\n        </SpotPriceType>\\n    </SpotPrices>\\n    <Currency>CNY</Currency>\\n</DescribeSpotPriceHistoryResponse>\",\"errorExample\":\"<Error>\\n    <RequestId>540CFF28-407A-40B5-B6A5-74Bxxxxxxxxx</RequestId>\\n    <HostId>ecs.aliyuncs.com</HostId>\\n    <Code>IncompleteSignature</Code>\\n    <Message>The request signature does not conform to Aliyun standards.</Message>\\n</Error>\"}]","title":"查询抢占式实例近30天内的历史价格","summary":"调用DescribeSpotPriceHistory查询抢占式实例近30天内的历史价格。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}