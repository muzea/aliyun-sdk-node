{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Provider","in":"query","schema":{"description":"公共命令的提供者。参数值的具体说明如下：\n\n- 当该参数不传值时，默认查询您手动创建的所有云助手命令。\n- 当该参数取值为`AlibabaCloud`时，查询由阿里云提供的所有公共命令。\n- 当该参数的取值为具体的公共命令提供者时，查询该提供者提供的所有公共命令。例如：\n    - 当`Provider=AlibabaCloud.ECS.GuestOS`时，查询`AlibabaCloud.ECS.GuestOS`提供的公共命令。\n    - 当`Provider=AlibabaCloud.ECS.GuestOSDiagnose`时，查询`AlibabaCloud.ECS.GuestOSDiagnose`提供的公共命令。","type":"string","required":false,"example":"AlibabaCloud"}},{"name":"CommandId","in":"query","schema":{"description":"命令ID。","type":"string","required":false,"example":"c-hz01272yr52****"}},{"name":"Name","in":"query","schema":{"description":"命令的名称。\n\n- 当指定了`Provider`参数查询公共命令时，默认支持模糊查询。\n\n- 当未指定`Provider`参数查询私有命令时，支持前缀匹配的模糊查询，例如输入`command*`，可以搜索出所有名称以`command`开头的命令。","type":"string","required":false,"example":"testName"}},{"name":"Description","in":"query","schema":{"description":"命令的描述。\n\n- 当指定了`Provider`参数查询公共命令时，默认支持模糊查询。\n\n- 当未指定`Provider`参数查询私有命令时，支持前缀匹配的模糊查询，例如输入`test*`，可以搜索出所有描述以`test`开头的命令。","type":"string","required":false,"example":"testDescription"}},{"name":"Type","in":"query","schema":{"description":"命令的类型。取值范围： \n\n- RunBatScript：命令为在Windows实例中运行的Bat脚本。\n- RunPowerShellScript：命令为在Windows实例中运行的PowerShell脚本。\n- RunShellScript：命令为在Linux实例中运行的Shell脚本。","type":"string","required":false,"example":"RunShellScript"}},{"name":"ContentEncoding","in":"query","schema":{"description":"设置返回数据中`CommandContent`字段和`Output`字段的编码方式。取值范围：\n- PlainText：返回原始脚本内容和输出信息。\n- Base64：返回Base64编码后的脚本内容和输出信息。\n\n默认值为Base64。","type":"string","required":false,"example":"PlainText"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。\n\n起始值为1。\n\n默认值为1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页的最大条目数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","required":false,"example":"AAAAAdDWBF2"}},{"name":"Latest","in":"query","schema":{"description":"若查询结果包含公共命令，是否只查询最新版本的公共命令。该参数不影响私有命令的查询。\n\n- true：只查询最新版本的公共命令。\n\n- false：查询所有版本的公共命令。\n\n默认值：false。","type":"boolean","required":false,"example":"true"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"命令所属的资源组ID。","type":"string","required":false,"example":"rg-123******"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"命令的标签键。N的取值范围为1~20。一旦传入该值，则不允许为空字符串。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个；使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，您需要使用[ListTagResources](~~110425~~)接口进行查询。\n\n最多支持64个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"命令的标签值。N的取值范围为1~20。该值可以为空字符串。\n\n最多支持128个字符，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageSize":{"description":"每页行数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"PageNumber":{"description":"命令列表页码。","type":"integer","format":"int64","example":"1"},"TotalCount":{"description":"命令总个数。","type":"integer","format":"int64","example":"5"},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF2"},"Commands":{"type":"object","properties":{"Command":{"description":"命令数据集类型。","type":"array","items":{"description":"命令创建时间。","type":"object","properties":{"CreationTime":{"description":"命令创建时间。","type":"string","example":"2020-11-17T06:52Z"},"Type":{"description":"命令类型。","type":"string","example":"RunShellScript"},"Timeout":{"description":"超时时间，单位：秒。","type":"integer","format":"int64","example":"3600"},"InvokeTimes":{"description":"使用该命令创建的任务数。","type":"integer","format":"int32","example":"2"},"CommandId":{"description":"命令ID。","type":"string","example":"c-hz01272yr52****"},"WorkingDir":{"description":"执行路径。","type":"string","example":"/home/"},"Description":{"description":"命令描述。","type":"string","example":"testDescription"},"Version":{"description":"公共命令的版本。如果多个命令属于同一个`Provider`，且名称与类目相同，则这些命令属于同一个命令的不同版本。您手动创建的云助手命令不会返回该值。","type":"integer","format":"int32","example":"1"},"Provider":{"description":"公共命令的提供者。","type":"string","example":"AlibabaCloud.ECS.GuestOS"},"CommandContent":{"description":"命令内容，以Base64编码后传输。\n\n- 若ContentEncoding指定PlainText，返回原始脚本内容。\n\n- 若ContentEncoding指定Base64，返回Base64编码后的脚本内容。","type":"string","example":"Y2QgL3Jvb3Q="},"Category":{"description":"公共命令的类目。","type":"string","example":"“”"},"Latest":{"description":"公共命令是否是最新版本。如果多个命令属于同一个`Provider`，且名称与类目相同，则这些命令属于同一个命令的不同版本。您手动创建的云助手命令不会返回该值。","type":"boolean","example":"true"},"Name":{"description":"命令名称。","type":"string","example":"testName"},"EnableParameter":{"description":"该命令是否启用自定义参数。\n","type":"boolean","example":"true"},"ResourceGroupId":{"description":"命令所属的资源组ID。","type":"string","example":"rg-123******"},"ParameterNames":{"type":"object","properties":{"ParameterName":{"description":"通过创建命令时的commandcontent解析出的自定义参数名列表，以列表（list）的形式返回。如未使用自定义参数功能，则返回空值列表。","type":"array","items":{"description":"通过创建命令时的CommandContent解析出的自定义参数名列表，以列表（List）的形式返回。如未使用自定义参数功能，则返回空值列表。","type":"string","example":"['parameter1','parameter2']"}}}},"ParameterDefinitions":{"type":"object","properties":{"ParameterDefinition":{"description":"自定义参数详细信息列表。","type":"array","items":{"description":"自定义参数详细信息列表。","type":"object","properties":{"Required":{"description":"该自定义参数是否必填。\n\n- true：是。\n\n- false：否。\n\n默认值：false。","type":"boolean","example":"true"},"Description":{"description":"自定义参数描述。","type":"string","example":"云助手Agent安装包路径"},"DefaultValue":{"description":"自定义参数的默认值。","type":"string","example":"https://aliyun-client-assist.oss-accelerate.aliyuncs.com/linux/aliyun_assist_latest.rpm"},"ParameterName":{"description":"自定义参数名称。","type":"string","example":"DownloadUrl"},"PossibleValues":{"type":"object","properties":{"PossibleValue":{"description":"枚举类型自定义参数的可选值。","type":"array","items":{"description":"枚举类型自定义参数的可选值。","type":"string","example":"\"Linux\",\"Windows\""}}}}}}}}},"Tags":{"type":"object","properties":{"Tag":{"description":"命令的标签信息。","type":"array","items":{"description":"命令的标签信息。","type":"object","properties":{"TagKey":{"description":"命令的标签键。","type":"string","example":"owner"},"TagValue":{"description":"命令的标签值。","type":"string","example":"zhangsan"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"RegionId.ApiNotSupported","errorMessage":"The api is not supported in this region."},{"errorCode":"NumberExceed.Tags","errorMessage":"The Tags parameter number is exceed."},{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contain duplicate key."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"MissingParameter.TagKey","errorMessage":"You must specify Tag.N.Key."},{"errorCode":"InvalidParam.PageNumber","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParam.PageSize","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The specified parameter NextToken is not valid."},{"errorCode":"InvalidParameter.MaxResults","errorMessage":"The specified parameter MaxResults is not valid."}],"403":[{"errorCode":"Operation.Forbidden","errorMessage":"The operation is not permitted."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."}],"500":[{"errorCode":"InternalError.Dispatch","errorMessage":"An error occurred when you dispatched the request."},{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"TotalCount\\\": 5,\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF2\\\",\\n  \\\"Commands\\\": {\\n    \\\"Command\\\": [\\n      {\\n        \\\"CreationTime\\\": \\\"2020-11-17T06:52Z\\\",\\n        \\\"Type\\\": \\\"RunShellScript\\\",\\n        \\\"Timeout\\\": 3600,\\n        \\\"InvokeTimes\\\": 2,\\n        \\\"CommandId\\\": \\\"c-hz01272yr52****\\\",\\n        \\\"WorkingDir\\\": \\\"/home/\\\",\\n        \\\"Description\\\": \\\"testDescription\\\",\\n        \\\"Version\\\": 1,\\n        \\\"Provider\\\": \\\"AlibabaCloud.ECS.GuestOS\\\",\\n        \\\"CommandContent\\\": \\\"Y2QgL3Jvb3Q=\\\",\\n        \\\"Category\\\": \\\"“”\\\",\\n        \\\"Latest\\\": true,\\n        \\\"Name\\\": \\\"testName\\\",\\n        \\\"EnableParameter\\\": true,\\n        \\\"ResourceGroupId\\\": \\\"rg-123******\\\",\\n        \\\"ParameterNames\\\": {\\n          \\\"ParameterName\\\": [\\n            \\\"['parameter1','parameter2']\\\"\\n          ]\\n        },\\n        \\\"ParameterDefinitions\\\": {\\n          \\\"ParameterDefinition\\\": [\\n            {\\n              \\\"Required\\\": true,\\n              \\\"Description\\\": \\\"云助手Agent安装包路径\\\",\\n              \\\"DefaultValue\\\": \\\"https://aliyun-client-assist.oss-accelerate.aliyuncs.com/linux/aliyun_assist_latest.rpm\\\",\\n              \\\"ParameterName\\\": \\\"DownloadUrl\\\",\\n              \\\"PossibleValues\\\": {\\n                \\\"PossibleValue\\\": [\\n                  \\\"\\\\\\\"Linux\\\\\\\",\\\\\\\"Windows\\\\\\\"\\\"\\n                ]\\n              }\\n            }\\n          ]\\n        },\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"TagKey\\\": \\\"owner\\\",\\n              \\\"TagValue\\\": \\\"zhangsan\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeCommandsResponse>\\n    <PageSize>10</PageSize>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>\\n    <PageNumber>1</PageNumber>\\n    <TotalCount>5</TotalCount>\\n    <Commands>\\n        <CreationTime>2020-11-17T06:52Z</CreationTime>\\n        <Type>RunShellScript</Type>\\n        <Timeout>3600</Timeout>\\n        <InvokeTimes>2</InvokeTimes>\\n        <CommandId>c-hz01272yr52****</CommandId>\\n        <WorkingDir>/home/</WorkingDir>\\n        <Description>testDescription</Description>\\n        <Version>1</Version>\\n        <Provider>AlibabaCloud.ECS.GuestOS</Provider>\\n        <CommandContent>Y2QgL3Jvb3Q=</CommandContent>\\n        <Category>“”</Category>\\n        <Latest>true</Latest>\\n        <Name>testName</Name>\\n        <EnableParameter>true</EnableParameter>\\n        <ParameterNames>['parameter1','parameter2']</ParameterNames>\\n        <ParameterDefinitions>\\n            <Required>true</Required>\\n            <Description>云助手Agent安装包路径</Description>\\n            <DefaultValue>https://aliyun-client-assist.oss-accelerate.aliyuncs.com/linux/aliyun_assist_latest.rpm</DefaultValue>\\n            <ParameterName>DownloadUrl</ParameterName>\\n            <PossibleValues>\\\"Linux\\\",\\\"Windows\\\"</PossibleValues>\\n        </ParameterDefinitions>\\n        <Tags>\\n            <TagKey>owner</TagKey>\\n            <TagValue>zhangsan</TagValue>\\n        </Tags>\\n    </Commands>\\n</DescribeCommandsResponse>\",\"errorExample\":\"\"}]","title":"查询已创建的云助手命令","summary":"调用DescribeCommands查询您手动创建的云助手命令或者阿里云提供的公共命令。","description":"## 接口说明\n\n- 只输入参数`Action`和`RegionId`，不输入其他任何请求参数，则默认查询您手动创建的所有可用的命令（`CommandId`）。\n\n- 支持以下两种方式查看返回数据：\n    - 方式一：分页查询首页时，仅需设置`MaxResults`以限制返回信息的条目数，返回结果中的`NextToken`将作为查询后续页的凭证。查询后续页时，将`NextToken`参数设置为上一次返回结果中获取到的`NextToken`作为查询凭证，并设置`MaxResults`限制返回条目数。\n    - 方式二：通过`PageSize`设置单页返回的条目数，再通过`PageNumber`设置页码。以上两种方式只能任选其中之一。如果设置了`MaxResults`或`NextToken`参数，则请求参数`PageSize`和`PageNumber`将失效，且返回数据中的`TotalCount`无效。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}