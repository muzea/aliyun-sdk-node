{"summary":"调用ModifySecurityGroupRule修改入方向安全组规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29310","abilityTreeNodes":["FEATUREecsN1X6QX"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目标安全组所属地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。 ","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"目标安全组所属地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。 ","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000 "}},{"name":"SecurityGroupId","in":"query","schema":{"description":"安全组ID。","type":"string","required":true,"example":"sg-bp67acfmxazb4p****"}},{"name":"SecurityGroupRuleId","in":"query","schema":{"description":"安全组规则ID。   \n根据安全组规则ID修改规则时，该参数必填。","type":"string","required":false,"example":"sgr-bp67acfmxa123b***"}},{"name":"Policy","in":"query","schema":{"description":"访问权限。取值范围： \n         \n- accept：接受访问。\n- drop：拒绝访问，不返回拒绝信息。\n\n默认值：accept。","type":"string","required":false,"example":"accept","default":"accept"}},{"name":"Priority","in":"query","schema":{"description":"安全组规则优先级。取值范围：1~100。\n\n默认值：1。","type":"string","required":false,"example":"1","pattern":"^\\d+$","default":"1"}},{"name":"IpProtocol","in":"query","schema":{"description":"传输层协议。不区分大小写。取值范围： \n         \n- ICMP\n- GRE\n- TCP\n- UDP\n- ALL：支持所有协议。","type":"string","required":false,"example":"ALL"}},{"name":"SourceCidrIp","in":"query","schema":{"description":"设置访问权限的源端IPv4 CIDR地址块。支持CIDR格式和IPv4格式的IP地址范围。\n\n默认值：无。","type":"string","required":false,"example":"10.0.0.0/8"}},{"name":"Ipv6SourceCidrIp","in":"query","schema":{"description":"设置访问权限的源端IPv6 CIDR地址块。支持CIDR格式和IPv6格式的IP地址范围。\n\n> 仅支持VPC类型的IP地址，且该参数与`SourceCidrIp`参数不可同时设置。\n\n默认值：无。","type":"string","required":false,"example":"2001:db8:1233:1a00::***"}},{"name":"SourceGroupId","in":"query","schema":{"description":"设置访问权限的源端安全组ID。至少设置一项`SourceGroupId`或者`SourceCidrIp`参数。\n\n- 如果指定了`SourceGroupId`没有指定参数`SourceCidrIp`，则参数`NicType`取值只能为intranet。\n- 如果同时指定了`SourceGroupId`和`SourceCidrIp`，则默认以`SourceCidrIp`为准。","type":"string","required":false,"example":"sg-bp67acfmxa123b****"}},{"name":"SourcePrefixListId","in":"query","schema":{"description":"设置访问权限的源端前缀列表ID。您可以调用[DescribePrefixLists](~~205046~~)查询可以使用的前缀列表ID。\n\n当您指定了`SourceCidrIp`、`Ipv6SourceCidrIp`或`SourceGroupId`参数中的一个时，将忽略该参数。","type":"string","required":false,"example":"pl-x1j1k5ykzqlixdcy****"}},{"name":"PortRange","in":"query","schema":{"description":"目的端安全组开放的传输层协议相关的端口范围。取值范围： \n         \n- TCP/UDP协议：取值范围为1~65535。使用斜线（/）隔开起始端口和终止端口。例如：1/200。\n- ICMP协议：-1/-1。\n- GRE协议：-1/-1。\n- ALL：-1/-1。","type":"string","required":false,"example":"80/80"}},{"name":"DestCidrIp","in":"query","schema":{"description":"目的端IPv4 CIDR地址块。支持CIDR格式和IPv4格式的IP地址范围。\n\n默认值：无。","type":"string","required":false,"example":"10.0.0.0/8"}},{"name":"Ipv6DestCidrIp","in":"query","schema":{"description":"目的端IPv6 CIDR地址段。支持CIDR格式和IPv6格式的IP地址范围。\n\n>仅支持VPC类型的IP地址，且该参数与`DestCidrIp`参数不可同时设置。\n\n默认值：无。","type":"string","required":false,"example":"2001:db8:1234:1a00::***"}},{"name":"SourcePortRange","in":"query","schema":{"description":"源端安全组开放的传输层协议相关的端口范围。取值范围： \n         \n- TCP/UDP协议：取值范围为1~65535。使用斜线（/）隔开起始端口和终止端口。例如：1/200\n- ICMP协议：-1/-1。\n- GRE协议：-1/-1。\n- ALL：-1/-1。","type":"string","required":false,"example":"80/80"}},{"name":"SourceGroupOwnerAccount","in":"query","schema":{"description":"跨账户设置安全组规则时，源端安全组所属的阿里云账户。 \n         \n- 如果`SourceGroupOwnerAccount`及`SourceGroupOwnerID`均未设置，则认为是设置您其他安全组的访问权限。\n- 如果已经设置参数`SourceCidrIp`，则参数`SourceGroupOwnerAccount`无效。","type":"string","required":false,"example":"EcsforCloud@Alibaba.com"}},{"name":"SourceGroupOwnerId","in":"query","schema":{"description":"跨账户设置安全组规则时，源端安全组所属的阿里云账户。 \n         \n- 如果`SourceGroupOwnerId`及`SourceGroupOwnerAccount`均未设置，则认为是设置您其他安全组的访问权限。\n- 如果您已经设置参数`SourceCidrIp`，则参数`SourceGroupOwnerId`无效。","type":"integer","format":"int64","required":false,"example":"12345678910"}},{"name":"NicType","in":"query","schema":{"description":"根据安全组规则ID修改规则时，不支持修改该参数。   \n如果需要修改，建议先增加一条新规则，再删除当前规则。\n","type":"string","required":false,"example":"intranet"}},{"name":"Description","in":"query","schema":{"description":"安全组规则的描述信息。长度为1~512个字符。","type":"string","required":false,"example":"This is a new security group rule."}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"OperationDenied","errorMessage":"The specified IpProtocol does not exist or IpProtocol and PortRange do not match."},{"errorCode":"InvalidIpProtocol.Malformed","errorMessage":"The specified parameter PortRange is not valid."},{"errorCode":"InvalidSourceCidrIp.Malformed","errorMessage":"The specified parameter SourceCidrIp is not valid."},{"errorCode":"InvalidPolicy.Malformed","errorMessage":"The specified parameter Policy is not valid."},{"errorCode":"InvalidNicType.ValueNotSupported","errorMessage":"The specified NicType does not exist."},{"errorCode":"InvalidNicType.Mismatch","errorMessage":"The specified NicType conflicts with the authorization record."},{"errorCode":"InvalidSourceGroupId.Mismatch","errorMessage":"Specified security group and source group are not in the same VPC."},{"errorCode":"InvalidSourceGroup.NotFound","errorMessage":"Specified source security group does not exist."},{"errorCode":"InvalidPriority.Malformed","errorMessage":"The parameter Priority is invalid."},{"errorCode":"InvalidPriority.ValueNotSupported","errorMessage":"The parameter Priority is invalid."},{"errorCode":"InvalidSecurityGroupDiscription.Malformed","errorMessage":"The specified security group rule description is not valid."},{"errorCode":"MissingParameter.Source","errorMessage":"One of the parameters SourceCidrIp, SourceGroupId or SourcePrefixListId must be specified."},{"errorCode":"InvalidParam.PortRange","errorMessage":"The specified parameter %s is not valid. It should be two integers less than 65535 in ?/? format."},{"errorCode":"InvalidIpProtocol.ValueNotSupported","errorMessage":"The parameter IpProtocol must be specified with case insensitive TCP, UDP, ICMP, GRE or All."},{"errorCode":"InvalidParam.SourceIp","errorMessage":"The Parameters SourceCidrIp and Ipv6SourceCidrIp in %s cannot be set at the same time."},{"errorCode":"InvalidParam.DestIp","errorMessage":"The Parameters DestCidrIp and Ipv6DestCidrIp in %s cannot be set at the same time."},{"errorCode":"InvalidParam.Ipv6DestCidrIp","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"InvalidParam.Ipv6SourceCidrIp","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"InvalidParam.Ipv4ProtocolConflictWithIpv6Address","errorMessage":"IPv6 address cannot be specified for IPv4-specific protocol."},{"errorCode":"InvalidParam.Ipv6ProtocolConflictWithIpv4Address","errorMessage":"IPv4 address cannot be specified for IPv6-specific protocol."},{"errorCode":"InvalidParameter.Ipv6CidrIp","errorMessage":"The specified Ipv6CidrIp is not valid."},{"errorCode":"InvalidParam.DestCidrIp","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"InvalidSourcePortRange.Malformed","errorMessage":"The specified parameter SourcePortRange is not valid."},{"errorCode":"InvalidSecurityGroupId.Malformed","errorMessage":"The specified parameter SecurityGroupId is not valid."},{"errorCode":"InvalidParam.SourceCidrIp","errorMessage":"The specified param SourceCidrIp is not valid."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"IPv6 and IPv4 addresses cannot exist at the same time."},{"errorCode":"InvalidParam.SecurityGroupRuleId","errorMessage":"The specified parameter SecurityGroupRuleId is not valid."},{"errorCode":"InvalidOperation.ModifySgRuleEntityType","errorMessage":"The source or destination type of the rules cannot be modified."},{"errorCode":"AuthorizationLimitExceed","errorMessage":"The limit of authorization records in the security group reaches."},{"errorCode":"InvalidParam.ProtocolAndPortRangeMismatch","errorMessage":"The specified Protocol and PortRange do not match."},{"errorCode":"InvalidParam.ProtocolAndAddressFamilyMismatch","errorMessage":"The specified Protocol and address family do not match."},{"errorCode":"InvalidParam.PrefixListAddressFamilyMismatch","errorMessage":"The address family of the prefix list does not match the rule."},{"errorCode":"InvalidParam.InvalidModifyRuleRequest","errorMessage":"The request parameters are illegal."},{"errorCode":"InvalidOperation.ModifyNicType","errorMessage":"NicType is not allowed to modify."},{"errorCode":"InvalidParamter.Conflict","errorMessage":"The specified SourceCidrIp should be different from the DestCidrIp."},{"errorCode":"InvalidOperation.RuleDuplicate","errorMessage":"%s."}],"403":[{"errorCode":"InvalidSourceGroupId.Mismatch","errorMessage":"NicType is required or NicType expects intrnet."},{"errorCode":"MissingParameter","errorMessage":"The input parameter SourceGroupId or SourceCidrIp cannot be both blank."},{"errorCode":"AuthorizationLimitExceed","errorMessage":"The limit of authorization records in the security group reaches."},{"errorCode":"InvalidParamter.Conflict","errorMessage":"The specified SecurityGroupId should be different from the SourceGroupId."},{"errorCode":"InvalidNetworkType.Mismatch","errorMessage":"The specified SecurityGroup network type should be same with SourceGroup network type (vpc or classic)."},{"errorCode":"InvalidOperation.ResourceManagedByCloudProduct","errorMessage":"%s"}],"404":[{"errorCode":"InvalidSecurityGroupId.NotFound","errorMessage":"The specified SecurityGroupId does not exist."},{"errorCode":"InvalidSourceGroupId.NotFound","errorMessage":"The SourceGroupId provided does not exist in our records."},{"errorCode":"SecurityGroupRule.NotFound","errorMessage":"The target security group rule not exist."},{"errorCode":"InvalidPrefixListId.NotFound","errorMessage":"The specified prefix list was not found."},{"errorCode":"InvalidSecurityGroupRuleId.NotFound","errorMessage":"The specified SecurityGroupRuleId is not exists."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\":\\\"CEF72CEB-54B6-4AE8-B225-F876FF7BA984\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<ModifySecurityGroupRuleResponse>\\n    <RequestId>CEF72CEB-54B6-4AE8-B225-F876FF7BA984</RequestId>\\n</ModifySecurityGroupRuleResponse>\",\"errorExample\":\"<ModifySecurityGroupRuleResponse>\\n    <RequestId>CEF72CEB-54B6-4AE8-B225-F876FF7BA984</RequestId>\\n</ModifySecurityGroupRuleResponse>\"}]","title":"修改安全组入方向规则","description":"## 接口说明\n\n安全组相关的API文档中，入方向流量的发起端为源端（Source），数据传输的接收端为目的端（Dest）。\n\n在您指定安全组规则ID修改安全组规则时，您需要注意以下使用限制：\n\n- 安全组规则的授权对象分为CIDR地址块（或IP地址）、安全组、前缀列表三种类型。您不能通过该接口修改已有安全组规则的授权对象类型。如原来授权对象类型为IP地址，您可以更改为另一个IP地址或CIDR地址块，但不能修改为安全组或前缀列表。\n- 安全组规则授权对象的IP地址族不支持修改。如原安全组规则授权对象CIDR地址块为IPv4，您不能将其修改为IPv6的CIDR地址块。又如规则的授权对象为一个IPv4地址族的前缀列表，您不能将其修改为一个IPv6地址族的前缀列表。\n- 修改后的安全组规则不能与已有其它规则相同。\n- 字段不支持从非空修改为空，如果需要修改建议先增加一条新规则，再删除当前规则。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}