{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29076","abilityTreeNodes":["FEATUREecsGR65E9"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"需要修改网络配置的实例ID。","type":"string","required":true,"docRequired":true,"example":"i-bp67acfmxazb4****"}},{"name":"InternetMaxBandwidthOut","in":"query","schema":{"description":"公网出带宽最大值，单位：Mbit/s（Megabit per second）。取值范围：0~100。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"InternetMaxBandwidthIn","in":"query","schema":{"description":"设置公网入带宽最大值，单位：Mbit/s（Megabit per second）。取值范围：\n\n- 当所购公网出带宽小于等于10 Mbit/s时：1~10，默认为10。\n- 当所购公网出带宽大于10 Mbit/s时：1~`InternetMaxBandwidthOut`的取值，默认为`InternetMaxBandwidthOut`的取值。","type":"integer","format":"int32","required":false,"maximum":"200","minimum":"1","example":"10"}},{"name":"ISP","in":"query","schema":{"description":"> 该参数正在邀测中，暂未开放使用。","type":"string","required":false,"example":"null"}},{"name":"NetworkChargeType","in":"query","schema":{"description":"转换网络计费方式。取值范围：\n\n- PayByBandwidth：按固定带宽计费。\n- PayByTraffic：按使用流量计费。\n\n> **按使用流量计费**模式下的出入带宽峰值都是带宽上限，不作为业务承诺指标。当出现资源争抢时，带宽峰值可能会受到限制。如果您的业务需要有带宽的保障，请使用**按固定带宽计费**模式。\n\n","type":"string","required":false,"example":"PayByTraffic"}},{"name":"AllocatePublicIp","in":"query","schema":{"description":"是否分配公网IP地址。\n\n默认值：false","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"StartTime","in":"query","schema":{"description":"临时带宽升级开始时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC+0时间，格式为yyyy-MM-ddThh:mmZ。精确到**分钟**（mm）。","type":"string","required":false,"example":"2017-12-05T22:40Z"}},{"name":"EndTime","in":"query","schema":{"description":"临时带宽升级结束时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC+0时间，格式为yyyy-MM-ddThhZ。精确到**小时**（hh）。\n\n> 临时升级带宽的结束时间和开始时间的间隔必须大于或等于3小时。","type":"string","required":false,"example":"2017-12-06T22Z"}},{"name":"AutoPay","in":"query","schema":{"description":"是否自动支付。取值范围： \n\n- true：变更带宽配置后，自动扣费。当您将参数Autopay置为true时，您需要确保账户余额充足，如果账户余额不足会生成异常订单，此订单暂时不支持通过ECS控制台支付，只能作废。  \n\n<props=\"china\">\n- false：变更带宽配置后，只生成订单不扣费。如果您的支付方式余额不足，可以将参数Autopay置为false，即取消自动支付，此时调用该接口会生成正常的未支付订单，此订单可登录[ECS管理控制台](https://ecs.console.aliyun.com)支付。\n\n</props>\n\n<props=\"intl\">\n- false：变更带宽配置后，只生成订单不扣费。如果您的支付方式余额不足，可以将参数Autopay置为false，即取消自动支付，此时调用该接口会生成正常的未支付订单，此订单可登录[ECS管理控制台](https://ecs.console.aliyun.com)支付。\n\n</props>\n\n默认值：true","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。更多详情，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}}],"responses":{"200":{"schema":{"type":"object","properties":{"OrderId":{"description":"生成的订单ID。","type":"string","example":"123457890"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidInternetMaxBandwidthIn.ValueNotSupported","errorMessage":"The specified InternetMaxBandwidthIn is beyond the permitted range."},{"errorCode":"InvalidInternetMaxBandwidthOut.ValueNotSupported","errorMessage":"The specified InternetMaxBandwidthOut is beyond the permitted range."},{"errorCode":"OperationDenied","errorMessage":"Specified instance is in VPC."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"%s"},{"errorCode":"InvalidStartTime.ValueNotSupported","errorMessage":"The specified StartTime is out of the permitted range."},{"errorCode":"InvalidEndTime.ValueNotSupported","errorMessage":"The specified EndTime is out of the permitted range."},{"errorCode":"ChargeTypeViolation","errorMessage":"The operation is not permitted due to billing method of the instance."},{"errorCode":"Account.Arrearage","errorMessage":"Your account has an outstanding payment."},{"errorCode":"InvalidInternetChargeType.ValueNotSupported","errorMessage":"The specified InternetChargeType is invalid."},{"errorCode":"DecreasedBandwidthNotAllowed","errorMessage":"%s"},{"errorCode":"BandwidthUpgradeDenied.EipBoundInstance","errorMessage":"The specified VPC instance has bound EIP, temporary bandwidth upgrade is denied."},{"errorCode":"InvalidClientToken.ValueNotSupported","errorMessage":"The ClientToken provided is invalid."},{"errorCode":"Throttling","errorMessage":"Request was denied due to request throttling, please try again after 5 minutes."},{"errorCode":"InvalidInstanceStatus.NotStopped","errorMessage":"The specified Instance status is not Stopped."},{"errorCode":"InvalidAction","errorMessage":"Specified action is not valid."},{"errorCode":"IpAllocationError","errorMessage":"Allocate public ip failed."},{"errorCode":"InvalidParam.AllocatePublicIp","errorMessage":"The specified param AllocatePublicIp is invalid."},{"errorCode":"InstanceDowngrade.QuotaExceed","errorMessage":"Quota of instance downgrade is exceed."},{"errorCode":"InvalidBandwidth.ValueNotSupported","errorMessage":"Instance upgrade bandwidth of temporary not allow less then existed."},{"errorCode":"InvalidInstanceStatus","errorMessage":"The specified instance status does not support this action."},{"errorCode":"InvalidInstance.UnPaidOrder","errorMessage":"Unpaid order exists in your account, please complete or cancel the payment in the expense center."},{"errorCode":"LastOrderProcessing","errorMessage":"The previous order is still processing, please try again later."},{"errorCode":"LastRequestProcessing","errorMessage":"The previous request is still processing, please try again later."},{"errorCode":"InvalidStartTime.BeyondLifeCycle","errorMessage":"The specified start time exceeds the expiration time."},{"errorCode":"InvalidEndTime.BeyondLifeCycle","errorMessage":"The specified end time exceeds the expiration time."},{"errorCode":"InvalidPayMethod.SyncPaymentNotSupport","errorMessage":"Synchronous payment is not supported. Use another payment method."},{"errorCode":"InvalidBandwidthOut.LessThanZero","errorMessage":"The bandwidth must be larger than 0 when specifying isp."},{"errorCode":"InvalidParameter.BandwidthBiggerThanBaseBandwidth","errorMessage":"%s"},{"errorCode":"InvalidAction.WithActiveElasticUpgrade","errorMessage":"The instance has active Elastic Upgrade."},{"errorCode":"InvalidParameter.CloudboxNotSupported","errorMessage":"%s"},{"errorCode":"InvalidParameter.Bandwidth","errorMessage":"%s"},{"errorCode":"NoPermission.Price","errorMessage":"The operation requires price permission. Please either apply for permission from your main account, or set the parameter AutoPay as true."},{"errorCode":"NoPermission.Refund","errorMessage":"The operation requires refund permission. Please apply for permission from your main account."},{"errorCode":"InvalidParameter.DedicatedRegionNotSupported","errorMessage":"The specified action is rejected  because the specified ECS instance in the dedicated region does not support public IP."},{"errorCode":"InvalidOperation.InstanceStatusUnsupported","errorMessage":"The specified instance status is not supported for this operation, expect status is Running or Stopped."}],"403":[{"errorCode":"IncorrectInstanceStatus","errorMessage":"The current status of the instance does not support this operation."},{"errorCode":"InstanceLockedForSecurity","errorMessage":"The specified operation is denied as your instance is locked for security reasons."},{"errorCode":"InstanceExpiredOrInArrears","errorMessage":"The specified operation is denied as your prepay instance is expired (prepay mode) or in arrears (afterpay mode)."},{"errorCode":"ChargeTypeViolation","errorMessage":"The operation is not permitted due to billing method of the instance."},{"errorCode":"OperationDenied","errorMessage":"The operation is denied due to the instance is PrePaid."},{"errorCode":"InvalidAccountStatus.NotEnoughBalance","errorMessage":"Your account does not have enough balance."},{"errorCode":"InvalidInstance.UnPaidOrder","errorMessage":"The specified Instance has unpaid order."},{"errorCode":"Throttling","errorMessage":"Request was denied due to request throttling, please try again after 5 minutes."},{"errorCode":"InvalidInstance.InstanceNotSupported","errorMessage":"The special vpc instance with eip not need bandwidth."},{"errorCode":"InstanceDowngrade.QuotaExceed","errorMessage":"Quota of instance downgrade is exceed."},{"errorCode":"InvalidInstanceStatus","errorMessage":"The current status of the instance does not support this operation."},{"errorCode":"InvalidOperation.StarterPackage","errorMessage":"StarterPackage not support modification."},{"errorCode":"NAT_PUBLIC_IP_BINDING_FAILED","errorMessage":"Binding nat public ip failed."},{"errorCode":"InvalidInstance.EipNotSupport","errorMessage":"The specified instance with eip is not supported, please unassociate eip first."},{"errorCode":"InvalidInstance.NatPortMapNotSupport","errorMessage":"The special instance with nat port map not support operate, please remove nat port map first."},{"errorCode":"OperationDenied.UnpaidOrder","errorMessage":"The specified instance has unpaid order."},{"errorCode":"Mayi.InternalError","errorMessage":"The request processing has failed due to some unknown error."},{"errorCode":"InvalidNetworkType.ValueNotSupported","errorMessage":"The specified parameter NetworkType is not valid."},{"errorCode":"OperationDenied.ImageNotValid","errorMessage":"The specified image is not authorized."},{"errorCode":"InvalidInstanceChargeType.ValueNotSupported","errorMessage":"The specified parameter ChargeType is not valid."},{"errorCode":"InvalidIspType.ValueNotSupported","errorMessage":"%s"},{"errorCode":"UnsupportedIspChargeType","errorMessage":"%s"},{"errorCode":"UnsupportedIspClassicNetwork","errorMessage":"%s"},{"errorCode":"UnsupportedIspNetworkChargeType","errorMessage":"%s"},{"errorCode":"InvalidIspBandwidthOut","errorMessage":"%s"},{"errorCode":"UnsupportedChangeIsp","errorMessage":"%s"},{"errorCode":"InvalidIspUID","errorMessage":"%s"},{"errorCode":"UnsupportedIspRegion","errorMessage":"%s"},{"errorCode":"BandIncreaseNotSupportIsp","errorMessage":"%s"},{"errorCode":"SecurityRisk.3DVerification","errorMessage":"We have detected a security risk with your default credit or debit card. Please proceed with verification via the link in your email."},{"errorCode":"InvalidOperation.PublicIpAddressNoStock","errorMessage":"The public IP address for the specified Region or ChargeType of the instance is out of stock. Please try another Region or ChargeType."}],"404":[{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified InstanceId does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"OrderId\\\": \\\"123457890\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyInstanceNetworkSpecResponse>\\n    <RequestId>04F0F334-1335-436C-A1D7-6C044FE73368</RequestId>\\n    <OrderId>123457890</OrderId>\\n</ModifyInstanceNetworkSpecResponse>\",\"errorExample\":\"\"}]","title":"修改ECS实例的带宽配置","summary":"调用ModifyInstanceNetworkSpec修改ECS实例的带宽配置。当实例现有网络规格不满足要求时，可以通过修改实例的带宽配置提高网络性能。","description":"调用该接口时，您需要注意：\n\n- 自2020年11月27日起，创建和变配ECS实例时带宽峰值受账户限速策略影响。如需更大带宽峰值，请提交工单。具体限速策略如下：\n    - 单个地域下，所有按使用流量计费ECS实例的实际运行带宽峰值总和不大于5 Gbit/s。\n    - 单个地域下，所有按固定带宽计费ECS实例的实际运行带宽峰值总和不大于50 Gbit/s。\n\n-  修改包年包月（PrePaid）实例的带宽配置时，公网出带宽（InternetMaxBandwidthOut）从0 Mbit/s升级到一个非零值时会自动分配一个公网IP。\n\n-  修改按量付费（PostPaid）实例的带宽配置时，公网出带宽（InternetMaxBandwidthOut）从0 Mbit/s升级到一个非零值时不会自动分配公网IP。您需要调用[AllocatePublicIpAddress](~~25544~~)为实例分配公网IP。\n\n-  对于经典网络（Classic）类型实例，当公网出带宽（InternetMaxBandwidthOut）从0 Mbit/s升级到一个非零值时，实例必须处于已停止（Stopped）状态。\n  \n- 升级带宽后，默认自动扣费。您需要确保支付方式余额充足，否则会生成异常订单，此时只能作废订单。如果您的账户余额不足，可以将参数AutoPay置为false，此时会生成正常的未支付订单，您可以登录ECS管理控制台支付。\n\n-  修改带宽配置前后的价格差退款会退还到您的原付费方式中，已使用的代金券不退回。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}