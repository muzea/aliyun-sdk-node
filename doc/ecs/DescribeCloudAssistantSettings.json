{"summary":"查询云助手服务配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"list","abilityTreeCode":"213731","abilityTreeNodes":["FEATUREecsXZ3H4M"]},"parameters":[{"name":"SettingType","in":"query","style":"repeatList","schema":{"description":"待查询的服务配置列表。","type":"array","items":{"description":"待查询的服务配置类型。当前取值范围：\n- SessionManagerDelivery：会话操作记录投递。\n- InvocationDelivery：任务执行记录投递。\n- AgentUpgradeConfig：云助手Agent升级配置。","type":"string","required":false,"example":"SessionManagerDelivery"},"required":true,"maxItems":100}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"OssDeliveryConfigs":{"type":"object","properties":{"OssDeliveryConfig":{"description":"OSS投递配置列表。","type":"array","items":{"description":"OSS投递配置信息。","type":"object","properties":{"EncryptionType":{"description":"OSS加密方式，可能值：\n- Inherit：继承 Bucket；\n- OssManaged：OSS 完全托管；\n- KMS：KMS加密。","type":"string","example":"Inherit"},"EncryptionAlgorithm":{"description":"OSS加密算法，可能值：\n- AES256\n- SM4","type":"string","example":"AES256"},"DeliveryType":{"description":"投递类型，可能值：\n- SessionManager：会话操作记录。\n- Invocation：任务执行记录。","type":"string","example":"SessionManager"},"Enabled":{"description":"是否开启投递到OSS功能。","type":"boolean","example":"false"},"BucketName":{"description":"OSS存储空间名称。","type":"string","example":"example-bucket"},"Prefix":{"description":"OSS存储空间目录前缀。","type":"string","example":"sessionmanager/audit"},"EncryptionKeyId":{"description":"加密方式为KMS时，用户的主密钥CMK ID。","type":"string","example":"a807****7a70e"}}}}}},"SlsDeliveryConfigs":{"type":"object","properties":{"SlsDeliveryConfig":{"description":"SLS投递配置列表。","type":"array","items":{"description":"SLS投递配置信息。","type":"object","properties":{"DeliveryType":{"description":"投递类型，可能值：\n- SessionManager：会话操作记录。\n- Invocation：任务执行记录。","type":"string","example":"SessionManager"},"LogstoreName":{"description":"SLS日志库名称。","type":"string","example":"example-logstore"},"Enabled":{"description":"是否开启投递到SLS功能。","type":"boolean","example":"false"},"ProjectName":{"description":"SLS项目名称。","type":"string","example":"example-project"}}}}}},"AgentUpgradeConfig":{"description":"云助手Agent升级配置。","type":"object","properties":{"Enabled":{"description":"是否开启自定义Agent升级配置。如查询结果为false或空，默认保持每30分钟尝试升级一次。","type":"boolean","example":"true"},"AllowedUpgradeWindows":{"type":"object","properties":{"AllowedUpgradeWindow":{"description":"允许升级的时间段列表。","type":"array","items":{"description":"允许升级的时间段列表。","type":"string","example":"[\n\"02:00-03:00\",\n\"05:00-06:00\"\n]"}}}},"TimeZone":{"description":"允许升级时间段的时区。","type":"string","example":"Asia/Shanghai"}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter.SettingType","errorMessage":"The specified parameter SettingType is not valid."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The specified parameter RegionId does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"An error occurred when you dispatched the request."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"OssDeliveryConfigs\\\": {\\n    \\\"OssDeliveryConfig\\\": [\\n      {\\n        \\\"EncryptionType\\\": \\\"Inherit\\\",\\n        \\\"EncryptionAlgorithm\\\": \\\"AES256\\\",\\n        \\\"DeliveryType\\\": \\\"SessionManager\\\",\\n        \\\"Enabled\\\": false,\\n        \\\"BucketName\\\": \\\"example-bucket\\\",\\n        \\\"Prefix\\\": \\\"sessionmanager/audit\\\",\\n        \\\"EncryptionKeyId\\\": \\\"a807****7a70e\\\"\\n      }\\n    ]\\n  },\\n  \\\"SlsDeliveryConfigs\\\": {\\n    \\\"SlsDeliveryConfig\\\": [\\n      {\\n        \\\"DeliveryType\\\": \\\"SessionManager\\\",\\n        \\\"LogstoreName\\\": \\\"example-logstore\\\",\\n        \\\"Enabled\\\": false,\\n        \\\"ProjectName\\\": \\\"example-project\\\"\\n      }\\n    ]\\n  },\\n  \\\"AgentUpgradeConfig\\\": {\\n    \\\"Enabled\\\": true,\\n    \\\"AllowedUpgradeWindows\\\": {\\n      \\\"AllowedUpgradeWindow\\\": [\\n        \\\"[\\\\n\\\\\\\"02:00-03:00\\\\\\\",\\\\n\\\\\\\"05:00-06:00\\\\\\\"\\\\n]\\\"\\n      ]\\n    },\\n    \\\"TimeZone\\\": \\\"Asia/Shanghai\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询云助手服务配置"}