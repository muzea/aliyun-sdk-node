{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29165","abilityTreeNodes":["FEATUREecs70JNQP","FEATUREecsTKAXF8"]},"parameters":[{"name":"DiskId","in":"query","schema":{"description":"磁盘ID。您可以调用[DescribeDisks](~~25514~~)查询磁盘ID。","type":"string","required":true,"docRequired":true,"example":"d-bp67acfmxazb4p****"}},{"name":"Type","in":"query","schema":{"description":"扩容磁盘的方式。取值范围：\n\n- offline（默认）：离线扩容。扩容后，您必须在控制台[重启实例](~~25440~~)或者调用API [RebootInstance](~~25502~~)使操作生效。\n \n- online：在线扩容，无需重启实例即可完成扩容。磁盘类型支持高效云盘、SSD云盘、ESSD云盘和弹性临时盘。","type":"string","required":false,"example":"offline","default":"offline"}},{"name":"NewSize","in":"query","schema":{"description":"希望扩容到的磁盘容量大小。单位为GiB。取值范围如下：\n- 系统盘：\n  - 普通云盘：20~500。\n  - ESSD云盘：\n    - PL0：1~2048。\n    - PL1：20~2048。\n    - PL2：461~2048。\n    - PL3：1261~2048。\n  - ESSD AutoPL 云盘：1~2048。\n  - 其他云盘类型：20~2048。\n\n- 数据盘：\n    - 高效云盘（cloud_efficiency）：20~32768。\n    - SSD云盘（cloud_ssd）：20~32768。\n    - ESSD云盘（cloud_essd）：具体取值范围与`PerformanceLevel`的取值有关。可以调用[DescribeDisks](~~25514~~)查询云盘信息，再根据查询结果中的`PerformanceLevel`参数查看取值。\n        - PL0：1~32768。\n        - PL1：20~32768。\n        - PL2：461~32768。\n        - PL3：1261~32768。\n    - 普通云盘（cloud）：5~2000。\n    - ESSD AutoPL云盘（cloud_auto）：1~32768。\n<props=\"china\">\n    - ESSD Entry云盘（cloud_essd_entry）：10~32768。\n</props>\n  - 弹性临时盘-标准版（elastic_ephemeral_disk_standard）：64～8,192。\n  - 弹性临时盘-高级版（elastic_ephemeral_disk_premium）：64～8,192。\n\n>指定的新磁盘容量必须比原磁盘容量大。","type":"integer","format":"int32","required":true,"docRequired":true,"maximum":"65536","minimum":"1","example":"1900"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"OrderId":{"description":"生成的订单ID。\n\n> 仅在扩容包年包月云盘时会返回订单ID。","type":"string","example":"20413515388****"},"RequestId":{"description":"请求ID。","type":"string","example":"F3CD6886-D8D0-4FEE-B93E-1B732396****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidDataDiskSize.ValueNotSupported","errorMessage":"The specified DataDisk.n.Size beyond the permitted range, or the capacity of snapshot exceeds the size limit of the specified disk category."},{"errorCode":"InvalidDataDiskCategory.ValueNotSupported","errorMessage":"%s"},{"errorCode":"InvalidParameter.Conflict","errorMessage":"%s"},{"errorCode":"InvalidSystemDiskSize.ValueNotSupported","errorMessage":"%s"},{"errorCode":"IncompleteParamter","errorMessage":"Some fields can not be null in this request."},{"errorCode":"InvalidRegionId.MalFormed","errorMessage":"The specified RegionId is not valid."},{"errorCode":"InvalidParam.Type","errorMessage":"The specified type is not supported."},{"errorCode":"LastOrderProcessing","errorMessage":"The previous order is still processing, please try again later."},{"errorCode":"InvalidStatus.Upgrading","errorMessage":"The instance which the disk attachs is upgrading; please try again later."},{"errorCode":"InvalidSystemDiskSize.ImageNotSupportResize","errorMessage":"The image of the instance does not support resize."},{"errorCode":"InvalidDisk.DetachedSystemDisk","errorMessage":"The specified disk is a detached system disk, does not support this operation."},{"errorCode":"OperationDenied.NotEnoughCapacity","errorMessage":"The capacity of the current dedicated block storage cluster is not enough to expand."},{"errorCode":"IncorrectDiskStatus.ReplicationStatusNotFound","errorMessage":"Disk replication status not found."},{"errorCode":"IncorrectDiskStatus.InReplication","errorMessage":"Disk already in replication."},{"errorCode":"QuotaExceed.DiskCapacity","errorMessage":"The used capacity of disk type has exceeded the quota in the zone,  %s."},{"errorCode":"NoPermission.Price","errorMessage":"The operation requires price permission. Please either apply for permission from your main account, or set the parameter AutoPay as true."},{"errorCode":"NoPermission.Refund","errorMessage":"The operation requires refund permission. Please apply for permission from your main account."},{"errorCode":"InvalidOperation.InstanceRenewWithDowngradeInPlan","errorMessage":"The operation is denied due to the specified instance has renew with downgrade record in plan."}],"403":[{"errorCode":"InvalidDataDiskSize.ValueNotSupported","errorMessage":"The specified DataDisk.n.Size beyond the permitted range, or the capacity of snapshot exceeds the size limit of the specified disk category."},{"errorCode":"OperationDenied","errorMessage":"The type of the disk does not support the operation."},{"errorCode":"InvalidDiskSize.TooSmall","errorMessage":"Specified new disk size is less than the original disk size."},{"errorCode":"InvalidDiskSize.TooLarge","errorMessage":"Specified new disk size is beyond the permitted range."},{"errorCode":"InstanceExpiredOrInArrears","errorMessage":"The specified operation is denied as your prepay instance is expired (prepay mode) or in arrears (afterpay mode)."},{"errorCode":"DiskError","errorMessage":"Incorrect disk status."},{"errorCode":"DiskInArrears","errorMessage":"The specified operation is denied as your disk owing fee."},{"errorCode":"IncorrectInstanceStatus","errorMessage":"The current status of the resource does not support this operation."},{"errorCode":"DiskCreatingSnapshot","errorMessage":"The operation is denied due to a snapshot of the specified disk is not completed yet."},{"errorCode":"InvalidDiskSize","errorMessage":"Specified new disk size is less than or equal the original disk size."},{"errorCode":"Operation.Conflict","errorMessage":"The operation may conflicts with others."},{"errorCode":"InstanceLockedForSecurity","errorMessage":"The instance is locked due to security."},{"errorCode":"IncorrectDiskStatus","errorMessage":"The current disk status does not support this operation."},{"errorCode":"UserNotInTheWhiteList","errorMessage":"The user is not in disk white list."},{"errorCode":"InvalidDiskCategory.NotSupported","errorMessage":"The specified disk category is not supported."},{"errorCode":"InvalidRegion.NotSupport","errorMessage":"The specified region does not support resize online."},{"errorCode":"InvalidInstanceStatus.NotRunning","errorMessage":"The status of instance to which the disk attachs must be running when resizing online."},{"errorCode":"InvalidOperation.InstanceTypeNotSupportOnlineResize","errorMessage":"The instance type of the specified instance does not support resize online."},{"errorCode":"InvalidParameter.KMSKeyId.CMKUnauthorized","errorMessage":"The CMK needs to be added ECS tag."},{"errorCode":"InvalidParameter.KMSKeyId.CMKNotEnabled","errorMessage":"The CMK needs to be enabled."},{"errorCode":"InvalidParameter.KMSKeyId.KMSUnauthorized","errorMessage":"ECS service have no right to access your KMS."},{"errorCode":"InstanceSpecModification.NotEffective","errorMessage":"The instance which the disk attachs has been reserved for making a spec modification and not taken effective in the current contract period."},{"errorCode":"InvalidDiskSize.NotSupportResizeOnline","errorMessage":"The current size of the resource does not support resize online."},{"errorCode":"SecurityRisk.3DVerification","errorMessage":"We have detected a security risk with your default credit or debit card. Please proceed with verification via the link in your email."},{"errorCode":"QuotaExceeded.PostpaidDataDiskCapacity","errorMessage":"The quota of postpaid data disk capacity exceeds."},{"errorCode":"InvalidOperation.MultiAttachDiskNotSupportResizeOnline","errorMessage":"Multi attach disk does not support resize online."}],"404":[{"errorCode":"InvalidDiskId.NotFound","errorMessage":"The specified disk does not exist."},{"errorCode":"InvalidInstanceId.NotFound","errorMessage":"The specified InstanceId does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"OrderId\\\": \\\"20413515388****\\\",\\n  \\\"RequestId\\\": \\\"F3CD6886-D8D0-4FEE-B93E-1B732396****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ResizeDiskResponse>\\n    <OrderId>20413515388****</OrderId>\\n    <RequestId>F3CD6886-D8D0-4FEE-B93E-1B732396****</RequestId>\\n</ResizeDiskResponse>\",\"errorExample\":\"\"}]","title":"扩容磁盘","summary":"调用ResizeDisk扩容一块磁盘，支持扩容系统盘和数据盘。","description":"## 接口说明\n\n> 扩容前，请务必查询云盘采用的分区格式。如果是MBR格式，不支持扩容到2TiB以上，否则会造成数据丢失。对于MBR分区扩容，建议您重新创建并挂载一块数据盘，采用GPT分区格式后，再将已有数据拷贝至新的数据盘上。更多详情，请参见[扩容云盘容量](~~44986~~)。\n\n- 支持扩容的磁盘类型包括普通云盘（`cloud`）、高效云盘（`cloud_efficiency`）、SSD云盘（`cloud_ssd`）、ESSD云盘（`cloud_essd`）<props=\"china\"><ph>、ESSD Entry云盘（cloud_essd_entry）</ph></props>、ESSD AutoPL云盘（cloud_auto）、弹性临时盘-标准版（elastic_ephemeral_disk_standard）和弹性临时盘-高级版（elastic_ephemeral_disk_premium）。\n- 当磁盘正在创建快照时，不允许扩容。\n-  磁盘挂载的实例的状态必须为**运行中**（`Running`）或者**已停止**（`Stopped`）。\n\n-  扩容时，不会修改磁盘分区和文件系统，您需要在扩容后自行分配存储空间。\n\n- 开启多重挂载特性的云盘支持在线扩容和离线扩容。离线扩容前，您需要确保所挂载的全部实例均为**已停止**（`Stopped`）状态。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}