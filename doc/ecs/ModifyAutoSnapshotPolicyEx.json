{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29045","abilityTreeNodes":["FEATUREecsTKAXF8","FEATUREecs70JNQP"]},"parameters":[{"name":"regionId","in":"query","schema":{"description":"自动快照策略所在的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"autoSnapshotPolicyId","in":"query","schema":{"description":"目标自动快照策略ID。您可以调用[DescribeAutoSnapshotPolicyEx](~~25530~~)查看您可用的自动快照策略。","type":"string","required":true,"example":"sp-bp12m37ccmxvbmi5****"}},{"name":"autoSnapshotPolicyName","in":"query","schema":{"description":"自动快照策略的名称。如果参数为空则代表不修改。","type":"string","required":false,"example":"SPTestName"}},{"name":"timePoints","in":"query","schema":{"description":"自动快照的创建时间点。使用UTC +8时间，单位为小时。取值范围为0~23，代表00:00至23:00共24个时间点，如1表示01:00。\n\n当一天内需要创建多次自动快照时，可以传入多个时间点：\n\n- 最多传入24个时间点。\n- 多个时间点用一个格式类似`\"0\", \"1\", … \"23\"`的JSON数组表示，时间点之间用半角逗号（,）隔开。","type":"string","required":false,"example":"[\"0\", \"1\"]"}},{"name":"repeatWeekdays","in":"query","schema":{"description":"自动快照的重复日期，单位为天，周期为星期。取值范围为1~7，如1表示周一。\n\n当一星期内需要创建多次自动快照时，可以传入多个时间点：\n\n- 最多传入7个时间点。\n- 多个时间点用一个格式类似`\"1\", \"2\", … \"7\"`的JSON数组表示，时间点之间用半角逗号（,）隔开。","type":"string","required":false,"example":"[\"1\", \"7\"]"}},{"name":"retentionDays","in":"query","schema":{"description":"自动快照的保留时间，单位为天。取值范围：\n\n- -1：永久保存。\n- 1~65536：指定保存天数。\n\n默认值为-1。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"EnableCrossRegionCopy","in":"query","schema":{"description":"是否允许自动跨地域复制。\n\n- true：允许。\n- false：不允许。","type":"boolean","required":false,"example":"false"}},{"name":"TargetCopyRegions","in":"query","schema":{"description":"跨地域复制快照的目标地域。目前支持设置一个目标地域。","type":"string","required":false,"example":"[\"cn-hangzhou\"]"}},{"name":"CopiedSnapshotsRetentionDays","in":"query","schema":{"description":"跨地域复制快照的保留时间，单位为天。取值范围：\n\n- -1：永久保存。\n- 1~65535：指定保存天数。\n\n默认值为-1。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"CopyEncryptionConfiguration","in":"query","style":"flat","schema":{"description":"快照跨地域复制加密参数对象","type":"object","properties":{"Encrypted":{"description":"是否开启快照跨地域加密复制。取值范围：\n\n- true：是。 \n- false：否。 \n\n默认值：false。","type":"boolean","required":false,"example":"false"},"KMSKeyId":{"description":"快照跨地域加密复制使用的 KMS 密钥 ID。","type":"string","required":false,"example":"0e478b7a-4262-4802-b8cb-00d3fb40826X"},"Arn":{"description":"该参数暂未开放使用。","type":"array","items":{"type":"object","properties":{"RoleType":{"description":"该参数暂未开放使用。","type":"string","required":false,"example":"hide"},"Rolearn":{"description":"该参数暂未开放使用。","type":"string","required":false,"example":"hide"},"AssumeRoleFor":{"description":"该参数暂未开放使用。","type":"integer","format":"int64","required":false,"example":"1000000000"}},"required":false},"required":false,"maxItems":10}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter.EncryptedIllegal","errorMessage":"The specified parameter Encrypted must be true when kmsKeyId is not empty."},{"errorCode":"InvalidParameter.KMSKeyId.CMKNotEnabled","errorMessage":"The CMK needs to be enabled."},{"errorCode":"InvalidParameter.KmsNotEnabled","errorMessage":"Failed to perform this operation because KMS is not activated."},{"errorCode":"InvalidParameter.Encrypted.KmsNotEnable","errorMessage":"Failed to perform this operation because KMS is not activated."},{"errorCode":"InvalidParam.EncryptedMismatch","errorMessage":"Creating encrypted disks with shared encrypted image requires replacing encryption keys."}],"403":[{"errorCode":"ParameterInvalid","errorMessage":"The specified RegionId parameter is invalid."},{"errorCode":"InvalidParameter.TargetCopyRegions","errorMessage":"The specified TargetCopyRegions is invalid."},{"errorCode":"InvalidParameter.CopiedSnapshotsRetentionDays","errorMessage":"The specified CopiedSnapshotsRetentionDays is invalid."},{"errorCode":"InvalidParameter.KMSKeyId.CMKUnauthorized","errorMessage":"The CMK needs to be added ECS tag."},{"errorCode":"InvalidParameter.KMSKeyId.KMSUnauthorized","errorMessage":"ECS service have no right to access your KMS."},{"errorCode":"Abs.InvalidAction.RegionNotSupport","errorMessage":"This region does not support this action."}],"404":[{"errorCode":"ParameterInvalid","errorMessage":"The specified automatic snapshot policy does not exist."},{"errorCode":"InvalidParameter.KMSKeyId.NotFound","errorMessage":"The specified KMSKeyId does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\":\\\"F3CD6886-D8D0-4FEE-B93E-1B73239673DE\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<ModifyAutoSnapshotPolicyResponse>\\n    <RequestId>F3CD6886-D8D0-4FEE-B93E-1B73239673DE</RequestId>\\n</ModifyAutoSnapshotPolicyResponse>\",\"errorExample\":\"<ModifyAutoSnapshotPolicyResponse>\\n    <RequestId>F3CD6886-D8D0-4FEE-B93E-1B73239673DE</RequestId>\\n</ModifyAutoSnapshotPolicyResponse>\"}]","title":"修改一条自动快照策略","summary":"调用ModifyAutoSnapshotPolicyEx修改一条自动快照策略。修改自动快照策略后，之前已应用该策略的云盘随即执行修改后的自动快照策略。已启用快照跨地域复制且在未配置加密参数场景下，加密快照默认使用目的端服务密钥进行加密拷贝。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}