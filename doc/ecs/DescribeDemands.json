{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":true,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目标地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"PageNumber","in":"query","schema":{"description":"报备单列表的页码。起始值：1\n\n默认值：1","type":"integer","format":"int32","required":false,"minimum":"1","example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。最大值：100\n\n默认值：10","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。取值范围：\n\n- true：发送检查请求，不会查询报备单状况。检查项包括AccessKey是否有效、RAM用户的授权情况和是否填写了必需参数。如果检查不通过，则返回对应错误。如果检查通过，会返回错误码DryRunOperation。\n- false（默认值）：发送正常请求，通过检查后返回2XX HTTP状态码并直接查询报备单状况。","type":"boolean","required":false,"example":"false"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"> 该参数暂未开放使用。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"> 该参数暂未开放使用。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":20}},{"name":"RegionId","in":"query","schema":{"description":"目标地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。更多详情，请参见[DescribeZones](~~25610~~)获取可用区列表。","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"DemandId","in":"query","schema":{"description":"报备ID。指定该参数后，将忽略其他非必选请求参数。","type":"string","required":false,"example":"ed-bp11n21kq00sl71p****"}},{"name":"InstanceTypeFamily","in":"query","schema":{"description":"报备实例的规格族。","type":"string","required":false,"example":"ecs.g6"}},{"name":"InstanceType","in":"query","schema":{"description":"报备实例的规格。","type":"string","required":false,"example":"ecs.g6.xlarge"}},{"name":"InstanceChargeType","in":"query","schema":{"description":"实例的计费方式。取值范围：\n\n- PostPaid：按量付费\n- PrePaid：包年包月","type":"string","required":false,"example":"PostPaid"}},{"name":"DemandType","in":"query","schema":{"description":"报备实例来源。取值范围：\n\n* Custom：自助报备。\n* System（默认）：阿里云协助报备。","type":"string","required":false,"example":"Custom"}},{"name":"DemandStatus","in":"query","style":"repeatList","schema":{"description":"报备单或资源使用状态。取值范围：\n\n- Creating：报备单创建中。\n- Active：资源供应中。\n- Expired：报备单已过期。\n- Finished：消费完毕。\n- Refused：报备拒绝，具体原因请查看返回参数`Comment`。\n- Cancelled：报备取消。","type":"array","items":{"description":"报备单或资源使用状态。取值范围：\n\n- Creating：报备单创建中。\n- Active：资源供应中。\n- Expired：报备单已过期。\n- Finished：消费完毕。\n- Refused：报备拒绝，具体原因请查看返回参数`Comment`。\n- Cancelled：报备取消。","type":"string","required":false,"example":"Active"},"required":false,"example":"Active","maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageSize":{"description":"输入时设置的每页行数。","type":"integer","format":"int32","example":"10"},"PageNumber":{"description":"报备单列表的页码。","type":"integer","format":"int32","example":"1"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TotalCount":{"description":"查询到的报备单数量。","type":"integer","format":"int32","example":"6"},"RegionId":{"description":"查询的地域。","type":"string","example":"cn-hangzhou"},"Demands":{"type":"object","properties":{"Demand":{"description":"指定地域符合过滤条件的报备单集合。","type":"array","items":{"type":"object","properties":{"Comment":{"description":"资源报备被拒绝的反馈建议。","type":"string","example":"test-for-comment"},"DemandDescription":{"description":"报备描述。","type":"string","example":"test-DemandDescription"},"DemandId":{"description":"报备ID。","type":"string","example":"ed-bp11n21kq00sl71p****"},"DemandTime":{"description":"报备单创建时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2019-02-26T12:00:00Z"},"InstanceType":{"description":"报备的实例规格。","type":"string","example":"ecs.g6.xlarge"},"DemandName":{"description":"报备名称。","type":"string","example":"k8s-node-demand"},"Period":{"description":"报备资源的使用时长。","type":"integer","format":"int32","example":"3"},"InstanceChargeType":{"description":"报备资源的付费类型。可能值：\n\n- Prepaid：包年包月\n- Postpaid：按量付费","type":"string","example":"Prepaid"},"AvailableAmount":{"description":"报备资源当前可使用实例数量。","type":"integer","format":"int32","example":"10"},"EndTime":{"description":"报备资源预期截止购买时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2019-03-03T15:00:00Z"},"StartTime":{"description":"报备资源预期开始购买时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2019-02-27T12:00:00Z"},"PeriodUnit":{"description":"报备资源的使用时长单位。可能值：\n\n- Hour\n- Day\n- <props=\"china\">Week</props>\n- Month\n","type":"string","example":"Month"},"ZoneId":{"description":"报备资源所在的可用区。","type":"string","example":"cn-hangzhou-g"},"UsedAmount":{"description":"已经消耗的实例数。","type":"integer","format":"int32","example":"20"},"TotalAmount":{"description":"报备的实例数。","type":"integer","format":"int32","example":"50"},"DeliveringAmount":{"description":"报备资源中待交付实例数量。","type":"integer","format":"int32","example":"20"},"InstanceTypeFamily":{"description":" 报备实例所属的规格族。","type":"string","example":"ecs.g6"},"DemandStatus":{"description":"报备单或资源使用的状态。可能值：\n\n- Creating：报备单创建中。\n- Active：资源供应中。\n- Expired：报备单已过期。\n- Finished：消费完毕。\n- Refused：报备拒绝，具体原因请查看参数`comment`。\n- Cancelled：报备取消，报备资源已取消。报备取消后，资源交付状态无效。","type":"string","example":"Active"},"SupplyInfos":{"type":"object","properties":{"SupplyInfo":{"description":"报备资源的交付状态。","type":"array","items":{"type":"object","properties":{"Amount":{"description":"交付的实例数量。","type":"integer","format":"int32","example":"30"},"SupplyStatus":{"description":"资源交付状态。可能值：\n\n- Delivered ：已交付\n- Delivering：交付中","type":"string","example":"Delivering"},"SupplyStartTime":{"description":"资源交付可用的开始时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2019-03-01T14:00:00Z"},"SupplyEndTime":{"description":"资源交付可用的截止时间。按照[ISO8601](~~25696~~)标准表示，并使用UTC +0时间，格式为yyyy-MM-ddTHH:mm:ssZ。","type":"string","example":"2019-03-03T15:00:00Z"},"PrivatePoolId":{"description":"需求单对应的私有池ID。","type":"string","example":"crp-bp1fv8sbhelbzjwx****"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParamter.RegionId","errorMessage":"The regionId should not be null."},{"errorCode":"InvalidRegion.NotFound","errorMessage":"The RegionId provided does not exist in our records."}],"403":[{"errorCode":"Forbidden.RAM","errorMessage":"User not authorized to operate on the specified resource, or this API doesn't support RAM."}],"404":[{"errorCode":"InvalidInstanceChargeType.NotFound","errorMessage":"The InstanceChargeType does not exist in our records."},{"errorCode":"InvalidStatus.ValueNotSupported","errorMessage":"The DemandStatus does not exist in our records."},{"errorCode":"InvalidZone.NotFound","errorMessage":"The ZoneId provided does not exist in our records."},{"errorCode":"InvalidInstanceType.NotFound","errorMessage":"The InstanceType provided does not exist in our records."},{"errorCode":"InvalidDemandId.NotFound","errorMessage":"The specified DemandId is not found."},{"errorCode":"InvalidInstanceType.NotMatch","errorMessage":"The InstanceType provided does match the InstanceTypeFamily in our records."}]},"staticInfo":{"substitutions":["Ecs::2014-05-26::DescribeCapacityReservations"]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"PageSize\\\": 10,\\n  \\\"PageNumber\\\": 1,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TotalCount\\\": 6,\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"Demands\\\": {\\n    \\\"Demand\\\": [\\n      {\\n        \\\"Comment\\\": \\\"test-for-comment\\\",\\n        \\\"DemandDescription\\\": \\\"test-DemandDescription\\\",\\n        \\\"DemandId\\\": \\\"ed-bp11n21kq00sl71p****\\\",\\n        \\\"DemandTime\\\": \\\"2019-02-26T12:00:00Z\\\",\\n        \\\"InstanceType\\\": \\\"ecs.g6.xlarge\\\",\\n        \\\"DemandName\\\": \\\"k8s-node-demand\\\",\\n        \\\"Period\\\": 3,\\n        \\\"InstanceChargeType\\\": \\\"Prepaid\\\",\\n        \\\"AvailableAmount\\\": 10,\\n        \\\"EndTime\\\": \\\"2019-03-03T15:00:00Z\\\",\\n        \\\"StartTime\\\": \\\"2019-02-27T12:00:00Z\\\",\\n        \\\"PeriodUnit\\\": \\\"Month\\\",\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-g\\\",\\n        \\\"UsedAmount\\\": 20,\\n        \\\"TotalAmount\\\": 50,\\n        \\\"DeliveringAmount\\\": 20,\\n        \\\"InstanceTypeFamily\\\": \\\"ecs.g6\\\",\\n        \\\"DemandStatus\\\": \\\"Active\\\",\\n        \\\"SupplyInfos\\\": {\\n          \\\"SupplyInfo\\\": [\\n            {\\n              \\\"Amount\\\": 30,\\n              \\\"SupplyStatus\\\": \\\"Delivering\\\",\\n              \\\"SupplyStartTime\\\": \\\"2019-03-01T14:00:00Z\\\",\\n              \\\"SupplyEndTime\\\": \\\"2019-03-03T15:00:00Z\\\",\\n              \\\"PrivatePoolId\\\": \\\"crp-bp1fv8sbhelbzjwx****\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询报备资源的交付及使用状态","summary":"调用DescribeDemands查询报备资源的交付及使用状态。","description":"您可通过该接口查询阿里云为您报备的资源详情，包括报备资源类型、资源的交付情况以及资源的消费情况。\n\n默认查询I/O优化实例规格，以及专有网络VPC类型的ECS实例的报备表单状态。\n\n如果您需要获取关于创建ECS资源需求报备信息（CreateDemand）、修改ECS资源需求报备信息（ModifyDemand）及删除ECS资源需求报备信息（DeleteDemand）的相关信息，请联系您对应的客户经理。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}