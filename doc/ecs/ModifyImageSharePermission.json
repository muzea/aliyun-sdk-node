{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"29067","abilityTreeNodes":["FEATUREecsKVA4YC"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"自定义镜像所属的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。 ","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ImageId","in":"query","schema":{"description":"被共享的自定义镜像ID。","type":"string","required":true,"example":"m-bp18ygjuqnwhechc****"}},{"name":"LaunchPermission","in":"query","schema":{"description":">该参数正在邀测中，暂不支持使用。","type":"string","required":false,"example":"hide"}},{"name":"AddAccount","in":"query","style":"repeatList","schema":{"description":"授权共享镜像的阿里云账号ID。N的取值范围：1~10，若一次提交超过10个阿里云账号，系统将只处理前10个，忽略多余的账号。","type":"array","items":{"description":"授权共享镜像的阿里云账号ID。N的取值范围：1~10，若一次提交超过10个阿里云账号，系统将只处理前10个，忽略多余的账号。","type":"string","required":false,"example":"1234567890"},"required":false,"example":"1234567890","maxItems":10}},{"name":"RemoveAccount","in":"query","style":"repeatList","schema":{"description":"删除镜像共享的阿里云账号ID。N的取值范围：1~10，若一次提交超过10个阿里云账号，系统将只处理前10个，忽略多余的账号。","type":"array","items":{"description":"删除镜像共享的阿里云账号ID。n的取值范围：1~10，若一次提交超过10个阿里云账号，系统将只处理前10个，忽略多余的账号。","type":"string","required":false,"example":"1234567890"},"required":false,"example":"1234567890","maxItems":10}},{"name":"IsPublic","in":"query","schema":{"title":"发布为社区镜像","description":"是否发布或下架社区镜像。取值范围：\n\n- true：发布该镜像为社区镜像。\n- false：下架该镜像为普通镜像，若该镜像本身是普通镜像，则不做改变。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"The input parameter \"RegionId\" that is mandatory for processing this request is not supplied."},{"errorCode":"InvalidGroup.Malformed","errorMessage":"The specified Group is wrongly formed."},{"errorCode":"UnnecessaryParameter.LaunchPermission","errorMessage":"The specified parameter \"LaunchPermission\" is unnecessary if paramter \"AddAccounts\" or \"RemoveAccounts\" exist."},{"errorCode":"InvalidParameter.LaunchPermission","errorMessage":"The specified parameter \"LaunchPermission\" is invalid."},{"errorCode":"ForbiddenParameter.LaunchPermission","errorMessage":"The specified parameter \"LaunchPermission\" is forbidden for current account."}],"403":[{"errorCode":"AssumeRoleError","errorMessage":"Requires a RAM role of AliyunECSShareEncryptImageDefaultRole before sharing encrypted image."},{"errorCode":"ImageDescription.ContainsSensitiveWords","errorMessage":"The specified image description contains sensitive words."},{"errorCode":"ImageName.ContainsSensitiveWords","errorMessage":"The specified image name contains sensitive words."},{"errorCode":"Image.Public","errorMessage":"The specified image is public image."},{"errorCode":"CurrentRegion.NotSupportPublicImage","errorMessage":"Public image is not supported for current region."},{"errorCode":"Image.NotPublic","errorMessage":"The specified image is not public image."},{"errorCode":"OperationDeined.FullImage","errorMessage":"The encrypted image contains multiple snapshots, which do not support share."},{"errorCode":"QuotaExceed.ShareImage","errorMessage":"The shared Image Quota exceeds."},{"errorCode":"QuotaExceed.ShareImageUser","errorMessage":"The shared Image user Quota exceeds."},{"errorCode":"InvalidImageId.BidMismatch","errorMessage":"Cannot share image with other bid user."},{"errorCode":"OperationDeined.EncryptedSnapshot","errorMessage":"The image contains encrypted snapshots, which do not support share."},{"errorCode":"OperationDenied.InvalidImageStatus","errorMessage":"The specified image cannot be shared when it is deprecated."},{"errorCode":"PublicImageAgreement.NotSigned","errorMessage":"The current account has not signed \"Community Image Terms of Service\"."},{"errorCode":"InvalidParameter.IsPublic","errorMessage":"The specified parameter IsPublic is conflicted with other parameters."}],"404":[{"errorCode":"InvalidImageId.NotFound","errorMessage":"The specified ImageId does not exist."},{"errorCode":"InvalidAccount.NotFound","errorMessage":"The specified parameter \"AddAccount.n\" or \"RemoveAccount.n\"  does not exist."},{"errorCode":"InvalidAccount.Forbbiden","errorMessage":"The specified Account does not yourself."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"C8B26B44-0189-443E-9816-D951F59623A9\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<ModifyImageSharePermissionResponse>\\n    <RequestId>C8B26B44-0189-443E-9816-D951F59623A9</RequestId>\\n</ModifyImageSharePermissionResponse>\",\"errorExample\":\"<ModifyImageSharePermissionResponse>\\n    <RequestId>C8B26B44-0189-443E-9816-D951F59623A9</RequestId>\\n</ModifyImageSharePermissionResponse>\"}]","title":"管理镜像共享权限","summary":"调用ModifyImageSharePermission管理镜像共享权限。您可以将自己的自定义镜像共享给其他阿里云账号，也可以发布为社区镜像供他人使用。","description":"## 接口说明\n调用该接口时，您需要注意：\n\n- 您只能共享自己的自定义镜像给其他阿里云用户。\n- 每份自定义镜像一次最多共享给10个阿里云账号。所以，参数AddAccount.n或者参数RemoveAccount.n单次最多可以传入10个阿里云账号，若一次提交超过10个阿里云账号，系统将只处理前10个，忽略多余的账号。\n- 每份自定义镜像最多可以共享给50个阿里云账号。\n- 使用共享镜像创建ECS实例（[RunInstances](~~63440~~)）后，一旦自定义镜像拥有者解除了镜像共享关系，或者删除了自定义镜像（[DeleteImage](~~25537~~)），该实例将无法初始化系统盘（[ReInitDisk](~~25519~~)）。\n\n发布或下架社区镜像，您需要注意：\n- 社区镜像的所有者需要为对应的社区镜像的质量与迭代负责，阿里云仅提供平台支撑。请确保您已知晓社区镜像协议内容，并已签订协议，否则不允许发布社区镜像。更多信息，请参见[发布社区镜像](~~208370~~)。\n- 加密镜像不允许发布为社区镜像。\n- 社区镜像完全公开，在镜像所属地域下，所有阿里云账号均可使用。\n- 社区镜像不支持共享、导出与复制。\n- 已发布的社区镜像一旦下架，将不再对其他所有的阿里云账号公开。如果该自定义镜像已共享至其它阿里云账号，共享关系会继续保持。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}