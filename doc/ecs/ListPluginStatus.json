{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","style":"repeatList","schema":{"description":"实例ID，单次请求最多支持50台实例，N的取值范围为1~50。","type":"array","items":{"description":"实例ID，单次请求最多支持50台实例，N的取值范围为1~50。","type":"string","required":false,"example":"i-bp1iudwa5b1tqa****"},"required":false,"maxItems":51}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Name","in":"query","schema":{"description":"插件名称，支持全字符集。长度不得超过255个字符。\n\n- 若不指定该参数，会查询实例中已安装插件的状态。\n\n    > 若不指定该参数，只能指定一个实例ID。\n\n- 若指定该参数，会查询出实例中指定插件的状态。","type":"string","required":false,"example":"testPluginName"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。\n\n- 起始值为1。\n- 默认值为1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。\n\n- 最大值为50。\n- 默认值为10。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页的最大条目数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","required":false,"example":"AAAAAdDWBF2"}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageSize":{"description":"每页行数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"PageNumber":{"description":"查询结果的页码。","type":"integer","format":"int64","example":"1"},"TotalCount":{"description":"符合查询条件的记录条数。","type":"integer","format":"int64","example":"1"},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF2"},"InstancePluginStatusSet":{"type":"object","properties":{"InstancePluginStatus":{"description":"实例插件状态列表。","type":"array","items":{"description":"实例插件状态列表。","type":"object","properties":{"InstanceId":{"description":"实例ID。","type":"string","example":"i-xxxxx"},"PluginStatusSet":{"type":"object","properties":{"PluginStatus":{"description":"插件状态列表。","type":"array","items":{"description":"插件状态列表。","type":"object","properties":{"PluginVersion":{"description":"插件版本号。","type":"string","example":"1.1"},"PluginName":{"description":"插件名称。","type":"string","example":"testName"},"FirstHeartbeatTime":{"description":"云助手第一次上报插件状态的时间。","type":"string","example":"2020-01-19T09:15:46Z"},"LastHeartbeatTime":{"description":"云助手最近一次上报插件状态的时间。","type":"string","example":"2020-01-19T09:15:46Z"},"PluginStatus":{"description":"插件状态。取值范围：\n\n- NotInstalled：插件未安装。\n- Installed：一次性插件已安装。\n- Running：常驻插件运行中。\n- Stopped：常驻插件未运行。\n- Crashed：插件状态异常。\n- Removed：插件已卸载。\n- UnKnown：状态未知。","type":"string","example":"Running"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParam.PageNumber","errorMessage":"The specified parameter PageNumber is invalid."},{"errorCode":"InvalidParam.PageSize","errorMessage":"The specified parameter PageSize is invalid."},{"errorCode":"PluginName.MissingValue","errorMessage":"The plugin name must be specified when the number of InstanceIds is not 1."},{"errorCode":"InstanceIds.ExceedLimit","errorMessage":"The number of instance IDs exceeds the upper limit."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The specified parameter NextToken is not valid."},{"errorCode":"InvalidParameter.MaxResults","errorMessage":"The specified parameter MaxResults is not valid."}],"404":[{"errorCode":"InvalidInstance.NotFound","errorMessage":"The specified instance does not exist."},{"errorCode":"InvalidPluginName.NotFound","errorMessage":"The specified plugin name does not exist."}],"500":[{"errorCode":"InternalError.Dispatch","errorMessage":"An error occurred when you dispatched the request."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"TotalCount\\\": 1,\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF2\\\",\\n  \\\"InstancePluginStatusSet\\\": {\\n    \\\"InstancePluginStatus\\\": [\\n      {\\n        \\\"InstanceId\\\": \\\"i-xxxxx\\\",\\n        \\\"PluginStatusSet\\\": {\\n          \\\"PluginStatus\\\": [\\n            {\\n              \\\"PluginVersion\\\": \\\"1.1\\\",\\n              \\\"PluginName\\\": \\\"testName\\\",\\n              \\\"FirstHeartbeatTime\\\": \\\"2020-01-19T09:15:46Z\\\",\\n              \\\"LastHeartbeatTime\\\": \\\"2020-01-19T09:15:46Z\\\",\\n              \\\"PluginStatus\\\": \\\"Running\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListPluginStatusResponse>\\n    <PageSize>10</PageSize>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>\\n    <PageNumber>1</PageNumber>\\n    <TotalCount>1</TotalCount>\\n    <InstancePluginStatusSet>\\n        <InstancePluginStatus>\\n            <InstanceId>i-xxxxx</InstanceId>\\n            <PluginStatusSet>\\n                <PluginStatus>\\n                    <PluginName>testName</PluginName>\\n                    <PluginVersion>1.1</PluginVersion>\\n                    <PluginStatus>Running</PluginStatus>\\n                    <FirstHeartbeatTime>2020-01-19T09:15:46Z</FirstHeartbeatTime>\\n                    <LastHeartbeatTime>2020-01-19T09:15:46Z</LastHeartbeatTime>\\n                </PluginStatus>\\n            </PluginStatusSet>\\n        </InstancePluginStatus>\\n    </InstancePluginStatusSet>\\n</ListPluginStatusResponse>\",\"errorExample\":\"\"}]","title":"查询实例中云助手插件的状态","summary":"调用ListPluginStatus查询实例中云助手插件的状态。","description":"## 接口说明\n\n- 实例的云助手Agent版本不低于以下版本，才可以查询到实例内云助手插件状态：\n    - Linux：2.2.3.344。\n    - Windows：2.1.3.344。\n- 支持以下两种方式查看返回数据：\n    - 方式一：分页查询首页时，仅需设置`MaxResults`以限制返回信息的条目数，返回结果中的`NextToken`将作为查询后续页的凭证。查询后续页时，将`NextToken`参数设置为上一次返回结果中获取到的`NextToken`作为查询凭证，并设置`MaxResults`限制返回条目数。\n    - 方式二：通过`PageSize`设置单页返回的条目数，再通过`PageNumber`设置页码。以上两种方式只能任选其中之一。如果设置了`MaxResults`或`NextToken`参数，则请求参数`PageSize`和`PageNumber`将失效，且返回数据中的`TotalCount`无效。"}