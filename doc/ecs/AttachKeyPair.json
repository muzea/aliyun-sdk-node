{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"28792","abilityTreeNodes":["FEATUREecsI3PVYS"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"SSH密钥对所在的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。 ","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"KeyPairName","in":"query","schema":{"description":"SSH密钥对名称。","type":"string","required":true,"example":"testKeyPairName"}},{"name":"InstanceIds","in":"query","schema":{"description":"绑定SSH密钥对的实例ID。取值可以由多台实例ID组成一个JSON数组，最多支持50个ID，ID之间用半角逗号（,）隔开。 ","type":"string","required":true,"example":"[\"i-bp1gtjxuuvwj17zr****\", \"i-bp17b7zrsbjwvmfy****\", … \"i-bp1h6jmbefj1ytos****\"]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"KeyPairName":{"description":"密钥对的名称。","type":"string","example":"testKeyPairName"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TotalCount":{"description":"绑定密钥对的实例总数量。","type":"string","example":"2"},"FailCount":{"description":"绑定密钥对失败的实例数量。","type":"string","example":"0"},"Results":{"type":"object","properties":{"Result":{"description":"绑定密钥对成功或失败的结果集合。","type":"array","items":{"type":"object","properties":{"Code":{"description":"传递的操作状态码，其中200表示操作成功。","type":"string","example":"200"},"Message":{"description":"传递的操作信息，当code=200时，message为successful。","type":"string","example":"successful"},"InstanceId":{"description":"实例ID。","type":"string","example":"i-m5eg7be9ndloji64****"},"Success":{"description":"此次操作是否成功。","type":"string","example":"true"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidKeyPairName.NotFound","errorMessage":"The specified KeyPairName does not exist in our records."},{"errorCode":"InvalidInstanceIds.ValueNotSupported","errorMessage":"The specified parameter InstanceIds is not valid."},{"errorCode":"DependencyViolation.IoOptimize","errorMessage":"The specified parameter InstanceIds is not valid."}],"403":[{"errorCode":"DependencyViolation.WindowsInstance","errorMessage":"The instance creating is windows, cannot use ssh key pair to login"},{"errorCode":"InstanceKeyPairLimitExceeded","errorMessage":"The specified instances are beyond the permitted range."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"KeyPairName\\\": \\\"testKeyPairName\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TotalCount\\\": \\\"2\\\",\\n  \\\"FailCount\\\": \\\"0\\\",\\n  \\\"Results\\\": {\\n    \\\"Result\\\": [\\n      {\\n        \\\"Code\\\": \\\"200\\\",\\n        \\\"Message\\\": \\\"successful\\\",\\n        \\\"InstanceId\\\": \\\"i-m5eg7be9ndloji64****\\\",\\n        \\\"Success\\\": \\\"true\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<AttachKeyPairResponse>\\n\\t<TotalCount>2</TotalCount>\\n\\t<RequestId>4ADF7A06-66BD-4FBF-A2ED-2364E41D8C06</RequestId>\\n\\t<Results>\\n\\t\\t<Result>\\n\\t\\t\\t<Message>successful</Message>\\n\\t\\t\\t<InstanceId>i-m5eg7be9ndloji64****</InstanceId>\\n\\t\\t\\t<Success>true</Success>\\n\\t\\t\\t<Code>200</Code>\\n\\t\\t</Result>\\n\\t\\t<Result>\\n\\t\\t\\t<Message>successful</Message>\\n\\t\\t\\t<InstanceId>i-m5e25x2mwr0hk33d****</InstanceId>\\n\\t\\t\\t<Success>true</Success>\\n\\t\\t\\t<Code>200</Code>\\n\\t\\t</Result>\\n\\t</Results>\\n\\t<FailCount>0</FailCount>\\n</AttachKeyPairResponse>\",\"errorExample\":\"<AttachKeyPairResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n</AttachKeyPairResponse>\"}]","title":"绑定SSH密钥对到Linux实例","summary":"调用AttachKeyPair绑定一个SSH密钥对到一台或多台Linux实例。","description":"当您使用该接口时，需要注意：\n\n-  Windows实例不支持SSH密钥对。 \n-  绑定SSH密钥对后，将禁用用户名加密码的验证方式。 \n-  如果实例处于**运行中**（Running）状态，重启实例（[RebootInstance](~~25502~~)）后，SSH密钥对生效。  \n-  如果实例处于**已停止**（Stopped）状态，启动实例（[StartInstance](~~25500~~)）后，SSH密钥对生效。  \n-  如果实例已经绑定了SSH密钥对，新的SSH密钥对自动替换原来的SSH密钥对。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}