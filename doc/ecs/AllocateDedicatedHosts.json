{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create","abilityTreeCode":"28781","abilityTreeNodes":["FEATUREecsDXRH67"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"专有宿主机所属的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"专有宿主机的标签键。N的取值范围：1~20。\n\n一旦传入该值，则不允许为空字符串。最多支持128个字符，不能以aliyun或者acs:开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"Environment"},"Value":{"description":"专有宿主机的标签值。N的取值范围：1~20。\n\n一旦传入该值，可以为空字符串。最多支持128个字符，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"Production"}},"required":false},"required":false,"maxItems":20}},{"name":"ResourceGroupId","in":"query","schema":{"description":"专有宿主机要加入的资源组ID。","type":"string","required":false,"example":"rg-bp67acfmxazb4ph***"}},{"name":"ZoneId","in":"query","schema":{"description":"专有宿主机所属的可用区编号。\n\n默认值：空，表示由系统选择。","type":"string","required":false,"example":"cn-hangzhou-f"}},{"name":"DedicatedHostName","in":"query","schema":{"description":"专有宿主机的名称。长度为2~128个字符，支持Unicode中letter分类下的字符（其中包括英文、中文和数字等）。可以包含半角冒号（:）、下划线（_）、半角句号（.）或者短划线（-）。","type":"string","required":false,"example":"myDDH"}},{"name":"DedicatedHostClusterId","in":"query","schema":{"description":"专有宿主机所属的专有宿主机集群ID。","type":"string","required":false,"example":"dc-bp12wlf6am0vz9v2****"}},{"name":"DedicatedHostType","in":"query","schema":{"description":"专有宿主机的规格。您可以调用[DescribeDedicatedHostTypes](~~134240~~)接口获得最新的专有宿主机规格表。","type":"string","required":true,"example":"ddh.c5"}},{"name":"ActionOnMaintenance","in":"query","schema":{"description":"当专有宿主机发生故障或者在线修复时，为其所宿实例设置迁移方案。取值范围：\n\n- Migrate：迁移实例到其他物理机并重新启动实例。\n\n  当专有宿主机上挂载云盘存储时，默认值：Migrate。\n\n- Stop：在当前专有宿主机上停止实例，确认无法修复专有宿主机后，迁移实例到其他物理机并重新启动实例。\n\n  当专有宿主机上挂载本地盘存储时，默认值：Stop。","type":"string","required":false,"example":"Migrate"}},{"name":"NetworkAttributes.SlbUdpTimeout","in":"query","schema":{"description":"负载均衡连接的UDP会话超时时间，单位：秒。取值范围：15~310。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"NetworkAttributes.UdpTimeout","in":"query","schema":{"description":"为专有宿主机上运行的云服务设置用户访问的UDP会话超时时间，单位：秒。取值范围：15~310。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"Description","in":"query","schema":{"description":"专有宿主机的描述。长度为2~256个英文或中文字符，不能以`http://`或`https://`开头。","type":"string","required":false,"example":"This-is-my-DDH"}},{"name":"AutoPlacement","in":"query","schema":{"description":"专有宿主机是否加入自动部署资源池。当您在专有宿主机上创建实例，却不指定**DedicatedHostId**时，阿里云将自动从加入资源池的专有宿主机中，为您选取适合的宿主机部署实例，更多信息，请参见[自动部署功能介绍](~~118938~~)。取值范围：\n\n- on：加入自动部署资源池。\n\n- off：不加入自动部署资源池。\n\n默认值：on。\n\n> 若您不希望专有宿主机加入自动部署资源池，请将该参数设置为off。","type":"string","required":false,"example":"off"}},{"name":"CpuOverCommitRatio","in":"query","schema":{"description":"CPU超卖比。仅自定义规格g6s、c6s、r6s支持设置CPU超卖比。取值范围：1~5。\n\nCPU超卖比影响DDH的可用vCPU数，一台DDH的可用vCPU数=物理CPU核数\\*2\\*CPU超卖比。例如，g6s的物理CPU核数为52，如果设置CPU超卖比为4，则DDH创建完成后vCPU总数显示为416。针对CPU绝对稳定性要求不严苛或CPU负载不高的场景，例如开发测试环境，提升超卖比可以提升可用vCPU数，用于部署更多同等规格的ECS实例，降低单位部署成本。","type":"number","format":"float","required":false,"example":"1"}},{"name":"MinQuantity","in":"query","schema":{"description":"指定专有宿主机的最小购买数量。取值范围：1~100。\n\n> 当专有宿主机的库存小于最小购买数量时，创建专有宿主机将会失败。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"ChargeType","in":"query","schema":{"description":"专有宿主机的计费方式。取值范围：\n\n<props=\"china\">\n- PrePaid：包年包月。选择包年包月时，请确认您的支付方式支持余额或者信用额度支付，否则会提示`InvalidPayMethod`。\n\n- PostPaid：按量付费。\n\n</props>\n\n\n<props=\"intl\">\n- PrePaid：包年包月。选择包年包月时，请确认您的支付方式支持信用额度支付，否则会提示`InvalidPayMethod`。\n\n- PostPaid：按量付费。\n\n</props>\n\n默认值：PostPaid。","type":"string","required":false,"example":"PrePaid"}},{"name":"Quantity","in":"query","schema":{"description":"本次创建的专有宿主机的数量。取值范围：1~100。\n\n默认值：1。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Period","in":"query","schema":{"description":"购买专有宿主机的包年包月时长。当参数`ChargeType`取值为`PrePaid`时，`Period`参数方可生效并为必选参数。取值范围：\n\n<props=\"china\">\n- PeriodUnit=Week时：1、2、3、4。\n- PeriodUnit=Month时：1、2、3、4、5、6、7、8、9、12、24、36、48、60。\n- PeriodUnit=Year时：1、2、3、4、5。\n\n</props>\n\n<props=\"intl\">\n- PeriodUnit=Month时：1、2、3、4、5、6、7、8、9、12、24、36、48、60。\n- PeriodUnit=Year时：1、2、3、4、5。\n\n</props>","type":"integer","format":"int32","required":false,"example":"6"}},{"name":"PeriodUnit","in":"query","schema":{"description":"购买专有宿主机的时长单位。取值范围：\n\n<props=\"china\">\n- Week\n- Month\n- Year\n\n</props>\n\n<props=\"intl\">\n- Month\n- Year\n\n</props>\n\n默认值：Month。","type":"string","required":false,"example":"Month"}},{"name":"AutoRenew","in":"query","schema":{"description":"是否自动续费包年包月专有宿主机。\n>当参数**ChargeType**取值PrePaid时，**AutoRenew**参数方可生效。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"AutoRenewPeriod","in":"query","schema":{"description":"单次自动续费的周期。当参数**AutoRenew**为true时，**AutoRenewPeriod**参数方可生效，并为必选参数。取值范围：\n\n<props=\"china\">\n- PeriodUnit=Week时：1、2、3。\n- PeriodUnit=Month时：1、2、3、6、12、24、36、48、60。\n\n</props>\n\n<props=\"intl\">PeriodUnit=Month时：1、2、3、6、12。</props>","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"AutoReleaseTime","in":"query","schema":{"description":"专有宿主机自动释放时间。需按照ISO 8601标准表示，并使用UTC+0时间，格式为`yyyy-MM-ddTHH:mm:ssZ`。\n\n> - 最短设置为当前时间之后半小时。\n> - 最长不能超过当前时间之后三年。\n> - 若参数值中的秒（ss）不是00，则自动取为00。","type":"string","required":false,"example":"2019-08-21T12:30:24Z"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}}],"responses":{"200":{"headers":{},"schema":{"description":"返回信息列表。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"E2A664A6-2933-4C64-88AE-5033D003****"},"DedicatedHostIdSets":{"type":"object","properties":{"DedicatedHostId":{"description":"专有宿主机ID（DedicatedHostId）组成的列表。","type":"array","items":{"description":"专有宿主机ID（DedicatedHostId）。","type":"string","example":"\"DedicatedHostIdSets\":{\"DedicatedHostId\":[\"dh-bp67acfmxazb4p****\", \"dh-bp67acfmxazb4d****\"]}"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidInstanceType.ValueUnauthorized","errorMessage":"The specified InstanceType is not authorized."},{"errorCode":"InvalidDescription.Malformed","errorMessage":"The specified parameter \"Description\" is not valid."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"The specified region and cluster do not match."},{"errorCode":"InvalidAutoRenewPeriod.ValueNotSupported","errorMessage":"The specified autoRenewPeriod is not valid."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"InvalidDedicatedHostType.ValueNotSupported","errorMessage":"%s"},{"errorCode":"RegionUnauthorized","errorMessage":"%s"},{"errorCode":"Zone.NotOnSale","errorMessage":"%s"},{"errorCode":"OperationDenied","errorMessage":"The specified DedicatedHostType or Zone is not available or not authorized."},{"errorCode":"InvalidPeriodUnit.ValueNotSupported","errorMessage":"The specified parameter PeriodUnit is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"QuotaExceed.AfterpayDedicatedHost","errorMessage":"The maximum number of Pay-As-You-Go DedicatedHosts is exceeded: %s"},{"errorCode":"InvalidChargeType.ValueNotSupported","errorMessage":"ChargeType is not valid"},{"errorCode":"InvalidParameter.SlbUdpTimeout","errorMessage":"The specified value is invalid."},{"errorCode":"InvalidParameter.UdpTimeout","errorMessage":"The specified value is invalid."},{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contain duplicate key."},{"errorCode":"InvalidParameter.Quantity","errorMessage":"The specified Quantity is invalid."},{"errorCode":"InvalidDedicatedHostPrice.NotFound","errorMessage":"The specified Dedicated price is not found."},{"errorCode":"InvalidDedicatedHostType.CpuOverCommitRatioNotSupported","errorMessage":"%s"},{"errorCode":"InvalidCpuOverCommitRatio.ValueNotSupported","errorMessage":"%s"}],"403":[{"errorCode":"OperationDenied","errorMessage":"The creation of Host to the specified Zone is not allowed."},{"errorCode":"OperationDenied.NoStock","errorMessage":"The requested resource is sold out in the specified zone; try other types of resources or other regions and zones."},{"errorCode":"NodeControllerUnavailable","errorMessage":"The Node Controller is temporarily unavailable."},{"errorCode":"InvalidParameter.ResourceOwnerAccount","errorMessage":"ResourceOwnerAccount is Invalid."},{"errorCode":"InvalidUserData.Forbidden","errorMessage":"User not authorized to input the parameter \"UserData\", please apply for permission \"UserData\""},{"errorCode":"Zone.NotOpen","errorMessage":"The specified zone is not granted to you to buy resources yet."},{"errorCode":"Zone.NotOnSale","errorMessage":"The specified zone is not available for purchase."},{"errorCode":"InvalidResourceType.NotSupported","errorMessage":"%s"},{"errorCode":"InvalidDedicatedHostType.ValueNotSupported","errorMessage":"The specified DedicatedHostType does not exist or beyond the permitted range."},{"errorCode":"InvalidDedicatedHostType.ZoneNotSupported","errorMessage":"The specified zone does not support this dedicatedHostType."},{"errorCode":"InvalidUserData.Base64FormatInvalid","errorMessage":"The specified UserData is not valid"},{"errorCode":"InvalidParameter.NotMatch","errorMessage":"%s"},{"errorCode":"Account.Arrearage","errorMessage":"Your account has been in arrears."}],"404":[{"errorCode":"OperationDenied.NoStock","errorMessage":"The requested resource is sold out in the specified zone; try other types of resources or other regions and zones."},{"errorCode":"InvalidZoneId.NotFound","errorMessage":"The ZoneId provided does not exist in our records."},{"errorCode":"OperationDenied","errorMessage":"Another Host has been creating"},{"errorCode":"PaymentMethodNotFound","errorMessage":"No payment method has been registered on the account."},{"errorCode":"InvalidDedicatedHostName.Malformed","errorMessage":"The specified parameter DedicatedHostName is not valid."},{"errorCode":"InvalidDedicatedHostClusterId.NotFound","errorMessage":"The specified DedicatedHostClusterId does not exist."},{"errorCode":"InvalidDedicatedHostClusterId.ExceedMaxSize","errorMessage":"The specified Dedicated Host Cluster exceeded max capacity."},{"errorCode":"InvalidParameter.ActionOnMaintenance","errorMessage":"The specified ActionOnMaintenance does not exist."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E2A664A6-2933-4C64-88AE-5033D003****\\\",\\n  \\\"DedicatedHostIdSets\\\": {\\n    \\\"DedicatedHostId\\\": [\\n      \\\"\\\\\\\"DedicatedHostIdSets\\\\\\\":{\\\\\\\"DedicatedHostId\\\\\\\":[\\\\\\\"dh-bp67acfmxazb4p****\\\\\\\", \\\\\\\"dh-bp67acfmxazb4d****\\\\\\\"]}\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AllocateDedicatedHostsResponse>\\n    <RequestId>E2A664A6-2933-4C64-88AE-5033D003EADF</RequestId>\\n    <DedicatedHostIdSets>\\n        <DedicatedHostId>dh-bp67acfmxazb4p****</DedicatedHostId>\\n        <DedicatedHostId>dh-bp67acfmxazb4d****</DedicatedHostId>\\n    </DedicatedHostIdSets>\\n</AllocateDedicatedHostsResponse>\",\"errorExample\":\"\"}]","title":"创建一台或多台按量付费或者包年包月专有宿主机","summary":"调用AllocateDedicatedHosts创建一台或多台按量付费或者包年包月专有宿主机。专有宿主机是单租户独享的物理机资源，您可以在专有宿主机上自行创建ECS实例和获取物理服务器属性等信息。","description":"创建专有宿主机前，您可以调用[DescribeAvailableResource](~~66186~~)查看指定地域或者可用区内的资源供给情况。\n\n创建专有宿主机会产生费用，建议您提前了解资源的计费方式。更多详情，请参见[计费概述](~~68978~~)。\n\n- 单次最多能创建100台包年包月或按量付费专有宿主机。\n- 创建成功后，您可以将返回的专有宿主机ID列表作为请求参数，调用[DescribeDedicatedHosts](~~134242~~)查询新建专有宿主机状态。\n- 提交创建专有宿主机的请求后，指定的参数值不合规或者库存不足时会报错。具体的报错原因，请参见错误码。\n- 创建专有宿主机后，您可以通过[ModifyInstanceDeployment](~~134248~~)将ECS实例从共享宿主机迁移到专有宿主机，也可以在两台专有宿主机上调整实例部署。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}