{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update","abilityTreeCode":"29316","abilityTreeNodes":["FEATUREecsDXRH67"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目标ECS实例所在的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"文件下发的资源组ID，当指定该参数时：\n\n- InstanceId对应的ECS实例必须属于该资源组。\n\n- 支持通过指定该参数筛选出对应的文件下发结果（通过调用[DescribeSendFileResults](~~184117~~)）。","type":"string","required":false,"example":"rg-bp67acfmxazb4p****"}},{"name":"RegionId","in":"query","schema":{"description":"目标ECS实例所在的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Name","in":"query","schema":{"description":"文件名称。支持全字符集，长度不得超过255个字符。","type":"string","required":true,"example":"file.txt"}},{"name":"Description","in":"query","schema":{"description":"描述信息。支持全字符集，长度不得超过512个字符。","type":"string","required":false,"example":"This is a test file."}},{"name":"Timeout","in":"query","schema":{"description":"下发文件的超时时间。单位：秒。\n\n- 当因为进程原因、缺失模块、缺失云助手Agent等原因无法下发文件时，会出现超时现象。\n- 当设置的超时时间小于10秒时，为确保下发成功，系统会将超时时间自动设置为10秒。\n\n默认值为60。","type":"integer","format":"int64","required":false,"example":"60"}},{"name":"TargetDir","in":"query","schema":{"description":"文件下发目标ECS实例中的目录。如不存在则会自动创建。长度不得超过255个字符。","type":"string","required":true,"example":"/home"}},{"name":"ContentType","in":"query","schema":{"description":"文件内容类型。\n- PlainText：普通文本。\n- Base64：Base64编码。\n\n默认值为PlainText。","type":"string","required":false,"example":"PlainText"}},{"name":"Content","in":"query","schema":{"description":"文件内容。文件内容在Base64编码后，大小不能超过32 KB。\n\n- 当`ContentType`参数为`PlainText`时，该字段为明文格式的普通文本。\n- 当`ContentType`参数为`Base64`时，该字段为Base64编码的文本。","type":"string","required":true,"example":"#!/bin/bash  echo \"Current User is :\"  echo $(ps | grep \"$$\" | awk '{print $2}')  --------  oss://bucketName/objectName"}},{"name":"FileOwner","in":"query","schema":{"description":"文件的用户。只对Linux实例生效，默认为root。长度不得超过64个字符。\n\n>使用其他用户时，请确保实例中存在该用户。","type":"string","required":false,"example":"test"}},{"name":"FileGroup","in":"query","schema":{"description":"文件的用户组。只对Linux实例生效，默认为root。长度不得超过64个字符。\n\n>使用其他用户组时，请确保实例中存在该用户组。","type":"string","required":false,"example":"test"}},{"name":"FileMode","in":"query","schema":{"description":"文件的权限。只对Linux实例生效，设置方式与chmod命令相同。\n\n默认值为0644，表示用户具有读写权限，用户组和其它用户具有只读权限。","type":"string","required":false,"example":"0644"}},{"name":"Overwrite","in":"query","schema":{"description":"如果同名文件在目标目录已存在，是否覆盖文件。\n- true：覆盖。\n- false：不覆盖。\n\n默认值为false。","type":"boolean","required":false,"example":"true"}},{"name":"InstanceId","in":"query","style":"repeatList","schema":{"description":"需要执行命令的ECS实例列表。最多能指定50台ECS实例ID。N的取值范围为1~50。","type":"array","items":{"description":"需要执行命令的ECS实例列表。最多能指定50台ECS实例ID。N的取值范围为1~50。","type":"string","required":false,"example":"i-bp185dy2o3o6n****"},"required":true,"example":"i-bp185dy2o3o6n****","maxItems":100}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"文件下发的标签键。N的取值范围为1~20。一旦传入该值，则不允许为空字符串。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个。使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，您需要使用[ListTagResources](~~110425~~)接口进行查询。\n\n最多支持64个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"文件下发的标签值。N的取值范围为1~20。该值可以为空字符串。\n\n最多支持128个字符，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"InvokeId":{"description":"命令执行ID。","type":"string","example":"f-7d2a745b412b46****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"errorCodes":{"400":[{"errorCode":"RegionId.ApiNotSupported","errorMessage":"The api is not supported in this region."},{"errorCode":"MissingParam.InstanceId","errorMessage":"The parameter instanceId is missing or empty."},{"errorCode":"NumberExceed.Tags","errorMessage":"The Tags parameter number is exceed."},{"errorCode":"MissingParameter.TagKey","errorMessage":"You must specify Tag.N.Key."},{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contain duplicate key."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"FileTargetDir.Invalid","errorMessage":"The target directory of file is invalid."},{"errorCode":"FileMode.Invalid","errorMessage":"The mode of file is invalid."},{"errorCode":"FileContent.DecodeError","errorMessage":"The Content can not be base64 decoded."},{"errorCode":"FileContentType.Invalid","errorMessage":"The ContentType of file is invalid."},{"errorCode":"InvalidParameter.FileOwner","errorMessage":"The specified parameter FileOwner is not valid."},{"errorCode":"InvalidParameter.FileGroup","errorMessage":"The specified parameter FileGroup is not valid."}],"403":[{"errorCode":"FileSize.ExceedLimit","errorMessage":"The length of file content exceeds limit."},{"errorCode":"FileName.ExceedLimit","errorMessage":"The length of file name exceeds limit."},{"errorCode":"FileDesc.ExceedLimit","errorMessage":"The length of file description exceeds limit."},{"errorCode":"InstanceIds.ExceedLimit","errorMessage":"The number of instance IDs exceeds the upper limit."},{"errorCode":"Operation.Forbidden","errorMessage":"The operation is not permitted."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."},{"errorCode":"InvalidInstance.NotFound","errorMessage":"The specified instances not found."},{"errorCode":"InvalidResourceGroup.NotFound","errorMessage":"The ResourceGroup provided does not exist in our records."}],"500":[{"errorCode":"InternalError.Dispatch","errorMessage":"An error occurred when you dispatched the request."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"InvokeId\\\": \\\"f-7d2a745b412b46****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SendFileResponse>\\r\\n        <RequestId>E69EF3CC-94CD-42E7-8926-F133B86387C0</RequestId>\\r\\n        <InvokeId>f-7d2a745b412b46****</InvokeId>\\r\\n</SendFileResponse>\",\"errorExample\":\"\"}]","title":"上传本地文件到ECS实例","summary":"调用SendFile向一台或多台ECS实例下发远程文件。","description":"## 接口说明\n\n- 目标ECS实例的状态必须为运行中（`Running`）。\n- 目标ECS实例必须预先安装[云助手Agent](~~64921~~)。\n- 云助手Agent版本需要高于以下对应的版本才能支持下发文件。如果结果返回`ClientNeedUpgrade`错误码，请将客户端更新至最新版本。\n    - Linux：1.0.2.569\n    - Windows：1.0.0.149\n- 文件内容在进行Base64编码后，大小不能超过32 KB。\n- 文件下发可能会因为目标ECS实例的状态异常、网络异常或云助手Agent异常而出现失败的情况。请调用[DescribeSendFileResults](~~184117~~)，或参考[执行失败常见错误及修复建议](~~87029~~)进行问题排查。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}