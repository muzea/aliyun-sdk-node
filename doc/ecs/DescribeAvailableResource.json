{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"28903","abilityTreeNodes":["FEATUREecs2UXJI2"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"目标地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"InstanceChargeType","in":"query","schema":{"description":"资源的计费方式。更多信息，请参见[计费概述](~~25398~~)。取值范围： \n         \n- PrePaid：包年包月。\n- PostPaid：按量付费。\n\n默认值：PostPaid。","type":"string","required":false,"example":"PrePaid"}},{"name":"SpotStrategy","in":"query","schema":{"description":"按量付费实例的竞价策略。取值范围： \n         \n- NoSpot：正常按量付费实例。\n- SpotWithPriceLimit：设置上限价格的抢占式实例。\n- SpotAsPriceGo：系统自动出价，最高按量付费价格。\n\n默认值：NoSpot。\n\n当参数InstanceChargeType取值为PostPaid时，参数SpotStrategy才有效。 ","type":"string","required":false,"example":"NoSpot"}},{"name":"SpotDuration","in":"query","schema":{"description":"抢占式实例的保留时长，单位为小时。 默认值：1。取值范围：\n- 1：创建后阿里云会保证实例运行1小时不会被自动释放；超过1小时后，系统会自动比较出价与市场价格、检查资源库存，来决定实例的持有和回收。\n- 0：创建后，阿里云不保证实例运行1小时，系统会自动比较出价与市场价格、检查资源库存，来决定实例的持有和回收。\n\n实例回收前5分钟阿里云会通过ECS系统事件向您发送通知。抢占式实例按秒计费，建议您结合具体任务执行耗时来选择合适的保留时长。\n\n> 当SpotStrategy值为SpotWithPriceLimit或SpotAsPriceGo时该参数生效。","type":"integer","format":"int32","required":false,"maximum":"6","minimum":"0","example":"1"}},{"name":"DestinationResource","in":"query","schema":{"description":"要查询的资源类型。取值范围： \n         \n- Zone：可用区。\n- IoOptimized：I/O优化。\n- InstanceType：实例规格。\n- SystemDisk：系统盘。\n- DataDisk：数据盘。\n- Network：网络类型。\n- ddh：专有宿主机。\n\n参数DestinationResource的取值方式请参见本文中的**接口说明**。","type":"string","required":true,"example":"InstanceType"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。\n\n默认值：无，表示随机分配当前地域下的可用区，返回该地域（`RegionId`）下所有可用区的符合查询条件的资源。","type":"string","required":false,"example":"cn-hangzhou-e"}},{"name":"IoOptimized","in":"query","schema":{"description":"是否为I/O优化实例。取值范围： \n         \n- none：非I/O优化实例。\n- optimized：I/O优化实例。\n\n\n默认值：optimized。","type":"string","required":false,"example":"optimized"}},{"name":"DedicatedHostId","in":"query","schema":{"description":"专有宿主机ID。","type":"string","required":false,"example":"dh-bp165p6xk2tlw61e****"}},{"name":"InstanceType","in":"query","schema":{"description":"实例规格。更多信息，请参见[实例规格族](~~25378~~)，您也可以调用[DescribeInstanceTypes](~~25620~~)接口获得最新的规格表。\n\n参数InstanceType的取值方式请参见本文中的**接口说明**。","type":"string","required":false,"example":"ecs.g5.large"}},{"name":"SystemDiskCategory","in":"query","schema":{"description":"系统盘类型。取值范围： \n         \n- cloud：普通云盘。\n- cloud_efficiency：高效云盘。\n- cloud_ssd：SSD云盘。\n- ephemeral_ssd：本地SSD盘。\n- cloud_essd：ESSD云盘。\n- cloud_auto：ESSD AutoPL云盘。\n<props=\"china\">\n- cloud_essd_entry：ESSD Entry云盘。\n</props>\n\n默认值：cloud_efficiency。\n\n> 参数ResourceType取值为instance、DestinationResource取值为DataDisk时，参数SystemDiskCategory是必选参数。如果未传递参数值，则以默认值生效。","type":"string","required":false,"example":"cloud_ssd"}},{"name":"DataDiskCategory","in":"query","schema":{"description":"数据盘类型。取值范围： \n         \n- cloud：普通云盘。\n- cloud_efficiency：高效云盘。\n- cloud_ssd：SSD云盘。\n- ephemeral_ssd：本地SSD盘。\n- cloud_essd：ESSD云盘。\n- cloud_auto：ESSD AutoPL云盘。\n<props=\"china\">\n- cloud_essd_entry：ESSD Entry云盘。\n</props>","type":"string","required":false,"example":"cloud_ssd"}},{"name":"NetworkCategory","in":"query","schema":{"description":"网络类型。取值范围： \n        \n- vpc：专有网络。\n- classic：经典网络。\n         ","type":"string","required":false,"example":"vpc"}},{"name":"Cores","in":"query","schema":{"description":"实例规格的vCPU内核数目。取值参见[实例规格族](~~25378~~)。\n\n当DestinationResource取值为InstanceType时，Cores才为有效参数。 ","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Memory","in":"query","schema":{"description":"实例规格的内存大小，单位为GiB。取值参见[实例规格族](~~25378~~)。\n\n当DestinationResource取值为InstanceType时，Memory才为有效参数。 ","type":"number","format":"float","required":false,"example":"8.0"}},{"name":"ResourceType","in":"query","schema":{"description":"资源类型。取值范围：\n\n- instance：ECS实例。\n- disk：云盘。\n- reservedinstance：预留实例券。\n- ddh：专有宿主机。","type":"string","required":false,"example":"instance"}},{"name":"Scope","in":"query","schema":{"description":"预留实例券的范围。取值范围：\n         \n- Region：地域级别。\n- Zone：可用区级别。","type":"string","required":false,"example":"Region"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0041D94C-FB92-4C49-B115-259DA1C*****"},"AvailableZones":{"type":"object","properties":{"AvailableZone":{"description":"库存信息组成的集合。","type":"array","items":{"description":"库存信息组成的集合。","type":"object","properties":{"ZoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-e"},"Status":{"description":"可用区的状态描述。可能值： \n          \n- Available：资源充足 \n- SoldOut：资源已售罄 \n          ","type":"string","example":"Available"},"StatusCategory":{"description":"根据可用区下库存情况对可用区状态进行详细描述。可能值：\n\n- WithStock：库存充足。\n- ClosedWithStock：库存供应保障能力低，建议选用WithStock状态的产品规格。\n- WithoutStock：库存售罄，将会补充资源，建议选用WithStock状态的产品规格。\n- ClosedWithoutStock：库存售罄，且不补充资源，请选用WithStock状态的产品规格。","type":"string","example":"WithStock"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"AvailableResources":{"type":"object","properties":{"AvailableResource":{"description":"可供创建的具体资源组成的数组。","type":"array","items":{"description":"可供创建的具体资源组成的数组。","type":"object","properties":{"Type":{"description":"资源类型。可能值： \n          \n- Zone：可用区。\n- IoOptimized：I/O优化。 \n- InstanceType：实例规格。\n- SystemDisk：系统盘。 \n- DataDisk：数据盘。 \n- Network：网络类型。\n- ddh：专有宿主机。\n          ","type":"string","example":"InstanceType"},"SupportedResources":{"type":"object","properties":{"SupportedResource":{"description":"支持的可供创建的具体资源组成的数组。","type":"array","items":{"description":"支持的可供创建的具体资源组成的数组。","type":"object","properties":{"Status":{"description":"具体资源类型的状态描述。可能值： \n          \n- Available：资源充足。 \n- SoldOut：资源已售罄。 \n          ","type":"string","example":"Available"},"Value":{"description":"资源值。","type":"string","example":"ecs.d1ne.xlarge"},"Max":{"description":"云盘容量范围的最大值。\n\n仅当入参DestinationResource取值为SystemDisk或DataDisk时该参数才生效。","type":"integer","format":"int32","example":"2048"},"Unit":{"description":"云盘容量的单位。\n\n仅当入参DestinationResource取值为SystemDisk或DataDisk时该参数才生效。","type":"string","example":"GiB"},"StatusCategory":{"description":"根据库存情况对资源状态进行详细描述。可能值：\n\n- WithStock：库存充足。\n- ClosedWithStock：库存供应保障能力低，建议选用WithStock状态的产品规格。\n- WithoutStock：库存售罄，将会补充资源，建议选用WithStock状态的产品规格。\n- ClosedWithoutStock：库存售罄，且不补充资源，请选用WithStock状态的产品规格。","type":"string","example":"WithStock"},"Min":{"description":"云盘容量范围的最小值。\n\n仅当入参DestinationResource取值为SystemDisk或DataDisk时该参数才生效。","type":"integer","format":"int32","example":"20"}}}}}}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.InstanceChargeType","errorMessage":"The specified InstanceChargeType is not valid."},{"errorCode":"Invalid.Param","errorMessage":"The input parameter DestinationResource that is mandatory for processing this request is not supplied."},{"errorCode":"InvalidRegionId.MalFormed","errorMessage":"The specified parameter RegionId is not valid."}],"403":[{"errorCode":"InvalidDedicatedHostId.NotFound","errorMessage":"The specified DedicatedHostId does not exist."},{"errorCode":"InvalidParam.TypeAndCpuMem.Conflict","errorMessage":"The specified 'InstanceType' and 'Cores','Memory' are not blank at the same time."},{"errorCode":"InvalidParam.Cores","errorMessage":"The specified parameter 'Cores' should be empty"},{"errorCode":"InvalidParam.Memory","errorMessage":"The specified parameter 'Memory' should be empty"},{"errorCode":"InvalidParameter.Scope","errorMessage":"The specified parameter Scope is invalid."},{"errorCode":"OperationDenied.RegionIdNotSupported","errorMessage":"region not support spot duration instance."},{"errorCode":"OperationDenied.FlavorNotSupported","errorMessage":"flavor not support spot duration instance."},{"errorCode":"OperationDenied.TimestampNotSupported","errorMessage":"timestamp not support spot duration instance."},{"errorCode":"InvalidParameter.ResourceOwnerId","errorMessage":"The specified parameter ResourceOwnerId is not available anymore."}],"404":[{"errorCode":"Invalid.RegionId","errorMessage":"The specified RegionId does not exist."},{"errorCode":"Unavailable.Regions","errorMessage":"The available regions does not exists"},{"errorCode":"Invalid.ResourceType","errorMessage":"The ResourceType provided does not exist in our records."},{"errorCode":"Invalid.DestinationResource","errorMessage":"The specified DestinationResource is not valid."},{"errorCode":"Invalid.IoOptimized","errorMessage":"The specified IoOptimized is not valid."},{"errorCode":"Invalid.NetworkCategory","errorMessage":"The specified NetworkCategory is not valid."},{"errorCode":"Invalid.SpotStrategy","errorMessage":"The specified SpotStrategy is not valid."},{"errorCode":"Invalid.NetworkType","errorMessage":"The specified NetworkType is not valid."},{"errorCode":"InvalidResourceId.NotFound","errorMessage":"The specified ResourceId is not found in our records"},{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0041D94C-FB92-4C49-B115-259DA1C*****\\\",\\n  \\\"AvailableZones\\\": {\\n    \\\"AvailableZone\\\": [\\n      {\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-e\\\",\\n        \\\"Status\\\": \\\"Available\\\",\\n        \\\"StatusCategory\\\": \\\"WithStock\\\",\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"AvailableResources\\\": {\\n          \\\"AvailableResource\\\": [\\n            {\\n              \\\"Type\\\": \\\"InstanceType\\\",\\n              \\\"SupportedResources\\\": {\\n                \\\"SupportedResource\\\": [\\n                  {\\n                    \\\"Status\\\": \\\"Available\\\",\\n                    \\\"Value\\\": \\\"ecs.d1ne.xlarge\\\",\\n                    \\\"Max\\\": 2048,\\n                    \\\"Unit\\\": \\\"GiB\\\",\\n                    \\\"StatusCategory\\\": \\\"WithStock\\\",\\n                    \\\"Min\\\": 20\\n                  }\\n                ]\\n              }\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeAvailableResourceResponse>\\n    <RequestId>0041D94C-FB92-4C49-B115-259DA1C*****</RequestId>\\n    <AvailableZones>\\n        <AvailableZone>\\n            <Status>Available</Status>\\n            <RegionId>cn-hangzhou</RegionId>\\n            <AvailableResources>\\n                <AvailableResource>\\n                    <Type>InstanceType</Type>\\n                    <SupportedResources>\\n                        <SupportedResource>\\n                            <Status>Available</Status>\\n                            <Value>ecs.g5.large</Value>\\n                            <StatusCategory>WithStock</StatusCategory>\\n                        </SupportedResource>\\n                    </SupportedResources>\\n                </AvailableResource>\\n            </AvailableResources>\\n            <ZoneId>cn-hangzhou-i</ZoneId>\\n            <StatusCategory>WithStock</StatusCategory>\\n        </AvailableZone>\\n    </AvailableZones>\\n</DescribeAvailableResourceResponse>\",\"errorExample\":\"\"}]","title":"查询某一可用区的资源列表","summary":"调用DescribeAvailableResource查询某一可用区的资源列表。您可以在某一可用区创建实例（RunInstances）或者修改实例规格（ModifyInstanceSpec）时查询该可用区的资源列表。","description":"## 接口说明\n\n参数`DestinationResource`的取值有不同的逻辑与要求。在下列的顺序列表中，顺序越低的取值需要设置更多的参数，不支持通过低顺序的取值筛选高顺序的资源类别。\n\n- 取值顺序：`Zone > IoOptimized > InstanceType = Network = ddh > SystemDisk > DataDisk`\n\n- 取值示例：\n\n    - 若参数`DestinationResource`取值为`DataDisk`：\n\n         - `ResourceType`取值为`disk`表示查询与ECS实例规格无关的数据盘类型，可以不传入参数`InstanceType`。\n\n        - `ResourceType`取值为`instance`表示查询与ECS实例同时购买的数据盘类型，因实例规格对系统盘及数据盘有一定的限制，所以需要同时指定`InstanceType`与参数`SystemDiskCategory`。\n\n    - 若参数`DestinationResource`取值为`SystemDisk`，`ResourceType`取值为`instance`，由于ECS实例规格对系统盘存在限制，则必须要传入参数`InstanceType`。\n\n    - 若参数`DestinationResource`取值为`InstanceType`，建议传入参数`IoOptimized`和`InstanceType`。\n\n    - 查询指定地域下所有可用区的ecs.g5.large库存供应情况：`RegionId=cn-hangzhou &DestinationResource=InstanceType &IoOptimized=optimized &InstanceType=ecs.g5.large`。\n\n    - 查询指定地域下有ecs.g5.large库存供应的可用区列表：`RegionId=cn-hangzhou &DestinationResource=Zone &IoOptimized=optimized &InstanceType=ecs.g5.large`。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}