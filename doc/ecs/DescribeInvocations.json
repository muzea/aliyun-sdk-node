{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"29283","abilityTreeNodes":["FEATUREecsPW0L5N"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"命令执行的资源组ID。传入该参数后，需要在执行命令时指定ResourceGroupId，支持筛选出对应的命令执行结果。","type":"string","required":false,"example":"rg-bp67acfmxazb4p****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"InvokeId","in":"query","schema":{"description":"命令执行ID。","type":"string","required":false,"example":"t-hz0jdfwd9f****"}},{"name":"CommandId","in":"query","schema":{"description":"命令ID。您可以通过接口[DescribeCommands](~~64843~~)查询所有可用的CommandId。 ","type":"string","required":false,"example":"c-hz0jdfwcsr****"}},{"name":"CommandName","in":"query","schema":{"description":"命令名称。如果同时设置了`InstanceId`参数，则该参数不生效。","type":"string","required":false,"example":"CommandTestName"}},{"name":"CommandType","in":"query","schema":{"description":"命令类型。取值范围：\n\n- RunBatScript：命令为在Windows实例中运行的Bat脚本。\n- RunPowerShellScript：命令为在Windows实例中运行的PowerShell脚本。\n- RunShellScript：命令为在Linux实例中运行的Shell脚本。","type":"string","required":false,"example":"RunShellScript"}},{"name":"Timed","in":"query","schema":{"description":"查询的命令是否在将来会自动执行。取值范围：\n\n- true：查询在调用`RunCommand`或`InvokeCommand`执行命令时，`RepeatMode`参数取值为`Period`、`NextRebootOnly`或者`EveryReboot`。\n- false：查询以下两种状态的命令。\n    - 在调用`RunCommand`或`InvokeCommand`执行命令时，`RepeatMode`参数取值为`Once`。\n    - 已被取消、被停止或者已完成执行的命令。\n\n默认值：false。","type":"boolean","required":false,"example":"true"}},{"name":"InvokeStatus","in":"query","schema":{"description":"命令执行的总执行状态。总执行状态取决于创建执行中的一台或多台实例的共同执行状态。取值范围： \n         \n- Running：\n    - 定时执行：未手动停止定时执行命令前，执行状态一直为进行中。\n    - 单次执行：一旦有进行中的命令进程，总的执行状态就为进行中。\n- Finished：\n    - 定时执行：命令进程不可能为执行完成。\n    - 单次执行：所有实例全部完成执行。或者手动停止部分实例的命令进程，其余实例全部执行完成。\n- Success：各个实例上的命令执行状态均为Stopped或Success，且至少一个实例的命令执行状态是Success，则总执行状态为Success。\n    - 立即运行的任务：命令执行完成，且退出码为0。\n    - 定时运行的任务：最近一次执行成功且退出码为0，且指定的时间已全部完成。\n- Failed：\n    - 定时执行：命令进程不可能为执行失败。\n    - 单次执行：所有实例全部执行失败。\n- Stopped：停止命令。\n- Stopping：停止中。\n- PartialFailed：部分失败；如果同时设置了`InstanceId`参数，则不生效。","type":"string","required":false,"example":"Finished"}},{"name":"InstanceId","in":"query","schema":{"description":"实例ID。当您传入了该参数，将查询该实例所有的命令执行记录。","type":"string","required":false,"example":"i-bp1i7gg30r52z2em****"}},{"name":"ContentEncoding","in":"query","schema":{"description":"设置返回数据中`CommandContent`字段和`Output`字段的编码方式。取值范围：\n\n- PlainText：返回原始命令内容和输出信息。\n- Base64：返回Base64编码后的命令内容和输出信息。\n\n默认值：Base64。","type":"string","required":false,"example":"PlainText"}},{"name":"IncludeOutput","in":"query","schema":{"description":"是否在结果中返回命令运行的输出信息。\n\n- true：返回。此时，您至少指定参数`InvokeId`或`InstanceId`。\n- false：不返回。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"PageNumber","in":"query","schema":{"description":"当前页码。\n\n起始值：1。\n\n默认值：1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。\n\n最大值：50。\n\n默认值：10。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页的最大条目数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","required":false,"example":"AAAAAdDWBF2"}},{"name":"RepeatMode","in":"query","schema":{"description":"命令执行的方式。如果同时设置了`InstanceId`参数，则不生效。取值范围：\n\n- Once：立即执行命令。\n- Period：定时执行命令。\n- NextRebootOnly：当实例下一次启动时，自动执行命令。\n- EveryReboot：实例每一次启动都将自动执行命令。\n\n默认值为空，表示查询全部。","type":"string","required":false,"example":"Once"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"命令执行的标签键。N的取值范围为1~20。一旦传入该值，则不允许为空字符串。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个；使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，您需要使用[ListTagResources](~~110425~~)接口进行查询。\n\n最多支持64个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。\n\n","type":"string","required":false,"example":"TestKey"},"Value":{"description":"命令执行的标签值。N的取值范围为1~20。该值可以为空字符串。\n最多支持128个字符，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageSize":{"description":"每页行数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"PageNumber":{"description":"查询结果的页码。","type":"integer","format":"int64","example":"1"},"TotalCount":{"description":"命令总个数。","type":"integer","format":"int64","example":"1"},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF2"},"Invocations":{"type":"object","properties":{"Invocation":{"description":"命令执行记录组成的数组。 ","type":"array","items":{"description":"任务创建的时间。","type":"object","properties":{"CreationTime":{"description":"任务的创建时间。","type":"string","example":"2020-01-19T09:15:46Z"},"Frequency":{"description":"定时执行命令的执行时间。","type":"string","example":"0 */20 * * * *"},"InvocationStatus":{"description":"命令执行的总执行状态，总执行状态取决于本次调用的全部实例的共同执行状态，可能值：\n- Pending：系统正在校验或发送命令。存在至少一台实例的命令执行状态为Pending，则总执行状态为Pending。\n- Scheduled：定时执行的命令已发送，等待运行。存在至少一台实例的命令执行状态为Scheduled，则总执行状态为Scheduled。\n- Running：命令正在实例上运行。存在至少一台实例的命令执行状态为Running，则总执行状态为Running。\n- Success：各个实例上的命令执行状态均为Stopped或Success，且至少一个实例的命令执行状态是Success，则总执行状态为Success。\n    - 立即运行的任务：命令执行完成，且退出码为0。\n    - 定时运行的任务：最近一次执行成功且退出码为0，且指定的时间已全部完成。\n- Failed：各个实例上的命令执行状态均为Stopped或Failed，则总执行状态为Failed。实例上的命令执行状态一项或多项为以下状态时，返回值均为Failed状态：\n    - 命令校验失败（Invalid）。\n    - 命令发送失败（Aborted）。\n    - 命令执行完成但退出码非0（Failed）。\n    - 命令执行超时（Timeout）。\n    - 命令执行异常（Error）。\n- Stopping：正在停止任务。存在至少一台实例的命令执行状态为Stopping，则总执行状态为Stopping。\n- Stopped：任务已停止。所有实例的命令执行状态是Stopped，则总执行状态为Stopped。实例上的命令执行状态为以下状态时，返回值均为Stopped状态：\n    - 任务已取消（Cancelled）。\n    - 任务已终止（Terminated）。\n- PartialFailed：部分实例执行成功且部分实例执行失败。各个实例的命令执行状态均为Success、Failed或Stopped，则总执行状态为PartialFailed。\n\n> 返回参数中的`InvokeStatus`与该参数意义相似，但建议您查看该返回值。\n","type":"string","example":"Running"},"RepeatMode":{"description":"命令执行的方式。可能值：\n\n- Once：立即执行命令。\n- Period：定时执行命令。\n- NextRebootOnly：当实例下一次启动时，自动执行命令。\n- EveryReboot：实例每一次启动都将自动执行命令。","type":"string","example":"Once"},"CommandId":{"description":"命令ID。","type":"string","example":"c-hz0jdfwcsr****"},"CommandType":{"description":"命令类型。","type":"string","example":"RunShellScript"},"InvokeStatus":{"description":"命令总的执行状态。\n> 不推荐查看该返回值，推荐您查看`InvocationStatus`的返回值。","type":"string","example":"Finished"},"Parameters":{"description":"命令中的自定义参数。","type":"string","example":"{}"},"Timed":{"description":"查询的命令是否在将来会自动执行。","type":"boolean","example":"false"},"CommandContent":{"description":"命令内容。\n\n- 若ContentEncoding指定PlainText，返回原始脚本内容。\n- 若ContentEncoding指定Base64，返回Base64编码后的脚本内容。","type":"string","example":"cnBtIC1xYSB8IGdyZXAgdnNm****"},"CommandName":{"description":"命令名称。","type":"string","example":"CommandTestName"},"CommandDescription":{"description":"命令描述。","type":"string","example":"testDescription"},"InvokeId":{"description":"命令执行ID。","type":"string","example":"t-hz0jdfwd9f****"},"Username":{"description":"ECS实例中执行命令的用户名称。","type":"string","example":"test"},"WorkingDir":{"description":"命令执行路径。","type":"string","example":"/home/"},"Timeout":{"description":"您创建的命令在ECS实例中执行时最大的超时时间，单位：秒。\n\n当因为某种原因无法运行您创建的命令时，会出现超时现象。超时后，会强制终止命令进程，即取消命令的PID。","type":"integer","format":"int64","example":"60"},"ContainerId":{"description":"容器ID。","type":"string","example":"ab141ddfbacfe02d9dbc25966ed971536124527097398d419a6746873fea****"},"ContainerName":{"description":"容器名称。","type":"string","example":"test-container"},"TerminationMode":{"description":"停止任务（手动停止或执行超时打断）时的模式。可能值：\n- Process：停止当前脚本进程。\n- ProcessTree：停止当前进程树（脚本进程以及它创建的所有子进程的集合）。","type":"string","example":"ProcessTree"},"InvokeInstances":{"type":"object","properties":{"InvokeInstance":{"description":"执行目标实例集类型。 ","type":"array","items":{"description":"执行状态列表。","type":"object","properties":{"CreationTime":{"description":"命令执行的开始时间。","type":"string","example":"2019-12-20T06:15:54Z"},"UpdateTime":{"description":"命令状态的更新时间。","type":"string","example":"2020-01-19T09:15:47Z"},"FinishTime":{"description":"命令进程的结束时间。","type":"string","example":"2019-12-20T06:15:56Z"},"InvocationStatus":{"description":"单台实例的命令进度状态，可能值：\n- Pending：系统正在校验或发送命令。\n- Invalid：指定命令类型或参数有误。\n- Aborted：向实例发送命令失败。实例必须在运行中，且命令可以1分钟内发送完成。\n- Running：命令正在实例上运行。\n- Success：\n    - 单次执行的命令：命令执行完成，且退出码为0。\n    - 定时执行的命令：上一次运行成功且退出码为0，且指定的时间已结束。\n- Failed：\n    -  单次执行的命令：命令执行完成，且退出码非0。\n    -  定时执行的命令：上一次运行成功且退出码非0，且指定的时间将中止。\n- Error：命令执行时发生异常无法继续。\n- Timeout：命令执行超时。\n- Cancelled：命令的执行动作已经取消，命令未曾启动。\n- Stopping：正在停止任务。\n- Terminated：命令运行时被终止。\n- Scheduled：\n    - 单次执行的命令：不适用，不会出现。\n    - 定时执行的命令：等待运行。","type":"string","example":"Success"},"Repeats":{"description":"命令在该实例上执行的次数。\n-  若执行方式为单次执行，则值为0或1。\n-  若执行方式为定时执行，则值为执行过多少次。","type":"integer","format":"int32","example":"0"},"InstanceId":{"description":"实例ID。","type":"string","example":"i-bp1i7gg30r52z2em****"},"Output":{"description":"命令的输出信息。\n\n- 若ContentEncoding指定PlainText，返回原始输出信息。\n- 若ContentEncoding指定Base64，返回Base64编码后的输出信息。","type":"string","example":"OutPutTestmsg"},"Dropped":{"description":"Output字段中文字长度超出24 KB后，截断丢弃的文字长度。","type":"integer","format":"int32","example":"0"},"StopTime":{"description":"若调用了`StopInvocation`以停止命令执行，表示调用的时间。","type":"string","example":"2020-01-19T09:15:47Z"},"ExitCode":{"description":"命令进程的退出代码。可能值：\n\n-  Linux实例为Shell进程的退出码。\n-  Windows实例为Bat或者PowerShell进程的退出码。","type":"integer","format":"int64","example":"0"},"StartTime":{"description":"命令在实例中开始执行的时间。","type":"string","example":"2019-12-20T06:15:55Z"},"ErrorInfo":{"description":"命令的下发失败或执行失败原因的详情，可能值：\n- 空：命令运行正常。\n- the specified instance does not exists：指定的实例不存在或已释放。\n- the instance has released when create task：执行命令期间，该实例被释放。\n- the instance is not running when create task：开始执行命令时，该实例不在运行中。\n- the command is not applicable：命令不适用于指定的实例。\n- the specified account does not exists：指定的账号不存在。\n- the specified directory does not exists：指定的目录不存在。\n- the cron job expression is invalid：指定的执行时间表达式不合法。\n- the aliyun service is not running on the instance：云助手Agent未运行。\n- the aliyun service in the instance does not response：云助手Agent无响应。\n- the aliyun service in the instance is upgrading now：云助手Agent正在升级中。\n- the aliyun service in the instance need upgrade：云助手Agent需要升级。\n- the command delivery has been timeout：发送命令超时。\n- the command execution has been timeout：命令执行超时。\n- the command execution got an exception：命令执行发生异常。\n- the command execution has been interrupted：命令执行任务中断。\n- the command execution exit code is not zero：命令执行结束，退出码非0。\n- the specified instance has been released：下发文件期间，该实例被释放。","type":"string","example":"the specified instance does not exists"},"Timed":{"description":"查询的命令是否在将来会自动执行。","type":"boolean","example":"false"},"ErrorCode":{"description":"命令的下发失败或执行失败原因的代码，可能值：\n- 空：命令运行正常。\n- InstanceNotExists：指定的实例不存在或已释放。\n- InstanceReleased：执行命令期间，该实例被释放。\n- InstanceNotRunning：开始执行命令时，该实例不在运行中。\n- CommandNotApplicable：命令不适用于指定的实例。\n- AccountNotExists：指定的执行命令的用户名不存在。\n- DirectoryNotExists：指定的目录不存在。\n- BadCronExpression：指定的执行时间表达式不合法。 \n- ClientNotRunning：云助手Agent未运行。\n- ClientNotResponse：云助手Agent无响应。\n- ClientIsUpgrading：云助手Agent正在升级中。\n- ClientNeedUpgrade：云助手Agent需要升级。\n- DeliveryTimeout：发送命令超时。\n- ExecutionTimeout：命令执行超时。\n- ExecutionException：命令执行发生异常。\n- ExecutionInterrupted：命令执行任务中断。\n- ExitCodeNonzero：命令执行结束，退出码非0。\n- SecurityGroupRuleDenied：安全组规则拒绝访问云助手服务。","type":"string","example":"InstanceNotExists"},"InstanceInvokeStatus":{"description":"单台实例的命令进度状态。\n\n> 不推荐查看该返回值，推荐您查看`InvocationStatus`的返回值。","type":"string","example":"Finished"}}}}}},"Tags":{"type":"object","properties":{"Tag":{"description":"命令执行的标签信息。","type":"array","items":{"description":"命令执行的标签信息。","type":"object","properties":{"TagKey":{"description":"命令执行的标签键。","type":"string","example":"owner"},"TagValue":{"description":"命令执行的标签值。","type":"string","example":"zhangsan"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"RegionId.ApiNotSupported","errorMessage":"The api is not supported in this region."},{"errorCode":"NumberExceed.Tags","errorMessage":"The Tags parameter number is exceed."},{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contain duplicate key."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"MissingParameter.TagKey","errorMessage":"You must specify Tag.N.Key."},{"errorCode":"InvalidParam.PageNumber","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParam.PageSize","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The specified parameter NextToken is not valid."},{"errorCode":"InvalidParameter.MaxResults","errorMessage":"The specified parameter MaxResults is not valid."}],"403":[{"errorCode":"Operation.Forbidden","errorMessage":"The operation is not permitted."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."}],"500":[{"errorCode":"InternalError.Dispatch","errorMessage":"An error occurred when you dispatched the request."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"TotalCount\\\": 1,\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF2\\\",\\n  \\\"Invocations\\\": {\\n    \\\"Invocation\\\": [\\n      {\\n        \\\"CreationTime\\\": \\\"2020-01-19T09:15:46Z\\\",\\n        \\\"Frequency\\\": \\\"0 */20 * * * *\\\",\\n        \\\"InvocationStatus\\\": \\\"Running\\\",\\n        \\\"RepeatMode\\\": \\\"Once\\\",\\n        \\\"CommandId\\\": \\\"c-hz0jdfwcsr****\\\",\\n        \\\"CommandType\\\": \\\"RunShellScript\\\",\\n        \\\"InvokeStatus\\\": \\\"Finished\\\",\\n        \\\"Parameters\\\": \\\"{}\\\",\\n        \\\"Timed\\\": false,\\n        \\\"CommandContent\\\": \\\"cnBtIC1xYSB8IGdyZXAgdnNm****\\\",\\n        \\\"CommandName\\\": \\\"CommandTestName\\\",\\n        \\\"CommandDescription\\\": \\\"testDescription\\\",\\n        \\\"InvokeId\\\": \\\"t-hz0jdfwd9f****\\\",\\n        \\\"Username\\\": \\\"test\\\",\\n        \\\"WorkingDir\\\": \\\"/home/\\\",\\n        \\\"Timeout\\\": 60,\\n        \\\"ContainerId\\\": \\\"ab141ddfbacfe02d9dbc25966ed971536124527097398d419a6746873fea****\\\",\\n        \\\"ContainerName\\\": \\\"test-container\\\",\\n        \\\"TerminationMode\\\": \\\"ProcessTree\\\",\\n        \\\"InvokeInstances\\\": {\\n          \\\"InvokeInstance\\\": [\\n            {\\n              \\\"CreationTime\\\": \\\"2019-12-20T06:15:54Z\\\",\\n              \\\"UpdateTime\\\": \\\"2020-01-19T09:15:47Z\\\",\\n              \\\"FinishTime\\\": \\\"2019-12-20T06:15:56Z\\\",\\n              \\\"InvocationStatus\\\": \\\"Success\\\",\\n              \\\"Repeats\\\": 0,\\n              \\\"InstanceId\\\": \\\"i-bp1i7gg30r52z2em****\\\",\\n              \\\"Output\\\": \\\"OutPutTestmsg\\\",\\n              \\\"Dropped\\\": 0,\\n              \\\"StopTime\\\": \\\"2020-01-19T09:15:47Z\\\",\\n              \\\"ExitCode\\\": 0,\\n              \\\"StartTime\\\": \\\"2019-12-20T06:15:55Z\\\",\\n              \\\"ErrorInfo\\\": \\\"the specified instance does not exists\\\",\\n              \\\"Timed\\\": false,\\n              \\\"ErrorCode\\\": \\\"InstanceNotExists\\\",\\n              \\\"InstanceInvokeStatus\\\": \\\"Finished\\\"\\n            }\\n          ]\\n        },\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"TagKey\\\": \\\"owner\\\",\\n              \\\"TagValue\\\": \\\"zhangsan\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeInvocationsResponse>\\n    <PageSize>10</PageSize>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>\\n    <PageNumber>1</PageNumber>\\n    <TotalCount>1</TotalCount>\\n    <Invocations>\\n        <Invocation>\\n            <CreationTime>2020-01-19T09:15:46Z</CreationTime>\\n            <Frequency>0 */20 * * * *</Frequency>\\n            <InvocationStatus>Running</InvocationStatus>\\n            <RepeatMode>Once</RepeatMode>\\n            <CommandId>c-hz0jdfwcsr****</CommandId>\\n            <CommandType>RunShellScript</CommandType>\\n            <InvokeStatus>Finished</InvokeStatus>\\n            <Parameters>{}</Parameters>\\n            <Timed>false</Timed>\\n            <CommandContent>cnBtIC1xYSB8IGdyZXAgdnNm****</CommandContent>\\n            <CommandName>CommandTestName</CommandName>\\n            <CommandDescription>testDescription</CommandDescription>\\n            <InvokeId>t-hz0jdfwd9f****</InvokeId>\\n            <Username>test</Username>\\n            <WorkingDir>/home/</WorkingDir>\\n            <Timeout>60</Timeout>\\n            <ContainerId>ab141ddfbacfe02d9dbc25966ed971536124527097398d419a6746873fea****</ContainerId>\\n            <ContainerName>test-container</ContainerName>\\n            <InvokeInstances>\\n                <InvokeInstance>\\n                    <CreationTime>2019-12-20T06:15:54Z</CreationTime>\\n                    <UpdateTime>2020-01-19T09:15:47Z</UpdateTime>\\n                    <FinishTime>2019-12-20T06:15:56Z</FinishTime>\\n                    <InvocationStatus>Success</InvocationStatus>\\n                    <Repeats>0</Repeats>\\n                    <InstanceId>i-bp1i7gg30r52z2em****</InstanceId>\\n                    <Output>OutPutTestmsg</Output>\\n                    <Dropped>0</Dropped>\\n                    <StopTime>2020-01-19T09:15:47Z</StopTime>\\n                    <ExitCode>0</ExitCode>\\n                    <StartTime>2019-12-20T06:15:55Z</StartTime>\\n                    <ErrorInfo>the specified instance does not exists</ErrorInfo>\\n                    <Timed>false</Timed>\\n                    <ErrorCode>InstanceNotExists</ErrorCode>\\n                    <InstanceInvokeStatus>Finished</InstanceInvokeStatus>\\n                </InvokeInstance>\\n                <Tags>\\n                    <TagKey>owner</TagKey>\\n                    <TagValue>zhangsan</TagValue>\\n                </Tags>\\n            </InvokeInstances>\\n        </Invocation>\\n    </Invocations>\\n</DescribeInvocationsResponse>\",\"errorExample\":\"\"}]","title":"查询云助手脚本的执行列表和状态","summary":"调用DescribeInvocations查询云助手命令的执行列表和状态。","description":"## 接口说明\n\n- 当您执行命令后，不代表命令一定成功运行，并且一定有预期的命令效果。您需要通过接口返回值查看实际执行结果，以实际输出结果为准。\n\n- 您可以查询最近4周的执行信息，执行信息的保留上限为10万条。\n- 您可以通过[云助手任务状态事件订阅](~~2669130~~)的方式，通过事件获取任务结果，避免频繁轮询，用以提升效率。\n- 支持以下两种方式查看返回数据：\n    - 方式一：分页查询首页时，仅需设置`MaxResults`以限制返回信息的条目数，返回结果中的`NextToken`将作为查询后续页的凭证。查询后续页时，将`NextToken`参数设置为上一次返回结果中获取到的`NextToken`作为查询凭证，并设置`MaxResults`限制返回条目数。\n    - 方式二：通过`PageSize`设置单页返回的条目数，再通过`PageNumber`设置页码。以上两种方式只能任选其中之一。如果设置了`MaxResults`或`NextToken`参数，则请求参数`PageSize`和`PageNumber`将失效，且返回数据中的`TotalCount`无效。\n- `DescribeInvocations`和`DescribeInvocationResults`差异点：\n    - 当一次`RunCommand`/`InvokeCommand`调用指定有多个实例时：\n        - 使用`DescribeInvocations`可以获得任务在各个实例上的执行状态、多个实例任务状态的聚合状态；\n        - 使用`DescribeInvocationResults`仅能获得各个实例上的单独的执行状态，不包含多实例的聚合状态；\n    - 当一次`RunCommand`/`InvokeCommand`调用指定有一个实例时：\n        - `DescribeInvocations`与`DescribeInvocationResults`区别不大，完全可以互相替换。\n    - 当需要查看定时性（周期性）任务、开机自动执行任务（`RepeatMode=Period, EveryReboot`）的每一次执行情况时，仅能用`DescribeInvocationResults`可以查询获得执行的过往历史记录（需指定`IncludeHistory=true`），而`DescribeInvocations`仅支持返回最新的任务状态。\n    - 当需要查看命令的内容、参数时，仅有`DescribeInvocations`返回`CommandContent`。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}