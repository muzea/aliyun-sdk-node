{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"none","abilityTreeCode":"29001","abilityTreeNodes":["FEATUREecs2UXJI2"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Cores","in":"query","schema":{"description":"实例规格的vCPU数量。取值请参见[实例规格族](~~25378~~)。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Memory","in":"query","schema":{"description":"实例规格的内存大小。单位：GiB。取值请参见[实例规格族](~~25378~~)。","type":"number","format":"float","required":false,"example":"8.0"}},{"name":"MinCores","in":"query","schema":{"description":"实例规格的vCPU数量的最小值。取值请参见[实例规格族](~~25378~~)。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"MinMemory","in":"query","schema":{"description":"实例规格的内存大小的最小值。取值请参见[实例规格族](~~25378~~)。","type":"number","format":"float","required":false,"example":"8.0"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。\n\n默认值：无，即查询指定地域下的所有可用区。","type":"string","required":false,"example":"cn-hangzhou-i"}},{"name":"InstanceTypeFamily","in":"query","schema":{"description":"实例规格族。取值请参见[实例规格族](~~25378~~)。","type":"string","required":false,"example":"ecs.c5"}},{"name":"InstanceFamilyLevel","in":"query","schema":{"description":"实例规格族级别。取值范围：\n\n- EntryLevel：入门级。\n- EnterpriseLevel：企业级。\n- CreditEntryLevel：积分入门级。更多信息，请参见[突发性能实例](~~59977~~)。\n\n默认值：无，即查询所有级别。","type":"string","required":false,"example":"EntryLevel"}},{"name":"GpuSpec","in":"query","schema":{"description":"GPU计算卡的类型。取值范围：\n\n- NVIDIA P4\n- NVIDIA T4\n- NVIDIA P100 \n- NVIDIA V100\n\n默认值：无，即查询所有类型。更多信息，请参见[GPU计算型实例概述](~~108496~~)。","type":"string","required":false,"example":"NVIDIA T4"}},{"name":"GpuAmount","in":"query","schema":{"description":"GPU实例对应的GPU数量。取值请参见[GPU计算型实例概述](~~108496~~)。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"InstanceTypes","in":"query","style":"repeatList","schema":{"description":"实例规格列表。最多可输入10个实例规格。","type":"array","items":{"description":"实例规格。取值请参见[实例规格族](~~25378~~)。","type":"string","required":false,"example":"ecs.c5.large"},"required":false,"example":"ecs.c5.large","maxItems":10}}],"responses":{"200":{"schema":{"type":"object","properties":{"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"AvailableSpotZones":{"type":"object","properties":{"AvailableSpotZone":{"description":"可用区及其对应的抢占式实例相关信息组成的数组。\n\n> 返回值的顺序按照实例规格的历史平均折扣率排序。","type":"array","items":{"type":"object","properties":{"ZoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-i"},"AvailableSpotResources":{"type":"object","properties":{"AvailableSpotResource":{"description":"近30天抢占式实例的释放率、折扣率等信息组成的数组。","type":"array","items":{"type":"object","properties":{"InterruptRateDesc":{"description":"近30天抢占式实例的释放率的范围，对应`InterruptionRate`返回值。可能值：\n\n- 0-3%\n- 3-5%\n- 5-10%\n- 10-100%","type":"string","example":"0-3%"},"AverageSpotDiscount":{"description":"近30天抢占式实例的均价相比按量付费实例价格的折扣率。单位：%。可能值：1~100。\n\n您可以根据该返回值计算抢占式实例的均价。例如，按量付费实例的价格为1，该返回值为20（即20%），则近30天抢占式实例的均价为0.2。","type":"integer","format":"int32","example":"20"},"InstanceType":{"description":"实例规格。","type":"string","example":"ecs.c5.large"},"InterruptionRate":{"description":"近30天抢占式实例的平均释放率。单位：%。","type":"number","format":"float","example":"0"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Invalid.SaleStrategy","errorMessage":"The specified saleStrategy is not valid."},{"errorCode":"Invalid.Param","errorMessage":"The input parameter DestinationResource that is mandatory for processing this request is not supplied."},{"errorCode":"InvalidRegionId.MalFormed","errorMessage":"The specified parameter RegionId is not valid."}],"403":[{"errorCode":"InvalidDedicatedHostId.NotFound","errorMessage":"The specified DedicatedHostId does not exist in our records."},{"errorCode":"InvalidParam.TypeAndCpuMem.Conflict","errorMessage":"The specified 'InstanceType' and 'Cores','Memory' are not blank at the same time."},{"errorCode":"InvalidParam.Cores","errorMessage":"The specified parameter 'Cores' should not be empty"},{"errorCode":"InvalidParam.Memory","errorMessage":"The specified parameter 'Memory' should not be empty"},{"errorCode":"OperationDenied.RegionIdNotSupported","errorMessage":"region not support spot duration instance."},{"errorCode":"OperationDenied.FlavorNotSupported","errorMessage":"flavor not support spot duration instance."},{"errorCode":"OperationDenied.TimestampNotSupported","errorMessage":"timestamp not support spot duration instance."}],"404":[{"errorCode":"Invalid.RegionId","errorMessage":"The specified RegionId does not exist."},{"errorCode":"Unavailable.Regions","errorMessage":"The available regions does not exists"},{"errorCode":"Invalid.ResourceType","errorMessage":"The ResourceType provided does not exist in our records."},{"errorCode":"Invalid.DestinationResource","errorMessage":"The specified DestinationResource is not valid."},{"errorCode":"Invalid.IoOptimized","errorMessage":"The specified IoOptimized is not valid."},{"errorCode":"Invalid.NetworkType","errorMessage":"The specified NetworkType is not valid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"AvailableSpotZones\\\": {\\n    \\\"AvailableSpotZone\\\": [\\n      {\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-i\\\",\\n        \\\"AvailableSpotResources\\\": {\\n          \\\"AvailableSpotResource\\\": [\\n            {\\n              \\\"InterruptRateDesc\\\": \\\"0-3%\\\",\\n              \\\"AverageSpotDiscount\\\": 20,\\n              \\\"InstanceType\\\": \\\"ecs.c5.large\\\",\\n              \\\"InterruptionRate\\\": 0\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSpotAdviceResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n    <AvailableSpotZones>\\n        <AvailableSpotZone>\\n            <ZoneId>cn-hangzhou-i</ZoneId>\\n        </AvailableSpotZone>\\n        <AvailableSpotZone>\\n            <AvailableSpotResources>\\n                <AvailableSpotResource>\\n                    <InterruptRateDesc>0-3%</InterruptRateDesc>\\n                    <InstanceType>ecs.c5.large</InstanceType>\\n                    <AverageSpotDiscount>20</AverageSpotDiscount>\\n                    <InterruptionRate>0</InterruptionRate>\\n                </AvailableSpotResource>\\n            </AvailableSpotResources>\\n        </AvailableSpotZone>\\n    </AvailableSpotZones>\\n    <RegionId>cn-hangzhou</RegionId>\\n</DescribeSpotAdviceResponse>\",\"errorExample\":\"\"}]","title":"查询历史30天平均实例释放率","summary":"调用DescribeSpotAdvice查询指定地域下，抢占式实例近30天的实例平均释放率、平均折扣率等信息。","description":"## 接口说明\n\n- 您可以通过该接口查询抢占式实例近30天的信息，便于您合理选择抢占式实例的实例规格。支持查询的信息包括：\n    - 实例平均释放率。\n    - 实例平均折扣率。\n    - 通过折扣率计算出的平均价格。\n- 仅支持查询专有网络VPC、I/O优化的抢占式实例。\n- 您可以通过以下任一方式查询抢占式实例近30天的信息：\n    - 设置`Cores`、`Memory`两参数或`MinCores`、`MinMemory`两参数，查询符合vCPU及内存要求的实例规格信息。\n    - 设置`InstanceTypes.N`查询指定的实例规格信息。\n    - 设置`Cores`、`Memory`两参数或`MinCores`、`MinMemory`两参数后，再设置`InstanceTypeFamily`或`InstanceFamilyLevel`，查询某一实例规格族或某一级别内，符合vCPU及内存要求的实例规格信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}