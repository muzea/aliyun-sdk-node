{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get","abilityTreeCode":"29284","abilityTreeNodes":["FEATUREecsLJD94P"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。目前支持的地域：华北1（青岛）、华北2（北京）、华北3（张家口）、华北5（呼和浩特）、华北6（乌兰察布）、华东1（杭州）、华东2（上海）、华南1（深圳）、华南2（河源）、华南3（广州）、西南1（成都）、中国香港、新加坡、日本（东京）、美国（硅谷）、美国（弗吉尼亚）。\n\n您可以调用[DescribeRegions](~~25609~~)查看地域对应的ID等信息。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。目前支持的地域：华北1（青岛）、华北2（北京）、华北3（张家口）、华北5（呼和浩特）、华北6（乌兰察布）、华东1（杭州）、华东2（上海）、华南1（深圳）、华南2（河源）、华南3（广州）、西南1（成都）、中国香港、新加坡、日本（东京）、美国（硅谷）、美国（弗吉尼亚）。\n\n您可以调用[DescribeRegions](~~25609~~)查看地域对应的ID等信息。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"OsType","in":"query","schema":{"description":"托管实例的操作系统类型，取值范围：\n\n- windows。\n- linux。\n- FreeBSD。\n","type":"string","required":false,"example":"windows"}},{"name":"InstanceIp","in":"query","schema":{"description":"托管实例的内网IP或公网IP。","type":"string","required":false,"example":"192.168.**.**"}},{"name":"ActivationId","in":"query","schema":{"description":"激活码ID。","type":"string","required":false,"example":"4ECEEE12-56F1-4FBC-9AB1-890F7494****"}},{"name":"InstanceName","in":"query","schema":{"description":"托管实例的名称。","type":"string","required":false,"example":"my-webapp-server"}},{"name":"PageNumber","in":"query","schema":{"description":"托管实例列表的页码。\n\n起始值为1。\n\n默认值为1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"InstanceId","in":"query","style":"repeatList","schema":{"description":"托管实例的ID。N的取值范围为1~50。","type":"array","items":{"description":"托管实例的ID。N的取值范围为1~50。","type":"string","required":false,"example":"mi-hz018jrc1o0****"},"required":false,"example":"mi-hz018jrc1o0****","maxItems":50}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"description":"托管实例的标签键。N的取值范围为1~20。一旦传入该值，则不允许为空字符串。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个。使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，您需要使用[ListTagResources](~~110425~~)接口进行查询。\n\n最多支持64个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"托管实例的标签值。N的取值范围为1~20。该值可以为空字符串。\n\n最多支持128个字符，不能包含`http://`或`https://`。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":21}},{"name":"MaxResults","in":"query","schema":{"description":"分页查询时每页的最大条目数。\n\n最大值为50。\n\n默认值为10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"NextToken","in":"query","schema":{"description":"查询凭证（Token），取值为上一次API调用返回的NextToken参数值。","type":"string","required":false,"example":"AAAAAdDWBF2****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"托管实例所属的资源组ID。","type":"string","required":false,"example":"rg-123******"}}],"responses":{"200":{"schema":{"type":"object","properties":{"PageSize":{"description":"输入时设置的每页行数。","type":"integer","format":"int64","example":"10"},"RequestId":{"description":"请求ID。","type":"string","example":"77115469-F2C5-4ECA-94F7-FA04F2FD****"},"PageNumber":{"description":"托管实例列表的页码。","type":"integer","format":"int64","example":"1"},"TotalCount":{"description":"查询到的托管实例总数。","type":"integer","format":"int64","example":"1"},"Instances":{"description":"托管实例列表。","type":"array","items":{"type":"object","properties":{"LastInvokedTime":{"description":"最后一次执行云助手任务的时间。","type":"string","example":"2021-01-20T09:00:40Z"},"Connected":{"description":"托管实例是否已连接。\n\n- true：托管实例已连接，您可以通过云助手管理托管实例。\n\n- false：托管实例未连接，服务器可能停机或者云助手Agent未正确安装。","type":"boolean","example":"true"},"InternetIp":{"description":"托管实例的公网IP。","type":"string","example":"40.65.**.**"},"Hostname":{"description":"托管实例主机名。","type":"string","example":"demo"},"InstanceId":{"description":"托管实例ID。","type":"string","example":"mi-hz018jrc1o0****"},"ActivationId":{"description":"激活码ID。","type":"string","example":"3704F543-F768-43FA-9864-897F75B3****"},"IntranetIp":{"description":"托管实例的内网IP。","type":"string","example":"10.0.**.**"},"AgentVersion":{"description":"云助手Agent的版本号。","type":"string","example":"2.2.0.102"},"RegistrationTime":{"description":"托管实例的注册时间。","type":"string","example":"2021-01-20T08:57:56Z"},"InstanceName":{"description":"托管实例名称。","type":"string","example":"webAPP-linux-01"},"OsType":{"description":"托管实例的操作系统。","type":"string","example":"Linux"},"OsVersion":{"description":"操作系统的版本信息。","type":"string","example":"Linux_#38~18.04.1-Ubuntu SMP Wed Jan 6 18:26:30 UTC 2021_x86_64"},"InvocationCount":{"description":"托管实例执行云助手任务的次数。","type":"integer","format":"int64","example":"1"},"MachineId":{"description":"托管实例的机器码。","type":"string","example":"e03231b37ab14e53b5795ad625fc****"},"Tags":{"description":"标签列表。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"TagKey":{"description":"托管实例的标签键。N的取值范围为1~20。一旦传入该值，则不允许为空字符串。\n\n使用一个标签过滤资源，查询到该标签下的资源数量不能超过1000个。使用多个标签过滤资源，查询到同时绑定了多个标签的资源数量不能超过1000个。如果资源数量超过1000个，您需要使用[ListTagResources](~~110425~~)接口进行查询。\n\n最多支持64个字符，不能以`aliyun`或`acs:`开头，不能包含`http://`或`https://`。","type":"string","example":"TestKey"},"TagValue":{"description":"托管实例的标签值。N的取值范围为1~20。该值可以为空字符串。\n\n最多支持128个字符，不能包含`http://`或`https://`。","type":"string","example":"TestValue"}}}},"ResourceGroupId":{"description":"托管实例所属的资源组ID。","type":"string","example":"rg-123******"}}}},"NextToken":{"description":"本次调用返回的查询凭证值。","type":"string","example":"AAAAAdDWBF2"}}}}},"errorCodes":{"400":[{"errorCode":"RegionId.ApiNotSupported","errorMessage":"The api is not supported in this region."},{"errorCode":"InvalidParam.PageNumber","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParam.PageSize","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"NumberExceed.Tags","errorMessage":"The Tags parameter number is exceed."},{"errorCode":"MissingParameter.TagKey","errorMessage":"You must specify Tag.N.Key."},{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contain duplicate key."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The specified parameter NextToken is not valid."},{"errorCode":"InvalidParameter.MaxResults","errorMessage":"The specified parameter MaxResults is not valid."}],"403":[{"errorCode":"Operation.Forbidden","errorMessage":"The operation is not permitted."}],"404":[{"errorCode":"InvalidRegionId.NotFound","errorMessage":"The RegionId provided does not exist in our records."}],"500":[{"errorCode":"InternalError.Dispatch","errorMessage":"An error occurred when you dispatched the request."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"PageSize\\\": 10,\\n  \\\"RequestId\\\": \\\"77115469-F2C5-4ECA-94F7-FA04F2FD****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"TotalCount\\\": 1,\\n  \\\"Instances\\\": [\\n    {\\n      \\\"LastInvokedTime\\\": \\\"2021-01-20T09:00:40Z\\\",\\n      \\\"Connected\\\": true,\\n      \\\"InternetIp\\\": \\\"40.65.**.**\\\",\\n      \\\"Hostname\\\": \\\"demo\\\",\\n      \\\"InstanceId\\\": \\\"mi-hz018jrc1o0****\\\",\\n      \\\"ActivationId\\\": \\\"3704F543-F768-43FA-9864-897F75B3****\\\",\\n      \\\"IntranetIp\\\": \\\"10.0.**.**\\\",\\n      \\\"AgentVersion\\\": \\\"2.2.0.102\\\",\\n      \\\"RegistrationTime\\\": \\\"2021-01-20T08:57:56Z\\\",\\n      \\\"InstanceName\\\": \\\"webAPP-linux-01\\\",\\n      \\\"OsType\\\": \\\"Linux\\\",\\n      \\\"OsVersion\\\": \\\"Linux_#38~18.04.1-Ubuntu SMP Wed Jan 6 18:26:30 UTC 2021_x86_64\\\",\\n      \\\"InvocationCount\\\": 1,\\n      \\\"MachineId\\\": \\\"e03231b37ab14e53b5795ad625fc****\\\",\\n      \\\"Tags\\\": [\\n        {\\n          \\\"TagKey\\\": \\\"TestKey\\\",\\n          \\\"TagValue\\\": \\\"TestValue\\\"\\n        }\\n      ],\\n      \\\"ResourceGroupId\\\": \\\"rg-123******\\\"\\n    }\\n  ],\\n  \\\"NextToken\\\": \\\"AAAAAdDWBF2\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeManagedInstancesResponse>\\n<Instances>\\n    <MachineId>e03231b37ab14e53b5795ad625fc****</MachineId>\\n    <InstanceId>mi-hz018jrc1o0****</InstanceId>\\n    <AgentVersion>2.2.0.102</AgentVersion>\\n    <Connected>true</Connected>\\n    <InvocationCount>1</InvocationCount>\\n    <OsVersion>Linux_#38~18.04.1-Ubuntu SMP Wed Jan 6 18:26:30 UTC 2021_x86_64</OsVersion>\\n    <ActivationId>3704F543-F768-43FA-9864-897F75B3****</ActivationId>\\n    <Hostname>demo</Hostname>\\n    <RegistrationTime>2021-01-20T08:57:56Z</RegistrationTime>\\n    <IntranetIp>10.0.**.**</IntranetIp>\\n    <InstanceName>webAPP-linux-01</InstanceName>\\n    <InternetIp>40.65.**.**</InternetIp>\\n    <OsType>Linux</OsType>\\n    <LastInvokedTime>2021-01-20T09:00:40Z</LastInvokedTime>\\n</Instances>\\n<TotalCount>1</TotalCount>\\n<RequestId>77115469-F2C5-4ECA-94F7-FA04F2FDC8F4</RequestId>\\n<PageSize>10</PageSize>\\n<PageNumber>1</PageNumber>\\n</DescribeManagedInstancesResponse>\",\"errorExample\":\"\"}]","title":"获取托管实例","summary":"调用DescribeManagedInstances查询托管实例列表。","description":"## 接口说明\n\n支持以下两种方式查看返回数据：\n- 方式一：分页查询首页时，仅需设置`MaxResults`以限制返回信息的条目数，返回结果中的`NextToken`将作为查询后续页的凭证。查询后续页时，将`NextToken`参数设置为上一次返回结果中获取到的`NextToken`作为查询凭证，并设置`MaxResults`限制返回条目数。\n- 方式二：通过`PageSize`设置单页返回的条目数，再通过`PageNumber`设置页码。以上两种方式只能任选其中之一。如果设置了`MaxResults`或`NextToken`参数，则请求参数`PageSize`和`PageNumber`将失效，且返回数据中的`TotalCount`无效。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}