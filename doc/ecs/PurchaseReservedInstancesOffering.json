{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create","abilityTreeCode":"29128","abilityTreeNodes":["FEATUREecsG3KXW4"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"实例所属的地域ID。您可以调用[DescribeRegions](~~25609~~)查看最新的阿里云地域列表。 ","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。","type":"array","items":{"type":"object","properties":{"Key":{"description":"预留实例券的标签键。N的取值范围：1~20。一旦传入该值，则不允许为空字符串。最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http:/`/或者`https://`。","type":"string","required":false,"example":"TestKey"},"Value":{"description":"预留实例券的标签值。N的取值范围：1~20。一旦传入该值，则不允许为空字符串。最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http:/`/或者`https://`。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"maxItems":20}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-bp199lyny9b3****"}},{"name":"ZoneId","in":"query","schema":{"description":"实例所属的可用区编号，当`Scope`为`Zone`时必填。更多信息，请参见[DescribeZones](~~25610~~)获取可用区列表。 ","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"ReservedInstanceName","in":"query","schema":{"description":"预留实例券的名称。长度为2~128个英文或中文字符。必须以大小写字母或中文开头，不能以 http:// 和 https:// 开头。可以包含数字、半角冒号（:）、下划线（_）或者短划线（-）。","type":"string","required":false,"example":"testReservedInstanceName"}},{"name":"InstanceType","in":"query","schema":{"description":"实例的资源规格。更多信息，请参见[实例规格族](~~25378~~)。 ","type":"string","required":true,"example":"ecs.g5.large"}},{"name":"Scope","in":"query","schema":{"description":"预留实例券的范围。取值范围： \n   \n- Region：地域级别。 \n- Zone：可用区级别。\n\n默认值：Region。","type":"string","required":false,"example":"Zone"}},{"name":"InstanceAmount","in":"query","schema":{"description":"预留实例券可以同时匹配同规格按量付费实例的数量。取值范围：1~50。\n\n例如，实例规格设置为ecs.g5.large，预留实例数量设置为3时，该预留实例券就可以同时匹配3台规格为ecs.g5.large的按量付费实例。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"3"}},{"name":"OfferingType","in":"query","schema":{"description":"预留实例券的付款类型。取值范围： \n         \n- No Upfront：零预付。\n- Partial Upfront：部分预付。\n- All Upfront：全预付。\n\n默认值：All Upfront。","type":"string","required":false,"example":"All Upfront"}},{"name":"Description","in":"query","schema":{"description":"预留实例券的描述。长度为2~256个英文或中文字符，不能以http://和https://开头。\n\n默认值：空。","type":"string","required":false,"example":"testDescription"}},{"name":"Platform","in":"query","schema":{"description":"实例使用的镜像的操作系统类型。取值范围：\n\n- Windows：Windows Server类型的操作系统。\n- Linux：Linux及类Unix类型的操作系统。\n\n默认值：Linux。","type":"string","required":false,"example":"Linux"}},{"name":"Period","in":"query","schema":{"description":"购买预留实例券的时长。\n\n<props=\"intl\">取值范围：1、3。</props>\n\n\n<props=\"china\">\n\n- 当`PeriodUnit`为`Year`时，取值范围：1、3、5。\n\n- 当`PeriodUnit`为`Month`时，取值范围：1。\n\n</props>\n\n\n默认值：1。\n\n","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PeriodUnit","in":"query","schema":{"description":"购买预留实例券的时长单位。\n\n<props=\"intl\">取值范围：Year。</props>\n\n<props=\"intl\">默认值：Year。</props>\n\n<props=\"china\">取值范围：Year、Month。</props>\n\n<props=\"china\">默认值：Month。</props>\n\n\n\n\n\n","type":"string","required":false,"example":"Year"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}},{"name":"AutoRenew","in":"query","schema":{"description":"是否要自动续费。\n\ntrue：自动续费。 false（默认）：不自动续费。","type":"boolean","required":false,"example":"true"}},{"name":"AutoRenewPeriod","in":"query","schema":{"description":"每次自动续费的时长，单位为月。当参数AutoRenew取值True时，该参数才生效。\n\n<props=\"china\">AutoRenewPeriod取值范围：1，12，36，60。</props>\n\n<props=\"china\">当PeriodUnit=Month， 默认值为1。</props>\n\n<props=\"intl\">AutoRenewPeriod取值范围：12，36。</props>\n\n当PeriodUnit=Year，默认值为12。\n","type":"integer","format":"int32","required":false,"example":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"8C314443-AF0D-4766-9562-C83B7F1A3C8B"},"ReservedInstanceIdSets":{"type":"object","properties":{"ReservedInstanceId":{"description":"预留实例券ID列表。","type":"array","items":{"description":"预留实例券ID。","type":"string","example":"ecsri-2ze53qonjqxg7r****"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.ScopeNotMatch","errorMessage":"Zonal reservedInstance not supported for scheduled creating."},{"errorCode":"InvalidInstanceType.ValueUnauthorized","errorMessage":"The specified InstanceType is not authorized."},{"errorCode":"InvalidDescription.Malformed","errorMessage":"The specified parameter \"Description\" is not valid."},{"errorCode":"InvalidParameter.Conflict","errorMessage":"The specified region and cluster do not match."},{"errorCode":"InvalidTagKey.Malformed","errorMessage":"The specified Tag.n.Key is not valid."},{"errorCode":"RegionUnauthorized","errorMessage":"%s"},{"errorCode":"Zone.NotOnSale","errorMessage":"%s"},{"errorCode":"InvalidPeriodUnit.ValueNotSupported","errorMessage":"The specified parameter PeriodUnit is not valid."},{"errorCode":"InvalidTagValue.Malformed","errorMessage":"The specified Tag.n.Value is not valid."},{"errorCode":"InvalidChargeType.ValueNotSupported","errorMessage":"ChargeType is not valid."},{"errorCode":"InvalidParameter.Scope","errorMessage":"The specified parameter 'Scope' is invalid."},{"errorCode":"InvalidReservedInstanceStatus.ValueNotSupported","errorMessage":"ReservedInstance status is not supported."},{"errorCode":"InvalidReservedInstanceOfferingType.ValueNotSupported","errorMessage":"The OfferingType is not supported."},{"errorCode":"InvalidReservedInstanceOfferingClass.ValueNotSupported","errorMessage":"The OfferingClass is not supported."},{"errorCode":"MissingParameter.ZoneId","errorMessage":"The specified zoneId should be not empty."},{"errorCode":"MissingParameter.InstanceType","errorMessage":"The instanceType should be not empty."},{"errorCode":"MissingParameter.ReservedInstanceId","errorMessage":"The ids of reservedInstance can not be empty."},{"errorCode":"MissingParameter.ReservedInstanceConfiguration","errorMessage":"The configurations of reservedInstance can not be empty."},{"errorCode":"InvalidParameter.SplitOrMerge","errorMessage":"The Many-to-many of modification is not supported."},{"errorCode":"MissingParameter.InstanceTypeAndAmountBothEmpty","errorMessage":"The instanceType and amount can not be both empty."},{"errorCode":"InvalidReservedInstancePlatform.ValueNotSupported","errorMessage":"The Platform is not supported."},{"errorCode":"InvalidParameter.ReservedInstanceName","errorMessage":"ReservedInstanceName is invalid."},{"errorCode":"InvalidReservedInstanceZone.ValueNotSupported","errorMessage":"The zoneId is not exist."},{"errorCode":"OperationDenied","errorMessage":"The specified InstanceType or Zone is not authorized for current user."},{"errorCode":"InvalidInstanceType.ValueNotSupported","errorMessage":"The specified InstanceType beyond the permitted range."}],"403":[{"errorCode":"OperationDenied","errorMessage":"The creation of Host to the specified Zone is not allowed."},{"errorCode":"OperationDenied.NoStock","errorMessage":"The requested resource is sold out in the specified zone; try other types of resources or other regions and zones."},{"errorCode":"NodeControllerUnavailable","errorMessage":"The Node Controller is temporarily unavailable."},{"errorCode":"InvalidParameter.ResourceOwnerAccount","errorMessage":"ResourceOwnerAccount is Invalid."},{"errorCode":"Zone.NotOpen","errorMessage":"The specified zone is not granted to you to buy resources yet."},{"errorCode":"Zone.NotOnSale","errorMessage":"The specified zone is not available for purchase."},{"errorCode":"InvalidResourceType.NotSupported","errorMessage":"%s"},{"errorCode":"InvalidParameter.NotMatch","errorMessage":"%s"},{"errorCode":"Account.Arrearage","errorMessage":"Your account has been in arrears."}],"404":[{"errorCode":"InvalidZoneId.NotFound","errorMessage":"The ZoneId provided does not exist in our records."},{"errorCode":"PaymentMethodNotFound","errorMessage":"No payment method has been registered on the account."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8C314443-AF0D-4766-9562-C83B7F1A3C8B\\\",\\n  \\\"ReservedInstanceIdSets\\\": {\\n    \\\"ReservedInstanceId\\\": [\\n      \\\"ecsri-2ze53qonjqxg7r****\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"{\\n    \\\"RequestId\\\": \\\"51AB7717-6E1A-4D1D-A44D-54CBxxxxxxxx\\\",\\n    \\\"ReservedInstanceId\\\":\\\"ri-instance\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<PurchaseReservedInstancesOfferingResponse>\\n    <RequestId>8C314443-AF0D-4766-9562-C83B7F1A3C8B</RequestId>\\n    <ReservedInstanceIdSets>\\n        <ReservedInstanceId>ecsri-2ze53qonjqxg7r****</ReservedInstanceId>\\n    </ReservedInstanceIdSets>\\n</PurchaseReservedInstancesOfferingResponse>\",\"errorExample\":\"<PurchaseReservedInstancesOfferingResponse>\\n    <RequestId>51AB7717-6E1A-4D1D-A44D-54CBxxxxxxxx</RequestId>\\n    <ReservedInstanceId>ri-instance</InstanceId>\\n</PurchaseReservedInstancesOfferingResponse>\"}]","title":"购买一张预留实例券","summary":"调用PurchaseReservedInstancesOffering购买一张预留实例券。预留实例券可以自动匹配对应的ECS实例，抵扣按量付费实例账单。","description":"## 接口说明\n\n- 请确保在使用该接口前，您已充分了解预留实例券的计费方式。详情请参见[预留实例券计费方式](~~100371~~)。\n- 购买预留实例券前，您可以调用[DescribeAvailableResource](~~66186~~)查询可用实例资源。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}