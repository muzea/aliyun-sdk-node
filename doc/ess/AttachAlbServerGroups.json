{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"伸缩组所属地域的ID。\n\n例如`cn-hangzhou`、`cn-shanghai`，更多信息，请参见[地域和可用区](~~40654~~)。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。","type":"string","required":true,"docRequired":true,"example":"asg-bp18p2yfxow2dloq****"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25965~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"ForceAttach","in":"query","schema":{"description":"是否将当前伸缩组内的ECS实例或ECI实例添加到新增的ALB服务器组。取值范围：\n\n- true：添加，并返回`ScalingActivityId`，您可以通过查看该伸缩活动ID来确定已有实例是否添加成功。\n\n- false：不添加。\n\n默认值：false。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"AlbServerGroups","in":"query","style":"repeatList","schema":{"description":"ALB服务器组的相关信息集合。","type":"array","items":{"description":"ALB服务器组的相关信息集合。","type":"object","properties":{"AlbServerGroupId":{"description":"ALB服务器组的ID。\n\n一个伸缩组支持关联的ALB服务器组数量有限，如需查看或手动申请提升配额值，请前往[配额中心](https://quotas.console.aliyun.com/products/ess/quotas)。","type":"string","required":true,"example":"sgp-ddwb0y0g6y9bjm****"},"Weight":{"description":"弹性伸缩将ECS实例或ECI实例添加到ALB服务器组后，ECS实例或ECI实例作为后端服务器的权重。取值范围：0~100。\n\n权重越高，ECS实例或ECI实例将被分配到越多的访问请求。如果权重为0，则ECS实例或ECI实例不会收到访问请求。","type":"integer","format":"int32","required":true,"example":"100"},"Port":{"description":"弹性伸缩将ECS实例或ECI实例添加到ALB服务器组后，ECS实例或ECI实例使用的端口号。\n\n取值范围：1~65535。","type":"integer","format":"int32","required":true,"example":"22"}},"required":false},"required":true,"maxItems":100}}],"responses":{"200":{"schema":{"type":"object","properties":{"ScalingActivityId":{"description":"添加ALB服务器组并将伸缩组内的ECS实例或ECI实例添加到该ALB服务器组时，伸缩活动的ID。\n\n>仅当`ForceAttach`取值为`true`时，返回该参数。","type":"string","example":"asa-2ze6wxj8vsohn6j9****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ScalingActivityId\\\": \\\"asa-2ze6wxj8vsohn6j9****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\"\\n}\",\"type\":\"json\"}]","title":"添加一个或多个ALB服务器组","summary":"对于需要动态调整实例数量来应对业务变化负载以及确保应用程序的高可用性场景，调用API AttachAlbServerGroups向伸缩组添加一个或多个ALB服务器组，可以在业务变化时自动实现弹性扩展，并根据负载情况动态分配流量、提高应用程序的稳定性。","description":"向伸缩组添加ALB服务器组时，需要满足以下条件：\n\n- 伸缩组的网络类型必须为VPC，且与ALB服务器组处于同一VPC。\n- ALB服务器组必须处于可用状态。"}