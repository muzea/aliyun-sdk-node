{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update"},"parameters":[{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。","type":"string","required":true,"docRequired":true,"example":"asg-bp1avr6ensitts3w****"}},{"name":"ForceAttach","in":"query","schema":{"description":"是否把当前伸缩组内的实例全部添加为负载均衡实例的后端服务器，取值范围：\n         \n- true：添加。如果该参数值为`true`，则将负载均衡实例添加到伸缩组时，系统会将当前伸缩组中已有的实例全部添加为负载均衡实例的后端服务器。\n\n  >如果负载均衡实例已添加至伸缩组，而您需要将伸缩组中全部实例添加为该负载均衡实例的后端服务器，则您可以再次将该负载均衡实例添加到伸缩组，并选择ForceAttach为true状态。\n\n- false：不添加。如果该参数值为false，则将负载均衡实例添加到伸缩组时，系统不会将当前伸缩组中已有的实例添加为负载均衡实例的后端服务器。\n\n默认值：false。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25965~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-42665544****"}},{"name":"Async","in":"query","schema":{"description":"添加负载均衡实例时，是否采用异步调用的方式。异步调用能保证操作的事务性，即所有操作都执行成功或者某个操作失败时所有操作的执行结果都不生效，建议您采用异步调用。\n取值范围：\n- true：异步调用。请求将返回伸缩活动的ID。\n- false：同步调用。\n\n默认值：false。\n","type":"boolean","required":false,"example":"false"}},{"name":"LoadBalancers","in":"query","style":"repeatList","schema":{"description":"需要添加的负载均衡CLB（原SLB）实例的ID列表。","type":"array","items":{"description":"需要添加的负载均衡CLB（原SLB）实例的ID列表。\n>支持最多一次添加5个负载均衡实例到伸缩组。","type":"string","required":false,"example":"lb-2zeur05gfs****\t\n"},"required":false,"maxItems":5}},{"name":"LoadBalancerConfigs","in":"query","style":"repeatList","schema":{"description":"负载均衡CLB（原SLB）配置列表。","type":"array","items":{"description":"负载均衡CLB（原SLB）配置列表。","type":"object","properties":{"LoadBalancerId":{"description":"负载均衡CLB（原SLB）实例的ID。","type":"string","required":false,"example":"147b46d767c-cn-qingdao-cm5**** "},"Weight":{"description":"弹性伸缩将ECS实例或ECI实例添加到SLB服务器组后，ECS实例或ECI实例作为后端服务器的权重。权重越高，ECS实例或ECI实例将被分配到越多的访问请求。如果权重为0，则ECS实例或ECI实例不会收到访问请求。\n\n取值范围：0~100。","type":"integer","format":"int32","required":false,"example":"10"}},"required":false},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"type":"object","properties":{"ScalingActivityId":{"description":"伸缩活动的ID。\n\n仅当`Async`为`true`时返回该值。您可使用API DescribeScalingActivities遍历查询返回的伸缩活动ID，查看伸缩活动的执行状态。","type":"string","example":"asa-bp140qd7mak8k63f****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ScalingActivityId\\\": \\\"asa-bp140qd7mak8k63f****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\"\\n}\",\"type\":\"json\"}]","title":"添加一个或多个负载均衡实例","summary":"伸缩组支持关联负载均衡实例，通过负载均衡实例将访问流量分发到伸缩组内的多个实例中，可以有效增强伸缩组的服务能力，您可以调用API AttachLoadBalancers添加一个或多个负载均衡实例。","description":"向伸缩组添加负载均衡实例时需要满足以下条件：\n\n- 负载均衡实例与伸缩组必须属于同一账号和同一个地域。\n\n- 负载均衡实例必须处于`运行中`状态。\n\n- 负载均衡实例至少配置有一个监听且必须开启健康检查。\n\n- 如果负载均衡实例与伸缩组的网络类型均为VPC，必须处于同一VPC。\n\n- 当伸缩组的网络类型为VPC，负载均衡实例的网络类型为经典网络时，如果负载均衡实例后端服务器中包含VPC实例，该实例必须与伸缩组处于同一VPC。\n\n- 不超过伸缩组关联负载均衡实例的限额，具体限额，请参见[使用限制](~~25863~~)。"}