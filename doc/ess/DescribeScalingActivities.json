{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"125358","abilityTreeNodes":["FEATUREessACRSW1"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"伸缩活动所属伸缩组的地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"PageNumber","in":"query","schema":{"description":"伸缩活动列表的页码，起始值：1。\n\n默认值：1。","type":"integer","format":"int32","required":false,"docRequired":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数，最大值：50。\n\n默认值：10。","type":"integer","format":"int32","required":false,"docRequired":false,"maximum":"50","example":"10","default":"10"}},{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。\n\n> 调用该API时，`ScalingGroupId`和`ScalingActivityIds`参数必须二选一进行配置，如果两个参数同时都不配置，则会报错。","type":"string","required":false,"docRequired":false,"example":"asg-bp18p2yfxow2dloq****"}},{"name":"StatusCode","in":"query","schema":{"description":"伸缩活动的状态。取值范围：\n \n- Successful：执行成功的伸缩活动。 \n- Warning：部分执行成功的伸缩活动。 \n- Failed：执行失败的伸缩活动。 \n- InProgress：正在执行的伸缩活动。 \n- Rejected：执行伸缩活动请求被拒绝。 \n         ","type":"string","required":false,"docRequired":false,"example":"Successful"}},{"name":"ScalingActivityIds","in":"query","style":"repeatList","schema":{"description":"待查询伸缩活动的ID。\n\n> 调用该API时，`ScalingGroupId`和`ScalingActivityIds`参数必须二选一进行配置，如果两个参数同时都不配置，则会报错。","type":"array","items":{"description":"待查询伸缩活动的ID。\n\n> 调用该API时，`ScalingGroupId`和`ScalingActivityIds`参数必须二选一进行配置，如果两个参数同时都不配置，则会报错。","type":"string","required":false,"example":"asa-bp161xudmuxdzofe****"},"required":false,"maxItems":20}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"CC107349-57B7-4405-B1BF-9BF5AF7F****"},"PageNumber":{"description":"当前页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页行数。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"伸缩活动总数。","type":"integer","format":"int32","example":"1"},"ScalingActivities":{"description":"伸缩活动信息组成的集合。","type":"array","items":{"description":"伸缩活动信息组成的集合。","type":"object","properties":{"Progress":{"description":"伸缩活动的运行进度。","type":"integer","format":"int32","example":"100"},"ScalingInstanceNumber":{"description":"- 如果伸缩活动类型为扩容，该参数表示本次伸缩活动中被创建或从停机回收状态启动的实例的个数。\n\n- 如果伸缩活动类型为缩容，该参数表示本次伸缩活动中被删除或进入停机回收状态的实例的个数。","type":"integer","format":"int32","example":"1"},"AttachedCapacity":{"description":"执行完伸缩活动后，伸缩组中通过手动添加的实例总数。","type":"string","example":"0"},"TotalCapacity":{"description":"执行完伸缩活动后，伸缩组中实例的总数。","type":"string","example":"2"},"ScalingGroupId":{"description":"伸缩组的ID。","type":"string","example":"asg-bp18p2yfxow2dloq****"},"AutoCreatedCapacity":{"description":"执行完伸缩活动后，伸缩组中由伸缩组负责自动创建的实例的总数。","type":"string","example":"2"},"EndTime":{"description":"伸缩活动的结束时间。","type":"string","example":"2020-09-10T09:54Z"},"StartTime":{"description":"伸缩活动的开始时间。","type":"string","example":"2020-09-10T09:54Z"},"Description":{"description":"伸缩活动的描述信息。","type":"string","example":"Add \\\"1\\\" ECS instance"},"StatusCode":{"description":"伸缩活动的状态，可能值：\n \n- Successful：执行成功的伸缩活动。 \n- Warning：部分执行成功的伸缩活动。 \n- Failed：执行失败的伸缩活动。 \n- InProgress：正在执行的伸缩活动。 \n- Rejected：执行伸缩活动请求被拒绝。 ","type":"string","example":"Successful"},"Cause":{"description":"触发伸缩活动的原因。","type":"string","example":"A user requests to execute scaling rule \\\"asr-bp12tcnol686y1ik****\\\", changing the Total Capacity from \\\"1\\\" to \\\"2\\\"."},"ScalingActivityId":{"description":"伸缩活动的ID。","type":"string","example":"asa-bp161xudmuxdzofe****"},"StatusMessage":{"description":"伸缩活动的状态信息。","type":"string","example":"\\\"1\\\" ECS instances are added"},"CreatedCapacity":{"description":"当前伸缩活动新建的实例数量。","type":"integer","format":"int32","example":"1"},"DestroyedCapacity":{"description":"当前伸缩活动释放的实例数量。","type":"integer","format":"int32","example":"1"},"StartedCapacity":{"description":"当前伸缩活动从停机不收费状态启动的实例数量。","type":"integer","format":"int32","example":"1"},"StoppedCapacity":{"description":"当前伸缩活动进入停机不收费状态的实例数量。","type":"integer","format":"int32","example":"1"},"CreatedInstances":{"description":"当前伸缩活动新建实例列表。","type":"array","items":{"description":"当前伸缩活动新建实例列表。","type":"string","example":"[\"i-abc1\",\"i-abc2\"]"}},"DestroyedInstances":{"description":"当前伸缩活动释放实例列表。","type":"array","items":{"description":"当前伸缩活动释放实例列表。","type":"string","example":"[\n      \"i-abc1\",\n      \"i-abc2\"\n]"}},"StartedInstances":{"description":"当前伸缩活动启动的停机不收费实例列表。","type":"array","items":{"description":"当前伸缩活动启动的停机不收费实例列表。","type":"string","example":"[\n      \"i-abc1\",\n      \"i-abc2\"\n]"}},"StoppedInstances":{"description":"当前伸缩活动进入停机不收费状态实例列表。","type":"array","items":{"description":"当前伸缩活动进入停机不收费状态实例列表。","type":"string","example":"[\n      \"i-abc1\",\n      \"i-abc2\"\n]"}},"ErrorCode":{"description":"伸缩活动失败时的错误码。","type":"string","example":"OperationDenied.NoStock"},"ErrorMessage":{"description":"伸缩活动失败时的错误信息。","type":"string","example":"The specified ECS resource is out of stock in this region. Please try again later."},"Detail":{"description":"伸缩活动详细信息。","type":"string","example":"\"new ECS instances \"i-j6c8ilerw, i-j6c8iler4mx\" are created.\""},"TriggerSourceType":{"description":"伸缩活动触发源类型。可能值：\n- Cms：通过报警任务触发伸缩活动。\n- Api：用户通过API方式触发伸缩活动。\n- Ess：系统任务触发伸缩活动。","type":"string","example":"Api"},"TriggerSourceId":{"description":"伸缩活动触发源ID。可能值：\n- Cms触发源ID：显示为报警任务ID。\n- Api触发源ID：显示为主账号UID或子账号UID。\n- Ess触发源ID：显示为空。","type":"string","example":"2346366580*****"},"LifecycleHookContext":{"description":"生命周期挂钩上下文信息。","type":"object","properties":{"DisableLifecycleHook":{"description":"伸缩活动是否禁用所有生命周期挂钩。可能值：\n\n- true：禁用。\n- false：不禁用。","type":"boolean","example":"false"},"IgnoredLifecycleHookIds":{"description":"伸缩活动禁用的生命周期挂钩ID列表。","type":"array","items":{"description":"伸缩活动禁用的生命周期挂钩ID列表。","type":"string","example":"ash-bp14zolna43z266bq***\n"}}}},"ActivityMetadata":{"description":"伸缩活动的元数据。","type":"string","example":"{\\\"goatscaler.io/managed\\\":\\\"true\\\"}"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CC107349-57B7-4405-B1BF-9BF5AF7F****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 10,\\n  \\\"TotalCount\\\": 1,\\n  \\\"ScalingActivities\\\": [\\n    {\\n      \\\"Progress\\\": 100,\\n      \\\"ScalingInstanceNumber\\\": 1,\\n      \\\"AttachedCapacity\\\": \\\"0\\\",\\n      \\\"TotalCapacity\\\": \\\"2\\\",\\n      \\\"ScalingGroupId\\\": \\\"asg-bp18p2yfxow2dloq****\\\",\\n      \\\"AutoCreatedCapacity\\\": \\\"2\\\",\\n      \\\"EndTime\\\": \\\"2020-09-10T09:54Z\\\",\\n      \\\"StartTime\\\": \\\"2020-09-10T09:54Z\\\",\\n      \\\"Description\\\": \\\"Add \\\\\\\\\\\\\\\"1\\\\\\\\\\\\\\\" ECS instance\\\",\\n      \\\"StatusCode\\\": \\\"Successful\\\",\\n      \\\"Cause\\\": \\\"A user requests to execute scaling rule \\\\\\\\\\\\\\\"asr-bp12tcnol686y1ik****\\\\\\\\\\\\\\\", changing the Total Capacity from \\\\\\\\\\\\\\\"1\\\\\\\\\\\\\\\" to \\\\\\\\\\\\\\\"2\\\\\\\\\\\\\\\".\\\",\\n      \\\"ScalingActivityId\\\": \\\"asa-bp161xudmuxdzofe****\\\",\\n      \\\"StatusMessage\\\": \\\"\\\\\\\\\\\\\\\"1\\\\\\\\\\\\\\\" ECS instances are added\\\",\\n      \\\"CreatedCapacity\\\": 1,\\n      \\\"DestroyedCapacity\\\": 1,\\n      \\\"StartedCapacity\\\": 1,\\n      \\\"StoppedCapacity\\\": 1,\\n      \\\"CreatedInstances\\\": [\\n        \\\"[\\\\\\\"i-abc1\\\\\\\",\\\\\\\"i-abc2\\\\\\\"]\\\"\\n      ],\\n      \\\"DestroyedInstances\\\": [\\n        \\\"[\\\\n      \\\\\\\"i-abc1\\\\\\\",\\\\n      \\\\\\\"i-abc2\\\\\\\"\\\\n]\\\"\\n      ],\\n      \\\"StartedInstances\\\": [\\n        \\\"[\\\\n      \\\\\\\"i-abc1\\\\\\\",\\\\n      \\\\\\\"i-abc2\\\\\\\"\\\\n]\\\"\\n      ],\\n      \\\"StoppedInstances\\\": [\\n        \\\"[\\\\n      \\\\\\\"i-abc1\\\\\\\",\\\\n      \\\\\\\"i-abc2\\\\\\\"\\\\n]\\\"\\n      ],\\n      \\\"ErrorCode\\\": \\\"OperationDenied.NoStock\\\",\\n      \\\"ErrorMessage\\\": \\\"The specified ECS resource is out of stock in this region. Please try again later.\\\",\\n      \\\"Detail\\\": \\\"\\\\\\\"new ECS instances \\\\\\\"i-j6c8ilerw, i-j6c8iler4mx\\\\\\\" are created.\\\\\\\"\\\",\\n      \\\"TriggerSourceType\\\": \\\"Api\\\",\\n      \\\"TriggerSourceId\\\": \\\"2346366580*****\\\",\\n      \\\"LifecycleHookContext\\\": {\\n        \\\"DisableLifecycleHook\\\": false,\\n        \\\"IgnoredLifecycleHookIds\\\": [\\n          \\\"ash-bp14zolna43z266bq***\\\\n\\\"\\n        ]\\n      },\\n      \\\"ActivityMetadata\\\": \\\"{\\\\\\\\\\\\\\\"goatscaler.io/managed\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"true\\\\\\\\\\\\\\\"}\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询伸缩活动","summary":"通过API DescribeScalingActivities查看伸缩活动的详情，了解通过定时任务、报警任务或手动执行伸缩规则等方式触发伸缩活动的结果。例如，您可以在伸缩活动详情页查看到伸缩活动的状态、活动起因、变化后总实例数等信息。","description":"- 查询时可以指定伸缩组ID来查询该伸缩组下的所有伸缩活动。\n\n- 查询时可以通过伸缩活动的状态来过滤查询结果。\n\n- 可以查询30日内的伸缩活动。"}