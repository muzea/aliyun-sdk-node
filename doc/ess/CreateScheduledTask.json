{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"定时任务所属地域的ID。","type":"string","required":true,"example":"cn-qingdao"}},{"name":"ScheduledTaskName","in":"query","schema":{"description":"定时任务的名称。2~64个英文或中文字符，以数字、大小字母或中文开头，可包含数字、下划线（_）、短划线（-）或半角句号（.）。同一账号同一地域内唯一。 \n\n默认值为`ScheduledTaskId`的值。","type":"string","required":false,"example":"scheduled****"}},{"name":"Description","in":"query","schema":{"description":"定时任务的描述信息，长度为2~200个英文或中文字符。","type":"string","required":false,"example":"Test scheduled task."}},{"name":"ScheduledAction","in":"query","schema":{"description":"定时任务触发时需要执行的伸缩规则，填写伸缩规则的唯一标识符。\n\n指定`ScheduledAction`后，定时任务的伸缩方式为选择已有伸缩规则。不支持同时设置`ScheduledAction`和`ScalingGroupId`。","type":"string","required":false,"example":"ari:acs:ess:cn-hangzhou:140692647****:scalingrule/asr-bp12tcnol686y1ik****"}},{"name":"RecurrenceEndTime","in":"query","schema":{"description":"重复执行定时任务的结束时间。按照ISO8601标准表示，并需要使用UTC时间。\n\n格式为：YYYY-MM-DDThh:mmZ。不能填写自创建当天起365日后的时间。","type":"string","required":false,"example":"2014-08-17T16:55Z"}},{"name":"LaunchTime","in":"query","schema":{"description":"定时任务触发的时间点。 按照ISO8601标准表示，并需要使用UTC时间。格式为：YYYY-MM-DDThh:mmZ。不能填写自创建当天起90日后的时间。 \n\n- 如果指定了`RecurrenceType`，则此属性指定的时间点，默认为循环执行的时间点。\n\n- 如果未指定`RecurrenceType`，则按指定的日期和时间执行一次。","type":"string","required":false,"example":"2014-08-17T16:52Z"}},{"name":"RecurrenceType","in":"query","schema":{"description":"重复执行定时任务的类型，取值范围： \n- Daily：每多少天重复执行一次定时任务。 \n- Weekly：每周指定几天重复执行一次定时任务。 \n- Monthly：每月内指定几天重复执行一次定时任务。 \n- Cron：按照指定的Cron表达式执行定时任务。 \n\n您需要同时指定`RecurrenceType`和`RecurrenceValue`。 ","type":"string","required":false,"example":"Daily"}},{"name":"RecurrenceValue","in":"query","schema":{"description":"重复执行定时任务的数值。 \n\n- `RecurrenceType`取值为`Daily`时，只能填一个值，取值范围：1~31。 \n- `RecurrenceType`取值为`Weekly`时，可以填入多个值，填多个值时使用半角逗号（,）分隔。例如，周日、周一、周二、周三、周四、周五、周六的值依次为：`0,1,2,3,4,5,6`。  \n- `RecurrenceType`取值为`Monthly`时，格式为`A-B`。A、B的取值范围为1~31，并且B必须大于等于A。 \n- `RecurrenceType`取值为`Cron`时，表示UTC时间，支持分、时、日、月、星期的五个域表达式，支持通配符半角逗号（,）、半角问号（?）、短划线（-）、星号（*）、井号（#）、正斜线（/）、L和W。  \n\n您需要同时指定`RecurrenceType`和`RecurrenceValue`。","type":"string","required":false,"example":"1"}},{"name":"TaskEnabled","in":"query","schema":{"description":"是否启动定时任务。 \n- true：启动任务。\n- false：停止任务 。\n\n默认值：true。","type":"boolean","required":false,"example":"true"}},{"name":"LaunchExpirationTime","in":"query","schema":{"description":"定时任务触发操作失败后，在此时间内重试。单位为秒，取值范围：0~1800。\n\n默认值：600。","type":"integer","format":"int32","required":false,"maximum":"86400","minimum":"0","example":"600","default":"600"}},{"name":"MinValue","in":"query","schema":{"description":"定时任务的伸缩方式为设置伸缩组内实例数量时，指定伸缩组内实例的最小数量。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"MaxValue","in":"query","schema":{"description":"定时任务的伸缩方式为设置伸缩组内实例数量时，指定伸缩组内实例的最大数量。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"DesiredCapacity","in":"query","schema":{"description":"定时任务的伸缩方式为设置伸缩组内实例数量时，指定伸缩组内实例的期望实例数。\n\n> 伸缩组必须支持设置期望实例数，即在创建该伸缩组时指定了`DesiredCapacity`。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"ScalingGroupId","in":"query","schema":{"description":"定时任务触发时需要修改实例数量的伸缩组，填写伸缩组ID。\n\n指定`ScalingGroupId`后，定时任务的伸缩方式为设置伸缩组内实例数量，您需要为`MinValue`、`MaxValue`和`DesiredCapacity`中至少一个参数指定数量。不支持同时设置`ScheduledAction`和`ScalingGroupId`。","type":"string","required":false,"example":"asg-bp18p2yfxow2dloq****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"ScheduledTaskId":{"description":"定时任务的ID，由系统生成，全局唯一。","type":"string","example":"edRtShc57WGXdt8TlPbr****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ScheduledTaskId\\\": \\\"edRtShc57WGXdt8TlPbr****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\"\\n}\",\"type\":\"json\"}]","title":"创建一个定时任务","summary":"定时任务是一种预设任务，您可以通过调用API CreateScheduledTask创建一个定时任务，在指定时间执行指定伸缩规则，实现计算资源的自动扩张或收缩，来满足业务需求的同时又能控制成本。","description":"- 由于伸缩组正在发生伸缩活动或者伸缩组停用等原因，导致定时任务触发执行伸缩规则失败后，在`LaunchExpirationTime`内，定时任务会自动重试触发，否则放弃本次定时触发。\n- 如果多个定时任务在相近的时间内触发执行同一个伸缩组的伸缩规则，则触发的伸缩活动详情如下：\n    - **已设置期望实例数的伸缩组**：多个定时任务触发的伸缩活动属于并行伸缩活动。例如，相近时间内，执行多个定时任务后，伸缩组可同时触发多个并行伸缩活动。\n    - **未设置期望实例数的伸缩组**： 最早触发的定时任务会先执行伸缩活动。由于同一个伸缩组同一时刻内只能有一个伸缩活动，排在后面的定时任务会在`LaunchExpirationTime`内自动重试定时触发。如果上一个伸缩活动完成之后，排在后面的定时任务还在`LaunchExpirationTime`内重试，则执行该定时任务的伸缩规则并触发相应的伸缩活动。\n- 定时任务支持以下两种伸缩方式：\n\n    - 通过ScheduledAction参数设置需要执行的伸缩规则。\n    - 通过ScalingGroupId参数设置伸缩组内实例数量。\n  >不支持同时设置ScheduledAction 和 ScalingGroupId。"}