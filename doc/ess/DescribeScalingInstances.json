{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"伸缩组所属地域的ID。\n\n","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。","type":"string","required":false,"example":"asg-bp1igpak5ft1flyp****"}},{"name":"ScalingConfigurationId","in":"query","schema":{"description":"关联伸缩配置的ID。","type":"string","required":false,"example":"asc-bp1i65jd06v04vdh****"}},{"name":"HealthStatus","in":"query","schema":{"description":"ECS实例在伸缩组中的健康状态，未处于运行中（Running）状态的ECS实例会被判定为不健康的ECS实例，取值范围： \n\n- Healthy：健康的ECS实例。 \n- Unhealthy：不健康的ECS实例。 \n\n弹性伸缩会自动移出伸缩组中不健康的ECS实例，并释放自动创建的ECS实例。\n\n是否释放手动添加的ECS实例由其托管状态决定。如果实例生命周期未托管给伸缩组，只移出实例但不释放。如果实例生命周期托管给伸缩组，移出并释放实例。\n\n> 请确保账号可用额度充足。如果账号欠费，所有后付费的ECS实例（包括按量付费实例和抢占式实例）都会停机，甚至被释放。欠费后伸缩组内ECS实例状态变化，请参见[欠费说明](~~170589~~)。","type":"string","required":false,"example":"Healthy"}},{"name":"LifecycleState","in":"query","schema":{"description":"ECS实例在伸缩组中的生命周期状态，取值范围：\n \n- InService：已成功加入伸缩组并正常提供服务。 \n- Pending：加入中。ECS实例加入伸缩组时包括加入负载均衡实例的后端服务器、RDS实例的访问白名单等过程。\n- Pending:Wait：加入挂起中。如果伸缩组内创建了适用于弹性扩张活动的生命周期挂钩，ECS实例在加入伸缩组时被挂起并等待挂钩超时时间结束。\n- Protected：保护中。ECS实例正常提供服务，但弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Standby：备用中。ECS实例不提供服务，负载均衡权重被置为零，且弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Stopped：停用中。ECS实例已停机，不提供服务。\n- Removing：移出中。ECS实例移出伸缩组时包括移出负载均衡实例的后端服务器、RDS实例的访问白名单等过程。 \n- Removing:Wait：移出挂起中。如果伸缩组内创建了适用于弹性收缩活动的生命周期挂钩，ECS实例在移出伸缩组时被挂起并等待挂钩超时时间结束。","type":"string","required":false,"example":"InService"}},{"name":"CreationType","in":"query","schema":{"description":"伸缩组中实例的创建方式，取值范围： \n\n- AutoCreated：弹性伸缩根据实例配置信息来源自动创建的ECS实例。 \n- Attached：不是通过弹性伸缩服务创建，而是由您手动添加到伸缩组中的ECS实例。\n- Managed：不是通过弹性伸缩服务创建，而是由您手动添加到伸缩组中的托管实例。","type":"string","required":false,"example":"AutoCreated"}},{"name":"PageNumber","in":"query","schema":{"description":"ECS实例列表的页码，起始值：1。\n\n默认值：1。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时设置的每页行数，最大值：100。\n\n默认值：10。","type":"integer","format":"int32","required":false,"maximum":"100","example":"10","default":"10"}},{"name":"ScalingActivityId","in":"query","schema":{"description":"伸缩活动的ID。","type":"string","required":false,"example":"asa-bp1c9djwrgxjyk31****"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"ECS实例的ID。\n\n返回查询结果时忽略失效的InstanceId，并且不报错。","type":"array","items":{"description":"ECS实例的ID。\n\n返回查询结果时忽略失效的InstanceId，并且不报错。","type":"string","required":false,"example":"i-bp109k5j3dum1ce6****"},"required":false,"maxItems":200}},{"name":"CreationTypes","in":"query","style":"repeatList","schema":{"description":"伸缩组中实例的创建方式，此参数和CreationType参数只能同时传入一个。","type":"array","items":{"description":"伸缩组中实例的创建方式，可分为AutoCreated、Attached、Managed。","type":"string","required":false,"example":"AutoCreated"},"required":false,"maxItems":10}},{"name":"LifecycleStates","in":"query","style":"repeatList","schema":{"description":"ECS实例在伸缩组中的生命周期状态列表，此参数和LifecycleState参数只能同时传入一个，建议您使用此参数。","type":"array","items":{"description":"ECS实例在伸缩组中的生命周期状态，取值范围：\n \n- InService：已成功加入伸缩组并正常提供服务。 \n- Pending：加入中。ECS实例加入伸缩组时包括加入负载均衡实例的后端服务器、RDS实例的访问白名单等过程。\n- Pending:Wait：加入挂起中。如果伸缩组内创建了适用于弹性扩张活动的生命周期挂钩，ECS实例在加入伸缩组时被挂起并等待挂钩超时时间结束。\n- Protected：保护中。ECS实例正常提供服务，但弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Standby：备用中。ECS实例不提供服务，负载均衡权重被置为零，且弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Stopped：停用中。ECS实例已停机，不提供服务。\n- Removing：移出中。ECS实例移出伸缩组时包括移出负载均衡实例的后端服务器、RDS实例的访问白名单等过程。 \n- Removing:Wait：移出挂起中。如果伸缩组内创建了适用于弹性收缩活动的生命周期挂钩，ECS实例在移出伸缩组时被挂起并等待挂钩超时时间结束。","type":"string","required":false,"example":"InService"},"required":false,"maxItems":10}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"B13527BF-1FBD-4334-A512-20F5E9D3****"},"PageSize":{"description":"每页行数。","type":"integer","format":"int32","example":"10"},"PageNumber":{"description":"当前页码。","type":"integer","format":"int32","example":"1"},"TotalSpotCount":{"description":"当前伸缩组中，运行状态的抢占式实例总数。","type":"integer","format":"int32","example":"4"},"TotalCount":{"description":"ECS实例的总数。","type":"integer","format":"int32","example":"1"},"ScalingInstances":{"description":"ECS实例信息组成的集合。","type":"array","items":{"description":"ECS实例信息组成的集合。","type":"object","properties":{"CreationTime":{"description":"ECS实例加入伸缩组的时间，精确到分钟。","type":"string","example":"2020-05-18T03:11Z"},"LoadBalancerWeight":{"description":"负载均衡实例权重。","type":"integer","format":"int32","example":"50"},"LaunchTemplateId":{"description":"实例启动模板的ID。","type":"string","example":"lt-m5e3ofjr1zn1aw7****"},"InstanceId":{"description":"ECS实例的ID。","type":"string","example":"i-bp109k5j3dum1ce6****"},"SpotStrategy":{"description":"抢占式实例的抢占策略。可能值：\n\n- SpotWithPriceLimit：设置上限价格的抢占式实例。\n- SpotAsPriceGo：系统自动出价，跟随当前市场实际价格。","type":"string","example":"SpotWithPriceLimit"},"LaunchTemplateVersion":{"description":"实例启动模板的版本。","type":"string","example":"1"},"HealthStatus":{"description":"ECS实例在伸缩组中的健康状态，未处于运行中（Running）状态的ECS实例会被判定为不健康的ECS实例，可能值： \n\n- Healthy：健康的ECS实例。 \n- Unhealthy：不健康的ECS实例。 \n\n弹性伸缩会自动移出伸缩组中不健康的ECS实例，并释放自动创建的ECS实例。\n\n是否释放手动添加的ECS实例由其托管状态决定。如果实例生命周期未托管给伸缩组，只移出实例但不释放。如果实例生命周期托管给伸缩组，移出并释放实例。\n\n> 请确保账号可用额度充足。如果账号欠费，所有后付费的ECS实例（包括按量付费实例和抢占式实例）都会停机，甚至被释放。欠费后伸缩组内ECS实例状态变化，请参见[欠费说明](~~170589~~)。","type":"string","example":"Healthy"},"ScalingGroupId":{"description":"所属伸缩组的ID。","type":"string","example":"asg-bp1igpak5ft1flyp****"},"WarmupState":{"description":"ECS实例的预热状态，可能值： \n         \n- NoNeedWarmup：不需要预热。\n- WaitingForInstanceWarmup：等待预热结束。\n- InstanceWarmupFinish：预热结束。\n         ","type":"string","example":"NoNeedWarmup"},"LifecycleState":{"description":"ECS实例在伸缩组中的生命周期状态，可能值：\n \n- InService：已成功加入伸缩组并正常提供服务。 \n- Pending：加入中。ECS实例加入伸缩组时包括加入负载均衡实例的后端服务器、RDS实例的访问白名单等过程。\n- Pending:Wait：加入挂起中。如果伸缩组内创建了适用于弹性扩张活动的生命周期挂钩，ECS实例在加入伸缩组时被挂起并等待挂钩超时时间结束。\n- Protected：保护中。ECS实例正常提供服务，但弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Standby：备用中。ECS实例不提供服务，负载均衡权重被置为零，且弹性伸缩不管理ECS实例的生命周期，而是由您手动管理。\n- Stopped：停用中。ECS实例已停机，不提供服务。\n- Removing：移出中。ECS实例移出伸缩组时包括移出负载均衡实例的后端服务器、RDS实例的访问白名单等过程。 \n- Removing:Wait：移出挂起中。如果伸缩组内创建了适用于弹性收缩活动的生命周期挂钩，ECS实例在移出伸缩组时被挂起并等待挂钩超时时间结束。","type":"string","example":"InService"},"CreationType":{"description":"ECS实例的创建方式，可能值： \n\n- AutoCreated：弹性伸缩根据实例配置信息来源自动创建的ECS实例。 \n- Attached：不是通过弹性伸缩服务创建，而是由您手动添加到伸缩组中的ECS实例。","type":"string","example":"AutoCreated"},"ZoneId":{"description":"ECS实例所属的可用区ID。","type":"string","example":"cn-hangzhou-g"},"ScalingConfigurationId":{"description":"关联伸缩配置的ID。","type":"string","example":"asc-bp1i65jd06v04vdh****"},"Entrusted":{"description":"手动添加实例到伸缩组时，是否将实例托管给伸缩组，托管状态的手动添加实例，在移除伸缩组（不包括手动移除）时，将执行释放操作。可能值：\n-  true：将实例托管给伸缩组。\n-  false：不将实例托管给伸缩组。","type":"boolean","example":"true"},"WeightedCapacity":{"description":"实例规格的权重，即实例规格的单台实例在伸缩组中表示的容量大小。权重越大，满足期望容量所需的本实例规格的实例数量越少。","type":"integer","format":"int32","example":"4"},"CreatedTime":{"description":"ECS实例加入伸缩组的时间，精确到秒。\n\n","type":"string","example":"2020-05-18T03:11:39Z"},"ScalingActivityId":{"description":"ECS实例加入伸缩组时，伸缩活动的ID。","type":"string","example":"asa-bp1c9djwrgxjyk31****"},"ScalingInstanceId":{"description":"伸缩组内的实例标识，与ECS实例或ECI实例的ID一一对应。","type":"string","example":"asi-j6cj1gcte640ekhb****"},"PrivateIpAddress":{"description":"伸缩组中实例的内网IP地址。","type":"string","example":"1**.2*.1**.2**"}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"B13527BF-1FBD-4334-A512-20F5E9D3****\\\",\\n  \\\"PageSize\\\": 10,\\n  \\\"PageNumber\\\": 1,\\n  \\\"TotalSpotCount\\\": 4,\\n  \\\"TotalCount\\\": 1,\\n  \\\"ScalingInstances\\\": [\\n    {\\n      \\\"CreationTime\\\": \\\"2020-05-18T03:11Z\\\",\\n      \\\"LoadBalancerWeight\\\": 50,\\n      \\\"LaunchTemplateId\\\": \\\"lt-m5e3ofjr1zn1aw7****\\\",\\n      \\\"InstanceId\\\": \\\"i-bp109k5j3dum1ce6****\\\",\\n      \\\"SpotStrategy\\\": \\\"SpotWithPriceLimit\\\",\\n      \\\"LaunchTemplateVersion\\\": \\\"1\\\",\\n      \\\"HealthStatus\\\": \\\"Healthy\\\",\\n      \\\"ScalingGroupId\\\": \\\"asg-bp1igpak5ft1flyp****\\\",\\n      \\\"WarmupState\\\": \\\"NoNeedWarmup\\\",\\n      \\\"LifecycleState\\\": \\\"InService\\\",\\n      \\\"CreationType\\\": \\\"AutoCreated\\\",\\n      \\\"ZoneId\\\": \\\"cn-hangzhou-g\\\",\\n      \\\"ScalingConfigurationId\\\": \\\"asc-bp1i65jd06v04vdh****\\\",\\n      \\\"Entrusted\\\": true,\\n      \\\"WeightedCapacity\\\": 4,\\n      \\\"CreatedTime\\\": \\\"2020-05-18T03:11:39Z\\\",\\n      \\\"ScalingActivityId\\\": \\\"asa-bp1c9djwrgxjyk31****\\\",\\n      \\\"ScalingInstanceId\\\": \\\"asi-j6cj1gcte640ekhb****\\\",\\n      \\\"PrivateIpAddress\\\": \\\"1**.2*.1**.2**\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询伸缩组内ECS实例列表","summary":"调用DescribeScalingInstances，通过伸缩组ID查询该伸缩组内的ECS实例列表及实例信息，包括当前伸缩组中，运行状态的抢占式实例总数、ECS实例总数、ECS实例的预热状态、生命周期状态等。同时也支持指定实例健康状态、生命周期状态、创建方式等筛选符合要求的ECS实例。"}