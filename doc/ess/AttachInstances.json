{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。","type":"string","required":true,"example":"asg-bp18p2yfxow2dloq****"}},{"name":"Entrusted","in":"query","schema":{"description":"将已经存在的实例手动添加到伸缩组时，是否将该实例的生命周期托管给伸缩组。取值范围：\n\n- true：托管。该实例的生命周期由弹性伸缩管理，与伸缩组自动创建的实例一致。实例被移出伸缩组（不包括通过调用DetachInstances参数移出的实例）时会自动释放。\n- false：不托管。该实例在被移出伸缩组时不会被释放。\n\n>包年包月实例、托管实例和伸缩组中节省停机实例不支持设置该参数项。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"待添加ECS实例、ECI实例、托管实例或者伸缩组中处于节省停机状态实例的ID。","type":"array","items":{"description":"待添加ECS实例、ECI实例、托管实例或者伸缩组中处于节省停机状态实例的ID。\n\n举例如下所示：\n\n- 待添加的ECS实例ID为i-28wt4****。\n- 待添加的ECI实例ID为eci-bp17gw49eu09yiwm****。\n- 待添加的托管实例ID为mi-2cx*****。\n- 待重新启动的伸缩组中节省停机状态实例ID为i-2cd2f****\n>一次调用请求中仅支持处理一种类型的实例。","type":"string","required":false,"example":"i-28wt4****"},"required":false,"maxItems":100}},{"name":"LoadBalancerWeights","in":"query","style":"repeatList","schema":{"description":"ECS实例或ECI实例作为负载均衡实例后端服务器时的权重。","type":"array","items":{"description":"为ECS实例或ECI实例作为负载均衡实例后端服务器时的权重，该参数的取值范围：1~100。\n> 托管实例和伸缩组中节省停机实例不支持设置该参数项。\n\n默认值：50。","type":"integer","format":"int32","required":false,"example":"50"},"required":false,"maxItems":100}},{"name":"LifecycleHook","in":"query","schema":{"description":"伸缩组添加实例时，是否触发扩容生命周期挂钩。取值范围：\n\n- true：触发。\n- false：不触发。\n>托管实例和伸缩组中节省停机实例不支持设置该参数项。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"RegionId","in":"query","schema":{"description":"伸缩组所属的地域ID。","type":"string","required":false,"example":"cn-qingdao"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25965~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-42665544****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"ScalingActivityId":{"description":"伸缩活动的ID。","type":"string","example":"asa-bp1crxor24s28xf1****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE****"}}}}},"errorCodes":{"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ScalingActivityId\\\": \\\"asa-bp1crxor24s28xf1****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE****\\\"\\n}\",\"type\":\"json\"}]","title":"为伸缩组手动添加实例","summary":"调用API AttachInstances将实例手动添加到伸缩组中，即您可以将伸缩组以外的ECS实例、ECI实例或托管实例添加到伸缩组中并提供服务，或者将伸缩组中处于节省停机状态的ECS实例重新启动变为服务状态（运行中状态）并在伸缩组中提供服务。","description":"- 调用该接口前，请确保满足以下条件：\n    - 伸缩组处于Active状态。\n    - 伸缩组内没有执行中的伸缩活动。\n- 加入伸缩组的ECS实例或ECI实例的限制条件包括：\n    - 必须与伸缩组在同一个地域。\n    - 必须处于Running状态。\n    - 不能已加入到其他伸缩组中。\n    - 付费方式为包年包月、按量付费或抢占式实例。\n    - 如果伸缩组指定VswitchID，则不支持Classic类型的ECS实例或ECI实例加入伸缩组，也不支持其他VPC的ECS实例或ECI实例加入伸缩组。\n    - 如果伸缩组没有指定VswitchID，则不支持VPC类型的ECS实例或ECI实例加入伸缩组。\n- 加入伸缩组的托管实例的限制条件包括：\n    - 必须与伸缩组在同一个地域。\n    - 只能将未加入伸缩组的托管实例加入到ECS类型伸缩组中。\n    - 托管实例不支持配置生命周期挂钩、关联到负载均衡和健康检查功能。\n    - 托管实例加入ECS类型伸缩组后，该伸缩组不会管理托管实例的生命周期。\n    - 托管实例仅支持手动添加到伸缩组或手动从伸缩组移出，移出后托管实例并不会被释放。\n- 使用该接口需注意以下事项：\n    - 当伸缩组没有伸缩活动正在执行时，该接口可以绕过冷却时间（Cooldown）直接执行。\n    - 调用该接口返回成功，只是表示弹性伸缩服务接受了该接口调用的请求，伸缩活动可以执行，但不代表伸缩活动能够执行成功。您需要通过返回的ScalingActivityId查看该伸缩活动的执行状态。\n    - 如果该接口指定的实例数加上当前伸缩组的实例数（Total Capacity）大于最大值（MaxSize），则接口调用失败。\n    - 通过该接口手动添加的ECS实例、ECI实例或托管实例不与伸缩组生效的伸缩配置进行关联。"}