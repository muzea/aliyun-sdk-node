{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"125382","abilityTreeNodes":["FEATUREessDFX5TO"]},"parameters":[{"name":"ScalingGroupId","in":"query","schema":{"description":"伸缩组的ID。","type":"string","required":true,"example":"asg-bp1igpak5ft1flyp****"}},{"name":"DecreaseDesiredCapacity","in":"query","schema":{"description":"是否修改期望实例数。取值范围：\n\n- true：ECS实例、ECI实例或托管实例移出伸缩组后，期望实例数也减少相应数量。\n- false：ECS实例、ECI实例或托管实例移出伸缩组后，期望实例数不会变化。\n\n默认值：true。","type":"boolean","required":false,"example":"true"}},{"name":"DetachOption","in":"query","schema":{"description":"指定是否停止使用ECS实例或ECI实例作为负载均衡实例的后端服务器（即将ECS实例或ECI实例移出负载均衡实例的默认服务器组和虚拟服务器组），以及是否将ECS实例或ECI实例移出RDS实例的访问白名单。\n\nboth：将ECS实例或ECI实例移出负载均衡实例的默认服务器组和虚拟服务器组，并将ECS实例或ECI实例移出RDS实例的访问白名单。\n\n> 伸缩组移出托管实例时不支持设置该参数项。","type":"string","required":false,"example":"both"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"待移出ECS实例、ECI实例或托管实例的ID。","type":"array","items":{"description":"待移出ECS实例、ECI实例或托管实例的ID。\n\n举例如下所示：\n- 待移出的ECS实例ID为`i-bp109k5j3dum1ce6****`。\n- 待移出的ECI实例ID为`eci-bp17gw49eu09yiwm****`。\n- 待移出的托管实例ID为 `mi-d23fsd******`。\n\n> 一次调用请求只支持移出一种类型的实例。","type":"string","required":false,"example":"i-bp109k5j3dum1ce6****"},"required":true,"maxItems":100}},{"name":"LifecycleHook","in":"query","schema":{"description":"伸缩组移出ECS实例或ECI实例时，是否触发缩容生命周期挂钩。取值范围：\n- true：触发。\n- false：不触发。\n\n> 伸缩组移出托管实例时不支持设置该参数项。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"IgnoreInvalidInstance","in":"query","schema":{"description":"从伸缩组移出一批实例时，是否忽略其中无效的实例。取值范围：\n- true：从伸缩组中移出一批实例时，会忽略其中无效的实例。如果存在无效的实例，并且有效的实例被成功移除时，伸缩活动执行状态也会显示为警告状态，可以从伸缩活动详情查看无效的实例。\n- false：从伸缩组中移出一批实例时，不会忽略无效的实例。如果一批实例中存在无效的实例，请求会报错。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25965~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-42665544****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"ScalingActivityId":{"description":"伸缩活动的ID。","type":"string","example":"asa-bp1gbswjhjrw8tko****"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"}}}}},"errorCodes":{"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ScalingActivityId\\\": \\\"asa-bp1gbswjhjrw8tko****\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\"\\n}\",\"type\":\"json\"}]","title":"从一个伸缩组移出一台或多台实例","summary":"如果当前伸缩组状态启用状态，且伸缩组内不存在执行中的伸缩活动，您可以调用API DetachInstances从一个伸缩组移出一台或多台ECS实例、ECI实例或托管实例。","description":"- 调用该接口前，请确保满足以下条件：\n    - 目标伸缩组必须处于启用（Enable）状态。\n    - 目标伸缩组没有正在进行的伸缩活动。\n    > 目标伸缩组没有正在进行的伸缩活动时，该接口可以绕过冷却时间直接触发伸缩活动。\n\n- 使用该接口，您需要注意以下事项：\n    - 移出ECS实例、ECI实例或托管实例之后，该实例可以独立于伸缩组而单独存在，您可以调用[AttachInstances](~~25954~~)接口将ECS实例、ECI实例或托管实例再次添加到其他伸缩组。\n    - 调用该接口移出一台ECS实例、ECI实例或托管实例并不会停止或释放该实例。\n    - 接口成功调用后，仅表示弹性伸缩服务接受了该接口调用的请求。可以正常触发伸缩活动，但不能保证伸缩活动执行成功，您需要通过返回的ScalingActivityId查看伸缩活动的状态。\n    - 目标伸缩组的ECS实例、ECI实例或托管实例数量减去当前移出的ECS实例、ECI实例或托管实例数量不能小于伸缩组最小实例数（MinSize），否则会报错。"}