{"summary":"调用CreateInstance创建一个DSW实例。","path":"/api/v2/instances","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"118631","abilityTreeNodes":["FEATURElearnRNGD0R"]},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"实例属性。","properties":{"WorkspaceId":{"description":"工作空间ID。如何获取工作空间ID，请参见[ListWorkspaces](~~449124~~)。","example":"40823","required":false,"title":"工作空间Id","type":"string"},"InstanceName":{"description":"实例名称。格式要求：\n- 只能包含英文字母、数字和下划线（_）。\n- 不能超过27个字符。","example":"training_data","required":false,"title":"实例名称","type":"string"},"EcsSpec":{"description":"实例对应的ECS规格。如何获取ECS规格，请参见[ListEcsSpecs](~~470423~~)。","example":"ecs.c6.large","required":false,"title":"实例对应的Ecs规格","type":"string"},"ImageId":{"description":"镜像ID。如何获取镜像ID，请参见[ListImages](~~449118~~)。","example":"image-05cefd0be2exxxx","required":false,"title":"镜像Id","type":"string"},"ImageUrl":{"description":"镜像地址。如何获取镜像地址，请参见[ListImages](~~449118~~)。","example":"registry.cn-shanghai.aliyuncs.com/pai_product/tensorflow:py36_cpu_tf1.12_ubuntu","required":false,"title":"镜像地址","type":"string"},"Datasets":{"description":"数据集集合。","items":{"description":"数据集。","properties":{"DatasetId":{"description":"数据集ID。如何获取数据集ID，请参见[ListDatasets](~~457222~~)，使用时不能指定Uri。","example":"d-vsqjvsjp4orp5l206u","required":false,"title":"数据集Id","type":"string"},"MountPath":{"description":"容器内挂载路径。","example":"/mnt/data","required":false,"title":"容器内挂载路径","type":"string"},"Uri":{"description":"需要挂载的OSS目录的Uri，使用时不能同时指定DatasetId。","example":"oss://bucket-name.oss-cn-shanghai-internal.aliyuncs.com/data/path/","required":false,"title":"数据Uri","type":"string"},"Options":{"description":"自定义挂载属性，目前仅支持OSS，使用时不能同时指定OptionType。","example":"{\n  \"fs.oss.download.thread.concurrency\": \"10\",\n  \"fs.oss.upload.thread.concurrency\": \"10\",\n  \"fs.jindo.args\": \"-oattr_timeout=3 -oentry_timeout=0 -onegative_timeout=0 -oauto_cache -ono_symlink\"\n}\n","required":false,"title":"数据挂载Options","type":"string"},"OptionType":{"description":"挂载类型，使用时不能同时指定Options，目前仅支持OSS:\n\n- FastReadWrite：快速读写模式。\n- IncrementalReadWrite：增量读写模式。\n- ConsistentReadWrite：读写一致模式。\n- ReadOnly：只读模式。","example":"FastReadWrite","required":false,"type":"string"}},"required":false,"type":"object"},"required":false,"title":"数据集集合","type":"array"},"UserVpc":{"description":"User VPC配置。","properties":{"VpcId":{"description":"VPC ID。","example":"vpc-xxxxx","required":false,"title":"Vpc Id","type":"string"},"VSwitchId":{"description":"交换机ID。","example":"vsw-xxxxx","required":false,"title":"VSwitch Id","type":"string"},"SecurityGroupId":{"description":"安全组ID。","example":"sg-xxxxxx","required":false,"title":"Security Group Id","type":"string"},"ExtendedCIDRs":{"description":"扩展网段。\n- 当交换机ID为空时，此参数可以不提供，系统会自动获取VPC下的所有网段；\n- 当交换机ID不为空时，此参数必须提供，建议填写VPC下的所有网段。","example":"[\"192.168.0.1/24\", \"192.168.1.1/24\"]","items":{"description":"扩展网段。","example":"\"172.16.19.0/24\",\"172.16.2.0/24\",\"172.16.12.0/24\"","required":false,"type":"string"},"required":false,"type":"array"},"DefaultRoute":{"description":"默认路由。取值如下：\n\n- eth0：表示使用默认网卡，通过公共网关访问外部网络。\n- eth1：表示使用用户弹性网卡，通过私有网关访问外部网络。具体配置方法，请参考[配置DSW实例通过专有公网网关访问公网](~~2525343~~)。","example":"eth0","required":false,"title":"Default Route","type":"string"},"ForwardInfos":{"description":"端口透出信息。","items":{"description":"端口透出信息列表。","ref":"#/components/schemas/ForwardInfo","required":false,"$ref":"#/components/schemas/ForwardInfo"},"required":false,"title":"Forward Infos","type":"array"}},"required":false,"title":"user vpc配置","type":"object"},"Accessibility":{"description":"工作空间内是否他人可见。取值如下：\n- PRIVATE：表示工作空间内自己及管理员可见。\n- PUBLIC：工作空间所有用户可见。","example":"PRIVATE","required":false,"title":"工作空间内是否他人可见","type":"string"},"EnvironmentVariables":{"additionalProperties":{"type":"string","description":"用户指定环境变量，DSW实例启动后，指定环境变量会被注入到容器中。","example":"MAAS"},"description":"环境变量。","example":"{userName: \"Chris\"}","required":false,"title":"环境变量","type":"object"},"ResourceId":{"description":"资源组ID，预付费时配置。如何创建专有资源组，请参见[准备及管理DLC资源组集群](~~202827~~)。","example":"dsw-123456789","required":false,"title":"资源Id,预付费时填写","type":"string"},"Priority":{"description":"优先级，在分配资源给实例时，优先级越高的实例越优先。取值范围为1~9。\n- 1为最低优先级。\n- 9为最高优先级。","example":"1","format":"int64","required":false,"title":"优先级，在分配资源给实例时，优先级越高的实例越优先","type":"integer"},"RequestedResource":{"description":"资源配置，弹内或者轻量化时使用。","example":"{\"CPU\":\"4\",\"Memory\":\"8Gi\",\"SharedMemory\":\"4Gi\",\"GPU\":\"1\",\"GPUType\":\"Tesla-V100-16G\"}","properties":{"CPU":{"description":"CPU核数。","example":"32","required":false,"title":"cpu核数","type":"string"},"Memory":{"description":"内存大小。单位为GB。","example":"32GB","required":false,"title":"memory大小","type":"string"},"SharedMemory":{"description":"共享内存大小。单位为GB。","example":"32GB","required":false,"title":"shared memory大小","type":"string"},"GPU":{"description":"GPU数量。","example":"4","required":false,"title":"gpu数量","type":"string"},"GPUType":{"description":"GPU显卡类型，取值如下：\n- V100\n- A100\n- T4\n- A10\n- P100","example":"v100","required":false,"title":"gpu显卡类型","type":"string"}},"required":false,"title":"资源配置，弹内或者轻量化时使用","type":"object"},"Labels":{"description":"用户自定义标签。","example":"{'foo': 'bar'}","items":{"description":"用户定义标签。","properties":{"Key":{"description":"用户定义标签键。","example":"stsTokenOwner","required":false,"title":"用户定义标签键","type":"string"},"Value":{"description":"用户定义标签值。","example":"123xxxxxxxx","required":false,"title":"用户定义标签值","type":"string"}},"required":false,"type":"object"},"required":false,"title":"用户自定义标签","type":"array"},"CloudDisks":{"description":"云盘列表。","example":"[]","items":{"description":"云盘列表。","properties":{"Capacity":{"description":"为每个按量付费实例赠送免费云盘做持久化存储。\n- GPU规格：默认为100 GB。\n- CPU规格：默认为30 GB。","example":"30","required":false,"title":"云盘容量","type":"string"},"SubType":{"description":"rootfs：表示将磁盘挂载为系统盘，系统环境存储在磁盘上。","example":"rootfs","required":false,"title":"云盘使用方式, rootfs 挂载为rootfs","type":"string"},"MountPath":{"description":"磁盘在容器内额外挂载的数据目录路径。","example":"/mnt/workspace","required":false,"title":"容器内挂载云盘路径","type":"string"},"Path":{"description":"磁盘被挂载的路径。","example":"/mnt/systemdist","required":false,"title":"云盘内被挂载目录路径","type":"string"},"Status":{"description":"云盘或者快照使用情况。","properties":{"Available":{"description":"可使用量，单位 Byte。","example":"31841058816","format":"int64","required":false,"type":"integer"},"Usage":{"description":"已使用量，单位 Byte。","example":"371195904","format":"int64","required":false,"type":"integer"},"Capacity":{"description":"容量，单位 Byte。","example":"32212254720","format":"int64","required":false,"type":"integer"}},"required":false,"title":"云盘状态","type":"object"}},"required":false,"type":"object"},"required":false,"title":"云盘列表","type":"array"},"WorkspaceSource":{"description":"选择云盘作为默认工作目录。","example":"rootfsCloudDisk","required":false,"title":"工作空间指向的存储，如果不指定，则依次使用NAS，CloudDisk或者本地磁盘","type":"string"},"UserId":{"description":"实例所有者的账号ID。支持阿里云账号或RAM用户。","example":"161228528250****","required":false,"title":"实例的使用者，可能是子账号或者主账号","type":"string"},"Driver":{"description":"NVIDIA驱动配置。","example":"535.54.03","required":false,"title":"Driver for accelerator","type":"string"},"Affinity":{"properties":{"CPU":{"properties":{"Enable":{"required":false,"type":"boolean"}},"required":false,"type":"object"}},"required":false,"type":"object"}},"required":false,"title":"实例属性","type":"object"}}],"responses":{"200":{"schema":{"description":"执行结果。","properties":{"RequestId":{"description":"请求ID。","example":"E7D55162-4489-1619-AAF5-3F97D5FCA948","title":"请求Id","type":"string"},"Success":{"description":"成功标志，可能值：\n- true\n- false","example":"true","title":"成功标志","type":"boolean"},"Message":{"description":"返回结果说明。","example":"\"XXX\"","title":"说明","type":"string"},"Code":{"description":"状态码，可能值：\n- InternalError：内部错误（除了参数验证错误外的其他错误，目前都归类到内部错误）。\n- ValidationError：参数验证错误。","example":"null","title":"状态码","type":"string"},"HttpStatusCode":{"description":"HTTP状态码，可能值：\n- 400\n- 404\n- 200","example":"200","format":"int32","title":"http状态码","type":"integer"},"InstanceId":{"description":"实例ID。","example":"dsw-730xxxxxxxxxx","title":"实例Id","type":"string"}},"title":"执行结果","type":"object"}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E7D55162-4489-1619-AAF5-3F97D5FCA948\\\",\\n  \\\"Success\\\": true,\\n  \\\"Message\\\": \\\"\\\\\\\"XXX\\\\\\\"\\\",\\n  \\\"Code\\\": \\\"null\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"InstanceId\\\": \\\"dsw-730xxxxxxxxxx\\\"\\n}\",\"type\":\"json\"}]","title":"创建实例"}