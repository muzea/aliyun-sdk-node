{"path":"/api/v2/instances/{InstanceId}/idleinstanceculler","methods":["post"],"schemes":["https","http"],"security":[{"AK":[]}],"deprecated":false,"parameters":[{"name":"InstanceId","in":"path","schema":{"description":"设定自动关机的实例ID。如何获取实例ID，请参见[ListInstances](~~470439~~)。","type":"string","required":true,"example":"dsw-730xxxxxxxxxx"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求body。","type":"object","properties":{"CpuPercentThreshold":{"description":"CPU使用率阈值，单位是百分比，取值1~100，低于此值则认为实例当前处于闲置。","type":"integer","format":"int32","required":false,"example":"20"},"GpuPercentThreshold":{"description":"GPU使用率阈值，单位是百分比，取值1~100。如果实例为GPU类型，则此参数生效。CPU和GPU同时低于阈值则认为指定实例处于闲置。","type":"integer","format":"int32","required":false,"example":"10"},"MaxIdleTimeInMinutes":{"description":"闲置等待时间阈值，单位是分钟。如果闲置时长超过此值，将自动停止DSW实例。","type":"integer","format":"int32","required":false,"example":"60"}},"required":false}}],"responses":{"200":{"schema":{"title":"IdleInstanceCullerIdResult","description":"返回结构体。","type":"object","properties":{"RequestId":{"title":"请求Id","description":"请求ID。","type":"string","example":"E7D55162-4489-1619-AAF5-3F97D5FCA948"},"Success":{"title":"成功标志","description":"成功标志，可能值：\n- true\n- false","type":"boolean","enumValueTitles":{"true":"true","false":"false"},"example":"true"},"Message":{"title":"说明","description":"错误信息。","type":"string","example":"\"XXX\""},"Code":{"title":"状态码","description":"状态码，可能值：\n- InternalError：内部错误（除了参数验证错误外的其他错误，目前都归类到内部错误）。\n- ValidationError：参数验证错误。","type":"string","example":"null"},"InstanceId":{"description":"实例ID。","type":"string","example":"dsw-730xxxxxxxxxx"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"E7D55162-4489-1619-AAF5-3F97D5FCA948\\\",\\n  \\\"Success\\\": true,\\n  \\\"Message\\\": \\\"\\\\\\\"XXX\\\\\\\"\\\",\\n  \\\"Code\\\": \\\"null\\\",\\n  \\\"InstanceId\\\": \\\"dsw-730xxxxxxxxxx\\\"\\n}\",\"type\":\"json\"}]","title":"创建闲置实例自动关机策略","summary":"创建指定实例的自动关机策略，满足条件时将自动停止DSW实例。一个DSW实例只支持创建一个闲置自动关机策略，如果指定实例已设定过闲置自动关机策略，请先调用DeleteIdleInstanceCuller将其删除。"}