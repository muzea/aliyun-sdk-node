{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"VaultId","in":"query","schema":{"description":"备份仓库ID。","type":"string","required":false,"example":"v-*********************"}},{"name":"VaultRegionId","in":"query","schema":{"description":"备份仓库所属的地域ID。","type":"string","required":false,"example":"cn-shanghai"}},{"name":"Status","in":"query","schema":{"description":"备份仓库状态。\n\n- **UNKNOWN**：未知\n- **INITIALIZING**：初始化中\n- **CREATED**：已创建\n- **ERROR**：错误","type":"string","required":false,"example":"CREATED","enum":["UNKNOWN","CREATED","ERROR"]}},{"name":"PageNumber","in":"query","schema":{"description":"分页页码，从1开始，默认值为1。","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页大小，最小值为1，最大值为99，默认值为10。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"VaultType","in":"query","schema":{"description":"备份仓库类型。取值\n- **STANDARD**：表示普通仓库，可用于ECS文件备份、OSS备份、NAS备份等。\n- **OTS_BACKUP**：表示TableStore仓库，仅可用于TableStore备份，且TableStore需要使用该类型的仓库。","type":"string","required":false,"example":"STANDARD"}},{"name":"Tag","in":"formData","style":"repeatList","schema":{"description":"标签信息。最大支持20个标签。","type":"array","items":{"description":"标签信息。","type":"object","properties":{"Key":{"description":"标签的Key值。","type":"string","required":false,"example":"key1"},"Value":{"description":"标签的Value值。","type":"string","required":false,"example":"value1"}},"required":false},"required":false,"example":"6a745bceffb042959b3b5206d6f12ad1","maxItems":21}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-*********************"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"Success":{"description":"请求是否成功。\n\n- true：成功\n- false：失败","type":"boolean","example":"true"},"Code":{"description":"返回码。200表示成功。","type":"string","example":"200"},"Message":{"description":"返回信息描述，成功一般返回successful，错误时会返回相应错误信息。","type":"string","example":"successful"},"PageNumber":{"description":"分页页码，从1开始，默认值为1。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"分页大小，最小值为1，最大值为99，默认值为10。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"返回备份仓库总数量。","type":"integer","format":"int32","example":"8"},"Vaults":{"type":"object","properties":{"Vault":{"description":"备份仓库列表。","example":"{'Vault': []}","type":"array","items":{"description":"备份仓库列表。","type":"object","properties":{"Status":{"description":"备份仓库状态。\n  - **UNKNOWN**：未知\n  - **INITIALIZING**：初始化中\n  - **CREATED**：已创建\n  - **ERROR**：错误","type":"string","example":"CREATED"},"VaultId":{"description":"备份仓库ID。","type":"string","example":"v-*********************"},"ChargeType":{"description":"备份仓库计费类型。","type":"string","example":"FREE"},"VaultType":{"description":"备份仓库类型。取值仅为**STANDARD**，表示普通仓库。","type":"string","example":"STANDARD"},"Dedup":{"description":"是否开启重删功能。","type":"boolean","example":"true"},"ReplicationSourceVaultId":{"description":"异地备份仓库源仓库ID。","type":"string","example":"v-*********************"},"IndexUpdateTime":{"description":"索引更新时间。","type":"integer","format":"int64","example":"1639645628"},"Description":{"description":"仓库描述。","type":"string","example":"vault description"},"VaultStorageClass":{"description":"备份仓库存储类型。取值仅为**STANDARD**，表示标准存储。","type":"string","example":"STANDARD"},"Retention":{"description":"备份库保留时长，单位：天。","type":"integer","format":"int64","example":"2"},"CreatedTime":{"description":"备份仓库创建时间。UNIX时间戳，单位秒。","type":"integer","format":"int64","example":"1554347313"},"IndexLevel":{"description":"索引等级。\n\n- OFF：不创建索引\n- META：元数据索引\n- ALL：全文索引","type":"string","example":"OFF"},"VaultName":{"description":"备份仓库名称。","type":"string","example":"vaultname"},"StorageSize":{"description":"备份库使用量。单位为Byte。","type":"integer","format":"int64","example":"10"},"LatestReplicationTime":{"description":"最后一次异地备份同步时间。UNIX时间戳，单位为秒。","type":"integer","format":"int64","example":"1554347313"},"VaultStatusMessage":{"description":"（仅异地备份仓库有效）仓库错误状态信息，取值范围：\n  - **UNKNOWN_ERROR**表示未知错误。\n  - **SOURCE_VAULT_ALREADY_HAS_REPLICATION**表示复制源仓库已经设置了其他镜像仓库。","type":"string","example":"SOURCE_VAULT_ALREADY_HAS_REPLICATION"},"Replication":{"description":"是否为异地备份仓库。\n  - true：异地备份仓库。\n  - false：本地备份仓库。","type":"boolean","example":"false"},"ReplicationSourceRegionId":{"description":"异地备份库的源库所属地域ID（仅对异地备份库有效）","type":"string","example":"cn-shanghai"},"VaultRegionId":{"description":"备份仓库所属的地域ID。","type":"string","example":"cn-shanghai"},"UpdatedTime":{"description":"备份仓库更新时间。UNIX时间戳，单位为秒。","type":"integer","format":"int64","example":"1554347313"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-*********************"},"BucketName":{"description":"备份仓库试用的oss bucket名称。","type":"string","example":"hbr-0005i51******t58"},"SearchEnabled":{"description":"是否开启备份搜索。","type":"boolean","example":"true"},"IndexAvailable":{"description":"索引是否可用（不处于更新状态）。","type":"boolean","example":"true"},"BytesDone":{"description":"备份数据量。单位为Byte。","type":"integer","format":"int64","example":"20"},"Tags":{"type":"object","properties":{"Tag":{"description":"备份仓库的标签信息。","type":"array","items":{"description":"备份仓库的标签信息。","type":"object","properties":{"Key":{"description":"仓库的标签键。N的取值范围：1~20。\n  - 不支持以`aliyun`、`acs:`开头。\n  - 不允许包含`http://`和`https://`。\n  - 不允许为空字符串。","type":"string","example":"aaa"},"Value":{"description":"仓库的标签值。N的取值范围：1~20。\n  - 不支持以`aliyun`、`acs:`开头。\n  - 不允许包含`http://`和`https://`。\n  - 不允许为空字符串。","type":"string","example":"a1"}}}}}},"SourceTypes":{"type":"object","properties":{"SourceType":{"description":"备份仓库备份的数据源类型。","type":"array","items":{"description":"备份数据源类型。","type":"string","example":"ECS_FILE"}}}},"ReplicationProgress":{"description":"镜像仓库数据同步进度。","type":"object","properties":{"HistoricalReplicationProgress":{"description":"镜像仓库历史数据同步进度。取值0~100。","type":"integer","format":"int32","example":"100"},"NewReplicationProgress":{"description":"镜像仓库增量数据最新同步时间。","type":"integer","format":"int64","example":"1579413159"}}},"BackupPlanStatistics":{"description":"备份仓库备份计划统计。","type":"object","properties":{"Oracle":{"description":"Oracle类型备份计划数量。","type":"integer","format":"int32","example":"1"},"LocalFile":{"description":"本地服务器类型备份计划数量。","type":"integer","format":"int32","example":"1"},"Nas":{"description":"NAS类型备份计划数量。","type":"integer","format":"int32","example":"1"},"CommonNas":{"description":"通用NAS类型备份计划数量。","type":"integer","format":"int32","example":"1"},"Isilon":{"description":"Isilon类型备份计划数量。","type":"integer","format":"int32","example":"1"},"Oss":{"description":"OSS类型备份计划数量。","type":"integer","format":"int32","example":"1"},"SqlServer":{"description":"SQL Server类型备份计划数量。","type":"integer","format":"int32","example":"1"},"Csg":{"description":"云存储网关类型备份计划数量。","type":"integer","format":"int32","example":"1"},"EcsFile":{"description":"ECS文件类型备份计划数量。","type":"integer","format":"int32","example":"1"},"MySql":{"description":"MySQL类型备份计划数量。","type":"integer","format":"int32","example":"1"},"EcsHana":{"description":"SAP HANA类型备份计划数量。","type":"integer","format":"int32","example":"1"},"LocalVm":{"description":"本地虚拟机备份计划数量。","type":"integer","format":"int32","example":"1"},"Ots":{"description":"表格存储类型备份计划数量。","type":"integer","format":"int32","example":"1"}}},"TrialInfo":{"description":"免费试用属性。","type":"object","properties":{"TrialStartTime":{"description":"免费试用开始时间。","type":"integer","format":"int64","example":"1579413159"},"TrialVaultReleaseTime":{"description":"免费试用仓库释放时间。","type":"integer","format":"int64","example":"1594965600"},"TrialExpireTime":{"description":"免费试用过期时间。","type":"integer","format":"int64","example":"1584597600"},"KeepAfterTrialExpiration":{"description":"免费试用结束后是否转为按量付费。","type":"boolean","example":"true"}}},"EncryptType":{"description":"备份仓库加密类型。\n\n- NONE：不加密\n- HBR_PRIVATE：HBR提供密钥加密（默认）\n- KMS：使用用户的KMS key加密","type":"string","example":"HBR_PRIVATE"},"WormEnabled":{"description":"是否开启备份锁定。","type":"boolean","example":"true"},"SnapshotCount":{"description":"仓库内的快照数量。","type":"integer","format":"int64","example":"0"},"CompressionAlgorithm":{"description":"对备份库进行压缩的加密算法，取值包括：\n\n- DISABLED：不压缩加密。\n- SNAPPY：使用SNAPPY加密算法。\n- ZSTD： 即Zstandard，一种快速的无损压缩算法。","type":"string","example":"ZSTD"},"RedundancyType":{"description":"备份仓库的数据冗余存储方式。取值包括：\n\n- LRS：备份库（本地冗余 LRS）。采用数据冗余存储机制，将每个对象的不同冗余存储在同一个可用区内多个设施的多个设备上，确保硬件失效时的数据持久性和可用性。\n- ZRS：备份库（同城冗余 ZRS）。采用多可用区（AZ）机制，将用户的数据分散存放在同一地域（Region）的3个可用区。当某个可用区不可用时，仍然能够保障数据的正常访问。","type":"string","example":"LRS"},"KmsKeyId":{"description":"阿里云KMS服务自定义密钥Key或者Alias，仅当EncryptType=KMS时必填。","type":"string","example":"alias/acs/acm"},"ChargedStorageSize":{"description":"归档库计费容量，单位：字节。","type":"integer","format":"int64","example":"1024000"},"ArchiveStorageSize":{"description":"归档层计费容量，单位：字节。","type":"integer","format":"int64","example":"1024000"},"ArchiveBytesDone":{"description":"归档层备份数据量。单位：字节。","type":"integer","format":"int64","example":"1024000"},"ReplicationSourceVault":{"description":"是否是异地备份库的源库\n- true：是异地备份库的源库。\n- false：不是异地备份库的源库。","type":"boolean","example":"false"},"ReplicationTargetRegionId":{"description":"异地备份库目标地域。","type":"string","example":"cn-shanghai"}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 10,\\n  \\\"TotalCount\\\": 8,\\n  \\\"Vaults\\\": {\\n    \\\"Vault\\\": [\\n      {\\n        \\\"Status\\\": \\\"CREATED\\\",\\n        \\\"VaultId\\\": \\\"v-*********************\\\",\\n        \\\"ChargeType\\\": \\\"FREE\\\",\\n        \\\"VaultType\\\": \\\"STANDARD\\\",\\n        \\\"Dedup\\\": true,\\n        \\\"ReplicationSourceVaultId\\\": \\\"v-*********************\\\",\\n        \\\"IndexUpdateTime\\\": 1639645628,\\n        \\\"Description\\\": \\\"vault description\\\",\\n        \\\"VaultStorageClass\\\": \\\"STANDARD\\\",\\n        \\\"Retention\\\": 2,\\n        \\\"CreatedTime\\\": 1554347313,\\n        \\\"IndexLevel\\\": \\\"OFF\\\",\\n        \\\"VaultName\\\": \\\"vaultname\\\",\\n        \\\"StorageSize\\\": 10,\\n        \\\"LatestReplicationTime\\\": 1554347313,\\n        \\\"VaultStatusMessage\\\": \\\"SOURCE_VAULT_ALREADY_HAS_REPLICATION\\\",\\n        \\\"Replication\\\": false,\\n        \\\"ReplicationSourceRegionId\\\": \\\"cn-shanghai\\\",\\n        \\\"VaultRegionId\\\": \\\"cn-shanghai\\\",\\n        \\\"UpdatedTime\\\": 1554347313,\\n        \\\"ResourceGroupId\\\": \\\"rg-*********************\\\",\\n        \\\"BucketName\\\": \\\"hbr-0005i51******t58\\\",\\n        \\\"SearchEnabled\\\": true,\\n        \\\"IndexAvailable\\\": true,\\n        \\\"BytesDone\\\": 20,\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"Key\\\": \\\"aaa\\\",\\n              \\\"Value\\\": \\\"a1\\\"\\n            }\\n          ]\\n        },\\n        \\\"SourceTypes\\\": {\\n          \\\"SourceType\\\": [\\n            \\\"ECS_FILE\\\"\\n          ]\\n        },\\n        \\\"ReplicationProgress\\\": {\\n          \\\"HistoricalReplicationProgress\\\": 100,\\n          \\\"NewReplicationProgress\\\": 1579413159\\n        },\\n        \\\"BackupPlanStatistics\\\": {\\n          \\\"Oracle\\\": 1,\\n          \\\"LocalFile\\\": 1,\\n          \\\"Nas\\\": 1,\\n          \\\"CommonNas\\\": 1,\\n          \\\"Isilon\\\": 1,\\n          \\\"Oss\\\": 1,\\n          \\\"SqlServer\\\": 1,\\n          \\\"Csg\\\": 1,\\n          \\\"EcsFile\\\": 1,\\n          \\\"MySql\\\": 1,\\n          \\\"EcsHana\\\": 1,\\n          \\\"LocalVm\\\": 1,\\n          \\\"Ots\\\": 1\\n        },\\n        \\\"TrialInfo\\\": {\\n          \\\"TrialStartTime\\\": 1579413159,\\n          \\\"TrialVaultReleaseTime\\\": 1594965600,\\n          \\\"TrialExpireTime\\\": 1584597600,\\n          \\\"KeepAfterTrialExpiration\\\": true\\n        },\\n        \\\"EncryptType\\\": \\\"HBR_PRIVATE\\\",\\n        \\\"WormEnabled\\\": true,\\n        \\\"SnapshotCount\\\": 0,\\n        \\\"CompressionAlgorithm\\\": \\\"ZSTD\\\",\\n        \\\"RedundancyType\\\": \\\"LRS\\\",\\n        \\\"KmsKeyId\\\": \\\"alias/acs/acm\\\",\\n        \\\"ChargedStorageSize\\\": 1024000,\\n        \\\"ArchiveStorageSize\\\": 1024000,\\n        \\\"ArchiveBytesDone\\\": 1024000,\\n        \\\"ReplicationSourceVault\\\": false,\\n        \\\"ReplicationTargetRegionId\\\": \\\"cn-shanghai\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeVaultsResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n    <Success>true</Success>\\n    <Code>200</Code>\\n    <Message>successful</Message>\\n    <PageNumber>1</PageNumber>\\n    <PageSize>10</PageSize>\\n    <TotalCount>8</TotalCount>\\n    <Vaults>\\n        <Status>CREATED</Status>\\n        <VaultId>v-*********************</VaultId>\\n        <ChargeType>FREE</ChargeType>\\n        <VaultType>STANDARD</VaultType>\\n        <Dedup>true</Dedup>\\n        <ReplicationSourceVaultId>v-*********************</ReplicationSourceVaultId>\\n        <IndexUpdateTime>1639645628</IndexUpdateTime>\\n        <Description>vault description</Description>\\n        <VaultStorageClass>STANDARD</VaultStorageClass>\\n        <Retention>2</Retention>\\n        <CreatedTime>1554347313</CreatedTime>\\n        <IndexLevel>OFF</IndexLevel>\\n        <VaultName>vaultname</VaultName>\\n        <StorageSize>10</StorageSize>\\n        <LatestReplicationTime>1554347313</LatestReplicationTime>\\n        <VaultStatusMessage>SOURCE_VAULT_ALREADY_HAS_REPLICATION</VaultStatusMessage>\\n        <Replication>false</Replication>\\n        <ReplicationSourceRegionId>v-*********************</ReplicationSourceRegionId>\\n        <VaultRegionId>cn-shanghai</VaultRegionId>\\n        <UpdatedTime>1554347313</UpdatedTime>\\n        <ResourceGroupId>rg-*********************</ResourceGroupId>\\n        <BucketName>hbr-0005i51******t58</BucketName>\\n        <SearchEnabled>true</SearchEnabled>\\n        <IndexAvailable>true</IndexAvailable>\\n        <BytesDone>20</BytesDone>\\n        <Tags>\\n            <Key>aaa</Key>\\n            <Value>a1</Value>\\n        </Tags>\\n        <SourceTypes>ECS_FILE</SourceTypes>\\n        <ReplicationProgress>\\n            <HistoricalReplicationProgress>100</HistoricalReplicationProgress>\\n            <NewReplicationProgress>1579413159</NewReplicationProgress>\\n        </ReplicationProgress>\\n        <BackupPlanStatistics>\\n            <Oracle>1</Oracle>\\n            <LocalFile>1</LocalFile>\\n            <Nas>1</Nas>\\n            <CommonNas>1</CommonNas>\\n            <Isilon>1</Isilon>\\n            <Oss>1</Oss>\\n            <SqlServer>1</SqlServer>\\n            <Csg>1</Csg>\\n            <EcsFile>1</EcsFile>\\n            <MySql>1</MySql>\\n            <EcsHana>1</EcsHana>\\n            <LocalVm>1</LocalVm>\\n            <Ots>1</Ots>\\n        </BackupPlanStatistics>\\n        <TrialInfo>\\n            <TrialStartTime>1579413159</TrialStartTime>\\n            <TrialVaultReleaseTime>1594965600</TrialVaultReleaseTime>\\n            <TrialExpireTime>1584597600</TrialExpireTime>\\n            <KeepAfterTrialExpiration>true</KeepAfterTrialExpiration>\\n        </TrialInfo>\\n        <EncryptType>HBR_PRIVATE</EncryptType>\\n        <WormEnabled>true</WormEnabled>\\n        <SnapshotCount>0</SnapshotCount>\\n        <CompressionAlgorithm>ZSTD</CompressionAlgorithm>\\n        <RedundancyType>LRS</RedundancyType>\\n    </Vaults>\\n</DescribeVaultsResponse>\",\"errorExample\":\"\"}]","title":"查询备份仓库信息","summary":"获取一个或者多个符合条件的备份仓库信息。"}