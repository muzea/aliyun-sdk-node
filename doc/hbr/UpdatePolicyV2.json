{"summary":"修改一个策略。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"162850","abilityTreeNodes":["FEATUREhbrS7MI6C","FEATUREhbrQ3MV3B","FEATUREhbrF83GXN","FEATUREhbr56LH1C","FEATUREhbrFWIWBG","FEATUREhbrB1KQ9G","FEATUREhbr3BJQCT"]},"parameters":[{"name":"PolicyId","in":"formData","schema":{"title":"required parameters","description":"策略ID。","type":"string","required":false,"example":"po-000************viy"}},{"name":"PolicyName","in":"formData","schema":{"description":"策略名称。","type":"string","required":false,"example":"每天备份 + 异地备份"}},{"name":"PolicyDescription","in":"formData","schema":{"description":"策略描述。","type":"string","required":false,"example":"每天早上10点备份一次，异地备份到上海。"}},{"name":"Rules","in":"formData","style":"json","schema":{"description":"策略规则列表。","type":"array","items":{"description":"策略规则。","type":"object","properties":{"RuleId":{"description":"规则ID。","type":"string","required":false,"example":"rule-000************rof"},"RuleType":{"title":"TRANSITION: 过渡类规则, BACKUP: 定时类规则, REPLICATION: 镜像类规则","description":"规则类型，每一个策略需要至少有一个**BACKUP**类型规则，有且仅有一个**TRANSITION**类型规则：\n- **BACKUP**：备份规则。\n- **TRANSITION**：生命周期规则。\n- **REPLICATION**：复制规则。","type":"string","required":false,"example":"BACKUP","enum":[]},"Schedule":{"description":"仅当**RuleType**取值为**BACKUP**时，需要配置该参数。备份定时设置。可选格式：`I|{startTime}|{interval}`。表示从{startTime}开始每隔{interval}的时间执行一次备份任务。不会补偿已过去时间的备份任务。如果上一次备份任务没有完成，不会触发下一次备份任务。例如`I|1631685600|P1D`表示从2021-09-15 14:00:00开始每隔一天备份一次。\n\n* startTime：备份起始时间，UNIX时间，单位为秒。\n* interval： ISO8601时间间隔。例如：PT1H表示间隔一小时。P1D表示间隔一天。","type":"string","required":false,"example":"I|1648647166|P1D"},"BackupType":{"title":"Backup Rule (COMPLETE: Complete backup type, INCREMENTAL: Incremental backup type, DIFFERENTIAL: Differential backup type, LOG: Transaction log backup type, INDEX: 不备份数据，只对元数据建立索引, ARCHIVE: 归档, ARCHIVE_BY_SEARCH: 根据搜索结果进行归档)","description":"仅当**RuleType**取值为**BACKUP**时，需要配置该参数。备份类型。取值为**COMPLETE**，表示全量备份。","type":"string","required":false,"example":"COMPLETE"},"Retention":{"title":"Expiration","description":"仅当**RuleType**取值为**TRANSITION**或**REPLICATION**时，需要配置该参数。\n- **RuleType**取值为**TRANSITION**：备份保留时间，最小值为1，单位为天。\n- **RuleType**取值为**REPLICATION**：异地备份保留时间，最小值为1，单位为天。","type":"integer","format":"int64","required":false,"example":"7","default":"0"},"ReplicationRegionId":{"title":"Replication","description":"仅当**RuleType**取值为**REPLICATION**时，需要配置该参数。复制的目标地域ID。","type":"string","required":false,"example":"cn-shanghai"},"ArchiveDays":{"description":"仅当**RuleType**取值为**TRANSITION**时，需要配置该参数。备份转为归档的时间，单位为天。","type":"integer","format":"int64","required":false,"example":"90","default":"0"},"ColdArchiveDays":{"description":"仅当**RuleType**取值为**TRANSITION**时，需要配置该参数。备份转为冷归档的时间，单位为天。","type":"integer","format":"int64","required":false,"example":"365","default":"0"},"RetentionRules":{"description":"仅当**RuleType**取值为**TRANSITION**时，需要配置该参数。特殊保留规则。","type":"array","items":{"description":"特殊保留规则。","type":"object","properties":{"AdvancedRetentionType":{"description":"特殊保留规则类型：\n- **WEEKLY**：每周的备份\n- **MONTHLY**：每月的备份\n- **YEARLY**：每年的备份","type":"string","required":false,"example":"YEARLY"},"WhichSnapshot":{"description":"针对第几个备份生效，当前仅支持第1个备份，值为1。","type":"integer","format":"int64","required":false,"example":"1"},"Retention":{"description":"备份的特殊保留时间，最小值为1，单位为天。","type":"integer","format":"int64","required":false,"example":"365"}},"required":false},"required":false,"maxItems":99},"KeepLatestSnapshots":{"description":"是否开启保留至少一个备份版本。\n- 0 - 不保留\n- 1 - 保留","type":"integer","format":"int64","required":false,"example":"1"}},"required":false},"required":false,"maxItems":10,"minItems":1}}],"responses":{"200":{"schema":{"title":"UpdatePolicyResponse","description":"UpdatePolicyResponse","type":"object","properties":{"Success":{"description":"请求是否成功。\n\n- true：成功。\n- false：失败。","type":"boolean","example":"true"},"Code":{"description":"返回码，200表示成功。","type":"string","example":"200"},"Message":{"description":"返回信息描述，成功一般返回successful，错误时会返回相应错误信息。","type":"string","example":"successful"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\"\\n}\",\"type\":\"json\"}]","title":"修改策略","description":"策略的修改，将对所有绑定的数据源生效，请谨慎操作。"}