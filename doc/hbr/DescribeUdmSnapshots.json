{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"SourceType","in":"query","schema":{"description":"数据源类型，取值范围：\n\n- **UDM_ECS**：整机备份\n- **UDM\\_ECS_DISK**：整机备份云盘子任务\n- **UDM_DISK**：云盘备份","type":"string","required":true,"docRequired":true,"example":"UDM_ECS"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间。UNIX格式时间戳，单位为秒。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1642057551"}},{"name":"EndTime","in":"query","schema":{"description":"查询截止时间。UNIX格式时间戳，单位为秒。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1643092168"}},{"name":"UdmRegionId","in":"query","schema":{"description":"整机所在地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"InstanceId","in":"query","schema":{"description":"ECS实例ID。","type":"string","required":false,"docRequired":true,"example":"i-bp18x2k7sw925ir7ofh8"}},{"name":"DiskId","in":"query","schema":{"description":"云盘ID。","type":"string","required":false,"example":"d-bp1560750pclffpzxy70"}},{"name":"JobId","in":"query","schema":{"description":"备份任务ID。","type":"string","required":false,"example":"job-*********************"}},{"name":"SnapshotIds","in":"formData","style":"json","schema":{"description":"快照列表。","type":"object","required":false,"example":"[\\\"s-000e3vhhu62xsm6v92r0\\\"]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回码，200表示成功。","type":"string","example":"200"},"Message":{"description":"返回信息描述，成功一般返回successful，错误时会返回相应错误信息。","type":"string","example":"successful"},"RequestId":{"description":"请求ID。","type":"string","example":"51CDEECB-7001-51CC-94AC-2A0F2A4B71D2"},"TotalCount":{"description":"快照总个数。","type":"integer","format":"int64","example":"3"},"Success":{"description":"请求是否成功。\n\n- true：成功\n- false：失败","type":"boolean","example":"true"},"Snapshots":{"description":"快照详情集合。","type":"array","items":{"description":"快照详情集合。","type":"object","properties":{"Status":{"description":"备份快照任务的状态。取值范围：\n\n- **COMPLETE**：成功\n- **PARTIAL_COMPLETE**：部分成功\n- **FAILED**：失败","type":"string","example":"COMPLETE"},"SnapshotHash":{"description":"快照HASH值。","type":"string","example":"f2fe..."},"BackupType":{"description":"备份类型。取值为**COMPLETE**，表示全量备份。","type":"string","example":"COMPLETE"},"CreateTime":{"description":"创建备份快照的时间.","type":"integer","format":"int64","example":"1607436917"},"ActualBytes":{"description":"快照的实际容量。单位：byte。","type":"string","example":"600"},"SourceType":{"description":"数据源类型，取值范围：\n\n- **UDM_ECS**：整机备份\n- **UDM\\_ECS_DISK**：整机备份云盘子任务\n- **UDM_DISK**：云盘备份","type":"string","example":"UDM_ECS"},"Prefix":{"description":"快照的前缀。","type":"string","example":"example/"},"DiskId":{"description":"云盘或本地盘ID。","type":"string","example":"d-2ze86h5fga5rfwxxa8ef"},"BytesTotal":{"description":"数据源总量。单位为字节。","type":"integer","format":"int64","example":"1000"},"NativeSnapshotInfo":{"description":"快照信息。","type":"string","example":"{\n\t\t\t\t\t\"sourceDiskId\":\"d-bp17misjuy636t82v7b0\",\n\t\t\t\t\t\"lastModifiedTime\":\"2022-03-09T11:35:12Z\",\n\t\t\t\t\t\"snapshotSN\":\"64588-429372675-857161235\",\n\t\t\t\t\t\"snapshotId\":\"s-bp1fbtwv3e6xr6wpe9e0\",\n\t\t\t\t\t\"creationTime\":\"2022-03-09T11:31:12Z\",\n\t\t\t\t\t\"snapshotType\":\"user\",\n\t\t\t\t\t\"usage\":\"none\",\n\t\t\t\t\t\"description\":\"\",\n\t\t\t\t\t\"sourceStorageType\":\"disk\",\n\t\t\t\t\t\"tags\":[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"tagValue\":\"job-0007e0wqjl0imbrtkmnm\",\n\t\t\t\t\t\t\t\"tagKey\":\"HBR JobId\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"productCode\":\"\",\n\t\t\t\t\t\"encrypted\":false,\n\t\t\t\t\t\"sourceDiskType\":\"system\",\n\t\t\t\t\t\"retentionDays\":30,\n\t\t\t\t\t\"snapshotName\":\"Created-from-HBR-job:job-0007e0wqjl0imbrtkmnm\",\n\t\t\t\t\t\"kMSKeyId\":\"\",\n\t\t\t\t\t\"progress\":\"100%\",\n\t\t\t\t\t\"category\":\"standard\",\n\t\t\t\t\t\"sourceDiskSize\":\"20\",\n\t\t\t\t\t\"status\":\"accomplished\"\n\t\t\t\t}"},"CompleteTime":{"description":"备份快照完成时间。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1646895666"},"Retention":{"description":"快照保留时间，单位为天。","type":"integer","format":"int64","example":"7"},"CreatedTime":{"description":"备份快照的创建时间。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1642496679"},"RealSnapshotTime":{"description":"快照时间戳。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1642496679"},"ParentSnapshotHash":{"description":"父级快照Hash值。","type":"string","example":"f2fe.."},"InstanceId":{"description":"ECS实例ID。","type":"string","example":"i-bp1f0pe78dxizrsdcgxd"},"StartTime":{"description":"快照开始时间。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1554347313"},"UpdatedTime":{"description":"备份快照的更新时间。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1642496679"},"SnapshotId":{"description":"备份快照ID。","type":"string","example":"s-00047mxg17p26*****b"},"JobId":{"description":"备份任务ID。","type":"string","example":"job-00030j3chkt******2"},"NativeSnapshotId":{"description":"快照ID。","type":"string","example":"s-00047mg17p26x*****b"},"Detail":{"description":"快照详情。","type":"object","properties":{"DiskDevName":{"description":"磁盘名称。","type":"string","example":"/dev/xvdb"},"DowngradeReason":{"description":"降级原因。","type":"string","example":"HBR.NoRamRoleBound"},"OsDiskId":{"description":"系统盘ID。","type":"string","example":"d-bp1e6427vhd320hifvc"},"OsName":{"description":"操作系统名称。","type":"string","example":"Debian 10.10 64-bit (UEFI)"},"ContainOsDisk":{"description":"是否包含系统盘。","type":"boolean","example":"true"},"ConsistentLevel":{"description":"一致性等级。","type":"string","example":"CRASH"},"VmName":{"description":"实例名称。","type":"string","example":"BNSHSVR42 IPGUARD"},"DiskHbrSnapshotIdWithDeviceMap":{"description":"设备与恢复点ID映射关系。","type":"object","example":"{\n    \"/dev/xvdb\":\"s-0000u7y6wm3v1e7hxh5a\",\t\t\t\t\t \n    \"/dev/xvda\":\"s-0004bl6yr5pt89jjsv5a\"\n}"},"InstanceIdWithDiskIdListMap":{"description":"实例ID与云盘ID映射关系。","type":"object","example":"{\n    \"i-bp1dlp0keohh7ids4uo6\":\"d-bp1e6427vhd320hifvs\",\t\t\t\t\t \n    \"i-bp1dlp0keohh7ids4uo6\":\"d-bp1e6427vhd320hifvd\"\n}"},"InstanceName":{"description":"实例名称。","type":"string","example":"swh-hbr"},"OsType":{"description":"操作系统类型，linux或windows。","type":"string","example":"windows"},"Platform":{"description":"系统平台。","type":"string","example":"CentOS"},"OsNameEn":{"description":"操作系统英文名称。","type":"string","example":"Debian  11.1 64 bit"},"HostName":{"description":"主机名。","type":"string","example":"iZbpxxxxxxxxxxxxxxxxe2Z"},"SystemDisk":{"description":"是否为系统盘。","type":"boolean","example":"true"},"DiskIdList":{"description":"恢复点备份的云盘ID列表。","type":"array","items":{"description":"恢复点备份的云盘ID。","type":"string","example":"d-bp1e6427vhd320hifvs"}},"NativeSnapshotIdList":{"description":"快照ID列表，与DiskIdList一一对应。","type":"array","items":{"description":"快照ID。","type":"string","example":"s-0004bl6yr5pt89jjsv5a"}},"SnapshotGroupId":{"description":"快照分组ID。","type":"string","example":"ssg-uf6856txcaq31uj***"},"InstanceType":{"description":"源实例规格。","type":"string","example":"ecs.c6.xlarge"},"DiskCategory":{"description":"源磁盘类型。","type":"string","example":"cloud_essd"},"PerformanceLevel":{"description":"源磁盘性能等级。","type":"string","example":"PL0"},"InstantAccess":{"description":"是否为即刻克隆功能创建的备份。","type":"boolean","example":"false"}}},"AdvancedRetentionType":{"description":"特殊保留类型，仅对特殊保留备份有效：\n- **WEEKLY**：周特殊保留备份\n- **MONTHLY**：月特殊保留备份\n- **YEARLY**：年特殊保留备份","type":"string","example":"WEEKLY"},"ExpireTime":{"description":"备份过期时间。","type":"integer","format":"int64","example":"1640334062"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"RequestId\\\": \\\"51CDEECB-7001-51CC-94AC-2A0F2A4B71D2\\\",\\n  \\\"TotalCount\\\": 3,\\n  \\\"Success\\\": true,\\n  \\\"Snapshots\\\": [\\n    {\\n      \\\"Status\\\": \\\"COMPLETE\\\",\\n      \\\"SnapshotHash\\\": \\\"f2fe...\\\",\\n      \\\"BackupType\\\": \\\"COMPLETE\\\",\\n      \\\"CreateTime\\\": 1607436917,\\n      \\\"ActualBytes\\\": \\\"600\\\",\\n      \\\"SourceType\\\": \\\"UDM_ECS\\\",\\n      \\\"Prefix\\\": \\\"example/\\\",\\n      \\\"DiskId\\\": \\\"d-2ze86h5fga5rfwxxa8ef\\\",\\n      \\\"BytesTotal\\\": 1000,\\n      \\\"NativeSnapshotInfo\\\": \\\"{\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"sourceDiskId\\\\\\\":\\\\\\\"d-bp17misjuy636t82v7b0\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"lastModifiedTime\\\\\\\":\\\\\\\"2022-03-09T11:35:12Z\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"snapshotSN\\\\\\\":\\\\\\\"64588-429372675-857161235\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"snapshotId\\\\\\\":\\\\\\\"s-bp1fbtwv3e6xr6wpe9e0\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"creationTime\\\\\\\":\\\\\\\"2022-03-09T11:31:12Z\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"snapshotType\\\\\\\":\\\\\\\"user\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"usage\\\\\\\":\\\\\\\"none\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"description\\\\\\\":\\\\\\\"\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"sourceStorageType\\\\\\\":\\\\\\\"disk\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"tags\\\\\\\":[\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"tagValue\\\\\\\":\\\\\\\"job-0007e0wqjl0imbrtkmnm\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"tagKey\\\\\\\":\\\\\\\"HBR JobId\\\\\\\"\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t}\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t],\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"productCode\\\\\\\":\\\\\\\"\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"encrypted\\\\\\\":false,\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"sourceDiskType\\\\\\\":\\\\\\\"system\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"retentionDays\\\\\\\":30,\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"snapshotName\\\\\\\":\\\\\\\"Created-from-HBR-job:job-0007e0wqjl0imbrtkmnm\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"kMSKeyId\\\\\\\":\\\\\\\"\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"progress\\\\\\\":\\\\\\\"100%\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"category\\\\\\\":\\\\\\\"standard\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"sourceDiskSize\\\\\\\":\\\\\\\"20\\\\\\\",\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\\\\"status\\\\\\\":\\\\\\\"accomplished\\\\\\\"\\\\n\\\\t\\\\t\\\\t\\\\t}\\\",\\n      \\\"CompleteTime\\\": 1646895666,\\n      \\\"Retention\\\": 7,\\n      \\\"CreatedTime\\\": 1642496679,\\n      \\\"RealSnapshotTime\\\": 1642496679,\\n      \\\"ParentSnapshotHash\\\": \\\"f2fe..\\\",\\n      \\\"InstanceId\\\": \\\"i-bp1f0pe78dxizrsdcgxd\\\",\\n      \\\"StartTime\\\": 1554347313,\\n      \\\"UpdatedTime\\\": 1642496679,\\n      \\\"SnapshotId\\\": \\\"s-00047mxg17p26*****b\\\",\\n      \\\"JobId\\\": \\\"job-00030j3chkt******2\\\",\\n      \\\"NativeSnapshotId\\\": \\\"s-00047mg17p26x*****b\\\",\\n      \\\"Detail\\\": {\\n        \\\"DiskDevName\\\": \\\"/dev/xvdb\\\",\\n        \\\"DowngradeReason\\\": \\\"HBR.NoRamRoleBound\\\",\\n        \\\"OsDiskId\\\": \\\"d-bp1e6427vhd320hifvc\\\",\\n        \\\"OsName\\\": \\\"Debian 10.10 64-bit (UEFI)\\\",\\n        \\\"ContainOsDisk\\\": true,\\n        \\\"ConsistentLevel\\\": \\\"CRASH\\\",\\n        \\\"VmName\\\": \\\"BNSHSVR42 IPGUARD\\\",\\n        \\\"DiskHbrSnapshotIdWithDeviceMap\\\": {\\n          \\\"/dev/xvdb\\\": \\\"s-0000u7y6wm3v1e7hxh5a\\\",\\n          \\\"/dev/xvda\\\": \\\"s-0004bl6yr5pt89jjsv5a\\\"\\n        },\\n        \\\"InstanceIdWithDiskIdListMap\\\": {\\n          \\\"i-bp1dlp0keohh7ids4uo6\\\": \\\"d-bp1e6427vhd320hifvd\\\"\\n        },\\n        \\\"InstanceName\\\": \\\"swh-hbr\\\",\\n        \\\"OsType\\\": \\\"windows\\\",\\n        \\\"Platform\\\": \\\"CentOS\\\",\\n        \\\"OsNameEn\\\": \\\"Debian  11.1 64 bit\\\",\\n        \\\"HostName\\\": \\\"iZbpxxxxxxxxxxxxxxxxe2Z\\\",\\n        \\\"SystemDisk\\\": true,\\n        \\\"DiskIdList\\\": [\\n          \\\"d-bp1e6427vhd320hifvs\\\"\\n        ],\\n        \\\"NativeSnapshotIdList\\\": [\\n          \\\"s-0004bl6yr5pt89jjsv5a\\\"\\n        ],\\n        \\\"SnapshotGroupId\\\": \\\"ssg-uf6856txcaq31uj***\\\",\\n        \\\"InstanceType\\\": \\\"ecs.c6.xlarge\\\",\\n        \\\"DiskCategory\\\": \\\"cloud_essd\\\",\\n        \\\"PerformanceLevel\\\": \\\"PL0\\\",\\n        \\\"InstantAccess\\\": false\\n      },\\n      \\\"AdvancedRetentionType\\\": \\\"WEEKLY\\\",\\n      \\\"ExpireTime\\\": 1640334062\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeUdmSnapshotsResponse>\\n    <Code>200</Code>\\n    <Message>successful</Message>\\n    <RequestId>51CDEECB-7001-51CC-94AC-2A0F2A4B71D2</RequestId>\\n    <TotalCount>3</TotalCount>\\n    <Success>true</Success>\\n    <Snapshots>\\n        <Status>COMPLETE</Status>\\n        <SnapshotHash>f2fe...</SnapshotHash>\\n        <BackupType>COMPLETE</BackupType>\\n        <CreateTime>1607436917</CreateTime>\\n        <ActualBytes>600</ActualBytes>\\n        <SourceType>UDM_ECS</SourceType>\\n        <Prefix>example/</Prefix>\\n        <DiskId>d-2ze86h5fga5rfwxxa8ef</DiskId>\\n        <BytesTotal>1000</BytesTotal>\\n        <NativeSnapshotInfo>{\\n\\t\\t\\t\\t\\t\\\"sourceDiskId\\\":\\\"d-bp17misjuy636t82v7b0\\\",\\n\\t\\t\\t\\t\\t\\\"lastModifiedTime\\\":\\\"2022-03-09T11:35:12Z\\\",\\n\\t\\t\\t\\t\\t\\\"snapshotSN\\\":\\\"64588-429372675-857161235\\\",\\n\\t\\t\\t\\t\\t\\\"snapshotId\\\":\\\"s-bp1fbtwv3e6xr6wpe9e0\\\",\\n\\t\\t\\t\\t\\t\\\"creationTime\\\":\\\"2022-03-09T11:31:12Z\\\",\\n\\t\\t\\t\\t\\t\\\"snapshotType\\\":\\\"user\\\",\\n\\t\\t\\t\\t\\t\\\"usage\\\":\\\"none\\\",\\n\\t\\t\\t\\t\\t\\\"description\\\":\\\"\\\",\\n\\t\\t\\t\\t\\t\\\"sourceStorageType\\\":\\\"disk\\\",\\n\\t\\t\\t\\t\\t\\\"tags\\\":[\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\\"tagValue\\\":\\\"job-0007e0wqjl0imbrtkmnm\\\",\\n\\t\\t\\t\\t\\t\\t\\t\\\"tagKey\\\":\\\"HBR JobId\\\"\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t\\t\\\"productCode\\\":\\\"\\\",\\n\\t\\t\\t\\t\\t\\\"encrypted\\\":false,\\n\\t\\t\\t\\t\\t\\\"sourceDiskType\\\":\\\"system\\\",\\n\\t\\t\\t\\t\\t\\\"retentionDays\\\":30,\\n\\t\\t\\t\\t\\t\\\"snapshotName\\\":\\\"Created-from-HBR-job:job-0007e0wqjl0imbrtkmnm\\\",\\n\\t\\t\\t\\t\\t\\\"kMSKeyId\\\":\\\"\\\",\\n\\t\\t\\t\\t\\t\\\"progress\\\":\\\"100%\\\",\\n\\t\\t\\t\\t\\t\\\"category\\\":\\\"standard\\\",\\n\\t\\t\\t\\t\\t\\\"sourceDiskSize\\\":\\\"20\\\",\\n\\t\\t\\t\\t\\t\\\"status\\\":\\\"accomplished\\\"\\n\\t\\t\\t\\t}</NativeSnapshotInfo>\\n        <CompleteTime>1646895666</CompleteTime>\\n        <Retention>7</Retention>\\n        <CreatedTime>1642496679</CreatedTime>\\n        <RealSnapshotTime>1642496679</RealSnapshotTime>\\n        <ParentSnapshotHash>f2fe..</ParentSnapshotHash>\\n        <InstanceId>i-bp1f0pe78dxizrsdcgxd</InstanceId>\\n        <StartTime>1554347313</StartTime>\\n        <UpdatedTime>1642496679</UpdatedTime>\\n        <SnapshotId>s-00047mxg17p26*****b</SnapshotId>\\n        <JobId>job-00030j3chkt******2</JobId>\\n        <NativeSnapshotId>s-00047mg17p26x*****b</NativeSnapshotId>\\n        <Detail>\\n            <DiskDevName>/dev/xvdb</DiskDevName>\\n            <DowngradeReason>HBR.NoRamRoleBound</DowngradeReason>\\n            <OsDiskId>d-bp1e6427vhd320hifvc</OsDiskId>\\n            <OsName>Debian 10.10 64-bit (UEFI)</OsName>\\n            <ContainOsDisk>true</ContainOsDisk>\\n            <ConsistentLevel>CRASH</ConsistentLevel>\\n            <VmName>BNSHSVR42 IPGUARD</VmName>\\n            <InstanceName>swh-hbr</InstanceName>\\n            <OsType>windows</OsType>\\n            <Platform>CentOS</Platform>\\n            <OsNameEn>Debian  11.1 64 bit</OsNameEn>\\n            <SystemDisk>true</SystemDisk>\\n            <DiskIdList>d-bp1e6427vhd320hifvs</DiskIdList>\\n            <NativeSnapshotIdList>s-0004bl6yr5pt89jjsv5a</NativeSnapshotIdList>\\n            <SnapshotGroupId>ssg-uf6856txcaq31uj***</SnapshotGroupId>\\n        </Detail>\\n    </Snapshots>\\n</DescribeUdmSnapshotsResponse>\",\"errorExample\":\"\"}]","title":"查询整机备份快照","summary":"查询整机备份快照。"}