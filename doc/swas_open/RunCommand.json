{"summary":"在轻量应用服务器上执行命令。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"CommandContent","in":"query","schema":{"description":"命令内容。您需要注意：\n\n- 指定参数`EnableParameter=true`可在命令内容中启用自定义参数功能：\n- 用{{}}包含的方式定义自定义参数，在`{{}}`内参数名前后的空格以及换行符会被忽略。\n- 自定义参数个数不能超过20个。\n- 自定义参数名允许a-zA-Z0-9-_的组合，不支持其余字符，参数名不区分大小写。\n- 单个自定义参数名不能超过64字节。","type":"string","required":true,"example":"ifconfig -s"}},{"name":"WorkingDir","in":"query","schema":{"description":"您可自定义命令的执行路径。默认路径如下：\n\n- Linux实例：执行路径默认在管理员root用户的/root目录下。\n- Windows实例：执行路径默认在C:\\Windows\\system32目录下。","type":"string","required":false,"example":"/root"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以调用[ListRegions](~~189315~~)查看最新的阿里云地域列表。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"Timeout","in":"query","schema":{"description":"设置命令在服务器实例中的超时时间，单位为秒。\n\n当执行命令的任务超时后，命令助手将强制终止任务进程。可设定超时时间取值范围为10～86400秒（24小时）。\n\n默认值：60。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"Type","in":"query","schema":{"description":"命令的语言类型。取值范围：\n\n- RunBatScript：适用于Windows实例的Bat命令。\n- RunPowerShellScript：适用于Windows实例的PowerShell命令。\n- RunShellScript：适用于Linux实例Shell命令。","type":"string","required":true,"example":"RunShellScript"}},{"name":"EnableParameter","in":"query","schema":{"description":"命令中是否包含自定义参数。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}},{"name":"Parameters","in":"query","style":"json","schema":{"description":"命令中包含自定义参数时，执行命令时传入的自定义参数的键值对。例如，命令内容为`echo {{name}}`，则可以通过`Parameters`参数传入键值对`{\"name\":\"Jack\"}`。自定义参数将自动替换变量值`name`，得到一条新的命令，实际执行的是`echo Jack`。\n\n自定义参数的个数范围为0~20，且您需要注意：\n\n- 键不允许为空字符串，最多支持64个字符。\n- 值允许为空字符串。\n- 自定义参数与原始命令内容在Base64编码后，综合长度不能超过16 KB。\n- 设置的自定义参数名集合必须为创建命令时定义的参数集的子集。对于未传入的参数，您可以使用空字符串代替。\n\n默认值为空，表示取消设置该参数从而禁用自定义参数。","type":"object","required":false,"example":"{\"name\":\"Jack\", \"accessKey\":\"LTAIdyvdIqaRY****\"}"}},{"name":"WorkingUser","in":"query","schema":{"description":"您可以指定以某个轻量应用服务器实例中存在的用户执行命令，建议使用普通用户执行命令可降低安全风险。\n默认值：\n\n- root：Linux实例中默认以root用户执行命令。\n\n- system：Windows实例中默认以system用户执行命令。","type":"string","required":false,"example":"root"}},{"name":"WindowsPasswordName","in":"query","schema":{"description":"Windows实例中执行命令的用户的密码名称。\n\n当您希望以非默认用户（System）在Windows实例中执行命令时，需要同时传入WorkingUser和该参数。为降低密码泄露的风险，需要将密码明文托管在运维编排服务的参数仓库中，此处仅传入密码的名称。","type":"string","required":false,"example":"axtSecretPassword"}},{"name":"InstanceId","in":"query","schema":{"description":"轻量应用云服务器实例ID。","type":"string","required":true,"example":"ace0706b2ac4454d984295a94213****"}},{"name":"Name","in":"query","schema":{"description":"执行命令名称。","type":"string","required":true,"example":"testName"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****"},"InvokeId":{"description":"命令执行ID。","type":"string","example":"t-hz02p9545t6****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3****\\\",\\n  \\\"InvokeId\\\": \\\"t-hz02p9545t6****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RunCommandResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>\\n    <InvokeId>t-hz02p9545t6****</InvokeId>\\n</RunCommandResponse>\",\"errorExample\":\"\"}]","title":"执行命令","description":"命令助手是专为轻量应用服务器打造的自动化运维工具。您无需登录，即可在控制台上通过命令（Shell、Powershell和Bat）对轻量应用服务器实例进行运维管理操作。\n\n使用命令助手时，需满足以下条件：\n\n- 轻量应用服务器实例的状态必须为运行中。\n- 已安装云助手客户端。轻量应用服务器实例默认已安装云助手客户端，如果您手动卸载，需重新安装。具体操作，请参见[安装云助手客户端](~~64921~~)。"}