{"summary":"设置一个EIAM应用的账户同步功能配置。","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"实例Id","description":"实例ID。","type":"string","required":true,"example":"idaas_ue2jvisn35ea5lmthk267xxxxx","maxLength":64}},{"name":"ApplicationId","in":"query","schema":{"title":"应用ID。","description":"应用ID。","type":"string","required":true,"example":"app_mkv7rgt4d7i4u7zqtzev2mxxxx","maxLength":64}},{"name":"ProvisionProtocolType","in":"query","schema":{"title":"同步协议类型","description":"账户同步协议类型，取值可选范围：\n- idaas\\_callback：IDaaS自定义事件回调账号同步方式。\n- scim2：SCIM协议同步方式。","type":"string","required":true,"example":"idaas_callback","maxLength":64}},{"name":"CallbackProvisioningConfig","in":"query","style":"flat","schema":{"title":"IDaaS 事件回调同步配置","description":"应用事件回调同步配置，当ProvisionProtocolType为idaas\\_callback时，必须填写。","type":"object","properties":{"CallbackUrl":{"title":"IDaaS回调SP地址","description":"应用接收IDaaS事件回调的目标地址。","type":"string","required":false,"example":"https://example.com/event/callback"},"EncryptKey":{"title":"IDaaS回调对称加密秘钥","description":"IDaaS事件回调对称加解密密钥，AES256算法类型密钥，Hex编码格式。","type":"string","required":false,"example":"ad3b248**************************b3561a73d7"},"EncryptRequired":{"title":"IDaaS回调是否加密","description":"IDaaS事件回调消息是否加密，取值可选范围：\n- true：加密。\n- false：不加密，明文传递。","type":"boolean","required":false,"example":"true"},"ListenEventScopes":{"title":"IDaaS回调事件监听范围","description":"IDaaS事件回调监听消息类型列表。","type":"array","items":{"description":"<props=\"china\">IDaaS事件回调监听消息类型，取值可选范围参考文档：[通讯录事件](https://help.aliyun.com/document_detail/410178.htm)。</props>\n<props=\"intl\">IDaaS事件回调监听消息类型，取值可选范围参考文档：[通讯录事件](https://www.alibabacloud.com/help/zh/idaas/eiam/developer-reference/callback-events?spm=a2c63.p38356.0.0.3f1334e3ZckNrD)。</props>","type":"string","required":false,"example":"urn:alibaba:idaas:app:event:ud:user:create\n"},"required":false,"example":""}},"required":false,"example":""}},{"name":"ScimProvisioningConfig","in":"query","style":"flat","schema":{"title":"IDaaS SCIM同步配置","description":"IDaaS SCIM协议同步配置参数。当ProvisionProtocolType为scim2时，必须填写。","type":"object","properties":{"ScimBaseUrl":{"title":"scim同步端点","description":"应用接受IDaaS同步SCIM协议的Base地址。","type":"string","required":false,"example":"https://example.com/scim"},"AuthnConfiguration":{"title":"scim同步相关配置","description":"SCIM协议同步相关配置参数。","type":"object","properties":{"AuthnMode":{"title":"认证类型","description":"SCIM协议接口授权模式。取值可选范围：\n- oauth2：OAuth2模式。","type":"string","required":false,"example":"oauth2"},"GrantType":{"title":"授权模式","description":"SCIM协议授权模式。取值可选范围：\n- client\\_credentials：客户端模式。\n- bearer\\_token：密钥模式。","type":"string","required":false,"example":"bearer_token"},"AuthnParam":{"title":"授权相关配置","description":"授权相关配置参数。使用方式如下：\n- 当GrantType为client\\_credentials时， 可以更新ClientId，ClientSecret，AuthnMethod。\n- 当GrantType为bearer\\_token时，可以更新AccessToken。","type":"object","properties":{"AccessToken":{"title":"accessToken","description":"访问令牌。bearer\\_token密钥模式时可以更新该字段。","type":"string","required":false,"example":"k52x2ru63rlkflina5utgkxxxx"},"TokenEndpoint":{"title":"oauth2 token端点","description":"令牌端点。","type":"string","required":false,"example":"https://www.example.com/oauth/token"},"ClientId":{"title":"oauth2 client id","description":"应用的客户端ID。","type":"string","required":false,"example":"mkv7rgt4d7i4u7zqtzev2mxxxx"},"ClientSecret":{"title":"oauth2 client secret","description":"应用的客户端密钥secret。","type":"string","required":false,"example":"CSEHDcHcrUKHw1CuxkJEHPveWRXBGqVqRsxxxx"},"AuthnMethod":{"title":"oauth2 authentication method","description":"SCIM协议认证模式， 返回值包括如下：\n- client\\_secret\\_basic：通过请求Header传递密钥。\n- client\\_secret\\_post：通过请求body传递密钥。","type":"string","required":false,"example":"client_secret_basic"}},"required":false,"example":""}},"required":false,"example":""},"ProvisioningActions":{"title":"目标资源操作行为","description":"SCIM协议目标资源操作行为。取值可选范围：\n- urn:alibaba:idaas:app:scim:User:CREATE 账户创建\n- urn:alibaba:idaas:app:scim:User:UPDATE 账户更新\n- urn:alibaba:idaas:app:scim:User:DELETE 账户删除","type":"array","items":{"description":"SCIM协议目标资源操作行为。","type":"string","required":false,"example":"urn:alibaba:idaas:app:scim:User:CREATE"},"required":false,"example":""},"FullPushScopes":{"title":"全量推送范围","description":"SCIM协议全量推送范围。取值可选范围：\n- urn:alibaba:idaas:app:scim:User:PUSH 用户全量同步。","type":"array","items":{"description":"SCIM协议全量推送范围。","type":"string","required":false,"example":"urn:alibaba:idaas:app:scim:User:PUSH"},"required":false,"example":""}},"required":false,"example":""}},{"name":"ProvisionPassword","in":"query","schema":{"title":"同步信息是否包含密码","description":"IDaaS用户事件回调是否同步密码，取值可选范围：\n- true：同步密码。\n- false：不同步密码。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"title":"请求Id","description":"请求ID。","type":"string","example":"0441BD79-92F3-53AA-8657-F8CE4A2B912A"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0441BD79-92F3-53AA-8657-F8CE4A2B912A\\\"\\n}\",\"type\":\"json\"}]","title":"设置一个EIAM应用的账户同步功能配置"}