{"summary":"查询一个EIAM应用的单点登录SSO配置属性。","methods":["get","post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"实例ID。","description":"实例ID。","type":"string","required":true,"example":"idaas_ue2jvisn35ea5lmthk267xxxxx","maxLength":64}},{"name":"ApplicationId","in":"query","schema":{"title":"应用ID。","description":"应用ID。","type":"string","required":true,"example":"app_mkv7rgt4d7i4u7zqtzev2mxxxx","maxLength":64}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"0441BD79-92F3-53AA-8657-F8CE4A2B912A"},"ApplicationSsoConfig":{"description":"应用单点登录SSO配置信息。","type":"object","properties":{"SamlSsoConfig":{"title":"SAML SSO配置","description":"SAML协议的应用SSO属性配置参数。当且仅当应用SSO协议为SAML 2.0时返回。","type":"object","properties":{"SpSsoAcsUrl":{"title":"SP的SSO地址","description":"应用（SP）的SAML断言消费地址。","type":"string","example":"https://signin.aliyun.com/saml-role/sso"},"SpEntityId":{"title":"SP的EntityId","description":"应用（SP）的SAML的EntityId。\n\n","type":"string","example":"urn:alibaba:cloudcomputing"},"NameIdFormat":{"title":"SAML标准的NameID格式","description":"SAML协议标准的NameID格式，取值可选范围：\n- urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified：未指定的，由应用自行决定解析NameID。\n- urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress：Email地址格式。\n- urn:oasis:names:tc:SAML:2.0:nameid-format:persistent：持久化的NameID。\n- urn:oasis:names:tc:SAML:2.0:nameid-format:transient：瞬时的NameID。","type":"string","example":"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified"},"NameIdValueExpression":{"title":"NameId取值表单式","description":"SAML协议的NameID真实取值生成表达式。","type":"string","example":"user.username"},"DefaultRelayState":{"title":"默认RelayState取值","description":"默认RelayState取值。当用户的单点登录SSO请求是由EIAM发起时，EIAM提供的SAML Response会指定RelayState为当前值。","type":"string","example":"https://home.console.aliyun.com"},"SignatureAlgorithm":{"title":"SAML断言签名算法","description":"SAML断言签名算法。","type":"string","example":"RSA-SHA256"},"ResponseSigned":{"title":"response是否签名","description":"Response是否需要签名。ResponseSigned和AssertionSigned不能同时为false。\n- true：需要签名。\n- false：不需要签名。","type":"boolean","example":"true"},"AssertionSigned":{"title":"assertion是否签名","description":"Assertion是否需要签名。ResponseSigned和AssertionSigned不能同时为false。\n- true：需要签名。\n- false：不需要签名。","type":"boolean","example":"true"},"AttributeStatements":{"title":"SAML断言的属性配置","description":"在SAML断言中包含的额外用户属性配置。","type":"array","items":{"type":"object","properties":{"AttributeName":{"title":"SAML属性的Name","description":"SAML断言中属性的Name。","type":"string","example":"https://www.aliyun.com/SAML-Role/Attributes/RoleSessionName"},"AttributeValueExpression":{"title":"SAML属性取值表达式","description":"SAML断言中的属性取值表达式。\n\n","type":"string","example":"user.username"}}}}}},"OidcSsoConfig":{"title":"OIDC SSO配置","description":"OIDC协议的应用SSO属性配置参数。当且仅当应用SSO协议为OIDC类型时返回。","type":"object","properties":{"RedirectUris":{"title":"支持SSO回调的uri列表","description":"应用支持的RedirectUri列表。","type":"array","items":{"description":"应用支持的RedirectUri。","type":"string","example":"https://example.com/oidc/login/callback\n"}},"PostLogoutRedirectUris":{"title":"Logout回调Uri列表","description":"应用支持Logout登出回调地址列表。","type":"array","items":{"description":"应用的Logout登出回调白名单地址，应用发起Logout请求时可以指定post\\_logout\\_redirect\\_uri参数。","type":"string","example":"https://example.com/oidc/login/logout\n"}},"GrantTypes":{"title":"支持的授权类型","description":"支持的OIDC协议授权模式列表。","type":"array","items":{"description":"支持的OIDC协议授权模式，取值可选范围：\n- authorization\\_code：授权码模式。\n- implicit：隐式模式。\n- refresh\\_token：令牌刷新模式。\n- urn:ietf:params:oauth:grant-type:device\\_code：设备模式。\n- password：密码模式。","type":"string","example":"refresh_token"},"example":"authorization_code"},"ResponseTypes":{"title":"隐式流支持的返回类型","description":"\t\n当OidcSsoConfig.GrantTypes包含指定implicit隐式模式后，应用支持的返回类型。","type":"array","items":{"description":"OIDC协议标准参数ResponseType，只有指定了GrantTypes包含implicit隐式模式才生效，取值可选范围：\n- token：只返回access token。\n- id\\_token：只返回id token。\n- token id\\_token：同时返回access token和id token。","type":"string","example":"token id_token"},"example":"token id_token"},"GrantScopes":{"title":"支持的api授权范围","description":"OIDC协议标准参数 scope，用于指定userinfo端点或者id_token可以返回的用户属性范围。","type":"array","items":{"description":"OIDC协议标准参数 scope，用于指定userinfo端点或者id_token可以返回的用户属性范围，取值可选范围：\n- openid：OIDC标准参数，用户唯一id。\n- profile：用户详细信息。\n- email：用户邮箱信息。\n- phone：用户手机信息。","type":"string","example":"openid"},"example":"profile，email"},"PasswordTotpMfaRequired":{"title":"密码模式是否强制需要TOTP二次认证","description":"密码模式是否强制需要TOTP二次认证，当且仅当OIDC协议应用指定的GrantTypes包含password模式才生效。","type":"boolean","example":"true"},"PasswordAuthenticationSourceId":{"title":"密码模式使用的身份认证来源id","description":"密码模式使用的身份认证源ID，当且仅当OIDC协议应用指定的GrantTypes包含password模式才生效。","type":"string","example":"ia_password"},"PkceRequired":{"title":"是否强制PKCE","description":"应用SSO是否强制要求PKCE（RFC 7636）。","type":"boolean","example":"true"},"PkceChallengeMethods":{"title":"PKCE算法","description":"PKCE中计算Code Challenge的算法。\n\n","type":"array","items":{"description":"PKCE中计算Code Challenge的算法，取值可选范围：\n- plain：原文。\n- S256：SHA 256算法。","type":"string","example":"S256"},"example":"S256"},"AccessTokenEffectiveTime":{"title":"access token有效时间","description":"签发的access token有效时间，单位为秒，默认1200秒（20分钟）。","type":"integer","format":"int64","example":"1200"},"CodeEffectiveTime":{"title":"code有效时间","description":"签发的code有效时间，单位为秒，默认为60秒（1分钟）。","type":"integer","format":"int64","example":"60"},"IdTokenEffectiveTime":{"title":"id token有效时间","description":"签发的id token有效时间，单位为秒，默认为300秒（5分钟）。","type":"integer","format":"int64","example":"1200"},"RefreshTokenEffective":{"title":"refresh token有效时间","description":"签发的refresh token有效时间，单位为秒，默认为86400秒（1天）。","type":"integer","format":"int64","example":"86400"},"CustomClaims":{"title":"自定义id token返回信息","description":"自定义id token返回包含的用户信息。","type":"array","items":{"type":"object","properties":{"ClaimName":{"title":"返回的claim名称","description":"返回的claim名称。","type":"string","example":"userOuIds"},"ClaimValueExpression":{"title":"返回的claim取值表达式","description":"返回的claim取值表达式。","type":"string","example":"ObjectToJsonString(user.organizationalUnits)"}}}},"SubjectIdExpression":{"title":"自定义id token返回信息","description":"自定义id token返回的sub取值表达式。","type":"string","example":"user.userid"}}},"ProtocolEndpointDomain":{"title":"metadata 端点配置信息","description":"应用提供的Metadata 端点配置信息。","type":"object","properties":{"SamlSsoEndpoint":{"title":"SAML 单点登录地址","description":"SAML协议AuthnRequest请求接受地址。当且仅当应用SSO协议为SAML 2.0时返回。","type":"string","example":"https://l1seshcn.aliyunidaas.com/login/app/app_mltuxdwd4lq4eer6tmtlmaxm5e/saml2/sso"},"SamlMetaEndpoint":{"title":"IdP SAML EntityID","description":"SAML协议的Metadata元数据地址。当且仅当应用SSO协议为SAML 2.0时返回。","type":"string","example":"https://l1seshcn.aliyunidaas.com/api/v2/app_mltuxdwd4lq4eer6tmtlmaxm5e/saml2/meta"},"OidcIssuer":{"title":"OIDC issuer地址","description":"OIDC issuer信息。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oidc"},"OidcJwksEndpoint":{"title":"OIDC jwks地址","description":"OIDC jwks地址。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oidc/jwks"},"Oauth2AuthorizationEndpoint":{"title":"OIDC 授权地址","description":"oAuth2 授权端点。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://l1seshcn.aliyunidaas.com/login/app/app_mltta64q65enci54slingvvsgq/oauth2/authorize"},"Oauth2RevokeEndpoint":{"title":"OIDC access token 吊销端点","description":"oAuth2 Token吊销端点。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/revoke"},"Oauth2TokenEndpoint":{"title":"oauth2 access token 换取端点","description":"oAuth2 Token端点。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/token"},"Oauth2DeviceAuthorizationEndpoint":{"title":"oauth2 device 授权端点","description":"oAuth2 Device 授权端点。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/device/code"},"Oauth2UserinfoEndpoint":{"title":"OIDC 获取用户信息端点","description":"OIDC 获取用户信息端点。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/userinfo"},"OidcLogoutEndpoint":{"title":"OIDC RP-initial Logout端点","description":"OIDC RP-initiated Logout Endpoint。当且仅当应用SSO协议为OIDC类型时返回。","type":"string","example":"https://l1seshcn.aliyunidaas.com/login/app/app_mltta64q65enci54slingvvsgq/oauth2/logout"}}},"SsoStatus":{"title":"应用 SSO 启用状态","description":"应用 SSO 功能启用状态，取值可选范围：\n- enabled：应用中。\n- disabled：禁用中。","type":"string","example":"enabled"},"InitLoginType":{"title":"初始化登录方式","description":"初始化单点登录SSO方式，取值可选范围：\n- only\\_app\\_init\\_sso：仅应用发起SSO，OIDC协议应用默认取值。当SAML应用指定为该方式时，InitLoginUrl必须指定。\n- idaas\\_or\\_app\\_init\\_sso：支持IDaaS门户或者应用发起SSO，SAML协议应用默认取值范围。当OIDC协议指定为该方式时，InitLoginUrl必须指定。","type":"string","example":"only_app_init_sso"},"InitLoginUrl":{"title":"仅SP-init情况下，SP指定的登录地址","description":"初始化单点登录SSO触发地址，当OIDC协议应用InitLoginType为idaas\\_or\\_app\\_init\\_sso，必须指定；当SAML协议应用InitLoginType为only\\_app\\_init\\_sso时，必须指定。","type":"string","example":"http://127.0.0.1:8000/start_login?enterprise_code=ABCDEF"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0441BD79-92F3-53AA-8657-F8CE4A2B912A\\\",\\n  \\\"ApplicationSsoConfig\\\": {\\n    \\\"SamlSsoConfig\\\": {\\n      \\\"SpSsoAcsUrl\\\": \\\"https://signin.aliyun.com/saml-role/sso\\\",\\n      \\\"SpEntityId\\\": \\\"urn:alibaba:cloudcomputing\\\",\\n      \\\"NameIdFormat\\\": \\\"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\\\",\\n      \\\"NameIdValueExpression\\\": \\\"user.username\\\",\\n      \\\"DefaultRelayState\\\": \\\"https://home.console.aliyun.com\\\",\\n      \\\"SignatureAlgorithm\\\": \\\"RSA-SHA256\\\",\\n      \\\"ResponseSigned\\\": true,\\n      \\\"AssertionSigned\\\": true,\\n      \\\"AttributeStatements\\\": [\\n        {\\n          \\\"AttributeName\\\": \\\"https://www.aliyun.com/SAML-Role/Attributes/RoleSessionName\\\",\\n          \\\"AttributeValueExpression\\\": \\\"user.username\\\"\\n        }\\n      ]\\n    },\\n    \\\"OidcSsoConfig\\\": {\\n      \\\"RedirectUris\\\": [\\n        \\\"https://example.com/oidc/login/callback\\\\n\\\"\\n      ],\\n      \\\"PostLogoutRedirectUris\\\": [\\n        \\\"https://example.com/oidc/login/logout\\\\n\\\"\\n      ],\\n      \\\"GrantTypes\\\": [\\n        \\\"refresh_token\\\"\\n      ],\\n      \\\"ResponseTypes\\\": [\\n        \\\"token id_token\\\"\\n      ],\\n      \\\"GrantScopes\\\": [\\n        \\\"openid\\\"\\n      ],\\n      \\\"PasswordTotpMfaRequired\\\": true,\\n      \\\"PasswordAuthenticationSourceId\\\": \\\"ia_password\\\",\\n      \\\"PkceRequired\\\": true,\\n      \\\"PkceChallengeMethods\\\": [\\n        \\\"S256\\\"\\n      ],\\n      \\\"AccessTokenEffectiveTime\\\": 1200,\\n      \\\"CodeEffectiveTime\\\": 60,\\n      \\\"IdTokenEffectiveTime\\\": 1200,\\n      \\\"RefreshTokenEffective\\\": 86400,\\n      \\\"CustomClaims\\\": [\\n        {\\n          \\\"ClaimName\\\": \\\"userOuIds\\\",\\n          \\\"ClaimValueExpression\\\": \\\"ObjectToJsonString(user.organizationalUnits)\\\"\\n        }\\n      ],\\n      \\\"SubjectIdExpression\\\": \\\"user.userid\\\"\\n    },\\n    \\\"ProtocolEndpointDomain\\\": {\\n      \\\"SamlSsoEndpoint\\\": \\\"https://l1seshcn.aliyunidaas.com/login/app/app_mltuxdwd4lq4eer6tmtlmaxm5e/saml2/sso\\\",\\n      \\\"SamlMetaEndpoint\\\": \\\"https://l1seshcn.aliyunidaas.com/api/v2/app_mltuxdwd4lq4eer6tmtlmaxm5e/saml2/meta\\\",\\n      \\\"OidcIssuer\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oidc\\\",\\n      \\\"OidcJwksEndpoint\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oidc/jwks\\\",\\n      \\\"Oauth2AuthorizationEndpoint\\\": \\\"https://l1seshcn.aliyunidaas.com/login/app/app_mltta64q65enci54slingvvsgq/oauth2/authorize\\\",\\n      \\\"Oauth2RevokeEndpoint\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/revoke\\\",\\n      \\\"Oauth2TokenEndpoint\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/token\\\",\\n      \\\"Oauth2DeviceAuthorizationEndpoint\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/device/code\\\",\\n      \\\"Oauth2UserinfoEndpoint\\\": \\\"https://eiam-api-cn-hangzhou.aliyuncs.com/v2/idaas_ue2jvisn35ea5lmthk2676rypm/app_mltta64q65enci54slingvvsgq/oauth2/userinfo\\\",\\n      \\\"OidcLogoutEndpoint\\\": \\\"https://l1seshcn.aliyunidaas.com/login/app/app_mltta64q65enci54slingvvsgq/oauth2/logout\\\"\\n    },\\n    \\\"SsoStatus\\\": \\\"enabled\\\",\\n    \\\"InitLoginType\\\": \\\"only_app_init_sso\\\",\\n    \\\"InitLoginUrl\\\": \\\"http://127.0.0.1:8000/start_login?enterprise_code=ABCDEF\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"查询一个EIAM应用的单点登录SSO配置"}