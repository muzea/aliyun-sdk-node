{"summary":"查询客户端问题排查任务的列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"TaskType","in":"query","schema":{"description":"任务类型。取值：\n- **CLIENT\\_PROBLEM\\_CHECK**：客户端任务\n- **CLIENT\\_DEV\\_OPS**：云运维任务\n- **ASSET\\_SECURITY\\_CHECK**：资产采集任务\n> **TaskType**和**RootTaskId**不能同时为空\n","type":"string","required":false,"enumValueTitles":{},"example":"CLIENT_PROBLEM_CHECK"}},{"name":"RootTaskId","in":"query","schema":{"description":"根任务ID。\n> **TaskType**和**RootTaskId**不能同时为空","type":"string","required":false,"example":"bb5d657479bba5e1d308b6c9e85c9174"}},{"name":"StartTimeQuery","in":"query","schema":{"description":"根任务开始的时间戳。单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1651737301000"}},{"name":"EndTimeQuery","in":"query","schema":{"description":"根任务结束的时间戳。单位为毫秒。","type":"integer","format":"int64","required":false,"example":"1651766520000"}},{"name":"CurrentPage","in":"query","schema":{"description":"设置从返回结果的第几页开始显示查询结果。默认值为**1**，表示从第1页开始显示。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"设置分页查询时，每页包含的客户端任务的数量。默认值为**20**，表示每页包含20个客户端任务。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"TaskId","in":"query","schema":{"description":"任务ID。","type":"string","required":false,"example":"d7b2acf8d362742123e4a84e1bf8****"}}],"responses":{"200":{"headers":{},"schema":{"description":"客户端任务返回数据。","type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"7E0618A9-D5EF-4220-9471-C42B5E92719F"},"PageInfo":{"description":"分页信息。","type":"object","properties":{"CurrentPage":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"分页查询时，每页包含的客户端任务的数量。默认值为**20**，表示每页包含20个客户端任务。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"查询到的客户端任务的总条数。","type":"integer","format":"int32","example":"100"},"Count":{"description":"分页查询时，当前页面显示的客户端任务条数。","type":"integer","format":"int32","example":"2"}}},"TaskManageResponseList":{"description":"客户端任务查询的返回信息列表。","type":"array","items":{"description":"客户端任务查询的返回信息。","type":"object","properties":{"TaskType":{"description":"任务类型。取值：\n- **CLIENT\\_PROBLEM\\_CHECK**：客户端任务\n- **CLIENT\\_DEV\\_OPS**：云运维任务\n- **ASSET\\_SECURITY\\_CHECK**：资产采集任务\n","type":"string","enumValueTitles":{},"example":"CLIENT_PROBLEM_CHECK"},"Progress":{"description":"任务进度，单位为百分比。","type":"string","example":"10%"},"TaskStatus":{"description":"任务状态。取值：\n- **1**：已启动。\n- **2**：已完成。\n- **3**：已失败。\n- **4**：已超时。\n","type":"integer","format":"int32","enumValueTitles":{},"example":"1"},"DetailData":{"description":"任务执行详情。该参数为JSON格式。\n\n- **causeCode**：排查原因返回码。\n- **causeMsg**：排查原因返回信息。\n- **resCode**：排查返回码。\n- **resMsg**：排查返回信息。\n- **problemType**：问题类型。\n- **dispatchType**：任务下发方式。\n- **uuid**：服务器UUID。\n- **instanceId**：服务器实例的ID。\n- **internetIp**：服务器外网IP。\n- **intranetIp**：服务器的私网IP地址。\n- **instanceName**：服务器实例的名称。\n- **url**：排查日志下载链接。","type":"string","example":"[\n      {\n            \"dispatchType\": \"manual\",\n            \"causeMsg\": [],\n            \"causeCode\": [],\n            \"resCode\": [\n                  \"1003\"\n            ],\n            \"resMsg\": [\n                  \"powershell -executionpolicy bypass -c \\\"(New-Object Net.WebClient).DownloadFile('http://aegis.alicdn.com/download/aegis_client_self_check/win32/aegis_checker.exe', $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath('.\\\\\\\\aegis_checker.exe'))\\\"; \\\"./aegis_checker.exe -b eyJtb2RlIjoxLCJqc3J2X2RvbWFpbiI6W10sImlzc3VlIjoib2ZmbGluZSIsInVwZGF0ZV9kb21haW4iOltdLCJ1dWlkIjoiaW5ldC1lYWUwNDg2Ny0wMDJmLTQyM2QtYWYwMC1jNzJjZDYyOWIyNDgiLCJjbWRfaWR4IjoiNDRjZThiZWI3ZGYyYTQxMjQ1NGM4ZDc5OTE1ODI1MzMifQ==\\\"\"\n            ],\n            \"problemType\": \"offline\",\n            \"uuid\": \"inet-eae04867-002f-423d-af00-c72cd629****\"\n      }\n]"},"TaskStatusText":{"description":"任务状态的文本对象。取值：\n- **INIT**：待启动。\n- **START**：已启动。\n- **DISPATCH**：自检命令已下发。\n- **SUCCESS**：自检完成。\n- **FAIL**：执行失败。\n- **TIMEOUT**：已超时。","type":"string","enumValueTitles":{},"example":"INIT"},"TaskName":{"description":"任务名称。","type":"string","example":"CLIENT_PROBLEM_CHECK"},"TaskStartTime":{"description":"任务实际开始的时间戳。单位为毫秒。","type":"integer","format":"int64","example":"1649732012000"},"TaskEndTime":{"description":"任务实际结束的时间戳。单位为毫秒。","type":"integer","format":"int64","example":"1650267989000"},"TaskId":{"description":"任务ID。","type":"string","example":"e900f528f5a6229bb640ca27cb44c98e"},"SuccessCount":{"description":"执行成功的任务数。","type":"integer","format":"int32","example":"7"},"FailCount":{"description":"执行失败的任务数。","type":"integer","format":"int32","example":"2"},"ResultInfo":{"description":"任务执行结果。","type":"string","example":"successful"}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7E0618A9-D5EF-4220-9471-C42B5E92719F\\\",\\n  \\\"PageInfo\\\": {\\n    \\\"CurrentPage\\\": 1,\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 100,\\n    \\\"Count\\\": 2\\n  },\\n  \\\"TaskManageResponseList\\\": [\\n    {\\n      \\\"TaskType\\\": \\\"CLIENT_PROBLEM_CHECK\\\",\\n      \\\"Progress\\\": \\\"10%\\\",\\n      \\\"TaskStatus\\\": 1,\\n      \\\"DetailData\\\": \\\"[\\\\n      {\\\\n            \\\\\\\"dispatchType\\\\\\\": \\\\\\\"manual\\\\\\\",\\\\n            \\\\\\\"causeMsg\\\\\\\": [],\\\\n            \\\\\\\"causeCode\\\\\\\": [],\\\\n            \\\\\\\"resCode\\\\\\\": [\\\\n                  \\\\\\\"1003\\\\\\\"\\\\n            ],\\\\n            \\\\\\\"resMsg\\\\\\\": [\\\\n                  \\\\\\\"powershell -executionpolicy bypass -c \\\\\\\\\\\\\\\"(New-Object Net.WebClient).DownloadFile('http://aegis.alicdn.com/download/aegis_client_self_check/win32/aegis_checker.exe', $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath('.\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\aegis_checker.exe'))\\\\\\\\\\\\\\\"; \\\\\\\\\\\\\\\"./aegis_checker.exe -b eyJtb2RlIjoxLCJqc3J2X2RvbWFpbiI6W10sImlzc3VlIjoib2ZmbGluZSIsInVwZGF0ZV9kb21haW4iOltdLCJ1dWlkIjoiaW5ldC1lYWUwNDg2Ny0wMDJmLTQyM2QtYWYwMC1jNzJjZDYyOWIyNDgiLCJjbWRfaWR4IjoiNDRjZThiZWI3ZGYyYTQxMjQ1NGM4ZDc5OTE1ODI1MzMifQ==\\\\\\\\\\\\\\\"\\\\\\\"\\\\n            ],\\\\n            \\\\\\\"problemType\\\\\\\": \\\\\\\"offline\\\\\\\",\\\\n            \\\\\\\"uuid\\\\\\\": \\\\\\\"inet-eae04867-002f-423d-af00-c72cd629****\\\\\\\"\\\\n      }\\\\n]\\\",\\n      \\\"TaskStatusText\\\": \\\"INIT\\\",\\n      \\\"TaskName\\\": \\\"CLIENT_PROBLEM_CHECK\\\",\\n      \\\"TaskStartTime\\\": 1649732012000,\\n      \\\"TaskEndTime\\\": 1650267989000,\\n      \\\"TaskId\\\": \\\"e900f528f5a6229bb640ca27cb44c98e\\\",\\n      \\\"SuccessCount\\\": 7,\\n      \\\"FailCount\\\": 2,\\n      \\\"ResultInfo\\\": \\\"successful\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询客户端任务列表"}