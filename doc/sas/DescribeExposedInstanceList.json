{"summary":"查询暴露在互联网的服务器信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"92077","abilityTreeNodes":["FEATUREsasAIJXMJ"]},"parameters":[{"name":"PageSize","in":"query","schema":{"description":"分页查询时，每页显示的数据最大条数。每页默认显示的数据条数为20条，PageSize参数值为空时，将默认返回20条数据。\n> 建议PageSize取值不要为空。\n\n","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"CurrentPage","in":"query","schema":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"GroupId","in":"query","schema":{"description":"指定要查询的服务器分组ID。\n> 您可以调用[DescribeAllGroups](~~DescribeAllGroups~~)接口查询服务器分组ID。","type":"integer","format":"int64","required":false,"example":"9535356"}},{"name":"VulStatus","in":"query","schema":{"description":"指定要查询的服务器是否存在漏洞。取值：\n- **true**：存在\n- **false**：不存在\n","type":"boolean","required":false,"example":"true"}},{"name":"HealthStatus","in":"query","schema":{"description":"ECS实例在伸缩组中的健康状态，未处于运行中（Running）状态的ECS实例会被判定为不健康的ECS实例，取值范围： \n\n- Healthy：健康的ECS实例。 \n- Unhealthy：不健康的ECS实例。 \n\n弹性伸缩会自动移出伸缩组中不健康的ECS实例，并释放自动创建的ECS实例。\n\n是否释放手动添加的ECS实例由其托管状态决定。如果实例生命周期未托管给伸缩组，只移出实例但不释放。如果实例生命周期托管给伸缩组，移出并释放实例。\n\n> 请确保账号可用额度充足。如果账号欠费，所有后付费的ECS实例（包括按量付费实例和抢占式实例）都会停机，甚至被释放。欠费后伸缩组内ECS实例状态变化，请参见[欠费说明](~~170589~~)。","type":"boolean","required":false,"example":"Unhealthy"}},{"name":"ExposureComponent","in":"query","schema":{"description":"指定要查询的暴露在互联网中的系统组件名称。","type":"string","required":false,"example":"openssl"}},{"name":"ExposurePort","in":"query","schema":{"description":"指定要查询的暴露端口。","type":"string","required":false,"example":"22"}},{"name":"ExposureIp","in":"query","schema":{"description":"指定要查询的服务器公网IP。","type":"string","required":false,"example":"116.12.XX.XX"}},{"name":"InstanceId","in":"query","schema":{"description":"指定要查询的服务器实例ID。","type":"string","required":false,"example":"i-bp1g6wxdwps7s9dz****"}},{"name":"InstanceName","in":"query","schema":{"description":"指定要查询的服务器名称。","type":"string","required":false,"example":"abc_centos7.2_005"}},{"name":"ResourceDirectoryAccountId","in":"query","schema":{"description":"资源目录成员账号主账号ID。\n>调用[DescribeMonitorAccounts](~~DescribeMonitorAccounts~~)接口可以获取该参数。","type":"integer","format":"int64","required":false,"example":"16670360956*****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。\n","type":"string","example":"598A4A61-ABA7-456B-8725-7378258276D9"},"PageInfo":{"description":"分页信息。","type":"object","properties":{"CurrentPage":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"分页查询时，每页最多显示的数据条数。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"暴露在互联网的服务器数据的总条数。","type":"integer","format":"int32","example":"2"},"Count":{"description":"分页查询时，当前页显示的数据条数。","type":"integer","format":"int32","example":"2"}}},"ExposedInstances":{"description":"资产暴露分析的列表信息。","type":"array","items":{"type":"object","properties":{"ExposureIp":{"description":"暴露在互联网上的公网IP。","type":"string","example":"116.12.XX.XX"},"TotalVulCount":{"description":"暴露在互联网上可被黑客利用的漏洞总数量。","type":"integer","format":"int32","example":"0"},"InternetIp":{"description":"服务器公网IP。","type":"string","example":"116.12.XX.XX"},"NntfVulCount":{"description":"暴露在互联网上可被黑客利用的低危漏洞数量。","type":"integer","format":"int32","example":"0"},"InstanceId":{"description":"服务器实例ID。","type":"string","example":"i-bp1g6wxdwps7s9dz****"},"ExposureType":{"description":"暴露方式。取值：\n- **INTERNET_IP**：ECS公网IP\n- **SLB**：负载均衡SLB公网IP\n- **EIP**：弹性公网IP\n- **DNAT**：使用DNAT功能连接互联网的NAT网关","type":"string","example":"INTERNET_IP"},"IntranetIp":{"description":"服务器私网IP。","type":"string","example":"192.168.XX.XX"},"RegionId":{"description":"服务器所在区域的ID。\n> Region ID和区域名称的对应关系，请参见[地域和可用区](~~40654~~)。","type":"string","example":"cn-hangzhou"},"ExposureTypeId":{"description":"暴露方式对应的实例ID。不同暴露方式对应不同的实例ID，取值：\n- ExposureType为**INTERNET_IP**时：取值为空。\n- ExposureType为**SLB**时：取值为负载均衡公网实例ID。\n- ExposureType为**EIP**时：取值为弹性公网IP的实例ID。\n- ExposureType为**DNAT**时：取值为NAT网关实例ID。\n","type":"string","example":"i-ew11313a****"},"AsapVulCount":{"description":"暴露在互联网上可被黑客利用的高危漏洞数量。","type":"integer","format":"int32","example":"0"},"ExposurePort":{"description":"暴露在互联网上的端口。","type":"string","example":"22"},"Uuid":{"description":"服务器UUID。","type":"string","example":"dd803d9e-a337-4add-9c5b-7d503e08****"},"GroupName":{"description":"服务器分组名称。","type":"string","example":"testGroup"},"GroupId":{"description":"服务器分组ID。","type":"integer","format":"int64","example":"9469268"},"ExploitHealthCount":{"description":"暴露在互联网上的服务器总数量。","type":"integer","format":"int32","example":"0"},"InstanceName":{"description":"服务器名称。","type":"string","example":"abc_centos7.2_005"},"ExposureComponent":{"description":"暴露在互联网上的系统组件。","type":"string","example":"openssl,openssh"},"LaterVulCount":{"description":"暴露在互联网上可被黑客利用的中危漏洞数量。","type":"integer","format":"int32","example":"0"}}}}}}}},"errorCodes":{"400":[{"errorCode":"NoPermission","errorMessage":"no permission"},{"errorCode":"RdCheckNoPermission","errorMessage":"Resource directory account verification has no permission."}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"},{"errorCode":"RdCheckInnerError","errorMessage":"Resource directory account service internal error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"598A4A61-ABA7-456B-8725-7378258276D9\\\",\\n  \\\"PageInfo\\\": {\\n    \\\"CurrentPage\\\": 1,\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 2,\\n    \\\"Count\\\": 2\\n  },\\n  \\\"ExposedInstances\\\": [\\n    {\\n      \\\"ExposureIp\\\": \\\"116.12.XX.XX\\\",\\n      \\\"TotalVulCount\\\": 0,\\n      \\\"InternetIp\\\": \\\"116.12.XX.XX\\\",\\n      \\\"NntfVulCount\\\": 0,\\n      \\\"InstanceId\\\": \\\"i-bp1g6wxdwps7s9dz****\\\",\\n      \\\"ExposureType\\\": \\\"INTERNET_IP\\\",\\n      \\\"IntranetIp\\\": \\\"192.168.XX.XX\\\",\\n      \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"ExposureTypeId\\\": \\\"i-ew11313a****\\\",\\n      \\\"AsapVulCount\\\": 0,\\n      \\\"ExposurePort\\\": \\\"22\\\",\\n      \\\"Uuid\\\": \\\"dd803d9e-a337-4add-9c5b-7d503e08****\\\",\\n      \\\"GroupName\\\": \\\"testGroup\\\",\\n      \\\"GroupId\\\": 9469268,\\n      \\\"ExploitHealthCount\\\": 0,\\n      \\\"InstanceName\\\": \\\"abc_centos7.2_005\\\",\\n      \\\"ExposureComponent\\\": \\\"openssl,openssh\\\",\\n      \\\"LaterVulCount\\\": 0\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeExposedInstanceListResponse>\\n    <PageInfo>\\n        <TotalCount>2</TotalCount>\\n        <PageSize>20</PageSize>\\n        <CurrentPage>1</CurrentPage>\\n        <Count>2</Count>\\n    </PageInfo>\\n    <RequestId>598A4A61-ABA7-456B-8725-7378258276D9</RequestId>\\n    <ExposedInstances>\\n        <TotalVulCount>0</TotalVulCount>\\n        <GroupName>未分组</GroupName>\\n        <ExposureType>INTERNET_IP</ExposureType>\\n        <InstanceId>i-bp1g6wxdwps7s9dz****</InstanceId>\\n        <ExposureComponent>openssh</ExposureComponent>\\n        <ExposurePort>22</ExposurePort>\\n        <AsapVulCount>0</AsapVulCount>\\n        <NntfVulCount>0</NntfVulCount>\\n        <IntranetIp>172.16.XX.XX</IntranetIp>\\n        <GroupId>9535356</GroupId>\\n        <InstanceName>abc_centos7.2_005</InstanceName>\\n        <Uuid>dd803d9e-a337-4add-9c5b-7d503e08****</Uuid>\\n        <InternetIp>47.114.XX.XX</InternetIp>\\n        <ExposureTypeId/>\\n        <ExposureIp>47.114.XX.XX</ExposureIp>\\n        <LaterVulCount>0</LaterVulCount>\\n        <RegionId>cn-hangzhou</RegionId>\\n    </ExposedInstances>\\n    <ExposedInstances>\\n        <TotalVulCount>0</TotalVulCount>\\n        <GroupName>未分组</GroupName>\\n        <ExposureType>INTERNET_IP</ExposureType>\\n        <InstanceId>i-bp1iy78ba3jgjyqp****</InstanceId>\\n        <ExposureComponent>rdp</ExposureComponent>\\n        <ExposurePort>3389</ExposurePort>\\n        <AsapVulCount>0</AsapVulCount>\\n        <NntfVulCount>0</NntfVulCount>\\n        <IntranetIp>172.16.XX.XX</IntranetIp>\\n        <GroupId>9535356</GroupId>\\n        <InstanceName>efd_centos7.2_005</InstanceName>\\n        <Uuid>c9782b85-7015-4359-8b75-5e26f854****</Uuid>\\n        <InternetIp>120.26.XX.XX</InternetIp>\\n        <ExposureTypeId/>\\n        <ExposureIp>120.26.XX.XX</ExposureIp>\\n        <LaterVulCount>0</LaterVulCount>\\n        <RegionId>cn-hangzhou</RegionId>\\n    </ExposedInstances>\\n</DescribeExposedInstanceListResponse>\",\"errorExample\":\"\"}]","title":"查询暴露在互联网的服务器信息","responseParamsDescription":" ","extraInfo":" "}