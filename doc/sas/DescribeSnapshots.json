{"summary":"查询防勒索备份快照信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Uuid","in":"query","schema":{"description":"要查询的服务器的UUID。\n>调用[DescribeBackupPolicy](~~DescribeBackupPolicy~~)接口可以获取该参数。","type":"string","required":false,"example":"061d8042-59ff-416e-bc33-294a1cf5****"}},{"name":"MachineRegion","in":"query","schema":{"description":"服务器所在的地域。\n\n> 如果未指定参数Uuid，则该参数需必填。","type":"string","required":false,"example":"us-east-1"}},{"name":"MachineRemark","in":"query","schema":{"description":"要查询的服务器的名称或IP地址。","type":"string","required":false,"example":"192.168.XX.XX"}},{"name":"StatusList","in":"query","schema":{"description":"可恢复快照状态列表。取值：\n- **COMPLETE**：已完成\n- **PARTIAL_COMPLETE**：备份部分成功","type":"string","required":false,"example":"[\"COMPLETE\"]"}},{"name":"PageSize","in":"query","schema":{"description":"指定分页查询时，每页显示的数据最大条数。","type":"integer","format":"int32","required":true,"example":"20"}},{"name":"CurrentPage","in":"query","schema":{"description":"设置从返回结果的第几页开始显示查询结果。默认值为**1**，表示从第1页开始显示。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"NextToken","in":"query","schema":{"description":"用来标记当前开始读取的位置，置空表示从头开始。\n\n> 第一次调用不用填写，会在返回结果中包含第二次调用时用的NextToken，之后每次调用返回结果中都有下一次调用时的NextToken。","type":"string","required":false,"example":"CAESGgoSChAKDGNvbXBsZXRlVGltZRABCgQiAggAGAAiQAoJAB4SwmEAAAAACjMDLgAAADFTNzMyZDMwMzAzMDM0NzY3YTZjNjI3NjZmNmU3MjcxNjk3NDY5MzY3MjY4****"}},{"name":"ApiVersion","in":"query","schema":{"description":"防护策略的版本。取值：\n\n- **1.0.0**：表示防护策略的版本为1.0.0\n- **2.0.0**：表示防护策略的版本为2.0.0","type":"string","required":true,"example":"2.0.0"}},{"name":"IsAliYunEcs","in":"query","schema":{"description":"是否阿里云ECS主机。取值：\n\n- **true**：是\n- **false**：否","type":"string","required":false,"example":"true"}}],"responses":{"200":{"schema":{"description":"请求返回数据。","type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"A4EB8B1C-1DEC-5E18-BCD0-D1BBB393****"},"PageInfo":{"description":"页面显示的信息。","type":"object","properties":{"CurrentPage":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","example":"1"},"NextToken":{"description":"查询下一页使用的token。","type":"string","example":"CAESGgoSChAKDGNvbXBsZXRlVGltZRABCgQiAggAGAAiQAoJAGYXFWIAAAAACjMDLgAAADFTNzMyZDMwMzAzMDM1Mzc3Njc4MzA2ODY5NmI2YTY1Nzg2NTcxNjE2NDc4****"},"PageSize":{"description":"分页查询时，每页显示的备份快照信息的数量。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"查询到的备份快照信息的总数量。","type":"integer","format":"int32","example":"149"},"Count":{"description":"当前页面显示的备份快照信息的数量。","type":"integer","format":"int32","example":"20"}}},"Snapshots":{"description":"快照列表。","type":"array","items":{"description":"快照信息。","type":"object","properties":{"Status":{"description":"备份快照任务的状态。取值范围：\n\n- **COMPLETE**：成功\n- **PARTIAL_COMPLETE**：部分成功\n- **FAILED**：失败","type":"string","example":"COMPLETE"},"SnapshotHash":{"description":"快照HASH值。","type":"string","example":"9ee47cf12351e4ddecce8c12f4957d3946cd96fbe24cd4ab264c7200839d****"},"ActualItems":{"description":"快照实际项目数。\n\n> 目前仅文件备份可用。\n","type":"integer","format":"int64","example":"123"},"VaultId":{"description":"保存备份库快照的仓库ID。","type":"string","example":"v-000ccok3zmw7fbzz****"},"ActualBytes":{"description":"去重后快照实际数据量。单位为字节。","type":"integer","format":"int64","example":"686188****"},"SourceType":{"description":"数据源类型。取值范围：\n\n- **ECS_FILE**：ECS文件的备份快照。\n- **OSS**：阿里云OSS的备份快照。\n- **NAS**：阿里云NAS的备份快照。\n- **OTS_TABLE**：阿里云表格存储的备份快照。","type":"string","example":"ECS_FILE"},"ClientId":{"description":"仅当**SourceType**取值为**ECS_FILE**时，该参数有效。表示备份客户端ID。","type":"string","example":"c-000dbefaw9f7gnbw****"},"ItemsDone":{"description":"备份项目数。\n\n> 目前仅文件备份可用。\n","type":"integer","format":"int64","example":"6"},"BytesTotal":{"description":"数据源总量。单位为字节。","type":"integer","format":"int64","example":"3484541815****"},"Retention":{"description":"备份快照保留天数。","type":"integer","format":"int64","example":"7"},"CreatedTime":{"description":"备份快照的创建时间。UNIX时间，单位为秒。","type":"integer","format":"int64","example":"1646793988"},"ParentSnapshotHash":{"description":"父备份的快照HASH值。","type":"string","example":"a0181606689c9562f092b3190bddb8a62bb5a24784424ba2102bc7fe92ae****"},"InstanceId":{"description":"ECS实例ID。","type":"string","example":"i-2ze78zfakirgh1yl****"},"PlanId":{"description":"备份计划ID。","type":"string","example":"plan-000ee8gh2ljelsnb****"},"RegionId":{"description":"备份服务地域ID。","type":"string","example":"us-east-1"},"Uuid":{"description":"服务器UUID。","type":"string","example":"d332af48-1269-4a55-a6db-8543a80f****"},"ErrorFile":{"description":"记录备份失败信息的文件，包含备份部分完成的信息。","type":"string","example":"s-0008ndhgrflh55i5****.csv"},"SnapshotId":{"description":"快照ID。\n\n","type":"string","example":"s-0003ahfuqpjdztsg****"},"JobId":{"description":"备份任务ID。","type":"string","example":"job-000a2q5vg6awgo01****"},"Path":{"description":"仅当**SourceType**取值为**ECS_FILE**时，该参数有效。表示备份的文件路径。","type":"string","example":"[\"/home\"]\n"},"ItemsTotal":{"description":"数据源项目总数。\n\n> 目前仅文件备份可用。\n","type":"integer","format":"int64","example":"7"},"BytesDone":{"description":"增量备份的数据量。单位为字节。","type":"integer","format":"int64","example":"800"},"Paths":{"description":"仅当**SourceType**取值为**NAS**时，该参数有效。表示备份的文件路径。","type":"array","items":{"description":"快照的路径信息。","type":"string","example":"/home"}},"ClientVersion":{"description":"防勒索客户端版本号。","type":"string","example":"2.10.0"}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A4EB8B1C-1DEC-5E18-BCD0-D1BBB393****\\\",\\n  \\\"PageInfo\\\": {\\n    \\\"CurrentPage\\\": 1,\\n    \\\"NextToken\\\": \\\"CAESGgoSChAKDGNvbXBsZXRlVGltZRABCgQiAggAGAAiQAoJAGYXFWIAAAAACjMDLgAAADFTNzMyZDMwMzAzMDM1Mzc3Njc4MzA2ODY5NmI2YTY1Nzg2NTcxNjE2NDc4****\\\",\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 149,\\n    \\\"Count\\\": 20\\n  },\\n  \\\"Snapshots\\\": [\\n    {\\n      \\\"Status\\\": \\\"COMPLETE\\\",\\n      \\\"SnapshotHash\\\": \\\"9ee47cf12351e4ddecce8c12f4957d3946cd96fbe24cd4ab264c7200839d****\\\",\\n      \\\"ActualItems\\\": 123,\\n      \\\"VaultId\\\": \\\"v-000ccok3zmw7fbzz****\\\",\\n      \\\"ActualBytes\\\": 0,\\n      \\\"SourceType\\\": \\\"ECS_FILE\\\",\\n      \\\"ClientId\\\": \\\"c-000dbefaw9f7gnbw****\\\",\\n      \\\"ItemsDone\\\": 6,\\n      \\\"BytesTotal\\\": 0,\\n      \\\"Retention\\\": 7,\\n      \\\"CreatedTime\\\": 1646793988,\\n      \\\"ParentSnapshotHash\\\": \\\"a0181606689c9562f092b3190bddb8a62bb5a24784424ba2102bc7fe92ae****\\\",\\n      \\\"InstanceId\\\": \\\"i-2ze78zfakirgh1yl****\\\",\\n      \\\"PlanId\\\": \\\"plan-000ee8gh2ljelsnb****\\\",\\n      \\\"RegionId\\\": \\\"us-east-1\\\",\\n      \\\"Uuid\\\": \\\"d332af48-1269-4a55-a6db-8543a80f****\\\",\\n      \\\"ErrorFile\\\": \\\"s-0008ndhgrflh55i5****.csv\\\",\\n      \\\"SnapshotId\\\": \\\"s-0003ahfuqpjdztsg****\\\",\\n      \\\"JobId\\\": \\\"job-000a2q5vg6awgo01****\\\",\\n      \\\"Path\\\": \\\"[\\\\\\\"/home\\\\\\\"]\\\\n\\\",\\n      \\\"ItemsTotal\\\": 7,\\n      \\\"BytesDone\\\": 800,\\n      \\\"Paths\\\": [\\n        \\\"/home\\\"\\n      ],\\n      \\\"ClientVersion\\\": \\\"2.10.0\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询快照信息"}