{"summary":"编辑指定服务器的防护策略。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"update"},"parameters":[{"name":"SourceIp","in":"query","schema":{"description":"访问源的IP地址。\n","type":"string","required":false,"example":"36.112.XX.XX"}},{"name":"Lang","in":"query","schema":{"description":"请求和接收消息的语言类型。取值：\n- **zh**：中文\n- **en**：英文","type":"string","required":false,"example":"zh"}},{"name":"Id","in":"query","schema":{"description":"指定需要修改的防护目录配置的ID。\n> 您可以调用[DescribeWebLockConfigList](~~DescribeWebLockConfigList~~)接口获取防护目录的ID。","type":"integer","format":"int32","required":true,"example":"312077"}},{"name":"Uuid","in":"query","schema":{"description":"指定需要修改防护目录的服务器的UUID。\n> 您可以调用[DescribeCloudCenterInstances](~~DescribeCloudCenterInstances~~)接口获取服务器的UUID。","type":"string","required":true,"example":"4fe8e1cd-3c37-4851-b9de-124da32c****"}},{"name":"Dir","in":"query","schema":{"description":"指定防护目录，即需要防护的目录的完整路径。","type":"string","required":true,"example":"/home/admin/tomcat"}},{"name":"ExclusiveDir","in":"query","schema":{"description":"指定无需网页防篡改防护的目录地址（即排除目录）。\n> 防护模式**Mode**配置为**blacklist**时，您需要配置该参数。","type":"string","required":false,"example":"/home/admin/test"}},{"name":"ExclusiveFileType","in":"query","schema":{"description":"指定无需网页防篡改防护的文件类型（即排除文件的类型）。存在多个文件类型时，使用半角分号（;）隔开。取值：\n- php\n- jsp\n- asp\n- aspx\n- js\n- cgi\n- html\n- htm\n- xml\n- shtml\n- shtm\n- jpg\n- gif\n- png\n\n> 防护模式**Mode**配置为**blacklist**时，您需要配置该参数。","type":"string","required":false,"example":"jpg"}},{"name":"LocalBackupDir","in":"query","schema":{"description":"指定本地备份路径，用于对防护目录进行安全备份。  \nLinux服务器和Windows服务器防护目录地址的格式可能会有区别，请您确保输入正确的格式。您可以参考以下目录格式：\n - Linux服务器：/usr/local/aegis/bak\n - Windows服务器：C:\\Program Files (x86)\\Alibaba\\Aegis\\bak","type":"string","required":true,"example":"/usr/local/backup"}},{"name":"Mode","in":"query","schema":{"description":"指定防护模式。取值：\n- **whitelist**：白名单模式，对添加的防护目录和文件类型进行保护。\n- **blacklist**：黑名单模式，对添加的防护目录下所有未排除的子目录、文件类型和指定文件进行保护。","type":"string","required":false,"example":"blacklist"}},{"name":"InclusiveFileType","in":"query","schema":{"description":"指定需要网页防篡改防护的文件类型。存在多个文件类型时，使用半角分号（;）隔开。取值：\n- php\n- jsp\n- asp\n- aspx\n- js\n- cgi\n- html\n- htm\n- xml\n- shtml\n- shtm\n- jpg\n- gif\n- png\n\n> 防护模式**Mode**配置为**whitelist**时，您需要配置该参数。","type":"string","required":false,"example":"jpg"}},{"name":"ExclusiveFile","in":"query","schema":{"description":"指定无需开启网页防篡改防护的文件（即排除文件）。\n> 防护模式**Mode**配置为**blacklist**时，您需要配置该参数。","type":"string","required":false,"example":"/home/admin/apache.log"}},{"name":"InclusiveFile","in":"query","schema":{"description":"指定需要防护的文件。\n> 防护模式**Mode**配置为**whitelist**时，您需要配置该参数。","type":"string","required":false,"example":"/home/admin/test.log"}},{"name":"DefenceMode","in":"query","schema":{"description":"防护模式。取值：\n\n- **block**：拦截\n- **audit**：告警\n","type":"string","required":true,"example":"block"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"D9354C1A-D709-4873-9AAE-41513327B247"}}}}},"errorCodes":{"400":[{"errorCode":"DuplicatedDirectory","errorMessage":"Duplicated directory"},{"errorCode":"IllegalParam","errorMessage":"Illegal param"}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"RpcServiceError","errorMessage":"The internal service invocation is abnormal."},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."},{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D9354C1A-D709-4873-9AAE-41513327B247\\\"\\n}\",\"type\":\"json\"}]","title":"编辑指定服务器的防护策略"}