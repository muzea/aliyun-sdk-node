{"summary":"创建镜像扫描任务。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"SourceIp","in":"query","schema":{"description":"访问源的IP地址。","type":"string","required":false,"example":"192.168..XX.XX"}},{"name":"RegistryTypes","in":"query","schema":{"description":"镜像仓的类型。多个镜像仓的类型之间使用半角逗号（,）分隔。取值：\n\n- **acr**\n- **harbor**\n- **quay**","type":"string","required":false,"example":"acr"}},{"name":"RegionIds","in":"query","schema":{"description":"镜像的地域ID。多个地域ID之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"InstanceIds","in":"query","schema":{"description":"ACR镜像仓实例的ID。多个实例的ID之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"i-uf6j8vq9l4r5ntht****"}},{"name":"RepoNamespaces","in":"query","schema":{"description":"镜像仓的命名空间。多个命名空间之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"hanghai-namespace"}},{"name":"RepoIds","in":"query","schema":{"description":"镜像仓的ID。多个镜像仓的ID之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"crr-vridcl4****"}},{"name":"RepoNames","in":"query","schema":{"description":"镜像仓的名称。多个镜像仓的名称之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"centos"}},{"name":"Digests","in":"query","schema":{"description":"镜像的摘要的SHA256值。多个摘要的SHA256值之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"6a5e103187b31a94592a47a5858617f7a6c"}},{"name":"Tags","in":"query","schema":{"description":"镜像的标签。多个标签之间使用半角逗号（,）分隔。","type":"string","required":false,"example":"0.2"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"F9353221-40F4-5F98-B73C-2803DC804033"},"Data":{"description":"接口调用成功时，返回的数据。","type":"object","properties":{"TaskId":{"description":"扫描任务的ID。","type":"string","example":"a410bb3e68c217a3368bc0238c66886d"},"TotalCount":{"description":"扫描镜像的总数量。","type":"integer","format":"int32","example":"5"},"FinishCount":{"description":"已完成扫描的镜像的数量。","type":"integer","format":"int32","example":"5"},"CollectTime":{"description":"采集镜像信息的时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1644286364150"},"ExecTime":{"description":"扫描任务开始运行的时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1644286364150"},"Status":{"description":"扫描任务的状态。取值：\n\n- **INIT**：初始化中。\n- **PRE_ANALYZER**：预分析中。\n- **SUCCESS**：执行成功。\n- **FAIL**：执行失败。","type":"string","example":"SUCCESS"},"Progress":{"description":"扫描任务进度的百分比。","type":"integer","format":"int32","example":"100"},"Result":{"description":"扫描任务的执行结果。取值：\n\n- **SUCCESS**：扫描任务执行成功。\n- **TASK\\_NOT\\_SUPPORT_REGION**：镜像在不支持扫描的地域。\n\n> 镜像安全扫描支持的地域，请参见本文档返回参数表后的镜像安全扫描支持的地域的表格。\n","type":"string","example":"SUCCESS"},"CanCreate":{"description":"是否可以继续创建扫描任务。取值：\n\n- **true**：可以继续创建扫描任务。\n- **false**：无法继续创建扫描任务。\n\n> 默认支持同时存在10个扫描任务，超过10个扫描任务时，使用本接口创建扫描任务会失败。您需要等待已有的10个扫描任务中有扫描任务完成后，才可以继续创建新的扫描任务。","type":"boolean","example":"true"}}}}}}},"errorCodes":{"400":[{"errorCode":"BeyondQuata","errorMessage":"Please check the scan quota"}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F9353221-40F4-5F98-B73C-2803DC804033\\\",\\n  \\\"Data\\\": {\\n    \\\"TaskId\\\": \\\"a410bb3e68c217a3368bc0238c66886d\\\",\\n    \\\"TotalCount\\\": 5,\\n    \\\"FinishCount\\\": 5,\\n    \\\"CollectTime\\\": 1644286364150,\\n    \\\"ExecTime\\\": 1644286364150,\\n    \\\"Status\\\": \\\"SUCCESS\\\",\\n    \\\"Progress\\\": 100,\\n    \\\"Result\\\": \\\"SUCCESS\\\",\\n    \\\"CanCreate\\\": true\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PublicCreateImageScanTaskResponse>\\n    <RequestId>F9353221-40F4-5F98-B73C-2803DC804033</RequestId>\\n    <Data>\\n        <TaskId>a410bb3e68c217a3368bc0238c66886d</TaskId>\\n        <TotalCount>5</TotalCount>\\n        <FinishCount>5</FinishCount>\\n        <CollectTime>1644286364150</CollectTime>\\n        <ExecTime>1644286364150</ExecTime>\\n        <Status>SUCCESS</Status>\\n        <Progress>100</Progress>\\n        <Result>SUCCESS</Result>\\n        <CanCreate>true</CanCreate>\\n    </Data>\\n</PublicCreateImageScanTaskResponse>\",\"errorExample\":\"\"}]","title":"创建镜像扫描任务","description":"建议您在使用本接口前，先使用[PublicPreCheckImageScanTask](~~PublicPreCheckImageScanTask~~)接口查询容器镜像安全扫描覆盖的镜像数和消耗的授权数，确保镜像安全扫描所需的授权数足够，避免因授权数不够导致镜像安全扫描任务中断。","responseParamsDescription":"**镜像安全扫描支持的地域**\n\n| 地域 | 城市 | 地域ID |\n|:---:|:---:|:---:|\n|华东1|杭州|cn-hangzhou|\n|华东2|上海|cn-shanghai|\n|华南1|深圳|cn-shenzhen|\n|华北1|青岛|cn-qingdao|\n|华北2|北京|cn-beijing|\n|华北3|张家口|cn-zhangjiakou|\n|华北5|呼和浩特|cn-huhehaote|\n|中国香港|中国香港|cn-hongkong|\n|亚太东北1|东京|ap-northeast-1|\n|亚太东南5|雅加达|ap-southeast-5|\n|美国西部1|硅谷|us-west-1|\n|美国东部1|弗吉尼亚|us-east-1|\n|欧洲中部1|法兰克福|eu-central-1|\n|英国伦敦|伦敦|eu-west-1|"}