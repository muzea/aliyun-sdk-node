{"summary":"获取告警事件的详细信息。告警事件分为告警与异常两个维度，一个告警事件包含多个异常事件。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"SourceIp","in":"query","schema":{"description":"访问源IP地址。","type":"string","required":false,"example":"192.168.XX.XX"}},{"name":"Lang","in":"query","schema":{"description":"设置请求和接收消息的语言类型，默认为**zh**。取值：\n\n- **zh**：中文\n- **en**：英文","type":"string","required":false,"example":"zh"}},{"name":"AlarmUniqueInfo","in":"query","schema":{"description":"告警事件的唯一标识。\n\n> 查询警事件的详细信息，需要提供告警事件的唯一标识信息，该标识信息可调用[DescribeSuspEvents](~~DescribeSuspEvents~~)接口获取。","type":"string","required":true,"example":"9f62555666f177aa84ee1eaf465a****"}},{"name":"From","in":"query","schema":{"description":"请求来源标识，固定为**sas**。","type":"string","required":true,"example":"sas"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"7EA50837-2F0B-5BCC-AB61-4968D88D75AD"},"Data":{"description":"\t\n告警事件的详情。","type":"object","properties":{"Type":{"description":"告警类型。取值：\n<props=\"china\">\n- 进程异常行为\n- 网站后门\n- 异常登录\n- 异常事件\n- 敏感文件篡改\n- 恶意进程（云查杀）\n- 异常网络连接\n- 其他\n- 异常账号\n- 应用入侵事件\n- 云产品威胁检测\n- 精准防御\n- 应用白名单\n- 持久化后门\n- Web应用威胁检测\n- 恶意脚本\n- 威胁情报\n- 恶意网络行为\n- 容器集群异常\n- 网站后门（本地查杀）\n- 漏洞利用\n- 恶意进程（本地查杀）\n- 可信异常\n</props>\n<props=\"intl\">\n- Suspicious Process\n- Webshell\n- Unusual Logon\n- Malicious Software\n- Sensitive File Tampering\n- Unusual Network Connection\n- Other\n- Suspicious Account\n- Cloud threat detection\n- Precision defense\n- Application Whitelist\n- Persistence\n- Web Application Threat Detection\n- Malicious scripts\n- Malicious Network Activity\n- K8s Abnormal Behavior\n- Website backdoor (local engine)\n- Exploit\n- Image Scan\n- Trusted exception\n</props>\n","type":"string","example":"Webshell"},"InternetIp":{"description":"关联实例的公网IP。","type":"string","example":"172.16.XX.XX"},"K8sClusterName":{"description":"k8s集群名称。","type":"string","example":"TestK8sCluser"},"ContainerImageId":{"description":"容器镜像ID。","type":"string","example":"cadb7a725641"},"AlarmEventDesc":{"description":"告警事件描述。","type":"string","example":"The detection model finds that self-mutation is running on your server. A self-mutation Trojan is a Trojan horse program with self-mutation function. It will change its hash or copy a large number of itself to different paths, and run in the background to avoid cleaning."},"AlarmUniqueInfo":{"description":"告警事件的唯一标识。\n\n> 查询警事件的详细信息，需要提供告警事件的唯一标识信息，该标识信息可调用[DescribeSuspEvents](~~DescribeSuspEvents~~)接口获取。","type":"string","example":"9f62555666f177aa84ee1eaf465a****"},"CanCancelFault":{"description":"能否取消告警。取值：  \n\n- **true**：可以取消标记为误报。\n\n- **false**：不能取消标记为误报。\n","type":"boolean","example":"false"},"AppName":{"description":"容器应用名称。","type":"string","example":"app:msdp-uat-service"},"CanBeDealOnLine":{"description":"能否在线处理。取值：  \n\n- **true**：可以取消标记为误报。\n\n- **false**：不能取消标记为误报。","type":"boolean","example":"false"},"ContainerImageName":{"description":"容器镜像名称。","type":"string","example":"jenkins/jenkins:latest"},"K8sClusterId":{"description":"K8s集群ID。","type":"string","example":"c562cf0d68e9749ee9fe544a7ab2f****"},"ContainHwMode":{"description":"是否是重大活动安全保障模式。","type":"boolean","example":"true"},"InstanceName":{"description":"实例名称。","type":"string","example":"i-wz92q7m5hsbgfhdss***"},"K8sNodeId":{"description":"k8s节点ID。","type":"string","example":"i-bp14a1ay8e0aa9t0l***"},"Solution":{"description":"告警事件的处理方法。","type":"string","example":"An invalid logon source IP has been detected. If you recognize this logon attempt, we recommend that you add the current logon source IP to the valid logon source IP list to avoid future alerts. If you do not recognize this logon attempt, we recommend that you modify the password."},"DataSource":{"description":"告警事件的数据来源。","type":"string","example":"aegis_***"},"IntranetIp":{"description":"关联实例的私网IP。","type":"string","example":"172.25.30.**"},"AlarmEventAliasName":{"description":"告警事件名称。","type":"string","example":"Login with unusual location"},"EndTime":{"description":"告警事件结束的时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1542366542000"},"Uuid":{"description":"资产实例的UUID。","type":"string","example":"6690a46c-0edb-4663-a641-3629d1a9****"},"StartTime":{"description":"告警事件的开始的时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1542378601000"},"ContainerId":{"description":"容器应用ID。","type":"string","example":"container_1606995441910_394868_01_000***"},"K8sPodName":{"description":"k8sPod名称。","type":"string","example":"myapp-pod"},"K8sNamespace":{"description":"K8s命名空间。","type":"string","example":"sit-saic-trip"},"K8sNodeName":{"description":"k8s节点名称。","type":"string","example":"cn-hangzhou.10.188.139.**"},"Level":{"description":"告警事件的危险等级。取值：\n- **serious**：紧急。\n- **suspicious**：可疑。\n- **remind**：提醒。","type":"string","example":"serious"},"CauseDetails":{"description":"告警事件发生的原因（溯源信息）。","type":"array","items":{"type":"object","properties":{"Key":{"description":"告警事件溯源的key。","type":"string","example":"842e314e69b1a2c45d5c1a2f88a16***"},"Value":{"description":"告警事件溯源的value。","type":"array","items":{"description":"溯源展示信息。","type":"object","properties":{"Type":{"description":"溯源信息字段的展示类型。取值：\n- **text**：文本方式。\n- **html**：富文本方式。\n","type":"string","example":"html"},"Value":{"description":"溯源信息字段的值。","type":"string","example":"<p>under a certain small probability, yundun may mistakenly judge the repeated attempts caused by the administrator forgetting or entering the wrong password as successful blasting. Please check according to the account number and time shown in the alarm details. Once it is confirmed that it is not the initiative of the administrator, it is recommended to immediately block the IP, and you can open it at the same time<a href=\"https://yundun.console.aliyun.com/?p=pam\">PAM</a>, hosting host login password, improving remote connection efficiency and security control ability, and according to<a href=\"https://click.aliyun.com/m/1000226086/\">best practice of ECS account security protection</a>Modify login password and convergence asset.</p>↵"},"Name":{"description":"溯源信息字段的名称。","type":"string","example":"sshd"}}}}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7EA50837-2F0B-5BCC-AB61-4968D88D75AD\\\",\\n  \\\"Data\\\": {\\n    \\\"Type\\\": \\\"Webshell\\\",\\n    \\\"InternetIp\\\": \\\"172.16.XX.XX\\\",\\n    \\\"K8sClusterName\\\": \\\"TestK8sCluser\\\",\\n    \\\"ContainerImageId\\\": \\\"cadb7a725641\\\",\\n    \\\"AlarmEventDesc\\\": \\\"The detection model finds that self-mutation is running on your server. A self-mutation Trojan is a Trojan horse program with self-mutation function. It will change its hash or copy a large number of itself to different paths, and run in the background to avoid cleaning.\\\",\\n    \\\"AlarmUniqueInfo\\\": \\\"9f62555666f177aa84ee1eaf465a****\\\",\\n    \\\"CanCancelFault\\\": false,\\n    \\\"AppName\\\": \\\"app:msdp-uat-service\\\",\\n    \\\"CanBeDealOnLine\\\": false,\\n    \\\"ContainerImageName\\\": \\\"jenkins/jenkins:latest\\\",\\n    \\\"K8sClusterId\\\": \\\"c562cf0d68e9749ee9fe544a7ab2f****\\\",\\n    \\\"ContainHwMode\\\": true,\\n    \\\"InstanceName\\\": \\\"i-wz92q7m5hsbgfhdss***\\\",\\n    \\\"K8sNodeId\\\": \\\"i-bp14a1ay8e0aa9t0l***\\\",\\n    \\\"Solution\\\": \\\"An invalid logon source IP has been detected. If you recognize this logon attempt, we recommend that you add the current logon source IP to the valid logon source IP list to avoid future alerts. If you do not recognize this logon attempt, we recommend that you modify the password.\\\",\\n    \\\"DataSource\\\": \\\"aegis_***\\\",\\n    \\\"IntranetIp\\\": \\\"172.25.30.**\\\",\\n    \\\"AlarmEventAliasName\\\": \\\"Login with unusual location\\\",\\n    \\\"EndTime\\\": 1542366542000,\\n    \\\"Uuid\\\": \\\"6690a46c-0edb-4663-a641-3629d1a9****\\\",\\n    \\\"StartTime\\\": 1542378601000,\\n    \\\"ContainerId\\\": \\\"container_1606995441910_394868_01_000***\\\",\\n    \\\"K8sPodName\\\": \\\"myapp-pod\\\",\\n    \\\"K8sNamespace\\\": \\\"sit-saic-trip\\\",\\n    \\\"K8sNodeName\\\": \\\"cn-hangzhou.10.188.139.**\\\",\\n    \\\"Level\\\": \\\"serious\\\",\\n    \\\"CauseDetails\\\": [\\n      {\\n        \\\"Key\\\": \\\"842e314e69b1a2c45d5c1a2f88a16***\\\",\\n        \\\"Value\\\": [\\n          {\\n            \\\"Type\\\": \\\"html\\\",\\n            \\\"Value\\\": \\\"<p>under a certain small probability, yundun may mistakenly judge the repeated attempts caused by the administrator forgetting or entering the wrong password as successful blasting. Please check according to the account number and time shown in the alarm details. Once it is confirmed that it is not the initiative of the administrator, it is recommended to immediately block the IP, and you can open it at the same time<a href=\\\\\\\"https://yundun.console.aliyun.com/?p=pam\\\\\\\">PAM</a>, hosting host login password, improving remote connection efficiency and security control ability, and according to<a href=\\\\\\\"https://click.aliyun.com/m/1000226086/\\\\\\\">best practice of ECS account security protection</a>Modify login password and convergence asset.</p>↵\\\",\\n            \\\"Name\\\": \\\"sshd\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeAlarmEventDetailResponse>\\n    <RequestId>5A1DDB3C-798C-4A84-BF6E-3DC700000000</RequestId>\\n    <Data>\\n        <CanCancelFault>false</CanCancelFault>\\n        <EndTime>1542366542000</EndTime>\\n        <ContainHwMode>true</ContainHwMode>\\n        <CauseDetails>\\n            <Key>html</Key>\\n        </CauseDetails>\\n        <CauseDetails>\\n            <Value>\\n                <Type>html</Type>\\n                <Value>请根据上述信息排查您的WEB服务被利用的页面及参数是否存在漏洞，并及时修复。</Value>\\n                <Name>排查方案</Name>\\n            </Value>\\n        </CauseDetails>\\n        <StartTime>1542378601000</StartTime>\\n        <IntranetIp>1.2.3.5</IntranetIp>\\n        <DataSource>aegis_***</DataSource>\\n        <InstanceName>测试服务器</InstanceName>\\n        <Type>异常网络连接</Type>\\n        <CanBeDealOnLine>false</CanBeDealOnLine>\\n        <Uuid>47900178-885d-4fa4-9d77-XXXXXXXXXXXX</Uuid>\\n        <InternetIp>1.2.3.1</InternetIp>\\n        <AlarmEventDesc>黑客入侵服务器后，为了让恶意后门程序能持久化运行，黑客常常将恶意SHELL脚本写入crontab、systemd等计划任务。</AlarmEventDesc>\\n        <AlarmUniqueInfo>8df914418f4211fbf756efe70000****</AlarmUniqueInfo>\\n        <Level>serious</Level>\\n        <AlarmEventAliasName>进程异常行为-Linux计划任务执行异常指令</AlarmEventAliasName>\\n        <Solution>请及时排查告警中提示的恶意URL，以及所下载的目录下的恶意文件。并及时清理已运行的恶意进程。如果该指令是您自己主动执行，您可以在控制台点击标记为误报，并通过工单方式反馈给阿里云安全工程师。</Solution>\\n    </Data>\\n</DescribeAlarmEventDetailResponse>\",\"errorExample\":\"\"}]","title":"获取告警事件详细信息","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}