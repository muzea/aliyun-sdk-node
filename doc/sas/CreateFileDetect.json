{"summary":"文件推送到云端检测。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"140701","abilityTreeNodes":["FEATUREsasNPORLE"]},"parameters":[{"name":"SourceIp","in":"query","schema":{"description":"访问源的IP地址。","type":"string","required":false,"example":"115.213.XX.XX"}},{"name":"Type","in":"query","schema":{"description":"需要检测的文件类型。取值：\n\n-  **0**：不确定的文件类型","type":"integer","format":"int32","required":true,"example":"0"}},{"name":"HashKey","in":"query","schema":{"description":"文件标识，仅支持文件md5。","type":"string","required":true,"example":"0a212417e65c26ff133cfff28f6c****"}},{"name":"OssKey","in":"query","schema":{"description":"文件在OSS Bucket中的存储key。如果通过DownloadUrl推送文件检测，此参数可不填。此参数通过[CreateFileDetectUploadUrl](~~CreateFileDetectUploadUrl~~)接口获取。","type":"string","required":false,"example":"1/2022/06/23/15/41/16559701077444693a0c6-33b2-4cc2-a99f-9f38b8b8****"}},{"name":"DownloadUrl","in":"query","schema":{"description":"文件下载链接。支持传入文件下载链接（公网URL）直接触发文件检测，不需要提前上传文件。","type":"string","required":false,"example":"https://xxxxxxxx.oss-cn-hangzhou-1.aliyuncs.com/xxxxx/xxxxxxxxxxxxxx?Expires=1671448125&OSSAccessKeyId=xxx"}},{"name":"Decompress","in":"query","schema":{"description":"是否识别压缩包并解压。取值：\n- **true**：是。\n- **false**：否。","type":"boolean","required":false,"example":"false"}},{"name":"DecompressMaxLayer","in":"query","schema":{"description":"当压缩包内，存在多个层级的压缩包嵌套时，解压的最大解压层数。最大取值为5。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"DecompressMaxFileCount","in":"query","schema":{"description":"解压的最大文件数。最大取值为1000。","type":"integer","format":"int32","required":false,"example":"100"}}],"responses":{"200":{"schema":{"title":"","description":"","type":"object","properties":{"RequestId":{"title":"","description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"7E0618A9-D5EF-4220-9471-C42B5E92719F"},"HashKey":{"description":"文件标识。","type":"string","example":"0a212417e65c26ff133cfff28f6c****"}}}}},"errorCodes":{"400":[{"errorCode":"RequestTooFrequently","errorMessage":"Request too frequently, please try again later"},{"errorCode":"GetFileError","errorMessage":"Get file error, please check input params and file size, and make sure upload file success."},{"errorCode":"InvalidDownloadUrl","errorMessage":"Invalid file download URL."},{"errorCode":"FileSizeOverLimit","errorMessage":"File size over limit."}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"},{"errorCode":"SystemBusy","errorMessage":"System busy, please try again later."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"7E0618A9-D5EF-4220-9471-C42B5E92719F\\\",\\n  \\\"HashKey\\\": \\\"0a212417e65c26ff133cfff28f6c****\\\"\\n}\",\"type\":\"json\"}]","title":"文件推送检测","description":"通过此接口将文件推送到云端检测，调用前请确认文件已成功上传，文件上传的方式参考 CreateFileDetectUploadUrl 接口。\n\n文件检测相关接口均包含HashKey参数，表示文件唯一标识，目前仅支持文件完整内容的十六进制md5值，请在使用接口前计算该值。\n\n计算文件内容的十六进制md5值可以参考以下两个步骤：\n\n1.使用MD5算法对数据进行加密，生成128位的散列值。现有工具库包括Java的MessageDigest工具、Python的hashlib库等。\n\n2.将生成的散列值转换为16进制字符串形式。现有工具库包括Java的Codec工具、Python的hex函数等。"}