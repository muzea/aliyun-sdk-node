{"summary":"提供根据任务类型，查询未完成的任务列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","riskType":"none","chargeType":"free"},"parameters":[{"name":"TaskType","in":"query","schema":{"description":"任务类型。取值：\n- **ASSETS_COLLECTION**：资产采集任务\n- **IMAGE_SCAN**：镜像扫描任务","type":"string","required":true,"example":"IMAGE_SCAN"}},{"name":"Target","in":"query","schema":{"description":"目标对象值。可选参数\n当任务类型IMAGE_SCAN时：目标对象值为镜像的uuid\n当任务类型为ASSETS_COLLECTION时：目标对象值为机器的uuid。","type":"string","required":false,"example":"4fe8e1cd-3c37-4851-b9de-124da32c****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"F5CF78A7-30AA-59DB-847F-13EE3AE7****"},"OnceTasks":{"description":"任务详情列表。","type":"array","items":{"description":"任务详情列表。","type":"object","properties":{"Status":{"description":"状态。","type":"integer","format":"int32","example":"1"},"StatusText":{"description":"任务运行的状态。取值：\n- **INIT**：待启动\n- **START**：已启动\n- **SUCCESS**：已完成\n- **TIMEOUT**：已超时","type":"string","example":"SUCCESS"},"Progress":{"description":"导出进度百分比（%）。","type":"integer","format":"int64","example":"75"},"RealRunTime":{"description":"任务执行时间。","type":"integer","format":"int64","example":"1670307567000"},"TaskName":{"description":"任务名称。","type":"string","example":"IMAGE_SCAN"},"Finish":{"description":"任务是否完成。\n- **0**：未完成\n- **1**：已完成","type":"integer","format":"int32","example":"1"},"TotalCount":{"description":"总数，分页查询时生效。","type":"integer","format":"int32","example":"30"},"EndTime":{"description":"结束时间。","type":"integer","format":"int64","example":"1670307567000"},"TaskType":{"description":"任务类型。","type":"string","example":"IMAGE_SCAN"},"StartTime":{"description":"开始执行时间。","type":"integer","format":"int64","example":"1640102400000"},"ResultInfo":{"description":"执行结果。","type":"string","example":"TASK_NOT_SUPPORT_REGION"},"Target":{"description":"任务目标。","type":"string","example":"238cf050a7270dd6940602e70f1e5a11eeaf4e02035f445b7f613ff5e064****"},"TaskId":{"description":"任务ID。","type":"string","example":"9fb50f2af8bb67c9fdb684194c83****"},"FinishCount":{"description":"已完成的记录数。","type":"integer","format":"int32","example":"67"},"TargetType":{"description":"扫描对象类型。\n- **IMAGE_REPO**：镜像仓库。\n- **IMAGE**：镜像。","type":"string","example":"IMAGE"},"TaskImageInfo":{"description":"镜像扫描相关的信息。","type":"object","properties":{"RepoId":{"description":"镜像仓库ID。","type":"string","example":"crr-r88w2vryp8m****"},"Digest":{"description":"镜像digest。","type":"string","example":"default_digest"},"Tag":{"description":"镜像标签。","type":"string","example":"v1.20-002-a2*****"},"RepoRegionId":{"description":"镜像仓库的地域ID。","type":"string","example":"cn-hangzhou"},"RepoName":{"description":"镜像仓库名称。","type":"string","example":"testyyy"},"RepoNamespace":{"description":"镜像命名空间。","type":"string","example":"bitn***"},"RegionId":{"description":"服务器镜像所在的地域。","type":"string","example":"cn-hangzhou"},"Image":{"description":"容器镜像。","type":"string","example":"***s.com/sas_test/baseli***"},"Pod":{"description":"镜像pod信息。","type":"string","example":"expoit-law-****"},"AppName":{"description":"应用名称。","type":"string","example":"ack-jenkins-****"},"NodeName":{"description":"节点的名称。","type":"string","example":"pztest****"},"NodeIp":{"description":"节点IP地址。","type":"string","example":"172.18.XXX.XXX"},"NodeInstanceId":{"description":"节点实例ID。","type":"string","example":"i-0xi5mxvtmfw9****"},"ClusterId":{"description":"集群的ID。","type":"string","example":"a765ba1435e7f9446065370e9a41****"},"ClusterName":{"description":"查询服务下某个集群的实例列表时所需要的参数。","type":"string","example":"ACK-test-****"}}}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F5CF78A7-30AA-59DB-847F-13EE3AE7****\\\",\\n  \\\"OnceTasks\\\": [\\n    {\\n      \\\"Status\\\": 1,\\n      \\\"StatusText\\\": \\\"SUCCESS\\\",\\n      \\\"Progress\\\": 75,\\n      \\\"RealRunTime\\\": 1670307567000,\\n      \\\"TaskName\\\": \\\"IMAGE_SCAN\\\",\\n      \\\"Finish\\\": 1,\\n      \\\"TotalCount\\\": 30,\\n      \\\"EndTime\\\": 1670307567000,\\n      \\\"TaskType\\\": \\\"IMAGE_SCAN\\\",\\n      \\\"StartTime\\\": 1640102400000,\\n      \\\"ResultInfo\\\": \\\"TASK_NOT_SUPPORT_REGION\\\",\\n      \\\"Target\\\": \\\"238cf050a7270dd6940602e70f1e5a11eeaf4e02035f445b7f613ff5e064****\\\",\\n      \\\"TaskId\\\": \\\"9fb50f2af8bb67c9fdb684194c83****\\\",\\n      \\\"FinishCount\\\": 67,\\n      \\\"TargetType\\\": \\\"IMAGE\\\",\\n      \\\"TaskImageInfo\\\": {\\n        \\\"RepoId\\\": \\\"crr-r88w2vryp8m****\\\",\\n        \\\"Digest\\\": \\\"default_digest\\\",\\n        \\\"Tag\\\": \\\"v1.20-002-a2*****\\\",\\n        \\\"RepoRegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"RepoName\\\": \\\"testyyy\\\",\\n        \\\"RepoNamespace\\\": \\\"bitn***\\\",\\n        \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n        \\\"Image\\\": \\\"***s.com/sas_test/baseli***\\\",\\n        \\\"Pod\\\": \\\"expoit-law-****\\\",\\n        \\\"AppName\\\": \\\"ack-jenkins-****\\\",\\n        \\\"NodeName\\\": \\\"pztest****\\\",\\n        \\\"NodeIp\\\": \\\"172.18.XXX.XXX\\\",\\n        \\\"NodeInstanceId\\\": \\\"i-0xi5mxvtmfw9****\\\",\\n        \\\"ClusterId\\\": \\\"a765ba1435e7f9446065370e9a41****\\\",\\n        \\\"ClusterName\\\": \\\"ACK-test-****\\\"\\n      }\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询未完成的任务列表"}