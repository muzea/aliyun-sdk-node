{"summary":"根据分组类型查询对应的容器列表信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"Criteria","in":"query","schema":{"description":"设置搜索资产的条件。该参数为JSON格式，多个条件之间使用半角逗号（,）分隔。例如：`[{\"name\":\"riskStatus\",\"value\":\"YES\"},{\"name\":\"riskLevel\",\"value\":\"2\"}]`。\n> 支持使用实例ID、实例名称、所属VPC ID、地域、公网IP地址等条件搜索资产。您可以调用[DescribeCriteria](~~DescribeCriteria~~)查询支持的搜索条件。","type":"string","required":false,"example":"[{\"name\":\"riskStatus\",\"value\":\"YES\"},{\"name\":\"riskLevel\",\"value\":\"2\"}]"}},{"name":"LogicalExp","in":"query","schema":{"description":"设置多个搜索条件间生效的逻辑关系。取值：\n- **OR**：表示多个条件间为**或**的关系。\n- **AND**：表示多个条件间为**与**的关系。","type":"string","required":false,"example":"OR"}},{"name":"GroupField","in":"query","schema":{"description":"要查询的分组类型。取值：\n- **pod**：容器组。\n- **appName**：应用名称。\n- **namespace**：命名空间。\n- **clusterId**：集群ID。\n- **image**：镜像。","type":"string","required":true,"example":"pod"}},{"name":"FieldValue","in":"query","schema":{"description":"设置不同分组类型的搜索条件。根据GroupField选择的类型您需要设置以下搜索条件：\n- **GroupField**选择为**pod**：指定要查询的容器组名称。\n- **GroupField**选择为**appName**：指定要查询的应用名称。\n- **GroupField**选择为**namespace**：指定要查询的命名空间。\n- **GroupField**选择为**clusterId**：指定要查询的集群ID。\n- **GroupField**选择为**image**：指定要查询的镜像名称。\n> 以上搜索条件均支持模糊搜索。","type":"string","required":false,"example":"cas-adad-qeqwe"}},{"name":"PageSize","in":"query","schema":{"description":"设置分页查询时，每页显示的容器资产的数量。默认值为**20**，表示每页显示20条容器资产信息。\n> 建议PageSize取值不要为空。\n","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"CurrentPage","in":"query","schema":{"description":"设置从返回结果的第几页开始显示查询结果。默认值为**1**，表示从第1页开始显示。","type":"integer","format":"int32","required":false,"example":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"4E5BFDCF-B9DD-430D-9DA4-151BCB581C9D"},"PageInfo":{"description":"数据分页信息。","type":"object","properties":{"CurrentPage":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"分页查询时，每页显示的容器资产的数量。默认值为**20**，表示每页显示20条容器资产信息。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"查询到的容器资产的总数量。","type":"integer","format":"int32","example":"25"},"Count":{"description":"分页查询时，当前页显示的容器资产信息的条数。\n","type":"integer","format":"int32","example":"20"}}},"GroupedContainerInstanceList":{"description":"查询到的容器资产信息的列表。","type":"array","items":{"description":"容器资产信息。","type":"object","properties":{"RiskLevel":{"description":"风险的等级。取值：\n\n- **high**：高危\n- **medium**：中危\n- **low**：低危","type":"string","example":"low"},"HostIp":{"description":"容器集群的主机IP。","type":"string","example":"172.114.XX.XX"},"Pod":{"description":"容器组名称。","type":"string","example":"csi-plugin-2n****"},"RiskStatus":{"description":"风险状态。取值：\n- **NO**：无风险。\n- **YES**：有风险。","type":"string","example":"NO"},"CreateTime":{"description":"创建集群时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1600076893000"},"Namespace":{"description":"集群的命名空间。","type":"string","example":"kube-system"},"CusterState":{"description":"集群的运行状态。取值：\n- **running**：集群正在运行。\n- **stopped**：集群已经停止运行。\n- **deleted**：集群已经被删除。\n- **delete_failed**：删除集群失败。\n- **failed**：创建集群失败。","type":"string","example":"running"},"InstanceId":{"description":"服务器实例的ID。","type":"string","example":"i-8vb9ul5xec4tua4q****"},"RegionId":{"description":"实例所在的地域的ID。","type":"string","example":"cn-hangzhou"},"AppName":{"description":"应用名称。","type":"string","example":"oss-liveness-probe"},"InstanceCount":{"description":"查询到的容器组数量、应用数量、集群数量或命名空间数量。","type":"integer","format":"int32","example":"9"},"ClusterType":{"description":"集群的类型。取值：\n- **Kubernetes**：Kubernetes专有版。\n- **ManagedKubernetes**：标准托管集群（边缘集群）。\n- **Ask**：标准Serverless集群。","type":"string","example":"ManagedKubernetes"},"ClusterName":{"description":"集群名称。","type":"string","example":"test"},"PodIp":{"description":"容器组IP。","type":"string","example":"172.114.XX.XX"},"VulCount":{"description":"在当前容器组、应用、命名空间或集群中检测出的漏洞数量。","type":"integer","format":"int32","example":"1"},"AlarmCount":{"description":"在当前容器组、应用、命名空间或集群中检测出的告警数量。","type":"integer","format":"int32","example":"1"},"RiskInstanceCount":{"description":"存在风险的实例数量。","type":"integer","format":"int32","example":"1"},"ClusterId":{"description":"集群ID。","type":"string","example":"cf3824769c85441b4bf3****"},"Image":{"description":"容器镜像。","type":"string","example":"registry-vpc.ap-southeast-5.aliyuncs.com/log-service-release/sls-connector:1.1.77"},"ImageRepoNamespace":{"description":"镜像仓库命名空间。","type":"string","example":"name001"},"ImageRepoName":{"description":"镜像仓库名称。","type":"string","example":"test-003"},"ImageRepoTag":{"description":"镜像仓库标签。","type":"string","example":"dev-20220512-2"},"ImageDigest":{"description":"镜像digest值。","type":"string","example":"58e58c013f70bbfde140c8a55c1078074b3483479428d4069aa946827fd566cf"},"ImageUuid":{"description":"镜像UUID。","type":"string","example":"e4bdec1d9ba7e0967111a7ea467c****"},"HcCount":{"description":"在当前容器组、应用、命名空间或集群中检测出的基线总数。","type":"integer","format":"int32","example":"20"},"SyncOpen":{"description":"集群日志审计同步开关。取值：\n- **0**：关闭。\n- **1**：开启。","type":"integer","format":"int32","example":"1"},"SyncStatus":{"description":"集群日志审计同步状态。取值：\n- **0**：同步失败。\n- **1**：同步成功。","type":"integer","format":"int32","example":"1"}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalParam","errorMessage":"Illegal param"}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"4E5BFDCF-B9DD-430D-9DA4-151BCB581C9D\\\",\\n  \\\"PageInfo\\\": {\\n    \\\"CurrentPage\\\": 1,\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 25,\\n    \\\"Count\\\": 20\\n  },\\n  \\\"GroupedContainerInstanceList\\\": [\\n    {\\n      \\\"RiskLevel\\\": \\\"low\\\",\\n      \\\"HostIp\\\": \\\"172.114.XX.XX\\\",\\n      \\\"Pod\\\": \\\"csi-plugin-2n****\\\",\\n      \\\"RiskStatus\\\": \\\"NO\\\",\\n      \\\"CreateTime\\\": 1600076893000,\\n      \\\"Namespace\\\": \\\"kube-system\\\",\\n      \\\"CusterState\\\": \\\"running\\\",\\n      \\\"InstanceId\\\": \\\"i-8vb9ul5xec4tua4q****\\\",\\n      \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n      \\\"AppName\\\": \\\"oss-liveness-probe\\\",\\n      \\\"InstanceCount\\\": 9,\\n      \\\"ClusterType\\\": \\\"ManagedKubernetes\\\",\\n      \\\"ClusterName\\\": \\\"test\\\",\\n      \\\"PodIp\\\": \\\"172.114.XX.XX\\\",\\n      \\\"VulCount\\\": 1,\\n      \\\"AlarmCount\\\": 1,\\n      \\\"RiskInstanceCount\\\": 1,\\n      \\\"ClusterId\\\": \\\"cf3824769c85441b4bf3****\\\",\\n      \\\"Image\\\": \\\"registry-vpc.ap-southeast-5.aliyuncs.com/log-service-release/sls-connector:1.1.77\\\",\\n      \\\"ImageRepoNamespace\\\": \\\"name001\\\",\\n      \\\"ImageRepoName\\\": \\\"test-003\\\",\\n      \\\"ImageRepoTag\\\": \\\"dev-20220512-2\\\",\\n      \\\"ImageDigest\\\": \\\"58e58c013f70bbfde140c8a55c1078074b3483479428d4069aa946827fd566cf\\\",\\n      \\\"ImageUuid\\\": \\\"e4bdec1d9ba7e0967111a7ea467c****\\\",\\n      \\\"HcCount\\\": 20,\\n      \\\"SyncOpen\\\": 1,\\n      \\\"SyncStatus\\\": 1\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeGroupedContainerInstancesResponse>\\n    <RequestId>4E5BFDCF-B9DD-430D-9DA4-151BCB581C9D</RequestId>\\n    <PageInfo>\\n        <CurrentPage>1</CurrentPage>\\n        <PageSize>20</PageSize>\\n        <TotalCount>25</TotalCount>\\n        <Count>20</Count>\\n    </PageInfo>\\n    <GroupedContainerInstanceList>\\n        <RiskLevel>low</RiskLevel>\\n        <HostIp>172.114.XX.XX</HostIp>\\n        <Pod>csi-plugin-2n****</Pod>\\n        <RiskStatus>NO</RiskStatus>\\n        <CreateTime>1600076893000</CreateTime>\\n        <Namespace>kube-system</Namespace>\\n        <CusterState>running</CusterState>\\n        <InstanceId>i-8vb9ul5xec4tua4q****</InstanceId>\\n        <RegionId>cn-hangzhou</RegionId>\\n        <AppName>oss-liveness-probe</AppName>\\n        <InstanceCount>9</InstanceCount>\\n        <ClusterType>ManagedKubernetes</ClusterType>\\n        <ClusterName>test</ClusterName>\\n        <PodIp>172.114.XX.XX</PodIp>\\n        <VulCount>1</VulCount>\\n        <AlarmCount>1</AlarmCount>\\n        <RiskInstanceCount>1</RiskInstanceCount>\\n        <ClusterId>cf3824769c85441b4bf3****</ClusterId>\\n    </GroupedContainerInstanceList>\\n</DescribeGroupedContainerInstancesResponse>\",\"errorExample\":\"\"}]","title":"查询容器列表信息","responseParamsDescription":" ","extraInfo":" "}