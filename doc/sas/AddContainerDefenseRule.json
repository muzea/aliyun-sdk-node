{"summary":"新建非镜像程序防御规则。","methods":["post","get"],"schemes":["https","http"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RuleId","in":"query","schema":{"title":"id","description":"规则ID，创建时无需传入。","type":"integer","format":"int64","required":false,"example":"500018"}},{"name":"RuleAction","in":"query","schema":{"title":"规则操作","description":"规则命中时执行操作。取值：\n\n- **1**：告警。\n\n- **2**：阻断。","type":"integer","format":"int32","required":false,"enumValueTitles":{"1":"告警","2":"阻断"},"example":"1"}},{"name":"RuleSwitch","in":"query","schema":{"title":"规则开关","description":"规则开关。取值：\n\n- **0**：关闭。\n\n- **1**：开启。","type":"integer","format":"int32","required":false,"enumValueTitles":{"0":"关闭","1":"开启"},"example":"1"}},{"name":"RuleName","in":"query","schema":{"title":"规则名称","description":"规则名称。","type":"string","required":false,"example":"auto-test-rule-lt9umq"}},{"name":"Description","in":"query","schema":{"title":"描述","description":"描述。","type":"string","required":false,"example":"test-proc-defense"}},{"name":"RuleType","in":"query","schema":{"description":"规则类型。取值：\n- 2： 用户规则\n\n><notice>仅支持取值2。></notice>","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Whitelist","in":"query","style":"json","schema":{"title":"白名单","description":"白名单。","type":"object","properties":{"Hash":{"description":"文件hash。><notice>暂不支持此参数。></notice>","type":"array","items":{"description":"加白文件哈希。","type":"string","required":false,"example":"hashcode"},"required":false},"Path":{"description":"需要加白的文件路径列表。","type":"array","items":{"description":"需要加白的文件路径。","type":"string","required":false,"example":"/test/worker.sh"},"required":false},"Image":{"description":"需要加白的镜像列表。","type":"array","items":{"description":"需要加白的镜像。","type":"string","required":false,"example":"repo:tag"},"required":false}},"required":false}},{"name":"Scope","in":"query","style":"repeatList","schema":{"title":"作用域","description":"作用域。","type":"array","items":{"description":"作用域。","type":"object","properties":{"ClusterId":{"description":"集群ID。\n> 您可以调用[DescribeGroupedContainerInstances](~~182997~~)接口获取该参数。","type":"string","required":false,"example":"8e2***75b"},"AllNamespace":{"description":"是否包含所有命名空间。取值：\n\n- **0**：（用Namespaces参数）指定需要包含的命名空间。\n\n- **1**：包含所有命名空间。","type":"integer","format":"int32","required":false,"enumValueTitles":{"0":"（用Namespaces参数）指定需要包含的命名空间","1":"包含所有命名空间"},"example":"0"},"Namespaces":{"description":"包含的命名空间列表。","type":"array","items":{"description":"包含的命名空间。","type":"string","required":false,"example":"default"},"required":false,"maxItems":100}},"required":false},"required":false,"maxItems":100}}],"responses":{"200":{"schema":{"title":"PlainResult<Long>","description":"PlainResult<Long>","type":"object","properties":{"Data":{"description":"返回结果，创建成功的规则ID。","type":"integer","format":"int64","example":"182"},"Success":{"description":"接口调用是否成功。取值：\n- **true**：成功\n- **false**：失败","type":"boolean","enumValueTitles":{"true":"接口调用成功","false":"接口调用失败"},"example":"true"},"Code":{"description":"结果代码，**200**表示成功，若为别的值则表示失败，调用方可根据此字段判断失败原因。","type":"string","example":"200"},"Message":{"description":"接口请求返回的信息。","type":"string","example":"There was an error with your request."},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"8C376***AE74FB4"},"HttpStatusCode":{"description":"请求数据结果的HTTP状态码。","type":"integer","format":"int32","example":"200"}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": 182,\\n  \\\"Success\\\": true,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"There was an error with your request.\\\",\\n  \\\"RequestId\\\": \\\"8C376***AE74FB4\\\",\\n  \\\"HttpStatusCode\\\": 200\\n}\",\"type\":\"json\"}]","title":"新建非镜像程序防御规则"}