{"summary":"查询服务器防勒索防护策略详情。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Id","in":"query","schema":{"description":"防勒索备份策略ID。\n>调用[DescribeBackupPolicies](~~DescribeBackupPolicies~~)接口可以获取该参数。","type":"integer","format":"int64","required":true,"example":"51880"}}],"responses":{"200":{"schema":{"description":"策略详情返回数据。","type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"A4EB8B1C-1DEC-5E18-BCD0-D1BBB3936FA7"},"BackupPolicyDetail":{"description":"策略的详细信息。","type":"object","properties":{"Status":{"description":"防勒索防护策略的状态。\n\n- **enabled**：策略已手动启用。\n\n- **disabled**：策略已手动停用。策略停用后，正在运行的备份任务将停止。\n\n- **closed**：防勒索容量超出，系统停用策略。","type":"string","example":"closed"},"PolicyVersion":{"description":"防护策略的版本。\n\n- **1.0.0**\n- **2.0.0**","type":"string","example":"2.0.0"},"Policy":{"description":"防勒索防护策略的内容。该参数为JSON格式，字段说明如下：\n\n- **IsDefault**：防护策略的类型。取值：\n    - **1**：推荐策略\n    - **0**：自定义策略\n- **Include**：要防护的文件类型。防护全部文件类型时，该参数设置为[]。\n- **Source**：要防护的服务器目录。需要防护全部目录时，该参数设置为[]。\n- **ExcludeSystemPath**：设置是否排除指定目录。要排除该参数设置为**true**，不排除则无需设置该参数。\n- **Exclude**：设置指定的防护目录地址。不设置指定防护目录地址时，该参数设置为[]。\n- **Schedule**：设置数据备份任务的执行时间和执行间隔。建议指定在业务低峰期非整点。设置示例如下：\n    - 例1：I|1583216092|P21D表示数据备份开始时间为2020-03-03 14:14:52，备份策略执行间隔为3周。\n    - 例2：I|1583216092|PT24H表示数据备份开始时间为2020-03-03 14:14:52，备份策略执行间隔为24小时。\n- **Retention**：设置备份数据保留时间，单位为天。7表示1周，365表示1年，-1表示永久。\n-  **SpeedLimiter**：设置备份网络带宽限制。例如：0:24:30720表示0~24时备份网络带宽限制为30 MByte/s。\n- **UseVss**：是否启用VSS（Windows）功能。取值：\n    -  **true**：启用\n    -  **false**：不启用\n\n> VSS（Windows）功能仅为Windows系统开启，开启后会有效降低因进程占用导致的个别文件备份失败的问题，建议开启。启用该功能后，将不支持exFAT和FAT32磁盘格式的文件备份。","type":"string","example":"{\n      \"Exclude\": [\n            \"/bin/\",\n            \"/usr/bin/\",\n            \"/sbin/\",\n            \"/boot/\",\n            \"/proc/\",\n            \"/sys/\",\n            \"/srv/\",\n            \"/lib/\",\n            \"/selinux/\",\n            \"/usr/sbin/\",\n            \"/run/\",\n            \"/lib32/\",\n            \"/lib64/\",\n            \"/lost+found/\",\n            \"/var/lib/kubelet/\",\n            \"/var/lib/ntp/proc\",\n            \"/var/lib/container\",\n            \"Windows\\\\\",\n            \"Python27\\\\\",\n            \"Program Files (x86)\\\\\",\n            \"Program Files\\\\\",\n            \"Boot\\\\\",\n            \"$RECYCLE.BIN\",\n            \"System Volume Information\\\\\",\n            \"Users\\\\Administrator\\\\NTUSER.DAT*\",\n            \"ProgramData\\\\\",\n            \"pagefile.sys\",\n            \"Users\\\\Default\\\\NTUSER.DAT*\",\n            \"Users\\\\Administrator\\\\ntuser.*\"\n      ],\n      \"ExcludeSystemPath\": true,\n      \"Include\": [],\n      \"IsDefault\": 1,\n      \"Retention\": 7,\n      \"Schedule\": \"I|1630689360|PT24H\",\n      \"Source\": [],\n      \"SpeedLimiter\": \"\",\n      \"UseVss\": true\n}"},"ClientStatus":{"description":"防勒索客户端的状态。取值：\n\n- **running**：状态正常\n\n- **exception**：状态异常","type":"string","example":"running"},"Name":{"description":"策略名称。","type":"string","example":"testBuckUp"},"Id":{"description":"防勒索备份策略ID。","type":"integer","format":"int64","example":"51880"},"RegionId":{"description":"备份服务地域ID。","type":"string","example":"cn-beijing"},"UuidList":{"description":"已启用备份策略的服务器的UUID列表。","type":"array","items":{"description":"已启用备份策略的服务器的UUID。","type":"string","example":"inet-49611a6b-a98a-455d-a18a-92af9265****"}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A4EB8B1C-1DEC-5E18-BCD0-D1BBB3936FA7\\\",\\n  \\\"BackupPolicyDetail\\\": {\\n    \\\"Status\\\": \\\"closed\\\",\\n    \\\"PolicyVersion\\\": \\\"2.0.0\\\",\\n    \\\"Policy\\\": \\\"{\\\\n      \\\\\\\"Exclude\\\\\\\": [\\\\n            \\\\\\\"/bin/\\\\\\\",\\\\n            \\\\\\\"/usr/bin/\\\\\\\",\\\\n            \\\\\\\"/sbin/\\\\\\\",\\\\n            \\\\\\\"/boot/\\\\\\\",\\\\n            \\\\\\\"/proc/\\\\\\\",\\\\n            \\\\\\\"/sys/\\\\\\\",\\\\n            \\\\\\\"/srv/\\\\\\\",\\\\n            \\\\\\\"/lib/\\\\\\\",\\\\n            \\\\\\\"/selinux/\\\\\\\",\\\\n            \\\\\\\"/usr/sbin/\\\\\\\",\\\\n            \\\\\\\"/run/\\\\\\\",\\\\n            \\\\\\\"/lib32/\\\\\\\",\\\\n            \\\\\\\"/lib64/\\\\\\\",\\\\n            \\\\\\\"/lost+found/\\\\\\\",\\\\n            \\\\\\\"/var/lib/kubelet/\\\\\\\",\\\\n            \\\\\\\"/var/lib/ntp/proc\\\\\\\",\\\\n            \\\\\\\"/var/lib/container\\\\\\\",\\\\n            \\\\\\\"Windows\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"Python27\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"Program Files (x86)\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"Program Files\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"Boot\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"$RECYCLE.BIN\\\\\\\",\\\\n            \\\\\\\"System Volume Information\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"Users\\\\\\\\\\\\\\\\Administrator\\\\\\\\\\\\\\\\NTUSER.DAT*\\\\\\\",\\\\n            \\\\\\\"ProgramData\\\\\\\\\\\\\\\\\\\\\\\",\\\\n            \\\\\\\"pagefile.sys\\\\\\\",\\\\n            \\\\\\\"Users\\\\\\\\\\\\\\\\Default\\\\\\\\\\\\\\\\NTUSER.DAT*\\\\\\\",\\\\n            \\\\\\\"Users\\\\\\\\\\\\\\\\Administrator\\\\\\\\\\\\\\\\ntuser.*\\\\\\\"\\\\n      ],\\\\n      \\\\\\\"ExcludeSystemPath\\\\\\\": true,\\\\n      \\\\\\\"Include\\\\\\\": [],\\\\n      \\\\\\\"IsDefault\\\\\\\": 1,\\\\n      \\\\\\\"Retention\\\\\\\": 7,\\\\n      \\\\\\\"Schedule\\\\\\\": \\\\\\\"I|1630689360|PT24H\\\\\\\",\\\\n      \\\\\\\"Source\\\\\\\": [],\\\\n      \\\\\\\"SpeedLimiter\\\\\\\": \\\\\\\"\\\\\\\",\\\\n      \\\\\\\"UseVss\\\\\\\": true\\\\n}\\\",\\n    \\\"ClientStatus\\\": \\\"running\\\",\\n    \\\"Name\\\": \\\"testBuckUp\\\",\\n    \\\"Id\\\": 51880,\\n    \\\"RegionId\\\": \\\"cn-beijing\\\",\\n    \\\"UuidList\\\": [\\n      \\\"inet-49611a6b-a98a-455d-a18a-92af9265****\\\"\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询服务器防勒索防护策略详情"}