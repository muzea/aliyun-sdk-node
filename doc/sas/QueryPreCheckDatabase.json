{"summary":"查询数据库预检任务结果。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"TaskId","in":"query","schema":{"description":"数据库预检任务ID。\n> 您可以调用[StartPreCheckDatabase](~~StartPreCheckDatabase~~)接口获取该参数。","type":"string","required":false,"example":"t-000bc9nqwxsbyvod****"}},{"name":"InstanceUuid","in":"query","schema":{"description":"服务器数据库备份客户端唯一标识。\n>调用[DescribeUniBackupDatabase](~~DescribeUniBackupDatabase~~)接口可以获取该参数。","type":"string","required":false,"example":"ebc895506c6911ed800000163e0e****"}},{"name":"UniRegionId","in":"query","schema":{"description":"数据库服务器所在的地域ID。","type":"string","required":true,"example":"cn-hangzhou"}}],"responses":{"200":{"headers":{},"schema":{"description":"请求返回参数。","type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。\n","type":"string","example":"CE500770-42D3-442E-9DDD-156E0F9F****"},"Progress":{"description":"预检查进度。取值范围：0~100。","type":"integer","format":"int32","example":"100"},"Result":{"description":"预检查任务结果。格式为JSON字符串，KEY取值：\n\n- **instanceId**：数据库所在服务器实例ID\n- **checkTime**：预检时间\n- **sourceType**：数据库类型\n- **results**：预检项与结果\n    - **item**：预检项\n    - **result**：预检结果\n\n> 预检项说明\n> - MSSQL\n>     - **OSS\\_INTERNAL\\_ENDPOINT\\_CONNECTIVITY：OSS**连接性检查\t\n>     - **SERVICE\\_CONNECTIVITY**：管控网络连接性检查\n>     - **SQL\\_SERVER\\_DB\\_IN\\_SIMPLE\\_RECOVERY\\_MODE**：恢复模式检查\n>     - **SQL\\_SERVER\\_DB\\_NOT\\_ONLINE**：SQL Server数据库状态检查\n> - ORACLE\n>     - **OSS\\_INTERNAL\\_ENDPOINT\\_CONNECTIVITY：OSS**连接性检查\t\n>     - **SERVICE\\_CONNECTIVITY**：管控网络连接性检查\n>     - **ORACLE\\_INSTANCE\\_STATUS**：Oracle实例状态检查\n>     - **ORACLE\\_DB\\_STATUS**：Oracle数据库状态检查\n>     - **ARCHIVELOG**：归档模式检查\n> - MYSQL\n>     - **OSS\\_INTERNAL\\_ENDPOINT\\_CONNECTIVITY：OSS**连接性检查\t\n>     - **SERVICE\\_CONNECTIVITY**：管控网络连接性检查\n>     - **MYSQL\\_VERSION**：支持全量备份的版本检查\n>     - **MYSQL\\_BINLOG**：BINLOG检查","type":"string","example":"[\n    {\n        \"instanceId\": \"i-wz91if83t97xgtn2****\",\n        \"checkTime\": 1671245753,\n        \"sourceType\": \"MSSQL\",\n        \"results\":\n        [\n            {\n                \"item\": \"OSS_INTERNAL_ENDPOINT_CONNECTIVITY\",\n                \"result\": \"PASSED\"\n            },\n            {\n                \"item\": \"SERVICE_CONNECTIVITY\",\n                \"result\": \"PASSED\"\n            },\n            {\n                \"item\": \"SQL_SERVER_DB_IN_SIMPLE_RECOVERY_MODE\",\n                \"result\": \"WARNING\"\n            },\n            {\n                \"item\": \"SQL_SERVER_DB_NOT_ONLINE\",\n                \"result\": \"PASSED\"\n            }\n        ]\n    }\n]"},"CompletedTime":{"description":"预检查完成的时间。","type":"integer","format":"int64","example":"1657524396"},"Description":{"description":"预检查任务状态描述。取值如下：\n\n- **completed**：已完成\n- **created**：已开始\n- **error**：预检失败","type":"string","example":"completed"},"UpdatedTime":{"description":"预检查最后更新的时间。","type":"integer","format":"int64","example":"1671084106"},"CreatedTime":{"description":"预检查开始的时间。","type":"integer","format":"int64","example":"1660448660"}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"CE500770-42D3-442E-9DDD-156E0F9F****\\\",\\n  \\\"Progress\\\": 100,\\n  \\\"Result\\\": \\\"[\\\\n    {\\\\n        \\\\\\\"instanceId\\\\\\\": \\\\\\\"i-wz91if83t97xgtn2****\\\\\\\",\\\\n        \\\\\\\"checkTime\\\\\\\": 1671245753,\\\\n        \\\\\\\"sourceType\\\\\\\": \\\\\\\"MSSQL\\\\\\\",\\\\n        \\\\\\\"results\\\\\\\":\\\\n        [\\\\n            {\\\\n                \\\\\\\"item\\\\\\\": \\\\\\\"OSS_INTERNAL_ENDPOINT_CONNECTIVITY\\\\\\\",\\\\n                \\\\\\\"result\\\\\\\": \\\\\\\"PASSED\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"item\\\\\\\": \\\\\\\"SERVICE_CONNECTIVITY\\\\\\\",\\\\n                \\\\\\\"result\\\\\\\": \\\\\\\"PASSED\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"item\\\\\\\": \\\\\\\"SQL_SERVER_DB_IN_SIMPLE_RECOVERY_MODE\\\\\\\",\\\\n                \\\\\\\"result\\\\\\\": \\\\\\\"WARNING\\\\\\\"\\\\n            },\\\\n            {\\\\n                \\\\\\\"item\\\\\\\": \\\\\\\"SQL_SERVER_DB_NOT_ONLINE\\\\\\\",\\\\n                \\\\\\\"result\\\\\\\": \\\\\\\"PASSED\\\\\\\"\\\\n            }\\\\n        ]\\\\n    }\\\\n]\\\",\\n  \\\"CompletedTime\\\": 1657524396,\\n  \\\"Description\\\": \\\"completed\\\",\\n  \\\"UpdatedTime\\\": 1671084106,\\n  \\\"CreatedTime\\\": 1660448660\\n}\",\"type\":\"json\"}]","title":"查询数据库预检任务结果"}