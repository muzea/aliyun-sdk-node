{"summary":"创建 jenkins 镜像仓（token）。","methods":["post"],"schemes":["https","http"],"security":[{"AK":[]}],"operationType":"readAndWrite","systemTags":{"operationType":"create"},"parameters":[{"name":"RegistryName","in":"formData","schema":{"title":"镜像仓别名","description":"镜像仓别名。","type":"string","required":false,"example":"testRepo"}},{"name":"RegistryType","in":"formData","schema":{"title":"容器镜像服务类型 harbor，quory","description":"镜像仓库类型。取值：\n\n- **CI/CD**：jenkins环境","type":"string","required":false,"example":"CI/CD"}},{"name":"RegistryVersion","in":"formData","schema":{"title":"私有库版本","description":"镜像仓版本，默认值\"-\"。取值：\n\n- **\\-**：默认\n- **V1**：1.0版本\n- **V2**：2.0版本","type":"string","required":false,"example":"V1"}},{"name":"ProtocolType","in":"formData","schema":{"title":"协议类型 1：http 2:https","description":"协议类型。取值：\n- **1**：http\n- **2**：https","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"NetType","in":"formData","schema":{"title":"网络类型 1：公网 2：vpc","description":"网络类型。取值：\n- **1**：公网\n- **2**：vpc","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"VpcId","in":"formData","schema":{"title":"vpcId 类型","description":"VPC的实例ID。","type":"string","required":false,"example":"vpc-2ze4aoqgeu51ydfb8****"}},{"name":"RegistryHostIp","in":"formData","schema":{"title":"主机Ip地址","description":"仓库IP地址。","type":"string","required":false,"example":"114.55.XXX.XXX"}},{"name":"DomainName","in":"formData","schema":{"title":"主机域名","description":"仓库域名。","type":"string","required":false,"example":"example.com"}},{"name":"UserName","in":"formData","schema":{"title":"用户名","description":"用户名。","type":"string","required":false,"example":"RegistryUser"}},{"name":"Password","in":"formData","schema":{"title":"密码","description":"密码。","type":"string","required":false,"example":"Harbor********"}},{"name":"RegionId","in":"formData","schema":{"title":"镜像仓库所在的regionId","description":"仓库地域ID。","type":"string","required":false,"example":"cn-shanghai"}},{"name":"WhiteList","in":"formData","schema":{"title":"白名单","description":"网络IP白名单。","type":"string","required":false,"example":"192.168.XXX.XXX"}},{"name":"TransPerHour","in":"formData","schema":{"title":"每小时扫描的镜像数","description":"每小时扫描的镜像数。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"ExtraParam","in":"formData","schema":{"title":"镜像仓库附加参数","description":"镜像仓库附加参数。包含：\n\n- **namespace**：命名空间\n- **authToken**：授权token","type":"string","required":false,"example":"[{\\\"namespace\\\":\\\"aa\\\",\\\"authToken\\\":\\\"aa\\\"}]"}},{"name":"PersistenceDay","in":"formData","schema":{"title":"资产有效天数","description":"资产有效天数。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"SourceIp","in":"query","schema":{"description":"访问源的IP地址。","type":"string","required":false,"example":"41.121.XXX.XXX"}}],"responses":{"200":{"headers":{},"schema":{"title":"PlainResult<ImageRegistryInfo>","description":"仓库创建结果。","type":"object","properties":{"Data":{"description":"仓库创建结果。","type":"object","properties":{"Id":{"title":"唯一ID","description":"唯一ID。","type":"integer","format":"int64","example":"443496"},"GmtCreate":{"title":"创建日期","description":"创建时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","example":"2022-10-16 18:17:16"},"GmtModified":{"title":"更改日期","description":"更新时间，格式为yyyy-MM-dd HH:mm:ss。","type":"string","example":"2022-11-21 10:40:01"},"RegistryName":{"title":"镜像仓库别名","description":"镜像仓库别名。","type":"string","example":"fanyi"},"RegistryType":{"title":"容器镜像服务类型 harbor，quory","description":"镜像仓库类型。取值：\n\n- **CI/CD**：jenkins环境","type":"string","example":"CI/CD"},"ProtocolType":{"title":"协议类型 1：http 2:https","description":"协议类型。取值：\n- **1**：http\n- **2**：https","type":"integer","format":"int32","example":"1"},"NetType":{"title":"网络类型 1：公网 2：vpc","description":"网络类型。取值：\n- **1**：公网\n- **2**：vpc","type":"integer","format":"int32","example":"1"},"VpcId":{"title":"vpcId","description":"VPC的实例ID。","type":"string","example":"vpc-2vchkxmf2j9yjt3x2****"},"RegistryHostIp":{"title":"主机Ip地址","description":"仓库IP地址。","type":"string","example":"1.13.XXX.XXX"},"DomainName":{"title":"域名","description":"仓库域名。","type":"string","example":"example.com"},"UserName":{"title":"用户名","description":"用户名。","type":"string","example":"RegistryUser"},"Password":{"title":"密码","description":"密码。","type":"string","example":"Harbor******"},"RegionId":{"title":"镜像仓库所在的regionId","description":"仓库地域ID。","type":"string","example":"cn-shanghai"},"Token":{"title":"token 用户的唯一标识","description":"用户鉴权令牌。","type":"string","example":"3c3c602c-fa1f-4bc0-992f-b4b2cac7****"},"WhiteList":{"title":"白名单","description":"白名单。","type":"string","example":"192.168.XXX.XXX"},"BlackList":{"title":"黑名单","description":"黑名单。","type":"string","example":"61.9.XXX.XXX"},"TransPerHour":{"title":"每小时扫描任务数","description":"每小时扫描任务数。","type":"integer","format":"int32","example":"30"},"PersistenceDay":{"title":"资产保存天数","description":"资产保存天数。","type":"integer","format":"int32","example":"30"}}},"RequestId":{"description":"本次请求的ID。","type":"string","example":"1AF1E723-53F1-55BF-A4B2-15CB7A32****"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"TimeCost":{"description":"创建花费的时间，单位为秒。","type":"integer","format":"int64","example":"1"}}}}},"errorCodes":{"400":[{"errorCode":"NoPermission","errorMessage":"no permission"}],"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": {\\n    \\\"Id\\\": 443496,\\n    \\\"GmtCreate\\\": \\\"2022-10-16 18:17:16\\\",\\n    \\\"GmtModified\\\": \\\"2022-11-21 10:40:01\\\",\\n    \\\"RegistryName\\\": \\\"fanyi\\\",\\n    \\\"RegistryType\\\": \\\"CI/CD\\\",\\n    \\\"ProtocolType\\\": 1,\\n    \\\"NetType\\\": 1,\\n    \\\"VpcId\\\": \\\"vpc-2vchkxmf2j9yjt3x2****\\\",\\n    \\\"RegistryHostIp\\\": \\\"1.13.XXX.XXX\\\",\\n    \\\"DomainName\\\": \\\"example.com\\\",\\n    \\\"UserName\\\": \\\"RegistryUser\\\",\\n    \\\"Password\\\": \\\"Harbor******\\\",\\n    \\\"RegionId\\\": \\\"cn-shanghai\\\",\\n    \\\"Token\\\": \\\"3c3c602c-fa1f-4bc0-992f-b4b2cac7****\\\",\\n    \\\"WhiteList\\\": \\\"192.168.XXX.XXX\\\",\\n    \\\"BlackList\\\": \\\"61.9.XXX.XXX\\\",\\n    \\\"TransPerHour\\\": 30,\\n    \\\"PersistenceDay\\\": 30\\n  },\\n  \\\"RequestId\\\": \\\"1AF1E723-53F1-55BF-A4B2-15CB7A32****\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"TimeCost\\\": 1\\n}\",\"type\":\"json\"}]","title":"创建 jenkins 镜像仓（token）"}