{"summary":"查询微隔离拦截记录。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"HistoryName","in":"query","schema":{"description":"告警名称。","type":"string","required":false,"example":"异常访问。"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间戳。","type":"integer","format":"int64","required":false,"example":"1651290987000"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间戳。","type":"integer","format":"int64","required":false,"example":"1635575219000"}},{"name":"PageSize","in":"query","schema":{"description":"分页查询时，显示的每页数据的最大条数。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"CurrentPage","in":"query","schema":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"InterceptionTypes","in":"query","style":"repeatList","schema":{"description":"异常事件的类型。","type":"array","items":{"description":"异常事件的类型。取值：\n\n- **1**：拦截\n- **2**：告警","type":"integer","format":"int32","required":false,"example":"1"},"required":false,"maxItems":1000}},{"name":"ClusterId","in":"query","schema":{"description":"需要查询的容器集群ID。","type":"string","required":false,"example":"c7c190a82d9a048be9038d352840f****"}},{"name":"Lang","in":"query","schema":{"description":"设置请求和接收消息的语言类型。默认值**zh**。取值：\n\n\n- **zh**：中文\n- **en**：英文","type":"string","required":false,"example":"zh"}}],"responses":{"200":{"headers":{},"schema":{"description":"响应体。","type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"D81DD78E-E006-5C65-A171-C8CB0904****"},"PageInfo":{"description":"分页信息。","type":"object","properties":{"CurrentPage":{"description":"分页查询时，当前页的页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"分页查询时，显示的每页数据的最大条数。","type":"integer","format":"int32","example":"20"},"TotalCount":{"description":"查询到的数据总条数。","type":"integer","format":"int32","example":"45"},"Count":{"description":"分页查询时，当前页显示的数据条数。","type":"integer","format":"int32","example":"10"}}},"InterceptionHistoryList":{"description":"微隔离拦截记录。","type":"array","items":{"description":"微隔离拦截记录。","type":"object","properties":{"SrcNamespace":{"description":"源实例的命名空间。","type":"string","example":"service****"},"SrcRuleTargetName":{"description":"规则的源目标对象名。","type":"string","example":"sas-web****"},"RiskLevel":{"description":"风险等级。取值：\n\n- **-1**：未知\n- **0**：无\n- **1**：低危\n- **2**：中危\n- **3**：高危","type":"integer","format":"int64","example":"1"},"Status":{"description":"处理状态。取值：\n\n- **0**：未处理\n- **1**：已处理\n- **2**：手动处理\n- **3**：忽略","type":"integer","format":"int64","example":"1"},"DstPort":{"description":"规则配置的目的端口号。","type":"integer","format":"int64","example":"33"},"FirstTime":{"description":"当日首次时间戳。","type":"integer","format":"int64","example":"1639718858000"},"SrcAppName":{"description":"规则配置的源应用名称。","type":"string","example":"sas-web****"},"RuleId":{"description":"对应的规则ID。","type":"integer","format":"int64","example":"136"},"RuleName":{"description":"规则名称。","type":"string","example":"all****"},"InterceptionName":{"description":"告警名称。","type":"integer","format":"int64","example":"异常访问。"},"DstNamespace":{"description":"规则配置的目的命名空间。","type":"string","example":"service****"},"LastTime":{"description":"当日最新时间戳。","type":"integer","format":"int64","example":"1639731078000"},"DstAppName":{"description":"规则配置的目的应用名称。","type":"string","example":"sas-web****"},"DstRuleTargetName":{"description":"规则的目的目标对象名。","type":"string","example":"sas-web****"},"ClusterName":{"description":"集群名称。","type":"string","example":"opa-terway-nonet****"},"TryCount":{"description":"尝试次数。","type":"integer","format":"int32","example":"34"},"InterceptionType":{"description":"处理类型。取值：\n\n- **0**：观察\n- **1**：拦截\n- **2**：告警\n- **3**：放行","type":"integer","format":"int32","example":"0"},"RealInterceptionType":{"description":"实际命中的处理类型。取值：\n\n- **0**：观察\n- **1**：拦截\n- **2**：告警\n- **3**：放行","type":"integer","format":"int32","example":"0"},"Id":{"description":"告警的ID。","type":"integer","format":"int64","example":"1126"},"ClusterId":{"description":"容器集群的ID。","type":"string","example":"c556c8133b5ad4378b7fc533ddbda****"},"RealSrcAppName":{"description":"源应用名称。","type":"string","example":"sas-service****"},"RealSrcPodName":{"description":"源容器组。","type":"string","example":"sas-service-757b9d****"},"RealDstAppName":{"description":"目的应用名称。","type":"string","example":"sas-service****"},"RealDstPodName":{"description":"目的容器组。","type":"string","example":"sas-web-84cc7dd9****"},"RealDstNamespace":{"description":"目的命名空间。","type":"string","example":"service****"},"RealDstImageName":{"description":"目的镜像名称。","type":"string","example":"sas-servi****"},"RealSrcNamespace":{"description":"源命名空间。","type":"string","example":"service****"},"RealSrcImageName":{"description":"源镜像名称。","type":"string","example":"sas-servi****\n"}}}}}}}},"errorCodes":{"403":[{"errorCode":"NoPermission","errorMessage":"caller has no permission"}],"500":[{"errorCode":"ServerError","errorMessage":"ServerError"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D81DD78E-E006-5C65-A171-C8CB0904****\\\",\\n  \\\"PageInfo\\\": {\\n    \\\"CurrentPage\\\": 1,\\n    \\\"PageSize\\\": 20,\\n    \\\"TotalCount\\\": 45,\\n    \\\"Count\\\": 10\\n  },\\n  \\\"InterceptionHistoryList\\\": [\\n    {\\n      \\\"SrcNamespace\\\": \\\"service****\\\",\\n      \\\"SrcRuleTargetName\\\": \\\"sas-web****\\\",\\n      \\\"RiskLevel\\\": 1,\\n      \\\"Status\\\": 1,\\n      \\\"DstPort\\\": 33,\\n      \\\"FirstTime\\\": 1639718858000,\\n      \\\"SrcAppName\\\": \\\"sas-web****\\\",\\n      \\\"RuleId\\\": 136,\\n      \\\"RuleName\\\": \\\"all****\\\",\\n      \\\"InterceptionName\\\": 0,\\n      \\\"DstNamespace\\\": \\\"service****\\\",\\n      \\\"LastTime\\\": 1639731078000,\\n      \\\"DstAppName\\\": \\\"sas-web****\\\",\\n      \\\"DstRuleTargetName\\\": \\\"sas-web****\\\",\\n      \\\"ClusterName\\\": \\\"opa-terway-nonet****\\\",\\n      \\\"TryCount\\\": 34,\\n      \\\"InterceptionType\\\": 0,\\n      \\\"RealInterceptionType\\\": 0,\\n      \\\"Id\\\": 1126,\\n      \\\"ClusterId\\\": \\\"c556c8133b5ad4378b7fc533ddbda****\\\",\\n      \\\"RealSrcAppName\\\": \\\"sas-service****\\\",\\n      \\\"RealSrcPodName\\\": \\\"sas-service-757b9d****\\\",\\n      \\\"RealDstAppName\\\": \\\"sas-service****\\\",\\n      \\\"RealDstPodName\\\": \\\"sas-web-84cc7dd9****\\\",\\n      \\\"RealDstNamespace\\\": \\\"service****\\\",\\n      \\\"RealDstImageName\\\": \\\"sas-servi****\\\",\\n      \\\"RealSrcNamespace\\\": \\\"service****\\\",\\n      \\\"RealSrcImageName\\\": \\\"sas-servi****\\\\n\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询微隔离拦截记录"}