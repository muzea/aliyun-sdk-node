{"summary":"查询并获取数据集加速实例监控指标信息。","path":"/api/v1/instances/{InstanceId}/metrics/action/query","methods":["post"],"schemes":["http","https"],"tags":["Instance"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"path","schema":{"title":"监控指标所属的数据集加速实例Id。","description":"监控指标所属的数据集加速实例ID。如何获取加速实例ID，请参见[ListInstances](~~467899~~)。","type":"string","required":true,"example":"inst-abcdefgh12****"}},{"name":"Dimensions","in":"query","style":"json","schema":{"title":"监控指标的标签集，参考 Prometheus Label\n每种类型所包含的Labels不同，参考：类型详细信息\n仅接受预定义的Label Key，不支持自定义\n格式：key-value键值对形式的集合。","description":"监控指标的标签集。","type":"object","required":false,"example":"SlotIDs: xxx"}},{"name":"MetricType","in":"query","schema":{"title":"监控指标的类型：\nStorageUsage：存储使用量\nStorageUsageRatio：存储使用率\nCachedFileTotal：已缓存文件数量\nCachedTaskTotal：已缓存任务数","description":"监控指标的类型，取值如下：\n- NetworkReceiveBytesPerSecond：每秒网络请求接收量。\n- NetworkTransmitBytesPerSecond：每秒网络请求发送量。\n- FrontendThroughputBytes：前端服务吞吐。\n- FrontendLatencyMicrosecond：前端服务延迟。\n- FrontendIops：前端服务读取频率。","type":"string","required":true,"example":"NetworkReceiveBytesPerSecond","enum":["NetworkReceiveBytesPerSecond","NetworkTransmitBytesPerSecond","FrontendThroughputBytes","FrontendLatencyMicrosecond","FrontendIops"]}},{"name":"StartTime","in":"query","schema":{"title":"起始时间.默认是1小时前。","description":"起始时间，默认是1小时前。","type":"string","required":false,"example":"2020-11-08T15:00:00Z"}},{"name":"EndTime","in":"query","schema":{"title":"截止时间.默认是当前。","description":"截止时间，默认是当前时间。","type":"string","required":false,"example":"2020-11-08T16:00:00Z"}},{"name":"TimeStep","in":"query","schema":{"title":"时间间隔。","description":"时间间隔，单位为分钟。","type":"string","required":false,"example":"5m","default":"5m"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结果。","type":"object","properties":{"RequestId":{"title":"请求Id。","description":"请求ID。","type":"string","required":true,"example":"A731A84D-55C9-44F7-99BB-E1CF0CF19197"},"Metrics":{"title":"监控指标信息列表。","description":"监控指标信息列表。","type":"array","items":{"description":"Metric信息详情。","$ref":"#/components/schemas/Metric"}},"Period":{"title":"时间间隔。","description":"时间间隔。","type":"string","example":"60s"}}}},"400":{"schema":{"type":"object","properties":{"RequestId":{"title":"请求Id。","description":"请求Id。","type":"string","example":"9C5AEC16-CBD1-5E68-A92C-75D1D346E57F"},"Code":{"title":"语义化错误码。","description":"语义化错误码。","type":"string","example":"ValidationError"},"Message":{"title":"错误消息描述。","description":"错误消息描述。","type":"string","example":"Dataset Not Found: 1234"},"Detail":{"title":"错误详细信息。","description":"错误详细信息。","type":"object","properties":{"ErrorCode":{"title":"数字化错误码。","description":"数字化错误码。","type":"string","example":"5218847334401572965"}},"example":"-"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A731A84D-55C9-44F7-99BB-E1CF0CF19197\\\",\\n  \\\"Metrics\\\": [\\n    {\\n      \\\"Timestamp\\\": \\\"1655897743\\\",\\n      \\\"Value\\\": 98.35\\n    }\\n  ],\\n  \\\"Period\\\": \\\"60s\\\"\\n}\",\"type\":\"json\"}]","title":"获取数据集加速实例监控指标","description":"- 请求参数的作用类似于一个过滤器，过滤器为逻辑与（AND）关系。如果某一参数为空，则过滤器不起作用。\n- 在查询时，管控层会将InstanceId默认加入到筛选条件中，因此需要监控指标采集时关联到InstanceId上，方可被查询出来。"}