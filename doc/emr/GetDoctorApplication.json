{"description":"get one doctor analysis app","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get","abilityTreeNodes":["FEATUREemapreduceQEA007"]},"parameters":[{"name":"RegionId","in":"query","allowEmptyValue":false,"schema":{"title":"区域ID。","description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ClusterId","in":"query","allowEmptyValue":false,"schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":true,"example":"c-b933c5aac8fe****"}},{"name":"AppId","in":"query","allowEmptyValue":false,"schema":{"title":"app id","description":"任务提交到YARN的ID。","type":"string","required":true,"example":"application_1542620905989_****"}},{"name":"DateTime","in":"query","allowEmptyValue":false,"schema":{"description":"其日期和时间信息以ISO 8601格式表示，例如：2023年1月1日为 2023-01-01。","type":"string","required":true,"example":"2023-01-01"}}],"responses":{"200":{"schema":{"title":"返回数据","description":"返回数据","type":"object","properties":{"Data":{"description":"任务详情。","type":"object","properties":{"AppName":{"description":"任务名称。","type":"string","example":"CREATE TABLE test...ranks=1 (Stage-1)"},"Ids":{"description":"任务IDs,多个ID间使用英文逗号（,）分隔。","type":"array","items":{"description":"YARN的任务ID。","type":"string","example":"application_1643475036865_******"},"example":"null"},"User":{"description":"任务提交用户名。","type":"string","example":"DW"},"StartTime":{"description":"任务提交时间，Unix时间戳，单位毫秒。","type":"integer","format":"int64","example":"1677465658275"},"EndTime":{"description":"任务结束时间，Unix时间戳，单位毫秒。","type":"integer","format":"int64","example":"1666213200000"},"Queue":{"description":"任务提交到YARN的队列。","type":"string","example":"DW"},"Type":{"description":"计算引擎类型。","type":"string","example":"SPARK"},"QuerySql":{"description":"任务提交的SQL语句，非SQL任务为空。","type":"string","example":"SELECT id, count(1) FROM test group by id;"},"Metrics":{"description":"指标数据。","type":"object","properties":{"VcoreUtilization":{"description":"CPU使用率，同Linux Top的%CPU含义。","type":"object","properties":{"Name":{"description":"指标名称。","type":"string","enumValueTitles":{},"example":"vcoreUtilization"},"Value":{"description":"指标值。","type":"number","format":"float","example":"32.1"},"Unit":{"description":"指标单位。","type":"string","example":"“”"},"Description":{"description":"指标描述。","type":"string","example":"Ratio of used vcore to total available cores"}}},"MemUtilization":{"description":"内存使用率。","type":"object","properties":{"Name":{"description":"指标名称。","type":"string","enumValueTitles":{},"example":"memUtilization"},"Value":{"description":"指标值。","type":"number","format":"float","example":"0.82"},"Unit":{"description":"指标单位。","type":"string","example":"“”"},"Description":{"description":"指标描述。","type":"string","example":"Ratio of used memory to total available memory"}}},"VcoreSeconds":{"description":"CPU使用量。","type":"object","properties":{"Name":{"description":"指标名称。","type":"string","enumValueTitles":{},"example":"vcoreSeconds"},"Value":{"description":"指标值。","type":"integer","format":"int64","example":"11123"},"Unit":{"description":"指标单位。","type":"string","example":"VCores * Sec"},"Description":{"description":"指标描述。","type":"string","example":"Total vcore usage over time in seconds"}}},"MemSeconds":{"description":"内存使用量。","type":"object","properties":{"Name":{"description":"指标名称。","type":"string","enumValueTitles":{},"example":"memSeconds"},"Value":{"description":"指标值。","type":"integer","format":"int64","example":"12312312"},"Unit":{"description":"指标单位。","type":"string","example":"MB * Sec"},"Description":{"description":"指标描述。","type":"string","example":"Total memory usage over time in seconds"}}}}},"Analysis":{"description":"任务分析。","type":"object","properties":{"Score":{"description":"任务评分。","type":"integer","format":"int32","example":"67"},"Suggestion":{"description":"任务运行建议。","type":"string","example":"##### 当前节点：container\n##### 存在问题：\n最大内存利用率为7.75%，利用率较低\n\n\n尝试减小Tez Container内存，可通过hive.tez.container.size进行设置\n\n"}}}}},"RequestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"DD6B1B2A-5837-5237-ABE4-FF0C8944****"}}}}},"errorCodes":{"400":[{"errorCode":"ConflictParameters","errorMessage":"Parameters that must not be used together. %s"},{"errorCode":"IncompleteSignature","errorMessage":"The request signature is invalid."},{"errorCode":"InvalidAction","errorMessage":"The action %s requested is invalid."},{"errorCode":"InvalidParameter","errorMessage":"The specified parameter %s is not valid."},{"errorCode":"InvalidParameterValue","errorMessage":"The input parameter %s is invalid or out of range."},{"errorCode":"MissingAction","errorMessage":"The action %s requested is missing."},{"errorCode":"MissingParameter","errorMessage":"The input parameter %s that is mandatory for processing this request is not supplied."},{"errorCode":"NotAuthorized","errorMessage":"You do not have permission to perform this action. %s"},{"errorCode":"ThrottlingException","errorMessage":"The request was denied due to request throttling. %s"}],"404":[{"errorCode":"ResourceNotFound","errorMessage":"The resource not found by %s."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}],"503":[{"errorCode":"ServiceFailure","errorMessage":"The request has failed due to a temporary failure of %s service."},{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": {\\n    \\\"AppName\\\": \\\"CREATE TABLE test...ranks=1 (Stage-1)\\\",\\n    \\\"Ids\\\": [\\n      \\\"application_1643475036865_******\\\"\\n    ],\\n    \\\"User\\\": \\\"DW\\\",\\n    \\\"StartTime\\\": 1677465658275,\\n    \\\"EndTime\\\": 1666213200000,\\n    \\\"Queue\\\": \\\"DW\\\",\\n    \\\"Type\\\": \\\"SPARK\\\",\\n    \\\"QuerySql\\\": \\\"SELECT id, count(1) FROM test group by id;\\\",\\n    \\\"Metrics\\\": {\\n      \\\"VcoreUtilization\\\": {\\n        \\\"Name\\\": \\\"vcoreUtilization\\\",\\n        \\\"Value\\\": 32.1,\\n        \\\"Unit\\\": \\\"“”\\\",\\n        \\\"Description\\\": \\\"Ratio of used vcore to total available cores\\\"\\n      },\\n      \\\"MemUtilization\\\": {\\n        \\\"Name\\\": \\\"memUtilization\\\",\\n        \\\"Value\\\": 0.82,\\n        \\\"Unit\\\": \\\"“”\\\",\\n        \\\"Description\\\": \\\"Ratio of used memory to total available memory\\\"\\n      },\\n      \\\"VcoreSeconds\\\": {\\n        \\\"Name\\\": \\\"vcoreSeconds\\\",\\n        \\\"Value\\\": 11123,\\n        \\\"Unit\\\": \\\"VCores * Sec\\\",\\n        \\\"Description\\\": \\\"Total vcore usage over time in seconds\\\"\\n      },\\n      \\\"MemSeconds\\\": {\\n        \\\"Name\\\": \\\"memSeconds\\\",\\n        \\\"Value\\\": 12312312,\\n        \\\"Unit\\\": \\\"MB * Sec\\\",\\n        \\\"Description\\\": \\\"Total memory usage over time in seconds\\\"\\n      }\\n    },\\n    \\\"Analysis\\\": {\\n      \\\"Score\\\": 67,\\n      \\\"Suggestion\\\": \\\"##### 当前节点：container\\\\n##### 存在问题：\\\\n最大内存利用率为7.75%，利用率较低\\\\n\\\\n\\\\n尝试减小Tez Container内存，可通过hive.tez.container.size进行设置\\\\n\\\\n\\\"\\n    }\\n  },\\n  \\\"RequestId\\\": \\\"DD6B1B2A-5837-5237-ABE4-FF0C8944****\\\"\\n}\",\"type\":\"json\"}]","title":"获取单个任务分析结果","summary":"通过EMR Doctor获取任务分析信息。"}