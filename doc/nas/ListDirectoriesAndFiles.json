{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"FileSystemId","in":"query","schema":{"description":"文件系统ID。","type":"string","required":true,"docRequired":true,"example":"31a8e4****"}},{"name":"Path","in":"query","schema":{"description":"指定目录的绝对路径。\n\n必须以正斜线（/）开头，并且是挂载点中真实存在的路径。","type":"string","required":true,"docRequired":true,"example":"/pathway/to/folder"}},{"name":"NextToken","in":"query","schema":{"description":"当请求的返回结果被截断时，您可以使用NextToken再次发起请求，获取从当前截断位置之后的内容。","type":"string","required":false,"example":"TGlzdFJlc291cmNlU****mVzJjE1MTI2NjY4NzY5MTAzOTEmMiZORnI4NDhVeEtrUT0=\t"}},{"name":"StorageType","in":"query","schema":{"description":"分级存储类型。\n- InfrequentAccess：低频存储。\n- Archive：归档存储。\n- All：查询所有存储数据。\n> 当StorageType取值为ALL时，必须配置DirectoryOnly参数，且值为true.","type":"string","required":true,"docRequired":true,"example":"InfrequentAccess","enum":["InfrequentAccess","All","Archive"]}},{"name":"DirectoryOnly","in":"query","schema":{"description":"是否只查询目录。\n\n取值：\n\n- false（默认值）：否，可以查询目录或文件\n- true：是，只查询目录\n> 当StorageType取值为All时，DirectoryOnly取值为true，不能为false。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"MaxResults","in":"query","schema":{"description":"每次查询结果中包含的目录或文件的个数。\n\n取值范围：10~128\n\n默认值：100","type":"integer","format":"int64","required":false,"maximum":"128","minimum":"10","example":"100","default":"100"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"description":"当请求的返回结果被截断时，您可以使用NextToken再次发起请求，获取从当前截断位置之后的内容。","type":"string","example":"TGlzdFJlc291cmNlU****mVzJjE1MTI2NjY4NzY5MTAzOTEmMiZORnI4NDhVeEtrUT0="},"RequestId":{"description":"请求ID。","type":"string","example":"2D69A58F-345C-4FDE-88E4-BF518948****"},"Entries":{"description":"目录或文件信息集合。","type":"array","items":{"description":"目录或文件信息集合。","type":"object","properties":{"Type":{"description":"返回结果的类型。\n\n包括：\n\n- File：文件\n- Directory：目录","type":"string","example":"File"},"HasInfrequentAccessFile":{"description":"是否包含低频存储文件。\n\n仅当Type为Directory时，返回该值且有意义。\n\n包括：\n\n- true：包含\n- false：不包含","type":"boolean","example":"true"},"Ctime":{"description":"元数据修改时间。\n\n执行ISO8601标准表示，返回格式：`yyyy-MM-ddTHH:mm:ssZ`。\n\n仅当Type为File时，返回该值且有意义。","type":"string","example":"2021-02-11T10:08:10Z"},"Mtime":{"description":"文件修改时间。\n\n执行ISO8601标准表示，返回格式：`yyyy-MM-ddTHH:mm:ssZ`。\n\n仅当Type为File时，返回该值且有意义。","type":"string","example":"2021-02-11T10:08:08Z"},"Size":{"description":"文件的大小。\n\n单位：Byte（字节）\n\n仅当Type为File时，返回该值且有意义。","type":"integer","format":"int64","example":"1024"},"StorageType":{"description":"返回文件的分级存储类型。\n\n仅当Type为File时，返回该值且有意义。\n\n包括：\n- InfrequentAccess：低频存储。\n- Archive：归档存储。","type":"string","example":"InfrequentAccess"},"Atime":{"description":"查询时间。\n\n执行ISO8601标准表示，返回格式：`yyyy-MM-ddTHH:mm:ssZ`。\n\n仅当Type为File时，返回该值且有意义。","type":"string","example":"2021-02-01T10:08:08Z"},"Name":{"description":"文件名或目录名。","type":"string","example":"file.txt"},"RetrieveTime":{"description":"距现在最近一次数据取回任务执行的时间。\n\n执行ISO8601标准表示，返回格式：`yyyy-MM-ddTHH:mm:ssZ`。\n\n仅当Type为File时，返回该值且有意义。","type":"string","example":"2021-02-11T10:08:08Z"},"Inode":{"description":"文件或目录inode。","type":"string","example":"66"},"FileId":{"description":"目录或文件的FileId。","type":"string","example":"66"},"Owner":{"description":"便携账号ID。\n仅当ProtocolType=SMB且开启访问控制时，该返回值具有意义。","type":"string","example":"37862c****"},"HasArchiveFile":{"description":"是否包含归档存储文件。\n\n仅当Type为Directory时，返回该值且有意义。\n\n包括：\n\n- true：包含\n- false：不包含","type":"string","example":"true"}}}}}}}},"errorCodes":{"400":[{"errorCode":"OperationDenied.InvalidNextToken","errorMessage":"The specified NextToken is invalid."}],"404":[{"errorCode":"InvalidFileSystem.NotFound","errorMessage":"The specified file system does not exist."},{"errorCode":"InvalidParameter.PathNotExist","errorMessage":"The specified path does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"TGlzdFJlc291cmNlU****mVzJjE1MTI2NjY4NzY5MTAzOTEmMiZORnI4NDhVeEtrUT0=\\\",\\n  \\\"RequestId\\\": \\\"2D69A58F-345C-4FDE-88E4-BF518948****\\\",\\n  \\\"Entries\\\": [\\n    {\\n      \\\"Type\\\": \\\"File\\\",\\n      \\\"HasInfrequentAccessFile\\\": true,\\n      \\\"Ctime\\\": \\\"2021-02-11T10:08:10Z\\\",\\n      \\\"Mtime\\\": \\\"2021-02-11T10:08:08Z\\\",\\n      \\\"Size\\\": 1024,\\n      \\\"StorageType\\\": \\\"InfrequentAccess\\\",\\n      \\\"Atime\\\": \\\"2021-02-01T10:08:08Z\\\",\\n      \\\"Name\\\": \\\"file.txt\\\",\\n      \\\"RetrieveTime\\\": \\\"2021-02-11T10:08:08Z\\\",\\n      \\\"Inode\\\": \\\"66\\\",\\n      \\\"FileId\\\": \\\"66\\\",\\n      \\\"Owner\\\": \\\"37862c****\\\",\\n      \\\"HasArchiveFile\\\": \\\"true\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListDirectoriesAndFilesResponse>\\n    <NextToken>TGlzdFJlc291cmNlU****mVzJjE1MTI2NjY4NzY5MTAzOTEmMiZORnI4NDhVeEtrUT0=</NextToken>\\n    <RequestId>2D69A58F-345C-4FDE-88E4-BF518948****</RequestId>\\n    <Entries>\\n        <Type>File</Type>\\n        <HasInfrequentAccessFile>true</HasInfrequentAccessFile>\\n        <Ctime>2021-02-11T10:08:10Z</Ctime>\\n        <Mtime>2021-02-11T10:08:08Z</Mtime>\\n        <Size>1024</Size>\\n        <StorageType>InfrequentAccess</StorageType>\\n        <Atime>2021-02-01T10:08:08Z</Atime>\\n        <Name>file.txt</Name>\\n        <RetrieveTime>2021-02-11T10:08:08Z</RetrieveTime>\\n        <Inode>66</Inode>\\n        <FileId>66</FileId>\\n        <Owner>37862c****</Owner>\\n    </Entries>\\n</ListDirectoriesAndFilesResponse>\",\"errorExample\":\"\"}]","title":"查询目录和文件列表","summary":"获取通用型NAS指定目录下的低频存储文件和包含低频存储文件的子目录列表。","description":"仅通用型NAS文件系统支持该功能。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}