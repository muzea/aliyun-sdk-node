{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"全球加速实例所在的地域ID，仅取值**cn-hangzhou**。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ListenerId","in":"query","schema":{"description":"要查询的监听的ID。","type":"string","required":true,"example":"lsr-bp1bpn0kn908w4nbw****"}}],"responses":{"200":{"schema":{"description":"返回信息列表。","type":"object","properties":{"Description":{"description":"监听的描述信息。","type":"string","example":"Listener"},"RequestId":{"description":"请求ID。","type":"string","example":"6FEA0CF3-D3B9-43E5-A304-D217037876A8\t"},"State":{"description":"监听的状态。\n\n- **configuring**：配置中。\n\n- **init**：初始化。\n\n- **updating**：更新中。\n\n- **deleting**：删除中。","type":"string","example":"active"},"CreateTime":{"description":"创建监听的时间戳。单位：毫秒。","type":"string","example":"1577786252000"},"PortRanges":{"description":"监听端口信息。","type":"array","items":{"description":"监听端口信息。","type":"object","properties":{"FromPort":{"description":"用来接收请求并向终端节点进行转发的起始监听端口。","type":"integer","format":"int32","example":"20"},"ToPort":{"description":"用来接收请求并向终端节点进行转发的结束监听端口。","type":"integer","format":"int32","example":"20"}}}},"BackendPorts":{"description":"后端端口信息。","type":"array","items":{"description":"后端端口范围。","type":"object","properties":{"FromPort":{"description":"后端服务器接收请求的起始端口。\n\n当您的监听协议为HTTPS，且监听的端口和后端服务器提供服务的端口一致时才会返回该项。","type":"string","example":"80"},"ToPort":{"description":"后端服务器接收请求的结束端口。","type":"string","example":"80"}}}},"Certificates":{"description":"SSL证书列表。","type":"array","items":{"description":"SSL证书列表。","type":"object","properties":{"Type":{"description":"证书类型。\n\n目前，仅支持返回**Server**（服务端证书）。","type":"string","example":"Server"},"Id":{"description":"SSL证书ID。\n","type":"string","example":"449****-cn-hangzhou"}}}},"Protocol":{"description":"监听的网络传输协议类型。\n- **tcp**：TCP协议。\n- **udp**：UDP协议。\n- **http**：HTTP协议。\n- **https**：HTTPS协议。","type":"string","example":"tcp"},"ListenerId":{"description":"监听ID。","type":"string","example":"lsr-bp1bpn0kn908w4nbw****"},"ClientAffinity":{"description":"客户端亲和性。\n\n- 返回为**NONE**时：不保持客户端亲和性，即不能确保来自同一客户端的连接请求始终定向到同一终端节点。\n\n- 返回为**SOURCE_IP**时，保持客户端亲和性。即客户端访问有状态的应用程序时，可以将来自同一客户端的所有请求都定向到同一终端节点，而不考虑源端口和协议。","type":"string","example":"SOURCE_IP"},"Name":{"description":"监听的名称。","type":"string","example":"Listener"},"RelatedAcls":{"description":"监听绑定的访问控制策略组信息。","type":"array","items":{"description":"监听绑定的访问控制策略组信息。","type":"object","properties":{"AclId":{"description":"监听绑定的访问策略组ID。","type":"string","example":"123"},"Status":{"description":"是否开启了访问控制功能。\n\n- **on**：已开启。\n- **off**：未开启。","type":"string","example":"off"}}}},"AclType":{"description":"访问控制类型：\n- **white**：仅转发来自所选访问控制策略组中设置的IP地址或地址段的请求，白名单适用于应用只允许特定IP访问的场景。设置白名单存在一定业务风险。一旦设置白名单，就只有白名单中的IP可以访问全球加速监听。如果开启了白名单访问，但访问策略组中没有添加任何IP，则全球加速监听不会转发请求。\n- **black**：来自所选访问控制策略组中设置的IP地址或地址段的所有请求都不会转发，黑名单适用于应用只限制某些特定IP访问的场景。如果开启了黑名单访问，但访问策略组中没有添加任何IP，则全球加速监听会转发全部请求。\n\n当**Status**参数的值为**on**时，返回该项。","type":"string","example":"white"},"AcceleratorId":{"description":"全球加速实例ID。","type":"string","example":"ga-bp1odcab8tmno0hdq****"},"ProxyProtocol":{"description":"是否开启了保持客户端源IP功能。\n- **true**：开启了保持客户端源IP功能。开启后，支持后端服务查看客户端的原始IP地址。\n- **false**：未开启保持客户端源IP功能。","type":"boolean","example":"false"},"XForwardedForConfig":{"description":"`XForward`字段配置信息。","type":"object","properties":{"XForwardedForGaIdEnabled":{"description":"是否通过`GA-ID`头字段获取全球加速实例ID。\n- **true**：是。\n- **false**：否。\n\n> 仅HTTP和HTTPS监听支持此参数。","type":"boolean","example":"false"},"XForwardedForGaApEnabled":{"description":"是否通过`GA-AP`字段获取加速地域信息。\n- **true**：是。\n- **false**：否。\n\n> 仅HTTP和HTTPS监听支持此参数。","type":"boolean","example":"false"},"XForwardedForProtoEnabled":{"description":"是否通过`GA-X-Forward-Proto`字段获取全球加速实例的监听协议。\n- **true**：是。\n- **false**：否。\n\n> 仅HTTP和HTTPS监听支持此参数。","type":"boolean","example":"false"},"XForwardedForPortEnabled":{"description":"是否通过`GA-X-Forward-Port`字段获取全球加速实例的监听端口。\n- **true**：是。\n- **false**：否。\n\n> 仅HTTP和HTTPS监听支持此参数。","type":"boolean","example":"false"},"XRealIpEnabled":{"description":"是否通过`X-Real-IP`字段获取真实的客户端IP。\n- **true**：是。\n- **false**：否。\n\n> 仅HTTP和HTTPS监听支持此参数。","type":"boolean","example":"false"}}},"SecurityPolicyId":{"description":"安全策略实例ID。\n\n- **tls_cipher_policy_1_0**\n\n    - 支持的TLS版本：TLSv1.0、TLSv1.1和TLSv1.2。\n\n    - 支持的加密算法套件：ECDHE-RSA-AES128-GCM-SHA256、ECDHE-RSA-AES256-GCM-SHA384、ECDHE-RSA-AES128-SHA256、ECDHE-RSA-AES256-SHA384、AES128-GCM-SHA256、AES256-GCM-SHA384、AES128-SHA256、AES256-SHA256、ECDHE-RSA-AES128-SHA、ECDHE-RSA-AES256-SHA、AES128-SHA、AES256-SHA和DES-CBC3-SHA。\n\n- **tls_cipher_policy_1_1**\n\n    - 支持的TLS版本： TLSv1.1和TLSv1.2。\n\n    - 支持的加密算法套件：ECDHE-RSA-AES128-GCM-SHA256、ECDHE-RSA-AES256-GCM-SHA384、ECDHE-RSA-AES128-SHA256、ECDHE-RSA-AES256-SHA384、AES128-GCM-SHA256、AES256-GCM-SHA384、AES128-SHA256、AES256-SHA256、ECDHE-RSA-AES128-SHA、ECDHE-RSA-AES256-SHA、AES128-SHA、AES256-SHA和DES-CBC3-SHA。\n\n- **tls_cipher_policy_1_2**\n\n    - 支持的TLS版本：TLSv1.2。\n\n    - 支持的加密算法套件：ECDHE-RSA-AES128-GCM-SHA256、ECDHE-RSA-AES256-GCM-SHA384、ECDHE-RSA-AES128-SHA256、ECDHE-RSA-AES256-SHA384、AES128-GCM-SHA256、AES256-GCM-SHA384、AES128-SHA256、AES256-SHA256、ECDHE-RSA-AES128-SHA、ECDHE-RSA-AES256-SHA、AES128-SHA、AES256-SHA和DES-CBC3-SHA。\n\n- **tls_cipher_policy_1_2_strict**\n\n    - 支持的TLS版本：TLSv1.2。\n\n    - 支持的加密算法套件：ECDHE-RSA-AES128-GCM-SHA256、ECDHE-RSA-AES256-GCM-SHA384、ECDHE-RSA-AES128-SHA256、ECDHE-RSA-AES256-SHA384、ECDHE-RSA-AES128-SHA和ECDHE-RSA-AES256-SHA。\n\n- **tls_cipher_policy_1_2_strict_with_1_3**\n\n    - 支持的TLS版本：TLSv1.2及TLSv1.3。\n\n    - 支持的加密算法套件：TLS_AES_128_GCM_SHA256、TLS_AES_256_GCM_SHA384、TLS_CHACHA20_POLY1305_SHA256、TLS_AES_128_CCM_SHA256、TLS_AES_128_CCM_8_SHA256、ECDHE-ECDSA-AES128-GCM-SHA256、ECDHE-ECDSA-AES256-GCM-SHA384、ECDHE-ECDSA-AES128-SHA256、ECDHE-ECDSA-AES256-SHA384、ECDHE-RSA-AES128-GCM-SHA256、ECDHE-RSA-AES256-GCM-SHA384、ECDHE-RSA-AES128-SHA256、ECDHE-RSA-AES256-SHA384、ECDHE-ECDSA-AES128-SHA、ECDHE-ECDSA-AES256-SHA、ECDHE-RSA-AES128-SHA、ECDHE-RSA-AES256-SHA。\n\n> 仅HTTPS监听支持此参数。","type":"string","example":"tls_cipher_policy_1_0"},"Type":{"description":"监听的路由类型。\n\n- **Standard**：智能路由类型。\n\n- **CustomRouting**：自定义路由类型。","type":"string","example":"Standard"},"ServiceId":{"description":"托管实例所属的服务方ID。\n> 仅在**ServiceManaged**参数为**True**时有效。","type":"string","example":"ALB"},"ServiceManaged":{"description":"是否为托管实例。取值：\n- **true**：是托管实例。\n- **false**：不是托管实例。","type":"boolean","example":"true"},"ServiceManagedInfos":{"description":"用户在此托管实例下可执行的动作策略列表。\n> -  仅在**ServiceManaged**参数为**True**时有效。\n> - 当实例处于托管状态时，用户对实例的操作会受到限制，某些操作行为会被禁止。","type":"array","items":{"description":"用户在此托管实例下可执行的动作策略列表。","type":"object","properties":{"Action":{"description":"托管策略动作名称，取值：\n- **Create**：创建实例。\n- **Update**：更新当前实例。\n- **Delete**：删除当前实例。\n- **Associate**：引用/被引用当前实例。\n- **UserUnmanaged**：用户解托管实例。\n- **CreateChild**：在当前实例下创建子资源。","type":"string","example":"Update"},"ChildType":{"description":"子资源类型，取值：\n- **Listener**：监听资源。\n- **IpSet**：加速地域资源。\n- **EndpointGroup**：终端节点组资源。\n- **ForwardingRule**：转发策略资源。\n- **Endpoint**：终端节点资源。\n- **EndpointGroupDestination**：自定义路由监听下的终端节点组协议映射资源。\n- **EndpointPolicy**：自定义路由监听下的终端节点通行策略资源。\n> 仅在**Action**参数为**CreateChild**时有效。","type":"string","example":"Listener"},"IsManaged":{"description":"托管策略动作是否被托管，取值：\n- **true**：托管策略动作被托管，用户无权在托管实例下执行Action指定的操作。\n- **false**：托管策略动作未被托管，用户可在托管实例下执行Action指定的操作。","type":"boolean","example":"false"}}}},"IdleTimeout":{"description":"连接空闲超时时间。单位：秒。","type":"integer","format":"int32","example":"900"},"RequestTimeout":{"description":"HTTP/HTTPS的连接请求超时时间。单位：秒。\n>仅对Protocol（网络传输协议类型）为HTTP或HTTPS的监听有效。如果在超时时间内后端服务器一直没有响应，全球加速将放弃等待，并给客户端返回HTTP 504错误码。","type":"integer","format":"int32","example":"60"},"HttpVersion":{"description":"HTTP协议的最大版本，取值：\n- **http3**：HTTP/3。\n- **http2**：HTTP/2。\n- **http1.1**：HTTP/1.1。\n> 仅HTTPS监听支持此参数。","type":"string","example":"http2"}}}}},"errorCodes":{"400":[{"errorCode":"NotExist.Listener","errorMessage":"listener %s is not exist"}],"500":[{"errorCode":"UnknownError","errorMessage":"An error occurred while processing your request. Please try again. If the error persists, please submit a ticket."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Description\\\": \\\"Listener\\\",\\n  \\\"RequestId\\\": \\\"6FEA0CF3-D3B9-43E5-A304-D217037876A8\\\\t\\\",\\n  \\\"State\\\": \\\"active\\\",\\n  \\\"CreateTime\\\": \\\"1577786252000\\\",\\n  \\\"PortRanges\\\": [\\n    {\\n      \\\"FromPort\\\": 20,\\n      \\\"ToPort\\\": 20\\n    }\\n  ],\\n  \\\"BackendPorts\\\": [\\n    {\\n      \\\"FromPort\\\": \\\"80\\\",\\n      \\\"ToPort\\\": \\\"80\\\"\\n    }\\n  ],\\n  \\\"Certificates\\\": [\\n    {\\n      \\\"Type\\\": \\\"Server\\\",\\n      \\\"Id\\\": \\\"449****-cn-hangzhou\\\"\\n    }\\n  ],\\n  \\\"Protocol\\\": \\\"tcp\\\",\\n  \\\"ListenerId\\\": \\\"lsr-bp1bpn0kn908w4nbw****\\\",\\n  \\\"ClientAffinity\\\": \\\"SOURCE_IP\\\",\\n  \\\"Name\\\": \\\"Listener\\\",\\n  \\\"RelatedAcls\\\": [\\n    {\\n      \\\"AclId\\\": \\\"123\\\",\\n      \\\"Status\\\": \\\"off\\\"\\n    }\\n  ],\\n  \\\"AclType\\\": \\\"white\\\",\\n  \\\"AcceleratorId\\\": \\\"ga-bp1odcab8tmno0hdq****\\\",\\n  \\\"ProxyProtocol\\\": false,\\n  \\\"XForwardedForConfig\\\": {\\n    \\\"XForwardedForGaIdEnabled\\\": false,\\n    \\\"XForwardedForGaApEnabled\\\": false,\\n    \\\"XForwardedForProtoEnabled\\\": false,\\n    \\\"XForwardedForPortEnabled\\\": false,\\n    \\\"XRealIpEnabled\\\": false\\n  },\\n  \\\"SecurityPolicyId\\\": \\\"tls_cipher_policy_1_0\\\",\\n  \\\"Type\\\": \\\"Standard\\\",\\n  \\\"ServiceId\\\": \\\"ALB\\\",\\n  \\\"ServiceManaged\\\": true,\\n  \\\"ServiceManagedInfos\\\": [\\n    {\\n      \\\"Action\\\": \\\"Update\\\",\\n      \\\"ChildType\\\": \\\"Listener\\\",\\n      \\\"IsManaged\\\": false\\n    }\\n  ],\\n  \\\"IdleTimeout\\\": 900,\\n  \\\"RequestTimeout\\\": 60,\\n  \\\"HttpVersion\\\": \\\"http2\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeListenerResponse>\\n    <Description>Listener</Description>\\n    <RequestId>6FEA0CF3-D3B9-43E5-A304-D217037876A8\\t</RequestId>\\n    <State>active</State>\\n    <CreateTime>1577786252000</CreateTime>\\n    <PortRanges>\\n        <FromPort>20</FromPort>\\n        <ToPort>20</ToPort>\\n    </PortRanges>\\n    <BackendPorts>\\n        <FromPort>80</FromPort>\\n        <ToPort>80</ToPort>\\n    </BackendPorts>\\n    <Certificates>\\n        <Type>Server</Type>\\n        <Id>449****-cn-hangzhou</Id>\\n    </Certificates>\\n    <Protocol>TCP</Protocol>\\n    <ListenerId>lsr-bp1bpn0kn908w4nbw****</ListenerId>\\n    <ClientAffinity>SOURCE_IP</ClientAffinity>\\n    <Name>Listener</Name>\\n    <RelatedAcls>\\n        <AclId>123</AclId>\\n        <Status>off</Status>\\n    </RelatedAcls>\\n    <AclType>white</AclType>\\n    <AcceleratorId>ga-bp1odcab8tmno0hdq****</AcceleratorId>\\n    <ProxyProtocol>false</ProxyProtocol>\\n    <XForwardedForConfig>\\n        <XForwardedForGaIdEnabled>false</XForwardedForGaIdEnabled>\\n        <XForwardedForGaApEnabled>false</XForwardedForGaApEnabled>\\n        <XForwardedForProtoEnabled>false</XForwardedForProtoEnabled>\\n        <XForwardedForPortEnabled>false</XForwardedForPortEnabled>\\n        <XRealIpEnabled>false</XRealIpEnabled>\\n    </XForwardedForConfig>\\n    <SecurityPolicyId>tls_cipher_policy_1_0</SecurityPolicyId>\\n    <Type>Standard</Type>\\n</DescribeListenerResponse>\",\"errorExample\":\"\"}]","title":"查询监听","summary":"调用DescribeListener接口查询指定监听的配置信息。","description":"本接口用于查询指定监听的配置信息，包括监听的路由类型、状态、创建的时间戳、端口信息等。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}