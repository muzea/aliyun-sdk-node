{"summary":"调用CreateApplicationMonitor接口创建源站探测任务。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"全球加速实例所属的地域ID，仅取值：**cn-hangzhou**。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。\n\n> 若您未指定，则系统自动使用API请求的**RequestId**作为**ClientToken**标识。每次API请求的**RequestId**不一样。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}},{"name":"AcceleratorId","in":"query","schema":{"description":"需要探测的全球加速实例ID。","type":"string","required":true,"example":"ga-bp1odcab8tmno0hdq****"}},{"name":"ListenerId","in":"query","schema":{"description":"需要探测的监听实例ID。","type":"string","required":true,"example":"lsr-bp1bpn0kn908w4nbw****"}},{"name":"TaskName","in":"query","schema":{"description":"源站探测的任务名称。\n\n名称长度为 1~128 个字符，以大小写字母或中文开头，可包含数字、半角句号（.）下划线（_）和短划线（-）。","type":"string","required":true,"example":"task1"}},{"name":"Address","in":"query","schema":{"description":"需要探测的URL或IP地址。","type":"string","required":true,"example":"https://www.aliyun.com"}},{"name":"OptionsJson","in":"query","schema":{"description":"源站探测任务对应监听协议类型的高级扩展选项。不同源站探测任务的监听协议类型对应不同的扩展选项。","type":"string","required":false,"example":"{ \"http_method\": \"get\",\"header\": \"key:asd\",\"acceptable_response_code\": \"500\",\"cert_verify\": true }"}},{"name":"DetectEnable","in":"query","schema":{"description":"是否开启自动诊断功能。取值：\n\n- **true**：是。\n\n- **false**（默认值）：否。","type":"boolean","required":false,"example":"false"}},{"name":"DetectThreshold","in":"query","schema":{"description":"设置自动诊断触发阈值。单位：%。\n\n取值范围：**0**~**100**。\n\n默认值：**0**，表示不触发自动诊断。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"0","example":"0","default":"0"}},{"name":"DetectTimes","in":"query","schema":{"description":"触发自动诊断需要达到触发阈值的次数。\n\n取值范围：**1**~**20**。默认值：**1**。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"SilenceTime","in":"query","schema":{"description":"自动诊断触发沉默时间。表示自动诊断触发后，未恢复到正常，间隔多久触发一次自动诊断。\n\n可用率连续多次（即设置的**DetectTimes**）低于自动诊断触发阈值时，触发自动诊断，如果可用率在自动诊断触发沉默时间内持续低于自动诊断触发阈值，在自动诊断触发沉默时间内不会重复出发自动诊断；如果可用率在自动诊断触发沉默时间后仍未恢复正常，则再次触发自动诊断。\n\n单位：秒。取值范围：**300**~**86400**。默认值：**300**。","type":"integer","format":"int32","required":false,"example":"300"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回请求列表。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"04F0F334-1335-436C-A1D7-6C044FE73368"},"TaskId":{"description":"源站探测的任务ID。","type":"string","example":"sm-bp1fpdjfju9k8yr1y****"}}}}},"errorCodes":{"400":[{"errorCode":"NotExist.Listener","errorMessage":"The listener does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"04F0F334-1335-436C-A1D7-6C044FE73368\\\",\\n  \\\"TaskId\\\": \\\"sm-bp1fpdjfju9k8yr1y****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateApplicationMonitorResponse>\\n    <RequestId>04F0F334-1335-436C-A1D7-6C044FE73368</RequestId>\\n    <TaskId>sm-bp1fpdjfju9k8yr1y****</TaskId>\\n</CreateApplicationMonitorResponse>\",\"errorExample\":\"\"}]","title":"创建源站探测任务","description":"您可以使用**CreateApplicationMonitor**接口创建源站探测任务，实时监测从探测点经过全球加速至源站的全链路网络质量，从而快速定位网络故障，针对性的进行网络优化。\n\n调用本接口，请注意以下事项：\n\n- 仅包年包月、中型Ⅰ及以上规格的标准型全球加速实例支持创建源站探测任务。\n- 不支持为UDP协议监听创建源站探测任务。\n- 监控地址的服务端口需在监听端口范围内。\n- **CreateApplicationMonitor**接口属于异步接口，即系统会先返回一个源站探测的任务ID，但源站探测任务并未创建完成，系统后台的创建任务仍在进行。您可以调用[DescribeApplicationMonitor](~~408463~~)或[ListApplicationMonitor](~~408462~~)查询源站探测任务的状态：\n\n    - 当源站探测任务处于**init**状态时，表示源站探测任务正在创建中，在该状态下，您只能执行查询操作，不能执行其他操作。\n\n    - 当源站探测任务处于**active**状态时，表示源站探测任务创建完成。\n\n- **CreateApplicationMonitor**接口不支持在同一个全球加速实例内并发创建源站探测任务。"}