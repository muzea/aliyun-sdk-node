{"summary":"获取所有已部署作业的信息。","path":"/api/v2/namespaces/{namespace}/deployments","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","abilityTreeCode":"146799","abilityTreeNodes":["FEATUREscB9XR98"]},"parameters":[{"name":"workspace","in":"header","schema":{"title":"工作空间ID。","description":"工作空间ID。","type":"string","required":true,"example":"a14bd5d90a****"}},{"name":"namespace","in":"path","schema":{"title":"项目空间名称。","description":"项目空间名称。","type":"string","required":true,"example":"default-namespace"}},{"name":"pageSize","in":"query","schema":{"title":"分页参数，所请求页码的元素数量，默认值为10，最大值100。","description":"分页参数，表示所请求页码元素数量，最大值为100，最小值为1，默认值为10。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"pageIndex","in":"query","schema":{"title":"分页参数，页码索引，表示所请求页码，默认值为1。","description":"分页参数，页码索引，表示所请求页码，最小值为1，默认值为1。","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"name","in":"query","schema":{"title":"deployment名称。","description":"deployment名称。","type":"string","required":false,"example":"vvp_ds_0522"}},{"name":"executionMode","in":"query","schema":{"title":"deployment执行模式。","description":"deployment执行模式。","type":"string","required":false,"example":"STREAMING","enum":["BATCH","STREAMING"]}},{"name":"status","in":"query","schema":{"description":"deployment最新作业状态。","type":"string","required":false,"enumValueTitles":{"CANCELLED":"CANCELLED","FAILED":"FAILED","RUNNING":"RUNNING","TRANSITIONING":"TRANSITIONING","FINISHED":"FINISHED"},"example":"RUNNING"}},{"name":"creator","in":"query","schema":{"description":"创建者UID。","type":"string","required":false,"example":"183899668*******"}},{"name":"modifier","in":"query","schema":{"description":"修改者UID。","type":"string","required":false,"example":"183899668*******"}},{"name":"labelKey","in":"query","schema":{"description":"标签名。","type":"string","required":false,"example":"key"}},{"name":"labelValueArray","in":"query","schema":{"description":"标签值，多个值使用分号隔开。","type":"string","required":false,"example":"value1,value2"}}],"responses":{"200":{"schema":{"title":"响应数据。","description":"响应数据。","type":"object","properties":{"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"CBC799F0-AS7S-1D30-8A4F-882ED4DD****"},"success":{"title":"表示业务请求是否成功。","description":"表示业务请求是否成功。","type":"boolean","example":"true"},"httpCode":{"title":"业务状态码，统一为200；使用success表示业务请求是否成功。","description":"固定值200。","type":"integer","format":"int32","example":"200"},"errorCode":{"title":"当success为false时，该值不为空，表示业务错误码；当success为true时，该值为空。","description":"- 当success为false，返回业务错误码；\n \n- 当success为true，返回空值。 ","type":"string","example":"\"\""},"errorMessage":{"title":"当success为false时，该值不为空，表示业务错误信息；当success为true时，该值为空。","description":"- 当success为false，返回业务错误信息；\n\n- 当success为true，返回空值。","type":"string","example":"\"\""},"pageIndex":{"title":"分页参数，页码索引，表示所请求页码。","description":"分页参数，页码索引，表示所请求页码。","type":"integer","format":"int32","example":"1"},"pageSize":{"title":"分页参数，所请求页码的元素数量。","description":"分页参数，表示所请求页码元素数量。","type":"integer","format":"int32","example":"10"},"totalSize":{"title":"满足查询条件的所有元素的数量。","description":"满足查询条件的所有元素的数量。","type":"integer","format":"int32","example":"1"},"data":{"title":"当success为true，返回满足条件的作业列表；当success为false，该值为空。","description":"- 当success为true，返回满足查询条件的作业列表；\n\n- 当success为false，返回空值。","type":"array","items":{"title":"作业数据。","description":"作业数据。","$ref":"#/components/schemas/Deployment"}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"CBC799F0-AS7S-1D30-8A4F-882ED4DD****\\\",\\n  \\\"success\\\": true,\\n  \\\"httpCode\\\": 200,\\n  \\\"errorCode\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"pageIndex\\\": 1,\\n  \\\"pageSize\\\": 10,\\n  \\\"totalSize\\\": 1,\\n  \\\"data\\\": [\\n    {\\n      \\\"deploymentId\\\": \\\"00000000-0000-0000-0000-000000000001\\\",\\n      \\\"namespace\\\": \\\"default-namespace\\\",\\n      \\\"name\\\": \\\"deploymentName\\\",\\n      \\\"engineVersion\\\": \\\"vvr-6.0.0-flink-1.15\\\",\\n      \\\"description\\\": \\\"this is a deployment description\\\",\\n      \\\"creator\\\": \\\"27846363877456****\\\",\\n      \\\"creatorName\\\": \\\"****@streamcompute.onaliyun.com\\\",\\n      \\\"modifier\\\": \\\"27846363877456****\\\",\\n      \\\"modifierName\\\": \\\"****@streamcompute.onaliyun.com\\\",\\n      \\\"deploymentHasChanged\\\": true,\\n      \\\"artifact\\\": {\\n        \\\"sqlArtifact\\\": {\\n          \\\"sqlScript\\\": \\\"\\\",\\n          \\\"additionalDependencies\\\": [\\n            \\\"\\\"\\n          ]\\n        },\\n        \\\"jarArtifact\\\": {\\n          \\\"jarUri\\\": \\\"https://oss//bucket//test.jar\\\",\\n          \\\"entryClass\\\": \\\"org.apapche.flink.test\\\",\\n          \\\"mainArgs\\\": \\\"\\\",\\n          \\\"additionalDependencies\\\": [\\n            \\\"\\\"\\n          ]\\n        },\\n        \\\"pythonArtifact\\\": {\\n          \\\"pythonArtifactUri\\\": \\\"https://oss//bucket//test.py\\\",\\n          \\\"mainArgs\\\": \\\"\\\",\\n          \\\"entryModule\\\": \\\"\\\",\\n          \\\"additionalDependencies\\\": [\\n            \\\"\\\"\\n          ],\\n          \\\"additionalPythonLibraries\\\": [\\n            \\\"\\\"\\n          ],\\n          \\\"additionalPythonArchives\\\": [\\n            \\\"\\\"\\n          ]\\n        },\\n        \\\"kind\\\": \\\"SQLSCRIPT\\\"\\n      },\\n      \\\"flinkConf\\\": {\\n        \\\"taskmanager.numberOfTaskSlots\\\": \\\"1\\\"\\n      },\\n      \\\"logging\\\": {\\n        \\\"loggingProfile\\\": \\\"oss\\\",\\n        \\\"log4j2ConfigurationTemplate\\\": \\\"xml格式文本\\\",\\n        \\\"log4jLoggers\\\": [\\n          {\\n            \\\"loggerName\\\": \\\"StdOutErrConsoleAppender\\\",\\n            \\\"loggerLevel\\\": \\\"ERROR\\\"\\n          }\\n        ],\\n        \\\"logReservePolicy\\\": {\\n          \\\"openHistory\\\": true,\\n          \\\"expirationDays\\\": 7\\n        }\\n      },\\n      \\\"jobSummary\\\": {\\n        \\\"starting\\\": 1,\\n        \\\"running\\\": 1,\\n        \\\"cancelling\\\": 1,\\n        \\\"cancelled\\\": 1,\\n        \\\"finished\\\": 1,\\n        \\\"failed\\\": 1\\n      },\\n      \\\"deploymentTarget\\\": {\\n        \\\"mode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\"\\n      },\\n      \\\"executionMode\\\": \\\"STREAMING | BATCH\\\",\\n      \\\"streamingResourceSetting\\\": {\\n        \\\"resourceSettingMode\\\": \\\"EXPERT\\\",\\n        \\\"expertResourceSetting\\\": {\\n          \\\"jobmanagerResourceSettingSpec\\\": {\\n            \\\"cpu\\\": 2,\\n            \\\"memory\\\": \\\"4Gi\\\"\\n          },\\n          \\\"resourcePlan\\\": \\\"\\\"\\n        },\\n        \\\"basicResourceSetting\\\": {\\n          \\\"parallelism\\\": 4,\\n          \\\"jobmanagerResourceSettingSpec\\\": {\\n            \\\"cpu\\\": 2,\\n            \\\"memory\\\": \\\"4Gi\\\"\\n          },\\n          \\\"taskmanagerResourceSettingSpec\\\": {\\n            \\\"cpu\\\": 2,\\n            \\\"memory\\\": \\\"4Gi\\\"\\n          }\\n        }\\n      },\\n      \\\"batchResourceSetting\\\": {\\n        \\\"maxSlot\\\": 10,\\n        \\\"basicResourceSetting\\\": {\\n          \\\"parallelism\\\": 4\\n        }\\n      },\\n      \\\"localVariables\\\": [\\n        {\\n          \\\"name\\\": \\\"test\\\",\\n          \\\"value\\\": \\\"datagen\\\"\\n        }\\n      ],\\n      \\\"workspace\\\": \\\"edcef******b4f\\\",\\n      \\\"createdAt\\\": \\\"\\\",\\n      \\\"modifiedAt\\\": \\\"\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListDeploymentsResponse>\\n    <requestId>CBC799F0-AS7S-1D30-8A4F-882ED4DD****</requestId>\\n    <success>true</success>\\n    <httpCode>200</httpCode>\\n    <errorCode>\\\"\\\"</errorCode>\\n    <errorMessage>\\\"\\\"</errorMessage>\\n    <pageIndex>10</pageIndex>\\n    <pageSize>1</pageSize>\\n    <totalSize>1</totalSize>\\n    <data>\\n        <deploymentId>00000000-0000-0000-0000-00000000****</deploymentId>\\n        <namespace>default-namespace</namespace>\\n        <name>deploymentName</name>\\n        <engineVersion>vvr-6.0.0-flink-1.15</engineVersion>\\n        <description>this is a deployment description</description>\\n        <deploymentHasChanged>true</deploymentHasChanged>\\n        <artifact>\\n            <jarArtifact>\\n                <jarUri>https://oss//bucket//test.jar</jarUri>\\n                <entryClass>org.apapche.flink.test</entryClass>\\n            </jarArtifact>\\n            <kind>JAR</kind>\\n        </artifact>\\n        <logging>\\n            <loggingProfile>oss</loggingProfile>\\n            <log4j2ConfigurationTemplate>xml格式文本</log4j2ConfigurationTemplate>\\n            <log4jLoggers>\\n                <loggerName>StdOutErrConsoleAppender</loggerName>\\n                <loggerLevel>ERROR</loggerLevel>\\n            </log4jLoggers>\\n            <logReservePolicy>\\n                <openHistory>true</openHistory>\\n                <expirationDays>7</expirationDays>\\n            </logReservePolicy>\\n        </logging>\\n        <jobSummary>\\n            <starting>1</starting>\\n            <running>1</running>\\n            <cancelling>1</cancelling>\\n            <cancelled>1</cancelled>\\n            <finished>1</finished>\\n            <failed>1</failed>\\n        </jobSummary>\\n        <deploymentTarget>\\n            <mode>PER_JOB</mode>\\n            <name>vvp-workload</name>\\n        </deploymentTarget>\\n        <executionMode>STREAMING</executionMode>\\n    </data>\\n</ListDeploymentsResponse>\",\"errorExample\":\"\"}]","title":"获取已部署作业列表"}