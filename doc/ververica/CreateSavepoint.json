{"summary":"创建快照。","path":"/api/v2/namespaces/{namespace}/savepoints","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"146960","abilityTreeNodes":["FEATUREscUX40QK"]},"parameters":[{"name":"workspace","in":"header","schema":{"title":"工作空间ID。","description":"工作空间ID。","type":"string","required":true,"example":"a14bd5d90a****"}},{"name":"namespace","in":"path","schema":{"title":"项目空间名称。","description":"项目空间名称。","type":"string","required":true,"example":"default-namespace"}},{"name":"body","in":"body","style":"json","schema":{"title":"触发savepoint参数。","description":"触发savepoint参数。","type":"object","properties":{"deploymentId":{"title":"作业ID。","description":"作业ID。","type":"string","required":true,"example":"58718c99-3b29-4c5e-93bb-c9fc4ec6****"},"description":{"title":"savepoint描述信息。","description":"savepoint描述信息。","type":"string","required":false,"example":"作业快照描述"},"nativeFormat":{"title":"是否使用nativeFormat模式。","description":"是否使用nativeFormat模式：\n\n- true：使用\n\n- false：不使用","type":"boolean","required":false,"example":"true"}},"required":false}}],"responses":{"200":{"schema":{"title":"响应数据。","description":"响应数据。","type":"object","properties":{"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"CBC799F0-AS7S-1D30-8A4F-882ED4DD****"},"success":{"title":"表示业务请求是否成功。","description":"表示业务请求是否成功。","type":"boolean","example":"true"},"httpCode":{"title":"业务状态码，统一为200；使用success表示业务请求是否成功。","description":"固定值200。","type":"integer","format":"int32","example":"200"},"errorCode":{"title":"当success为false时，该值不为空，表示业务错误码；当success为true时，该值为空。","description":"- 当success为false，返回业务错误码；\n \n- 当success为true，返回空值。 ","type":"string","example":"\"\""},"errorMessage":{"title":"当success为false时，该值不为空，表示业务错误信息；当success为true时，该值为空。","description":"- 当success为false，返回业务错误信息；\n\n- 当success为true，返回空值。","type":"string","example":"\"\""},"data":{"title":"当success为true，返回触发成功的savepoint信息；当success为false，该值为空。","description":"- 当success为true，返回触发成功的savepoint信息；\n\n- 当success为false，返回空值。","$ref":"#/components/schemas/Savepoint"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"CBC799F0-AS7S-1D30-8A4F-882ED4DD****\\\",\\n  \\\"success\\\": true,\\n  \\\"httpCode\\\": 200,\\n  \\\"errorCode\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": {\\n    \\\"savepointId\\\": \\\"354dde66-a3ae-463e-967a-0b4107fd****\\\",\\n    \\\"deploymentId\\\": \\\"1d716b22-6aad-4be2-85c2-50cfc757****\\\",\\n    \\\"jobId\\\": \\\"5af678c0-7db0-4650-94c2-d2604f0a****\\\",\\n    \\\"namespace\\\": \\\"namespacetest\\\",\\n    \\\"savepointOrigin\\\": \\\"USER_REQUEST\\\",\\n    \\\"nativeFormat\\\": true,\\n    \\\"description\\\": \\\"\\\",\\n    \\\"stopWithDrainEnabled\\\": true,\\n    \\\"savepointLocation\\\": \\\"https://oss/bucket/flink/flink-jobs/namespaces/vvp-team/deployments/5a19a71b-1c42-4f34-94fd-86cf60782c81/checkpoints/sp-3285\\\",\\n    \\\"status\\\": {\\n      \\\"state\\\": \\\"COMPLETED\\\",\\n      \\\"failure\\\": {\\n        \\\"message\\\": \\\"\\\",\\n        \\\"reason\\\": \\\"\\\",\\n        \\\"failedAt\\\": 1655006835\\n      }\\n    },\\n    \\\"createdAt\\\": 1659066711,\\n    \\\"modifiedAt\\\": 1659069473\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateSavepointResponse>\\n    <requestId>CBC799F0-AS7S-1D30-8A4F-882ED4DD****</requestId>\\n    <success>true</success>\\n    <httpCode>200</httpCode>\\n    <errorCode>\\\"\\\"</errorCode>\\n    <errorMessage>\\\"\\\"</errorMessage>\\n    <data>\\n        <savepointId>354dde66-a3ae-463e-967a-0b4107fd****</savepointId>\\n        <deploymentId>1d716b22-6aad-4be2-85c2-50cfc757****</deploymentId>\\n        <jobId>5af678c0-7db0-4650-94c2-d2604f0a****</jobId>\\n        <namespace>namespacetest</namespace>\\n        <savepointOrigin>USER_REQUEST</savepointOrigin>\\n        <nativeFormat>true</nativeFormat>\\n        <stopWithDrainEnabled>true</stopWithDrainEnabled>\\n        <savepointLocation>https://oss/bucket/flink/flink-jobs/namespaces/vvp-team/deployments/5a19a71b-1c42-4f34-94fd-86cf6078****/checkpoints/sp-3285</savepointLocation>\\n        <status>\\n            <state>COMPLETED</state>\\n        </status>\\n        <createdAt>1659066711</createdAt>\\n        <modifiedAt>1659069473</modifiedAt>\\n    </data>\\n</CreateSavepointResponse>\",\"errorExample\":\"\"}]","title":"创建快照"}