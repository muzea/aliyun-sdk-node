{"summary":"停止一个作业实例。","path":"/api/v2/namespaces/{namespace}/jobs/{jobId}:stop","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"146949","abilityTreeNodes":["FEATUREscB9XR98"]},"parameters":[{"name":"workspace","in":"header","schema":{"title":"工作空间ID。","description":"工作空间ID。","type":"string","required":true,"example":"a14bd5d90a****"}},{"name":"namespace","in":"path","schema":{"title":"项目空间名称。","description":"项目空间名称。","type":"string","required":true,"example":"default-namespace"}},{"name":"jobId","in":"path","schema":{"title":"实例ID。","description":"作业实例ID。","type":"string","required":true,"example":"88a8fc49-e090-430a-85d8-3ee8c79c****"}},{"name":"body","in":"body","schema":{"title":"启动实例参数。","description":"停止作业实例参数。","required":true,"$ref":"#/components/schemas/StopJobRequestBody"}}],"responses":{"200":{"schema":{"title":"响应数据。","description":"响应数据。","type":"object","properties":{"requestId":{"title":"请求ID。","description":"请求ID。","type":"string","example":"CBC799F0-AS7S-1D30-8A4F-882ED4DD****"},"success":{"title":"表示业务请求是否成功。","description":"表示业务请求是否成功。","type":"boolean","example":"true"},"httpCode":{"title":"业务状态码，统一为200；使用success表示业务请求是否成功。","description":"固定值200。","type":"integer","format":"int32","example":"200"},"errorCode":{"title":"当success为false时，该值不为空，表示业务错误码；当success为true时，该值为空。","description":"- 当success为false，返回业务错误码；\n \n- 当success为true，返回空值。 ","type":"string","example":"\"\""},"errorMessage":{"title":"当success为false时，该值不为空，表示业务错误信息；当success为true时，该值为空。","description":"- 当success为false，返回业务错误信息；\n\n- 当success为true，返回空值。","type":"string","example":"\"\""},"data":{"title":"启动生成的实例数据。","description":"- 当success为true，返回被停止实例的数据；\n\n- 当success为false，返回空值。","$ref":"#/components/schemas/Job"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"CBC799F0-AS7S-1D30-8A4F-882ED4DD****\\\",\\n  \\\"success\\\": true,\\n  \\\"httpCode\\\": 200,\\n  \\\"errorCode\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"errorMessage\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"data\\\": {\\n    \\\"jobId\\\": \\\"354dde66-a3ae-463e-967a-0b4107fd****\\\",\\n    \\\"deploymentId\\\": \\\"354dde66-a3ae-463e-967a-0b4107fd****\\\",\\n    \\\"deploymentName\\\": \\\"flinktest\\\",\\n    \\\"namespace\\\": \\\"namespacetest\\\",\\n    \\\"executionMode\\\": \\\"BATCH\\\",\\n    \\\"creator\\\": \\\"27846363877456****\\\",\\n    \\\"creatorName\\\": \\\"****@streamcompute.onaliyun.com\\\",\\n    \\\"modifier\\\": \\\"27846363877456****\\\",\\n    \\\"modifierName\\\": \\\"****@streamcompute.onaliyun.com\\\",\\n    \\\"startTime\\\": 1660190835,\\n    \\\"endTime\\\": 1660277235,\\n    \\\"engineVersion\\\": \\\"vvr-4.0.14-flink-1.13\\\",\\n    \\\"flinkConf\\\": {\\n      \\\"test\\\": \\\"test\\\",\\n      \\\"test2\\\": 1\\n    },\\n    \\\"status\\\": {\\n      \\\"currentJobStatus\\\": \\\"RUNNING\\\",\\n      \\\"failure\\\": {\\n        \\\"message\\\": \\\"\\\",\\n        \\\"reason\\\": \\\"\\\",\\n        \\\"failedAt\\\": 1660120062\\n      },\\n      \\\"running\\\": {\\n        \\\"observedFlinkJobRestarts\\\": 4,\\n        \\\"observedFlinkJobStatus\\\": \\\"RUNNING\\\"\\n      }\\n    },\\n    \\\"metric\\\": {\\n      \\\"totalMemoryByte\\\": 4096,\\n      \\\"totalCpu\\\": 2\\n    },\\n    \\\"sessionClusterName\\\": \\\"preview\\\",\\n    \\\"artifact\\\": {\\n      \\\"sqlArtifact\\\": {\\n        \\\"sqlScript\\\": \\\"\\\",\\n        \\\"additionalDependencies\\\": [\\n          \\\"\\\"\\n        ]\\n      },\\n      \\\"jarArtifact\\\": {\\n        \\\"jarUri\\\": \\\"https://oss//bucket//test.jar\\\",\\n        \\\"entryClass\\\": \\\"org.apapche.flink.test\\\",\\n        \\\"mainArgs\\\": \\\"\\\",\\n        \\\"additionalDependencies\\\": [\\n          \\\"\\\"\\n        ]\\n      },\\n      \\\"pythonArtifact\\\": {\\n        \\\"pythonArtifactUri\\\": \\\"https://oss//bucket//test.py\\\",\\n        \\\"mainArgs\\\": \\\"\\\",\\n        \\\"entryModule\\\": \\\"\\\",\\n        \\\"additionalDependencies\\\": [\\n          \\\"\\\"\\n        ],\\n        \\\"additionalPythonLibraries\\\": [\\n          \\\"\\\"\\n        ],\\n        \\\"additionalPythonArchives\\\": [\\n          \\\"\\\"\\n        ]\\n      },\\n      \\\"kind\\\": \\\"SQLSCRIPT\\\"\\n    },\\n    \\\"logging\\\": {\\n      \\\"loggingProfile\\\": \\\"oss\\\",\\n      \\\"log4j2ConfigurationTemplate\\\": \\\"xml格式文本\\\",\\n      \\\"log4jLoggers\\\": [\\n        {\\n          \\\"loggerName\\\": \\\"StdOutErrConsoleAppender\\\",\\n          \\\"loggerLevel\\\": \\\"ERROR\\\"\\n        }\\n      ],\\n      \\\"logReservePolicy\\\": {\\n        \\\"openHistory\\\": true,\\n        \\\"expirationDays\\\": 7\\n      }\\n    },\\n    \\\"batchResourceSetting\\\": {\\n      \\\"maxSlot\\\": 10,\\n      \\\"basicResourceSetting\\\": {\\n        \\\"parallelism\\\": 4,\\n        \\\"jobmanagerResourceSettingSpec\\\": {\\n          \\\"cpu\\\": 2,\\n          \\\"memory\\\": \\\"4Gi\\\"\\n        },\\n        \\\"taskmanagerResourceSettingSpec\\\": {\\n          \\\"cpu\\\": 2,\\n          \\\"memory\\\": \\\"4Gi\\\"\\n        }\\n      }\\n    },\\n    \\\"streamingResourceSetting\\\": {\\n      \\\"resourceSettingMode\\\": \\\"EXPERT\\\",\\n      \\\"expertResourceSetting\\\": {\\n        \\\"jobmanagerResourceSettingSpec\\\": {\\n          \\\"cpu\\\": 2,\\n          \\\"memory\\\": \\\"4Gi\\\"\\n        },\\n        \\\"resourcePlan\\\": \\\"\\\"\\n      },\\n      \\\"basicResourceSetting\\\": {\\n        \\\"parallelism\\\": 4\\n      }\\n    },\\n    \\\"restoreStrategy\\\": {\\n      \\\"kind\\\": \\\"LATEST_STATE\\\",\\n      \\\"allowNonRestoredState\\\": true,\\n      \\\"jobStartTimeInMs\\\": 1660293803155,\\n      \\\"savepointId\\\": \\\"354dde66-a3ae-463e-967a-0b4107fd****\\\"\\n    },\\n    \\\"userFlinkConf\\\": {\\n      \\\"test\\\": \\\"test\\\",\\n      \\\"test2\\\": 1\\n    },\\n    \\\"localVariables\\\": [\\n      {\\n        \\\"name\\\": \\\"test\\\",\\n        \\\"value\\\": \\\"datagen\\\"\\n      }\\n    ],\\n    \\\"workspace\\\": \\\"edcef******b4f\\\",\\n    \\\"createdAt\\\": \\\"\\\",\\n    \\\"modifiedAt\\\": \\\"\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<StopJobResponse>\\n    <requestId>CBC799F0-AS7S-1D30-8A4F-882ED4DD****</requestId>\\n    <success>true</success>\\n    <httpCode>200</httpCode>\\n    <errorCode>\\\"\\\"</errorCode>\\n    <errorMessage>\\\"\\\"</errorMessage>\\n    <data>\\n        <jobId>354dde66-a3ae-463e-967a-0b4107fd****</jobId>\\n        <deploymentId>354dde66-a3ae-463e-967a-0b4107fd****</deploymentId>\\n        <deploymentName>flinktest</deploymentName>\\n        <namespace>namespacetest</namespace>\\n        <executionMode>BATCH</executionMode>\\n        <startTime>1660190835</startTime>\\n        <endTime>1660277235</endTime>\\n        <engineVersion>vvr-4.0.14-flink-1.13</engineVersion>\\n        <status>\\n            <currentJobStatus>RUNNING</currentJobStatus>\\n            <running>\\n                <observedFlinkJobRestarts>4</observedFlinkJobRestarts>\\n                <observedFlinkJobStatus>RUNNING</observedFlinkJobStatus>\\n            </running>\\n        </status>\\n        <metric>\\n            <totalMemoryByte>4096</totalMemoryByte>\\n            <totalCpu>2</totalCpu>\\n        </metric>\\n        <artifact>\\n            <jarArtifact>\\n                <jarUri>https://oss//bucket//test.jar</jarUri>\\n                <entryClass>org.apapche.flink.test</entryClass>\\n            </jarArtifact>\\n            <kind>JAR</kind>\\n        </artifact>\\n        <logging>\\n            <loggingProfile>oss</loggingProfile>\\n            <log4j2ConfigurationTemplate>xml格式文本</log4j2ConfigurationTemplate>\\n            <log4jLoggers>\\n                <loggerName>StdOutErrConsoleAppender</loggerName>\\n                <loggerLevel>ERROR</loggerLevel>\\n            </log4jLoggers>\\n            <logReservePolicy>\\n                <openHistory>true</openHistory>\\n                <expirationDays>7</expirationDays>\\n            </logReservePolicy>\\n        </logging>\\n        <batchResourceSetting>\\n            <maxSlot>10</maxSlot>\\n            <basicResourceSetting>\\n                <parallelism>4</parallelism>\\n                <jobmanagerResourceSettingSpec>\\n                    <cpu>2</cpu>\\n                    <memory>4Gi</memory>\\n                </jobmanagerResourceSettingSpec>\\n                <taskmanagerResourceSettingSpec>\\n                    <cpu>2</cpu>\\n                    <memory>4Gi</memory>\\n                </taskmanagerResourceSettingSpec>\\n            </basicResourceSetting>\\n        </batchResourceSetting>\\n        <restoreStrategy>\\n            <kind>LATEST_STATE</kind>\\n            <allowNonRestoredState>true</allowNonRestoredState>\\n            <jobStartTimeInMs>1660293803155</jobStartTimeInMs>\\n            <savepointId>354dde66-a3ae-463e-967a-0b4107fd****</savepointId>\\n        </restoreStrategy>\\n    </data>\\n</StopJobResponse>\",\"errorExample\":\"\"}]","title":"停止作业实例"}