{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"Name","in":"query","schema":{"description":"模板名称。","type":"string","required":true,"example":"录制模板"}},{"name":"Description","in":"query","schema":{"description":"模板描述。","type":"string","required":false,"example":"录制模板"}},{"name":"Type","in":"query","schema":{"description":"模板类型。取值：\n- record（录制）\n- snapshot（截图）\n- transcode（转码）\n- timeshift（时移）","type":"string","required":true,"example":"record"}},{"name":"Region","in":"query","schema":{"description":"OSS所属区域，即服务中心。","type":"string","required":false,"example":"cn-qingdao"}},{"name":"OssBucket","in":"query","schema":{"description":"OSS的Bucket。","type":"string","required":false,"example":"bucketname"}},{"name":"OssEndpoint","in":"query","schema":{"description":"OSS的域名。","type":"string","required":false,"example":"oss-cn-qingdao.aliyuncs.com"}},{"name":"OssFilePrefix","in":"query","schema":{"description":"OSS文件前缀","type":"string","required":false,"example":"oss-prefix"}},{"name":"Trigger","in":"query","schema":{"description":"模板触发类型，默认auto。取值：\n- auto（自动）\n- ondemand（按需）","type":"string","required":false,"example":"auto"}},{"name":"Interval","in":"query","schema":{"description":"操作周期，单位秒。","type":"integer","format":"int64","required":false,"example":"3600"}},{"name":"Retention","in":"query","schema":{"description":"时移保存周期，单位：天","type":"integer","format":"int64","required":false,"example":"3"}},{"name":"FileFormat","in":"query","schema":{"description":"存储文件格式，多值用逗号分隔。取值：\n- mp4\n- flv\n- hls\n> 青岛单元暂不支持flv、mp4录制","type":"string","required":false,"example":"hls"}},{"name":"JpgOverwrite","in":"query","schema":{"description":"JPG的存储路径，用于覆盖截图。\n- 目前仅支持生成jpg图片。\n- 支持变量匹配，包含{AppName}、{StreamName}","type":"string","required":false,"example":"osspath/snapshot/{AppName}/{StreamName}.jpg"}},{"name":"JpgSequence","in":"query","schema":{"description":"JPG的存储路径，用于序列截图。\n- 目前仅支持生成jpg图片。\n- 支持变量匹配，包含{AppName}、{StreamName}、{UnixTimestamp}、{Sequence}\n- {UnixTimestamp}、{Sequence}必填一个","type":"string","required":false,"example":"osspath/snapshot/{AppName}/{StreamName}/{UnixTimestamp}.jpg"}},{"name":"JpgOnDemand","in":"query","schema":{"description":"JPG的存储路径，用于按需截图。\n- 目前仅支持生成jpg图片。\n- 支持变量匹配，包含{AppName}、{StreamName}、{UnixTimestamp}、{Sequence}\n- {UnixTimestamp}、{Sequence}必填一个","type":"string","required":false,"example":"osspath/snapshot/{AppName}/{StreamName}/{UnixTimestamp}_ondemand.jpg"}},{"name":"Mp4","in":"query","schema":{"description":"MP4的存储路径。\n- 路径中支持变量匹配，可选{AppName}、{StreamName}、{Sequence}、{EscapedStartTime}、{EscapedEndTime}\n- 必须包含{EscapedStartTime}和{EscapedEndTime}","type":"string","required":false,"example":"osspath/record/{StreamName}/{EscapedStartTime}_{EscapedEndTime}"}},{"name":"Flv","in":"query","schema":{"description":"FLV的存储路径。格式参考Mp4说明。","type":"string","required":false,"example":"osspath/record/{StreamName}/{EscapedStartTime}_{EscapedEndTime}"}},{"name":"HlsM3u8","in":"query","schema":{"description":"HLS的存储路径，m3u8文件。格式参考Mp4说明。","type":"string","required":false,"example":"osspath/record/{StreamName}/{EscapedStartTime}_{EscapedEndTime}"}},{"name":"HlsTs","in":"query","schema":{"description":"HLS的存储路径，ts文件。\n- 路径中支持变量匹配，可选{AppName}、{StreamName}、{UnixTimestamp}、{Sequence}\n- 必须包含{UnixTimestamp}和{Sequence}变量","type":"string","required":false,"example":"osspath/record/{StreamName}/{UnixTimestamp}_{Sequence}"}},{"name":"Callback","in":"query","schema":{"description":"模板执行后的回调。\n\n> 注： 按需触发的模板不支持回调参数。","type":"string","required":false,"example":"http://example.com/callback"}},{"name":"TransConfigsJSON","in":"query","schema":{"description":"转码配置TransConfig类型的数组，JSON格式字符串","type":"string","required":false,"example":"[{\"Fps\":25,\"Gop\":50,\"Height\":720,\"VideoCodec\":\"h264\",\"Width\":1280,\"Name\":\"sd\",\"VideoBitrate\":800}]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Id":{"description":"模板ID。","type":"string","example":"399*****735-cn-qingdao"},"RequestId":{"description":"请求ID。","type":"string","example":"BEA5625F-8FCF-48F4-851B-CA63946DA664"}}}}},"errorCodes":{},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Id\\\": \\\"399*****735-cn-qingdao\\\",\\n  \\\"RequestId\\\": \\\"BEA5625F-8FCF-48F4-851B-CA63946DA664\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"创建模板","summary":"创建新模板。","requestParamsDescription":"## TransConfig类型\n\n|参数\t|类型\t|必要\t|示例值\t|描述|\n| -----| ---- | ---- |----|---- |\n|Name\t|String\t|是\t|sd\t|转码规则名称。转码规则名称将作为转码流后缀，建议按使用习惯设置为sd，200k等易辨识后缀，只支持数字和字母。|\n|VideoCodec\t|String\t|是\t|h264\t|视频编码取值：h264|\n|VideoBitrate\t|Long\t|是\t|800\t|视频比特率，单位：kbps|\n|Fps\t|Long\t|是\t|25\t|视频帧率，单位：fps|\n|Gop\t|Long\t|是\t|50\t|视频Gop，单位：帧|\n|Height\t|Long\t|是\t|640\t|视频高度|\n|Width\t|Long\t|是\t|1280\t|视频宽度|","responseParamsDescription":" ","extraInfo":" "}