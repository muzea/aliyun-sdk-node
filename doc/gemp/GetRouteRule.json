{"summary":"查看规则详情。","path":"/routeRule/detail","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"body","type":"object","properties":{"routeRuleId":{"title":"规则ID","description":"规则ID","type":"integer","format":"int64","required":true,"example":"1"},"clientToken":{"title":"幂等号","description":"幂等号","type":"string","required":false,"example":"C4BE3837-1A13-413B-A225-2C88188E8A43"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"请求ID","description":"请求ID","type":"string","example":"6B9347ED-FD93-42B4-B9A4-7282962F5D6A"},"data":{"title":"规则详情","description":"规则详情","type":"object","properties":{"routeRuleId":{"title":"规则ID","description":"规则ID","type":"integer","format":"int64","example":"180000000"},"ruleName":{"title":"流转规则名字","description":"流转规则名字","type":"string","example":"规则1"},"timeWindow":{"title":"时间窗口","description":"时间窗口","type":"integer","format":"int32","example":"3"},"relatedServiceName":{"title":"关联服务名称","description":"关联服务名称","type":"string","example":"冲上云霄"},"enableStatus":{"title":"是否启用  DISABLE禁用 ENABLE 启用","description":"是否启用  disable禁用 enable 启用","type":"string","example":"DISABLE"},"relatedServiceId":{"title":"关联服务ID","description":"关联服务ID","type":"integer","format":"int64","example":"1000"},"routeType":{"title":"路由类型：INCIDENT 触发事件 ALERT 仅触发报警","description":"路由类型：INCIDENT 触发事件 ALERT 仅触发报警","type":"string","example":"INCIDENT"},"incidentLevel":{"title":"事件级别 P1 P2 P3 P4","description":"事件级别 1-P1 2-P2 3-P3 4-P4","type":"string","example":"P1"},"assignObjectId":{"title":"事件分派对象ID（服务组ID 或用户ID）","description":"事件分派对象ID（服务组ID 或用户ID）","type":"integer","format":"int64","example":"1000"},"assignObjectType":{"title":"事件分派对象类型 SERVICEGROUP 服务组  USER 单个用户","description":"    事件分派对象类型 SERVICEGROUP 服务组  USER 单个用户","type":"string","example":"SERVICEGROUP"},"effection":{"title":"影响程度  LOW一般  HIGH-严重","description":"影响程度  LOW一般  HIGH-严重","type":"string","example":"LOW"},"matchCount":{"title":"命中次数","description":"命中次数","type":"integer","format":"int64","example":"3"},"childRuleRelation":{"title":"子规则关系，0与，1或","description":"子规则关系，0与，1或","type":"string","example":"AND、OR"},"eventRouteChildRules":{"title":"子规则","description":"子规则","type":"array","items":{"description":"子规则","type":"object","properties":{"childRouteRuleId":{"title":"子规则ID","description":"子规则ID","type":"integer","format":"int64","example":"1000"},"isValidChildRule":{"title":"是否有效得规则true有效 false无效","description":"是否有效得规则true有效 false无效","type":"boolean","example":"false"},"parentRuleId":{"title":"规则ID","description":"规则ID","type":"integer","format":"int64","example":"1800"},"monitorSourceId":{"title":"监控源ID","description":"监控源ID","type":"integer","format":"int64","example":"1"},"monitorIntegrationConfigId":{"title":"集成配置ID","description":"集成配置ID","type":"integer","format":"int64","example":"1"},"monitorSourceName":{"title":"监控源名称","description":"监控源名称","type":"string","example":"zabbix"},"childConditionRelation":{"title":"子条件计算关系，0-与，1-或","description":"子条件计算关系，0-与，1-或","type":"integer","format":"int64","example":"1"},"conditions":{"title":"条件","description":"匹配条件","type":"array","items":{"description":"条件","type":"object","properties":{"key":{"title":"条件可以","description":"条件可以","type":"string","example":"alarmName"},"value":{"title":"匹配值","description":"匹配值","type":"string","example":"Zabbix server"},"operationSymbol":{"title":"操作符","description":"操作符","type":"string","example":"contain"}}}},"problemLevel":{"description":"故障等级","type":"string","example":"1"}}}},"createTime":{"title":"创建时间","description":"创建时间","type":"string","example":"2020-09-08 15:30:30"},"updateTime":{"title":"修改时间","description":"修改时间","type":"string","example":"2020-09-08 15:30:30"},"notifyChannels":{"title":"通知渠道","description":"通知渠道","type":"array","items":{"description":"通知渠道","type":"string","example":"[SMS,PHONE]"}},"notifyChannelNames":{"title":"通知渠道名称","description":"通知渠道名称","type":"array","items":{"description":"通知渠道名称","type":"string","example":"[短信,电话]"}},"assignObjectName":{"title":"通知对象名称","description":"通知对象名称","type":"string","example":"刘德华"},"relServiceDeleteType":{"title":"服务删除字段","description":"服务删除字段","type":"integer","format":"int32","example":"1"},"problemLevelGroup":{"description":"故障等级组","type":"object","additionalProperties":{"type":"object","properties":{"childRuleRelation":{"title":"子规则关系，0与，1或","description":"子规则","type":"integer","format":"int32","example":"11"},"matchCount":{"title":"抑制：命中次数","description":"数量","type":"integer","format":"int64","example":"11"},"timeWindow":{"title":"抑制：时间窗口","description":"时间窗口","type":"integer","format":"int64","example":"1"},"timeWindowUnit":{"title":"抑制：时间窗口单位","description":"时间单元","type":"string","example":"1"},"enableUpgrade":{"title":"升级：是否升级","description":"是否开启","type":"boolean","example":"ture"},"upgradeTimeWindow":{"title":"升级：时间窗口","description":"时间窗口","type":"integer","format":"int64","example":"1"},"upgradeTimeWindowUnit":{"title":"升级：时间窗口单位","description":"服务单元","type":"string","example":"1"}},"description":"服务组"}},"coverageProblemLevels":{"title":"故障等级覆盖","description":"故障等级覆盖","type":"array","items":{"description":"故障等级","type":"string","example":"1"}},"problemEffectionServices":{"title":"故障影响服务","description":"故障影响服务","type":"array","items":{"description":"故障关联服务","type":"integer","format":"int64","example":"1"}},"convergenceFields":{"title":"收敛字段集合","description":"收敛字段集合","type":"array","items":{"type":"string"}},"convergenceType":{"title":"收敛类型（0：流转规则收敛，1：字段收敛）","description":"收敛类型（0：流转规则收敛，1：字段收敛）","type":"integer","format":"int32"}}}}}}},"errorCodes":{"404":[{"errorCode":"RouteRuleNotExisted","errorMessage":"The rule does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"6B9347ED-FD93-42B4-B9A4-7282962F5D6A\\\",\\n  \\\"data\\\": {\\n    \\\"routeRuleId\\\": 180000000,\\n    \\\"ruleName\\\": \\\"规则1\\\",\\n    \\\"timeWindow\\\": 3,\\n    \\\"relatedServiceName\\\": \\\"冲上云霄\\\",\\n    \\\"enableStatus\\\": \\\"DISABLE\\\",\\n    \\\"relatedServiceId\\\": 1000,\\n    \\\"routeType\\\": \\\"INCIDENT\\\",\\n    \\\"incidentLevel\\\": \\\"P1\\\",\\n    \\\"assignObjectId\\\": 1000,\\n    \\\"assignObjectType\\\": \\\"SERVICEGROUP\\\",\\n    \\\"effection\\\": \\\"LOW\\\",\\n    \\\"matchCount\\\": 3,\\n    \\\"childRuleRelation\\\": \\\"AND、OR\\\",\\n    \\\"eventRouteChildRules\\\": [\\n      {\\n        \\\"childRouteRuleId\\\": 1000,\\n        \\\"isValidChildRule\\\": false,\\n        \\\"parentRuleId\\\": 1800,\\n        \\\"monitorSourceId\\\": 1,\\n        \\\"monitorIntegrationConfigId\\\": 1,\\n        \\\"monitorSourceName\\\": \\\"zabbix\\\",\\n        \\\"childConditionRelation\\\": 1,\\n        \\\"conditions\\\": [\\n          {\\n            \\\"key\\\": \\\"alarmName\\\",\\n            \\\"value\\\": \\\"Zabbix server\\\",\\n            \\\"operationSymbol\\\": \\\"contain\\\"\\n          }\\n        ],\\n        \\\"problemLevel\\\": \\\"1\\\"\\n      }\\n    ],\\n    \\\"createTime\\\": \\\"2020-09-08 15:30:30\\\",\\n    \\\"updateTime\\\": \\\"2020-09-08 15:30:30\\\",\\n    \\\"notifyChannels\\\": [\\n      \\\"[SMS,PHONE]\\\"\\n    ],\\n    \\\"notifyChannelNames\\\": [\\n      \\\"[短信,电话]\\\"\\n    ],\\n    \\\"assignObjectName\\\": \\\"刘德华\\\",\\n    \\\"relServiceDeleteType\\\": 1,\\n    \\\"problemLevelGroup\\\": {\\n      \\\"key\\\": {\\n        \\\"childRuleRelation\\\": 11,\\n        \\\"matchCount\\\": 11,\\n        \\\"timeWindow\\\": 1,\\n        \\\"timeWindowUnit\\\": \\\"1\\\",\\n        \\\"enableUpgrade\\\": true,\\n        \\\"upgradeTimeWindow\\\": 1,\\n        \\\"upgradeTimeWindowUnit\\\": \\\"1\\\"\\n      }\\n    },\\n    \\\"coverageProblemLevels\\\": [\\n      \\\"1\\\"\\n    ],\\n    \\\"problemEffectionServices\\\": [\\n      1\\n    ],\\n    \\\"convergenceFields\\\": [\\n      \\\"\\\"\\n    ],\\n    \\\"convergenceType\\\": 0\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetRouteRuleResponse>\\n    <requestId>6B9347ED-FD93-42B4-B9A4-7282962F5D6A</requestId>\\n    <data>\\n        <routeRuleId>180000000</routeRuleId>\\n        <subscriptionName>我的订阅</subscriptionName>\\n        <ruleName>规则1</ruleName>\\n        <timeWindow>3</timeWindow>\\n        <relatedServiceName>冲上云霄</relatedServiceName>\\n        <enableStatus>DISABLE</enableStatus>\\n        <relatedServiceId>1000</relatedServiceId>\\n        <routeType>INCIDENT</routeType>\\n        <incidentLevel>P1</incidentLevel>\\n        <assignObjectId>1000</assignObjectId>\\n        <assignObjectType>SERVICEGROUP</assignObjectType>\\n        <effection>LOW</effection>\\n        <matchCount>3</matchCount>\\n        <eventRouteChildRules>\\n            <childRouteRuleId>1000</childRouteRuleId>\\n            <isValidChildRule>false</isValidChildRule>\\n            <parentRuleId>1800</parentRuleId>\\n            <monitorSourceId>1</monitorSourceId>\\n            <monitorIntegrationConfigId>1</monitorIntegrationConfigId>\\n            <monitorSourceName>zabbix</monitorSourceName>\\n            <conditions>\\n                <key>alarmName</key>\\n                <value>Zabbix server</value>\\n                <operationSymbol>contain</operationSymbol>\\n            </conditions>\\n        </eventRouteChildRules>\\n        <createTime>2020-09-08 15:30:30</createTime>\\n        <updateTime>2020-09-08 15:30:30</updateTime>\\n        <notifyChannels>[SMS,PHONE]</notifyChannels>\\n        <notifyChannelNames>[短信,电话]</notifyChannelNames>\\n        <assignObjectName>刘德华</assignObjectName>\\n    </data>\\n</GetRouteRuleResponse>\",\"errorExample\":\"\"}]","title":"查看规则详情","requestParamsDescription":"{\n  \"routeRuleId\" : 1,\n  \"}","responseParamsDescription":"{\n    \"requestId\": \"6B9347ED-FD93-42B4-B9A4-7282962F5D6A\",\n    \"data\": {\n        \"routeRuleId\": 180000000,\n        \"subscriptionName\": \"我的订阅\",\n        \"ruleName\": \"规则1\",\n        \"timeWindow\": 3,\n        \"relatedServiceName\": \"冲上云霄\",\n        \"enableStatus\": \"DISABLE\",\n        \"relatedServiceId\": 1000,\n        \"routeType\": \"INCIDENT\",\n        \"incidentLevel\": \"P1\",\n        \"assignObjectId\": 1000,\n        \"assignObjectType\": \"SERVICEGROUP\",\n        \"effection\": \"LOW\",\n        \"matchCount\": 3,\n        \"eventRouteChildRules\": [\n            {\n                \"childRouteRuleId\": 1000,\n                \"isValidChildRule\": false,\n                \"parentRuleId\": 1800,\n                \"monitorSourceId\": 1,\n                \"monitorIntegrationConfigId\": 1,\n                \"monitorSourceName\": \"zabbix\",\n                \"conditions\": [\n                    {\n                        \"key\": \"alarmName\",\n                        \"value\": \"Zabbix server\",\n                        \"operationSymbol\": \"contain\"\n                    }\n                ]\n            }\n        ],\n        \"createTime\": \"2020-09-08 15:30:30\",\n        \"updateTime\": \"2020-09-08 15:30:30\",\n        \"notifyChannels\": [\n            \"[SMS,PHONE]\"\n        ],\n        \"notifyChannelNames\": [\n            \"[短信,电话]\"\n        ],\n        \"assignObjectName\": \"刘德华\"\n    }\n}"}