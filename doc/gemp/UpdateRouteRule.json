{"summary":"编辑流转规则。","path":"/routeRule/edit","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"编辑流转规则入参","description":"body","type":"object","properties":{"ruleName":{"title":"规则名称","description":"规则名称","type":"string","required":true,"example":"规则名称"},"relatedServiceId":{"title":"关联服务ID","description":"关联服务ID","type":"integer","format":"int64","required":true,"example":"关联服务ID"},"routeRuleId":{"title":"规则ID","description":"规则ID","type":"integer","format":"int64","required":true,"example":"规则ID"},"routeType":{"title":"路由类型：INCIDENT 触发事件 ALERT 仅触发报警","description":"路由类型：INCIDENT 触发事件 ALERT 仅触发报警","type":"string","required":true,"example":"ALERT"},"incidentLevel":{"title":"事件级别 1-P1 2-P2 3-P3 4-P4","description":"事件级别 P1 P2 P3 P4","type":"string","required":true,"example":"P1"},"assignObjectId":{"title":"事件分派对象ID（服务组ID 或用户ID）","description":"事件分派对象ID（服务组ID 或用户ID）","type":"integer","format":"int64","required":true,"example":"1"},"assignObjectType":{"title":"事件分派对象类型 SERVICEGROUP服务组  USER 单个用户","description":" 事件分派对象类型 SERVICEGROUP 服务组  USER 单个用户","type":"string","required":true,"example":"SERVICEGROUP"},"effection":{"title":"影响程度 LOW-一般 HIGH-严重","description":" 影响程度 LOW-一般 HIGH-严重","type":"string","required":true,"example":"LOW"},"timeWindow":{"title":"时间窗口","description":"时间窗口","type":"integer","format":"int32","required":true,"example":"10"},"timeWindowUnit":{"title":"时间窗口单位 MINUTE 分钟  SECOND 秒","description":"时间窗口单位MINUTE 分钟\n\u0000SECOND  秒","type":"string","required":true,"example":"MINUTE"},"matchCount":{"title":"命中次数","description":"命中次数","type":"integer","format":"int64","required":true,"example":"10"},"routeChildRules":{"title":"子规则","description":"子规则","type":"array","items":{"description":"object","type":"object","properties":{"childRouteRuleId":{"title":"子规则ID 不填表示新增","description":"子规则ID","type":"integer","format":"int64","required":true,"example":"1"},"conditions":{"title":"条件","description":"条件","type":"array","items":{"description":"object","type":"object","properties":{"key":{"title":"字段","description":"条件key","type":"string","required":true,"example":"payload.summary"},"value":{"title":"字段取值","description":"匹配值","type":"string","required":true,"example":"123"},"operationSymbol":{"title":"操作符","description":"操作符contain","type":"string","required":true,"example":"equals"}},"required":true},"required":true},"monitorSourceId":{"title":"监控源ID","description":"监控源ID","type":"integer","format":"int64","required":true,"example":"1"},"isValidChildRule":{"title":"true  删除子规则  false编辑子规则","description":"是否删除子规则","type":"boolean","required":true,"example":"false"},"childConditionRelation":{"title":"子条件计算关系","description":"子条件计算关系，0-与，1-或","type":"integer","format":"int64","required":false,"example":"1"},"problemLevel":{"type":"string"}},"required":true},"required":true},"notifyChannels":{"title":"通知渠道    SMS 短信  EMAIL  邮件  PHONE  电话  WEIXIN_GROUP 企微群 DING_GROUP 钉钉群","description":"通知渠道","type":"array","items":{"description":"通知渠道","type":"string","required":true,"example":"[SMS,PHONE]"},"required":true},"clientToken":{"title":"幂等号","description":"幂等号","type":"string","required":false,"example":"C4BE3837-1A13-413B-A225-2C88188E8A43"},"childRuleRelation":{"title":"AND","description":"子规则关系 AND OR","type":"string","required":false,"example":"AND"},"problemLevelGroup":{"type":"object","additionalProperties":{"type":"object","properties":{"childRuleRelation":{"title":"子规则关系，0与，1或","type":"integer","format":"int32"},"matchCount":{"title":"抑制：命中次数","type":"integer","format":"int64"},"timeWindow":{"title":"抑制：时间窗口","type":"integer","format":"int64"},"timeWindowUnit":{"title":"抑制：时间窗口单位","type":"string"},"enableUpgrade":{"title":"升级：是否升级","type":"boolean"},"upgradeTimeWindow":{"title":"升级：时间窗口","type":"integer","format":"int64"},"upgradeTimeWindowUnit":{"type":"string"}}}},"coverageProblemLevels":{"title":"故障等级覆盖","type":"array","items":{"type":"string"}},"problemEffectionServices":{"title":"故障影响服务","type":"array","items":{"type":"integer","format":"int64"}},"convergenceFields":{"title":"收敛字段集合","type":"array","items":{"type":"string"}},"convergenceType":{"title":"收敛类型（0：流转规则收敛，1：字段收敛）","type":"integer","format":"int32"}},"required":false}}],"responses":{"200":{"schema":{"title":"响应","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"请求ID","description":"请求ID","type":"string","example":"C4BE3837-1A13-413B-A225-2C88188E8A43"},"data":{"description":"返回结果","type":"integer","format":"int64","example":"null"}}}}},"errorCodes":{"400":[{"errorCode":"RouteRuleNameAlreadyExisted","errorMessage":"The rule name already exists."}],"404":[{"errorCode":"RouteRuleNotExisted","errorMessage":"The rule does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"C4BE3837-1A13-413B-A225-2C88188E8A43\\\",\\n  \\\"data\\\": 0\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateRouteRuleResponse>\\n    <requestId>C4BE3837-1A13-413B-A225-2C88188E8A43</requestId>\\n</UpdateRouteRuleResponse>\",\"errorExample\":\"\"}]","title":"编辑流转规则"}