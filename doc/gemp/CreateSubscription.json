{"summary":"创建通知订阅。","path":"/notify/subscription/create","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"A short description of struct","description":"A short description of struct","type":"object","properties":{"subscriptionTitle":{"title":"通知订阅名称","description":"通知订阅名称","type":"string","required":true,"example":"testSubscription"},"scope":{"title":"订阅范围类型","description":"订阅范围类型","type":"integer","format":"int64","required":true,"example":"SERVICE"},"notifyObjectType":{"title":"通知对象类型","description":"通知对象类型","type":"integer","format":"int64","required":true,"example":"USER"},"expiredType":{"title":"订阅时效","description":"订阅时效","type":"integer","format":"int64","required":true,"example":"LONG_TERM"},"period":{"title":"时间段","description":"短期时间段","type":"string","required":false,"example":"20天"},"scopeObjectList":{"title":"订阅范围列表","description":"订阅范围列表","type":"array","items":{"description":"Object","type":"object","properties":{"scopeObjectId":{"title":"订阅范围对象id","description":"订阅范围对象id","type":"integer","format":"int64","required":true,"example":"1"}},"required":true},"required":true},"notifyObjectList":{"title":"通知对象列表","description":"通知对象列表","type":"array","items":{"description":"Object","type":"object","properties":{"notifyObjectId":{"title":"通知对象id","description":"通知对象id","type":"integer","format":"int64","required":true,"example":"2"}},"required":true},"required":true},"notifyStrategyList":{"title":"通知策略列表","description":"通知策略列表","type":"array","items":{"description":"Object","type":"object","properties":{"instanceType":{"title":"订阅实例类型，事件、报警、故障","description":"订阅实例类型，事件、报警、故障","type":"integer","format":"int64","required":true,"example":"INCIDENT"},"strategies":{"title":"条件。json格式，包含多个条件，比如级别、影响程度 kv格式","description":"条件。json格式，包含多个条件，比如级别、影响程度 kv格式","type":"array","items":{"description":"Object","type":"object","properties":{"conditions":{"title":"通知策略条件","description":"通知策略条件","type":"array","items":{"description":"Object","type":"object","properties":{"effection":{"title":"影响范围","description":"影响范围","type":"string","required":false,"example":"HIGH"},"problemNotifyType":{"title":"故障通知类型","description":"故障通知类型","type":"string","required":false,"example":"PROBLEM_UPDATE"},"level":{"title":"等级","description":"等级","type":"string","required":false,"example":"P1"},"action":{"title":"时间动作","description":"动作","type":"string","required":false,"example":"INCIDENT_TRIGGER"}},"required":false},"required":false}},"required":false},"required":true},"channels":{"title":"渠道，多个逗号分隔","description":"渠道，多个逗号分隔","type":"string","required":true,"example":"SMS,PHONE"},"periodChannel":{"title":"分时段渠道","description":"分时段通知订阅渠道","type":"object","properties":{"workday":{"title":"工作时段","description":"工作日通知订阅渠道","type":"string","required":false,"example":"SMS,PHONE"},"nonWorkday":{"title":"非工作时段","description":"非工作日通知订阅渠道","type":"string","required":false,"example":"SMS,PHONE"}},"required":false}},"required":true},"required":true},"clientToken":{"title":"幂等参数","description":"幂等参数","type":"string","required":false,"example":"601FA6A2-AC5C-4B59-BE11-378FTOKENA11"},"startTime":{"title":"开始时间","description":"生效开始时间","type":"string","required":false,"example":"2021-02-03 10:10:10"},"endTime":{"title":"结束时间","description":"失效时间","type":"string","required":false,"example":"2021-11-03 10:10:10"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"request id","description":"request id","type":"string","example":"10REQUES-AC5C-4B59-BE11-378F117A6A88"},"data":{"description":"data","type":"object","properties":{"subscriptionId":{"title":"订阅id","description":"订阅id","type":"integer","format":"int64","example":"101"}}}}}}},"errorCodes":{"403":[{"errorCode":"NotifySubsAlreadyExists","errorMessage":"The specified subscription already exists."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"10REQUES-AC5C-4B59-BE11-378F117A6A88\\\",\\n  \\\"data\\\": {\\n    \\\"subscriptionId\\\": 101\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateSubscriptionResponse>\\n    <data>\\n        <subscriptionId>70002030</subscriptionId>\\n    </data>\\n    <requestId>366D5476-734A-4DA5-963E-9724F87470BC</requestId>\\n</CreateSubscriptionResponse>\",\"errorExample\":\"\"}]","title":"创建通知订阅"}