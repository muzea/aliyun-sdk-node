{"summary":"通知订阅详情。","path":"/notify/subscription/detail","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"A short description of struct","description":"A short description of struct","type":"object","properties":{"subscriptionId":{"description":"订阅id","type":"integer","format":"int64","required":false,"example":"10"},"notFilterScopeObjectDeleted":{"title":"不过滤已删除订阅范围对象（为true时，已删除过滤对象也会查到）","type":"boolean"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"description":"requestId","type":"string","example":"10REQUES-AC5C-4B59-BE11-378F117A6A88"},"data":{"description":"Object","type":"object","properties":{"subscriptionId":{"description":"订阅id","type":"integer","format":"int64","example":"68"},"subscriptionTitle":{"title":"通知订阅名称","description":"通知订阅名称","type":"string","example":"newTitle"},"scope":{"title":"0 全部 1服务 2 流转规则","description":"ALL全部 SERVICE服务 ROUTERULE 流转规则","type":"string","example":"SERVICE"},"notifyObjectType":{"title":"0服务组 1个人","description":"SERVICEGROUP服务组 USER个人","type":"string","example":"USER"},"expiredType":{"title":"有效期类型 0 长期 1短期","description":"有效期类型 LONG_TERM长期 SHORT_TERM短期","type":"string","example":"LONG_TERM"},"period":{"title":"时间段字符串","description":"时间段字符串","type":"string","example":"1个月"},"startTime":{"title":"时效开始时间","description":"时效开始时间","type":"string","example":"2020-05-9 10:10:10"},"endTime":{"title":"时效结束时间","description":"时效结束时间","type":"string","example":"2021-08-9 10:10:10"},"status":{"title":"1 启用 0禁用","description":"ENABLE启用 DISABLE禁用","type":"string","example":"ENABLE"},"scopeObjectList":{"description":"Array","type":"array","items":{"description":"Object","type":"object","properties":{"id":{"title":"id主键","description":"id主键","type":"integer","format":"int64","example":"10"},"scope":{"title":"订阅范围类型 0 全部 1服务 2 流转规则","description":"订阅范围类型ALL全部 SERVICE服务 ROUTERULE 流转规则","type":"string","example":"SERVICE"},"scopeObjectId":{"title":"订阅范围对象关联表主键id","description":"订阅范围对象关联表主键id","type":"integer","format":"int64","example":"10"},"scopeObject":{"title":"订阅范围对象名称","description":"订阅范围对象名称","type":"string","example":"阿里云"},"isValid":{"title":"是否有效 0无效 1有效","type":"integer","format":"int64"}}}},"notifyObjectList":{"title":"通知对象列表","description":"通知对象列表","type":"array","items":{"description":"Object","type":"object","properties":{"id":{"title":"id主键","description":"id主键","type":"integer","format":"int64","example":"23"},"notifyObjectType":{"title":"通知对象类型0服务组 1个人","description":"通知对象类型SERVICEGROUP服务组 USER个人","type":"integer","format":"int64","example":"USER"},"notifyObjectId":{"title":"关联主键id","description":"关联主键id","type":"integer","format":"int64","example":"19"},"name":{"title":"通知对象名","description":"通知对象名","type":"string","example":"TestName"}}}},"notifyStrategyList":{"title":"通知策略列表","description":"通知策略列表","type":"array","items":{"description":"Object\n","type":"object","properties":{"instanceType":{"title":"订阅实例类型，0事件、1报警、2故障","description":"订阅实例类型，INCIDENT事件、ALERT报警、PROBLEM故障","type":"integer","format":"int64","example":"INCIDENT"},"strategies":{"title":"策略","description":"策略","type":"array","items":{"description":"Object","type":"object","properties":{"id":{"title":"策略主键","description":"策略主键","type":"integer","format":"int64","example":"12"},"channels":{"title":"通知渠道","description":"通知渠道","type":"string","example":"SMS"},"conditions":{"title":"条件","description":"条件","type":"array","items":{"description":"Object","type":"object","properties":{"effection":{"title":"影响范围","description":"影响范围","type":"string","example":"HIGH"},"problemNotifyType":{"title":"故障通知类型","description":"故障通知类型","type":"string","example":"PROBLEM_NOTIFY"},"level":{"title":"等级","description":"等级","type":"string","example":"P1"},"action":{"title":"事件动作","description":"时间动作","type":"string","example":"INCIDENT_TRIGGER"}}}},"periodChannel":{"title":"分时间段渠道","description":"分时间段渠道","type":"object","properties":{"workday":{"title":"工作时间","description":"工作时间","type":"string","example":"DINGDING"},"nonWorkday":{"title":"非工作时间","description":"非工作时间","type":"string","example":"DINGDING"}}}}}}}}}}}}}}},"errorCodes":{"404":[{"errorCode":"NotifySubsNotExists","errorMessage":"The specified subscription does not exist."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"requestId\\\": \\\"10REQUES-AC5C-4B59-BE11-378F117A6A88\\\",\\n  \\\"data\\\": {\\n    \\\"subscriptionId\\\": 68,\\n    \\\"subscriptionTitle\\\": \\\"newTitle\\\",\\n    \\\"scope\\\": \\\"SERVICE\\\",\\n    \\\"notifyObjectType\\\": \\\"USER\\\",\\n    \\\"expiredType\\\": \\\"LONG_TERM\\\",\\n    \\\"period\\\": \\\"1个月\\\",\\n    \\\"startTime\\\": \\\"2020-05-9 10:10:10\\\",\\n    \\\"endTime\\\": \\\"2021-08-9 10:10:10\\\",\\n    \\\"status\\\": \\\"ENABLE\\\",\\n    \\\"scopeObjectList\\\": [\\n      {\\n        \\\"id\\\": 10,\\n        \\\"scope\\\": \\\"SERVICE\\\",\\n        \\\"scopeObjectId\\\": 10,\\n        \\\"scopeObject\\\": \\\"阿里云\\\"\\n      }\\n    ],\\n    \\\"notifyObjectList\\\": [\\n      {\\n        \\\"id\\\": 23,\\n        \\\"notifyObjectType\\\": 0,\\n        \\\"notifyObjectId\\\": 19,\\n        \\\"name\\\": \\\"TestName\\\"\\n      }\\n    ],\\n    \\\"notifyStrategyList\\\": [\\n      {\\n        \\\"instanceType\\\": 0,\\n        \\\"strategies\\\": [\\n          {\\n            \\\"id\\\": 12,\\n            \\\"channels\\\": \\\"SMS\\\",\\n            \\\"conditions\\\": [\\n              {\\n                \\\"effection\\\": \\\"HIGH\\\",\\n                \\\"problemNotifyType\\\": \\\"PROBLEM_NOTIFY\\\",\\n                \\\"level\\\": \\\"P1\\\",\\n                \\\"action\\\": \\\"INCIDENT_TRIGGER\\\"\\n              }\\n            ],\\n            \\\"periodChannel\\\": {\\n              \\\"workday\\\": \\\"DINGDING\\\",\\n              \\\"nonWorkday\\\": \\\"DINGDING\\\"\\n            }\\n          }\\n        ]\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetSubscriptionResponse>\\n    <requestId>10REQUES-AC5C-4B59-BE11-378F117A6A88</requestId>\\n    <data>\\n        <subscriptionId>68</subscriptionId>\\n        <subscriptionTitle>newTitle</subscriptionTitle>\\n        <scope>SERVICE</scope>\\n        <notifyObjectType>USER</notifyObjectType>\\n        <expiredType>LONG_TERM</expiredType>\\n        <period>1个月</period>\\n        <startTime>2020-05-9 10:10:10</startTime>\\n        <endTime>2021-08-9 10:10:10</endTime>\\n        <status>ENABLE</status>\\n        <scopeObjectList>\\n            <id>10</id>\\n            <scope>SERVICE</scope>\\n            <scopeObjectId>10</scopeObjectId>\\n            <scopeObject>阿里云</scopeObject>\\n        </scopeObjectList>\\n        <notifyObjectList>\\n            <id>23</id>\\n            <notifyObjectId>19</notifyObjectId>\\n            <name>TestName</name>\\n        </notifyObjectList>\\n        <notifyStrategyList>\\n            <strategies>\\n                <id>12</id>\\n                <channels>SMS</channels>\\n                <conditions>\\n                    <effection>HIGH</effection>\\n                    <problemNotifyType>PROBLEM_NOTIFY</problemNotifyType>\\n                    <level>P1</level>\\n                    <action>INCIDENT_TRIGGER</action>\\n                </conditions>\\n                <periodChannel>\\n                    <workday>DINGDING</workday>\\n                    <nonWorkday>DINGDING</nonWorkday>\\n                </periodChannel>\\n            </strategies>\\n        </notifyStrategyList>\\n    </data>\\n</GetSubscriptionResponse>\",\"errorExample\":\"\"}]","title":"通知订阅详情"}