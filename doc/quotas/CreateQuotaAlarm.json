{"summary":"创建配额告警。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ProductCode","in":"formData","schema":{"description":"云产品的缩写名称。\n\n> 关于如何获取云产品的缩写名称，请参见[ListProductQuotas](~~440554~~)中的`ProductCode`。","type":"string","required":true,"example":"config"}},{"name":"QuotaActionCode","in":"formData","schema":{"description":"配额ID。\n\n> 关于如何获取云产品的配额ID，请参见[ListProductQuotas](~~440554~~)中的`QuotaActionCode`。","type":"string","required":true,"example":"q_hvnoqv"}},{"name":"AlarmName","in":"formData","schema":{"description":"配额告警名称。","type":"string","required":true,"example":"规则创建数量告警"}},{"name":"ThresholdType","in":"formData","schema":{"description":"配额告警类型。取值：\n\n- used（默认值）：已使用量告警。\n- usable：剩余可用量告警。","type":"string","required":false,"example":"used","default":"used","enum":["used","usable"]}},{"name":"Threshold","in":"formData","schema":{"description":"配额告警阈值的数值。取值：\n\n- 当`ThresholdType`选择`used`时，如果配额的已使用量大于等于预设数值，您会收到告警通知。配额告警阈值必须大于配额的已使用量。\n\n- 当`ThresholdType`选择`usable`时，如果配额的剩余可用量小于等于预设数值，您会收到告警通知。配额告警阈值必须小于配额的剩余可用量。\n\n> 该参数与ThresholdPercent必须设置一个。","type":"number","format":"float","required":false,"minimum":"1","example":"150"}},{"name":"ThresholdPercent","in":"formData","schema":{"description":"配额告警阈值的百分比。取值：\n\n- 当`ThresholdType`选择`used`时，如果配额的已使用量大于等于预设百分比，您会收到告警通知。取值范围：（50%, 100%]。\n\n- 当`ThresholdType`选择`usable`时，如果配额的剩余可用量小于等于预设百分比，您会收到告警通知。取值范围：（0%, 50%]。\n\n> 该参数与Threshold必须设置一个。","type":"number","format":"float","required":false,"maximum":"100","minimum":"50","example":"50"}},{"name":"WebHook","in":"formData","schema":{"description":"配额中心将告警信息通过HTTP协议的POST请求发送到指定公网的URL地址。","type":"string","required":false,"example":"https://alert.aliyun.com/callback"}},{"name":"QuotaDimensions","in":"formData","style":"repeatList","schema":{"description":"配额维度列表。","type":"array","items":{"description":"无。","type":"object","properties":{"Key":{"description":"配额维度的Key。\n\n> - N的取值范围取决于云产品支持的维度个数。\n> - 当`ProductCode`为`ecs`、`ecs-spec`、`actiontrail`、`ess`等时，配额维度的Key和Value必须同时设置。","type":"string","required":false,"example":"regionId"},"Value":{"description":"配额维度的Value。\n\n> - N的取值范围取决于云产品支持的维度个数。\n> - 当`ProductCode`为`ecs`、`ecs-spec`、`actiontrail`、`ess`等时，配额维度的Key和Value必须同时设置。","type":"string","required":false,"example":"cn-hangzhou"}},"required":false},"required":false,"maxItems":5}}],"responses":{"200":{"schema":{"type":"object","properties":{"AlarmId":{"description":"告警ID。","type":"string","example":"18b3be23-b7b0-4d45-91bc-d0c331aa****"},"RequestId":{"description":"请求ID。","type":"string","example":"BD219E2B-E687-45EE-B5F3-61FB730551B1"}}}}},"errorCodes":{"400":[{"errorCode":"QUOTA.UNSUPPORT.ALARM","errorMessage":"This quota does not support creating alarm"},{"errorCode":"ALARM.NAME.REPEAT","errorMessage":"The warning name must be unique."},{"errorCode":"QUOTA.ALARM.MAX","errorMessage":"Quota alarm have reached the upper limit of 100"},{"errorCode":"UNSUPPORTED.ALARM.TYPE","errorMessage":"Unified alarm does not support alarm types for used quantity alarms, and does not support numerical threshold types of quota alarms."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"AlarmId\\\": \\\"18b3be23-b7b0-4d45-91bc-d0c331aa****\\\",\\n  \\\"RequestId\\\": \\\"BD219E2B-E687-45EE-B5F3-61FB730551B1\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateQuotaAlarmResponse>\\n\\t\\t<AlarmId>a2efa7fc-832f-47bb-8054-39e28012****</AlarmId>\\n\\t\\t<RequestId>88BAD9A9-0C47-4139-8531-08CB333F3384</RequestId>\\n</CreateQuotaAlarmResponse>\",\"errorExample\":\"\"}]","title":"创建配额用量告警","description":"本文将提供一个示例，为`config`（配置审计）的配额`q_hvnoqv`（规则创建数量）创建配额告警。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~171299~~)。 ","responseParamsDescription":" ","extraInfo":" "}