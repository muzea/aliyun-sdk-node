{"methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ResourceShareId","in":"query","schema":{"description":"共享单元ID。","type":"string","required":true,"docRequired":true,"example":"rs-6GRmdD3X****"}},{"name":"Resources","in":"query","style":"repeatList","schema":{"description":"资源列表。","type":"array","items":{"description":"资源列表。","type":"object","properties":{"ResourceType":{"description":"共享资源类型。\n\nN的取值范围：1~5，即每次最多移除5个共享资源。\n\n支持共享的资源类型，请参见[支持资源共享的云服务](~~450526~~)。\n\n> Resources.N.ResourceId与Resources.N.ResourceType成对出现，需要同时设置。","type":"string","required":false,"example":"VSwitch"},"ResourceId":{"description":"共享资源ID。\n\nN的取值范围：1~5，即每次最多移除5个共享资源。\n\n> Resources.N.ResourceId与Resources.N.ResourceType成对出现，需要同时设置。","type":"string","required":false,"example":"vsw-bp183p93qs667muql****"}},"required":false},"required":false,"maxItems":20}},{"name":"Targets","in":"query","style":"repeatList","schema":{"description":"资源使用者。","type":"array","items":{"description":"资源使用者。\n\nN的取值范围：1~5，即每次最多添加5个资源使用者。","type":"string","required":false,"example":"172050525300****"},"required":false,"example":"172050525300****","maxItems":20}},{"name":"ResourceOwner","in":"query","schema":{"description":"共享单元归属者。取值：\n\n- Self（默认值）：共享单元归属于当前账号。适用于资源目录内共享时，资源所有者移除共享资源或资源使用者场景。\n- OtherAccounts：共享单元归属于其他账号。适用于资源目录外共享时，资源使用者主动退出共享单元场景。","type":"string","required":false,"example":"Self"}}],"responses":{"200":{"schema":{"description":"返回参数。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"95230BC9-A8E8-4493-96BD-4F0C758E37F8"},"ResourceShareAssociations":{"description":"共享单元关联的共享资源或资源使用者信息。","type":"array","items":{"description":"共享单元关联的共享资源或资源使用者信息。","type":"object","properties":{"UpdateTime":{"description":"取消关联的更新时间。存在以下两种情况：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为移除资源的更新时间。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为移除资源使用者的更新时间。","type":"string","example":"2020-12-04T09:40:45.556Z"},"EntityId":{"description":"关联实体ID。取值：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为资源ID。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为资源目录ID、资源夹ID或成员ID。","type":"string","example":"172050525300****"},"ResourceShareName":{"description":"共享单元名称。","type":"string","example":"test"},"CreateTime":{"description":"取消关联的时间。存在以下两种情况：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为移除资源的时间。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为移除资源使用者的时间。","type":"string","example":"2020-12-04T09:40:41.250Z"},"EntityType":{"description":"关联实体类型。取值：\n\n- 当关联实体为资源时，该参数为资源类型。更多信息，请参见[支持资源共享的云服务](~~450526~~)。\n- 当关联实体为资源使用者时，该参数为Account。","type":"string","example":"Account"},"ResourceShareId":{"description":"共享单元ID。","type":"string","example":"rs-6GRmdD3X****"},"AssociationStatusMessage":{"description":"取消关联失败的原因。","type":"string","example":"The Resources is invalid."},"AssociationType":{"description":"关联类型。取值：\n\n- Resource：资源。\n- Target：资源使用者。","type":"string","example":"Target"},"AssociationStatus":{"description":"关联状态。取值：\n\n- Associating：关联中。\n- Associated：已关联。\n- Failed：关联失败。\n- Disassociating：分离中。\n- Disassociated：已分离。\n\n> `Failed`和`Disassociated`状态的记录，会在48~96小时内被系统自动删除。","type":"string","example":"Disassociating"},"TargetProperty":{"description":"资源使用者属性。例如：资源共享的时间段。\n> 仅当资源使用者为阿里云服务时返回该参数。","type":"string","example":"{\n    \"timeRange\":{\n        \"timeRangeType\":\"timeRange\",\n        \"beginAtTime\":\"00:00\",\n        \"timezone\":\"UTC+8\",\n        \"endAtTime\":\"19:59\"\n    }\n}"}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter.ResourceShareId","errorMessage":"You must specify ResourceShareId."},{"errorCode":"InvalidParameter.ResourceShareId","errorMessage":"The ResourceShareId is invalid."},{"errorCode":"InvalidParameter.Resources","errorMessage":"The Resources is invalid."},{"errorCode":"InvalidParameter.Resources.Duplicate","errorMessage":"The Resources contains duplicate values."},{"errorCode":"InvalidParameter.Resources.Length","errorMessage":"The maximum number of Resources exceeds 5."},{"errorCode":"InvalidParameter.Targets","errorMessage":"The Targets is invalid."},{"errorCode":"InvalidParameter.Targets.Duplicate","errorMessage":"The Targets contains duplicate values."},{"errorCode":"InvalidParameter.Targets.Length","errorMessage":"The maximum number of Targets exceeds 5."},{"errorCode":"ResourceAndTargetBothEmpty","errorMessage":"Either a resource or a shared target must be specified."},{"errorCode":"DisassociateInvalid","errorMessage":"You can not disassociate unassociated resource or target."},{"errorCode":"InvalidParameter","errorMessage":"The specified parameter is invalid."},{"errorCode":"InvalidParameter.ResourceType","errorMessage":"The ResourceType is invalid."}],"404":[{"errorCode":"EntityNotExists.ResourceShare","errorMessage":"The resource share does not exist in the current account."}],"409":[{"errorCode":"AccountNotInResourceDirectory","errorMessage":"The account is not a master or a member of a resource directory."},{"errorCode":"ResourceShareStatusMismatchAction","errorMessage":"The status of the resource share does not allow the specified operation."},{"errorCode":"DisassociateConflict","errorMessage":"You cannot perform the operation while association is already in progress."},{"errorCode":"LeavingFailed.Account","errorMessage":"The account was added to the resource share automatically by resoucre directory."},{"errorCode":"LeavingFailed.ResourceType","errorMessage":"The resource share contains resources of the resource types that dont support this action."},{"errorCode":"ExternalTargetWithdrawConflict","errorMessage":"Existing internal association task in resource directory when disassociating with resource share."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"95230BC9-A8E8-4493-96BD-4F0C758E37F8\\\",\\n  \\\"ResourceShareAssociations\\\": [\\n    {\\n      \\\"UpdateTime\\\": \\\"2020-12-04T09:40:45.556Z\\\",\\n      \\\"EntityId\\\": \\\"172050525300****\\\",\\n      \\\"ResourceShareName\\\": \\\"test\\\",\\n      \\\"CreateTime\\\": \\\"2020-12-04T09:40:41.250Z\\\",\\n      \\\"EntityType\\\": \\\"Account\\\",\\n      \\\"ResourceShareId\\\": \\\"rs-6GRmdD3X****\\\",\\n      \\\"AssociationStatusMessage\\\": \\\"The Resources is invalid.\\\",\\n      \\\"AssociationType\\\": \\\"Target\\\",\\n      \\\"AssociationStatus\\\": \\\"Disassociating\\\",\\n      \\\"TargetProperty\\\": \\\"{\\\\n    \\\\\\\"timeRange\\\\\\\":{\\\\n        \\\\\\\"timeRangeType\\\\\\\":\\\\\\\"timeRange\\\\\\\",\\\\n        \\\\\\\"beginAtTime\\\\\\\":\\\\\\\"00:00\\\\\\\",\\\\n        \\\\\\\"timezone\\\\\\\":\\\\\\\"UTC+8\\\\\\\",\\\\n        \\\\\\\"endAtTime\\\\\\\":\\\\\\\"19:59\\\\\\\"\\\\n    }\\\\n}\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\r\\n<DisassociateResourceShareResponse>\\r\\n\\t<ResourceShareAssociations>\\r\\n\\t\\t<ResourceShareId>rs-6GRmdD3X****</ResourceShareId>\\r\\n\\t\\t<EntityId>172050525300****</EntityId>\\r\\n\\t\\t<EntityType>Account</EntityType>\\r\\n\\t\\t<AssociationStatusMessage></AssociationStatusMessage>\\r\\n\\t\\t<AssociationType>Target</AssociationType>\\r\\n\\t\\t<CreateTime>2020-12-04T09:40:41.250Z</CreateTime>\\r\\n\\t\\t<UpdateTime>2020-12-04T09:40:45.556Z</UpdateTime>\\r\\n        <ResourceShareName>test</ResourceShareName>\\r\\n\\t\\t<AssociationStatus>Disassociating</AssociationStatus>\\r\\n\\t</ResourceShareAssociations>\\r\\n\\t<RequestId>95230BC9-A8E8-4493-96BD-4F0C758E37F8</RequestId>\\r\\n</DisassociateResourceShareResponse>\\t\\r\\n\",\"errorExample\":\"\"}]","title":"移除共享资源或资源使用者","summary":"为共享单元移除共享资源或资源使用者。","description":"- 资源所有者可以调用本API，移除共享资源或资源使用者。\n- 在资源目录外共享资源时，对于已加入共享的资源使用者，可以调用本API主动退出共享单元。更多信息，请参见[资源使用者退出共享单元](~~440614~~)。\n\n本文将提供一个示例，使用资源目录管理账号，在`cn-hangzhou`地域的共享单元`rs-6GRmdD3X****`中，移除资源使用者`172050525300****`，即停止对该资源使用者的共享。","responseParamsDescription":" ","extraInfo":" "}