{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"ResourceId","in":"query","schema":{"description":"资源ID。\n>当`AssociationType`为`Target`时，该参数不可用。","type":"string","required":false,"example":"vsw-bp183p93qs667muql****"}},{"name":"Target","in":"query","schema":{"description":"资源使用者ID。\n\n>当`AssociationType`为`Resource`时，该参数不可用。","type":"string","required":false,"example":"172050525300****"}},{"name":"AssociationType","in":"query","schema":{"description":"关联类型：取值：\n\n- Resource：查询关联共享资源的记录。\n- Target：查询关联资源使用者的记录。","type":"string","required":true,"docRequired":true,"example":"Resource"}},{"name":"AssociationStatus","in":"query","schema":{"description":"关联状态。取值：\n\n- Associating：关联中。\n- Associated：已关联。\n- Failed：关联失败。\n- Disassociating：分离中。\n- Disassociated：已分离。\n\n> `Failed`和`Disassociated`状态的记录，会在48~96小时内被系统自动删除。","type":"string","required":false,"example":"Associated"}},{"name":"MaxResults","in":"query","schema":{"description":"单次请求返回结果的最大条数。\n\n取值范围：1~100。默认值：20。","type":"integer","format":"int32","required":false,"example":"20"}},{"name":"NextToken","in":"query","schema":{"description":"当请求的返回结果被截断时，您可以使用`NextToken`再次发起请求，获取从当前截断位置之后的内容。","type":"string","required":false,"example":"TGlzdFJlc291cm****"}},{"name":"ResourceShareIds","in":"query","style":"repeatList","schema":{"description":"共享单元ID。\n\nN的取值范围：1~5，即每次最多指定5个共享单元。","type":"array","items":{"description":"共享单元ID。","type":"string","required":false,"example":"rs-6GRmdD3X****"},"required":false,"example":"rs-6GRmdD3X****","maxItems":20}}],"responses":{"200":{"schema":{"description":"返回参数。","type":"object","properties":{"NextToken":{"description":"当请求的返回结果被截断时，您可以使用`NextToken`再次发起请求，获取从当前截断位置之后的内容。","type":"string","example":"TGlzdFJlc291cm****"},"RequestId":{"description":"请求ID。","type":"string","example":"11BA57B5-7301-4E2F-BBA5-2AE4C2F4FCDB"},"ResourceShareAssociations":{"description":"共享资源或资源使用者信息。","type":"array","items":{"description":"共享资源或资源使用者信息。","type":"object","properties":{"UpdateTime":{"description":"更新关联的时间。存在以下两种情况：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为更新资源的时间。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为更新资源使用者的时间。","type":"string","example":"2020-12-07T07:39:02.920Z"},"EntityId":{"description":"关联实体ID。取值：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为资源ID。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为资源使用者ID。","type":"string","example":"vsw-bp1upw03qyz8n7us9****"},"ResourceShareName":{"description":"共享单元名称。","type":"string","example":"example"},"CreateTime":{"description":"关联的时间。存在以下两种情况：\n\n- 当关联类型`AssociationType`为资源`Resource`时，该参数为添加或移除资源的时间。\n- 当关联类型`AssociationType`为资源使用者`Target`时，该参数为添加或移除资源使用者的时间。\n","type":"string","example":"2020-12-07T07:39:01.818Z"},"EntityType":{"description":"关联实体类型。取值：\n\n- 当关联实体为资源时，该参数为资源类型。更多信息，请参见[支持资源共享的云服务](~~450526~~)。\n- 当关联实体为资源使用者时，该参数为`Account`。","type":"string","example":"VSwitch"},"ResourceShareId":{"description":"共享单元ID。","type":"string","example":"rs-6GRmdD3X****"},"AssociationStatusMessage":{"description":"关联失败的原因。","type":"string","example":"The reason for the association failure. "},"AssociationType":{"description":"关联类型。取值：\n\n- Resource：资源。\n- Target：资源使用者。","type":"string","example":"Resource"},"AssociationStatus":{"description":"关联状态。取值：\n\n- Associating：关联中。\n- Associated：已关联。\n- Failed：关联失败。\n- Disassociating：分离中。\n- Disassociated：已分离。\n\n> `Failed`和`Disassociated`状态的记录，会在48~96小时内被系统自动删除。","type":"string","example":"Failed"},"External":{"description":"资源使用者是否为资源目录外账号。取值：\n\n- true：资源目录外账号。\n- false：资源目录内账号。","type":"boolean","example":"false"},"TargetProperty":{"description":"资源使用者属性。例如：资源共享的时间段。`timeRangeType`取值：\n- timeRange：指定时间段。\n- day：全天。\n> 仅当资源使用者为阿里云服务时返回该参数。","type":"string","example":"{\n    \"timeRange\":{\n        \"timeRangeType\":\"timeRange\",\n        \"beginAtTime\":\"00:00\",\n        \"timezone\":\"UTC+8\",\n        \"endAtTime\":\"19:59\"\n    }\n}"},"AssociationFailedDetails":{"description":"关联或解除关联资源或者资源使用者检查失败详细原因。","type":"array","items":{"description":"关联或解除关联资源或者资源使用者检查失败详细原因。","type":"object","properties":{"Status":{"description":"已弃用。请使用FailureReason。","type":"string","example":"无"},"StatusMessage":{"description":"已弃用。请使用FailureDescription。","type":"string","example":"无"},"AssociateType":{"description":"已弃用。请使用OperationType。","type":"string","example":"无"},"EntityId":{"description":"关联实体ID。取值：\n\n* 当关联类型AssociationType为资源Resource时，该参数为资源使用者ID。\n* 当关联类型AssociationType为资源使用者Target时，该参数为资源ID。","type":"string","example":"172050525300****"},"EntityType":{"description":"关联实体类型。取值：\n\n* 当关联实体为资源时，该参数为资源类型。更多信息，请参见支持资源共享的云服务。\n* 当关联实体为资源使用者时，该参数为`ResourceDirectory`、`Folder`、`Account`或`Service`。","type":"string","example":"Account"},"FailureReason":{"description":"关联或解除关联失败时的原因。 取值：\n- Unavailable：资源不存在等情况导致共享失败。 \n- LimitExceeded：资源可共享的目标Quota超出上限。 \n- ZonalResourceInaccessible： 资源在此地域不可用。 \n- InternalError：服务器内部出现错误。 \n- UnsupportedOperation：不支持执行操作。","type":"string","example":"Unavailable"},"FailureDescription":{"description":"关联或解除关联失败时的详细原因描述。","type":"string","example":"You cannot access the specified resource at this time."},"OperationType":{"description":"操作类型。取值：\n- Associate：关联。\n- Disassociate：解除关联。","type":"string","example":"Associate"}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter.AssociationType","errorMessage":"You must specify AssociationType."},{"errorCode":"InvalidParameter.AssociationType","errorMessage":"The AssociationType is invalid."},{"errorCode":"InvalidParameter.AssociationStatus","errorMessage":"The AssociationStatus is invalid."},{"errorCode":"InvalidParameter.MaxResults","errorMessage":"The MaxResults is invalid."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The NextToken is invalid."},{"errorCode":"InvalidParameter.NextToken.Length","errorMessage":"The maximum length of NextToken exceeds 256 characters."},{"errorCode":"InvalidParameter.ResourceShareIds","errorMessage":"The ResourceShareIds is invalid."},{"errorCode":"InvalidParameter.ResourceShareIds.Duplicate","errorMessage":"The ResourceShareIds contains duplicate values."},{"errorCode":"InvalidParameter.ResourceShareIds.Length","errorMessage":"The maximum length of ResourceShareIds exceeds 5 characters."},{"errorCode":"InvalidParameter.Target","errorMessage":"The Target is invalid."},{"errorCode":"InvalidParameter.ResourceId","errorMessage":"The ResourceId is invalid."},{"errorCode":"ConflictedAssociationType","errorMessage":"The specified ResourceId or Target conflicts with AssociationType."},{"errorCode":"InvalidParameter","errorMessage":"The specified parameter is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"TGlzdFJlc291cm****\\\",\\n  \\\"RequestId\\\": \\\"11BA57B5-7301-4E2F-BBA5-2AE4C2F4FCDB\\\",\\n  \\\"ResourceShareAssociations\\\": [\\n    {\\n      \\\"UpdateTime\\\": \\\"2020-12-07T07:39:02.920Z\\\",\\n      \\\"EntityId\\\": \\\"vsw-bp1upw03qyz8n7us9****\\\",\\n      \\\"ResourceShareName\\\": \\\"example\\\",\\n      \\\"CreateTime\\\": \\\"2020-12-07T07:39:01.818Z\\\",\\n      \\\"EntityType\\\": \\\"VSwitch\\\",\\n      \\\"ResourceShareId\\\": \\\"rs-6GRmdD3X****\\\",\\n      \\\"AssociationStatusMessage\\\": \\\"The reason for the association failure. \\\",\\n      \\\"AssociationType\\\": \\\"Resource\\\",\\n      \\\"AssociationStatus\\\": \\\"Failed\\\",\\n      \\\"External\\\": false,\\n      \\\"TargetProperty\\\": \\\"{\\\\n    \\\\\\\"timeRange\\\\\\\":{\\\\n        \\\\\\\"timeRangeType\\\\\\\":\\\\\\\"timeRange\\\\\\\",\\\\n        \\\\\\\"beginAtTime\\\\\\\":\\\\\\\"00:00\\\\\\\",\\\\n        \\\\\\\"timezone\\\\\\\":\\\\\\\"UTC+8\\\\\\\",\\\\n        \\\\\\\"endAtTime\\\\\\\":\\\\\\\"19:59\\\\\\\"\\\\n    }\\\\n}\\\",\\n      \\\"AssociationFailedDetails\\\": [\\n        {\\n          \\\"Status\\\": \\\"无\\\",\\n          \\\"StatusMessage\\\": \\\"无\\\",\\n          \\\"AssociateType\\\": \\\"无\\\",\\n          \\\"EntityId\\\": \\\"172050525300****\\\",\\n          \\\"EntityType\\\": \\\"Account\\\",\\n          \\\"FailureReason\\\": \\\"Unavailable\\\",\\n          \\\"FailureDescription\\\": \\\"You cannot access the specified resource at this time.\\\",\\n          \\\"OperationType\\\": \\\"Associate\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListResourceShareAssociationsResponse>\\n    <ResourceShareAssociations>\\n        <ResourceShareId>rs-6GRmdD3X****</ResourceShareId>\\n        <ResourceShareName>example</ResourceShareName>\\n        <EntityId>vsw-bp1upw03qyz8n7us9****</EntityId>\\n        <EntityType>VSwitch</EntityType>\\n        <AssociationStatusMessage/>\\n        <AssociationType>Resource</AssociationType>\\n        <CreateTime>2020-12-07T07:39:01.818Z</CreateTime>\\n        <UpdateTime>2020-12-07T07:39:02.920Z</UpdateTime>\\n        <External>false</External>\\n        <AssociationStatus>Associated</AssociationStatus>\\n    </ResourceShareAssociations>\\n    <ResourceShareAssociations>\\n        <ResourceShareId>rs-6GRmdD3X****</ResourceShareId>\\n        <ResourceShareName>example</ResourceShareName>\\n        <EntityId>vsw-bp183p93qs667muql****</EntityId>\\n        <EntityType>VSwitch</EntityType>\\n        <AssociationStatusMessage/>\\n        <AssociationType>Resource</AssociationType>\\n        <CreateTime>2020-12-04T09:40:41.246Z</CreateTime>\\n        <UpdateTime>2020-12-07T03:17:24.067Z</UpdateTime>\\n        <External>false</External>\\n        <AssociationStatus>Disassociated</AssociationStatus>\\n    </ResourceShareAssociations>\\n    <RequestId>11BA57B5-7301-4E2F-BBA5-2AE4C2F4FCDB</RequestId>\\n</ListResourceShareAssociationsResponse>\",\"errorExample\":\"\"}]","title":"查询关联资源或资源使用者","summary":"查询共享单元中关联资源或资源使用者的记录。","description":"本文将提供一个示例，在`cn-hangzhou`地域，查询当前账号创建的共享单元中关联的共享资源的记录。返回结果显示，当前账号关联过以下2个资源：\n\n- 在共享单元`rs-6GRmdD3X****`中，添加过`VSwitch`类型的共享资源`vsw-bp1upw03qyz8n7us9****`，该资源处于关联中`Associated`状态，即该资源正常共享中。\n- 在共享单元`rs-6GRmdD3X****`中，移除过`VSwitch`类型的共享资源`vsw-bp183p93qs667muql****`，该资源处于已分离`Disassociated`状态，即该资源已停止共享。","responseParamsDescription":" ","extraInfo":" "}