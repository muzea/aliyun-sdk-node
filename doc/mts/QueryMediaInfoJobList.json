{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get","abilityTreeCode":"23101","abilityTreeNodes":["FEATUREmtsZWMPKM"]},"parameters":[{"name":"MediaInfoJobIds","in":"query","schema":{"description":"媒体信息作业ID。\n- 一次最多查询10个，使用半角逗号（,）分隔。\n- 可以从[提交媒体信息作业](~~602827~~)的返回参数中获取。\n\n> 如果不传入此参数，则会返回**InvalidParameter**（参数无效）错误码。","type":"string","required":true,"example":"23ca1d184c0e4341e5b665e2a12****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NonExistMediaInfoJobIds":{"type":"object","properties":{"String":{"description":"不存在的媒体信息作业。","type":"array","items":{"description":"不存在的媒体信息作业ID列表，无数据时不返回该参数。","type":"string","example":"11ce1d184c0e4341e5b665e2a12****"}}}},"RequestId":{"description":"请求ID。","type":"string","example":"46A04AA5-B119-41BB-B750-7C5327AC3E7A"},"MediaInfoJobList":{"type":"object","properties":{"MediaInfoJob":{"description":"媒体信息作业列表。","type":"array","items":{"type":"object","properties":{"CreationTime":{"description":"作业添加时间。","type":"string","example":"2014-01-10T12:00:00Z"},"State":{"description":"作业状态。\n\n- **Analyzing**：分析中。\n- **Success**：分析成功。\n- **Fail**：分析失败。","type":"string","example":"Success"},"JobId":{"description":"元信息分析作业ID。","type":"string","example":"23ca1d184c0e4341e5b665e2a12****"},"UserData":{"description":"用户自定义数据。","type":"string","example":"testid-001"},"Code":{"description":"元信息分析失败时错误码。","type":"string","example":"InvalidParameter.JsonObjectFormatInvalid"},"Message":{"description":"元信息分析失败时错误信息。","type":"string","example":"The parameter ”*” does not conform to the JSON Object specification"},"PipelineId":{"description":"管道ID。","type":"string","example":"88c6ca184c0e432bbf5b665e2a15****"},"Async":{"description":"是否为异步作业。","type":"boolean","example":"true"},"Input":{"description":"作业输入。","type":"object","properties":{"Object":{"description":"OSS的Object。","type":"string","example":"example.mp4"},"Location":{"description":"OSS的服务区域。","type":"string","example":"oss-cn-hangzhou"},"Bucket":{"description":"输入文件的OSS Bucket。","type":"string","example":"example-bucket"}}},"MNSMessageResult":{"description":"MNS通知用户作业完成的消息结果。","type":"object","properties":{"MessageId":{"description":"成功时消息ID。如果失败则不返回此参数。","type":"string","example":"123"},"ErrorMessage":{"description":"失败时错误信息。如果成功则不返回此参数。","type":"string","example":"The parameter \\\"Input\\\" does not conform to the JSON Object specification"},"ErrorCode":{"description":"失败时错误码。如果成功则不返回此参数。","type":"string","example":"InvalidParameter.JsonObjectFormatInvalid"}}},"Properties":{"description":"媒体详细属性。更多信息请参见[数据类型AliyunProperties](~~29251~~)。","type":"object","properties":{"Width":{"description":"视频像素宽。","type":"string","example":"1280"},"Height":{"description":"视频像素长。","type":"string","example":"720"},"Duration":{"description":"时长。","type":"string","example":"17.226000"},"Fps":{"description":"帧率。","type":"string","example":"25"},"Bitrate":{"description":"码率。","type":"string","example":"1630.045"},"FileFormat":{"description":"文件格式。","type":"string","example":"QuickTime/MOV"},"Streams":{"description":"流信息。","type":"object","properties":{"VideoStreamList":{"type":"object","properties":{"VideoStream":{"description":"视频流信息列表。","type":"array","items":{"type":"object","properties":{"Sar":{"description":"编码信号分辨率比。","type":"string","example":"1:1"},"Height":{"description":"视频分辨率长。","type":"string","example":"1080"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"[0][0][0][0]"},"NetworkCost":{"description":"网络带宽消耗。","type":"object","properties":{"PreloadTime":{"description":"预加载时间。","type":"string","example":"8"},"AvgBitrate":{"description":"平均码率。","type":"string","example":"300.34"},"CostBandwidth":{"description":"最大消耗带宽。","type":"string","example":"10"}}},"Width":{"description":"视频分辨率宽。","type":"string","example":"1920"},"Index":{"description":"视频流序号，标识视频流在整个媒体流中的位置。","type":"string","example":"1"},"Timebase":{"description":"时基。","type":"string","example":"1/1000"},"AvgFPS":{"description":"平均帧率。","type":"string","example":"23.976025"},"PixFmt":{"description":"像素格式。","type":"string","example":"yuv420p"},"Lang":{"description":"语言。","type":"string","example":"eng"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"H.264/AVC/MPEG-4 AVC/MPEG-4 part 10"},"NumFrames":{"description":"总帧数。","type":"string","example":"100"},"Rotate":{"description":"视频旋转角度。","type":"string","example":"180"},"Bitrate":{"description":"码率。","type":"string","example":"30541090"},"HasBFrames":{"description":"是否有B帧。0表示无，1表示有。","type":"string","example":"0"},"Profile":{"description":"编码预置。","type":"string","example":"High"},"StartTime":{"description":"起始时间。","type":"string","example":"0.042000"},"Dar":{"description":"编码显示分辨率比。","type":"string","example":"16:9"},"CodecName":{"description":"编码格式简述名。可选值：\n\n- **h264**\n\n- **h265**\n\n- **gif**\n\n- **webp**","type":"string","example":"h264"},"Duration":{"description":"时长。","type":"string","example":"100"},"Fps":{"description":"帧率。","type":"string","example":"25"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x0000"},"CodecTimeBase":{"description":"编码时基。","type":"string","example":"1001/48000"},"Level":{"description":"编码等级。","type":"string","example":"41"},"ColorRange":{"description":"色彩范围。","type":"string","example":"700"},"ColorTransfer":{"description":"色彩通道。","type":"string","example":"R255 G83 B170"},"ColorPrimaries":{"description":"色原。","type":"string","example":"700"}}}}}},"AudioStreamList":{"type":"object","properties":{"AudioStream":{"description":"音频流信息列表。","type":"array","items":{"type":"object","properties":{"Timebase":{"description":"时基。","type":"string","example":"1/1000"},"Index":{"description":"音频流序号，标识音频流在整个媒体流中的位置。","type":"string","example":"1"},"SampleFmt":{"description":"采样格式。","type":"string","example":"fltp"},"ChannelLayout":{"description":"声道数。","type":"string","example":"5.1(side)"},"Lang":{"description":"语言。更多信息请参见[FFmpeg语言定义](https://www.ffmpeg.org/ffmpeg-all.html?spm=a2c4g.11186623.2.66.243851cd2SntfN#Metadata)。","type":"string","example":"eng"},"Samplerate":{"description":"采样率。","type":"string","example":"48000"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"DCA (DTS Coherent Acoustics)"},"Channels":{"description":"声道输出样式。","type":"string","example":"2"},"NumFrames":{"description":"总帧数。","type":"string","example":"123"},"Bitrate":{"description":"码率。","type":"string","example":"1536000"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"[0][0][0][0]"},"StartTime":{"description":"起始时间。","type":"string","example":"0.042000"},"CodecName":{"description":"编码格式简述名。可取值：\n\n- **acc**\n\n- **mp3**\n\n- **mp4**\n\n- **ogg**\n\n- **flac**","type":"string","example":"acc"},"Duration":{"description":"时长。","type":"string","example":"123"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x0000"},"CodecTimeBase":{"description":"编码时基。","type":"string","example":"1/48000"}}}}}},"SubtitleStreamList":{"type":"object","properties":{"SubtitleStream":{"description":"字幕流信息列表。","type":"array","items":{"type":"object","properties":{"Timebase":{"description":"时基。","type":"string","example":"1/1000"},"Index":{"description":"字幕流序号，标识字幕流在整个媒体流中的位置。","type":"string","example":"3"},"StartTime":{"description":"起始时间。","type":"string","example":"0.000000"},"CodecName":{"description":"编码格式简述名。可选值：\n\n- **srt**\n\n- **ass**","type":"string","example":"ass"},"Lang":{"description":"语言。","type":"string","example":"eng"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"ASS (Advanced SSA) subtitle"},"Duration":{"description":"时长，单位秒（s）。","type":"string","example":"1370.116000"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x0000"},"CodecTimeBase":{"description":"编码时基。","type":"string","example":"0/1"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"[0][0][0][0]"}}}}}}}},"Format":{"description":"格式信息。","type":"object","properties":{"StartTime":{"description":"起始时间。","type":"string","example":"0.042000"},"NumPrograms":{"description":"节目流总数。","type":"string","example":"2"},"Size":{"description":"文件大小。","type":"string","example":"3509895"},"NumStreams":{"description":"媒体流总数。","type":"string","example":"1"},"FormatLongName":{"description":"容器、封装格式长述名。","type":"string","example":"QuickTime/MOV"},"Duration":{"description":"总时长。","type":"string","example":"17.226000"},"Bitrate":{"description":"总码率。","type":"string","example":"1630.045"},"FormatName":{"description":"容器、封装格式简述名。","type":"string","example":"mov"}}},"FileSize":{"description":"文件大小。","type":"string","example":"3509895"}}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NonExistMediaInfoJobIds\\\": {\\n    \\\"String\\\": [\\n      \\\"11ce1d184c0e4341e5b665e2a12****\\\"\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"46A04AA5-B119-41BB-B750-7C5327AC3E7A\\\",\\n  \\\"MediaInfoJobList\\\": {\\n    \\\"MediaInfoJob\\\": [\\n      {\\n        \\\"CreationTime\\\": \\\"2014-01-10T12:00:00Z\\\",\\n        \\\"State\\\": \\\"Success\\\",\\n        \\\"JobId\\\": \\\"23ca1d184c0e4341e5b665e2a12****\\\",\\n        \\\"UserData\\\": \\\"testid-001\\\",\\n        \\\"Code\\\": \\\"InvalidParameter.JsonObjectFormatInvalid\\\",\\n        \\\"Message\\\": \\\"The parameter ”*” does not conform to the JSON Object specification\\\",\\n        \\\"PipelineId\\\": \\\"88c6ca184c0e432bbf5b665e2a15****\\\",\\n        \\\"Async\\\": true,\\n        \\\"Input\\\": {\\n          \\\"Object\\\": \\\"example.mp4\\\",\\n          \\\"Location\\\": \\\"oss-cn-hangzhou\\\",\\n          \\\"Bucket\\\": \\\"example-bucket\\\"\\n        },\\n        \\\"MNSMessageResult\\\": {\\n          \\\"MessageId\\\": \\\"123\\\",\\n          \\\"ErrorMessage\\\": \\\"The parameter \\\\\\\\\\\\\\\"Input\\\\\\\\\\\\\\\" does not conform to the JSON Object specification\\\",\\n          \\\"ErrorCode\\\": \\\"InvalidParameter.JsonObjectFormatInvalid\\\"\\n        },\\n        \\\"Properties\\\": {\\n          \\\"Width\\\": \\\"1280\\\",\\n          \\\"Height\\\": \\\"720\\\",\\n          \\\"Duration\\\": \\\"17.226000\\\",\\n          \\\"Fps\\\": \\\"25\\\",\\n          \\\"Bitrate\\\": \\\"1630.045\\\",\\n          \\\"FileFormat\\\": \\\"QuickTime/MOV\\\",\\n          \\\"Streams\\\": {\\n            \\\"VideoStreamList\\\": {\\n              \\\"VideoStream\\\": [\\n                {\\n                  \\\"Sar\\\": \\\"1:1\\\",\\n                  \\\"Height\\\": \\\"1080\\\",\\n                  \\\"CodecTagString\\\": \\\"[0][0][0][0]\\\",\\n                  \\\"NetworkCost\\\": {\\n                    \\\"PreloadTime\\\": \\\"8\\\",\\n                    \\\"AvgBitrate\\\": \\\"300.34\\\",\\n                    \\\"CostBandwidth\\\": \\\"10\\\"\\n                  },\\n                  \\\"Width\\\": \\\"1920\\\",\\n                  \\\"Index\\\": \\\"1\\\",\\n                  \\\"Timebase\\\": \\\"1/1000\\\",\\n                  \\\"AvgFPS\\\": \\\"23.976025\\\",\\n                  \\\"PixFmt\\\": \\\"yuv420p\\\",\\n                  \\\"Lang\\\": \\\"eng\\\",\\n                  \\\"CodecLongName\\\": \\\"H.264/AVC/MPEG-4 AVC/MPEG-4 part 10\\\",\\n                  \\\"NumFrames\\\": \\\"100\\\",\\n                  \\\"Rotate\\\": \\\"180\\\",\\n                  \\\"Bitrate\\\": \\\"30541090\\\",\\n                  \\\"HasBFrames\\\": \\\"0\\\",\\n                  \\\"Profile\\\": \\\"High\\\",\\n                  \\\"StartTime\\\": \\\"0.042000\\\",\\n                  \\\"Dar\\\": \\\"16:9\\\",\\n                  \\\"CodecName\\\": \\\"h264\\\",\\n                  \\\"Duration\\\": \\\"100\\\",\\n                  \\\"Fps\\\": \\\"25\\\",\\n                  \\\"CodecTag\\\": \\\"0x0000\\\",\\n                  \\\"CodecTimeBase\\\": \\\"1001/48000\\\",\\n                  \\\"Level\\\": \\\"41\\\",\\n                  \\\"ColorRange\\\": \\\"700\\\",\\n                  \\\"ColorTransfer\\\": \\\"R255 G83 B170\\\",\\n                  \\\"ColorPrimaries\\\": \\\"700\\\"\\n                }\\n              ]\\n            },\\n            \\\"AudioStreamList\\\": {\\n              \\\"AudioStream\\\": [\\n                {\\n                  \\\"Timebase\\\": \\\"1/1000\\\",\\n                  \\\"Index\\\": \\\"1\\\",\\n                  \\\"SampleFmt\\\": \\\"fltp\\\",\\n                  \\\"ChannelLayout\\\": \\\"5.1(side)\\\",\\n                  \\\"Lang\\\": \\\"eng\\\",\\n                  \\\"Samplerate\\\": \\\"48000\\\",\\n                  \\\"CodecLongName\\\": \\\"DCA (DTS Coherent Acoustics)\\\",\\n                  \\\"Channels\\\": \\\"2\\\",\\n                  \\\"NumFrames\\\": \\\"123\\\",\\n                  \\\"Bitrate\\\": \\\"1536000\\\",\\n                  \\\"CodecTagString\\\": \\\"[0][0][0][0]\\\",\\n                  \\\"StartTime\\\": \\\"0.042000\\\",\\n                  \\\"CodecName\\\": \\\"acc\\\",\\n                  \\\"Duration\\\": \\\"123\\\",\\n                  \\\"CodecTag\\\": \\\"0x0000\\\",\\n                  \\\"CodecTimeBase\\\": \\\"1/48000\\\"\\n                }\\n              ]\\n            },\\n            \\\"SubtitleStreamList\\\": {\\n              \\\"SubtitleStream\\\": [\\n                {\\n                  \\\"Timebase\\\": \\\"1/1000\\\",\\n                  \\\"Index\\\": \\\"3\\\",\\n                  \\\"StartTime\\\": \\\"0.000000\\\",\\n                  \\\"CodecName\\\": \\\"ass\\\",\\n                  \\\"Lang\\\": \\\"eng\\\",\\n                  \\\"CodecLongName\\\": \\\"ASS (Advanced SSA) subtitle\\\",\\n                  \\\"Duration\\\": \\\"1370.116000\\\",\\n                  \\\"CodecTag\\\": \\\"0x0000\\\",\\n                  \\\"CodecTimeBase\\\": \\\"0/1\\\",\\n                  \\\"CodecTagString\\\": \\\"[0][0][0][0]\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"Format\\\": {\\n            \\\"StartTime\\\": \\\"0.042000\\\",\\n            \\\"NumPrograms\\\": \\\"2\\\",\\n            \\\"Size\\\": \\\"3509895\\\",\\n            \\\"NumStreams\\\": \\\"1\\\",\\n            \\\"FormatLongName\\\": \\\"QuickTime/MOV\\\",\\n            \\\"Duration\\\": \\\"17.226000\\\",\\n            \\\"Bitrate\\\": \\\"1630.045\\\",\\n            \\\"FormatName\\\": \\\"mov\\\"\\n          },\\n          \\\"FileSize\\\": \\\"3509895\\\"\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<QueryMediaInfoJobListResponse>\\n    <NonExistMediaInfoJobIds>11ce1d184c0e4341e5b665e2a12****</NonExistMediaInfoJobIds>\\n    <RequestId>46A04AA5-B119-41BB-B750-7C5327AC3E7A</RequestId>\\n    <MediaInfoJobList>\\n        <CreationTime>2014-01-10T12:00:00Z</CreationTime>\\n        <State>Success</State>\\n        <JobId>23ca1d184c0e4341e5b665e2a12****</JobId>\\n        <UserData>testid-001</UserData>\\n        <PipelineId>88c6ca184c0e432bbf5b665e2a15****</PipelineId>\\n        <Async>true</Async>\\n        <Input>\\n            <Object>example.mp4</Object>\\n            <Location>oss-cn-hangzhou</Location>\\n            <Bucket>example-bucket</Bucket>\\n        </Input>\\n        <MNSMessageResult>\\n            <MessageId>123</MessageId>\\n        </MNSMessageResult>\\n        <Properties>\\n            <Width>1280</Width>\\n            <Height>720</Height>\\n            <Duration>17.226000</Duration>\\n            <Fps>25</Fps>\\n            <Bitrate>1630.045</Bitrate>\\n            <FileFormat>QuickTime/MOV</FileFormat>\\n            <Streams>\\n                <VideoStreamList>\\n                    <Sar>1:1</Sar>\\n                    <Height>1080</Height>\\n                    <CodecTagString>[0][0][0][0]</CodecTagString>\\n                    <NetworkCost>\\n                        <PreloadTime>8</PreloadTime>\\n                        <AvgBitrate>300.34</AvgBitrate>\\n                        <CostBandwidth>10</CostBandwidth>\\n                    </NetworkCost>\\n                    <Width>1920</Width>\\n                    <Index>1</Index>\\n                    <Timebase>1/1000</Timebase>\\n                    <AvgFPS>24000/1001</AvgFPS>\\n                    <PixFmt>yuv420p</PixFmt>\\n                    <Lang>eng</Lang>\\n                    <CodecLongName>H.264/AVC/MPEG-4 AVC/MPEG-4 part 10</CodecLongName>\\n                    <NumFrames>100</NumFrames>\\n                    <Rotate>180</Rotate>\\n                    <Bitrate>30541090</Bitrate>\\n                    <HasBFrames>0</HasBFrames>\\n                    <Profile>High</Profile>\\n                    <StartTime>0.042000</StartTime>\\n                    <Dar>16:9</Dar>\\n                    <CodecName>h264</CodecName>\\n                    <Duration>100</Duration>\\n                    <Fps>25</Fps>\\n                    <CodecTag>0x0000</CodecTag>\\n                    <CodecTimeBase>1001/48000</CodecTimeBase>\\n                    <Level>41</Level>\\n                    <ColorRange>700</ColorRange>\\n                    <ColorTransfer>R255 G83 B170</ColorTransfer>\\n                    <ColorPrimaries>700</ColorPrimaries>\\n                </VideoStreamList>\\n                <AudioStreamList>\\n                    <Timebase>1/1000</Timebase>\\n                    <Index>1</Index>\\n                    <SampleFmt>fltp</SampleFmt>\\n                    <ChannelLayout>5.1(side)</ChannelLayout>\\n                    <Lang>eng</Lang>\\n                    <Samplerate>48000</Samplerate>\\n                    <CodecLongName>DCA (DTS Coherent Acoustics)</CodecLongName>\\n                    <Channels>2</Channels>\\n                    <NumFrames>123</NumFrames>\\n                    <Bitrate>1536000</Bitrate>\\n                    <CodecTagString>[0][0][0][0]</CodecTagString>\\n                    <StartTime>0.042000</StartTime>\\n                    <CodecName>acc</CodecName>\\n                    <Duration>123</Duration>\\n                    <CodecTag>0x0000</CodecTag>\\n                    <CodecTimeBase>1/48000</CodecTimeBase>\\n                </AudioStreamList>\\n                <SubtitleStreamList>\\n                    <Timebase>1/1000</Timebase>\\n                    <Index>3</Index>\\n                    <StartTime>0.000000</StartTime>\\n                    <CodecName>ass</CodecName>\\n                    <Lang>eng</Lang>\\n                    <CodecLongName>ASS (Advanced SSA) subtitle</CodecLongName>\\n                    <Duration>1370.116000</Duration>\\n                    <CodecTag>0x0000</CodecTag>\\n                    <CodecTimeBase>0/1</CodecTimeBase>\\n                    <CodecTagString>[0][0][0][0]</CodecTagString>\\n                </SubtitleStreamList>\\n            </Streams>\\n            <Format>\\n                <StartTime>0.042000</StartTime>\\n                <NumPrograms>2</NumPrograms>\\n                <Size>3509895</Size>\\n                <NumStreams>1</NumStreams>\\n                <FormatLongName>QuickTime/MOV</FormatLongName>\\n                <Duration>17.226000</Duration>\\n                <Bitrate>1630.045</Bitrate>\\n                <FormatName>mov</FormatName>\\n            </Format>\\n            <FileSize>3509895</FileSize>\\n        </Properties>\\n    </MediaInfoJobList>\\n</QueryMediaInfoJobListResponse>\",\"errorExample\":\"\"}]","title":"查询媒体信息作业信息","summary":"查询媒体信息作业。","description":"- 异步模式需要等到**提交媒体信息作业**的MNS回调成功后才能查询到媒体信息。如果长时间查询不到媒体信息，可能是提交媒体信息作业执行失败。\n- 本接口一次最多可查询10个媒体信息作业。\n- 本接口返回值默认按CreationTime降序排列。\n\n### QPS限制\n本接口的单用户QPS限制为100次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~342832~~)。","requestParamsDescription":" ","responseParamsDescription":" **回调消息格式定义**\n\n当媒体信息任务执行状态改变时，mps会发送消息到用户指定的queue中（如何指定回调queue详见mps的[更新管道接口](~~188374~~)）。消息体是一个JSON字符串，包含字段如下：\n\n```\n{\n  \"Type\": \"MediaInfo\",\n  \"State\": \"Success\",\n  \"JobId\": \"bb558c1cc25b45309aab5be44d19****\",\n  \"UserData\": \"{\\\"key\\\":\\\"value\\\"}\",\n  \"RequestId\": \"B52658D4-07AB-43CD-82B0-210958A6****\"\n}\n```\n\n\n| 名称          | 类型   |描述|\n|---------------|--------|-----------|\n|Type |String |固定字符串“MediaInfo”，表示媒体信息任务。 |\n|JobId | String|任务唯一ID。 |\n|State | String|任务当前状态，与QueryMediaInfoJobList中的State一致。|\n|UserData |String |用户在SubmitMediaInfoJob中传入的UserData。|\n","extraInfo":" "}