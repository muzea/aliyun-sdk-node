{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{},"parameters":[{"name":"Input","in":"query","schema":{"description":"作业输入。详细说明请参见[Input详情](~~29253#section-f3p-d24-y2b~~)。\n\n> - 在媒体处理API中，Object必须经过[URL Encoding](~~423796~~)（基于UTF-8编码）后使用。\n- OSS的地域需要与当前MPS所在地域保持一致。","type":"string","required":true,"example":"{\"Bucket\":\"example-bucket\",\"Location\":\"example-location\",\"Object\":\"example%2Fexample.flv\"}"}},{"name":"UserData","in":"query","schema":{"description":"用户自定义数据。可以使用中英文、数字、中划线（-）等，不能以特殊符号开头，最大长度1024个字节。","type":"string","required":false,"example":"testid-001"}},{"name":"PipelineId","in":"query","schema":{"description":"管道ID。详细信息请参见[基本概念](~~29197~~)。\n- 可选值：可以通过[MPS控制台](https://mps.console.aliyun.com/overview)>**全局设置**>**管道**查询和创建。\n- 如果需要异步通知，请为管道绑定MNS消息，具体请参见<props=\"china\">[接收消息通知](https://help.aliyun.com/document_detail/42618.html)</props><props=\"intl\">[接收消息通知](https://www.alibabacloud.com/help/zh/apsaravideo-for-media-processing/latest/receive-message-notifications)</props>。","type":"string","required":false,"example":"88c6ca184c0e432bbf5b665e2a15****"}},{"name":"Async","in":"query","schema":{"description":"是否发起异步作业。取值：\n\n- **true**：发起异步作业（推荐）。\n- **false**：不发起异步作业。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"description":"返回参数。","type":"object","properties":{"MediaInfoJob":{"description":"媒体信息作业详细信息。","type":"object","properties":{"CreationTime":{"description":"作业添加时间。","type":"string","example":"2014-01-10T12:00:00Z"},"State":{"description":"作业状态。\n\n- **Success**：成功。\n- **Fail**：失败。\n- **Analyzing**：分析中。\n","type":"string","example":"Analyzing"},"JobId":{"description":"元信息分析作业ID。","type":"string","example":"23ca1d184c0e4341e5b665e2a12****"},"UserData":{"description":"用户自定义数据。","type":"string","example":"testid-001"},"Code":{"description":"元信息分析失败时错误码。","type":"string","example":"InvalidParameter.JsonObjectFormatInvalid"},"Message":{"description":"元信息分析失败时错误信息。","type":"string","example":"The parameter ”*” does not conform to the JSON Object specification"},"PipelineId":{"description":"管道ID。","type":"string","example":"88c6ca184c0e432bbf5b665e2a15****"},"Async":{"description":"是否异步。","type":"boolean","example":"true"},"Input":{"description":"作业输入信息。","type":"object","properties":{"Object":{"description":"输入文件的OSS Object。","type":"string","example":"example.flv"},"Location":{"description":"输入文件OSS的服务区域。","type":"string","example":"example-location"},"Bucket":{"description":"输入文件的OSS Bucket。","type":"string","example":"example-bucket"}}},"MNSMessageResult":{"description":"MNS通知用户作业完成的结果。","type":"object","properties":{"MessageId":{"description":"成功时消息ID。如果执行失败则不返回此参数。","type":"string","example":"16f01ad6175e4230ac42bb5182cd****"},"ErrorMessage":{"description":"失败时错误信息。如果执行成功则不返回此参数。","type":"string","example":"InvalidParameter.JsonObjectFormatInvalid"},"ErrorCode":{"description":"失败时错误码。如果执行成功则不返回此参数。","type":"string","example":"The parameter \\\"Input\\\" does not conform to the JSON Object specification"}}},"Properties":{"description":"媒体文件属性。","type":"object","properties":{"Width":{"description":"视频宽度，单位为px。","type":"string","example":"1920"},"Height":{"description":"视频高度，单位为px。","type":"string","example":"1080"},"Duration":{"description":"总时长，单位为秒（s）。","type":"string","example":"17.226000"},"Fps":{"description":"帧率。","type":"string","example":"25"},"Bitrate":{"description":"码率。单位为Kbps。","type":"string","example":"1630.045"},"FileFormat":{"description":"文件格式。","type":"string","example":"QuickTime/MOV"},"Streams":{"description":"流信息。","type":"object","properties":{"VideoStreamList":{"type":"object","properties":{"VideoStream":{"description":"视频流列表。列表元素至多4个。","type":"array","items":{"description":"返回参数。","type":"object","properties":{"Sar":{"description":"编码信号分辨率比。","type":"string","example":"1:1"},"Height":{"description":"视频高度，单位为px。","type":"string","example":"1080"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"avc1"},"NetworkCost":{"description":"网络带宽消耗。","type":"object","properties":{"PreloadTime":{"description":"预加载时间。","type":"string","example":"8"},"AvgBitrate":{"description":"平均码率，单位为Kbps。","type":"string","example":"300.34"},"CostBandwidth":{"description":"最大消耗带宽。","type":"string","example":"10"}}},"Width":{"description":"视频宽度，单位为px。","type":"string","example":"1920"},"Index":{"description":"视频流序号。标识视频流在整个媒体流中的位置。某些播放平台可以指定起播的视频流序号，某些默认从1号起播。","type":"string","example":"1"},"Timebase":{"description":"时基。","type":"string","example":"1/24000"},"AvgFPS":{"description":"平均帧率。","type":"string","example":"23.976025"},"PixFmt":{"description":"像素格式。","type":"string","example":"yuv420p"},"Lang":{"description":"语言。","type":"string","example":"eng"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"H.264/AVC/MPEG-4 AVC/MPEG-4 part 10"},"NumFrames":{"description":"总帧数。","type":"string","example":"100"},"Rotate":{"description":"视频旋转角度。","type":"string","example":"90"},"Bitrate":{"description":"码率，单位Kbps。","type":"string","example":"1496.46"},"HasBFrames":{"description":"是否有B帧。0表示无，1表示有。","type":"string","example":"0"},"Profile":{"description":"编码预置。","type":"string","example":"High"},"StartTime":{"description":"起始时间。","type":"string","example":"0.042000"},"Dar":{"description":"编码显示分辨率比。Dar=视频宽度/视频高度，可以作为判断视频横竖屏的依据。","type":"string","example":"16:9"},"CodecName":{"description":"编码格式简述名。可选值：\n\n- **h264**\n\n- **h265**\n\n- **gif**\n\n- **webp**","type":"string","example":"h264"},"Duration":{"description":"时长，单位为秒（s）。","type":"string","example":"17.225542"},"Fps":{"description":"帧率。","type":"string","example":"25"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x31637661"},"CodecTimeBase":{"description":"编码时基。","type":"string","example":"1001/48000"},"Level":{"description":"编码等级。","type":"string","example":"41"},"ColorRange":{"description":"色彩范围。","type":"string","example":"700"},"ColorTransfer":{"description":"色彩通道。","type":"string","example":"R255 G83 B170"},"ColorPrimaries":{"description":"色原。","type":"string","example":"700"}}}}}},"AudioStreamList":{"type":"object","properties":{"AudioStream":{"description":"音频流列表。列表元素至多4个。","type":"array","items":{"description":"返回参数。","type":"object","properties":{"Timebase":{"description":"时基。","type":"string","example":"1/44100"},"Index":{"description":"音频流序号。标识音频流在整个媒体流中的位置。","type":"string","example":"1"},"SampleFmt":{"description":"采样格式。","type":"string","example":"fltp"},"ChannelLayout":{"description":"声道输出样式。","type":"string","example":"stereo"},"Lang":{"description":"语言。","type":"string","example":"eng"},"Samplerate":{"description":"采样率，单位Hz。","type":"string","example":"44100"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"AAC (Advanced Audio Coding)"},"Channels":{"description":"声道数。","type":"string","example":"2"},"NumFrames":{"description":"总帧数。","type":"string","example":"123"},"Bitrate":{"description":"码率，单位为Kbps。","type":"string","example":"128.806"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"mp4a"},"StartTime":{"description":"起始时间。","type":"string","example":"0.000000"},"CodecName":{"description":"编码格式简述名。默认值：acc。可取值：\n\n- **acc**\n\n- **mp3**\n\n- **mp4**\n\n- **ogg**\n\n- **flac**","type":"string","example":"aac"},"Duration":{"description":"时长，单位为秒（s）。","type":"string","example":"17.159546"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x6134706d"},"CodecTimeBase":{"description":"编码时基。","type":"string","example":"1/44100"}}}}}},"SubtitleStreamList":{"type":"object","properties":{"SubtitleStream":{"description":"字幕流列表。列表元素至多4个。","type":"array","items":{"description":"返回参数。","type":"object","properties":{"Timebase":{"description":"时基。","type":"string","example":"1/1000"},"Index":{"description":"字幕流序号。标识字幕流在整个媒体流中的位置。","type":"string","example":"3"},"StartTime":{"description":"起始时间。","type":"string","example":"0.000000"},"CodecName":{"description":"编码格式简述名。可选值：\n\n- **srt**\n\n- **ass**","type":"string","example":"ass"},"Lang":{"description":"语言。","type":"string","example":"eng"},"CodecLongName":{"description":"编码格式长述名。","type":"string","example":"ASS (Advanced SSA) subtitle"},"Duration":{"description":"时长，单位为秒（s）。","type":"string","example":"1370.116000"},"CodecTag":{"description":"编码格式标记。","type":"string","example":"0x0000"},"CodecTimeBase":{"description":"编码时基。\n","type":"string","example":"0/1"},"CodecTagString":{"description":"编码格式标记文本。","type":"string","example":"[0][0][0][0]"}}}}}}}},"Format":{"description":"格式信息。","type":"object","properties":{"StartTime":{"description":"起始时间。","type":"string","example":"0.000000"},"NumPrograms":{"description":"节目流总数。","type":"string","example":"0"},"Size":{"description":"文件大小，单位为字节（byte）。","type":"string","example":"3509895"},"NumStreams":{"description":"媒体流总数。","type":"string","example":"2"},"FormatLongName":{"description":"容器、封装格式长述名。","type":"string","example":"QuickTime/MOV"},"Duration":{"description":"总时长，单位为秒（s）。","type":"string","example":"17.226000"},"Bitrate":{"description":"总码率，单位为Kbps。","type":"string","example":"1630.045"},"FormatName":{"description":"容器、封装格式简述名。更多参数信息请参见[参数详情](~~29253~~)。","type":"string","example":"mov"}}},"FileSize":{"description":"文件大小，单位为字节（byte）。","type":"string","example":"3509895"}}}}},"RequestId":{"description":"请求ID。","type":"string","example":"62D9BE16-B7D5-550C-A482-7A0F60E09877"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"MediaInfoJob\\\": {\\n    \\\"CreationTime\\\": \\\"2014-01-10T12:00:00Z\\\",\\n    \\\"State\\\": \\\"Analyzing\\\",\\n    \\\"JobId\\\": \\\"23ca1d184c0e4341e5b665e2a12****\\\",\\n    \\\"UserData\\\": \\\"testid-001\\\",\\n    \\\"Code\\\": \\\"InvalidParameter.JsonObjectFormatInvalid\\\",\\n    \\\"Message\\\": \\\"The parameter ”*” does not conform to the JSON Object specification\\\",\\n    \\\"PipelineId\\\": \\\"88c6ca184c0e432bbf5b665e2a15****\\\",\\n    \\\"Async\\\": true,\\n    \\\"Input\\\": {\\n      \\\"Object\\\": \\\"example.flv\\\",\\n      \\\"Location\\\": \\\"example-location\\\",\\n      \\\"Bucket\\\": \\\"example-bucket\\\"\\n    },\\n    \\\"MNSMessageResult\\\": {\\n      \\\"MessageId\\\": \\\"16f01ad6175e4230ac42bb5182cd****\\\",\\n      \\\"ErrorMessage\\\": \\\"InvalidParameter.JsonObjectFormatInvalid\\\",\\n      \\\"ErrorCode\\\": \\\"The parameter \\\\\\\\\\\\\\\"Input\\\\\\\\\\\\\\\" does not conform to the JSON Object specification\\\"\\n    },\\n    \\\"Properties\\\": {\\n      \\\"Width\\\": \\\"1920\\\",\\n      \\\"Height\\\": \\\"1080\\\",\\n      \\\"Duration\\\": \\\"17.226000\\\",\\n      \\\"Fps\\\": \\\"25\\\",\\n      \\\"Bitrate\\\": \\\"1630.045\\\",\\n      \\\"FileFormat\\\": \\\"QuickTime/MOV\\\",\\n      \\\"Streams\\\": {\\n        \\\"VideoStreamList\\\": {\\n          \\\"VideoStream\\\": [\\n            {\\n              \\\"Sar\\\": \\\"1:1\\\",\\n              \\\"Height\\\": \\\"1080\\\",\\n              \\\"CodecTagString\\\": \\\"avc1\\\",\\n              \\\"NetworkCost\\\": {\\n                \\\"PreloadTime\\\": \\\"8\\\",\\n                \\\"AvgBitrate\\\": \\\"300.34\\\",\\n                \\\"CostBandwidth\\\": \\\"10\\\"\\n              },\\n              \\\"Width\\\": \\\"1920\\\",\\n              \\\"Index\\\": \\\"1\\\",\\n              \\\"Timebase\\\": \\\"1/24000\\\",\\n              \\\"AvgFPS\\\": \\\"23.976025\\\",\\n              \\\"PixFmt\\\": \\\"yuv420p\\\",\\n              \\\"Lang\\\": \\\"eng\\\",\\n              \\\"CodecLongName\\\": \\\"H.264/AVC/MPEG-4 AVC/MPEG-4 part 10\\\",\\n              \\\"NumFrames\\\": \\\"100\\\",\\n              \\\"Rotate\\\": \\\"90\\\",\\n              \\\"Bitrate\\\": \\\"1496.46\\\",\\n              \\\"HasBFrames\\\": \\\"0\\\",\\n              \\\"Profile\\\": \\\"High\\\",\\n              \\\"StartTime\\\": \\\"0.042000\\\",\\n              \\\"Dar\\\": \\\"16:9\\\",\\n              \\\"CodecName\\\": \\\"h264\\\",\\n              \\\"Duration\\\": \\\"17.225542\\\",\\n              \\\"Fps\\\": \\\"25\\\",\\n              \\\"CodecTag\\\": \\\"0x31637661\\\",\\n              \\\"CodecTimeBase\\\": \\\"1001/48000\\\",\\n              \\\"Level\\\": \\\"41\\\",\\n              \\\"ColorRange\\\": \\\"700\\\",\\n              \\\"ColorTransfer\\\": \\\"R255 G83 B170\\\",\\n              \\\"ColorPrimaries\\\": \\\"700\\\"\\n            }\\n          ]\\n        },\\n        \\\"AudioStreamList\\\": {\\n          \\\"AudioStream\\\": [\\n            {\\n              \\\"Timebase\\\": \\\"1/44100\\\",\\n              \\\"Index\\\": \\\"1\\\",\\n              \\\"SampleFmt\\\": \\\"fltp\\\",\\n              \\\"ChannelLayout\\\": \\\"stereo\\\",\\n              \\\"Lang\\\": \\\"eng\\\",\\n              \\\"Samplerate\\\": \\\"44100\\\",\\n              \\\"CodecLongName\\\": \\\"AAC (Advanced Audio Coding)\\\",\\n              \\\"Channels\\\": \\\"2\\\",\\n              \\\"NumFrames\\\": \\\"123\\\",\\n              \\\"Bitrate\\\": \\\"128.806\\\",\\n              \\\"CodecTagString\\\": \\\"mp4a\\\",\\n              \\\"StartTime\\\": \\\"0.000000\\\",\\n              \\\"CodecName\\\": \\\"aac\\\",\\n              \\\"Duration\\\": \\\"17.159546\\\",\\n              \\\"CodecTag\\\": \\\"0x6134706d\\\",\\n              \\\"CodecTimeBase\\\": \\\"1/44100\\\"\\n            }\\n          ]\\n        },\\n        \\\"SubtitleStreamList\\\": {\\n          \\\"SubtitleStream\\\": [\\n            {\\n              \\\"Timebase\\\": \\\"1/1000\\\",\\n              \\\"Index\\\": \\\"3\\\",\\n              \\\"StartTime\\\": \\\"0.000000\\\",\\n              \\\"CodecName\\\": \\\"ass\\\",\\n              \\\"Lang\\\": \\\"eng\\\",\\n              \\\"CodecLongName\\\": \\\"ASS (Advanced SSA) subtitle\\\",\\n              \\\"Duration\\\": \\\"1370.116000\\\",\\n              \\\"CodecTag\\\": \\\"0x0000\\\",\\n              \\\"CodecTimeBase\\\": \\\"0/1\\\",\\n              \\\"CodecTagString\\\": \\\"[0][0][0][0]\\\"\\n            }\\n          ]\\n        }\\n      },\\n      \\\"Format\\\": {\\n        \\\"StartTime\\\": \\\"0.000000\\\",\\n        \\\"NumPrograms\\\": \\\"0\\\",\\n        \\\"Size\\\": \\\"3509895\\\",\\n        \\\"NumStreams\\\": \\\"2\\\",\\n        \\\"FormatLongName\\\": \\\"QuickTime/MOV\\\",\\n        \\\"Duration\\\": \\\"17.226000\\\",\\n        \\\"Bitrate\\\": \\\"1630.045\\\",\\n        \\\"FormatName\\\": \\\"mov\\\"\\n      },\\n      \\\"FileSize\\\": \\\"3509895\\\"\\n    }\\n  },\\n  \\\"RequestId\\\": \\\"62D9BE16-B7D5-550C-A482-7A0F60E09877\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SubmitMediaInfoJobResponse>\\n    <MediaInfoJob>\\n        <CreationTime>2014-01-10T12:00:00Z</CreationTime>\\n        <State>Analyzing</State>\\n        <JobId>23ca1d184c0e4341e5b665e2a12****</JobId>\\n        <UserData>testid-001</UserData>\\n        <PipelineId>88c6ca184c0e432bbf5b665e2a15****</PipelineId>\\n        <Async>true</Async>\\n        <Input>\\n            <Object>example.flv</Object>\\n            <Location>example-location</Location>\\n            <Bucket>example-bucket</Bucket>\\n        </Input>\\n        <MNSMessageResult>\\n            <MessageId>16f01ad6175e4230ac42bb5182cd****</MessageId>\\n        </MNSMessageResult>\\n        <Properties>\\n            <Width>1920</Width>\\n            <Height>1080</Height>\\n            <Duration>17.226000</Duration>\\n            <Fps>25</Fps>\\n            <Bitrate>1630.045</Bitrate>\\n            <FileFormat>QuickTime/MOV</FileFormat>\\n            <Streams>\\n                <VideoStreamList>\\n                    <Sar>1:1</Sar>\\n                    <Height>1080</Height>\\n                    <CodecTagString>avc1</CodecTagString>\\n                    <NetworkCost>\\n                        <PreloadTime>8</PreloadTime>\\n                        <AvgBitrate>300.34</AvgBitrate>\\n                        <CostBandwidth>10</CostBandwidth>\\n                    </NetworkCost>\\n                    <Width>1920</Width>\\n                    <Index>1</Index>\\n                    <Timebase>1/24000</Timebase>\\n                    <AvgFPS>23.976025</AvgFPS>\\n                    <PixFmt>yuv420p</PixFmt>\\n                    <Lang>eng</Lang>\\n                    <CodecLongName>H.264/AVC/MPEG-4 AVC/MPEG-4 part 10</CodecLongName>\\n                    <NumFrames>100</NumFrames>\\n                    <Rotate>90</Rotate>\\n                    <Bitrate>1496.46</Bitrate>\\n                    <HasBFrames>0</HasBFrames>\\n                    <Profile>High</Profile>\\n                    <StartTime>0.042000</StartTime>\\n                    <Dar>16:9</Dar>\\n                    <CodecName>h264</CodecName>\\n                    <Duration>17.225542</Duration>\\n                    <Fps>25</Fps>\\n                    <CodecTag>0x31637661</CodecTag>\\n                    <CodecTimeBase>1001/48000</CodecTimeBase>\\n                    <Level>41</Level>\\n                    <ColorRange>700</ColorRange>\\n                    <ColorTransfer>R255 G83 B170</ColorTransfer>\\n                    <ColorPrimaries>700</ColorPrimaries>\\n                </VideoStreamList>\\n                <AudioStreamList>\\n                    <Timebase>1/44100</Timebase>\\n                    <Index>1</Index>\\n                    <SampleFmt>fltp</SampleFmt>\\n                    <ChannelLayout>stereo</ChannelLayout>\\n                    <Lang>eng</Lang>\\n                    <Samplerate>44100</Samplerate>\\n                    <CodecLongName>AAC (Advanced Audio Coding)</CodecLongName>\\n                    <Channels>2</Channels>\\n                    <NumFrames>123</NumFrames>\\n                    <Bitrate>128.806</Bitrate>\\n                    <CodecTagString>mp4a</CodecTagString>\\n                    <StartTime>0.000000</StartTime>\\n                    <CodecName>aac</CodecName>\\n                    <Duration>17.159546</Duration>\\n                    <CodecTag>0x6134706d</CodecTag>\\n                    <CodecTimeBase>1/44100</CodecTimeBase>\\n                </AudioStreamList>\\n                <SubtitleStreamList>\\n                    <Timebase>1/1000</Timebase>\\n                    <Index>3</Index>\\n                    <StartTime>0.000000</StartTime>\\n                    <CodecName>ass</CodecName>\\n                    <Lang>eng</Lang>\\n                    <CodecLongName>ASS (Advanced SSA) subtitle</CodecLongName>\\n                    <Duration>1370.116000</Duration>\\n                    <CodecTag>0x0000</CodecTag>\\n                    <CodecTimeBase>0/1</CodecTimeBase>\\n                    <CodecTagString>[0][0][0][0]</CodecTagString>\\n                </SubtitleStreamList>\\n            </Streams>\\n            <Format>\\n                <StartTime>0.000000</StartTime>\\n                <NumPrograms>0</NumPrograms>\\n                <Size>3509895</Size>\\n                <NumStreams>2</NumStreams>\\n                <FormatLongName>QuickTime/MOV</FormatLongName>\\n                <Duration>17.226000</Duration>\\n                <Bitrate>1630.045</Bitrate>\\n                <FormatName>mov</FormatName>\\n            </Format>\\n            <FileSize>3509895</FileSize>\\n        </Properties>\\n    </MediaInfoJob>\\n    <RequestId>62D9BE16-B7D5-550C-A482-7A0F60E09877</RequestId>\\n</SubmitMediaInfoJobResponse>\",\"errorExample\":\"\"}]","title":"提交媒体信息作业","summary":"提交媒体信息作业。调用本接口之后媒体处理MPS会对输入文件进行媒体信息分析，返回输入文件的媒体信息。","description":"- 请确认文件已成功上传至OSS后再提交媒体信息作业，否则会导致执行失败。您可通过**配置OSS回调消息**确认文件上传状态。\n- 媒体信息作业分为同步和异步模式。\n- 异步模式不保证时效性，在提交媒体信息作业后，任务会添加到管道中排队，被调度执行。所以在接口返回时，不保证作业已经生成。执行完成后需要调用[查询媒体信息作业](~~602828~~)接口轮询执行结果，或通过为管道绑定MNS消息接收执行结果，详细说明请参见<props=\"china\">[接收消息通知](https://help.aliyun.com/document_detail/42618.html)</props><props=\"intl\">[接收消息通知](https://www.alibabacloud.com/help/zh/apsaravideo-for-media-processing/latest/receive-message-notifications)</props>。\n\n### QPS限制\n本接口的单用户QPS限制为50次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~342832~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}