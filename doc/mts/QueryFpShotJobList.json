{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"JobIds","in":"query","schema":{"description":"需要查询的DNA作业ID列表，可以通过**[MPS控制台](https://mps.console.aliyun.com/overview)** > **任务管理** > **视频DNA**获取。一次最多查询10个，用半角逗号（,）分隔。","type":"string","required":false,"example":"88c6ca184c0e47098a5b665e2a12****"}},{"name":"NextPageToken","in":"query","schema":{"description":"下一页标识。第一次请求无需传入，服务会返回，第二次请求传入即可。","type":"string","required":false,"example":"16f01ad6175e4230ac42bb5182cd****"}},{"name":"MaximumPageSize","in":"query","schema":{"description":"每页最大返回数。\n\n- 默认：10\n- 取值：1~100","type":"integer","format":"int64","required":false,"maximum":"100","minimum":"1","example":"10","default":"10"}},{"name":"State","in":"query","schema":{"description":"需要查询的作业状态。取值：\n- All：全部。\n- Queuing：排队中。\n- Analysing：分析中。\n- Fail：失败。\n- Success：成功。","type":"string","required":false,"example":"All","default":"All"}},{"name":"StartOfJobCreatedTimeRange","in":"query","schema":{"description":"最早任务创建时间。\n\n- 日期格式按照ISO8601标准表示，并需要使用UTC时间。\n- 格式为：YYYY-MM-DDThh:mm:ssZ 。","type":"string","required":false,"example":"2021-12-22T03:48:05Z"}},{"name":"EndOfJobCreatedTimeRange","in":"query","schema":{"description":"最晚任务创建时间。\n\n- 日期格式按照ISO8601标准表示，并需要使用UTC时间。\n- 格式为：YYYY-MM-DDThh:mm:ssZ 。","type":"string","required":false,"example":"2022-02-14T02:16:07Z"}},{"name":"PipelineId","in":"query","schema":{"description":"管道ID。可以通过[**媒体处理控制台**](https://mps.console.aliyun.com/overview) > **全局设置** > **管道及回调**获取。","type":"string","required":false,"example":"b11c171cced04565b1f38f1ecc39****\t"}}],"responses":{"200":{"schema":{"description":"返回参数。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"25818875-5F78-4A13-BEF6-D7393642CA58"},"NextPageToken":{"description":"下一页标识。需记录下来，在下一次请求时传入即可。","type":"string","example":"b11c171cced04565b1f38f1ecc39****"},"FpShotJobList":{"type":"object","properties":{"FpShotJob":{"description":"DNA作业信息。","type":"array","items":{"description":"DNA作业信息详情。","type":"object","properties":{"FpShotResult":{"description":"DNA作业查询结果。","type":"object","properties":{"AudioFpShots":{"type":"object","properties":{"FpShot":{"description":"音频DNA查询结果。","type":"array","items":{"description":"音频DNA查询结果详细信息。","type":"object","properties":{"PrimaryKey":{"description":"唯一主键。","type":"string","example":"498ac941373341599c4777c8d884****"},"FpShotSlices":{"type":"object","properties":{"FpShotSlice":{"description":"相似音频。","type":"array","items":{"description":"相似音频详细信息。","type":"object","properties":{"Duplication":{"description":"DNA库中音频的开始时间和时长。","type":"object","properties":{"Start":{"description":"开始时间。","type":"string","example":"0"},"Duration":{"description":"时长。","type":"string","example":"3"}}},"Similarity":{"description":"音频片段相似度。","type":"string","example":"0"},"Input":{"description":"输入音频的开始时间和时长。","type":"object","properties":{"Start":{"description":"开始时间。","type":"string","example":"0"},"Duration":{"description":"时长。","type":"string","example":"5"}}}}}}}},"Similarity":{"description":"音频整体相似度。","type":"string","example":"0"}}}}}},"FpShots":{"type":"object","properties":{"FpShot":{"description":"视频DNA查询结果。","type":"array","items":{"description":"视频DNA查询结果详细信息。","type":"object","properties":{"PrimaryKey":{"description":"视频唯一主键。","type":"string","example":"498ac941373341599c4777c8d884****"},"FpShotSlices":{"type":"object","properties":{"FpShotSlice":{"description":"相似视频。","type":"array","items":{"description":"相似视频详情。","type":"object","properties":{"Duplication":{"description":"DNA库中视频的开始时间和时长。","type":"object","properties":{"Start":{"description":"开始时间。","type":"string","example":"1260"},"Duration":{"description":"时长。","type":"string","example":"48"}}},"Similarity":{"description":"视频片段相似度。","type":"string","example":"0"},"Input":{"description":"输入视频的开始时间和时长。","type":"object","properties":{"Start":{"description":"开始时间。","type":"string","example":"46"},"Duration":{"description":"时长。","type":"string","example":"48"}}}}}}}},"Similarity":{"description":"视频整体相似度。\n\n> 整体相似度是片段相似度的平均值。如果DNA库中存在多个相似段，会返回多个命中结果。","type":"string","example":"0.8914769887924194"}}}}}},"TextFpShots":{"type":"object","properties":{"TextFpShot":{"description":"文本DNA查询结果。","type":"array","items":{"description":"文本DNA查询结果详细信息。","type":"object","properties":{"PrimaryKey":{"description":"文本唯一主键。","type":"string","example":"3e34ac649945b53a1b0f863ce030****"},"Similarity":{"description":"文本相似度。","type":"string","example":"1.0"},"TextFpShotSlices":{"type":"object","properties":{"TextFpShotSlice":{"description":"重复文本。","type":"array","items":{"description":"重复文本详细信息。","type":"object","properties":{"Similarity":{"description":"匹配片段的置信度。","type":"string","example":"1.0"},"InputText":{"description":"查询匹配的文本片段。","type":"string","example":"今天下雪了"},"DuplicationText":{"description":"底库匹配的文本片段。","type":"string","example":"今天下雪了"},"InputFragment":{"description":"查询匹配片段起始时间和时长。","type":"object","properties":{"Start":{"description":"起始时间。","type":"string","example":"0"},"Duration":{"description":"时长。","type":"string","example":"3"}}}}}}}}}}}}}}},"CreationTime":{"description":"创建时间。","type":"string","example":"2017-01-10T12:00:00Z"},"FinishTime":{"description":"完成时间。","type":"string","example":"0"},"State":{"description":"作业状态，可取值：\n\n- **Queuing**：排队中。\n\n- **Analysing**：分析中。\n\n- **Success**：成功。\n\n- **Fail**：失败。","type":"string","example":"Success"},"Message":{"description":"分析失败时错误信息。如果执行成功则不返回此参数。","type":"string","example":"The parameter \\\"Id\\\" is invalid.A uuid must:1)be comprised of chracters[a-f],numbers[0-9];2)be 32 characters long"},"FpShotConfig":{"description":"配置。","type":"object","properties":{"PrimaryKey":{"description":"唯一的视频主键，唯一性由用户保证。","type":"string","example":"3ca84a39a9024f19853b21be9cf9****"},"SaveType":{"description":"存储类型，取值：\n\n- **nosave**：不入库。\n\n- **save**：去重入库。\n\n- **forcesave**：强制入库。","type":"string","example":"save"},"FpDBId":{"description":"DNA库ID。","type":"string","example":"2288c6ca184c0e47098a5b665e2a12****"}}},"FileId":{"description":"文件ID。","type":"string","example":"ebb51ee30f0b49aba959823fa991****"},"UserData":{"description":"用户自定义数据。","type":"string","example":"testid-001"},"Duration":{"description":"输入文件时长，单位秒。","type":"integer","format":"int32","example":"5"},"Code":{"description":"分析失败时错误码。","type":"string","example":"InvalidParameter.UUIDFormatInvalid"},"InputFile":{"description":"作业输入。","type":"object","properties":{"Object":{"description":"作业输入所在的OSS Object。","type":"string","example":"test.mp4"},"Location":{"description":"作业输入所在的OSS Location。","type":"string","example":"oss-cn-beiing"},"Bucket":{"description":"作业输入所在的OSS Bucket。","type":"string","example":"oss-test"}}},"PipelineId":{"description":"管道ID。","type":"string","example":"88c6ca184c0e47098a5b665e2a12****"},"Id":{"description":"作业ID。","type":"string","example":"88c6ca184c0e47098a5b665e2a12****"},"Input":{"description":"作业输入。","type":"string","example":"{\"Bucket\":\"oss-test\",\"Location\":\"oss-cn-beiing\",\"Object\":\"test.mp4\"}"}}}}}},"NonExistIds":{"type":"object","properties":{"String":{"description":"不存在的作业ID列表。","type":"array","items":{"description":"不存在的作业ID列表，无数据时该参数不返回。","type":"string","example":"ae687c02fe944327ba9631e50da23128****"}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"25818875-5F78-4A13-BEF6-D7393642CA58\\\",\\n  \\\"NextPageToken\\\": \\\"b11c171cced04565b1f38f1ecc39****\\\",\\n  \\\"FpShotJobList\\\": {\\n    \\\"FpShotJob\\\": [\\n      {\\n        \\\"FpShotResult\\\": {\\n          \\\"AudioFpShots\\\": {\\n            \\\"FpShot\\\": [\\n              {\\n                \\\"PrimaryKey\\\": \\\"498ac941373341599c4777c8d884****\\\",\\n                \\\"FpShotSlices\\\": {\\n                  \\\"FpShotSlice\\\": [\\n                    {\\n                      \\\"Duplication\\\": {\\n                        \\\"Start\\\": \\\"0\\\",\\n                        \\\"Duration\\\": \\\"3\\\"\\n                      },\\n                      \\\"Similarity\\\": \\\"0\\\",\\n                      \\\"Input\\\": {\\n                        \\\"Start\\\": \\\"0\\\",\\n                        \\\"Duration\\\": \\\"5\\\"\\n                      }\\n                    }\\n                  ]\\n                },\\n                \\\"Similarity\\\": \\\"0\\\"\\n              }\\n            ]\\n          },\\n          \\\"FpShots\\\": {\\n            \\\"FpShot\\\": [\\n              {\\n                \\\"PrimaryKey\\\": \\\"498ac941373341599c4777c8d884****\\\",\\n                \\\"FpShotSlices\\\": {\\n                  \\\"FpShotSlice\\\": [\\n                    {\\n                      \\\"Duplication\\\": {\\n                        \\\"Start\\\": \\\"1260\\\",\\n                        \\\"Duration\\\": \\\"48\\\"\\n                      },\\n                      \\\"Similarity\\\": \\\"0\\\",\\n                      \\\"Input\\\": {\\n                        \\\"Start\\\": \\\"46\\\",\\n                        \\\"Duration\\\": \\\"48\\\"\\n                      }\\n                    }\\n                  ]\\n                },\\n                \\\"Similarity\\\": \\\"0.8914769887924194\\\"\\n              }\\n            ]\\n          },\\n          \\\"TextFpShots\\\": {\\n            \\\"TextFpShot\\\": [\\n              {\\n                \\\"PrimaryKey\\\": \\\"3e34ac649945b53a1b0f863ce030****\\\",\\n                \\\"Similarity\\\": \\\"1.0\\\",\\n                \\\"TextFpShotSlices\\\": {\\n                  \\\"TextFpShotSlice\\\": [\\n                    {\\n                      \\\"Similarity\\\": \\\"1.0\\\",\\n                      \\\"InputText\\\": \\\"今天下雪了\\\",\\n                      \\\"DuplicationText\\\": \\\"今天下雪了\\\",\\n                      \\\"InputFragment\\\": {\\n                        \\\"Start\\\": \\\"0\\\",\\n                        \\\"Duration\\\": \\\"3\\\"\\n                      }\\n                    }\\n                  ]\\n                }\\n              }\\n            ]\\n          }\\n        },\\n        \\\"CreationTime\\\": \\\"2017-01-10T12:00:00Z\\\",\\n        \\\"FinishTime\\\": \\\"0\\\",\\n        \\\"State\\\": \\\"Success\\\",\\n        \\\"Message\\\": \\\"The parameter \\\\\\\\\\\\\\\"Id\\\\\\\\\\\\\\\" is invalid.A uuid must:1)be comprised of chracters[a-f],numbers[0-9];2)be 32 characters long\\\",\\n        \\\"FpShotConfig\\\": {\\n          \\\"PrimaryKey\\\": \\\"3ca84a39a9024f19853b21be9cf9****\\\",\\n          \\\"SaveType\\\": \\\"save\\\",\\n          \\\"FpDBId\\\": \\\"2288c6ca184c0e47098a5b665e2a12****\\\"\\n        },\\n        \\\"FileId\\\": \\\"ebb51ee30f0b49aba959823fa991****\\\",\\n        \\\"UserData\\\": \\\"testid-001\\\",\\n        \\\"Duration\\\": 5,\\n        \\\"Code\\\": \\\"InvalidParameter.UUIDFormatInvalid\\\",\\n        \\\"InputFile\\\": {\\n          \\\"Object\\\": \\\"test.mp4\\\",\\n          \\\"Location\\\": \\\"oss-cn-beiing\\\",\\n          \\\"Bucket\\\": \\\"oss-test\\\"\\n        },\\n        \\\"PipelineId\\\": \\\"88c6ca184c0e47098a5b665e2a12****\\\",\\n        \\\"Id\\\": \\\"88c6ca184c0e47098a5b665e2a12****\\\",\\n        \\\"Input\\\": \\\"{\\\\\\\"Bucket\\\\\\\":\\\\\\\"oss-test\\\\\\\",\\\\\\\"Location\\\\\\\":\\\\\\\"oss-cn-beiing\\\\\\\",\\\\\\\"Object\\\\\\\":\\\\\\\"test.mp4\\\\\\\"}\\\"\\n      }\\n    ]\\n  },\\n  \\\"NonExistIds\\\": {\\n    \\\"String\\\": [\\n      \\\"ae687c02fe944327ba9631e50da23128****\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<QueryFpShotJobListResponse>\\n    <RequestId>25818875-5F78-4A13-BEF6-D7393642CA58</RequestId>\\n    <FpShotJobList>\\n        <FpShotResult>\\n            <AudioFpShots>\\n                <PrimaryKey>498ac941373341599c4777c8d884****</PrimaryKey>\\n                <FpShotSlices>\\n                    <Duplication>\\n                        <Start>0</Start>\\n                        <Duration>3</Duration>\\n                    </Duplication>\\n                    <Similarity>0</Similarity>\\n                    <Input>\\n                        <Start>0</Start>\\n                        <Duration>5</Duration>\\n                    </Input>\\n                </FpShotSlices>\\n                <Similarity>0</Similarity>\\n            </AudioFpShots>\\n            <FpShots>\\n                <PrimaryKey>498ac941373341599c4777c8d884****</PrimaryKey>\\n                <FpShotSlices>\\n                    <Duplication>\\n                        <Start>1260</Start>\\n                        <Duration>48</Duration>\\n                    </Duplication>\\n                    <Similarity>0</Similarity>\\n                    <Input>\\n                        <Start>46</Start>\\n                        <Duration>48</Duration>\\n                    </Input>\\n                </FpShotSlices>\\n                <Similarity>0.8914769887924194</Similarity>\\n            </FpShots>\\n            <TextFpShots>\\n                <PrimaryKey>3e34ac649945b53a1b0f863ce030****</PrimaryKey>\\n                <Similarity>1.0</Similarity>\\n                <TextFpShotSlices>\\n                    <Similarity>1.0</Similarity>\\n                    <InputText>今天下雪了</InputText>\\n                    <DuplicationText>今天下雪了</DuplicationText>\\n                    <InputFragment>\\n                        <Start>0</Start>\\n                        <Duration>3</Duration>\\n                    </InputFragment>\\n                </TextFpShotSlices>\\n            </TextFpShots>\\n        </FpShotResult>\\n        <CreationTime>2017-01-10T12:00:00Z</CreationTime>\\n        <FinishTime>0</FinishTime>\\n        <State>Success</State>\\n        <Message>The parameter \\\\\\\"Id\\\\\\\" is invalid.A uuid must:1)be comprised of chracters[a-f],numbers[0-9];2)be 32 characters long</Message>\\n        <FpShotConfig>\\n            <PrimaryKey>3ca84a39a9024f19853b21be9cf9****</PrimaryKey>\\n            <SaveType>save</SaveType>\\n            <FpDBId>2288c6ca184c0e47098a5b665e2a12****</FpDBId>\\n        </FpShotConfig>\\n        <FileId>ebb51ee30f0b49aba959823fa991****</FileId>\\n        <UserData>testid-001</UserData>\\n        <Code>InvalidParameter.UUIDFormatInvalid</Code>\\n        <InputFile>\\n            <Object>test.mp4</Object>\\n            <Location>oss-cn-beiing</Location>\\n            <Bucket>oss-test</Bucket>\\n        </InputFile>\\n        <PipelineId>88c6ca184c0e47098a5b665e2a12****</PipelineId>\\n        <Id>88c6ca184c0e47098a5b665e2a12****</Id>\\n        <Input>{\\\"Bucket\\\":\\\"oss-test\\\",\\\"Location\\\":\\\"oss-cn-beiing\\\",\\\"Object\\\":\\\"test.mp4\\\"}</Input>\\n    </FpShotJobList>\\n    <NonExistIds>ae687c02fe944327ba9631e50da23128****</NonExistIds>\\n</QueryFpShotJobListResponse>\",\"errorExample\":\"\"}]","title":"查询DNA作业结果","summary":"查询DNA作业结果，本接口支持查询所有类型的DNA作业结果。","description":"- 提交DNA作业后，DNA服务会进行DNA对比，通过本接口可以查询作业结果。\n- 查询文本DNA作业目前仅支持华东2（上海）地域使用。\n\n### QPS限制\n本接口的单用户QPS限制为100次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。更多信息，请参见[QPS限制](~~342832~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}