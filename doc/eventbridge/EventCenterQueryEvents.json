{"summary":"EventCenterQueryEvents","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"220116","abilityTreeNodes":["FEATUREeventbridgeNPJI6M","FEATUREeventbridgeKIJSNP"]},"parameters":[{"name":"BusName","in":"query","schema":{"description":"总线名称","type":"string","required":false,"example":"default","default":"default"}},{"name":"NextToken","in":"query","schema":{"description":"用于请求下一页检索的结果。","type":"string","required":false,"example":"100"}},{"name":"MaxResults","in":"query","schema":{"description":"允许返回的最大结果数目。 取值范围：0~10000，默认100。","type":"integer","format":"int32","required":false,"maximum":"10000","minimum":"0","example":"100","default":"100"}},{"name":"Body","in":"formData","style":"json","schema":{"description":"Body参数","type":"object","properties":{"SchemaId":{"description":"Schema ID。","type":"string","required":true,"example":"ecs:GeneralSchema"},"QueryType":{"description":"查询类型：\n\n- **timeseries**：查询时序数据\n- **table**：查询表格数据\n- **timeseries_and_table**：同时查询时序数据和表格数据","type":"string","required":true,"example":"timeseries_and_table","enum":["timeseries","table","timeseries_and_table"]},"Parameters":{"description":"查询参数。","type":"object","properties":{"Breakdowns":{"description":"将数据集按照特定维度（列名）进一步拆分。","type":"array","items":{"description":"可作为拆分维度的列名。","type":"string","required":false,"example":"source"},"required":false},"Calculations":{"description":"对指定的列用操作符计算。","type":"array","items":{"type":"object","properties":{"Op":{"description":"操作符。","type":"string","required":false,"example":"COUNT_DISTINCT","enum":["COUNT","SUM","AVG","COUNT_DISTINCT","MAX","MIN","P50","P90","P95","P99"]},"Column":{"description":"列名。","type":"string","required":false,"example":"source"}},"required":false},"required":false},"Filters":{"description":"筛选条件列表。","type":"array","items":{"type":"object","properties":{"Column":{"description":"列名。","type":"string","required":false,"example":"source"},"Op":{"description":"操作符。","type":"string","required":false,"example":"=","enum":["=","!=",">",">=","<","<=","exists","does-not-exist","starts-with","does-not-start-with","contains","does-not-contain","in","not-in","text-match"]},"Values":{"description":"与操作符配合使用的值。","type":"array","items":{"description":"如值为字符串，则需要用加上单引号。","type":"string","required":false,"example":"'acs.ecs'"},"required":false}},"required":false},"required":false},"FilterCombination":{"description":"筛选条件组合的逻辑。","type":"string","required":false,"example":"AND","enum":["AND","OR"]},"Granularity":{"description":"时间粒度，即查询时序数据的最小时间单元，单位秒，最小值为1。\n此参数为建议值，实际粒度以返回值为准。","type":"integer","required":false,"example":"30"},"Orders":{"description":"对查询结果排序，仅对QueryType为table的查询有意义。","type":"array","items":{"type":"object","properties":{"Op":{"description":"操作符。","type":"string","required":false,"example":"AVG","enum":["COUNT","SUM","AVG","COUNT_DISTINCT","MAX","MIN","P50","P90","P95","P99"]},"Column":{"description":"列名。","type":"string","required":false,"example":"source"},"Desc":{"description":"是否降序排列","type":"boolean","required":false,"example":"true"}},"required":false},"required":false},"Offset":{"description":"本次查询的起始位置，从 0 开始。","type":"integer","required":false,"example":"0"},"Limit":{"description":"查询事件的最大个数，取值范围为1~10000。","type":"integer","required":false,"example":"100"},"TimeRange":{"description":"时间范围，单位毫秒，最小值1000。","type":"integer","required":false,"example":"1000000"},"StartTime":{"description":"查询事件的开始时间戳，单位毫秒。","type":"integer","required":false,"example":"1687860901814"},"EndTime":{"description":"查询事件的结束时间戳，单位毫秒。","type":"integer","required":false,"example":"1687861201814"}},"required":true}},"required":true}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"Message":{"description":"错误信息。","type":"string","example":"Specified parameter Limit is not valid."},"RequestId":{"description":"本次请求的ID。","type":"string","example":"5DAF96FB-A4B6-548C-B999-XXXXXXXX"},"Data":{"description":"返回结果。","type":"object","properties":{"NextToken":{"title":"表示当前调用返回读取到的位置。空代表数据已经读取完毕。","description":"表示当前调用返回读取到的位置。空代表数据已经读取完毕。","type":"string","example":"100"},"MaxResults":{"title":"本次请求所返回的最大记录条数","description":"本次请求所返回的最大记录条数","type":"integer","format":"int32","example":"100"},"TotalCount":{"title":"TotalCount本次请求条件下的数据总量，此参数为可选参数，默认可不返回","description":"TotalCount本次请求条件下的数据总量，此参数为可选参数，默认可不返回","type":"integer","format":"int32","example":"76"},"TimeSeries":{"description":"对应查询类型为timeseries的查询结果。","type":"array","items":{"type":"object","properties":{"RowData":{"description":"查询结果的条目，以k-v对表示。","type":"object","example":"{\n  \"id\":\"xxx\",\n  \"source\":\"acs.ecs\"\n}"},"Time":{"description":"用于显示时间戳。","type":"string","example":"1683561600000"}}}},"Table":{"description":"对应查询类型为table的查询结果。","type":"array","items":{"type":"object","properties":{"RowData":{"description":"查询结果的条目，以k-v对表示。","type":"object","example":"{\n  \"id\":\"xxx\",\n  \"source\":\"acs.ecs\"\n}"}}}}}},"Code":{"description":"接口状态或POP错误码。取值说明如下：Success：成功。","type":"string","example":"Success"},"Success":{"description":"操作是否成功。true表示成功，false表示失败。","type":"boolean","example":"true"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Message\\\": \\\"Specified parameter Limit is not valid.\\\",\\n  \\\"RequestId\\\": \\\"5DAF96FB-A4B6-548C-B999-XXXXXXXX\\\",\\n  \\\"Data\\\": {\\n    \\\"NextToken\\\": \\\"100\\\",\\n    \\\"MaxResults\\\": 100,\\n    \\\"TotalCount\\\": 76,\\n    \\\"TimeSeries\\\": [\\n      {\\n        \\\"RowData\\\": {\\n          \\\"id\\\": \\\"xxx\\\",\\n          \\\"source\\\": \\\"acs.ecs\\\"\\n        },\\n        \\\"Time\\\": \\\"1683561600000\\\"\\n      }\\n    ],\\n    \\\"Table\\\": [\\n      {\\n        \\\"RowData\\\": {\\n          \\\"id\\\": \\\"xxx\\\",\\n          \\\"source\\\": \\\"acs.ecs\\\"\\n        }\\n      }\\n    ]\\n  },\\n  \\\"Code\\\": \\\"Success\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"在事件分析功能中查询事件"}