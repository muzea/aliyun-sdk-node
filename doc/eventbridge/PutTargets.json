{"summary":"在指定的规则下创建或更新事件目标。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"172379","abilityTreeNodes":["FEATUREeventbridgeS2QNZ9"]},"parameters":[{"name":"EventBusName","in":"query","schema":{"description":"事件总线的名称。","type":"string","required":true,"docRequired":true,"example":"eventTest"}},{"name":"RuleName","in":"query","schema":{"description":"事件规则的名称。","type":"string","required":true,"docRequired":true,"example":"ssr-send-to-vendor-test01\n"}},{"name":"Targets","in":"query","style":"json","schema":{"description":"需要新增或更新的事件目标列表。更多信息，请参见[使用限制](~~163289~~)。","type":"array","items":{"description":"需要新增或更新的事件目标。","type":"object","properties":{"Id":{"description":"自定义事件目标Id。","type":"string","required":true,"example":"Mlm123456JHd2RsRoKw"},"Type":{"description":"事件目标类型。更多信息，请参见[事件目标参数](~~185887~~)。","type":"string","required":true,"example":"acs.fc.function\t"},"Endpoint":{"description":"投递端点链接。","type":"string","required":false,"example":"acs:fc:cn-hangzhou:123456789098****:services/guide.LATEST/functions/HelloFC\t"},"PushRetryStrategy":{"description":"推送重试策略。取值说明如下：\n\n- **BACKOFF_RETRY**：退避重试策略。重试3次，每次重试的间隔时间是10秒到20秒之间的随机值。\n\n- **EXPONENTIAL_DECAY_RETRY**：指数衰减重试。重试176次，每次重试的间隔时间指数递增至512秒，总计重试时间为1天；每次重试的具体间隔为：1，2，4，8，16，32，64，128，256，512，512...512秒（共167个512）。","type":"string","required":false,"example":"BACKOFFRETRY"},"DeadLetterQueue":{"description":"死信队列。未处理或者超过重试次数的事件会被写入死信队列。当前死信队列支持的队列类型有消息队列RocketMQ版、消息服务MNS、消息队列Kafka版和EventBridge事件总线。","type":"object","properties":{"Arn":{"description":"死信队列的Arn，未处理或超过重试次数的事件会被写入死信队列。","type":"string","required":false,"example":"acs:mns:cn-hangzhou:123456789098****:/queues/deadletterqueue\n或\nacs:mq:cn-hangzhou:123456789098****:/instances/MQ_INST_123456789098****_BX8QbBPL/topic/deadlettertopic\n或\nacs:alikafka:cn-hangzhou:123456789098****:instance/alikafka_post-cn-123456/topic/deadlettertopic\n或\nacs:eventbridge:cn-hangzhou:123456789098****:eventbus/deadletterbus"}},"required":false},"ErrorsTolerance":{"description":"容错策略。取值说明如下：\n\n- **ALL**：允许容错。允许异常容错，当异常发生时不会阻塞执行，超过重试策略后会根据配置将消息投递至死信队列或直接丢弃。\n\n- **NONE**：禁止容错。不允许容错，当异常发生并超过重试策略配置时会阻塞执行。","type":"string","required":false,"example":"ALL"},"ParamList":{"description":"事件目标的参数。","type":"array","items":{"description":"事件目标的参数。","type":"object","properties":{"ResourceKey":{"description":"事件目标的资源参数。更多信息，请参见[事件目标参数](~~185887~~)。","type":"string","required":false,"example":"body"},"Form":{"description":"事件目标参数的格式。更多信息，请参见[事件目标参数](~~185887~~)。","type":"string","required":false,"example":"TEMPLATE"},"Value":{"description":"事件目标参数的值。","type":"string","required":false,"example":"{\\\"key\\\"=\\\"value\\\"}"},"Template":{"description":"事件目标参数模板样式。","type":"string","required":false,"example":"The value of ${key} is ${value}!\t"}},"required":false},"required":false}},"required":false},"required":true}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"错误信息。","type":"string","example":"The event rule not existed!"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"6FB52207-7621-5292-BDF2-A17E2E984160\n"},"Data":{"description":"返回结果。","type":"object","properties":{"ErrorEntriesCount":{"description":"处理失败的事件目标数量。取值说明如下：\n\n- 取值为0：所有事件目标均正常处理。\n\n- 取值为除0以外的其他整数：处理失败的事件目标个数。","type":"integer","format":"int32","example":"0"},"ErrorEntries":{"description":"处理失败的事件目标信息。","type":"array","items":{"description":"处理失败的事件目标信息。","type":"object","properties":{"ErrorMessage":{"description":"错误详细描述。","type":"string","example":"The id of event target is duplicate!"},"ErrorCode":{"description":"错误码。","type":"string","example":"EventRuleTargetIdDuplicate"},"EntryId":{"description":"处理失败的事件目标Id。","type":"string","example":"Mlm123456JHd2RsRoKw"}}}}}},"Code":{"description":"接口返回码：\n\n- Success：表示成功。    \n                          \n- 其它：表示错误码。错误码详情，请参见错误码。","type":"string","example":"Success"},"Success":{"description":"操作成功返回true。","type":"boolean","example":"true"}}}}},"errorCodes":{"403":[{"errorCode":"ServiceNotEnable","errorMessage":"Service not enable"}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Message\\\": \\\"The event rule not existed!\\\",\\n  \\\"RequestId\\\": \\\"6FB52207-7621-5292-BDF2-A17E2E984160\\\\n\\\",\\n  \\\"Data\\\": {\\n    \\\"ErrorEntriesCount\\\": 0,\\n    \\\"ErrorEntries\\\": [\\n      {\\n        \\\"ErrorMessage\\\": \\\"The id of event target is duplicate!\\\",\\n        \\\"ErrorCode\\\": \\\"EventRuleTargetIdDuplicate\\\",\\n        \\\"EntryId\\\": \\\"Mlm123456JHd2RsRoKw\\\"\\n      }\\n    ]\\n  },\\n  \\\"Code\\\": \\\"Success\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"在指定的规则下创建或更新事件目标","description":"在指定的规则下创建或更新事件目标。"}