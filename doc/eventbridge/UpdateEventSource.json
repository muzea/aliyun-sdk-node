{"summary":"更新一个事件源的配置。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"38634","abilityTreeNodes":["FEATUREeventbridgeR7SE45"]},"parameters":[{"name":"EventSourceName","in":"formData","schema":{"title":"事件源英文Code","description":"事件源名称。","type":"string","required":true,"example":"myrabbitmq.source"}},{"name":"Description","in":"formData","schema":{"title":"事件源描述详情","description":"事件源描述详情。","type":"string","required":false,"example":"RabbitMQ事件源"}},{"name":"LinkedExternalSource","in":"formData","schema":{"title":"是否连接外部数据源","description":"是否连接外部数据源","type":"boolean","required":false}},{"name":"ExternalSourceType","in":"formData","schema":{"title":"外部数据源类型","description":"外部数据源类型","type":"string","required":false}},{"name":"ExternalSourceConfig","in":"formData","style":"json","schema":{"title":"外部数据源配置","description":"外部数据源配置","type":"object","required":false}},{"name":"EventBusName","in":"formData","schema":{"title":"绑定的总线","description":"绑定的总线。","type":"string","required":true,"example":"my-event-bus\n"}},{"name":"SourceMNSParameters","in":"formData","style":"json","schema":{"description":"MNS事件源参数","type":"object","properties":{"RegionId":{"description":"消息服务MNS的队列所在的地域。","type":"string","required":false,"example":"cn-beijing"},"QueueName":{"description":"消息服务MNS的Queue的名称。","type":"string","required":false,"example":"queue_api_bind_1672194645178"},"IsBase64Decode":{"description":"是否开启Base64解码。默认为勾选，即开启Base64解码。","type":"boolean","required":false,"example":"true"}},"required":false}},{"name":"SourceRocketMQParameters","in":"formData","style":"json","schema":{"description":"请求参数SourceRocketMQParameters","type":"object","properties":{"RegionId":{"description":"消息队列RocketMQ版的实例所属地域。","type":"string","required":false,"example":"cn-zhangjiakou"},"InstanceId":{"description":"消息队列RocketMQ版的实例ID。更多信息，请参见[使用限制](~~163289~~)。","type":"string","required":false,"example":"dbaudit-cn-i7m2nx****"},"Topic":{"description":"消息队列RocketMQ版实例的Topic名称。更多信息，请参见[使用限制](~~163289~~)。","type":"string","required":false,"example":"topic_default_195820716552192"},"Tag":{"description":"消息的过滤标签。","type":"string","required":false,"example":"KEY2"},"Offset":{"description":"消息的消费位点。取值说明如下：\n\n- CONSUME_FROM_LAST_OFFSET：从最新位点开始消费。\n\n- CONSUME_FROM_FIRST_OFFSET：从最早位点开始消费。\n\n- CONSUME_FROM_TIMESTAMP：从指定时间点的位点开始消费。\n\n默认值：CONSUME_FROM_LAST_OFFSET。","type":"string","required":false,"example":"CONSUMEFROMLASTOFFSET"},"Timestamp":{"description":"时间戳。仅当参数Offset取值为CONSUME_FROM_TIMESTAMP时，该参数有效。","type":"integer","format":"int64","required":false,"example":"1663555399032"},"GroupID":{"description":"消息队列RocketMQ版的Group ID。","type":"string","required":false,"example":"GID-test\n"},"InstanceType":{"description":"实例类型 ：\n\n- 4.0实例填写 ：Cloud_4\n\n- 5.0实例填写 ：Cloud_5","type":"string","required":false,"example":"Cloud_4"},"InstanceNetwork":{"description":"无","type":"string","required":false,"example":"无"},"InstanceVpcId":{"description":"专有网络需要添加 vpcId。","type":"string","required":false,"example":"vpc-bp1a4gmlk31hyg6pt****"},"InstanceVSwitchIds":{"description":"专有网络需要添加 vSwitchId。","type":"string","required":false,"example":"vsw-bp10rbrt6rb6vrd89****\n"},"InstanceSecurityGroupId":{"description":"专有网络需要添加securityGroupId。","type":"string","required":false,"example":"sg-catalog-eventlistener\n"},"AuthType":{"description":"ACL或者不填。","type":"string","required":false,"example":"ACL"},"InstanceEndpoint":{"description":"实例接入点。","type":"string","required":false,"example":"registry-vpc****.aliyuncs.com\n"},"InstanceUsername":{"description":"实例用户名。","type":"string","required":false,"example":"root"},"InstancePassword":{"description":"实例密码。","type":"string","required":false,"example":"******"}},"required":false}},{"name":"SourceRabbitMQParameters","in":"formData","style":"json","schema":{"description":"请求参数SourceRabbitMQParameters","type":"object","properties":{"RegionId":{"description":"消息队列RabbitMQ版实例所在的地域。","type":"string","required":false,"example":"cn-hangzhou"},"InstanceId":{"description":"消息队列RabbitMQ版的实例的ID。更多信息，请参见[使用限制](~~163289~~)。","type":"string","required":false,"example":"bastionhost-cn-7mz2zky****"},"VirtualHostName":{"description":"消息队列RabbitMQ版实例的Vhost的名称。更多信息，请参见[使用限制](~~163289~~)。","type":"string","required":false,"example":"amqp-cn-nif22u74****\t\n"},"QueueName":{"description":"eb-connect\t消息队列RabbitMQ版实例的Queue的名称。更多信息，请参见[使用限制](~~163289~~)。","type":"string","required":false,"example":"eb-connect"}},"required":false}},{"name":"SourceSLSParameters","in":"formData","style":"json","schema":{"description":"SourceSLSParameters","type":"object","properties":{"Project":{"description":"日志服务SLS的日志项目。","type":"string","required":false,"example":"VideoTestProject"},"LogStore":{"description":"日志服务SLS的日志库。","type":"string","required":false,"example":"waf-logstore"},"ConsumePosition":{"description":"起始消费位点，可以选择最早或最新位点，分别对应“begin”，“end”，也可以从指定时间开始消费，以秒为单位。","type":"string","required":false,"example":"end"},"RoleName":{"description":"授权事件总线EventBridge使用此角色读取SLS日志内容时，需满足条件：在RAM控制台创建服务所使用的角色时，需要选择“阿里云服务”，并且“受信服务”需要选择“事件总线”。此角色权限策略可参考自定义事件源日志服务SLS。","type":"string","required":false,"example":"testRole"}},"required":false}},{"name":"SourceScheduledEventParameters","in":"formData","style":"json","schema":{"description":"请求参数SourceScheduledEventParameters","type":"object","properties":{"Schedule":{"description":"Cron表达式。","type":"string","required":false,"example":"10 * * * * *\n"},"TimeZone":{"description":"Cron执行时区。","type":"string","required":false,"example":"GMT+0:00\n"},"UserData":{"description":"JSON字符串","type":"string","required":false,"example":"{\"a\": \"b\"}"}},"required":false}},{"name":"SourceHttpEventParameters","in":"formData","style":"json","schema":{"description":"请求参数SourceHttpEventParameters","type":"object","properties":{"Type":{"description":"生成的Webhook支持的协议类型。取值说明如下：\n\n- HTTP\n\n- HTTPS\n\n- HTTP&HTTPS","type":"string","required":false,"example":"HTTPS"},"Method":{"description":"生成的Webhook支持的HTTP请求方法。可多选，可选范围如下：\n\n- GET\n\n- POST\n\n- PUT\n\n- PATCH\n\n- DELETE\n\n- HEAD\n\n- OPTIONS\n\n- TRACE\n\n- CONNECT","type":"array","items":{"description":"生成的Webhook支持的HTTP请求方法。可多选，可选范围如下：\n\n- GET\n\n- POST\n\n- PUT\n\n- PATCH\n\n- DELETE\n\n- HEAD\n\n- OPTIONS\n\n- TRACE\n\n- CONNECT","type":"string","required":false,"example":"GET"},"required":false},"SecurityConfig":{"description":"选择安全配置的类型。可选范围如下：\n\n- none：无需配置。\n\n- ip：IP网段。\n\n- referer：安全域名。","type":"string","required":false,"example":"none"},"Ip":{"description":"IP网段安全配置。仅在SecurityConfig取值为ip时，需要设置该参数。可填写IP地址段或IP地址。","type":"array","items":{"description":"IP网段安全配置。仅在SecurityConfig取值为ip时，需要设置该参数。可填写IP地址段或IP地址。","type":"string","required":false,"example":"47.252.126.0/24"},"required":false},"Referer":{"description":"安全域名配置。仅在SecurityConfig取值为referer时，需要设置该参数。可填写域名。","type":"array","items":{"description":"安全域名配置。仅在SecurityConfig取值为referer时，需要设置该参数。可填写域名。","type":"string","required":false,"example":"aliyundoc.com\t\n"},"required":false}},"required":false}},{"name":"SourceKafkaParameters","in":"formData","style":"json","schema":{"description":"请求参数SourceKafkaParameters","type":"object","properties":{"InstanceId":{"description":"实例ID。","type":"string","required":false,"example":"cbwp-bp1o3m66wcjgbkssm3****"},"ConsumerGroup":{"description":"订阅该Topic的消费者所对应的Group ID。","type":"string","required":false,"example":"dsp_online_ml_request"},"Topic":{"description":"Topic名称。","type":"string","required":false,"example":"billing_notify"},"OffsetReset":{"description":"消费位点。","type":"string","required":false,"example":"latest"},"RegionId":{"description":"地域ID。","type":"string","required":false,"example":"cn-shanghai"},"MaximumTasks":{"description":"并发配额（消费者数）。","type":"integer","format":"int32","required":false,"example":"1"},"Network":{"description":"网络配置 ：Default（默认网络）和PublicNetwork（自建网络）。","type":"string","required":false,"example":"Default"},"SecurityGroupId":{"description":"如果是自建网络需要添安全组ID。","type":"string","required":false,"example":"sg-5wz3mjgo9wpvdnwpwnhkj****"},"VpcId":{"description":"如果是自建网络需要添加vpcId。","type":"string","required":false,"example":"vpc-2zefu4vfmx6sioguj****"},"VSwitchIds":{"description":"如果是自建网络需要添加vSwitchId。","type":"string","required":false,"example":"vsw-bp1xyntcxiwplhqxj****"}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"错误信息","type":"string","example":"Remote error. requestId: [xxxx-9D10-65DFDFA3A75D], error code: [EventSourceNotExist], message: [The event source in request is not exist! ]"},"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"c057d379-ea65-41ec-a8a8-90627a9****"},"Data":{"description":"更新结果","type":"boolean","example":"true"},"Code":{"description":"接口返回码：\n\n- Success：表示成功。\n\n- 其它：表示错误码。错误码详情，请参见错误码。","type":"string","example":"Success"},"Success":{"description":"操作成功返回true。","type":"boolean","example":"true"}}}}},"errorCodes":{"403":[{"errorCode":"ServiceNotEnable","errorMessage":"Service not enable"}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Message\\\": \\\"Remote error. requestId: [xxxx-9D10-65DFDFA3A75D], error code: [EventSourceNotExist], message: [The event source in request is not exist! ]\\\",\\n  \\\"RequestId\\\": \\\"c057d379-ea65-41ec-a8a8-90627a9****\\\",\\n  \\\"Data\\\": true,\\n  \\\"Code\\\": \\\"Success\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"更新一个事件源","description":"更新一个事件源的配置。","requestParamsDescription":"请求示例 ：\n`POST /openapi/updateEventSource HTTP/1.1\nHost: 164901546557****.eventbridge.cn-hangzhou.aliyuncs.com\nDate: Sat, 18 Apr 2020 05:30:41 GMT\nx-eventbridge-version: 2020-04-01\nAuthorization: acs vZ3VL0SuJdHi****:Jo2PbT******azYAYoYslKLvWzg=\nContent-Type: application/json;charset=UTF-8\nContent-Length: 26\n\n{\n    \"EventSourceName\":\"myRocketMQ.source\",\n    \"Description\":\"RocketMQ事件源\",\n    \"SourceRocketMQParameters\":{\n        \"InstanceId\":\"MQ_INST_164901546557****_BAAN****\",\n        \"GroupID\":\"GID_group1\",\n        \"Topic\":\"mytopic\",\n        \"Offset\":\"CONSUME_FROM_LAST_OFFSET\",\n        \"Tag\":\"test\",\n        \"RegionId\":\"cn-hangzhou\"\n    },\n    \"EventBusName\":\"my-event-bus\"\n}`"}