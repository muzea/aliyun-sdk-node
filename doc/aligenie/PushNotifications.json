{"summary":"执行天猫精灵的消息推送功能。需先在猫精技能应用平台进行能力申请和消息模板配置。","path":"/v1.0/iap/notifications","methods":["put"],"schemes":["http","https"],"security":[{"AliGenie_Auth_SPI":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"parameters":[{"name":"NotificationUnicastRequest","in":"formData","style":"json","schema":{"title":"消息推送入参对象。","description":"消息推送入参对象。","type":"object","properties":{"SendTarget":{"title":"消息推送的目标信息。","description":"消息推送的目标信息。","type":"object","properties":{"TargetType":{"title":"推送的目标类型，获取到对应设备或用户标识时的类型 - DEVICE_UNION_ID：设备unionId - DEVICE_OPEN_ID：设备openId - USER_UNION_ID：用户unionId - USER_OPEN_ID：用户openId","description":"推送的目标类型，获取到对应设备或用户标识时的类型：\n-  ` DEVICE_UNION_ID ` ：设备unionId\n-  ` DEVICE_OPEN_ID ` ：设备openId\n-  ` USER_UNION_ID ` ：用户unionId \n-  ` USER_OPEN_ID ` ：用户openId","type":"string","required":false,"example":"DEVICE_OPEN_ID","enum":["DEVICE_UNION_ID","DEVICE_OPEN_ID","USER_UNION_ID","USER_OPEN_ID"]},"TargetIdentity":{"title":"推送目标类型对应的标识值。","description":"推送目标类型对应的标识值。","type":"string","required":false,"example":"2VpiDQ6aMjxz******Eo7r6e08oIVZ3fKrm5TyEfY="}},"required":true},"MessageTemplateId":{"title":"消息模板，在天猫精灵应用平台中申请消息模板时得到的模板id。","description":"消息模板，在天猫精灵应用平台中申请消息模板时得到的模板ID。","type":"string","required":true,"example":"2iU81*****G9elJ"},"PlaceHolder":{"title":"占位符信息，例如：模板是【你好，{nick}！】这里可以是：{\"nick\":\"小甜甜\"}","description":"占位符信息，例如：模板【你好，{nick}！】，此处可以是：{\"nick\":\"小甜甜\"}。此外，在占位符参数里我们还可以对填写的应用调起链接增加参数，以支持跳转到指定地址的功能，如：`{\"nick\":\"小甜甜\",\"_URL_SUFFIX_\":\"xxx\"}`。消息弹窗内的跳转地址就是：应用调起链接+`${_URL_SUFFIX_}`，此功能只对配置了调起链接的应用有效","type":"object","required":false,"additionalProperties":{"type":"string","example":"{\"nick\":\"小甜甜\"}","description":"占位符信息，例如：模板【你好，{nick}！】，此处可以是：{\"nick\":\"小甜甜\"}。"},"example":"{\"nick\":\"张三\"}"},"EncodeType":{"title":"编码类型，获取猫精的设备标识的途径有多种，不同途径对应不同的编码类型： PACKAGE_NAME：apk包名 SKILL_ID：技能id","description":"编码类型，获取猫精的设备标识的途径有多种，不同途径对应不同的编码类型：\n- PACKAGE_NAME：apk包名\n- SKILL_ID：技能ID","type":"string","required":true,"example":"PACKAGE_NAME","enum":["PACKAGE_NAME","SKILL_ID"]},"EncodeKey":{"title":"编码类型对应的值，例如：编码类型是SKILLID，其值就为webhook服务中得到的skillId；编码类似是PACKAGENAME，其值就为对应客户端app的packageName。","description":"编码类型对应的值。\n- 编码类型是SKILL_ID时，其值为webhook服务中得到的skill ID。\n- 编码类型是PACKAGE_NAME时，其值为对应客户端App的packageName。","type":"string","required":true,"example":"apk包名"},"OrganizationId":{"title":"组织标识，推送类型是XX_UNION_XX时才需要配。当存在多种途径获取猫精设备或用户标识且又需要能互通的情况下需要找平台申请组织，申请通过后由平台分配得到。","description":"组织标识，推送类型是`XX_UNION_XX`时才需要配。当存在多种途径获取猫精设备或用户标识且又需要能互通的情况下需要找平台申请组织，申请通过后由平台分配得到。","type":"string","required":false,"example":"2"},"IsDebug":{"title":"调试标识","description":"调试标识，当技能应用处于调试阶段时，设置此标识将决定获取技能应用信息时，是编辑态信息还是线上信息。","type":"boolean","required":false,"example":"true","default":"false"}},"required":true}},{"name":"TenantInfo","in":"formData","style":"json","schema":{"title":"身份信息。","description":"身份信息。","type":"object","properties":{"SubjectId":{"title":"猫精应用id，【开发者平台-技能应用】创建应用后得到的应用id","type":"string","example":"20*****01"}},"required":false}}],"responses":{"200":{}},"errorCodes":{"400":[{"errorCode":"AliGenie.PushNotifications.InvalidParameter.PlaceHolder","errorMessage":"The template placeholder information is missing."},{"errorCode":"AliGenie.PushNotifications.InvalidParameter.SendTarget","errorMessage":"Failed to identify message target."},{"errorCode":"AliGenie.PushNotifications.InvalidParameter.MessageTemplateId","errorMessage":"The template information is invalid."},{"errorCode":"AliGenie.PushNotifications.InvalidParameter","errorMessage":"The request parameter is invalid."},{"errorCode":"AliGenie.Notifications.Application.Invalid","errorMessage":"The AliGenie app info is invalid."},{"errorCode":"AliGenie.Notifications.Application.Status","errorMessage":"The AliGenie app has not been released."},{"errorCode":"AliGenie.Notifications.Application.Url","errorMessage":"The AliGenie app awaken url is missing."},{"errorCode":"AliGenie.Notifications.InvalidParameter.DeviceInfo","errorMessage":"Failed to identify device."},{"errorCode":"AliGenie.Notifications.InvalidParameter.UserInfo","errorMessage":"Failed to identify user."}],"500":[{"errorCode":"AliGenie.Public.InternalError","errorMessage":"An internal error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PushNotificationsResponse/>\",\"errorExample\":\"\"}]","title":"消息推送_定制机版"}