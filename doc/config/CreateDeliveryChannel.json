{"summary":"创建投递渠道。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":true,"systemTags":{},"parameters":[{"name":"DeliveryChannelName","in":"formData","schema":{"description":"投递渠道名称。\n\n> 如果未设置该参数，默认为空。","type":"string","required":false,"docRequired":false,"example":"testoss"}},{"name":"DeliveryChannelType","in":"formData","schema":{"description":"投递渠道类型。取值：\n- OSS：对象存储。\n- MNS：消息服务。\n- SLS：日志服务。","type":"string","required":true,"docRequired":true,"example":"OSS","enum":["OSS","MNS","SLS"]}},{"name":"DeliveryChannelTargetArn","in":"formData","schema":{"description":"投递渠道目标地址的ARN。取值：\n\n- 当投递渠道为OSS时，格式为`acs:oss:{RegionId}:{accountId}:{bucketName}`，例如：`acs:oss:cn-shanghai:100931896542****:new-bucket`。\n\n- 当投递渠道为MNS时，格式为`acs:mns:{RegionId}:{accountId}:/topics/{topicName}`，例如：`acs:mns:cn-shanghai:100931896542****:/topics/topic1`。\n\n- 当投递渠道为SLS时，格式为`acs:log:{RegionId}:{accountId}:project/{projectName}/logstore/{logstoreName}`，例如：`acs:log:cn-shanghai:100931896542****:project/project1/logstore/logstore1`。","type":"string","required":true,"docRequired":true,"example":"acs:oss:cn-shanghai:100931896542****:new-bucket"}},{"name":"DeliveryChannelAssumeRoleArn","in":"formData","schema":{"description":"投递角色ARN。格式为`acs:ram::{accountId}:role/aliyunserviceroleforconfig`。\n\n\n","type":"string","required":true,"docRequired":true,"example":"acs:ram::100931896542****:role/aliyunserviceroleforconfig"}},{"name":"DeliveryChannelCondition","in":"formData","schema":{"description":"投递渠道附加规则。当前仅支持MNS类型的投递渠道。\n\n您可以指定MNS订阅事件的最低风险等级和资源类型，具体如下：\n\n- 订阅事件的最低风险等级为`{\"filterType\":\"RuleRiskLevel\",\"value\":\"1\",\"multiple\":false}`。\n\n    `value`表示您需要过滤的风险等级。取值：1表示高风险，2表示中风险，3表示低风险。\n\n- 订阅事件的资源类型为`{\"filterType\":\"ResourceType\",\"values\":[\"ACS::ACK::Cluster\",\"ACS::ActionTrail::Trail\",\"ACS::CBWP::CommonBandwidthPackage\"],\"multiple\":true}`。\n    \n    `values`表示您需要订阅事件的资源类型，是一个资源类型的JSON数组。\n    例如：\n`[{\"filterType\":\"ResourceType\",\"values\":[\"ACS::ActionTrail::Trail\",\"ACS::CBWP::CommonBandwidthPackage\",\"ACS::CDN::Domain\",\"ACS::CEN::CenBandwidthPackage\",\"ACS::CEN::CenInstance\",\"ACS::CEN::Flowlog\",\"ACS::DdosCoo::Instance\"],\"multiple\":true}]`\n\n","type":"string","required":false,"docRequired":false,"example":"[{\"filterType\":\"ResourceType\",\"values\":[\"ACS::ActionTrail::Trail\",\"ACS::CBWP::CommonBandwidthPackage\",\"ACS::CDN::Domain\",\"ACS::CEN::CenBandwidthPackage\",\"ACS::CEN::CenInstance\",\"ACS::CEN::Flowlog\",\"ACS::DdosCoo::Instance\"],\"multiple\":true}]"}},{"name":"Description","in":"formData","schema":{"description":"投递渠道描述。","type":"string","required":false,"example":"My OSS delivery."}},{"name":"ClientToken","in":"formData","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。\n\n`ClientToken`只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"1594295238-f9361358-5843-4294-8d30-b5183fac****"}},{"name":"ConfigurationSnapshot","in":"formData","schema":{"description":"是否接收资源定时快照。每天00:00:00和12:00:00，配置审计定时向对象存储OSS投递资源定时快照。取值：\n- true\n- false（默认值）\n\n> 仅支持投递渠道OSS。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"ConfigurationItemChangeNotification","in":"formData","schema":{"description":"是否接收资源配置变更历史。当资源配置变更时，配置审计向对象存储OSS、日志服务SLS或消息服务MNS投递资源配置变更历史。取值：\n- true\n- false（默认值）\n\n> 支持投递渠道OSS、SLS和MNS。\n","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"NonCompliantNotification","in":"formData","schema":{"description":"是否接收资源不合规事件。当资源不合规时，配置审计向日志服务SLS或消息服务MNS投递资源不合规事件。取值： \n- true\n- false（默认值）\n\n> 仅支持投递渠道SLS和MNS。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"OversizedDataOSSTargetArn","in":"formData","schema":{"description":"当投递数据超过投递渠道限制时，投递数据转存到对象存储OSS的目标存储空间。格式为`acs:oss:{RegionId}:{accountId}:{bucketName}`。\n\n如果您未设置该参数，配置审计仅投递概要信息。\n\n> 仅支持投递渠道SLS和MNS。日志服务SLS的投递渠道限制是1 MB，消息服务MNS的投递渠道限制是64 KB。\n\n","type":"string","required":false,"example":"acs:oss:cn-shanghai:100931896542****:new-bucket"}}],"responses":{"200":{"headers":{},"schema":{"description":"无。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A7A0FFF8-0B44-40C6-8BBF-3A185EFDERTHG"},"DeliveryChannelId":{"description":"投递渠道ID。","type":"string","example":"cdc-8e45ff4e06a3a8****"}}}}},"errorCodes":{"400":[{"errorCode":"DeliveryChannelNotExists","errorMessage":"The delivery channel does not exist."},{"errorCode":"Invalid.DeliveryChannelAssumeRoleArn.Format","errorMessage":"The specified format of DeliveryChannelAssumeRoleArn is invalid."},{"errorCode":"Invalid.DeliveryChannelTargetArn.Format","errorMessage":"The specified format of DeliveryChannelTargetArn is invalid."},{"errorCode":"Invalid.DeliveryChannelCondition.Format","errorMessage":"The specified format of DeliveryChannelCondition is invalid."},{"errorCode":"MemberNotBelongToMaster","errorMessage":"The specified member does not belong to your organization."},{"errorCode":"DeliveryChannelAccountNotSupport","errorMessage":"Cross-account delivery that is not in the RD is not supported."},{"errorCode":"DeliveryChannelMnsUnreachable","errorMessage":"The MNS topic is unreachable."},{"errorCode":"DeliveryChannelOssUnreachable","errorMessage":"The OSS bucket is unreachable."},{"errorCode":"DeliveryChannelSlsUnreachable","errorMessage":"SLS logstore is unreachable."}],"404":[{"errorCode":"AccountNotExisted","errorMessage":"Your account does not exist."}]},"staticInfo":{"substitutions":["Config::2020-09-07::CreateConfigDeliveryChannel","Config::2020-09-07::CreateAggregateConfigDeliveryChannel"]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A7A0FFF8-0B44-40C6-8BBF-3A185EFDERTHG\\\",\\n  \\\"DeliveryChannelId\\\": \\\"cdc-8e45ff4e06a3a8****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateDeliveryChannelResponse>\\n    <RequestId>A7A0FFF8-0B44-40C6-8BBF-3A185EFDERTHG</RequestId>\\n    <DeliveryChannelId>cdc-8e45ff4e06a3a8****</DeliveryChannelId>\\n</CreateDeliveryChannelResponse>\",\"errorExample\":\"\"}]","title":"创建投递渠道（不推荐）","description":"本文将提供一个示例，创建一个投递渠道类型为`OSS`、投递渠道目标地址ARN为`acs:oss:cn-shanghai:100931896542****:new-bucket`、投递角色ARN为`acs:ram::100931896542****:role/aliyunserviceroleforconfig`的投递渠道。返回结果显示投递渠道创建成功，投递渠道ID为`cdc-8e45ff4e06a3a8****`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~251751~~)。"}