{"summary":"创建工作流","path":"/dolphinscheduler/v3/projects/{projectId}/workflows","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"220061","abilityTreeNodes":["FEATUREemapreduce265SSG"]},"parameters":[{"name":"projectId","in":"path","schema":{"description":"项目ID","type":"string","required":true,"example":"p-n72kong0832****"}},{"name":"workspaceId","in":"query","schema":{"description":"工作空间ID","type":"string","required":true,"example":"12345"}},{"name":"name","in":"query","schema":{"description":"工作流名称","type":"string","required":true,"example":"test"}},{"name":"taskRelationJson","in":"query","schema":{"description":"任务依赖关系json，包含工作流所有任务之间的依赖关系，preTaskId为上游任务id，postTaskId为下游任务id，此处指定的任务id为自定义id（不能为0），每一个任务需有唯一的id。如果任务节点没有上游任务，也需要增加一个preTaskId为0的依赖关系","type":"string","required":true,"example":"  [{\"preTaskId\":\"0\", \"postTaskId\":\"t1\"}]"}},{"name":"taskDefinitionJson","in":"query","schema":{"description":"任务定义json，包含工作流所有任务的描述信息","type":"string","required":true,"example":"  [{\"taskId\":\"t1\",\"name\":\"t1\",\"taskParams\":{\"rawScript\":\"echo 1\"},\"taskType\":\"SHELL\"}]"}},{"name":"description","in":"query","schema":{"description":"描述","type":"string","required":false,"example":"test"}},{"name":"workflowParams","in":"query","schema":{"description":"工作流参数","type":"string","required":false,"example":"  [{\"prop\":\"key1\",\"value\":\"value1\"}]"}},{"name":"parentDirectoryId","in":"query","schema":{"description":"目录ID","type":"string","required":false,"example":"wd-v7n2gp3vv3j****"}},{"name":"timeout","in":"query","schema":{"description":"超时的时间，单位：分钟","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"executionType","in":"query","schema":{"description":"执行策略","type":"string","required":false,"enumValueTitles":{"SERIAL_WAIT":"串行等待","PARALLEL":"并行"},"example":"PARALLEL"}},{"name":"scheduleState","in":"query","schema":{"description":"调度状态","type":"string","required":false,"enumValueTitles":{"OFFLINE":"下线","ONLINE":"上线"},"example":"OFFLINE"}},{"name":"scheduleStartTime","in":"query","schema":{"description":"调度起始时间","type":"string","required":false,"example":"2024-01-01 00:00:00"}},{"name":"scheduleEndTime","in":"query","schema":{"description":"调度结束时间","type":"string","required":false,"example":"2024-01-01 00:00:00"}},{"name":"cronExpr","in":"query","schema":{"description":"调度cron表达式","type":"string","required":false,"example":"0 0 * * * ? *"}},{"name":"timeZone","in":"query","schema":{"description":"时区","type":"string","required":false,"example":"Asia/Shanghai"}},{"name":"failureStrategy","in":"query","schema":{"description":"失败策略","type":"string","required":false,"enumValueTitles":{"CONTINUE":"继续","END":"结束"},"example":"END"}},{"name":"alertStrategy","in":"query","schema":{"description":"通知策略","type":"string","required":false,"enumValueTitles":{"ALL":"成功或失败都发","SUCCESS":"成功发","NONE":"都不发","FAILURE":"失败发"},"example":"NONE"}},{"name":"alertGroupId","in":"query","schema":{"description":"告警组ID","type":"string","required":false,"example":"ag-v7n2gp3vv3j****"}},{"name":"workflowInstancePriority","in":"query","schema":{"description":"工作流实例优先级","type":"string","required":false,"enumValueTitles":{"LOWEST":"LOWEST","HIGH":"HIGH","MEDIUM":"MEDIUM","LOW":"LOW","HIGHEST":"HIGHEST"},"example":"MEDIUM"}},{"name":"resourceGroupId","in":"query","schema":{"description":"资源组ID","type":"string","required":false,"example":"wg-acfmv4opbs****"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"requestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"9E3A7161-EB7B-172B-8D18-FFB06BA38***"},"success":{"description":"调用是否成功","type":"boolean","example":"True"},"data":{"description":"返回结果","type":"object","properties":{"workflowId":{"description":"工作流ID","type":"string","example":"w-acfmv4opbs****"}}}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"requestId\\\": \\\"9E3A7161-EB7B-172B-8D18-FFB06BA38***\\\",\\n  \\\"success\\\": true,\\n  \\\"data\\\": {\\n    \\\"workflowId\\\": \\\"w-acfmv4opbs****\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"创建工作流"}