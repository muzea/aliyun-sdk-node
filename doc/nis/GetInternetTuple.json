{"summary":"调用GetInternetTuple接口，获取公网流量详情数据排名，覆盖一元组、二元组、五元组粒度，支持按流量、包数等指标排序。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list","abilityTreeCode":"173536","abilityTreeNodes":["FEATUREnetana5MCZ6K"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"要查询的公网流量的地域ID。","type":"string","required":true,"example":"cn-shanghai"}},{"name":"TupleType","in":"query","schema":{"title":"查询的元组类型，枚举：1，2，5，分别表示一元组、二元组、五元组","description":"查询的元组类型。取值： \n- **1**：表示一元组。 \n- **2**：表示二元组。 \n- **5**：表示五元组。","type":"integer","format":"int32","required":true,"example":"1","enum":["1","2","5"]}},{"name":"BeginTime","in":"query","schema":{"title":"查询起始时间的毫秒时间戳。","description":"查询起始时间的毫秒时间戳。","type":"integer","format":"int64","required":true,"maximum":"253402271999000","minimum":"0","example":"1684373600099"}},{"name":"EndTime","in":"query","schema":{"title":"查询结束时间的毫秒时间戳。","description":"查询结束时间的毫秒时间戳。","type":"integer","format":"int64","required":true,"maximum":"253402271999000","minimum":"0","example":"1684373700099"}},{"name":"Direction","in":"query","schema":{"title":"查询流量方向，取值：\nin：入云方向\nout：出云方向","description":"查询流量方向，取值：\n\n- **in**：入云方向。\n- **out**：出云方向。","type":"string","required":true,"enumValueTitles":{"in":"in","out":"out"},"example":"in","enum":["in","out"]}},{"name":"OrderBy","in":"query","schema":{"title":"根据什么指标排序，默认值为ByteCount，即按流量排序。","description":"数据排序的指标。默认值：**ByteCount**，表示按流量排序。","type":"string","required":false,"example":"ByteCount","enum":["Rtt","ByteCount","PacketCount","RetransmitRate"]}},{"name":"CloudIp","in":"query","schema":{"title":"五元组：云端IP。","description":"阿里云端IP。","type":"string","required":false,"example":"112.74.XX.XX"}},{"name":"CloudPort","in":"query","schema":{"title":"五元组：云端端口","description":"阿里云端端口。 \n> 仅**TupleType**配置为**5**时，才需要配置该参数。","type":"string","required":false,"example":"443"}},{"name":"OtherIp","in":"query","schema":{"title":"五元组：对端IP","description":"对端IP。\n > 仅**TupleType**配置为**2**或**5**时，才需要配置该参数。","type":"string","required":false,"example":"122.112.XX.XX"}},{"name":"OtherPort","in":"query","schema":{"title":"五元组：对端端口","description":"对端端口。\n > 仅**TupleType**配置为**5**时，才需要配置该参数。","type":"string","required":false,"example":"40002"}},{"name":"InstanceId","in":"query","schema":{"title":"实例Id","description":"阿里云端实例ID。","type":"string","required":false,"example":"eip-sample*"}},{"name":"Protocol","in":"query","schema":{"title":"五元组：协议","description":"协议号。 \n>支持全部协议， 仅**TupleType**配置为**5**时，才需要配置该参数。","type":"string","required":false,"example":"6"}},{"name":"Sort","in":"query","schema":{"title":"排序方向：desc从大到小排序，asc从小到大排序。","description":"流量数据的排序方式。 \n- **desc**：从大到小排序。 \n- **asc**：从小到大排序","type":"string","required":false,"example":"desc","default":"desc","enum":["desc","asc"]}},{"name":"TopN","in":"query","schema":{"title":"默认10","description":"展示排序靠前的数据。默认值：**10**。表示默认展示排序前10的数据。最大值：**100**。","type":"integer","format":"int32","required":false,"example":"10","default":"10"}},{"name":"CloudIsp","in":"query","schema":{"title":"云端运营商。","description":"云端运营商。\n> 通常为“阿里巴巴”或“阿里云”。","type":"string","required":false,"example":"阿里巴巴"}},{"name":"OtherIsp","in":"query","schema":{"title":"对端运营商，查看运营商情况时，请指定此参数。","description":"对端运营商。 \n> 查看运营商情况时，请指定此参数。","type":"string","required":false,"example":"移动"}},{"name":"OtherCountry","in":"query","schema":{"title":"对端国家。仅TupleType配置为5时，才需要配置该参数。","description":"对端国家。\n>仅**TupleType**配置为**2**或**5**时，才需要配置该参数。","type":"string","required":false,"example":"中国"}},{"name":"OtherCity","in":"query","schema":{"title":"对端城市。仅TupleType配置为5时，才需要配置该参数。","description":"对端城市。\n>仅**TupleType**配置为**2**或**5**时，才需要配置该参数。","type":"string","required":false,"example":"杭州市"}},{"name":"InstanceList","in":"query","style":"json","schema":{"description":"批量过滤时的实例ID列表。","type":"array","items":{"description":"批量过滤时的实例ID。","type":"string","required":false,"example":"[\\\"eip-sample*\\\"]"},"required":false}},{"name":"CloudIpList","in":"query","style":"json","schema":{"description":"批量过滤时的云上IP列表。","type":"array","items":{"description":"批量过滤时的云上IP。","type":"string","required":false,"example":"[\\\"103.212.XX.XX\\\"]"},"required":false}},{"name":"UseMultiAccount","in":"query","schema":{"title":"是否使用多账号访问模式","description":"是否使用多账号管理功能。默认值：**false**。表示不使用。 \n> 多账号管理功能默认不开放，如需使用，请联系商务经理申请使用权限。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"AccountIds","in":"query","style":"repeatList","schema":{"title":"显式传递子账号ID","description":"成员账号ID列表。","type":"array","items":{"description":"某个成员账号ID。","type":"integer","format":"int64","required":false,"example":"[123]"},"required":false,"maxItems":10}}],"responses":{"200":{"schema":{"title":"RpcResponse<ArrayList<PublicFlowTupleModel>>","description":"RpcResponse<ArrayList<PublicFlowTupleModel>>","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D5E98683-355B-5867-8D3D-A24755F6895B"},"Data":{"description":"公网流量详情排名列表。","type":"array","items":{"description":"公网流量单行详情。","type":"object","properties":{"BeginTime":{"title":"数据时间点","description":"数据毫秒时间戳。","type":"string","example":"1684373600099"},"Direction":{"title":"数据方向","description":"流量方向。取值：\n - **in**：入云方向。 \n- **out**：出云方向。","type":"string","example":"in"},"InstanceId":{"title":"阿里侧IP归属的实例。","description":"阿里云端IP归属的实例ID。","type":"string","example":"eip-sample*"},"AccessRegion":{"title":"InstanceId为AnyCastEip时，流量进入阿里云的Pop点。","description":"流量进入阿里云的接入点。 \n> 仅**InstanceId**为Anycast弹性公网IP时，该参数有效。","type":"string","example":"cn-hongkong-pop"},"CloudIp":{"title":"五元组云端IP","description":"阿里云端IP。","type":"string","example":"112.74.XX.XX"},"CloudPort":{"title":"五元组云端端口","description":"阿里云端端口。","type":"string","example":"443"},"OtherIp":{"title":"五元组对端IP","description":"对端IP。","type":"string","example":"122.112.XX.XX"},"OtherPort":{"title":"五元组对端端口","description":"对端端口。","type":"string","example":"40002"},"Protocol":{"title":"五元组协议","description":"协议号。","type":"string","example":"6"},"CloudCountry":{"title":"云端国家/地区","description":"阿里云端国家或地区。","type":"string","example":"中国"},"CloudProvince":{"title":"云端省份","description":"阿里云端省份。","type":"string","example":"江苏省"},"CloudCity":{"title":"云端城市","description":"阿里云端城市。","type":"string","example":"南京市"},"CloudIsp":{"title":"云端ISP","description":"阿里云端运营商。","type":"string","example":"移动"},"CloudProduct":{"title":"云端ISP","description":"阿里云侧IP归属的实例对应的产品Code。","type":"string","example":"EIP"},"OtherCountry":{"title":"对端国家/地区","description":"对端国家或地区。","type":"string","example":"美国"},"OtherProvince":{"title":"对端省份","description":"对端省份。当**OtherCountry**为国外时，此值多数为空。","type":"string","example":"得克萨斯州"},"OtherCity":{"title":"对端城市","description":"对端城市。当**OtherCountry**为国外时，此值多数为空。","type":"string","example":"奥斯汀"},"OtherIsp":{"title":"对端ISP","description":"对端运营商。","type":"string","example":"amazon.com"},"OtherProduct":{"title":"对端ISP","description":"对端IP归属的产品。如果非云上IP，则为空。","type":"string","example":"ECS"},"Rtt":{"title":"RTT 指标(us)","description":"往返时延RTT（Round Trip Time）。单位：us。","type":"number","format":"double","example":"10000"},"ByteCount":{"title":"流量指标(byte)","description":"流量数(Byte)。","type":"number","format":"double","example":"88"},"PacketCount":{"title":"包数指标(个)","description":"流量包数。","type":"number","format":"double","example":"66"},"OutOrderCount":{"title":"包数指标(个)","description":"乱序包数。","type":"number","format":"double","example":"1"},"InByteCount":{"title":"包数指标(个)","description":"入云方向流量数。单位：Byte。","type":"number","format":"double","example":"88"},"OutByteCount":{"title":"包数指标(个)","description":"出云方向流量数。单位：Byte。","type":"number","format":"double","example":"66"},"InPacketCount":{"title":"入方向包数指标(个)","description":"入云方向流量包数。","type":"number","format":"double","example":"33"},"OutPacketCount":{"title":"出方向包数指标(个)","description":"出云方向流量包数。","type":"number","format":"double","example":"22"},"InOutOrderCount":{"title":"入方向乱序包数指标(个)","description":"入云方向乱序包数。","type":"number","format":"double","example":"2"},"OutOutOrderCount":{"title":"出方向乱序包数指标(个)","description":"出云方向乱序包数。","type":"number","format":"double","example":"1"},"InRetranCount":{"title":"入方向重传包数指标(个)","description":"入云方向重传包数。","type":"number","format":"double","example":"0"},"OutRetranCount":{"title":"出方向重传包数指标(个)","description":"出云方向重传包数。","type":"number","format":"double","example":"1"},"RetransmitRate":{"title":"重传率。","description":"TCP报文的重传率。","type":"number","format":"double","example":"0.1"}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalParam.TopN","errorMessage":"The TopN(%s) should not greater than 100."},{"errorCode":"IllegalParam.BeginTimeAndEndTime1H","errorMessage":"It only supports querying data for up to 1 hour: %s."},{"errorCode":"IllegalParam.GroupBy","errorMessage":"The specified param of GroupBy (%s) is invalid."},{"errorCode":"IllegalParam.OrderBy","errorMessage":"The specified param of orderBy (%s) is invalid."},{"errorCode":"IllegalParam.RegionId","errorMessage":"The specified region ID (%s) is invalid."},{"errorCode":"IllegalParam.BeginTimeAndEndTime","errorMessage":"It only supports querying data for up to 24 hours: %s."},{"errorCode":"IllegalParam.BeginTimeAndEndTime5M","errorMessage":"It only supports querying data for up to 5 minute when TupleType is 5 and the CloudIp and OtherIp are both empty: %s."},{"errorCode":"OperationFailed.DbConcurrentTooHigh","errorMessage":"The operation failed due to too many concurrent queries. Please try again later."},{"errorCode":"OperationFailed.DataTooMuch","errorMessage":"Too much data has been queried under the specified conditions. Shorten the query time, specify more precise filtering conditions, or try again later."}],"404":[{"errorCode":"ResourceNotFound.InstanceId","errorMessage":"The specified InstanceId(%s) does not exist."},{"errorCode":"ResourceNotFound.IpSets","errorMessage":"The specified instance does not exist or does not have any acceleration region."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D5E98683-355B-5867-8D3D-A24755F6895B\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"BeginTime\\\": \\\"1684373600099\\\",\\n      \\\"Direction\\\": \\\"in\\\",\\n      \\\"InstanceId\\\": \\\"eip-sample*\\\",\\n      \\\"AccessRegion\\\": \\\"cn-hongkong-pop\\\",\\n      \\\"CloudIp\\\": \\\"112.74.XX.XX\\\",\\n      \\\"CloudPort\\\": \\\"443\\\",\\n      \\\"OtherIp\\\": \\\"122.112.XX.XX\\\",\\n      \\\"OtherPort\\\": \\\"40002\\\",\\n      \\\"Protocol\\\": \\\"6\\\",\\n      \\\"CloudCountry\\\": \\\"中国\\\",\\n      \\\"CloudProvince\\\": \\\"江苏省\\\",\\n      \\\"CloudCity\\\": \\\"南京市\\\",\\n      \\\"CloudIsp\\\": \\\"移动\\\",\\n      \\\"CloudProduct\\\": \\\"EIP\\\",\\n      \\\"OtherCountry\\\": \\\"美国\\\",\\n      \\\"OtherProvince\\\": \\\"得克萨斯州\\\",\\n      \\\"OtherCity\\\": \\\"奥斯汀\\\",\\n      \\\"OtherIsp\\\": \\\"amazon.com\\\",\\n      \\\"OtherProduct\\\": \\\"ECS\\\",\\n      \\\"Rtt\\\": 10000,\\n      \\\"ByteCount\\\": 88,\\n      \\\"PacketCount\\\": 66,\\n      \\\"OutOrderCount\\\": 1,\\n      \\\"InByteCount\\\": 88,\\n      \\\"OutByteCount\\\": 66,\\n      \\\"InPacketCount\\\": 33,\\n      \\\"OutPacketCount\\\": 22,\\n      \\\"InOutOrderCount\\\": 2,\\n      \\\"OutOutOrderCount\\\": 1,\\n      \\\"InRetranCount\\\": 0,\\n      \\\"OutRetranCount\\\": 1,\\n      \\\"RetransmitRate\\\": 0.1\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取公网流量详情数据排名"}