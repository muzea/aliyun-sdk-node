{"summary":"调用GetTransitRouterFlowTopN接口，获取跨域流量详情数据排名，覆盖一元组、二元组、五元组粒度，支持按流量、包数等指标排序。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"BeginTime","in":"query","schema":{"title":"查询起始时间的毫秒时间戳。最大支持查24小时跨度的数据。","description":"查询起始时间的毫秒时间戳。最大支持查24小时跨度的数据。","type":"integer","format":"int64","required":true,"example":"1684373600099"}},{"name":"EndTime","in":"query","schema":{"title":"查询结束时间的毫秒时间戳。最大支持查24小时跨度的数据。","description":"查询结束时间的毫秒时间戳。最大支持查24小时跨度的数据。","type":"integer","format":"int64","required":true,"example":"1638239093000"}},{"name":"TopN","in":"query","schema":{"title":"取最大多少条数据，默认10，最大100。","description":"取最大多少条数据。默认值：**10**。最大值：**100**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"20","default":"10"}},{"name":"Direction","in":"query","schema":{"title":"对于当前地域或IP的流量方向。\nin：入流量 \nout：出流量","description":"对于当前地域或IP的流量方向。取值：\n- **in**：入流量。\n- **out**：出流量。","type":"string","required":true,"example":"in","enum":["in","out"]}},{"name":"GroupBy","in":"query","schema":{"title":"指定跨域流量排名的维度，大小写敏感。\n1Tuple：查询跨域流量中当前地域、CEN、IP维度的排名。\n2Tuple：查询跨域流量中两端地域、两端IP对维度的排名。\n5Tuple：查询跨域流量中两端IP、两端端口和协议维度的排名。\nCen：查询跨域流量中CEN实例维度的排名。\nRegionPair：查询跨域流量中两端地域维度的排名。\nPort：查询跨域流量中端口维度的排名。\nProtocol：查询跨域流量中协议维度的排名。","description":"指定跨域流量排名的维度，大小写敏感，请注意区分大小写。取值：\n- **1Tuple**：查询跨域流量中当前地域、云企业网CEN（Cloud Enterprise Network）、IP维度的排名。\n- **2Tuple**：查询跨域流量中两端地域、两端IP维度的排名。\n- **5Tuple**：查询跨域流量中两端IP、两端端口和协议维度的排名。\n- **Cen**：查询跨域流量中云企业网CEN实例维度的排名。\n- **RegionPair**：查询跨域流量中两端地域维度的排名。\n- **Port**：查询跨域流量中端口维度的排名。\n- **Protocol**：查询跨域流量中协议维度的排名。","type":"string","required":true,"example":"1Tuple","enum":["1Tuple","2Tuple","5Tuple","Cen","RegionPair","Port","Protocol"]}},{"name":"ThisRegion","in":"query","schema":{"title":"当前地域。","description":"当前地域，即**ThisIp**所在地域。","type":"string","required":false,"example":"cn-shanghai"}},{"name":"ThisIp","in":"query","schema":{"title":"当前IP地址。","description":"本端IP地址。","type":"string","required":false,"example":"1.8.XX.XX"}},{"name":"ThisPort","in":"query","schema":{"title":"当前端口。","description":"本端端口。","type":"string","required":false,"example":"80"}},{"name":"OtherRegion","in":"query","schema":{"title":"对端地域。","description":"对端地域。","type":"string","required":false,"example":"ap-southeast-1"}},{"name":"OtherIp","in":"query","schema":{"title":"对端IP地址。","description":"对端IP地址。","type":"string","required":false,"example":"122.112.XX.XX"}},{"name":"OtherPort","in":"query","schema":{"title":"对端端口。","description":"对端端口。","type":"string","required":false,"example":"10869"}},{"name":"Protocol","in":"query","schema":{"title":"协议类型编号。常见协议号如下：\n1：ICMP\n4：IP\n6：TCP\n17：UDP\n41：IPv6\n","description":"协议号。\n\n> 支持全部协议，仅**GroupBy**配置为**5Tuple**或**Protocol**时，才需要配置该参数。","type":"string","required":false,"example":"6"}},{"name":"OrderBy","in":"query","schema":{"title":"按哪个指标排序。","description":"数据排序的指标。默认值：Bytes，表示按流量排序。","type":"string","required":false,"example":"Bytes","default":"Bytes","enum":["Bytes","Packets"]}},{"name":"Sort","in":"query","schema":{"title":"排序方式。\ndesc：降序\nasc：升序","description":"流量数据的排序方式。\n- **desc**：降序。\n- **asc**：升序。","type":"string","required":false,"example":"desc","default":"desc","enum":["desc","asc"]}},{"name":"CenId","in":"query","schema":{"title":"CEN实例ID。","description":"CEN实例ID。","type":"string","required":false,"example":"cen-ia8kw1zjv4hyal****"}},{"name":"BandwithPackageId","in":"query","schema":{"title":"CEN带宽包ID。","description":"CEN带宽包ID。","type":"string","required":false,"example":"cenbwp-ia8kw1zjv4hyal****"}},{"name":"AccountIds","in":"query","style":"json","schema":{"description":"成员账号ID列表。","type":"array","items":{"description":"某个成员账号ID。","type":"integer","format":"int64","required":false,"example":"[\\\"118639953821****\\\"]"},"required":false}},{"name":"UseMultiAccount","in":"query","schema":{"description":"是否使用多账号管理功能。默认值：**false**。表示不使用。 \n> 多账号管理功能默认不开放，如需使用，请联系商务经理申请使用权限。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"title":"RpcResponse<TrFlowlogTopNResponse>","description":"RpcResponse<TrFlowlogTopNResponse>","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"D5E98683-355B-5867-8D3D-A24755F6895B"},"TransitRouterFlowTopN":{"description":"跨域流量详情排名列表。","type":"array","items":{"description":"跨域流量详情。","type":"object","properties":{"AccountId":{"title":"账号ID。","description":"账号ID。","type":"string","example":"118639953821****"},"CenId":{"title":"跨域ID","description":"CEN实例ID。","type":"string","example":"cen-ia8kw1zjv4hyal****"},"ThisRegion":{"title":"源regionId","description":"本端地域，即**ThisIp**所在地域。","type":"string","example":"cn-shanghai"},"ThisIp":{"title":"源IP地址","description":"本端IP地址。","type":"string","example":"1.8.XX.XX"},"ThisPort":{"title":"源端口号","description":"本端端口号。","type":"string","example":"80"},"OtherRegion":{"title":"目的regionId","description":"目的地域，即**OtherIp**所在地域。","type":"string","example":"ap-southeast-1"},"OtherIp":{"title":"目的IP地址","description":"对端IP地址。","type":"string","example":"47.216.XX.XX"},"OtherPort":{"title":"目的端口号","description":"对端端口号。","type":"string","example":"53470"},"Protocol":{"title":"协议号","description":"协议号。","type":"string","example":"6"},"StartTime":{"title":"开始时间","description":"开始时间。","type":"string","example":"2023-01-31T05:40:00Z"},"EndTime":{"title":"结束时间","description":"结束时间。","type":"string","example":"2023-01-31T06:40:00Z"},"Packets":{"description":"指定时间段内的包数总和。","type":"number","format":"double","example":"88"},"Bytes":{"description":"指定时间段内的流量总和。","type":"number","format":"double","example":"188"},"BandwithPackageId":{"title":"带宽包","description":"CEN带宽包ID。","type":"string","example":"cenbwp-ia8kw1zjv4hyal****"}}}}}}}},"errorCodes":{"400":[{"errorCode":"IllegalParam.TopN","errorMessage":"The TopN(%s) should not greater than 100."},{"errorCode":"IllegalParam.BeginTime","errorMessage":"The specified begin time (%s) is invalid."},{"errorCode":"IllegalParam.BeginTimeAndEndTime","errorMessage":"It only supports querying data for up to 7 days: %s."},{"errorCode":"IllegalParam.OrderBy","errorMessage":"The specified param of orderBy (%s) is invalid."},{"errorCode":"IllegalParam.Sort","errorMessage":"The specified Sort(%s) is invalid."},{"errorCode":"IllegalParam.AccountIds","errorMessage":"The specified parameter accountId (%s) is invalid."},{"errorCode":"IllegalParam.inOrOut","errorMessage":"Valid values for the inOrOut parameter: in and out."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"D5E98683-355B-5867-8D3D-A24755F6895B\\\",\\n  \\\"TransitRouterFlowTopN\\\": [\\n    {\\n      \\\"AccountId\\\": \\\"118639953821****\\\",\\n      \\\"CenId\\\": \\\"cen-ia8kw1zjv4hyal****\\\",\\n      \\\"ThisRegion\\\": \\\"cn-shanghai\\\",\\n      \\\"ThisIp\\\": \\\"1.8.XX.XX\\\",\\n      \\\"ThisPort\\\": \\\"80\\\",\\n      \\\"OtherRegion\\\": \\\"ap-southeast-1\\\",\\n      \\\"OtherIp\\\": \\\"47.216.XX.XX\\\",\\n      \\\"OtherPort\\\": \\\"53470\\\",\\n      \\\"Protocol\\\": \\\"6\\\",\\n      \\\"StartTime\\\": \\\"2023-01-31T05:40:00Z\\\",\\n      \\\"EndTime\\\": \\\"2023-01-31T06:40:00Z\\\",\\n      \\\"Packets\\\": 88,\\n      \\\"Bytes\\\": 188,\\n      \\\"BandwithPackageId\\\": \\\"cenbwp-ia8kw1zjv4hyal****\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"获取跨域流量详情数据排名"}