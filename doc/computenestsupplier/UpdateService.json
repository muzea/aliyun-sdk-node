{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"36950","abilityTreeNodes":["FEATUREcomputenest18JMDW"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DeployType","in":"query","schema":{"description":"部署类型。可能值：\n\n- ros：通过ROS部署。\n\n- terraform：通过Terraform部署。\n\n- spi：调用SPI部署。\n\n- operation：代运维服务部署。\n\n- container：通过容器部署。\n\n- pkg：包服务。","type":"string","required":false,"example":"ros"}},{"name":"DeployMetadata","in":"query","schema":{"description":"存储服务部署配置的信息。存储的信息与部署类型有关，不同的部署类型存储的数据格式不一样，因此使用JSON String格式进行数据存储。 ","type":"string","required":false,"example":"{\\\"EstimateTime\\\":null,\\\"SupplierDeployMetadata\\\":{\\\"DeployTimeout\\\":7200},\\\"EnableVnc\\\":false}"}},{"name":"AlarmMetadata","in":"query","schema":{"description":"服务报警配置。\n> 当**PolicyNames**中配置了报警权限策略后，该配置才会生效。","type":"string","required":false,"example":"{\\\"CmsTemplateId\\\":1162921,\\\"TemplateUrl\\\":\\\"https://service-info-private.oss-cn-hangzhou.aliyuncs.com/1760465342xxxxxx/template/c072ef50-6c03-4d9c-8f0e-d1c440xxxxxx.json\\\"}"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。","type":"string","required":false,"example":"788E7CP0EN9D51P"}},{"name":"ServiceId","in":"query","schema":{"description":"服务ID。","type":"string","required":true,"docRequired":true,"example":"service-1dda29c3eca648xxxxxx"}},{"name":"ServiceType","in":"query","schema":{"description":"服务类型。可能的值：\n\n- private：部署在用户账户下的服务实例。\n\n- managed：托管在服务商账户下的服务实例。\n\n- operation：代运维服务实例\n\n- poc：试用服务实例。","type":"string","required":false,"example":"private"}},{"name":"ServiceInfo","in":"query","style":"repeatList","schema":{"description":"服务详情。","type":"array","items":{"description":"服务详情。","type":"object","properties":{"Locale":{"description":"服务语言。可能的值：\n\n- zh-CN：中文。\n\n- en-US：英文。","type":"string","required":false,"example":"zh-CN"},"ShortDescription":{"description":"服务概述。","type":"string","required":false,"example":"B是A公司自主设计并研发的开源分布式的关系型数据库"},"Image":{"description":"服务图标地址。","type":"string","required":false,"example":"http://img.tidb.oss.url"},"Name":{"description":"服务名称。","type":"string","required":false,"example":"B数据库"},"LongDescriptionUrl":{"description":"服务详细描述的地址。","type":"string","required":false,"example":"http://description.tidb.oss.url\n"},"Agreements":{"description":"服务的协议文档信息。","type":"array","items":{"description":"服务的协议文档信息。","type":"object","properties":{"Name":{"description":"协议文档名称。","type":"string","required":false,"example":"Name"},"Url":{"description":"协议链接。","type":"string","required":false,"example":"https://aliyun.com/xxxxxxxx.html"}},"required":false},"required":false,"maxItems":10}},"required":false},"required":false,"maxItems":5}},{"name":"IsSupportOperated","in":"query","schema":{"description":"是否代运维，默认为：false。可能的值：\n\n- true：开启。\n\n- false：关闭。\n> 当**ServiceType**为**private**时需要填入该值。","type":"boolean","required":false,"example":"false"}},{"name":"PolicyNames","in":"query","schema":{"description":"策略名称。单个策略名称长度不超过128个字符，多个名称使用英文逗号（,）分隔。暂时只支持代运维相关参数策略。","type":"string","required":false,"example":"policyName1, policyName2"}},{"name":"Duration","in":"query","schema":{"description":"代运维时间。单位：秒。","type":"integer","format":"int64","required":false,"example":"259200"}},{"name":"VersionName","in":"query","schema":{"description":"版本名称。","type":"string","required":false,"example":"Draft"}},{"name":"UpgradeMetadata","in":"query","schema":{"description":"升级元数据。","type":"string","required":false,"example":"{\\\"Description\\\":\\\"xxx\\\",\\\"SupportRollback\\\":true,\\\"SupportUpgradeFromVersions\\\":[],\\\"UpgradeComponents\\\":[\\\"Configuration\\\"]}"}},{"name":"TrialDuration","in":"query","schema":{"description":"试用时长。单位：天。试用时长的最长天数不超过30天。","type":"integer","format":"int32","required":false,"example":"7"}},{"name":"ServiceVersion","in":"query","schema":{"description":"服务版本。","type":"string","required":false,"example":"1"}},{"name":"TenantType","in":"query","schema":{"description":"租户类型。可能的值：\n\n- SingleTenant：单租户。\n\n- MultiTenant：多租户。","type":"string","required":false,"example":"SingleTenant"}},{"name":"LicenseMetadata","in":"query","schema":{"description":"许可证元数据。","type":"string","required":false,"example":"{\\\"PayType\\\":\\\"CustomFixTime\\\",\\\"DefaultLicenseDays\\\":7,\\\"CustomMetadata\\\":[{\\\"TemplateName\\\":\\\"模板1\\\",\\\"SpecificationName\\\":\\\"bandwith-0\\\",\\\"CustomData\\\":\\\"1\\\"}]}"}},{"name":"OperationMetadata","in":"query","schema":{"description":"代运维配置。","type":"string","required":false,"example":"{\\\"PrometheusConfigMap\\\":{\\\"Custom_Image_Ecs\\\":{\\\"EnablePrometheus\\\":false}}}"}},{"name":"LogMetadata","in":"query","schema":{"description":"应用日志配置。","type":"string","required":false,"example":"{\n  \"Logstores\": [\n    {\n    \t\"LogstoreName\": \"access-log\",\n  \t\t\"LogPath\": \"/home/admin/app/logs\", # 对容器不需要，在YAML中配置\n  \t\t\"FilePattern\": \"access.log*\" # 对容器不需要，在YAML中配置\n    }\n  ]\n}"}},{"name":"Resellable","in":"query","schema":{"description":"是否支持分销。可能的值：\n\n- false：不支持。\n\n- true：支持。","type":"boolean","required":false,"example":"false"}},{"name":"UpdateOption","in":"query","style":"json","schema":{"description":"更新选项。","type":"object","properties":{"UpdateFrom":{"description":"更新选项。可选值：\n\n-  CODE：代码。\n\n- PARAMETERS：参数。","type":"string","required":false,"example":"PARAMETERS"}},"required":false}},{"name":"ShareType","in":"query","schema":{"description":"共享类型。可能的值：\n\n- Public：公开的，正式部署和试用部署都不受限。\n\n- Restricted：受限的，正式部署和试用部署都受限。\n\n- OnlyFormalRestricted：仅正式部署受限。\n\n- OnlyTrailRestricted：仅试用部署受限。\n\n- Hidden：隐藏的，不可见且不可申请部署权限。","type":"string","required":false,"example":"Public"}},{"name":"ApprovalType","in":"query","schema":{"description":"服务使用申请审批类型。可能的值：\n\n- Manual：收到审批。\n\n- AutoPass：自动通过。","type":"string","required":false,"example":"Manual"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"DF0F666F-FBBC-55C3-A368-C955DE7B4839"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"DF0F666F-FBBC-55C3-A368-C955DE7B4839\\\"\\n}\",\"type\":\"json\"}]","title":"更新服务","summary":"升级服务。"}