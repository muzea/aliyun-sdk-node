{"summary":"创建新的服务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"36949","abilityTreeNodes":["FEATUREcomputenest2G0818","FEATUREcomputenest1Z49ZW","FEATUREcomputenest21Y74A"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符。","type":"string","required":false,"example":"10CM943JP0EN9D51H"}},{"name":"ServiceId","in":"query","schema":{"description":"服务ID。","type":"string","required":false,"example":"service-0e6fca6a51a544xxxxxx"}},{"name":"DeployType","in":"query","schema":{"description":"部署类型。可能值：\n\n- ros：通过ROS部署。\n\n- terraform：通过Terraform部署。\n\n- ack：通过ACK部署。\n\n- spi：调用SPI部署。\n\n- operation：代运维服务部署。","type":"string","required":true,"docRequired":true,"example":"ros"}},{"name":"DeployMetadata","in":"query","schema":{"description":"存储服务部署配置的信息。存储的信息与部署类型有关，不同的部署类型存储的数据格式不一样，因此使用JSON String格式进行数据存储。 ","type":"string","required":false,"example":"{\\\"TemplateConfigs\\\":[{\\\"Name\\\":\\\"模板1\\\",\\\"Url\\\":\\\"oss://computenest-test/template\" \n            + \".json?RegionId=cn-beijing\\\",\\\"PredefinedParameters\\\":[{\\\"Name\\\":\\\"低配版\\\",\" \n            + \"\\\"Parameters\\\":{\\\"InstanceType\\\":\\\"ecs.g5.large\\\",\\\"DataDiskSize\\\":40}},{\\\"Name\\\":\\\"高配版\\\",\" \n            + \"\\\"Parameters\\\":{\\\"InstanceType\\\":\\\"ecs.g5.large\\\",\\\"DataDiskSize\\\":200}}]}]}"}},{"name":"ServiceType","in":"query","schema":{"description":"服务类型。可能的值：\n\n- private：部署在用户账户下的服务实例。\n\n- managed：托管在服务商账户下的服务实例。\n\n- operation：代运维服务实例\n\n- poc：试用服务实例。","type":"string","required":false,"docRequired":true,"example":"private","default":"private"}},{"name":"ServiceInfo","in":"query","style":"repeatList","schema":{"description":"服务详情。","type":"array","items":{"description":"服务详情。","type":"object","properties":{"Locale":{"description":"服务语言。可能的值：\n\n- zh-CN：中文。\n\n- en-US：英文。","type":"string","required":true,"example":"zh-CN"},"ShortDescription":{"description":"服务概述。","type":"string","required":false,"example":"TiDB是A公司自主设计、研发的开源分布式关系型数据库。"},"Image":{"description":"服务图标地址。","type":"string","required":false,"example":"http://img.tidb.oss.url"},"Name":{"description":"服务名称。","type":"string","required":true,"example":"TiDB Database"},"LongDescriptionUrl":{"description":"服务详细描述","type":"string","required":false,"example":"http://description.tidb.oss.url\n"},"Agreements":{"description":"服务的协议文档信息。","type":"array","items":{"description":"服务的协议文档信息。","type":"object","properties":{"Name":{"description":"协议名称。","type":"string","required":false,"example":"Name"},"Url":{"description":"协议链接。","type":"string","required":false,"example":"https://aliyun.com/xxxxxxxx.html"}},"required":false},"required":false,"maxItems":10}},"required":false},"required":false,"maxItems":5}},{"name":"IsSupportOperated","in":"query","schema":{"description":"是否代运维，默认为：false。可能的值：\n\n- true：开启。\n\n- false：关闭。\n> 当**ServiceType**为**private**时需要填入该值。","type":"boolean","required":false,"example":"false"}},{"name":"PolicyNames","in":"query","schema":{"description":"策略名称。单个策略名称长度不超过128个字符，多个名称使用英文逗号（,）分隔。暂时只支持代运维相关参数策略。","type":"string","required":false,"example":"policyName1, policyName2"}},{"name":"Duration","in":"query","schema":{"description":"代运维时间。单位：秒。","type":"integer","format":"int64","required":false,"example":"0"}},{"name":"AlarmMetadata","in":"query","schema":{"description":"服务报警配置。\n> 当**PolicyNames**中配置了报警权限策略后，该配置才会生效。","type":"string","required":false,"example":"{\n  \"TemplateUrl\": \"http://template.file.url\",\n  // 应用分组级别告警元数据\n  \"ApplicationGroups\": [\n    {\n      \"Name\": \"applicationGroup1\",\n      \"TemplateUrl\": \"url1\"\n    },\n    {\n      \"Name\": \"applicationGroup2\",\n      \"TemplateUrl\": \"url2\"\n    }\n  ]\n}"}},{"name":"ShareType","in":"query","schema":{"description":"共享类型。可能的值：\n\n- Public：公开的，正式部署和试用部署都不受限。\n\n- Restricted：受限的，正式部署和试用部署都受限。\n\n- OnlyFormalRestricted：仅正式部署受限。\n\n- OnlyTrailRestricted：仅试用部署受限。\n\n- Hidden：隐藏的，不可见且不可申请部署权限。","type":"string","required":false,"example":"Public"}},{"name":"ApprovalType","in":"query","schema":{"description":"服务使用申请审批类型。可能的值：\n\n- Manual：收到审批。\n\n- AutoPass：自动通过。","type":"string","required":false,"example":"Manual"}},{"name":"VersionName","in":"query","schema":{"description":"版本名称。","type":"string","required":false,"example":"Draft"}},{"name":"UpgradeMetadata","in":"query","schema":{"description":"升级元数据。","type":"string","required":false,"example":"{\\\"Description\\\":\\\"xxx\\\",\\\"SupportRollback\\\":true,\\\"SupportUpgradeFromVersions\\\":[],\\\"UpgradeComponents\\\":[\\\"Configuration\\\"]}"}},{"name":"TrialDuration","in":"query","schema":{"description":"试用时长。单位：天。试用时长的最长天数不超过30天。","type":"integer","format":"int64","required":false,"example":"7"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"用户自定义标签。","type":"array","items":{"description":"用户自定义标签。","type":"object","properties":{"Key":{"description":"标签键。","type":"string","required":false,"example":"Usage"},"Value":{"description":"标签值。","type":"string","required":false,"example":"Web"}},"required":false},"required":false,"maxItems":20}},{"name":"TenantType","in":"query","schema":{"description":"租户类型。可能的值：\n\n- SingleTenant：单租户。\n\n- MultiTenant：多租户。","type":"string","required":false,"example":"SingleTenant"}},{"name":"LicenseMetadata","in":"query","schema":{"description":"许可证元数据。","type":"string","required":false,"example":"{\\\"PayType\\\":\\\"CustomFixTime\\\",\\\"DefaultLicenseDays\\\":7,\\\"CustomMetadata\\\":[{\\\"TemplateName\\\":\\\"模板1\\\",\\\"SpecificationName\\\":\\\"bandwith-0\\\",\\\"CustomData\\\":\\\"1\\\"}]}"}},{"name":"OperationMetadata","in":"query","schema":{"description":"代运维配置。","type":"string","required":false,"example":"{\\\"PrometheusConfigMap\\\":{\\\"New_Vpc_Ack_And_Jumpserver\\\":{}}}"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-aek25refu7r3opq"}},{"name":"LogMetadata","in":"query","schema":{"description":"应用日志配置。","type":"string","required":false,"example":"{\n  \"Logstores\": [\n    {\n    \t\"LogstoreName\": \"access-log\",\n  \t\t\"LogPath\": \"/home/admin/app/logs\", # 对容器不需要，在YAML中配置\n  \t\t\"FilePattern\": \"access.log*\" # 对容器不需要，在YAML中配置\n    }\n  ]\n}"}},{"name":"SourceServiceId","in":"query","schema":{"description":"分销源服务ID。","type":"string","required":false,"example":"service-70a3b15bb62643xxxxxx"}},{"name":"SourceServiceVersion","in":"query","schema":{"description":"分销源服务版本。","type":"string","required":false,"example":"1"}},{"name":"Resellable","in":"query","schema":{"description":"是否支持分销。可能的值：\n\n- false：不支持。\n\n- true：支持。","type":"boolean","required":false,"example":"false"}},{"name":"BuildParameters","in":"query","schema":{"description":"构建服务参数。","type":"string","required":false,"example":"{ \"ServiceTemplateId\": \"st-xxxxx\"}"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Status":{"description":"服务状态。","type":"string","example":"Created"},"RequestId":{"description":"请求ID。","type":"string","example":"4DB0F536-B3BE-4F0D-BD29-E83FB56D550C"},"Version":{"description":"服务版本。","type":"string","example":"draft"},"ServiceId":{"description":"服务ID。","type":"string","example":"service-0e6fca6a51a544xxxxxx"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Status\\\": \\\"Created\\\",\\n  \\\"RequestId\\\": \\\"4DB0F536-B3BE-4F0D-BD29-E83FB56D550C\\\",\\n  \\\"Version\\\": \\\"draft\\\",\\n  \\\"ServiceId\\\": \\\"service-0e6fca6a51a544xxxxxx\\\"\\n}\",\"type\":\"json\"}]","title":"创建服务"}