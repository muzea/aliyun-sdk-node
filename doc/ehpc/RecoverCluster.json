{"methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ClusterId","in":"query","schema":{"description":"指定重置并修复的集群ID。并且，集群状态必须为exception（异常）时才能修复。\n\n您可以通过调用[ListClusters](~~87116~~)获取集群ID及集群状态。","type":"string","required":true,"docRequired":true,"example":"ehpc-hz-FYUr32****"}},{"name":"OsTag","in":"query","schema":{"description":"操作系统镜像标签。\n\n您可以通过[ListImages](~~87213~~)和[ListCustomImages](~~87215~~)查询E-HPC支持的镜像标签。","type":"string","required":false,"example":"CentOS_7.2_64"}},{"name":"AccountType","in":"query","schema":{"description":"账户服务类型。取值范围：\n- nis\n- ldap\n\n默认值：nis","type":"string","required":false,"example":"nis"}},{"name":"SchedulerType","in":"query","schema":{"description":"调度服务器类型。取值范围：\n- pbs\n- slurm\n- opengridscheduler\n- deadline\n\n默认值：pbs","type":"string","required":false,"example":"pbs"}},{"name":"ImageOwnerAlias","in":"query","schema":{"description":"镜像类型。取值范围：\n- system：公共镜像\n- self：自定义镜像\n- others：共享镜像\n\n默认值：system","type":"string","required":false,"example":"system"}},{"name":"ImageId","in":"query","schema":{"description":"镜像ID。\n\n您可以通过[ListImages](~~87213~~)和[ListCustomImages](~~87215~~)查询E-HPC可安装的镜像。","type":"string","required":false,"example":"m-bp18133n0335yq****"}},{"name":"ClientVersion","in":"query","schema":{"description":"集群所使用的客户端版本号，默认为最新版本。\n\n您可以调用[ListCurrentClientVersion](~~87223~~)查询当前最新客户端版本号。","type":"string","required":false,"example":"1.0.76"}}],"responses":{"200":{"schema":{"type":"object","properties":{"TaskId":{"description":"任务ID。","type":"string","example":"18FB21E3-F423-4B84-BB63-D8887A29****"},"RequestId":{"description":"请求ID。","type":"string","example":"18FB21E3-F423-4B84-BB63-D8887A29****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"InDebt","errorMessage":"Your account has overdue payments."},{"errorCode":"OrderError.InsufficientBalance","errorMessage":"The account balance is insufficient. Please add funds first and try again."},{"errorCode":"OrderError.InstHasUnpaidOrder","errorMessage":"Your account has an unpaid order."},{"errorCode":"OrderError.Arrearage","errorMessage":"Your account balance is less than CNY 100. Please add funds to your account and try again."},{"errorCode":"OrderError.NoCard","errorMessage":"No credit card is bound to your account."},{"errorCode":"OrderError.InvalidPayMethod","errorMessage":"No valid default payment method is specified for your account."},{"errorCode":"OrderError.NoRealNameAuthentication","errorMessage":"You have not completed the real name authentication."},{"errorCode":"OrderError.NoRealNameRegistration","errorMessage":"Real name registration is required for instances launched in mainland China."},{"errorCode":"OrderError.UserProfileIncomplete","errorMessage":"You have not completed your user profile."},{"errorCode":"InvalidVpc","errorMessage":"The specified VPC is invalid."},{"errorCode":"InvalidVolume","errorMessage":"The specified volume is invalid."},{"errorCode":"InvalidSoftware","errorMessage":"The specified software is not supported."},{"errorCode":"InvalidVolumeProtocal","errorMessage":"The specified volume protocol is invalid."},{"errorCode":"InvalidVolumeMountpoint","errorMessage":"The specified volume mount point is invalid."}],"403":[{"errorCode":"TooManyClusters","errorMessage":"The number of user clusters exceeds the quota."},{"errorCode":"TooManyComputes","errorMessage":"The number of computing nodes exceeds the quota."},{"errorCode":"TooManyLogins","errorMessage":"The maximum number of logged on nodes is exceeded."},{"errorCode":"TooManyScc","errorMessage":"The maximum number of SCC instances is exceeded."},{"errorCode":"QuotaExceeded.PrivateIpAddress","errorMessage":"Insufficient private IP addresses in vSwitch: %s."},{"errorCode":"ConflictOpt","errorMessage":"A conflicting operation is running."},{"errorCode":"ImageNotSupported","errorMessage":"The specified image is not supported."}],"404":[{"errorCode":"ImageNotFound","errorMessage":"The specified image does not exist."},{"errorCode":"VolumeNotFound","errorMessage":"The specified volume does not exist."},{"errorCode":"VpcNotFound","errorMessage":"The specified VPC does not exist."},{"errorCode":"ClusterNotFound","errorMessage":"The specified cluster does not exist."}],"406":[{"errorCode":"EcsError","errorMessage":"An error occurred while calling the ECS API operation."},{"errorCode":"NasError","errorMessage":"NAS API request failed."},{"errorCode":"EipError","errorMessage":"The EIP API request failed."},{"errorCode":"OrderError","errorMessage":"An order request error occurred."},{"errorCode":"FailToGenId","errorMessage":"Generating cluster ID failed."},{"errorCode":"DbError","errorMessage":"A database service error occurred."},{"errorCode":"AliyunError","errorMessage":"An Alibaba Cloud product error occurred."}],"407":[{"errorCode":"NotAuthorized","errorMessage":"You are not authorized by RAM for this request."}],"500":[{"errorCode":"UnknownError","errorMessage":"An unknown error occurred."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TaskId\\\": \\\"18FB21E3-F423-4B84-BB63-D8887A29****\\\",\\n  \\\"RequestId\\\": \\\"18FB21E3-F423-4B84-BB63-D8887A29****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<RecoverClusterResponse>\\n    <TaskId>18FB21E3-F423-4B84-BB63-D8887A29****</TaskId>\\n    <RequestId>18FB21E3-F423-4B84-BB63-D8887A29****</RequestId>\\n</RecoverClusterResponse>    \",\"errorExample\":\"\"}]","title":"重置并修复集群","summary":"调用RecoverCluster重置并修复异常集群。","description":"仅当集群状态为exception（异常）时，才能调用该接口重置并修复集群。您可以通过调用[ListClusters](~~87116~~)获取集群ID及集群状态。\n建议您操作前导出所有作业数据。重置并修复集群会有以下影响：\n- 集群所有节点执行更换系统盘的操作，按创建集群时的配置重新配置系统盘。\n- 集群所有节点的系统盘和数据盘的数据将会丢失，包括用户信息、作业信息、调度器队列信息、自动伸缩队列配置信息，但文件存储NAS上的数据仍然保留。\n- 集群自建队列被清除，节点实例继续保留，并全部迁移到集群默认队列中。"}