{"summary":"调用AddNodes添加一个或多个计算节点到指定集群。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClusterId","in":"query","schema":{"description":"待添加节点的集群ID。\n\n您可以通过调用[ListClusters](~~87116~~)获取集群ID。","type":"string","required":true,"docRequired":true,"example":"ehpc-hz-FYUr32****"}},{"name":"ImageOwnerAlias","in":"query","schema":{"description":"镜像类型。取值范围：\n- system：公共镜像\n- self：自定义镜像\n- others：共享镜像\n- marketplace：镜像市场镜像\n\n默认值：system","type":"string","required":false,"example":"system","default":"system"}},{"name":"ImageId","in":"query","schema":{"description":"为待加入集群的计算节点指定的镜像，该镜像需满足以下条件：\n\n- 指定的镜像的操作系统应与集群中节点的操作系统保持一致。如：集群中节点的操作系统为CentOS时，只能指定CentOS镜像。\n> 如果集群为混合云集群，并且开启支持多系统功能，当集群中节点的操作系统为Windows时，指定的镜像可以为Windows、CentOS。\n\n- 指定的镜像应与集群节点的镜像大版本号保持一致，如待加入集群为CentOS 7.x，指定的镜像也应该为CentOS 7.x。\n\n您可以通过调用[ListImages](~~87213~~)和[ListCustomImages](~~87215~~)接口获取镜像ID。","type":"string","required":false,"example":"centos_7_06_64_20G_alibase_20190711.vhd"}},{"name":"Count","in":"query","schema":{"description":"添加的计算节点数量。取值范围：1~99，并且MinCount<Count。\n\n- ECS库存数量<MinCount，添加节点失败。\n\n- MinCount<ECS库存数量<Count，按照MinCount指定的数量添加节点。\n\n- Count<ECS库存数量，按照Count指定的数量添加节点。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"10"}},{"name":"InstanceType","in":"query","schema":{"description":"扩容的实例规格，默认使用上次扩容或者创建集群时的计算节点实例规格。","type":"string","required":false,"example":"ecs.n1.tiny"}},{"name":"ComputeSpotStrategy","in":"query","schema":{"description":"计算节点抢占策略。当参数EcsChargeType取值为PostPaid时才生效。取值范围：\n- NoSpot：正常按量付费实例。\n- SpotWithPriceLimit：设置上限价格的抢占式实例。\n- SpotAsPriceGo：系统自动出价，跟随当前市场实际价格的抢占式实例。\n\n默认值：NoSpot","type":"string","required":false,"example":"NoSpot"}},{"name":"ComputeSpotPriceLimit","in":"query","schema":{"description":"计算节点每小时最高价格，支持最多3位小数。参数SpotStrategy取值为SpotWithPriceLimit时生效。","type":"string","required":false,"example":"0.68"}},{"name":"EcsChargeType","in":"query","schema":{"description":"集群使用节点的付费类型。取值范围：\n- PostPaid：按量付费\n- PrePaid：包年包月\n\n默认值：PostPaid\n\n若选择包年包月类型，默认开启自动续费，集群释放后节点将关闭自动续费。","type":"string","required":false,"example":"PostPaid","default":"PostPaid"}},{"name":"Period","in":"query","schema":{"description":"购买资源的时长，单位由PeriodUnit指定。当参数InstanceChargeType取值为PrePaid时才生效且为必选值。取值范围：\n- PeriodUnit=Week时，Period取值：{“1”, “2”, “3”, “4”}。\n- PeriodUnit=Month时，Period取值：{“1”, “2”, “3”, “4”, “5”, “6”, “7”, “8”, “9”, “12”, “24”, “36”, ”48”, ”60”}。\n\n默认值：1","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PeriodUnit","in":"query","schema":{"description":"购买资源的时长。取值范围：\n- Week\n- Month\n\n默认值：Month","type":"string","required":false,"example":"Month"}},{"name":"AutoRenew","in":"query","schema":{"description":"是否自动续费，当参数EcsChargeType取值为PrePaid时才生效。取值范围：\n- true：自动续费\n- false：不自动续费\n\n默认值：true","type":"string","required":false,"example":"true","default":"false"}},{"name":"AutoRenewPeriod","in":"query","schema":{"description":"每次自动续费的时长。参数AutoRenew取值true时生效。\n- PeriodUnit为Week时，AutoRenewPeriod取值{\"1\", \"2\", \"3\"}。\n- PeriodUnit为Month时，AutoRenewPeriod取值{\"1\", \"2\", \"3\", \"6\", \"12\"}。\n\n默认值：1","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"JobQueue","in":"query","schema":{"description":"计算节点加入的队列名称。","type":"string","required":false,"example":"workq"}},{"name":"CreateMode","in":"query","schema":{"description":"节点创建方式。取值范围：\n- manual：手动扩容\n- autoscale：自动扩容\n\n默认值：manual","type":"string","required":false,"example":"manual"}},{"name":"SystemDiskType","in":"query","schema":{"description":"系统盘的云盘类型。取值范围：\n- cloud_efficiency：高效云盘\n- cloud_ssd：SSD云盘\n- cloud_essd：ESSD云盘\n- cloud：普通云盘，已停售。\n\n默认值：cloud_efficiency","type":"string","required":false,"example":"cloud_ssd"}},{"name":"SystemDiskSize","in":"query","schema":{"description":"系统盘的大小。单位：GiB\n\n取值范围：40~500\n\n默认值：40","type":"integer","format":"int32","required":false,"example":"40"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。","type":"string","required":false,"example":"cn-hangzhou-b"}},{"name":"VSwitchId","in":"query","schema":{"description":"交换机ID。","type":"string","required":false,"example":"vsw-bp1lfcjbfb099rrjn****"}},{"name":"HostNamePrefix","in":"query","schema":{"description":"主机名前缀。方便您分类管理节点。","type":"string","required":false,"example":"compute"}},{"name":"HostNameSuffix","in":"query","schema":{"description":"主机名后缀。方便您分类管理节点。","type":"string","required":false,"example":"01"}},{"name":"ComputeEnableHt","in":"query","schema":{"description":"计算节点是否支持超线程。取值范围：\n- true：支持超线程\n- false：不支持超线程\n\n默认值：true","type":"boolean","required":false,"example":"true"}},{"name":"AllocatePublicAddress","in":"query","schema":{"description":"是否分配公网地址。取值范围：\n- true：分配公网地址\n- false：不分配公网地址\n\n默认值：false","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"InternetChargeType","in":"query","schema":{"description":"弹性公网IP付费类型。取值范围：\n- PayByBandwidth：按固定带宽收费\n- PayByTraffic：按使用流量计费","type":"string","required":false,"example":"PayByTraffic","default":"PayByTraffic"}},{"name":"InternetMaxBandWidthIn","in":"query","schema":{"description":"公网入带宽最大值，单位为Mbit/s。取值范围：\n\n- 当所购公网出带宽小于等于10Mbit/s时：1~10，默认为10。\n- 当所购公网出带宽大于10Mbit/s时：1~InternetMaxBandWidthOut的取值，默认为InternetMaxBandWidthOut的取值。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"0","example":"10","default":"0"}},{"name":"InternetMaxBandWidthOut","in":"query","schema":{"description":"公网出带宽最大值，单位为Mbit/s。取值范围：0~100\n\n默认值：0","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"0","example":"10","default":"0"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}},{"name":"SystemDiskLevel","in":"query","schema":{"description":"创建ESSD云盘作为系统盘使用时，设置云盘的性能等级。取值范围：\n- PL0：单盘最高随机读写IOPS 1万\n- PL1：单盘最高随机读写IOPS 5万\n- PL2：单盘最高随机读写IOPS 10万\n- PL3：单盘最高随机读写IOPS 100万\n\n默认值：PL1\n\n更多ESSD性能参数，请参见[ESSD云盘](~~122389~~)。","type":"string","required":false,"example":"PL0"}},{"name":"MinCount","in":"query","schema":{"description":"指定最小添加的节点数量。取值范围：1~99，并且MinCount<Count。\n\n- ECS库存数量<MinCount，添加节点失败。\n\n- MinCount<ECS库存数量<Count，按照MinCount指定的数量添加节点。\n\n- Count<ECS库存数量，按照Count指定的数量添加节点。\n\n默认值：1\n","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"Sync","in":"query","schema":{"description":"是否设置该接口为同步接口。取值范围：\n\n- true：是\n\n- false：否\n\n默认值：false","type":"boolean","required":false,"example":"false"}},{"name":"DataDisks","in":"query","style":"repeatList","schema":{"description":"随节点创建的数据盘信息列表。","type":"array","items":{"type":"object","properties":{"DataDiskSize":{"description":"第N个随节点创建的数据盘容量大小。单位：GB\n\n取值范围：40~500\n\n默认值：40\n\nN的取值范围：0~16","type":"integer","format":"int32","required":false,"example":"40"},"DataDiskCategory":{"description":"第N个随节点创建的数据盘类型。可能值：\n\n- cloud_efficiency：高效云盘\n\n- cloud_ssd：SSD云盘\n\n- cloud_essd：ESSD云盘\n\n- cloud：普通云盘\n\n默认值：cloud_efficiency\n\nN的取值范围：0~16","type":"string","required":false,"example":"cloud_efficiency"},"DataDiskDeleteWithInstance":{"description":"第N个随节点创建的数据盘是否随实例释放。取值范围：\n\n- true：是\n\n- false：否\n\n默认值：true\n\nN的取值范围：0~16","type":"boolean","required":false,"example":"true"},"DataDiskPerformanceLevel":{"description":"第N个随节点创建的数据盘类型为ESSD云盘时，区分性能等级。仅当DataDisks.N.DataDiskCategory=cloud_essd时该参数有效。取值范围：\n- PL0：单盘最高随机读写IOPS 1万\n- PL1：单盘最高随机读写IOPS 5万\n- PL2：单盘最高随机读写IOPS 10万\n- PL3：单盘最高随机读写IOPS 100万\n\n默认值：PL1\n\nN的取值范围：0~16","type":"string","required":false,"example":"PL1"},"DataDiskEncrypted":{"description":"第N个随节点创建的数据盘是否加密。取值范围：\n\n- true：是\n\n- false：否\n\n默认值：false\n\nN的取值范围：0~16","type":"boolean","required":false,"example":"false"},"DataDiskKMSKeyId":{"description":"第N个随节点创建的数据盘使用的KMS密钥ID。\n\nN的取值范围：0~16\n\n","type":"string","required":false,"example":"0e478b7a-4262-4802-b8cb-00d3fb40826X"}},"required":false},"required":false,"maxItems":16}},{"name":"ComputeSpotDuration","in":"query","schema":{"title":"抢占式实例的保留时长，单位为小时。取值范围：0~6。\n- 保留时长2~6正在邀测中，如需开通请提交工单。\n- 取值为0，则为无保护期模式。\n默认值：1。","description":"抢占式实例的保护期，单位为小时。取值范围为0~1，设置为0表示无保护期，默认为1。","type":"integer","format":"int32","required":false,"maximum":"6","minimum":"0","example":"1","default":"1"}},{"name":"ComputeSpotInterruptionBehavior","in":"query","schema":{"title":"抢占实例中断模式。目前仅支持Terminate（默认）直接释放实例。","description":"抢占实例中断模式。目前仅支持Terminate（默认）直接释放实例。","type":"string","required":false,"example":"Terminate","default":"Terminate"}},{"name":"NetworkInterfaceTrafficMode","in":"query","schema":{"description":"网卡的通讯模式。参数取值范围：\n\n- Standard：使用TCP通讯模式。\n\n\n- HighPerformance：开启ERI（Elastic RDMA Interface）接口，使用RDMA通讯模式。","type":"string","required":false,"example":"Standard"}},{"name":"DnsConfig","in":"query","schema":{"description":"DNS配置信息。","type":"string","required":false,"example":"\"{\\\"DnsType\\\":\\\"PrivateZone\\\",\\\"DnsName\\\":\\\"xxxxx\\\"}\""}}],"responses":{"200":{"schema":{"type":"object","properties":{"TaskId":{"description":"任务ID。","type":"string","example":"B745C159-3155-4B94-95D0-4B73D4D2****"},"RequestId":{"description":"请求ID。","type":"string","example":"B745C159-3155-4B94-95D0-4B73D4D2****"},"InstanceIds":{"type":"object","properties":{"InstanceId":{"description":"实例ID","type":"array","items":{"description":"实例ID。\n\n > 由于AddNodes是异步操作，请求成功就会立即返回结果，不会等待实例创建成功，因此InstanceIds内容为空。您可以通过[ListNodes](~~87161~~)获取InstanceId。","type":"string","example":"null"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"NotEnabled","errorMessage":"You have not enabled this service"},{"errorCode":"InDebt","errorMessage":"Your account has overdue payments."},{"errorCode":"InvaildSystemDiskSize","errorMessage":"The system disk size must be greater than or equal to image size."}],"403":[{"errorCode":"TooManyComputes","errorMessage":"The number of computing nodes exceeds the quota."},{"errorCode":"TooManyLogins","errorMessage":"The maximum number of logged on nodes is exceeded."},{"errorCode":"TooManyScc","errorMessage":"The maximum number of SCC instances is exceeded."},{"errorCode":"InvalidClusterStatus","errorMessage":"The operation failed due to invalid cluster status."},{"errorCode":"ConflictOpt","errorMessage":"A conflicting operation is running."},{"errorCode":"ImageNotSupported","errorMessage":"The specified image is not supported."},{"errorCode":"InvalidOpt","errorMessage":"The specified operation is invalid. Please try again later."}],"404":[{"errorCode":"ImageNotFound","errorMessage":"The specified image does not exist."},{"errorCode":"ClusterNotFound","errorMessage":"The specified cluster does not exist."},{"errorCode":"VolumeNotFound","errorMessage":"The specified volume does not exist."},{"errorCode":"ManagerNotFound","errorMessage":"The manager nodes do not exist or their status is abnormal."},{"errorCode":"ObjectNotFound","errorMessage":"The specified object is not found."},{"errorCode":"KeyPairNotFound","errorMessage":"The specified KeyPair does not exist."}],"406":[{"errorCode":"EcsError","errorMessage":"An error occurred while calling the ECS API operation."},{"errorCode":"EipError","errorMessage":"The EIP API request failed."},{"errorCode":"DbError","errorMessage":"A database service error occurred."},{"errorCode":"AliyunError","errorMessage":"An Alibaba Cloud product error occurred."}],"407":[{"errorCode":"NotAuthorized","errorMessage":"You are not authorized by RAM for this request."}],"409":[{"errorCode":"PartFailure","errorMessage":"Part of the batch operation failed."}],"500":[{"errorCode":"UnknownError","errorMessage":"An unknown error occurred."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TaskId\\\": \\\"B745C159-3155-4B94-95D0-4B73D4D2****\\\",\\n  \\\"RequestId\\\": \\\"B745C159-3155-4B94-95D0-4B73D4D2****\\\",\\n  \\\"InstanceIds\\\": {\\n    \\\"InstanceId\\\": [\\n      \\\"null\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AddNodesResponse>\\n<TaskId>B745C159-3155-4B94-95D0-4B73D4D2****</TaskId>\\n<RequestId>B745C159-3155-4B94-95D0-4B73D4D2****</RequestId>\\n<InstanceIds>\\n    <InstanceId>null</InstanceId>\\n</InstanceIds>\\n</AddNodesResponse>\",\"errorExample\":\"\"}]","title":"批量增加计算节点","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}