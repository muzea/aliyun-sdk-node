{"summary":"调用CreateHybridCluster创建一个混合云集群。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。","type":"string","required":false,"example":"cn-hangzhou-b"}},{"name":"Name","in":"query","schema":{"description":"集群名称。长度2~64字符，只允许包含中文、字母、数字、短划线（-）和下划线（_），必须以字母或中文开头。","type":"string","required":true,"docRequired":true,"example":"hybridcluster"}},{"name":"Description","in":"query","schema":{"description":"集群描述信息。长度为2~256个英文或中文字符，不能以http://和https://开头。\n\n默认值：空","type":"string","required":false,"example":"TestDescription"}},{"name":"EhpcVersion","in":"query","schema":{"description":"E-HPC产品版本号。默认使用最新版本。","type":"string","required":false,"example":"1.0.0"}},{"name":"ClientVersion","in":"query","schema":{"description":"集群客户端版本。默认使用最新版本。","type":"string","required":false,"example":"1.0.64"}},{"name":"OsTag","in":"query","schema":{"description":"操作系统镜像标签，您可以调用[ListImages](~~87213~~)接口查询。","type":"string","required":true,"docRequired":true,"example":"CentOS_7.2_64"}},{"name":"Domain","in":"query","schema":{"description":"域账号服务类型。取值范围：\n- nis\n- ldap\n\n默认值：nis","type":"string","required":false,"example":"nis"}},{"name":"Location","in":"query","schema":{"description":"集群所在的位置。位置固定为混合云集群，取值：OnPremise。","type":"string","required":false,"example":"OnPremise"}},{"name":"SecurityGroupId","in":"query","schema":{"description":"使用已有安全组ID创建集群。\n> 当指定该参数时，不能同时指定`SecurityGroupName`参数。","type":"string","required":false,"example":"sg-bp13n61xsydodfyg****"}},{"name":"SecurityGroupName","in":"query","schema":{"description":"如果不使用已有安全组，则使用此名称创建新安全组，应用默认策略。\n> 当指定该参数时，不能同时指定`SecurityGroupId`参数。","type":"string","required":false,"example":"ehpc-SecurityGroup"}},{"name":"VpcId","in":"query","schema":{"description":"集群所属的VPC ID。","type":"string","required":true,"docRequired":true,"example":"vpc-b3f3edefefeep0760yju****"}},{"name":"VSwitchId","in":"query","schema":{"description":"交换机ID。","type":"string","required":true,"docRequired":true,"example":"vsw-bp1lfcjbfb099rrjn****"}},{"name":"EcsOrder.Manager.InstanceType","in":"query","schema":{"description":"混合云集群云上管理节点规格。目前仅支持代理模式。","type":"string","required":false,"example":"ecs.n1.tiny"}},{"name":"EcsOrder.Compute.InstanceType","in":"query","schema":{"description":"集群计算节点实例规格。","type":"string","required":true,"docRequired":true,"example":"ecs.n1.tiny"}},{"name":"VolumeType","in":"query","schema":{"description":"文件系统类型。目前仅支持NAS。","type":"string","required":false,"example":"NAS","default":"nas"}},{"name":"VolumeId","in":"query","schema":{"description":"存储实例ID。目前不支持自动创建阿里云NAS实例。","type":"string","required":false,"example":"008b64****"}},{"name":"VolumeProtocol","in":"query","schema":{"description":"共享存储的协议类型。目前仅支持NFS。","type":"string","required":false,"example":"NFS","default":"nfs"}},{"name":"VolumeMountpoint","in":"query","schema":{"description":"NAS的VPC挂载点。目前不支持自动创建阿里云NAS挂载点。","type":"string","required":false,"example":"008b648bcb-s****.cn-hangzhou.nas.aliyuncs.com"}},{"name":"RemoteDirectory","in":"query","schema":{"description":"挂载文件系统的远程目录。","type":"string","required":false,"example":"/RemoteDirectory"}},{"name":"OnPremiseVolumeProtocol","in":"query","schema":{"description":"本地共享存储协议。目前仅支持NFS。","type":"string","required":false,"example":"NFS"}},{"name":"OnPremiseVolumeMountPoint","in":"query","schema":{"description":"本地文件系统挂载点。","type":"string","required":false,"example":"RemoteNasDomain.com"}},{"name":"OnPremiseVolumeRemotePath","in":"query","schema":{"description":"本地文件系统挂载路径。","type":"string","required":false,"example":" /RemoteDirectory"}},{"name":"OnPremiseVolumeLocalPath","in":"query","schema":{"description":"本地文件系统挂载到云上节点的路径。","type":"string","required":false,"example":"/OnCloudDirectory"}},{"name":"Password","in":"query","schema":{"description":"登录节点的root密码。长度为8至30个字符，必须同时包含大小写英文字母、数字和特殊符号中的三类字符。特殊符号可以是：\n`() ~ ! @ # $ % ^ & * - = + | { } [ ] : ; ‘ < > , . ? / `\n\n> 建议使用HTTPS协议调用API避免密码泄露。","type":"string","required":false,"example":"123****"}},{"name":"KeyPairName","in":"query","schema":{"description":"密钥对名称。长度为2~128个英文或中文字符。必须以大小字母或中文开头，不能以http://和https://开头。可以包含数字、半角冒号（:）、下划线（_）或者短划线（-）。\n>如果您要使用ECS密钥对功能，具体操作，请参见[创建密钥对](~~51793~~)。","type":"string","required":false,"example":"test"}},{"name":"JobQueue","in":"query","schema":{"description":"扩容节点默认加入的队列。","type":"string","required":false,"example":"workq"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmxazb4ph****"}},{"name":"HybridClusterOpMode","in":"query","schema":{"description":"代理节点管理线下节点模式。取值范围：\n\n- SSH：表示SSH登录方式管理。\n- CA：表示云助手方式下发管理。","type":"string","required":false,"example":"SSH"}},{"name":"SchedulerPreInstall","in":"query","schema":{"description":"业务镜像是否已预安装调度器。取值范围：\n- true：已预安装，创建或扩容节点时无需执行安装调度器流程。\n- false：未预安装，创建或扩容节点时需要执行安装调度器流程。","type":"boolean","required":false,"example":"true"}},{"name":"ComputeSpotStrategy","in":"query","schema":{"description":"计算节点抢占策略。取值范围：\n- NoSpot：正常按量付费实例。\n- SpotWithPriceLimit：设置上限价格的抢占式实例。\n- SpotAsPriceGo：系统自动出价，跟随当前市场实际价格。\n\n默认值：NoSpot","type":"string","required":false,"example":"NoSpot"}},{"name":"ComputeSpotPriceLimit","in":"query","schema":{"description":"计算节点下ECS实例的每小时最高价格。支持最多3位小数，参数ComputeSpotStrategy取值为SpotWithPriceLimit时生效。","type":"number","format":"float","required":false,"example":"0.034"}},{"name":"ImageOwnerAlias","in":"query","schema":{"description":"镜像类型。取值范围：\n- system：公共镜像\n- self：自定义镜像\n- others：共享镜像\n- marketplace：镜像市场镜像","type":"string","required":false,"example":"system"}},{"name":"ImageId","in":"query","schema":{"description":"镜像ID。","type":"string","required":false,"example":"wi_1607_x64_dtc_zh_40G_alibase****"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。ClientToken只支持ASCII字符，且不能超过64个字符。更多信息，请参见[如何保证幂等性](~~25693~~)。","type":"string","required":false,"example":"123e4567-e89b-12d3-a456-426655440000"}},{"name":"MultiOs","in":"query","schema":{"description":"集群是否支持多操作系统。取值范围：\n- true：支持多操作系统。\n- false：不支持多操作系统。\n\n默认值：false","type":"boolean","required":false,"example":"false"}},{"name":"Nodes","in":"query","style":"repeatList","schema":{"description":"本地集群节点信息。","type":"array","items":{"description":"节点信息数组。","type":"object","properties":{"SchedulerType":{"description":"本地集群节点的调度器类型。取值范围：\n- pbs\n- slurm\n- opengridscheduler\n- deadline\n\n默认值：pbs","type":"string","required":false,"example":"pbs"},"IpAddress":{"description":"本地集群节点的IP地址。","type":"string","required":false,"example":"00b648b****"},"HostName":{"description":"本地集群节点的主机名称。","type":"string","required":false,"example":"test1"},"Role":{"description":"本地集群节点的角色。取值范围：\n- Manager：管控节点\n- Login：登录节点\n- Compute：计算节点","type":"string","required":false,"example":"Compute"},"AccountType":{"description":"本地集群节点的域账号服务类型。取值范围：\n- nis\n- ldap\n\n默认值：nis","type":"string","required":false,"example":"nis"},"Dir":{"description":"本地集群节点的配置目录。","type":"string","required":false,"example":"/opt/sge/default/"}},"required":false},"required":false,"maxItems":100}},{"name":"Application","in":"query","style":"repeatList","schema":{"description":"应用软件信息列表。","type":"array","items":{"description":"应用软件标签信息。最多可绑定5个标签。","type":"object","properties":{"Tag":{"description":"应用软件的标签。","type":"string","required":false,"example":"OpenMPI_11.1"}},"required":false},"required":false,"maxItems":100}},{"name":"PostInstallScript","in":"query","style":"repeatList","schema":{"description":"安装后脚本信息列表。","type":"array","items":{"description":"安装后脚本信息。最多可配置16个安装后脚本。","type":"object","properties":{"Args":{"description":"安装后脚本的执行参数。","type":"string","required":false,"example":"bash file.sh"},"Url":{"description":"安装后脚本的全路径。","type":"string","required":false,"example":"/opt/job.sh"}},"required":false},"required":false,"maxItems":16}},{"name":"Plugin","in":"query","schema":{"description":"插件模式配置，仅当SchedulerType为custom生效。\n\n格式为JSON字符串，包含pluginMod、pluginLocalPath、pluginOssPath三个参数，具体参数说明如下：\n\n- pluginMod：插件模式，支持以下两种模式：\n\n    - oss模式：将从OSS上下载插件解压到本地pluginLocalPath中。\n\n    -  image模式：默认插件已经放置到pluginLocalPath。\n\n- pluginLocalPath：插件存放的本地路径，建议在oss模式下选择共享存储目录，image模式下选择非共享存储目录。\n\n- pluginOssPath：插件放置在OSS上的远程路径，仅当pluginMod等于oss生效。","type":"string","required":false,"example":"{\"pluginMod\": \"oss\",\"pluginLocalPath\": \"/opt/plugin\",\"pluginOssPath\": \"https://bucket.oss-cn-hangzhou.aliyuncs.com/plugin/plugin.tgz\"}"}},{"name":"OpenldapPar","in":"query","style":"flat","schema":{"description":"对接OpenLDAP服务器参数。","type":"object","properties":{"LdapServerIp":{"description":"LDAP服务器IP。","type":"string","required":false,"example":"192.168.1.2"},"BaseDn":{"description":"LDAP服务器BaseDN。","type":"string","required":false,"example":"ehpctest"},"FallbackHomeDir":{"description":"Linux服务器home目录。","type":"string","required":false,"example":"/home"}},"required":false}},{"name":"WinAdPar","in":"query","style":"flat","schema":{"description":"对接Windows AD服务器参数。","type":"object","properties":{"AdUser":{"description":"AD用户。","type":"string","required":false,"example":"Administrator"},"AdUserPasswd":{"description":"AD用户密码。","type":"string","required":false,"example":"xxxxxx"},"AdDc":{"description":"AD域名称。","type":"string","required":false,"example":"ad-hybrid001.ehpcad.com"},"AdIp":{"description":"AD域IP。","type":"string","required":false,"example":"192.168.1.2"}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"F6757FA4-8FED-4602-B7F5-3550C0842122"},"TaskId":{"description":"任务ID。","type":"string","example":"F6757FA4-8FED-4602-B7F5-3550C0842122"},"ClusterId":{"description":"集群ID。","type":"string","example":"ehpc-hz-FYUr32****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"NotEnabled","errorMessage":"You have not enabled this service"},{"errorCode":"InDebt","errorMessage":"Your account has overdue payments."},{"errorCode":"OrderError.InsufficientBalance","errorMessage":"The account balance is insufficient. Please add funds first and try again."},{"errorCode":"OrderError.InstHasUnpaidOrder","errorMessage":"Your account has an unpaid order."},{"errorCode":"OrderError.Arrearage","errorMessage":"Your account balance is less than CNY 100. Please add funds to your account and try again."},{"errorCode":"OrderError.NoCard","errorMessage":"No credit card is bound to your account."},{"errorCode":"OrderError.InvalidPayMethod","errorMessage":"No valid default payment method is specified for your account."},{"errorCode":"OrderError.NoRealNameAuthentication","errorMessage":"You have not completed the real name authentication."},{"errorCode":"OrderError.NoRealNameRegistration","errorMessage":"Real name registration is required for instances launched in mainland China."},{"errorCode":"OrderError.UserProfileIncomplete","errorMessage":"You have not completed your user profile."},{"errorCode":"InvalidVpc","errorMessage":"The specified VPC is invalid."},{"errorCode":"InvalidVolume","errorMessage":"The specified volume is invalid."},{"errorCode":"InvalidSoftware","errorMessage":"The specified software is not supported."},{"errorCode":"InvalidVolumeProtocal","errorMessage":"The specified volume protocol is invalid."},{"errorCode":"InvalidVolumeMountpoint","errorMessage":"The specified volume mount point is invalid."}],"403":[{"errorCode":"TooManyClusters","errorMessage":"The number of user clusters exceeds the quota."},{"errorCode":"TooManyComputes","errorMessage":"The number of computing nodes exceeds the quota."},{"errorCode":"TooManyLogins","errorMessage":"The maximum number of logged on nodes is exceeded."},{"errorCode":"TooManyScc","errorMessage":"The maximum number of SCC instances is exceeded."},{"errorCode":"QuotaExceeded.PrivateIpAddress","errorMessage":"Insufficient private IP addresses in vSwitch: %s."},{"errorCode":"ConflictOpt","errorMessage":"A conflicting operation is running."},{"errorCode":"ImageNotSupported","errorMessage":"The specified image is not supported."}],"404":[{"errorCode":"ImageNotFound","errorMessage":"The specified image does not exist."},{"errorCode":"VolumeNotFound","errorMessage":"The specified volume does not exist."},{"errorCode":"VpcNotFound","errorMessage":"The specified VPC does not exist."}],"406":[{"errorCode":"EcsError","errorMessage":"An error occurred while calling the ECS API operation."},{"errorCode":"NasError","errorMessage":"NAS API request failed."},{"errorCode":"NasServiceNotOpen","errorMessage":"The NAS service is not activated."},{"errorCode":"EipError","errorMessage":"The EIP API request failed."},{"errorCode":"OrderError","errorMessage":"An order request error occurred."},{"errorCode":"FailToGenId","errorMessage":"Generating cluster ID failed."},{"errorCode":"DbError","errorMessage":"A database service error occurred."},{"errorCode":"AliyunError","errorMessage":"An Alibaba Cloud product error occurred."}],"407":[{"errorCode":"NotAuthorized","errorMessage":"No authorization is granted."}],"500":[{"errorCode":"UnknownError","errorMessage":"An unknown error occurred."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"F6757FA4-8FED-4602-B7F5-3550C0842122\\\",\\n  \\\"TaskId\\\": \\\"F6757FA4-8FED-4602-B7F5-3550C0842122\\\",\\n  \\\"ClusterId\\\": \\\"ehpc-hz-FYUr32****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateHybridClusterResponse>\\r\\n      <RequestId>F6757FA4-8FED-4602-B7F5-3550C0842122</RequestId>\\r\\n      <TaskId>F6757FA4-8FED-4602-B7F5-3550C0842122</TaskId>\\r\\n      <ClusterId>ehpc-hz-FYUr32****</ClusterId>\\r\\n</CreateHybridClusterResponse>\",\"errorExample\":\"\"}]","title":"创建一个E-HPC混合云集群","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}