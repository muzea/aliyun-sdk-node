{"methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ClusterId","in":"query","schema":{"description":"集群ID。\n\n您可以通过调用[ListClusters](~~87116~~)获取集群ID。","type":"string","required":true,"docRequired":true,"example":"ehpc-hz-FYUr32****"}},{"name":"CommandLine","in":"query","schema":{"description":"执行作业命令。","type":"string","required":true,"docRequired":true,"example":"./LammpsTest/lammps.pbs"}},{"name":"RunasUser","in":"query","schema":{"description":"执行作业的用户名。\n\n您可以通过调用[ListUsers](~~188572~~)获取该集群中的用户名。","type":"string","required":true,"docRequired":true,"example":"testuser"}},{"name":"RunasUserPassword","in":"query","schema":{"description":"用户密码。","type":"string","required":false,"docRequired":false,"example":"12****"}},{"name":"Name","in":"query","schema":{"description":"作业名称。长度为6~30个字符，必须以英文字母开头，可以包含数字、半角句号（.）。","type":"string","required":false,"example":"jobtest"}},{"name":"Priority","in":"query","schema":{"description":"作业优先级，取值范围：0~9，取值越大，优先级越高。\n\n默认值：0","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"PackagePath","in":"query","schema":{"description":"执行作业路径。","type":"string","required":false,"example":"./Tem"}},{"name":"StdoutRedirectPath","in":"query","schema":{"description":"标准输出路径。","type":"string","required":false,"example":"./LammpsTest"}},{"name":"StderrRedirectPath","in":"query","schema":{"description":"错误输出路径。","type":"string","required":false,"example":"./LammpsTest"}},{"name":"ReRunable","in":"query","schema":{"description":"是否支持重新执行作业。取值范围：\n- true：支持\n- false：不支持","type":"boolean","required":false,"example":"false"}},{"name":"ArrayRequest","in":"query","schema":{"description":"队列作业。 \n\n格式X-Y:Z， 最小值X是第一个索引，最大值Y是最后一个索引，Z表示步长，例如2-7:2，表示作业队列包含编号为2、4、6的3个子作业。","type":"string","required":false,"example":"1-10:2"}},{"name":"Variables","in":"query","schema":{"description":"执行作业的环境变量，可以在作业执行文件中访问环境变量。","type":"string","required":false,"example":"[{Name:test1,Value:value1},{Name:test2,Value:value2}]"}},{"name":"InputFileUrl","in":"query","schema":{"description":"上传到OSS的作业文件的URL地址。","type":"string","required":false,"example":"https://ehpc-hangzhou.oss-cn-hangzhou.aliyuncs.com/test-u4****/testlist_ehpc.sh"}},{"name":"UnzipCmd","in":"query","schema":{"description":"解压命令。解压OSS下载的文件。取值范围：\n\n- tar xzf：解开gzip格式压缩包\n\n- tar xf：解开tar格式压缩包\n\n- unzip：解开zip格式压缩包","type":"string","required":false,"example":"tar xzf"}},{"name":"PostCmdLine","in":"query","schema":{"description":"提交作业后执行的命令。","type":"string","required":false,"example":"example.sh"}},{"name":"ContainerId","in":"query","schema":{"description":"容器应用ID。如果选择使用容器执行作业，必须提供容器应用ID。\n\n您可以通过调用[ListContainerApps](~~87333~~)获取容器应用ID。","type":"string","required":false,"example":"ehpc-container-uerfrfffff****"}},{"name":"JobQueue","in":"query","schema":{"description":"执行作业的队列名称。\n\n您可以通过调用[ListQueues](~~92176~~)获取队列名称。","type":"string","required":false,"example":"workq"}},{"name":"Node","in":"query","schema":{"description":"执行作业所需的计算节点数。\n\n> 若该参数为空，则参数Cpu、Task、Thread、Mem、Gpu不生效。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Cpu","in":"query","schema":{"description":"单个计算节点所需的CPU核数。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Task","in":"query","schema":{"description":"单个计算节点创建的进程数。\n\n适用于MPI作业。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"Thread","in":"query","schema":{"description":"单个计算节点创建的线程数。\n\n适用于OpenMP作业。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"Mem","in":"query","schema":{"description":"单个计算节点最大使用内存数，支持GB、MB、KB，单位不区分大小写。","type":"string","required":false,"example":"1GB"}},{"name":"Gpu","in":"query","schema":{"description":"单个计算节点使用GPU的数量。\n\n仅支持使用PBS调度器的集群，且集群内计算节点含GPU时该参数生效。 ","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"ClockTime","in":"query","schema":{"description":"作业最大运行时间，支持三种格式：\n\n- hh:mm:ss\n- mm:ss\n- ss\n\n推荐使用第一种格式。若最大运行时间为12小时，示例：12:00:00。","type":"string","required":false,"example":"12:00:00"}},{"name":"JobRetry.Count","in":"query","schema":{"description":"任务重试次数，取值范围1~10。当前任务重试功能仅适用于PBS集群。\n\n> 若该参数为空，则参数JobRetry.Priority、JobRetry.OnExitCode不生效。","type":"integer","format":"int32","required":false,"example":"5"}},{"name":"JobRetry.Priority","in":"query","schema":{"description":"重试作业优先级，取值范围：0~9，取值越大，优先级越高。\n\n> 若该参数为空，则重试作业优先级=min{原作业优先级+1, 9}","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"JobRetry.OnExitCode","in":"query","schema":{"description":"作业重试条件。退出码为参数值时，触发作业重试。\n\n> 若该参数为空，退出码非0时触发作业重试。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"Async","in":"query","schema":{"description":"采用异步消息链路提交作业。\n\n默认值：false。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"headers":{},"schema":{"type":"object","properties":{"JobId":{"description":"作业ID。","type":"string","example":"1.manager"},"RequestId":{"description":"请求ID。","type":"string","example":"04F0F334-1335-436C-A1D7-6C044FE7****"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"NotEnabled","errorMessage":"You have not enabled this service"},{"errorCode":"InDebt","errorMessage":"Your account has overdue payments."}],"403":[{"errorCode":"InvalidClusterStatus","errorMessage":"The operation failed due to invalid cluster status."},{"errorCode":"ConflictOpt","errorMessage":"A conflicting operation is running."},{"errorCode":"UsernameExist","errorMessage":"The username already exists."},{"errorCode":"IncorrectCredential","errorMessage":"The username or password is incorrect."},{"errorCode":"AgentError.Account.ValidateCredentialFailure","errorMessage":"Username or password verification failed."}],"404":[{"errorCode":"ClusterNotFound","errorMessage":"The specified cluster does not exist."},{"errorCode":"ContainerNotFound","errorMessage":"The specified container does not exist."},{"errorCode":"ManagerNotFound","errorMessage":"The manager nodes do not exist or their status is abnormal."}],"406":[{"errorCode":"AgentError.Job.SubmitFailure","errorMessage":"Failed to submit jobs: %s"},{"errorCode":"AgentError.Job.InvalidContainerType","errorMessage":"Unsupported container type: %s."},{"errorCode":"AliyunError","errorMessage":"An Alibaba Cloud product error occurred."},{"errorCode":"AgentError.Account.AccountValidateCredentialFailure","errorMessage":"Cannot get user info"},{"errorCode":"AgentResponseTimeout","errorMessage":"Agent response timeout: %s"},{"errorCode":"AgentError","errorMessage":"The agent service request failed: %s"}],"407":[{"errorCode":"NotAuthorized","errorMessage":"You are not authorized by RAM for this request."}],"409":[{"errorCode":"PartFailure","errorMessage":"Part of the batch operation failed."}],"500":[{"errorCode":"UnknownError","errorMessage":"An unknown error occurred."}],"503":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"JobId\\\": \\\"1.manager\\\",\\n  \\\"RequestId\\\": \\\"04F0F334-1335-436C-A1D7-6C044FE7****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SubmitJobResponse>\\r\\n    <RequestId>04F0F334-1335-436C-A1D7-6C044FE7****</RequestId>\\r\\n    <JobId>1.manager</JobId>\\r\\n</SubmitJobResponse>\",\"errorExample\":\"\"}]","title":"提交作业","summary":"调用SubmitJob在指定集群提交作业。","description":"## 接口说明\n在集群提交作业前，请确认上传作业文件（如job.sh）到集群。具体操作，请参见[CreateJobFile](~~159049~~)。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}