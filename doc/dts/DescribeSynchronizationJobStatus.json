{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"数据同步实例所在地域的ID，详情请参见[支持的地域列表](~~141033~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SynchronizationJobId","in":"query","schema":{"description":"数据同步实例ID，可以通过调用[DescribeSynchronizationJobs](~~49454~~)接口查询。","type":"string","required":true,"docRequired":true,"example":"dtsexjk1alb116****"}},{"name":"SynchronizationDirection","in":"query","schema":{"description":"同步方向，取值：\n- **Forward**：正向。\n- **Reverse**：反向。\n\n> 默认取值为**Forward**。\n只有当数据同步实例的同步拓扑为双向同步时，本参数传入**Reverse**才会生效。","type":"string","required":false,"example":"Forward"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"AccountId","in":"query","schema":{"description":"阿里云主账号ID，无需设置，该参数即将下线。\n","type":"string","required":false,"example":"12323344****"}},{"name":"ResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SynchronizationJobName":{"description":"同步实例名称。\n","type":"string","example":"MySQL同步"},"Status":{"description":"同步实例的状态，返回值：\n\n- **notStarted**：未启动。\n- **prechecking**：预检查中。\n- **precheckFailed**：预检查失败。\n- **initializating**：同步初始化中。\n- **initializeFailed**：同步初始化失败。\n- **synchronizing**：同步中。\n- **failed**：同步失败。\n- **suspending**：暂停。\n- **modifying**：同步对象变更中。\n- **finished**：完成。","type":"string","example":"synchronizing"},"DataInitialization":{"description":"是否执行全量数据初始化，取值：\n\n- **true**：是。\n- **false**：否。","type":"string","example":"true"},"Delay":{"description":"同步延迟，单位为秒。\n","type":"string","example":"0"},"ErrorMessage":{"description":"数据同步失败的错误提示。\n","type":"string","example":"DTS-070211: Connect Source DB failed. cause by [com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException:Could not create connection to database server. Attempted reconnect 3 times. Giving up.][com.mysql.jdbc.exceptions.jdbc4.CommunicationsException:Communications link failure\\n\\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.][java.net.ConnectException:Connection timed out (Connection timed out)] About more information in [https://yq.aliyun.com/articles/499178]."},"ExpireTime":{"description":"同步实例的到期时间，<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n> 当**PayType**参数的返回值为**PrePaid**时才会返回本参数。","type":"string","example":"2021-03-07T16:00:00Z"},"ErrCode":{"description":"调用出错时返回的错误码。\n","type":"string","example":"InternalError"},"Success":{"description":"请求是否成功。\n","type":"string","example":"true"},"StructureInitialization":{"description":"是否执行结构初始化，返回值：\n\n- **true**：是\n- **false**：否","type":"string","example":"true"},"PayType":{"description":"同步实例的付费类型，返回值：\n\n- **PrePaid**：包年包月（预付费）。\n- **PostPaid**：按量付费（后付费）。","type":"string","example":"PrePaid"},"ErrMessage":{"description":"调用错误时返回的错误信息。\n","type":"string","example":"The request processing has failed due to some unknown error."},"SynchronizationJobClass":{"description":"同步链路规格。\n","type":"string","example":"large"},"RequestId":{"description":"请求ID。\n","type":"string","example":"DACDF659-AFC6-4DC8-ADB8-4569419A4****"},"SynchronizationJobId":{"description":"数据同步实例ID。","type":"string","example":"dtsexjk1alb116****"},"DelayMillis":{"description":"同步延迟，单位为毫秒。","type":"integer","format":"int64","example":"506"},"SynchronizationDirection":{"description":"同步方向，返回值：\n- **Forward**：正向。\n- **Reverse**：反向。","type":"string","example":"Forward"},"TaskId":{"description":"数据同步任务ID，可用于配置控制台任务详情页面的链接。\n> 同步任务详情页的链接为：https://dts.console.aliyun.com/#/syncmore/exjk1alb116****/config/ 。","type":"string","example":"exjk1alb116****"},"Checkpoint":{"description":"同步最新一条数据的时间戳，格式为Unix时间戳。\n\n> Unix时间戳转换工具可用搜索引擎获取。","type":"string","example":"1610616144"},"DataInitializationStatus":{"description":"全量数据初始化状态。","type":"object","properties":{"Status":{"description":"全量数据初始化状态，取值包括：\n- **NotStarted**：未启动。\n- **Migrating**：初始化中。\n- **Failed**：初始化失败。\n- **Finished**：初始化完成。","type":"string","example":"Finished"},"Percent":{"description":"全量数据初始化进度，单位为百分比。","type":"string","example":"100"},"ErrorMessage":{"description":"全量数据初始化失败的错误提示。","type":"string","example":"java.lang.NumberFormatException: For input string: \"\""},"Progress":{"description":"已完成全量数据初始化的记录数。","type":"string","example":"200001"}}},"DataSynchronizationStatus":{"description":"增量数据同步状态。","type":"object","properties":{"Status":{"description":"增量数据同步状态，取值包括：\n\n- **NotStarted**：未启动。\n- **Migrating**：同步中。\n- **Failed**：同步失败。\n- **Finished**：同步完成。","type":"string","example":"Finished"},"Delay":{"description":"增量数据同步延迟，单位为秒。","type":"string","example":"0"},"Percent":{"description":"增量数据同步进度，单位为百分比。","type":"string","example":"100"},"ErrorMessage":{"description":"增量数据同步失败的错误提示。","type":"string","example":"任务失败太久无法恢复"},"DelayMillis":{"description":"增量数据同步延迟，单位为毫秒。","type":"integer","format":"int64","example":"856"},"Checkpoint":{"description":"同步最新一条数据的时间戳，格式为Unix时间戳。","type":"string","example":"1610709865"}}},"DestinationEndpoint":{"description":"目标实例的连接信息。","type":"object","properties":{"InstanceId":{"description":"目标实例ID。","type":"string","example":"rm-bp162d4tp0500****"},"IP":{"description":"目标实例的连接地址。","type":"string","example":"172.16.88.***"},"InstanceType":{"description":"目标实例类型。","type":"string","example":"RDS"},"Port":{"description":"目标实例的数据库服务端口。","type":"string","example":"3306"},"UserName":{"description":"目标实例的数据库账号。","type":"string","example":"dtstest"},"EngineName":{"description":"目标实例的数据库类型。","type":"string","example":"MySQL"}}},"Performance":{"description":"同步链路概况信息。","type":"object","properties":{"RPS":{"description":"每秒同步SQL语句的次数，包括BEGIN、COMMIT 、DML语句（INSERT、DELETE、UPDATE）及DDL语句。","type":"string","example":"100"},"FLOW":{"description":"每秒同步数据的流量，单位为MB/s。\n","type":"string","example":"1"}}},"PrecheckStatus":{"description":"预检查状态。","type":"object","properties":{"Status":{"description":"预检查结果，返回值：\n- **Success**：通过该项检查。\n- **Failed**：未通过该项检查。","type":"string","example":"Success"},"Percent":{"description":"预检查整体进度，单位为百分比。","type":"string","example":"100"},"Detail":{"description":"各预检查项的执行情况。","type":"array","items":{"type":"object","properties":{"CheckStatus":{"description":"检查结果，返回值：\n- **Success**：通过该项检查。\n- **Failed**：未通过该项检查。","type":"string","example":"Success"},"ErrorMessage":{"description":"预检查未通过的错误提示。\n> 当**CheckStatus**参数返回值为**Failed**时，才会返回本参数。","type":"string","example":"Original error: Access denied for user 'dtstest'@'100.104.***.**' (using password: YES)"},"ItemName":{"description":"预检查项目。","type":"string","example":"CHECK_CONN_SRC"},"RepairMethod":{"description":"预检查未通过时对应的修复方法。\n> 当**CheckStatus**参数返回值为**Failed**时，才会返回本参数。","type":"string","example":"CHECK_ERROR_DEST_CONN_REPAIR2"}}}}}},"SourceEndpoint":{"description":"源实例连接信息。","type":"object","properties":{"InstanceId":{"description":"源实例ID。","type":"string","example":"rm-bp1i99e8l7913****"},"IP":{"description":"源实例的连接地址。","type":"string","example":"172.16.88.***"},"InstanceType":{"description":"源实例类型。","type":"string","example":"RDS"},"Port":{"description":"源实例的数据库服务端口。","type":"string","example":"3306"},"UserName":{"description":"源实例的数据库账号。","type":"string","example":"dtstest"},"EngineName":{"description":"源实例的数据库类型。","type":"string","example":"MySQL"}}},"StructureInitializationStatus":{"description":"结构初始化状态。","type":"object","properties":{"Status":{"description":"结构初始化状态，取值包括：\n- **NotStarted**：未启动。\n- **Migrating**：初始化中。\n- **Failed**：初始化失败。\n- **Finished**：初始化完成。","type":"string","example":"Finished"},"Percent":{"description":"结构初始化进度，单位为百分比。","type":"string","example":"100"},"ErrorMessage":{"description":"结构初始化出现异常的错误提示。","type":"string","example":"DTS-1020042 Execute sql error sql: ERROR: type \"geometry\" does not exist;"},"Progress":{"description":"已完成结构初始化的表的数量。","type":"string","example":"1"}}},"SynchronizationObjects":{"description":"同步对象。","type":"array","items":{"type":"object","properties":{"NewSchemaName":{"description":"待同步的库在目标数据库中映射的名称。","type":"string","example":"newdtstestdatabase"},"SchemaName":{"description":"待同步的库名。","type":"string","example":"dtstestdatabase"},"TableExcludes":{"description":"待同步库中排除的表，这些表将不会被同步。","type":"array","items":{"type":"object","properties":{"TableName":{"description":"排除的表的名称。","type":"string","example":"order"}}}},"TableIncludes":{"description":"待同步的表。","type":"array","items":{"type":"object","properties":{"TableName":{"description":"待同步表名。","type":"string","example":"customer"}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SynchronizationJobName\\\": \\\"MySQL同步\\\",\\n  \\\"Status\\\": \\\"synchronizing\\\",\\n  \\\"DataInitialization\\\": \\\"true\\\",\\n  \\\"Delay\\\": \\\"0\\\",\\n  \\\"ErrorMessage\\\": \\\"DTS-070211: Connect Source DB failed. cause by [com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException:Could not create connection to database server. Attempted reconnect 3 times. Giving up.][com.mysql.jdbc.exceptions.jdbc4.CommunicationsException:Communications link failure\\\\\\\\n\\\\\\\\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.][java.net.ConnectException:Connection timed out (Connection timed out)] About more information in [https://yq.aliyun.com/articles/499178].\\\",\\n  \\\"ExpireTime\\\": \\\"2021-03-07T16:00:00Z\\\",\\n  \\\"ErrCode\\\": \\\"InternalError\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"StructureInitialization\\\": \\\"true\\\",\\n  \\\"PayType\\\": \\\"PrePaid\\\",\\n  \\\"ErrMessage\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n  \\\"SynchronizationJobClass\\\": \\\"large\\\",\\n  \\\"RequestId\\\": \\\"DACDF659-AFC6-4DC8-ADB8-4569419A4****\\\",\\n  \\\"SynchronizationJobId\\\": \\\"dtsexjk1alb116****\\\",\\n  \\\"DelayMillis\\\": 506,\\n  \\\"SynchronizationDirection\\\": \\\"Forward\\\",\\n  \\\"TaskId\\\": \\\"exjk1alb116****\\\",\\n  \\\"Checkpoint\\\": \\\"1610616144\\\",\\n  \\\"DataInitializationStatus\\\": {\\n    \\\"Status\\\": \\\"Finished\\\",\\n    \\\"Percent\\\": \\\"100\\\",\\n    \\\"ErrorMessage\\\": \\\"java.lang.NumberFormatException: For input string: \\\\\\\"\\\\\\\"\\\",\\n    \\\"Progress\\\": \\\"200001\\\"\\n  },\\n  \\\"DataSynchronizationStatus\\\": {\\n    \\\"Status\\\": \\\"Finished\\\",\\n    \\\"Delay\\\": \\\"0\\\",\\n    \\\"Percent\\\": \\\"100\\\",\\n    \\\"ErrorMessage\\\": \\\"任务失败太久无法恢复\\\",\\n    \\\"DelayMillis\\\": 856,\\n    \\\"Checkpoint\\\": \\\"1610709865\\\"\\n  },\\n  \\\"DestinationEndpoint\\\": {\\n    \\\"InstanceId\\\": \\\"rm-bp162d4tp0500****\\\",\\n    \\\"IP\\\": \\\"172.16.88.***\\\",\\n    \\\"InstanceType\\\": \\\"RDS\\\",\\n    \\\"Port\\\": \\\"3306\\\",\\n    \\\"UserName\\\": \\\"dtstest\\\",\\n    \\\"EngineName\\\": \\\"MySQL\\\"\\n  },\\n  \\\"Performance\\\": {\\n    \\\"RPS\\\": \\\"100\\\",\\n    \\\"FLOW\\\": \\\"1\\\"\\n  },\\n  \\\"PrecheckStatus\\\": {\\n    \\\"Status\\\": \\\"Success\\\",\\n    \\\"Percent\\\": \\\"100\\\",\\n    \\\"Detail\\\": [\\n      {\\n        \\\"CheckStatus\\\": \\\"Success\\\",\\n        \\\"ErrorMessage\\\": \\\"Original error: Access denied for user 'dtstest'@'100.104.***.**' (using password: YES)\\\",\\n        \\\"ItemName\\\": \\\"CHECK_CONN_SRC\\\",\\n        \\\"RepairMethod\\\": \\\"CHECK_ERROR_DEST_CONN_REPAIR2\\\"\\n      }\\n    ]\\n  },\\n  \\\"SourceEndpoint\\\": {\\n    \\\"InstanceId\\\": \\\"rm-bp1i99e8l7913****\\\",\\n    \\\"IP\\\": \\\"172.16.88.***\\\",\\n    \\\"InstanceType\\\": \\\"RDS\\\",\\n    \\\"Port\\\": \\\"3306\\\",\\n    \\\"UserName\\\": \\\"dtstest\\\",\\n    \\\"EngineName\\\": \\\"MySQL\\\"\\n  },\\n  \\\"StructureInitializationStatus\\\": {\\n    \\\"Status\\\": \\\"Finished\\\",\\n    \\\"Percent\\\": \\\"100\\\",\\n    \\\"ErrorMessage\\\": \\\"DTS-1020042 Execute sql error sql: ERROR: type \\\\\\\"geometry\\\\\\\" does not exist;\\\",\\n    \\\"Progress\\\": \\\"1\\\"\\n  },\\n  \\\"SynchronizationObjects\\\": [\\n    {\\n      \\\"NewSchemaName\\\": \\\"newdtstestdatabase\\\",\\n      \\\"SchemaName\\\": \\\"dtstestdatabase\\\",\\n      \\\"TableExcludes\\\": [\\n        {\\n          \\\"TableName\\\": \\\"order\\\"\\n        }\\n      ],\\n      \\\"TableIncludes\\\": [\\n        {\\n          \\\"TableName\\\": \\\"customer\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSynchronizationJobStatusResponse>\\r\\n    <TaskId>exjk1alb116****</TaskId>\\r\\n    <SynchronizationObjects>\\r\\n        <SchemaName>newdtstestdatabase</SchemaName>\\r\\n        <NewSchemaName>dtstestdatabase</NewSchemaName>\\r\\n    </SynchronizationObjects>\\r\\n    <DataInitializationStatus>\\r\\n        <Status>Finished</Status>\\r\\n        <Progress>200001</Progress>\\r\\n        <Percent>100</Percent>\\r\\n    </DataInitializationStatus>\\r\\n    <Delay>0</Delay>\\r\\n    <Success>true</Success>\\r\\n    <DelayMillis>0</DelayMillis>\\r\\n    <DataInitialization>true</DataInitialization>\\r\\n    <SynchronizationJobClass>large</SynchronizationJobClass>\\r\\n    <Status>synchronizing</Status>\\r\\n    <RequestId>DACDF659-AFC6-4DC8-ADB8-4569419A****</RequestId>\\r\\n    <SynchronizationJobName>MySQL同步</SynchronizationJobName>\\r\\n    <PayType>PostPaid</PayType>\\r\\n    <ErrMessage/>\\r\\n    <PrecheckStatus>\\r\\n        <Status>Finished</Status>\\r\\n        <Percent>100</Percent>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_CONN_SRC</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_AUTH_SRC</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_CONN_DEST</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_AUTH_DEST</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_BINLOG_ON</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_BINLOG_MODE</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_BINLOG_ROW_IMAGE</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_SERVER_ID</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_BINLOG_EXIST</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_ENGINE</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_MYSQL_PASSOWRD_FORMAT</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_SRC</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_SAME_OBJ</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_SQL_MODE</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_SAME_USER</ItemName>\\r\\n        </Detail>\\r\\n        <Detail>\\r\\n            <CheckStatus>Success</CheckStatus>\\r\\n            <ItemName>CHECK_TOPOLOGY</ItemName>\\r\\n        </Detail>\\r\\n    </PrecheckStatus>\\r\\n    <Checkpoint>1610616144</Checkpoint>\\r\\n    <SynchronizationJobId>dtsexjk1alb116****</SynchronizationJobId>\\r\\n    <DestinationEndpoint>\\r\\n        <InstanceId>rm-bp1u40w1ip917****</InstanceId>\\r\\n        <InstanceType>RDS</InstanceType>\\r\\n        <EngineName>MySQL</EngineName>\\r\\n    </DestinationEndpoint>\\r\\n    <SourceEndpoint>\\r\\n        <InstanceId>rm-bp1i99e8l7913****</InstanceId>\\r\\n        <InstanceType>RDS</InstanceType>\\r\\n        <EngineName>MySQL</EngineName>\\r\\n    </SourceEndpoint>\\r\\n    <StructureInitialization>true</StructureInitialization>\\r\\n    <Performance>\\r\\n        <RPS>0</RPS>\\r\\n        <FLOW>0.00MB/s</FLOW>\\r\\n    </Performance>\\r\\n    <StructureInitializationStatus>\\r\\n        <Status>Finished</Status>\\r\\n        <Progress>1</Progress>\\r\\n        <Percent>100</Percent>\\r\\n    </StructureInitializationStatus>\\r\\n</DescribeSynchronizationJobStatusResponse>\",\"errorExample\":\"\"}]","title":"查询同步作业的运行状态","summary":"老版查询同步作业的运行状态。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}