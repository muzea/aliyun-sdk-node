{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID，传入本参数来指定实例所在地域，详情请参见[支持的地域列表](~~141033~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SynchronizationJobId","in":"query","schema":{"description":"数据同步实例ID，可以通过调用DescribeSynchronizationJobs接口查询。\n","type":"string","required":true,"docRequired":true,"example":"dtsexjk1alb116****"}},{"name":"SynchronizationDirection","in":"query","schema":{"description":"同步方向，取值：\n- **Forward**：正向。\n- **Reverse**：反向。\n\n> 默认取值为**Forward**。\n只有当数据同步实例的同步拓扑为双向同步时，本参数传入**Reverse**才会生效。","type":"string","required":false,"example":"Forward"}},{"name":"Endpoint.Type","in":"query","schema":{"description":"待调整连接信息的实例，取值：\n\n- **Source**：源实例。\n- **Destination**：目标实例。","type":"string","required":true,"docRequired":true,"example":"Destination"}},{"name":"Endpoint.InstanceType","in":"query","schema":{"description":"新数据库所属的实例类型，取值：\n\n- **LocalInstance**：有公网IP的自建数据库；\n- **ECS**：ECS上的自建数据库。\n- **Express**：通过专线接入的自建数据库。","type":"string","required":true,"docRequired":true,"example":"ECS"}},{"name":"Endpoint.InstanceId","in":"query","schema":{"description":"ECS或专有网络的实例ID。\n> - 当**Endpoint.InstanceType**取值为**ECS**时，本参数需传入ECS实例的ID。\n- 当**Endpoint.InstanceType**取值为**Express**时，本参数需传入专有网络ID。","type":"string","required":true,"docRequired":true,"example":"i-bp11haem1kpkhoup****"}},{"name":"Endpoint.IP","in":"query","schema":{"description":"新数据库的IP地址。\n> 当**Endpoint.InstanceType**取值为**Express**时，本参数才可用且必须传入。","type":"string","required":false,"example":"172.15.185.***"}},{"name":"Endpoint.Port","in":"query","schema":{"description":"新的数据库服务端口。","type":"string","required":true,"docRequired":true,"example":"3306"}},{"name":"SourceEndpoint.OwnerID","in":"query","schema":{"description":"当源实例与目标实例所属阿里云账号不同时，您需要传入该参数指定源实例的所属阿里云账号的ID。","type":"string","required":false,"example":"14069264****"}},{"name":"SourceEndpoint.Role","in":"query","schema":{"description":"当源实例与目标实例所属阿里云账号不同时，需传入该参数，来指定源实例的授权角色，以允许目标实例阿里云账号访问源实例的实例信息。\n> 角色所需的权限及授权方式，请参见[跨阿里云账号数据迁移或同步时如何配置RAM授权](~~48468~~)。","type":"string","required":false,"example":"ram-for-dts"}},{"name":"AccountId","in":"query","schema":{"description":"阿里云账号ID，无需设置，该参数即将下线。\n","type":"string","required":false,"example":"12323344****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。\n","type":"string","example":"3232F84C-C961-4811-B014-4EA7A27C****"},"ErrCode":{"description":"调用出错时返回的错误码。\n","type":"string","example":"InternalError"},"TaskId":{"description":"任务ID，您可以根据此返回值调用[DescribeEndpointSwitchStatus](~~135598~~)接口查询该任务的执行状态。","type":"string","example":"11****\t"},"Success":{"description":"是否成功。","type":"string","example":"true"},"ErrMessage":{"description":"调用错误时返回对应的错误信息。\n","type":"string","example":"The request processing has failed due to some unknown error."}}}}},"errorCodes":{"400":[{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"3232F84C-C961-4811-B014-4EA7A27C****\\\",\\n  \\\"ErrCode\\\": \\\"InternalError\\\",\\n  \\\"TaskId\\\": \\\"11****\\\\t\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"ErrMessage\\\": \\\"The request processing has failed due to some unknown error.\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SwitchSynchronizationEndpointResponse>\\n    <RequestId>3232F84C-C961-4811-B014-4EA7A27C****</RequestId>\\n    <Success>true</Success>\\n    <TaskId>11****</TaskId>\\n</SwitchSynchronizationEndpointResponse>\",\"errorExample\":\"\"}]","title":"切换同步连接信息","summary":"主备切换后新数据库的连接信息传给DTS，DTS将从断点处重新启动数据同步。","description":"- 如发生主备切换的源或目标实例是公网、ECS或专线接入的自建MySQL，您需调用本接口，来更新主备切换后的新数据库的连接信息。\n- 如发生主备切换的源或目标实例是阿里云数据库实例（例如RDS、MongoDB等），DTS会自动更新连接信息，您无需手动调用本接口。\n> - 如果数据同步实例的同步拓扑为双向，且源或目标实例发生主备切换，则需要调用两次本接口，更新主备切换后新数据库的连接信息。\n比如当正向的目标数据库发生主备切换时，您需要调用两次本接口。第一次调用时，**SynchronizationDirection**为**Forward**，**Endpoint.Type\n**为**Destination**，并传入新数据库的连接信息。第二次调用时，**SynchronizationDirection**为**Reverse**，**Endpoint.Type\n**为**Source**，并传入新数据库的连接信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}