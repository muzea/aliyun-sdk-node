{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"数据订阅实例所在地域的ID，详情请参见[支持的地域列表](~~49442~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值：**30**、**50**、**100**，默认值为**30**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"30","default":"30"}},{"name":"PageNum","in":"query","schema":{"description":"页码，取值为大于**0**且不超过Integer数据类型的最大值，默认值为**1**。\n","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"SubscriptionInstanceName","in":"query","schema":{"description":"订阅实例名称。\n> 传入本参数后，DTS将在调用结果中返回包含该名称的订阅实例。","type":"string","required":false,"example":"MySQL订阅"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。\n","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"AccountId","in":"query","schema":{"description":"阿里云主账号ID，无需设置，该参数即将下线。\n","type":"string","required":false,"example":"12323344****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"数据迁移实例的标签，作为过滤项，当此项不为空时，仅拥有此标签的实例会返回。","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签的键。\n> - N表示传入第几个标签的键。例如：Tag.1.Key表示传入第一个标签的键；Tag.2.Key表示传入第二个标签的键。可以同时查询1~20个标签键。\n- 不允许传入空字符串。\n","type":"string","required":true,"example":"testkey1"},"Value":{"description":"标签的值。\n>- N表示传入第几个标签的值。例如：Tag.1.Value表示传入第一个标签的值；Tag.2.Value表示传入第二个标签的值。可以同时查询1~20个标签值。\n- 允许传入空字符串。","type":"string","required":false,"example":"testvalue1"}},"required":false},"required":false,"maxItems":11}},{"name":"ResourceGroupId","in":"query","schema":{"type":"string","required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。\n","type":"string","example":"FC3BAAF2-74E3-4471-8EB5-96202D6A****"},"ErrCode":{"description":"调用出错时返回的错误码。\n","type":"string","example":"InternalError"},"PageRecordCount":{"description":"当前页可展示的最大记录数。\n","type":"integer","format":"int32","example":"30"},"Success":{"description":"请求是否成功。\n","type":"string","example":"true"},"TotalRecordCount":{"description":"阿里云主账号下所有符合条件的数据订阅实例数量。\n","type":"integer","format":"int64","example":"1"},"ErrMessage":{"description":"调用错误时返回的错误信息。\n","type":"string","example":"The request processing has failed due to some unknown error."},"PageNumber":{"description":"页码。\n","type":"integer","format":"int32","example":"1"},"SubscriptionInstances":{"type":"object","properties":{"SubscriptionInstance":{"description":"数据订阅实例列表和各订阅实例的详情。","type":"array","items":{"type":"object","properties":{"Status":{"description":"订阅实例的状态，返回值为：\n\n- **NotStarted**：未启动。\n- **Prechecking**：预检查中。\n- **PrecheckFailed**：预检查失败。\n- **Starting**：启动中。\n- **Normal**：正常。\n- **Abnormal**：异常。","type":"string","example":"Normal"},"ErrorMessage":{"description":"数据订阅异常的错误提示。\n\n","type":"string","example":"xxxxxxxx"},"PayType":{"description":"订阅实例的付费类型，返回值：\n- **PrePaid**：包年包月（预付费）。\n- **PostPaid**：按量付费（后付费）。\n","type":"string","example":"PrePaid"},"ConsumptionClient":{"description":"下游链接对应的IP和随机标识信息，其中IP为下游客户端的IP地址，随机标示为DTS生成的随机ID。","type":"string","example":"114.***.***.**:dts********"},"ConsumptionCheckpoint":{"description":"订阅实例的下游消费时间点，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2021-06-21T09:30:31Z"},"EndTimestamp":{"description":"订阅实例保存数据范围的末尾时间点，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n","type":"string","example":"2021-06-21T10:17:21Z"},"InstanceCreateTime":{"description":"订阅实例创建时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n","type":"string","example":"2021-06-21T02:48:20Z"},"BeginTimestamp":{"description":"订阅实例保存数据范围的起始时间点，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","example":"2021-06-21T08:25:43Z"},"SubscribeTopic":{"description":"订阅Topic。\n> 当该订阅实例为新版，且调用[CreateConsumerGroup](~~122863~~)接口创建了消费组时，才会返回本参数。","type":"string","example":"cn_hangzhou_rm_bp1162kryivb8****_dtstest_version2"},"SubscriptionInstanceName":{"description":"数据订阅实例名称。","type":"string","example":"mysql订阅"},"SubscriptionInstanceID":{"description":"数据订阅实例ID。","type":"string","example":"rm-bp1162kryivb8****"},"JobCreateTime":{"description":"订阅任务创建时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。\n","type":"string","example":"2021-06-21T02:48:20Z"},"SubscriptionObject":{"type":"object","properties":{"SynchronousObject":{"description":"订阅对象。","type":"array","items":{"type":"object","properties":{"DatabaseName":{"description":"订阅对象所属数据库的名称。","type":"string","example":"dtstestdata"},"WholeDatabase":{"description":"是否订阅整库，返回值：\n\n- **true**：是。\n- **false**：否。\n","type":"string","example":"false"},"TableList":{"type":"object","properties":{"Table":{"type":"array","items":{"description":"订阅对象的表名。","type":"string","example":"test1"}}}}}}}}},"Tags":{"type":"object","properties":{"Tag":{"description":"标签集合。\n","type":"array","items":{"type":"object","properties":{"Key":{"description":"标签键。\n","type":"string","example":"testkey1"},"Value":{"description":"标签键对应的标签值。\n","type":"string","example":"testvalue1"}}}}}},"SourceEndpoint":{"description":"源实例的连接信息。","type":"object","properties":{"InstanceType":{"description":"源实例类型。\n> 当该订阅实例为新版时，才会返回该参数。\n","type":"string","example":"RDS"},"InstanceID":{"description":"源实例ID。","type":"string","example":"rm-bp1162kryivb8****"}}},"SubscriptionDataType":{"description":"订阅数据的类型。","type":"object","properties":{"DML":{"description":"订阅数据是否包含DML语句，返回值：\n\n- **true**：是。\n- **false**：否。","type":"boolean","example":"true"},"DDL":{"description":"订阅数据是否包含DDL语句，返回值：\n\n- **true**：是。\n- **false**：否。","type":"boolean","example":"true"}}},"SubscriptionHost":{"description":"订阅实例的连接地址。","type":"object","properties":{"VPCHost":{"description":"订阅实例的专有网络VPC（Virtual Private Cloud）连接信息，格式为`地址：端口号`。\n","type":"string","example":"dts-cn-****-vpc.aliyuncs.com:18003"},"PublicHost":{"description":"订阅实例的公网连接信息，格式为`地址：端口号`。","type":"string","example":"dts-cn-****.aliyuncs.com:18001"},"PrivateHost":{"description":"订阅实例的私网连接信息，格式为`地址：端口号`。","type":"string","example":"dts-cn-****-internal.aliyuncs.com:18002"}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"FC3BAAF2-74E3-4471-8EB5-96202D6A****\\\",\\n  \\\"ErrCode\\\": \\\"InternalError\\\",\\n  \\\"PageRecordCount\\\": 30,\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"TotalRecordCount\\\": 1,\\n  \\\"ErrMessage\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"SubscriptionInstances\\\": {\\n    \\\"SubscriptionInstance\\\": [\\n      {\\n        \\\"Status\\\": \\\"Normal\\\",\\n        \\\"ErrorMessage\\\": \\\"xxxxxxxx\\\",\\n        \\\"PayType\\\": \\\"PrePaid\\\",\\n        \\\"ConsumptionClient\\\": \\\"114.***.***.**:dts********\\\",\\n        \\\"ConsumptionCheckpoint\\\": \\\"2021-06-21T09:30:31Z\\\",\\n        \\\"EndTimestamp\\\": \\\"2021-06-21T10:17:21Z\\\",\\n        \\\"InstanceCreateTime\\\": \\\"2021-06-21T02:48:20Z\\\",\\n        \\\"BeginTimestamp\\\": \\\"2021-06-21T08:25:43Z\\\",\\n        \\\"SubscribeTopic\\\": \\\"cn_hangzhou_rm_bp1162kryivb8****_dtstest_version2\\\",\\n        \\\"SubscriptionInstanceName\\\": \\\"mysql订阅\\\",\\n        \\\"SubscriptionInstanceID\\\": \\\"rm-bp1162kryivb8****\\\",\\n        \\\"JobCreateTime\\\": \\\"2021-06-21T02:48:20Z\\\",\\n        \\\"SubscriptionObject\\\": {\\n          \\\"SynchronousObject\\\": [\\n            {\\n              \\\"DatabaseName\\\": \\\"dtstestdata\\\",\\n              \\\"WholeDatabase\\\": \\\"false\\\",\\n              \\\"TableList\\\": {\\n                \\\"Table\\\": [\\n                  \\\"test1\\\"\\n                ]\\n              }\\n            }\\n          ]\\n        },\\n        \\\"Tags\\\": {\\n          \\\"Tag\\\": [\\n            {\\n              \\\"Key\\\": \\\"testkey1\\\",\\n              \\\"Value\\\": \\\"testvalue1\\\"\\n            }\\n          ]\\n        },\\n        \\\"SourceEndpoint\\\": {\\n          \\\"InstanceType\\\": \\\"RDS\\\",\\n          \\\"InstanceID\\\": \\\"rm-bp1162kryivb8****\\\"\\n        },\\n        \\\"SubscriptionDataType\\\": {\\n          \\\"DML\\\": true,\\n          \\\"DDL\\\": true\\n        },\\n        \\\"SubscriptionHost\\\": {\\n          \\\"VPCHost\\\": \\\"dts-cn-****-vpc.aliyuncs.com:18003\\\",\\n          \\\"PublicHost\\\": \\\"dts-cn-****.aliyuncs.com:18001\\\",\\n          \\\"PrivateHost\\\": \\\"dts-cn-****-internal.aliyuncs.com:18002\\\"\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSubscriptionInstancesResponse>\\r\\n    <TotalRecordCount>1</TotalRecordCount>\\r\\n    <PageRecordCount>30</PageRecordCount>\\r\\n    <RequestId>FC3BAAF2-74E3-4471-8EB5-96202D6A****</RequestId>\\r\\n    <PageNumber>1</PageNumber>\\r\\n    <Success>true</Success>\\r\\n    <SubscriptionInstances>\\r\\n        <SubscriptionInstance>\\r\\n            <Status>Normal</Status>\\r\\n            <SubscriptionObject>\\r\\n                <SynchronousObject>\\r\\n                    <DatabaseName>dtstestdata</DatabaseName>\\r\\n                    <WholeDatabase>false</WholeDatabase>\\r\\n                    <TableList>\\r\\n                        <Table>test1</Table>\\r\\n                    </TableList>\\r\\n                </SynchronousObject>\\r\\n            </SubscriptionObject>\\r\\n            <SubscriptionDataType>\\r\\n                <DML>true</DML>\\r\\n                <DDL>true</DDL>\\r\\n            </SubscriptionDataType>\\r\\n            <SubscriptionInstanceName>mysql订阅</SubscriptionInstanceName>\\r\\n            <SubscriptionHost>\\r\\n                <PublicHost>dts-cn-hangzhou.aliyuncs.com:18001</PublicHost>\\r\\n                <PrivateHost>dts-cn-hangzhou-internal.aliyuncs.com:18002</PrivateHost>\\r\\n                <VPCHost>dts-cn-hangzhou-vpc.aliyuncs.com:18003</VPCHost>\\r\\n            </SubscriptionHost>\\r\\n            <SubscribeTopic>cn_hangzhou_rm_bp1162kryiv******_dtstest_version2</SubscribeTopic>\\r\\n            <SourceEndpoint>\\r\\n                <InstanceID>rm-bp1162kryivb8****</InstanceID>\\r\\n                <InstanceType>RDS</InstanceType>\\r\\n            </SourceEndpoint>\\r\\n            <InstanceCreateTime>2021-06-21T10:17:21Z</InstanceCreateTime>\\r\\n            <JobCreateTime>2021-06-21T10:17:21Z</JobCreateTime>\\r\\n            <EndTimestamp>2021-06-21T10:17:21Z</EndTimestamp>\\r\\n            <PayType>PrePaid</PayType>\\r\\n            <SubscriptionInstanceID>dtsy0zz3t13h******</SubscriptionInstanceID>\\r\\n            <BeginTimestamp>2021-06-21T08:25:43Z</BeginTimestamp>\\r\\n            <Tags></Tags>\\r\\n        </SubscriptionInstance>\\r\\n    </SubscriptionInstances>\\r\\n</DescribeSubscriptionInstancesResponse>\",\"errorExample\":\"\"}]","title":"查询订阅实例列表及各实例详情","summary":"查询订阅实例列表和各订阅实例详情。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}