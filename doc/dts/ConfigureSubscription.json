{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"52207","abilityTreeNodes":["FEATUREdts4VPC0Q"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"订阅实例所在地域，请参见[支持的地域列表](~~141033~~)。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DtsJobName","in":"query","schema":{"description":"订阅任务名称。\n> 建议配置具有业务意义的名称（无唯一性要求），便于后续识别。","type":"string","required":true,"docRequired":true,"example":"MySQL订阅"}},{"name":"DtsInstanceId","in":"query","schema":{"description":"订阅实例ID，可以调用[DescribeDtsJobs](~~209702~~)查询。","type":"string","required":false,"example":"dtsy0zz3t13h7d****"}},{"name":"DtsJobId","in":"query","schema":{"description":"订阅任务ID，可以调用[DescribeDtsJobs](~~209702~~)查询。","type":"string","required":false,"example":"y0zz3t13h7d****"}},{"name":"SourceEndpointEngineName","in":"query","schema":{"description":"源数据库类型，取值为**MySQL**、**PostgreSQL**、**Oracle**。\n\n> 当源数据库为自建数据库，本参数必须传入。","type":"string","required":false,"example":"PostgreSQL"}},{"name":"SourceEndpointInstanceType","in":"query","schema":{"description":"源数据库的实例类型，取值：\n\n- **RDS**：云数据库RDS。\n- **PolarDB**：PolarDB MySQL。\n-  **DRDS**: PolarDB-X 1.0。\n- **LocalInstance**：有公网IP的自建数据库。\n- **ECS**：ECS上的自建数据库。\n- **Express**：通过专线接入的自建数据库。\n- **CEN**：通过云企业网CEN接入的自建数据库。\n- **dg**：通过数据库网关接入的自建数据库。\n","type":"string","required":false,"example":"RDS"}},{"name":"SourceEndpointRegion","in":"query","schema":{"description":"源实例所属地域，详情请参见[支持的地域列表](~~141033~~)。\n> 如果源实例为有公网IP的自建数据库，则可以传入**cn-hangzhou**或者离自建数据库物理距离最近的区域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"SourceEndpointInstanceID","in":"query","schema":{"description":"源实例ID。\n> 源数据库的实例类型为RDS MySQL、PolarDB-X 1.0、PolarDB MySQL时，本参数才可用且必须传入。","type":"string","required":false,"example":"rm-bp1zc3iyqe3qw****"}},{"name":"SourceEndpointIP","in":"query","schema":{"description":"源数据库的连接地址。\n> 当源数据库为自建数据库时，本参数才可用且必须传入。","type":"string","required":false,"example":"172.16.8*.***"}},{"name":"SourceEndpointPort","in":"query","schema":{"description":"源数据库的服务端口。\n> 当源数据库为自建数据库时，本参数才可用且必须传入。","type":"string","required":false,"example":"3306"}},{"name":"SourceEndpointOracleSID","in":"query","schema":{"description":"Oracle数据库的SID信息。\n> 当源数据库为自建Oracle时，且Oracle数据库为非RAC实例时，本参数才可用且必须传入。","type":"string","required":false,"example":"testsid"}},{"name":"SourceEndpointDatabaseName","in":"query","schema":{"description":"待订阅的数据库名称。","type":"string","required":false,"example":"dtstestdata"}},{"name":"SourceEndpointUserName","in":"query","schema":{"description":"源实例的数据库账号。\n> 订阅不同的数据库所需的权限有所差异，请参见[准备用于数据订阅的数据库账号](~~212653~~)中的账号权限。","type":"string","required":false,"example":"dtstest"}},{"name":"SourceEndpointPassword","in":"query","schema":{"description":"源实例的数据库账号密码。","type":"string","required":false,"example":"Test123456"}},{"name":"SourceEndpointOwnerID","in":"query","schema":{"description":"源实例所属的阿里云账号ID。\n> 仅在配置跨阿里云账号的数据订阅时本参数才可用，且必须传入。","type":"string","required":false,"example":"140692647406****"}},{"name":"SourceEndpointRole","in":"query","schema":{"description":"源实例的授权角色。当源实例与配置订阅任务所属阿里云账号不同时，需传入该参数，来指定源实例的授权角色，以允许配置订阅任务所属阿里云账号访问源实例的实例信息。\n> 角色所需的权限及授权方式，请参见[跨阿里云账号数据迁移或同步时如何配置RAM授权](~~48468~~)。\n","type":"string","required":false,"example":"ram-for-dts"}},{"name":"DbList","in":"query","schema":{"description":"订阅对象，格式为JSON串。详细定义，请参见[迁移、同步或订阅对象说明](~~209545~~)。","type":"string","required":true,"docRequired":true,"example":"{\"dtstest\":{\"name\":\"dtstest\",\"all\":true}}"}},{"name":"Reserve","in":"query","schema":{"description":"DTS预留参数，格式为JSON串，您可以传入本参数完善源目库信息（如目标Kafka数据库的数据存储格式、云企业网CEN的实例ID）。更多信息，请参见[Reserve参数说明](~~176470~~)参数说明。","type":"string","required":false,"example":"{      \"srcInstanceId\": \"cen-9kqshqum*******\"  }"}},{"name":"Checkpoint","in":"query","schema":{"description":"订阅启动时间，格式为Unix时间戳，单位为秒（s）。\n> Unix时间戳转换工具可用搜索引擎获取。","type":"string","required":false,"example":"1616902385"}},{"name":"SubscriptionInstanceNetworkType","in":"query","schema":{"description":"订阅任务的网络类型，目前取值仅支持**vpc**，表示专有网络。\n\n> - 如果传入了本参数，则订阅任务被定义为新版，您还需要正确设置**SubscriptionInstanceVPCId**和**SubscriptionInstanceVSwitchID**参数；如果不传入该参数，则订阅任务被定义为旧版。\n- 旧版订阅任务支持订阅自建MySQL、RDS MySQL和PolarDB-X 1.0的数据，新版订阅任务支持订阅自建MySQL、RDS MySQL、PolarDB MySQL和Oracle的数据。","type":"string","required":true,"docRequired":true,"example":"vpc"}},{"name":"SubscriptionInstanceVPCId","in":"query","schema":{"description":"订阅实例的专有网络ID。\n> 当**SubscriptionInstanceNetworkType**取值为**vpc**时，本参数才可用且必须传入。","type":"string","required":false,"example":"vpc-bp1vwnn14rqpyiczj****"}},{"name":"SubscriptionInstanceVSwitchId","in":"query","schema":{"description":"订阅实例的虚拟交换机ID。\n> 当**SubscriptionInstanceNetworkType**取值为**vpc**时，本参数才可用且必须传入。","type":"string","required":false,"example":"vsw-bp10df3mxae6lpmku****"}},{"name":"SubscriptionDataTypeDDL","in":"query","schema":{"description":"是否订阅DDL类型的数据，取值：\n\n- **true**：是，为默认值。\n- **false**：否。","type":"boolean","required":false,"example":"true"}},{"name":"SubscriptionDataTypeDML","in":"query","schema":{"description":"是否订阅DML类型的数据，取值：\n- **true**：是，为默认值。\n- **false**：否。","type":"boolean","required":false,"example":"true"}},{"name":"DelayPhone","in":"query","schema":{"description":"延迟报警的联系人手机号码，多个手机号码以英文逗号（,）分隔。\n>-  本参数目前只支持中国站，仅支持大陆手机号码，且最多传入10个手机号码。\n- 国际站不支持手机告警，仅支持[通过云监控平台为DTS任务设置报警规则](~~175876~~)。","type":"string","required":false,"example":"1361234****,1371234****"}},{"name":"DelayRuleTime","in":"query","schema":{"description":"触发延迟报警的阈值，单位为秒且需为整数，可根据业务需要设置阈值，建议设置10秒以上，避免因网络、数据库负载等原因导致的延迟波动。\n> 当**DelayNotice**取值为**true**时，本参数必须传入。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"DelayNotice","in":"query","schema":{"description":"是否监控延迟状态，取值：\n\n- **true**：是。\n- **false**：否。","type":"boolean","required":false,"example":"true"}},{"name":"ErrorPhone","in":"query","schema":{"description":"异常报警的联系人手机号码，多个手机号码以英文逗号（,）分隔。\n>-  本参数目前只支持中国站，仅支持大陆手机号码，且最多传入10个手机号码。\n- 国际站不支持手机告警，仅支持[通过云监控平台为DTS任务设置报警规则](~~175876~~)。","type":"string","required":false,"example":"1361234****,1371234****"}},{"name":"ErrorNotice","in":"query","schema":{"description":"是否监控异常状态，取值：\n\n- **true**：是。\n- **false**：否。","type":"boolean","required":false,"example":"true"}},{"name":"DedicatedClusterId","in":"query","schema":{"description":"DTS专属集群ID，用于将订阅任务调度到指定的DTS专属集群上。","type":"string","required":false,"example":"dtscluster_atyl3b5214uk***"}},{"name":"DtsBisLabel","in":"query","schema":{"description":"DTS实例的环境标签，取值为：\n\n- **normal**：**普通**\n- **online**：**线上**","type":"string","required":false,"example":"normal"}},{"name":"MinDu","in":"query","schema":{"description":"Serverless实例的DU下限，取值为：1、2、4、8、16。\n<props=\"intl\">\n> 当前暂不支持此功能，请勿传入参数。</props>\n","type":"number","format":"double","required":false,"example":"1"}},{"name":"MaxDu","in":"query","schema":{"description":"Serverless实例的DU上限，取值为：2、4、8、16。\n<props=\"intl\">\n> 当前暂不支持此功能，请勿传入参数。</props>","type":"number","format":"double","required":false,"example":"16"}},{"name":"SrcCaCertificateOssUrl","in":"query","schema":{"description":"源库通过SSL安全连接时，CA证书的路径。\n\n> 当前暂不支持此功能，请勿传入此参数。","type":"string","required":false,"example":"****"}},{"name":"SrcCaCertificatePassword","in":"query","schema":{"description":"源库通过SSL安全连接时，CA证书的密钥。\n\n> 当前暂不支持此功能，请勿传入此参数。","type":"string","required":false,"example":"****"}},{"name":"SrcClientCertOssUrl","in":"query","schema":{"description":"源库通过SSL安全连接时，客户端证书的路径。\n\n> 当前暂不支持此功能，请勿传入此参数。","type":"string","required":false,"example":"****"}},{"name":"SrcClientKeyOssUrl","in":"query","schema":{"description":"源库通过SSL安全连接时，客户端证书私钥的路径。\n\n> 当前暂不支持此功能，请勿传入此参数。","type":"string","required":false,"example":"****"}},{"name":"SrcClientPassword","in":"query","schema":{"description":"源库通过SSL安全连接时，客户端证书私钥的密码。\n\n> 当前暂不支持此功能，请勿传入此参数。","type":"string","required":false,"example":"****"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmzawhxxc****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"HttpStatusCode":{"description":"状态码。","type":"string","example":"200"},"RequestId":{"description":"请求ID。\n\n","type":"string","example":"1D6ECADF-C5E9-4C96-8811-77602B31****"},"ErrCode":{"description":"调用出错时返回的错误码。","type":"string","example":"InternalError"},"DtsJobId":{"description":"订阅任务ID。","type":"string","example":"y0zz3t13h7d****"},"Success":{"description":"请求是否成功。\n\n","type":"string","example":"true"},"DtsInstanceId":{"description":"订阅实例ID。","type":"string","example":"dtsy0zz3t13h7d****"},"ErrMessage":{"description":"调用出错时返回对应的错误信息。","type":"string","example":"The request processing has failed due to some unknown error."}}}}},"errorCodes":{"400":[{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": \\\"200\\\",\\n  \\\"RequestId\\\": \\\"1D6ECADF-C5E9-4C96-8811-77602B31****\\\",\\n  \\\"ErrCode\\\": \\\"InternalError\\\",\\n  \\\"DtsJobId\\\": \\\"y0zz3t13h7d****\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"DtsInstanceId\\\": \\\"dtsy0zz3t13h7d****\\\",\\n  \\\"ErrMessage\\\": \\\"The request processing has failed due to some unknown error.\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ConfigureSubscriptionResponse>\\n    <DtsJobId>y0zz3t13h7d****</DtsJobId>\\n    <RequestId>1D6ECADF-C5E9-4C96-8811-77602B31****</RequestId>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <DtsInstanceId>dtsy0zz3t13h7d****</DtsInstanceId>\\n    <Success>true</Success>\\n</ConfigureSubscriptionResponse>\",\"errorExample\":\"\"}]","title":"配置DTS订阅任务","summary":"配置DTS订阅任务。","description":"> 您可以在控制台的**高级配置**阶段，将鼠标光标移动至**下一步保存任务并预检查**按钮上，然后单击气泡中的**预览OpenAPI参数**，查看该实例使用API接口配置时的参数信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}