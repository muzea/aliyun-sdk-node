{"summary":"调用ModifyDtsJobEndpoint接口修改DTS同步或迁移任务的源或目标库实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update","riskType":"none","chargeType":"free","abilityTreeCode":"199390","abilityTreeNodes":["FEATUREdtsJ32CAF"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"DTS实例所属的地域。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"DtsJobId","in":"query","schema":{"description":"DTS任务ID，可调用[DescribeDtsJobs](~~209702~~)查询。\n\n> 若不填入此参数，则必须填入**DtsInstanceId**。","type":"string","required":false,"example":"m4312mab158****"}},{"name":"DtsInstanceId","in":"query","schema":{"description":"DTS实例的ID。\n> 若不填入此参数，则必须填入**DtsJobId**。","type":"string","required":false,"example":"dtsaw012y2g15q****"}},{"name":"SynchronizationDirection","in":"query","schema":{"description":"同步方向，取值：\n\n- **Forward**（默认值）：正向。\n- **Reverse**：反向。","type":"string","required":false,"example":"Forward"}},{"name":"Endpoint","in":"query","schema":{"description":"待修改的数据库实例，取值：\n\n- **src**：源库实例。\n- **dest**：目标库实例。","type":"string","required":true,"example":"src"}},{"name":"EndpointRegionId","in":"query","schema":{"description":"数据库实例所属的地域。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"EndpointInstanceType","in":"query","schema":{"description":"数据库实例类型，取值为：\n\n- **rds**：RDS MySQL或RDS SQL Server。\n- **polardb**：PolarDB MySQL。\n- **mongodb**：云数据库MongoDB（副本集）。\n- **distributed_mongodb**：云数据库MongoDB（分片集群）。\n- **greenplum**：云原生数据仓库AnalyticDB PostgreSQL版。\n- **kafka**：云消息队列Kafka版。\n- **ecs**：ECS自建的数据库（仅限支持的数据库类型）。\n- **express**：专线接入的数据库（仅限支持的数据库类型）。\n- **other**：公网接入的数据库（仅限支持的数据库类型）。\n\n> - 当前支持的数据库类型有MySQL、PolarDB MySQL版、MongoDB、SQL Server、Kafka和AnalyticDB PostgreSQL版。\n- 若数据库为MongoDB（分片集群），则新数据库的Shard数量需与原来的MongoDB（分片集群）相同。\n- 传入的参数大小写不敏感。","type":"string","required":true,"example":"rds"}},{"name":"EndpointInstanceId","in":"query","schema":{"description":"数据库实例的ID。","type":"string","required":false,"example":"rm-bp10k50h8374w****"}},{"name":"EndpointIp","in":"query","schema":{"description":"数据库实例的IP。","type":"string","required":false,"example":"172.168.XX.XXX"}},{"name":"EndpointPort","in":"query","schema":{"description":"数据库实例的端口。","type":"string","required":false,"example":"3306"}},{"name":"ModifyAccount","in":"query","schema":{"description":"是否修改账号密码。","type":"boolean","required":false,"example":"false"}},{"name":"Username","in":"query","schema":{"description":"数据库账号。","type":"string","required":false,"example":"dtstest"}},{"name":"Password","in":"query","schema":{"description":"数据库密码。","type":"string","required":false,"example":"DTStest****"}},{"name":"Database","in":"query","schema":{"description":"鉴权数据库名称。\n\n> 当数据库实例为MongoDB时，本参数才可用且必须传入。","type":"string","required":false,"example":"admin"}},{"name":"ShardUsername","in":"query","schema":{"description":"MongoDB分片集群实例的Shard的账号。\n\n> 当源数据库实例为MongoDB（分片集群架构）时，本参数才可用且必须传入。","type":"string","required":false,"example":"shard"}},{"name":"ShardPassword","in":"query","schema":{"description":"MongoDB分片集群实例的Shard的密码。\n\n> 当源数据库实例为MongoDB（分片集群架构）时，本参数才可用且必须传入。","type":"string","required":false,"example":"DTStest****"}},{"name":"RoleName","in":"query","schema":{"description":"跨阿里云账号角色名。\n\n> 执行跨阿里云账号的数据同步时须传入本参数，该角色所需的权限及授权方式，请参见[跨阿里云账号数据迁移或同步时如何配置RAM授权](~~48468~~)。","type":"string","required":false,"example":"ram-for-dts"}},{"name":"AliyunUid","in":"query","schema":{"description":"数据库实例所属的阿里云账号（主账号）的ID。\n\n>  传入本参数即代表执行跨阿里云账号的数据同步，同时您还需要传入**RoleName**参数。","type":"string","required":false,"example":"150780020300****"}},{"name":"DryRun","in":"query","schema":{"description":"是否只进行预检查，取值为：\n\n- **true**：是。预检查通过后，实例不进行变更操作。\n- **false**：否。预检查通过后，修改DTS任务的数据库实例并运行。","type":"boolean","required":false,"example":"true"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmzawhxxc****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"HttpStatusCode":{"description":"状态码。","type":"string","example":"200"},"RequestId":{"description":"请求ID。","type":"string","example":"3FA98DF2-2F81-51FF-8A38-AA5112DD****"},"Success":{"description":"请求是否成功。","type":"boolean","example":"true"},"ErrCode":{"description":"调用出错时返回的错误码。","type":"string","example":"DTS.Msg.InvalidEndpoint"},"ErrMessage":{"description":"调用错误时返回的错误信息。","type":"string","example":"The endpoint is invalid."}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter.TagKey","errorMessage":"The Tag.N.Key parameter is invalid."},{"errorCode":"InvalidParameter.TagValue","errorMessage":"The Tag.N.Value parameter is invalid."},{"errorCode":"InvalidParameter.Tags","errorMessage":"The specified value of parameter Tags is not valid."},{"errorCode":"Missing.TagKey","errorMessage":"You must specify the key for value %s in Tag.N.Key."},{"errorCode":"MissingParameter.TagOrResourceId","errorMessage":"Either Tags or ResourceIds must be specified."},{"errorCode":"NumberExceed.Tags","errorMessage":"The maximum number of Tags is exceeded. The maximum value is 20."},{"errorCode":"NumberExceed.ResourceIds","errorMessage":"The maximum number of ResourceIds is exceeded. The maximum value is 50."},{"errorCode":"InvalidParameter.Category","errorMessage":"The specified Category is invalid. Valid values are Custom and System."},{"errorCode":"InvalidParameter.NextToken","errorMessage":"The parameter NextToken is invalid."},{"errorCode":"InvalidParameter.ResourceType","errorMessage":"The ResourceType parameter is invalid."},{"errorCode":"InvalidParameter.Scope","errorMessage":"The specified Scope is invalid. Valid value: public, private."},{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"Duplicate.TagKey","errorMessage":"The Tag.N.Key contains duplicate keys."},{"errorCode":"NoPermission.SystemTag","errorMessage":"You are not authorized to operate system tag because the product code is invalid."},{"errorCode":"QuotaExceed.TagsPerResource","errorMessage":"The maximum number of tags for each resource is exceeded."},{"errorCode":"NoPermission.Operator","errorMessage":"The user is not authorized to operate on the specified resource."},{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"HttpStatusCode\\\": \\\"200\\\",\\n  \\\"RequestId\\\": \\\"3FA98DF2-2F81-51FF-8A38-AA5112DD****\\\",\\n  \\\"Success\\\": true,\\n  \\\"ErrCode\\\": \\\"DTS.Msg.InvalidEndpoint\\\",\\n  \\\"ErrMessage\\\": \\\"The endpoint is invalid.\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyDtsJobEndpointResponse>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <RequestId>3FA98DF2-2F81-51FF-8A38-AA5112DD****</RequestId>\\n    <Success>true</Success>\\n</ModifyDtsJobEndpointResponse>\",\"errorExample\":\"\"}]","title":"修改DTS任务的源或目标库实例","description":"> 数据库实例被替换后，DTS会回退位点拉取Binlog。若同步或迁移的数据没有主键，则可能会出现重复数据。"}