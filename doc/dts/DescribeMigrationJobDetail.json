{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"数据迁移实例所在地域的ID，详情请参见[支持的地域列表](~~141033~~)。\n","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"PageSize","in":"query","schema":{"description":"每页记录数，取值： **30**、**50**、**100**，默认值为**30**。","type":"integer","format":"int32","required":false,"maximum":"100","minimum":"1","example":"30","default":"30"}},{"name":"PageNum","in":"query","schema":{"description":"页码，取值为大于**0**且不超过Integer数据类型的最大值，默认值为**1**。\n","type":"integer","format":"int32","required":false,"minimum":"1","example":"1","default":"1"}},{"name":"MigrationJobId","in":"query","schema":{"description":"数据迁移实例ID，可以通过调用**DescribeMigrationJobs**接口查询。","type":"string","required":true,"docRequired":true,"example":"dtsta7w132u12h****"}},{"name":"MigrationMode.StructureInitialization","in":"query","schema":{"description":"是否查询结构迁移详情，取值：\n\n- **true**：是。\n- **false**：否。\n> 默认值为**false**。","type":"boolean","required":false,"example":"true"}},{"name":"MigrationMode.DataInitialization","in":"query","schema":{"description":"是否查询全量数据迁移详情，取值：\n\n- **true**：是。\n- **false**：否。\n> 默认值为**false**。","type":"boolean","required":false,"example":"true"}},{"name":"MigrationMode.DataSynchronization","in":"query","schema":{"description":"是否查询增量数据迁移详情，取值：\n\n- **true**：是。\n- **false**：否。\n> 默认值为**false**。","type":"boolean","required":false,"example":"true"}},{"name":"ClientToken","in":"query","schema":{"description":"保证请求幂等性。从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符，且不能超过64个字符。\n","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe63****"}},{"name":"AccountId","in":"query","schema":{"description":"阿里云主账号ID，无需设置，该参数即将下线。\n","type":"string","required":false,"example":"12323344****"}},{"name":"ResourceGroupId","in":"query","schema":{"type":"string"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。\n","type":"string","example":"0AE3CD0B-4148-426F-A90E-952467CC****"},"ErrCode":{"description":"调用出错时返回的错误码。\n","type":"string","example":"InternalError"},"PageRecordCount":{"description":"一页最多可展示的迁移实例数量。\n\n","type":"integer","format":"int32","example":"30"},"Success":{"description":"请求是否成功。\n","type":"string","example":"true"},"TotalRecordCount":{"description":"总记录数。\n","type":"integer","format":"int64","example":"1"},"ErrMessage":{"description":"调用错误时返回的错误信息。\n","type":"string","example":"The request processing has failed due to some unknown error."},"PageNumber":{"description":"页码。\n","type":"integer","format":"int32","example":"1"},"DataInitializationDetailList":{"type":"object","properties":{"DataInitializationDetail":{"description":"全量数据迁移执行详情。\n","type":"array","items":{"type":"object","properties":{"SourceOwnerDBName":{"description":"源实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"},"Status":{"description":"全量数据迁移状态，返回值：\n\n- **NotStarted**：未启动。\n- **Migrating**：迁移中。\n- **Failed**：迁移失败。\n- **Finished**：迁移完成。","type":"string","example":"Finished"},"TableName":{"description":"待迁移对象的表名。\n","type":"string","example":"customer"},"ErrorMessage":{"description":"全量数据迁移失败的错误提示。\n","type":"string","example":"java.lang.NumberFormatException: For input string: \"\""},"FinishRowNum":{"description":"已迁移的记录数。\n","type":"string","example":"200001"},"MigrationTime":{"description":"全量数据迁移的耗时。","type":"string","example":"0.0"},"DestinationOwnerDBName":{"description":"目标实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"},"TotalRowNum":{"description":"需迁移的总记录数。\n","type":"string","example":"201477"}}}}}},"DataSynchronizationDetailList":{"type":"object","properties":{"DataSynchronizationDetail":{"description":"增量数据迁移执行详情。\n","type":"array","items":{"type":"object","properties":{"Status":{"description":"增量数据迁移状态，返回值：\n\n- **NotStarted**：未启动。\n- **Migrating**：迁移中。\n- **Failed**：迁移失败。\n- **Finished**：迁移完成。","type":"string","example":"Migrating"},"SourceOwnerDBName":{"description":"源实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"},"TableName":{"description":"待迁移对象的表名。\n","type":"string","example":"customer"},"ErrorMessage":{"description":"增量数据迁移失败的错误提示。","type":"string","example":"任务失败太久无法恢复"},"DestinationOwnerDBName":{"description":"目标实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"}}}}}},"StructureInitializationDetailList":{"type":"object","properties":{"StructureInitializationDetail":{"description":"结构迁移执行详情。\n","type":"array","items":{"type":"object","properties":{"Status":{"description":"结构迁移状态，返回值：\n\n- **NotStarted**：未启动。\n- **Migrating**：迁移中。\n- **Failed**：迁移失败。\n- **Finished**：迁移完成。","type":"string","example":"Finished"},"SourceOwnerDBName":{"description":"源实例中待迁移对象所属数据库的名称。","type":"string","example":"dtstestdata"},"ObjectDefinition":{"description":"迁移对象的结构语法定义。\n","type":"string","example":"CREATE TABLE `dtstestdata`.`customer` (\\n`runoob_id`  int(10) unsigned   auto_increment  COMMENT ''   NOT NULL   , \\n`runoob_title`  varchar(100)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\n`runoob_author1216`  varchar(40)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\n`submission_date1216`  date     COMMENT ''   NULL   \\n, PRIMARY KEY (`runoob_id`)) engine=InnoDB AUTO_INCREMENT=200001 DEFAULT CHARSET=`utf8` DEFAULT COLLATE `utf8_general_ci` ROW_FORMAT= Dynamic comment = '' ;\\n"},"ObjectType":{"description":"迁移对象类型，返回值：**Table**（表）、**Constraint**（约束）、**Index**（索引）、**View**（视图）、**Materialize View**（物化视图）、**Type**（自定义类型）、**Synonym**（同义词）、**Trigger**（触发器）、**Function**（函数）、**Procedure**（存储过程）、**Package**（包）、**Default**（默认值）、**Rule**（规则）、**PlanGuide**（执行计划）、**Sequence**（序列）。\n","type":"string","example":"Table"},"ErrorMessage":{"description":"结构迁移失败的错误提示。\n","type":"string","example":"DTS-1020042 Execute sql error sql: DTS-1020042 Execute sql error sql: ERROR: column \\\"id\\\" named in key does not exist"},"DestinationOwnerDBName":{"description":"目标实例中待迁移对象所属数据库的名称。","type":"string","example":"dtstestdata"},"ObjectName":{"description":"迁移对象名称。\n","type":"string","example":"customer"},"ConstraintList":{"type":"object","properties":{"StructureInitializationDetail":{"description":"迁移对象对应的约束（例如索引、外键等）。\n> 只有当**ObjectType**为**Table**，且迁移对象有约束时，才会返回本参数。","type":"array","items":{"type":"object","properties":{"Status":{"description":"约束创建状态，返回值：\n- **NotStarted**：未启动。\n- **Migrating**：创建中。\n- **Failed**：创建失败。\n- **Finished**：创建完成。","type":"string","example":"Finished"},"SourceOwnerDBName":{"description":"源实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"},"ObjectDefinition":{"description":"创建约束的结构语法定义。\n\n","type":"string","example":"CREATE SEQUENCE \"public\".\"collections_id_seq\"   MINVALUE 1   MAXVALUE 9223372036854775807   START 249   INCREMENT BY 1 ; "},"ObjectType":{"description":"迁移对象的类型，固定为**Table**。","type":"string","example":"Table"},"ErrorMessage":{"description":"约束创建失败的错误提示。","type":"string","example":"DTS-1020042 Execute sql error sql: ERROR: type \"geometry\" does not exist；"},"DestinationOwnerDBName":{"description":"目标实例中迁移对象所属数据库的名称。\n","type":"string","example":"dtstestdata"},"ObjectName":{"description":"迁移对象名称。\n","type":"string","example":"customer"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"Throttling.User","errorMessage":"Request was denied due to user flow control."}],"403":[{"errorCode":"InvalidSecurityToken.Expired","errorMessage":"Specified SecurityToken is expired."}],"500":[{"errorCode":"ServiceUnavailable","errorMessage":"The request has failed due to a temporary failure of the server."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0AE3CD0B-4148-426F-A90E-952467CC****\\\",\\n  \\\"ErrCode\\\": \\\"InternalError\\\",\\n  \\\"PageRecordCount\\\": 30,\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"TotalRecordCount\\\": 1,\\n  \\\"ErrMessage\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"DataInitializationDetailList\\\": {\\n    \\\"DataInitializationDetail\\\": [\\n      {\\n        \\\"SourceOwnerDBName\\\": \\\"dtstestdata\\\",\\n        \\\"Status\\\": \\\"Finished\\\",\\n        \\\"TableName\\\": \\\"customer\\\",\\n        \\\"ErrorMessage\\\": \\\"java.lang.NumberFormatException: For input string: \\\\\\\"\\\\\\\"\\\",\\n        \\\"FinishRowNum\\\": \\\"200001\\\",\\n        \\\"MigrationTime\\\": \\\"0.0\\\",\\n        \\\"DestinationOwnerDBName\\\": \\\"dtstestdata\\\",\\n        \\\"TotalRowNum\\\": \\\"201477\\\"\\n      }\\n    ]\\n  },\\n  \\\"DataSynchronizationDetailList\\\": {\\n    \\\"DataSynchronizationDetail\\\": [\\n      {\\n        \\\"Status\\\": \\\"Migrating\\\",\\n        \\\"SourceOwnerDBName\\\": \\\"dtstestdata\\\",\\n        \\\"TableName\\\": \\\"customer\\\",\\n        \\\"ErrorMessage\\\": \\\"任务失败太久无法恢复\\\",\\n        \\\"DestinationOwnerDBName\\\": \\\"dtstestdata\\\"\\n      }\\n    ]\\n  },\\n  \\\"StructureInitializationDetailList\\\": {\\n    \\\"StructureInitializationDetail\\\": [\\n      {\\n        \\\"Status\\\": \\\"Finished\\\",\\n        \\\"SourceOwnerDBName\\\": \\\"dtstestdata\\\",\\n        \\\"ObjectDefinition\\\": \\\"CREATE TABLE `dtstestdata`.`customer` (\\\\\\\\n`runoob_id`  int(10) unsigned   auto_increment  COMMENT ''   NOT NULL   , \\\\\\\\n`runoob_title`  varchar(100)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\\\\\\\n`runoob_author1216`  varchar(40)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\\\\\\\n`submission_date1216`  date     COMMENT ''   NULL   \\\\\\\\n, PRIMARY KEY (`runoob_id`)) engine=InnoDB AUTO_INCREMENT=200001 DEFAULT CHARSET=`utf8` DEFAULT COLLATE `utf8_general_ci` ROW_FORMAT= Dynamic comment = '' ;\\\\\\\\n\\\",\\n        \\\"ObjectType\\\": \\\"Table\\\",\\n        \\\"ErrorMessage\\\": \\\"DTS-1020042 Execute sql error sql: DTS-1020042 Execute sql error sql: ERROR: column \\\\\\\\\\\\\\\"id\\\\\\\\\\\\\\\" named in key does not exist\\\",\\n        \\\"DestinationOwnerDBName\\\": \\\"dtstestdata\\\",\\n        \\\"ObjectName\\\": \\\"customer\\\",\\n        \\\"ConstraintList\\\": {\\n          \\\"StructureInitializationDetail\\\": [\\n            {\\n              \\\"Status\\\": \\\"Finished\\\",\\n              \\\"SourceOwnerDBName\\\": \\\"dtstestdata\\\",\\n              \\\"ObjectDefinition\\\": \\\"CREATE SEQUENCE \\\\\\\"public\\\\\\\".\\\\\\\"collections_id_seq\\\\\\\"   MINVALUE 1   MAXVALUE 9223372036854775807   START 249   INCREMENT BY 1 ; \\\",\\n              \\\"ObjectType\\\": \\\"Table\\\",\\n              \\\"ErrorMessage\\\": \\\"DTS-1020042 Execute sql error sql: ERROR: type \\\\\\\"geometry\\\\\\\" does not exist；\\\",\\n              \\\"DestinationOwnerDBName\\\": \\\"dtstestdata\\\",\\n              \\\"ObjectName\\\": \\\"customer\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeMigrationJobDetailResponse>\\r\\n    <DataSynchronizationDetailList>\\r\\n        <DataSynchronizationDetail>\\r\\n            <Status>Migrating</Status>\\r\\n            <TableName>customer</TableName>\\r\\n            <SourceOwnerDBName>dtstestdata</SourceOwnerDBName>\\r\\n            <DestinationOwnerDBName>dtstestdata</DestinationOwnerDBName>\\r\\n        </DataSynchronizationDetail>\\r\\n    </DataSynchronizationDetailList>\\r\\n    <RequestId>0AE3CD0B-4148-426F-A90E-952467CC****</RequestId>\\r\\n    <DataInitializationDetailList>\\r\\n        <DataInitializationDetail>\\r\\n            <Status>Finished</Status>\\r\\n            <TableName>customer</TableName>\\r\\n            <TotalRowNum>201477</TotalRowNum>\\r\\n            <MigrationTime>0.0</MigrationTime>\\r\\n            <SourceOwnerDBName>dtstestdata</SourceOwnerDBName>\\r\\n            <DestinationOwnerDBName>dtstestdata</DestinationOwnerDBName>\\r\\n            <FinishRowNum>200001</FinishRowNum>\\r\\n        </DataInitializationDetail>\\r\\n    </DataInitializationDetailList>\\r\\n    <Success>true</Success>\\r\\n    <StructureInitializationDetailList>\\r\\n        <StructureInitializationDetail>\\r\\n            <Status>Finished</Status>\\r\\n            <ObjectType>Table</ObjectType>\\r\\n            <ObjectDefinition>CREATE TABLE `dtstestdata`.`customer` (\\r\\n`runoob_id`  int(10) unsigned   auto_increment  COMMENT ''   NOT NULL   , \\r\\n`runoob_title`  varchar(100)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\r\\n`runoob_author1216`  varchar(40)  CHARSET `utf8` COLLATE `utf8_general_ci`    COMMENT ''   NOT NULL   , \\r\\n`submission_date1216`  date     COMMENT ''   NULL   \\r\\n, PRIMARY KEY (`runoob_id`)) engine=InnoDB AUTO_INCREMENT=200001 DEFAULT CHARSET=`utf8` DEFAULT COLLATE `utf8_general_ci` ROW_FORMAT= Dynamic comment = '' ;\\r\\n</ObjectDefinition>\\r\\n            <SourceOwnerDBName>dtstestdata</SourceOwnerDBName>\\r\\n            <DestinationOwnerDBName>dtstestdata</DestinationOwnerDBName>\\r\\n            <ObjectName>customer</ObjectName>\\r\\n        </StructureInitializationDetail>\\r\\n    </StructureInitializationDetailList>\\r\\n</DescribeMigrationJobDetailResponse>\",\"errorExample\":\"\"}]","title":"数据迁移任务执行详情","summary":"老版获取数据迁移任务执行详情。","description":"调用本接口时，数据迁移任务需处于迁移中、迁移失败、暂停或迁移完成状态。\n","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}