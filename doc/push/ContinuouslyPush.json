{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"chargeType":"paid"},"parameters":[{"name":"AppKey","in":"query","schema":{"description":"AppKey信息。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"23267207"}},{"name":"MessageId","in":"query","schema":{"description":"消息ID。\n\n调用Push接口，设置Target为TBD，调用后获得的MessageId。它代表了一个已经保存到推送系统的消息。","type":"string","required":true,"docRequired":true,"example":"500131"}},{"name":"Target","in":"query","schema":{"description":"推送目标：\n\n- **DEVICE**：根据设备推送\n- **ACCOUNT**：根据账号推送\n- **ALIAS**：根据别名推送\n\n持续推送只支持这3种目标类型。","type":"string","required":true,"docRequired":true,"example":"DEVICE","enum":["DEVICE","ACCOUNT","ALIAS"]}},{"name":"TargetValue","in":"query","schema":{"description":"根据Target来设定，多个值使用逗号分隔，超过限制需要分多次推送。\n\n- Target=DEVICE，值如`deviceid1,deviceid2`（最多支持1000个）。\n- Target=ACCOUNT，值如`account1,account2`（最多支持1000个）。\n- Target=ALIAS，值如`alias1,alias2`（最多支持1000个）。","type":"string","required":true,"docRequired":true,"example":"a692961a92534047ad3625****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"MessageId":{"description":"标志一次推送的消息ID。","type":"string","example":"9998B3CC-ED9E-4CB3-A8FB-DCC61296BFBC"},"RequestId":{"description":"请求ID。","type":"string","example":"500131"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"MessageId\\\": \\\"9998B3CC-ED9E-4CB3-A8FB-DCC61296BFBC\\\",\\n  \\\"RequestId\\\": \\\"500131\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\\n<ContinuouslyPushResponse>\\n  <RequestId>9998B3CC-ED9E-4CB3-A8FB-DCC61296BFBC</RequestId>  \\n  <MessageId>500131</MessageId>\\n</ContinuouslyPushResponse>\",\"errorExample\":\"\"}]","title":"持续推送","summary":"执行预定义的持续推送任务。","description":"# 接口说明\n本接口是用于解决[Push高级推送接口](~~2249916~~)中，无论是按设备推、按账号推、按别名推，在单次调用中都存在目标个数上限的问题。\n\n- 使用持续推送意味着业务场景是要往大量设备上，发送同一条消息。这时候，应当合理调用持续推送接口，每次调用，聚合一组设备进行推送（目前按设备推、按账号推、按别名推，单次推送目标个数上限是1000）。我们会限制在同一个 MessageId 上推送的总次数为10000 。如确实需要更高限额，请联系技术支持评估具体场景。\n\n- 使用这个接口前，需要调用Push接口，将Target设置为TBD（To Be Determined），填入消息内容，调用获得该消息在推送系统中的MessageId。然后，可以基于这个MessageId，重复调用此接口，指定不同的目标组，将此消息推送到这些目标上。\n\n- 调用Push接口设置目标为TBD获得MessageId后，这个消息默认会在推送系统保存24个小时，过期之前，可以随时使用本接口进行指定目标推送。过期后不再允许推送。超出总次数上限后不再允许推送。\n\n- 每次调用本接口指定设备时，消息都是立即推出，不支持设置定时推送。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":"# Java示例代码\n```\nContinuouslyPushRequest continuouslyPushRequest = new ContinuouslyPushRequest();\ncontinuouslyPushRequest.setAppKey(appKey);\n// 设置持续推送的消息Id\ncontinuouslyPushRequest.setMessageId(\"500131\");\n// 指定推送目标\n// 可以继续用同一个`MessageId`，调用此接口指定其它设备，继续推送\ncontinuouslyPushRequest.setTarget(\"DEVICE\");\ncontinuouslyPushRequest.setTargetValue(\"a692961a92534047ad362575f31f57b7\");\nContinuouslyPushResponse continuouslyPushResponse = client.getAcsResponse(continuouslyPushRequest);\nSystem.out.printf(\"RequestId: %s, MessageId: %s\\n\",\n        continuouslyPushResponse.getRequestId(), continuouslyPushResponse.getMessageId());\n```"}