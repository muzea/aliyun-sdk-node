{"summary":"跨Catalog搜索库、表、字段等内容。","path":"/api/metastore/catalogs/search/search-across-catalog","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"A short description of struct","description":"A short description of struct","type":"object","properties":{"SearchText":{"title":"搜索问题","description":"搜索问题","type":"string","required":false,"example":"tags:tag1 or comment:^iso and name=aliyun and (createTime > \"20211111\" and createTime < \"20211117\") and has category"},"SortCriteria":{"title":"排序结构","description":"排序结构","type":"array","items":{"description":"排序结构","required":false,"$ref":"#/components/schemas/SortCriterion"},"required":false},"PageSize":{"title":"当前查询的页大小","description":"当前查询的页大小","type":"integer","format":"int64","required":false,"example":"1000"},"PageNumber":{"title":"当前查询的页号","description":"当前查询的页号","type":"integer","format":"int64","required":false,"example":"1"},"CatalogIds":{"title":"CatalogId数组，为空则搜索所有Catalog","description":"CatalogId数组，为空则搜索所有Catalog","required":false,"enumValueTitles":{},"$ref":"#/components/schemas/ListString"},"SearchTypes":{"title":"SearchTypes数组，可选值为ALL/CATALOG/DATABASE/TABLE","description":"SearchTypes数组，可选值为ALL/CATALOG/DATABASE/TABLE","required":false,"$ref":"#/components/schemas/ListString"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"Code":{"title":"响应代码","description":"响应代码","type":"string","example":"OK"},"Message":{"title":"响应消息","description":"响应消息","type":"string","example":"\"\""},"RequestId":{"title":"请求ID","description":"请求ID","type":"string","example":"460C862F-BB91-5C04-BC3F-946EEF467862"},"Success":{"title":"是否成功","description":"是否成功","type":"boolean","example":"True"},"DatabaseResult":{"title":"返回的db结果","description":"返回的db结果","type":"object","properties":{"Databases":{"title":"返回的DatabaseList","description":"返回的DatabaseList","type":"array","items":{"description":"数据库信息","type":"object","properties":{"Database":{"title":"返回的Database","description":"返回的Database","$ref":"#/components/schemas/Database"},"HighLightList":{"title":"返回高亮文本","description":"返回高亮文本","type":"array","items":{"description":"返回高亮文本","$ref":"#/components/schemas/HighLight"}}}}},"TotalCount":{"title":"满足匹配条件的总的Database个数","description":"满足匹配条件的总的Database个数","type":"integer","format":"int64","example":"11000"}}},"TableResult":{"title":"返回的table result","description":"返回的table result","type":"object","properties":{"Tables":{"title":"返回的TableList","description":"返回的TableList","type":"array","items":{"description":"表结果结构","type":"object","properties":{"Table":{"title":"返回的Table","description":"返回的Table","$ref":"#/components/schemas/Table"},"HighLightList":{"title":"返回的高亮文本","description":"返回的高亮文本","type":"array","items":{"description":"返回的高亮文本","$ref":"#/components/schemas/HighLight"}}}}},"TotalCount":{"title":"满足匹配条件的总的Table个数","description":"满足匹配条件的总的Table个数","type":"integer","format":"int64","example":"1100"}}},"CatalogResult":{"title":"返回的Catalog result","description":"返回的Catalog result","type":"object","properties":{"Catalogs":{"description":"catalog详情","type":"array","items":{"description":"catalog详情","type":"object","properties":{"Catalog":{"description":"catalog详情","$ref":"#/components/schemas/Catalog"},"HighLightList":{"description":"返回高亮文本","type":"array","items":{"description":"高亮文本","$ref":"#/components/schemas/HighLight"}}}}},"TotalCount":{"title":"满足匹配条件的总的Catalog个数","description":"满足匹配条件的总的Catalog个数","type":"integer","format":"int64","example":"100"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"OK\\\",\\n  \\\"Message\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"RequestId\\\": \\\"460C862F-BB91-5C04-BC3F-946EEF467862\\\",\\n  \\\"Success\\\": true,\\n  \\\"DatabaseResult\\\": {\\n    \\\"Databases\\\": [\\n      {\\n        \\\"Database\\\": {\\n          \\\"CreateTime\\\": 0,\\n          \\\"Description\\\": \\\"\\\",\\n          \\\"LocationUri\\\": \\\"oss://examplebuket/exampledb\\\",\\n          \\\"Name\\\": \\\"\\\",\\n          \\\"OwnerName\\\": \\\"\\\",\\n          \\\"OwnerType\\\": \\\"\\\",\\n          \\\"Parameters\\\": {\\n            \\\"key\\\": \\\"\\\"\\n          },\\n          \\\"Privileges\\\": {\\n            \\\"GroupPrivileges\\\": {\\n              \\\"key\\\": [\\n                {\\n                  \\\"CreateTime\\\": 0,\\n                  \\\"GrantOption\\\": true,\\n                  \\\"Grantor\\\": \\\"\\\",\\n                  \\\"GrantorType\\\": \\\"\\\",\\n                  \\\"Privilege\\\": \\\"\\\"\\n                }\\n              ]\\n            },\\n            \\\"RolePrivileges\\\": {\\n              \\\"key\\\": [\\n                {\\n                  \\\"CreateTime\\\": 0,\\n                  \\\"GrantOption\\\": true,\\n                  \\\"Grantor\\\": \\\"\\\",\\n                  \\\"GrantorType\\\": \\\"\\\",\\n                  \\\"Privilege\\\": \\\"\\\"\\n                }\\n              ]\\n            },\\n            \\\"UserPrivileges\\\": {\\n              \\\"key\\\": [\\n                {\\n                  \\\"CreateTime\\\": 0,\\n                  \\\"GrantOption\\\": true,\\n                  \\\"Grantor\\\": \\\"\\\",\\n                  \\\"GrantorType\\\": \\\"\\\",\\n                  \\\"Privilege\\\": \\\"\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"UpdateTime\\\": 0,\\n          \\\"CreatedBy\\\": \\\"\\\"\\n        },\\n        \\\"HighLightList\\\": [\\n          {\\n            \\\"Key\\\": \\\"name\\\",\\n            \\\"Value\\\": \\\"<em>tab</em>2\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"TotalCount\\\": 11000\\n  },\\n  \\\"TableResult\\\": {\\n    \\\"Tables\\\": [\\n      {\\n        \\\"Table\\\": {\\n          \\\"Cascade\\\": true,\\n          \\\"CreateTime\\\": 0,\\n          \\\"CreatedBy\\\": \\\"\\\",\\n          \\\"DatabaseName\\\": \\\"\\\",\\n          \\\"LastAccessTime\\\": 0,\\n          \\\"LastAnalyzedTime\\\": 0,\\n          \\\"Owner\\\": \\\"\\\",\\n          \\\"OwnerType\\\": \\\"\\\",\\n          \\\"Parameters\\\": {\\n            \\\"key\\\": \\\"\\\"\\n          },\\n          \\\"PartitionKeys\\\": [\\n            {\\n              \\\"Comment\\\": \\\"\\\",\\n              \\\"Name\\\": \\\"\\\",\\n              \\\"Parameters\\\": {\\n                \\\"key\\\": \\\"\\\"\\n              },\\n              \\\"Type\\\": \\\"\\\"\\n            }\\n          ],\\n          \\\"Privileges\\\": {},\\n          \\\"Retention\\\": 0,\\n          \\\"RewriteEnabled\\\": true,\\n          \\\"Sd\\\": {\\n            \\\"BucketCols\\\": [\\n              \\\"\\\"\\n            ],\\n            \\\"Cols\\\": [\\n              {\\n                \\\"Comment\\\": \\\"\\\",\\n                \\\"Name\\\": \\\"\\\",\\n                \\\"Type\\\": \\\"\\\"\\n              }\\n            ],\\n            \\\"Compressed\\\": true,\\n            \\\"InputFormat\\\": \\\"\\\",\\n            \\\"Location\\\": \\\"\\\",\\n            \\\"NumBuckets\\\": 0,\\n            \\\"OutputFormat\\\": \\\"\\\",\\n            \\\"Parameters\\\": {\\n              \\\"key\\\": \\\"\\\"\\n            },\\n            \\\"SerDeInfo\\\": {\\n              \\\"Name\\\": \\\"\\\",\\n              \\\"SerializationLib\\\": \\\"\\\"\\n            },\\n            \\\"SkewedInfo\\\": {\\n              \\\"SkewedColNames\\\": [\\n                \\\"\\\"\\n              ],\\n              \\\"SkewedColValueLocationMaps\\\": {\\n                \\\"key\\\": \\\"\\\"\\n              },\\n              \\\"SkewedColValues\\\": [\\n                [\\n                  \\\"\\\"\\n                ]\\n              ]\\n            },\\n            \\\"SortCols\\\": [\\n              {\\n                \\\"Col\\\": \\\"\\\",\\n                \\\"Order\\\": 0\\n              }\\n            ],\\n            \\\"StoredAsSubDirectories\\\": true\\n          },\\n          \\\"TableName\\\": \\\"\\\",\\n          \\\"TableType\\\": \\\"\\\",\\n          \\\"Temporary\\\": true,\\n          \\\"UpdateTime\\\": 0,\\n          \\\"ViewExpandedText\\\": \\\"\\\",\\n          \\\"ViewOriginalText\\\": \\\"\\\",\\n          \\\"TableId\\\": \\\"59c6c8fefeaa46d8b599c1f790c59a19\\\",\\n          \\\"TableVersion\\\": {\\n            \\\"Table\\\": {\\n              \\\"Cascade\\\": true,\\n              \\\"CreateTime\\\": 0,\\n              \\\"CreatedBy\\\": \\\"\\\",\\n              \\\"DatabaseName\\\": \\\"\\\",\\n              \\\"LastAccessTime\\\": 0,\\n              \\\"LastAnalyzedTime\\\": 0,\\n              \\\"Owner\\\": \\\"\\\",\\n              \\\"OwnerType\\\": \\\"\\\",\\n              \\\"PartitionKeys\\\": [\\n                {\\n                  \\\"Comment\\\": \\\"\\\",\\n                  \\\"Name\\\": \\\"\\\",\\n                  \\\"Type\\\": \\\"\\\"\\n                }\\n              ],\\n              \\\"Privileges\\\": {},\\n              \\\"Retention\\\": 0,\\n              \\\"RewriteEnabled\\\": true,\\n              \\\"Sd\\\": {\\n                \\\"BucketCols\\\": [\\n                  \\\"\\\"\\n                ],\\n                \\\"Cols\\\": [],\\n                \\\"Compressed\\\": true,\\n                \\\"InputFormat\\\": \\\"\\\",\\n                \\\"Location\\\": \\\"\\\",\\n                \\\"NumBuckets\\\": 0,\\n                \\\"OutputFormat\\\": \\\"\\\",\\n                \\\"Parameters\\\": {\\n                  \\\"key\\\": \\\"\\\"\\n                },\\n                \\\"SerDeInfo\\\": {\\n                  \\\"Name\\\": \\\"\\\",\\n                  \\\"SerializationLib\\\": \\\"\\\"\\n                },\\n                \\\"SkewedInfo\\\": {\\n                  \\\"SkewedColNames\\\": [\\n                    \\\"\\\"\\n                  ],\\n                  \\\"SkewedColValueLocationMaps\\\": {\\n                    \\\"key\\\": \\\"\\\"\\n                  },\\n                  \\\"SkewedColValues\\\": [\\n                    [\\n                      \\\"\\\"\\n                    ]\\n                  ]\\n                },\\n                \\\"SortCols\\\": [\\n                  {\\n                    \\\"Col\\\": \\\"\\\",\\n                    \\\"Order\\\": 0\\n                  }\\n                ],\\n                \\\"StoredAsSubDirectories\\\": true\\n              },\\n              \\\"TableName\\\": \\\"\\\",\\n              \\\"TableType\\\": \\\"\\\",\\n              \\\"Temporary\\\": true,\\n              \\\"UpdateTime\\\": 0,\\n              \\\"ViewExpandedText\\\": \\\"\\\",\\n              \\\"ViewOriginalText\\\": \\\"\\\",\\n              \\\"TableId\\\": \\\"59c6c8fefeaa46d8b599c1f790c59a19\\\",\\n              \\\"TableVersion\\\": {\\n                \\\"Table\\\": {\\n                  \\\"Cascade\\\": true,\\n                  \\\"CreateTime\\\": 0,\\n                  \\\"CreatedBy\\\": \\\"\\\",\\n                  \\\"DatabaseName\\\": \\\"\\\",\\n                  \\\"LastAccessTime\\\": 0,\\n                  \\\"LastAnalyzedTime\\\": 0,\\n                  \\\"Owner\\\": \\\"\\\",\\n                  \\\"OwnerType\\\": \\\"\\\",\\n                  \\\"PartitionKeys\\\": [],\\n                  \\\"Retention\\\": 0,\\n                  \\\"RewriteEnabled\\\": true,\\n                  \\\"Sd\\\": {\\n                    \\\"BucketCols\\\": [\\n                      \\\"\\\"\\n                    ],\\n                    \\\"Cols\\\": [],\\n                    \\\"Compressed\\\": true,\\n                    \\\"InputFormat\\\": \\\"\\\",\\n                    \\\"Location\\\": \\\"\\\",\\n                    \\\"NumBuckets\\\": 0,\\n                    \\\"OutputFormat\\\": \\\"\\\",\\n                    \\\"Parameters\\\": {\\n                      \\\"key\\\": \\\"\\\"\\n                    },\\n                    \\\"SerDeInfo\\\": {\\n                      \\\"Name\\\": \\\"\\\",\\n                      \\\"SerializationLib\\\": \\\"\\\"\\n                    },\\n                    \\\"SkewedInfo\\\": {\\n                      \\\"SkewedColNames\\\": [\\n                        \\\"\\\"\\n                      ],\\n                      \\\"SkewedColValueLocationMaps\\\": {\\n                        \\\"key\\\": \\\"\\\"\\n                      },\\n                      \\\"SkewedColValues\\\": [\\n                        [\\n                          \\\"\\\"\\n                        ]\\n                      ]\\n                    },\\n                    \\\"SortCols\\\": [\\n                      {\\n                        \\\"Col\\\": \\\"\\\",\\n                        \\\"Order\\\": 0\\n                      }\\n                    ],\\n                    \\\"StoredAsSubDirectories\\\": true\\n                  },\\n                  \\\"TableName\\\": \\\"\\\",\\n                  \\\"TableType\\\": \\\"\\\",\\n                  \\\"Temporary\\\": true,\\n                  \\\"UpdateTime\\\": 0,\\n                  \\\"ViewExpandedText\\\": \\\"\\\",\\n                  \\\"ViewOriginalText\\\": \\\"\\\",\\n                  \\\"TableId\\\": \\\"59c6c8fefeaa46d8b599c1f790c59a19\\\",\\n                  \\\"TableVersion\\\": {\\n                    \\\"VersionId\\\": 0\\n                  }\\n                },\\n                \\\"VersionId\\\": 0\\n              }\\n            },\\n            \\\"VersionId\\\": 0\\n          }\\n        },\\n        \\\"HighLightList\\\": [\\n          {\\n            \\\"Key\\\": \\\"name\\\",\\n            \\\"Value\\\": \\\"<em>tab</em>2\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"TotalCount\\\": 1100\\n  },\\n  \\\"CatalogResult\\\": {\\n    \\\"Catalogs\\\": [\\n      {\\n        \\\"Catalog\\\": {\\n          \\\"CatalogId\\\": \\\"\\\",\\n          \\\"Description\\\": \\\"\\\",\\n          \\\"LocationUri\\\": \\\"\\\",\\n          \\\"Owner\\\": \\\"\\\",\\n          \\\"CreatedBy\\\": \\\"\\\",\\n          \\\"CreateTime\\\": 0,\\n          \\\"UpdateTime\\\": 0,\\n          \\\"Status\\\": \\\"\\\",\\n          \\\"CatalogType\\\": \\\"\\\",\\n          \\\"DefaultCatalog\\\": true,\\n          \\\"ThriftEnabled\\\": true,\\n          \\\"JdbcEnabled\\\": true,\\n          \\\"StorageAccessConfig\\\": \\\"\\\"\\n        },\\n        \\\"HighLightList\\\": [\\n          {\\n            \\\"Key\\\": \\\"name\\\",\\n            \\\"Value\\\": \\\"<em>tab</em>2\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"TotalCount\\\": 100\\n  }\\n}\",\"type\":\"json\"}]","title":"跨Catalog搜索元数据"}