{"summary":"调用GetRedisAllSession接口，获取Redis实例当前会话数据。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"154787","abilityTreeNodes":["FEATUREhdmMEY212"]},"parameters":[{"name":"ConsoleContext","in":"query","schema":{"description":"备用参数。","type":"string","required":false,"example":"None"}},{"name":"InstanceId","in":"query","schema":{"description":"数据库实例ID。\n\n","type":"string","required":true,"example":"r-2zemyfd1sh1u2i****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"integer","format":"int64","example":"200"},"Message":{"description":"请求返回的消息。\n\n> 请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"会话数据。","type":"object","properties":{"Timestamp":{"description":"获取数据库会话数据的时间，格式为Unix时间戳，单位为毫秒（ms）。","type":"integer","format":"int64","example":"1660100753556"},"Total":{"description":"会话总数。","type":"integer","format":"int64","example":"2"},"Sessions":{"description":"会话信息。","type":"array","items":{"type":"object","properties":{"Sub":{"description":"频道订阅数量。","type":"integer","format":"int64","example":"0"},"Psub":{"description":"模式匹配的订阅数量。","type":"integer","format":"int64","example":"0"},"Idle":{"description":"空闲时长，单位为秒（s）。","type":"integer","format":"int64","example":"8"},"Flags":{"description":"客户端标志，取值如下：\n\n- **A**：尽快关闭连接。\n- **b**：客户端正在等待阻塞事件。\n- **c**：写入全部回复后将关闭连接。\n- **d**：受监视的键已被修改，`EXEC`命令将失败。\n- **i**：客户端正在等待虚拟机I/O操作（已废弃）。\n- **M**：客户端是主节点。\n- **N**：未设置特点标志。\n- **O**：处于监视模式的客户端。\n- **r**：客户端是只读模式的集群节点。\n- **S**：客户端是一般模式下的从节点。\n- **u**：客户端未被阻塞。\n- **U**：通过Unix域套接字连接的客户端。\n- **x**：客户端正在执行事务。\n\n\n\n\n\n\n\n\n","type":"string","example":"N"},"Oll":{"description":"输出列表包含的对象数量。","type":"integer","format":"int64","example":"0"},"QbufFree":{"description":"输入缓冲区剩余大小，单位为字节（Byte）。","type":"integer","format":"int64","example":"0"},"Multi":{"description":"`MULTI`/`EXEC`上下文中的命令数。","type":"integer","format":"int64","example":"-1"},"Omem":{"description":"输出缓冲区大小，单位为字节（Byte）。","type":"integer","format":"int64","example":"0"},"Qbuf":{"description":"输入缓冲区大小，单位为字节（Byte）。","type":"integer","format":"int64","example":"0"},"Name":{"description":"客户端名称。","type":"string","example":"test"},"Obl":{"description":"输出固定缓冲区大小，单位为字节（Byte）。","type":"integer","format":"int64","example":"0"},"Client":{"description":"客户端的地址。","type":"string","example":"172.16.XX.XX"},"Cmd":{"description":"最近一次执行的命令。","type":"string","example":"PING"},"Id":{"description":"客户端ID。","type":"integer","format":"int64","example":"9080586"},"Addr":{"description":"客户端的地址和端口。","type":"string","example":"172.16.XX.XX:53458"},"NodeId":{"description":"节点ID。","type":"string","example":"r-2zemyfd1sh1u2i****-proxy-14#1679****"},"Age":{"description":"已连接时长，单位为秒（s）。","type":"string","example":"12"},"Db":{"description":"该客户端正在使用的数据库ID。","type":"integer","format":"int64","example":"0"},"Events":{"description":"文件描述符事件，取值为：\n\n- **r**：客户端套接字在事件Loop中可读。\n- **w**：客户端套接字在事件Loop中可写。","type":"string","example":"r"},"Fd":{"description":"套接字所使用的文件描述符。","type":"integer","format":"int64","example":"73"},"ClientDesc":{"description":"客户端别名。","type":"string","example":"prod ip"}}}},"SourceStats":{"description":"访问来源统计数据。","type":"array","items":{"type":"object","properties":{"Key":{"description":"访问来源。","type":"string","example":"172.16.XX.XX"},"Count":{"description":"该访问来源的会话总数。","type":"string","example":"1"},"Ids":{"description":"客户端ID数据。","type":"array","items":{"description":"客户端ID。","type":"integer","format":"int64","example":"9080586"}}}}}}},"RequestId":{"description":"请求ID。","type":"string","example":"40C6E9AF-6C23-5614-AA83-34344CC6****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"Timestamp\\\": 1660100753556,\\n    \\\"Total\\\": 2,\\n    \\\"Sessions\\\": [\\n      {\\n        \\\"Sub\\\": 0,\\n        \\\"Psub\\\": 0,\\n        \\\"Idle\\\": 8,\\n        \\\"Flags\\\": \\\"N\\\",\\n        \\\"Oll\\\": 0,\\n        \\\"QbufFree\\\": 0,\\n        \\\"Multi\\\": -1,\\n        \\\"Omem\\\": 0,\\n        \\\"Qbuf\\\": 0,\\n        \\\"Name\\\": \\\"test\\\",\\n        \\\"Obl\\\": 0,\\n        \\\"Client\\\": \\\"172.16.XX.XX\\\",\\n        \\\"Cmd\\\": \\\"PING\\\",\\n        \\\"Id\\\": 9080586,\\n        \\\"Addr\\\": \\\"172.16.XX.XX:53458\\\",\\n        \\\"NodeId\\\": \\\"r-2zemyfd1sh1u2i****-proxy-14#1679****\\\",\\n        \\\"Age\\\": \\\"12\\\",\\n        \\\"Db\\\": 0,\\n        \\\"Events\\\": \\\"r\\\",\\n        \\\"Fd\\\": 73,\\n        \\\"ClientDesc\\\": \\\"prod ip\\\"\\n      }\\n    ],\\n    \\\"SourceStats\\\": [\\n      {\\n        \\\"Key\\\": \\\"172.16.XX.XX\\\",\\n        \\\"Count\\\": \\\"1\\\",\\n        \\\"Ids\\\": [\\n          9080586\\n        ]\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"40C6E9AF-6C23-5614-AA83-34344CC6****\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetRedisAllSessionResponse>\\n    <Message>Successful</Message>\\n    <RequestId>40C6E9AF-6C23-5614-AA83-34344CC6****</RequestId>\\n    <Data>\\n        <SourceStats>\\n            <Ids>5</Ids>\\n            <Count>1</Count>\\n            <Key>11.200.XX.XX</Key>\\n        </SourceStats>\\n        <SourceStats>\\n            <Ids>106909499</Ids>\\n            <Count>1</Count>\\n            <Key>127.0.XX.XX</Key>\\n        </SourceStats>\\n        <Total>2</Total>\\n        <Sessions>\\n            <Sub>0</Sub>\\n            <Omem>0</Omem>\\n            <Qbuf>0</Qbuf>\\n            <Multi>-1</Multi>\\n            <Flags>N</Flags>\\n            <Oll>0</Oll>\\n            <Addr>127.0.XX.XX:44019</Addr>\\n            <Name/>\\n            <Events>r</Events>\\n            <Psub>0</Psub>\\n            <Idle>1</Idle>\\n            <Obl>0</Obl>\\n            <Cmd>config</Cmd>\\n            <Id>106909499</Id>\\n            <Client>127.0.XX.XX</Client>\\n            <Age>6101538</Age>\\n            <Db>0</Db>\\n            <Fd>6</Fd>\\n        </Sessions>\\n        <Sessions>\\n            <Sub>0</Sub>\\n            <Omem>0</Omem>\\n            <Qbuf>0</Qbuf>\\n            <Multi>-1</Multi>\\n            <Flags>S</Flags>\\n            <Oll>0</Oll>\\n            <Addr>127.0.XX.XX:44019</Addr>\\n            <Name/>\\n            <Events>r</Events>\\n            <Psub>0</Psub>\\n            <Idle>1</Idle>\\n            <Obl>0</Obl>\\n            <Cmd>replconf</Cmd>\\n            <Id>5</Id>\\n            <Client>11.200.XX.XX</Client>\\n            <Age>67387263</Age>\\n            <Db>0</Db>\\n            <Fd>10</Fd>\\n        </Sessions>\\n        <Timestamp>1663912392217</Timestamp>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</GetRedisAllSessionResponse>\",\"errorExample\":\"\"}]","title":"获取Redis实例当前会话","description":"\n- 本接口只适用于Redis引擎。\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。\n\n> 对于Redis集群版数据库实例，无法获取使用直连模式产生的会话。"}