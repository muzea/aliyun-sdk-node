{"summary":"调用GetInstanceMissingIndexList接口，查询RDS SQL Server实例所有缺失索引的详细信息。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"数据库实例ID。","type":"string","required":true,"example":"rm-t4nfalp2ap421****"}},{"name":"PageNo","in":"query","schema":{"description":"分页查询的页码，从1开始，默认为1。","type":"string","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页最大记录数，默认值为10。","type":"string","required":false,"example":"10"}},{"name":"ObjectName","in":"query","schema":{"description":"对象名。","type":"string","required":false,"example":"bas_customer"}},{"name":"ReservedSize","in":"query","schema":{"description":"表总空间筛选条件。单位为MB。输入格式为`运算符+分割服“|”+表总空间大小`，例如筛选条件设置为查询总空间大于等于100M的表时，输入：`>=|100`。","type":"string","required":false,"example":">=|100"}},{"name":"RowCount","in":"query","schema":{"description":"表记录数筛选条件。输入格式为`运算符+分割服“|”+表记录数`，例如`>=|100`。","type":"string","required":false,"example":">=|100000"}},{"name":"ReservedPages","in":"query","schema":{"description":"总页数筛选条件。输入格式为`运算符+分割服“|”+总页数`，例如`>=|100`。","type":"string","required":false,"example":">=|100"}},{"name":"IndexCount","in":"query","schema":{"description":"索引个数（索引缺失表目前所拥有的索引个数）筛选条件。输入格式为`运算符+分割服“|”+索引个数`，例如`>=|100`。","type":"string","required":false,"example":">=|8"}},{"name":"UniqueCompiles","in":"query","schema":{"description":"编译次数筛选条件。输入格式为`运算符+分割服“|”+编译次数`，例如`>=|100`。","type":"string","required":false,"example":">=|10000"}},{"name":"UserSeeks","in":"query","schema":{"description":"查找次数筛选条件。输入格式为`运算符+分割服“|”+查找次数`，例如`>=|100`。","type":"string","required":false,"example":">=|1000"}},{"name":"UserScans","in":"query","schema":{"description":"扫描次数筛选条件。输入格式为`运算符+分割服“|”+扫描次数`，例如`>=|100`。","type":"string","required":false,"example":">=|10000"}},{"name":"AvgTotalUserCost","in":"query","schema":{"description":"平均开销节约百分比（预测建立了缺失索引后，用户的平均CPU开销节约百分比。）筛选条件。输入格式为`运算符+分割服“|”+平均开销节约百分比`，例如筛选条件设置为查询平均开销节约百分比小于等于10%时，输入：`<=|10`。","type":"string","required":false,"example":"<=|8"}},{"name":"AvgUserImpact","in":"query","schema":{"description":"性能提升百分比（预测建立了缺失索引后，用户的平均查询性能提升百分比。）筛选条件。输入格式为`运算符+分割服“|”+性能提升百分比`，例如筛选条件设置为查询性能提升百分比大于等于100%时，输入：`>=|100`。","type":"string","required":false,"example":">|10000"}},{"name":"StartTime","in":"query","schema":{"description":"索引最后查找时间的开始时间。格式为Unix时间戳，单位为毫秒。","type":"string","required":false,"example":"1679414400000"}},{"name":"EndTime","in":"query","schema":{"description":"索引最后查找时间的结束时间。格式为Unix时间戳，单位为毫秒。","type":"string","required":false,"example":"1681869544000"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Message":{"description":"请求返回消息。\n\n> 请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"详细信息列表。","type":"object","properties":{"List":{"description":"返回信息列表。","type":"array","items":{"description":"记录详情。","type":"object","properties":{"AvgTotalUserCost":{"description":"预测建立了缺失索引后，用户的平均CPU开销节约百分比。","type":"number","format":"double","example":"4.67"},"AvgUserImpact":{"description":"预测建立了缺失索引后，用户的平均查询性能提升百分比。","type":"number","format":"double","example":"98.3\n"},"DatabaseName":{"description":"数据库名称。","type":"string","example":"testdb"},"EqualityColumns":{"description":"相等列。缺失索引被使用来做等于查询的列。","type":"string","example":"col1,col2,col3"},"IncludedColumns":{"description":"包含列。缺失索引包含列。","type":"string","example":"col3,col4"},"IndexCount":{"description":"索引个数。索引缺失表目前所拥有的索引个数。","type":"integer","format":"int64","example":"1"},"LastUserSeek":{"description":"用户最后查找时间。缺失索引用户最后的查找时间点。","type":"integer","format":"int64","example":"1702023327000"},"ObjectName":{"description":"对象名。","type":"string","example":"stu"},"ReservedPages":{"description":"总页数。","type":"integer","format":"int64","example":"5025"},"ReservedSize":{"description":"总空间大小。","type":"number","format":"double","example":"39.26"},"RowCount":{"description":"记录数。","type":"integer","format":"int64","example":"226945"},"SchemaName":{"description":"架构名。","type":"string","example":"dbo"},"SystemScans":{"description":"扫描次数。","type":"integer","format":"int64","example":"0"},"SystemSeeks":{"description":"查找次数。","type":"integer","format":"int64","example":"0"},"UniqueCompiles":{"description":"编译次数。","type":"integer","format":"int64","example":"2392"},"UserScans":{"description":"用户扫描次数。索引缺失表被扫描的次数。","type":"integer","format":"int64","example":"0"},"UserSeeks":{"description":"用户查找次数。索引缺失被查找的次数。","type":"integer","format":"int64","example":"1081"},"InequalityColumns":{"description":"不等列。缺失索引被使用来做不等于查询的列。","type":"string","example":"2392"},"CreateIndex":{"description":"索引创建语句。您可以使用这个语句来创建缺失索引。","type":"string","example":"CREATE INDEX [IX_CLOUDDBA_school_dbo_stu@col1_@col2] ON [school].[dbo].[stu]([col1],[col2],[col3]) INCLUDE ([col4],[col5]) WITH (FILLFACTOR = 90, ONLINE = OFF);"}}}},"PageNo":{"description":"页码。","type":"integer","format":"int64","example":"1"},"PageSize":{"description":"每页数量。","type":"integer","format":"int64","example":"10"},"Total":{"description":"总记录数。","type":"integer","format":"int64","example":"16"}}},"RequestId":{"description":"请求ID。","type":"string","example":"0A74B755-98B7-59DB-8724-1321B394****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"List\\\": [\\n      {\\n        \\\"AvgTotalUserCost\\\": 4.67,\\n        \\\"AvgUserImpact\\\": 98.3,\\n        \\\"DatabaseName\\\": \\\"testdb\\\",\\n        \\\"EqualityColumns\\\": \\\"col1,col2,col3\\\",\\n        \\\"IncludedColumns\\\": \\\"col3,col4\\\",\\n        \\\"IndexCount\\\": 1,\\n        \\\"LastUserSeek\\\": 1702023327000,\\n        \\\"ObjectName\\\": \\\"stu\\\",\\n        \\\"ReservedPages\\\": 5025,\\n        \\\"ReservedSize\\\": 39.26,\\n        \\\"RowCount\\\": 226945,\\n        \\\"SchemaName\\\": \\\"dbo\\\",\\n        \\\"SystemScans\\\": 0,\\n        \\\"SystemSeeks\\\": 0,\\n        \\\"UniqueCompiles\\\": 2392,\\n        \\\"UserScans\\\": 0,\\n        \\\"UserSeeks\\\": 1081,\\n        \\\"InequalityColumns\\\": \\\"2392\\\",\\n        \\\"CreateIndex\\\": \\\"CREATE INDEX [IX_CLOUDDBA_school_dbo_stu@col1_@col2] ON [school].[dbo].[stu]([col1],[col2],[col3]) INCLUDE ([col4],[col5]) WITH (FILLFACTOR = 90, ONLINE = OFF);\\\"\\n      }\\n    ],\\n    \\\"PageNo\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"Total\\\": 16\\n  },\\n  \\\"RequestId\\\": \\\"0A74B755-98B7-59DB-8724-1321B394****\\\",\\n  \\\"Success\\\": \\\"true\\\"\\n}\",\"type\":\"json\"}]","title":"查询RDS SQL Server实例索引缺失情况","description":"* 本接口仅适用于RDS SQL Server版实例。\n* 使用阿里云或DAS的SDK时，建议使用最新版本。\n* 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。"}