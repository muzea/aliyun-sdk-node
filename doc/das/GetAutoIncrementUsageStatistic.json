{"summary":"调用GetAutoIncrementUsageStatistic接口，获取表自增ID的使用数据。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"none","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"example":"rm-2ze8g2am97624****"}},{"name":"DbNames","in":"query","schema":{"description":"数据库名。传入此参数时，查询指定数据库中表自增ID使用情况，不传入时查询实例上所有数据库的表自增ID使用情况。\n>数据格式为JSONArray，例如['db1','db2']，数据库名间用英文逗号（,）分隔。","type":"string","required":false,"example":"['db1','db2']"}},{"name":"RatioFilter","in":"query","schema":{"description":"自增ID使用比例过滤值，只返回超过该比例的自增ID使用数据。取值为0~1的小数。","type":"number","format":"double","required":true,"example":"0.9"}},{"name":"RealTime","in":"query","schema":{"description":"是否获取实时数据：\n\n- **true**：实时查询实例上数据并计算。最小查询时间粒度为10分钟，即有10分钟内的数据时，即使传递**true**也不进行实时查询。\n- **false**：当有近两小时的数据时，返回该数据，否则查询实例上最新数据。","type":"boolean","required":true,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"integer","format":"int64","example":"200"},"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"返回的数据。","type":"object","properties":{"Finish":{"description":"任务是否结束：\n\n- **true**：任务结束。\n- **false**：任务未结束。","type":"boolean","example":"false"},"Timestamp":{"description":"执行时间，格式为Unix时间戳，单位为毫秒（ms）。","type":"integer","format":"int64","example":"1697183353000"},"TaskStatus":{"description":"任务状态：\n- **INIT**：初始化。\n- **RUNNING**：任务执行中。\n- **SUCCESS**：任务成功。\n- **FAIL**：任务失败。","type":"string","example":"INIT"},"ErrorInfo":{"description":"任务失败时的错误信息。","type":"string","example":"the given database name list invalid, none of the database names in the list exist on the instance"},"AutoIncrementUsageList":{"description":"自增ID使用数据列表。","type":"array","items":{"type":"object","properties":{"DbName":{"description":"数据库名。","type":"string","example":"db01"},"TableName":{"description":"表名。","type":"string","example":"test_table"},"ColumnName":{"description":"列名。","type":"string","example":"id"},"AutoIncrementCurrentValue":{"description":"自增ID当前值。","type":"integer","format":"int64","example":"2147483647"},"MaximumValue":{"description":"该数据类型的自增ID支持的最大值。","type":"integer","format":"int64","example":"2147483647"},"AutoIncrementRatio":{"description":"自增ID使用比例。","type":"number","format":"double","example":"1"}}}}}},"RequestId":{"description":"请求ID。","type":"string","example":"0A74B755-98B7-59DB-8724-1321B394****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"Finish\\\": false,\\n    \\\"Timestamp\\\": 1697183353000,\\n    \\\"TaskStatus\\\": \\\"INIT\\\",\\n    \\\"ErrorInfo\\\": \\\"the given database name list invalid, none of the database names in the list exist on the instance\\\",\\n    \\\"AutoIncrementUsageList\\\": [\\n      {\\n        \\\"DbName\\\": \\\"db01\\\",\\n        \\\"TableName\\\": \\\"test_table\\\",\\n        \\\"ColumnName\\\": \\\"id\\\",\\n        \\\"AutoIncrementCurrentValue\\\": 2147483647,\\n        \\\"MaximumValue\\\": 2147483647,\\n        \\\"AutoIncrementRatio\\\": 1\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"0A74B755-98B7-59DB-8724-1321B394****\\\",\\n  \\\"Success\\\": true\\n}\",\"type\":\"json\"}]","title":"获取表自增ID使用数据","description":"- 本接口只适用于RDS MySQL和PolarDB MySQL版实例。\n- 使用阿里云或DAS的SDK时，建议使用最新版本。\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。","extraInfo":"- 调用接口时，当返回数据中Finish不为true时，需要继续调用。当Finish为true且TaskStatus为SUCCESS时，可以查看具体的自增ID使用数据。"}