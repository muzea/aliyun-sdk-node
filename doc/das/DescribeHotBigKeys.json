{"summary":"调用DescribeHotBigKeys接口，实时获取当前内存中的热Key和大Key。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"ConsoleContext","in":"query","schema":{"description":"备用参数。","type":"string","required":false,"example":"None"}},{"name":"InstanceId","in":"query","schema":{"description":"Redis实例ID，您可以调用[DescribeInstances](~~60933~~)接口获取。","type":"string","required":true,"example":"r-bp18ff4a195d****"}},{"name":"NodeId","in":"query","schema":{"description":"Redis实例的数据分片ID，您可以调用[DescribeRoleZoneInfo](~~190794~~)接口获取。","type":"string","required":false,"example":"r-****-db-0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"请求返回消息。","type":"string","example":"Successful"},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Data":{"description":"详情信息列表。","type":"object","properties":{"HotKeys":{"type":"object","properties":{"HotKey":{"description":"热键详细列表。","type":"array","items":{"type":"object","properties":{"Key":{"description":"具体的Key。","type":"string","example":"abc:def:eng"},"Db":{"description":"Key所在的DB。","type":"integer","format":"int32","example":"0"},"Hot":{"description":"Key的访问频次，即Key的每秒访问数。","type":"string","example":"5500~6000"},"KeyType":{"description":"Key的类型。","type":"string","example":"zset"},"Lfu":{"description":"LFU算法的统计值。","type":"integer","format":"int32","example":"253"},"NodeId":{"description":"Redis实例的数据分片ID。","type":"string","example":"r-x****-db-0"}}}}}},"BigKeys":{"type":"object","properties":{"BigKey":{"description":"大Key的详细列表。","type":"array","items":{"type":"object","properties":{"Db":{"description":"Key所在的DB。","type":"integer","format":"int32","example":"0"},"Key":{"description":"具体的Key。","type":"string","example":"abc:def:eng"},"KeyType":{"description":"Key类型。","type":"string","example":"zset"},"Size":{"description":"元素的个数。","type":"integer","format":"int64","example":"2"},"NodeId":{"description":"Redis实例的数据分片ID。","type":"string","example":"r-x****-db-0"}}}}}},"HotKeyMsg":{"description":"获取热Key失败的原因。","type":"string","example":"current version doesn't support"},"BigKeyMsg":{"description":"获取大Key失败的原因。","type":"string","example":"current version doesn't support"}}},"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Data\\\": {\\n    \\\"HotKeys\\\": {\\n      \\\"HotKey\\\": [\\n        {\\n          \\\"Key\\\": \\\"abc:def:eng\\\",\\n          \\\"Db\\\": 0,\\n          \\\"Hot\\\": \\\"5500~6000\\\",\\n          \\\"KeyType\\\": \\\"zset\\\",\\n          \\\"Lfu\\\": 253,\\n          \\\"NodeId\\\": \\\"r-x****-db-0\\\"\\n        }\\n      ]\\n    },\\n    \\\"BigKeys\\\": {\\n      \\\"BigKey\\\": [\\n        {\\n          \\\"Db\\\": 0,\\n          \\\"Key\\\": \\\"abc:def:eng\\\",\\n          \\\"KeyType\\\": \\\"zset\\\",\\n          \\\"Size\\\": 2,\\n          \\\"NodeId\\\": \\\"r-x****-db-0\\\"\\n        }\\n      ]\\n    },\\n    \\\"HotKeyMsg\\\": \\\"current version doesn't support\\\",\\n    \\\"BigKeyMsg\\\": \\\"current version doesn't support\\\"\\n  },\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": \\\"true\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeHotBigKeysResponse>\\n    <Message>Successful</Message>\\n    <RequestId>B6D17591-B48B-4D31-9CD6-9B9796B2****</RequestId>\\n    <Data>\\n        <HotKeys>\\n            <Key>abc:def:eng</Key>\\n            <Db>0</Db>\\n            <Hot>5500~6000</Hot>\\n            <KeyType>zset</KeyType>\\n            <Lfu>253</Lfu>\\n            <NodeId>r-x****-db-0</NodeId>\\n        </HotKeys>\\n        <BigKeys>\\n            <Db>0</Db>\\n            <Key>abc:def:eng</Key>\\n            <KeyType>zset</KeyType>\\n            <Size>2</Size>\\n            <NodeId>r-x****-db-0</NodeId>\\n        </BigKeys>\\n        <HotKeyMsg>current version doesn't support</HotKeyMsg>\\n        <BigKeyMsg>current version doesn't support</BigKeyMsg>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</DescribeHotBigKeysResponse>\",\"errorExample\":\"\"}]","title":"实时获取当前热Key和大Key","description":"对数据结构为List、Hash、Set、Zset的Key，按照Key中元素的数量排序并展示排名前3的Key，记录为大Key；当某个Key的QPS大于3,000时会被记录为热点Key。\n\n- 在使用阿里云SDK时，需要保证aliyun-sdk-core的版本大于4.3.3，建议使用最新版本。\n- 使用DAS的SDK的版本为1.0.2或以上。\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。\n- 本接口只适用于如下Redis实例：\n    - 实例为社区版（5.0及以上版本）或企业版（性能增强型）。\n    - 实例的小版本为最新。\n\n>关于如何查询小版本、升级小版本，详情请参见[ModifyInstanceMinorVersion](~~129381~~)、[DescribeEngineVersion](~~95268~~)。"}