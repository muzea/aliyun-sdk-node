{"summary":"调用CreateCacheAnalysisJob接口，创建缓存分析任务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"Redis实例ID。","type":"string","required":true,"docRequired":true,"example":"r-bp18ff4a195d****"}},{"name":"NodeId","in":"query","schema":{"description":"实例的数据节点ID，传入本参数可查询指定节点的监控信息。\n>当您传入BackupSetId参数，系统会忽略此参数，您可调用[DescribeLogicInstanceTopology](~~94665~~)接口查询节点ID。","type":"string","required":false,"example":"r-x****-db-0"}},{"name":"BackupSetId","in":"query","schema":{"description":"备份文件ID，可以通过[DescribeBackups](~~61081~~)接口获取。\n\n- 如需传入多个备份文件ID，请使用英文逗号（,）分隔，例如`12345,67890`。\n- 如果不传入本参数，系统会自动执行备份并对该备份文件执行缓存分析。","type":"string","required":false,"example":"12345"}},{"name":"Separators","in":"query","schema":{"description":"用于识别Key前缀的分隔符。当分隔符为默认的`:;,_-+@=|#`时，不需要输入。","type":"string","required":false,"example":"&"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Data":{"description":"详细信息列表。","type":"object","properties":{"TaskState":{"description":"缓存分析任务的状态：\n\n- **BACKUP**：备份中。\n- **ANALYZING**：分析中。\n- **FINISHED**：分析完成。\n- **FAILED**：出现错误。","type":"string","example":"BACKUP"},"JobId":{"description":"缓存分析任务ID。\n>此参数可用于查询缓存分析任务使用，当您调用该API时，由于创建缓存分析任务需要一定的时间，不会立即返回分析结果，您需要通过此参数，结合[DescribeCacheAnalysisJob](~~180983~~)接口，查询具体的分析结果。","type":"string","example":"sf79-sd99-sa37-****"},"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"BigKeys":{"type":"object","properties":{"KeyInfo":{"description":"大Key详细信息，根据Key占用字节数降序排列。","type":"array","items":{"type":"object","properties":{"Type":{"description":"Redis数据结构类型。","type":"string","example":"hash"},"Db":{"description":"数据库名称。","type":"integer","format":"int32","example":"0"},"ExpirationTimeMillis":{"description":"Key过期时间，单位：毫秒（ms），0表示不过期。","type":"integer","format":"int64","example":"1596256542547"},"Key":{"description":"Key的名称。","type":"string","example":"task_x****"},"Encoding":{"description":"Key内部数据类型。","type":"string","example":"hashtable"},"Bytes":{"description":"Key占用字节数。","type":"integer","format":"int64","example":"12345"},"NodeId":{"description":"实例的数据节点ID。","type":"string","example":"r-x****-db-0"},"Count":{"description":"Key的元素个数。","type":"integer","format":"int64","example":"127"}}}}}},"InstanceId":{"description":"实例ID。","type":"string","example":"r-bp18ff4a195d****"},"NodeId":{"description":"实例的数据节点ID。","type":"string","example":"r-x****-db-0"}}},"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Data\\\": {\\n    \\\"TaskState\\\": \\\"BACKUP\\\",\\n    \\\"JobId\\\": \\\"sf79-sd99-sa37-****\\\",\\n    \\\"Message\\\": \\\"Successful\\\",\\n    \\\"BigKeys\\\": {\\n      \\\"KeyInfo\\\": [\\n        {\\n          \\\"Type\\\": \\\"hash\\\",\\n          \\\"Db\\\": 0,\\n          \\\"ExpirationTimeMillis\\\": 1596256542547,\\n          \\\"Key\\\": \\\"task_x****\\\",\\n          \\\"Encoding\\\": \\\"hashtable\\\",\\n          \\\"Bytes\\\": 12345,\\n          \\\"NodeId\\\": \\\"r-x****-db-0\\\",\\n          \\\"Count\\\": 127\\n        }\\n      ]\\n    },\\n    \\\"InstanceId\\\": \\\"r-bp18ff4a195d****\\\",\\n    \\\"NodeId\\\": \\\"r-x****-db-0\\\"\\n  },\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": \\\"true\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateCacheAnalysisJobResponse>\\n    <Message>Successful</Message>\\n    <RequestId>B6D17591-B48B-4D31-9CD6-9B9796B2****</RequestId>\\n    <Data>\\n        <TaskState>BACKUP</TaskState>\\n        <JobId>sf79-sd99-sa37-****</JobId>\\n        <Message>Successful</Message>\\n        <BigKeys>\\n            <Type>hash</Type>\\n            <Db>0</Db>\\n            <ExpirationTimeMillis>1596256542547</ExpirationTimeMillis>\\n            <Key>task_x****</Key>\\n            <Encoding>hashtable</Encoding>\\n            <Bytes>12345</Bytes>\\n            <NodeId>r-x****-db-0</NodeId>\\n            <Count>127</Count>\\n        </BigKeys>\\n        <InstanceId>r-bp18ff4a195d****</InstanceId>\\n        <NodeId>r-x****-db-0</NodeId>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</CreateCacheAnalysisJobResponse>\",\"errorExample\":\"\"}]","title":"创建缓存分析任务","description":"使用该接口需满足以下前提条件：\n\n- 使用阿里云或DAS的SDK时，建议使用最新版本。\n- 使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。\n- 只支持分析Redis数据结构和以下Tair自研数据结构：TairString、TairHash、TairGIS、TairBloom、TairDoc、TairCpc、TairZset，暂不支持分析其他Tair自研数据结构。\n- 如果目标实例规格已发生变更，则不支持分析实例变更前的备份文件。\n- 暂不支持Tair磁盘型实例。"}