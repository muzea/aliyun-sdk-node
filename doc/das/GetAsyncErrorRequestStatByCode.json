{"methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"example":"rm-2ze8g2am97624****"}},{"name":"NodeId","in":"query","schema":{"description":"节点ID。\n> 对于PolarDB MySQL版实例，需要提供节点ID。","type":"string","required":false,"example":"pi-wz9s658475e58****"}},{"name":"Start","in":"query","schema":{"description":"查询开始时间，格式为Unix时间戳，单位为毫秒。\n\n> 查询开始时间需在数据库实例SQL洞察存储时长范围内，最大不能早于当前时间90天。","type":"integer","format":"int64","required":false,"example":"1642556990714"}},{"name":"End","in":"query","schema":{"description":"查询的结束时间，格式为Unix时间戳，单位为毫秒。\n\n> 查询结束时间需晚于查询开始时间，且查询开始时间和查询结束时间的间隔不能超过1天。","type":"integer","format":"int64","required":false,"example":"1642566830000"}},{"name":"DbName","in":"query","schema":{"description":"数据库名称。","type":"string","required":false,"example":"testdb01"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"integer","format":"int64","example":"200"},"Message":{"description":"请求返回消息。\n\n> 请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"返回的数据。\n\n","type":"object","properties":{"fail":{"description":"请求是否失败：\n\n- **true**：是。\n\n- **false**：否。","type":"boolean","example":"false"},"isFinish":{"description":"异步请求是否执行完成：\n\n- **true**：是。\n\n- **false**：否。","type":"boolean","example":"true"},"resultId":{"description":"异步请求ID。","type":"string","example":"async__fcd7c35788e62324622c3b4a03de****"},"state":{"description":"异步请求的执行状态：\n\n- **RUNNING**：正在运行。\n\n- **SUCCESS**：成功。\n\n- **FAIL**：失败。","type":"string","example":"SUCCESS"},"timestamp":{"description":"执行时间，格式为Unix时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1644560866961"},"complete":{"description":"异步请求是否完成：\n\n- **true**：是。\n\n- **false**：否。","type":"boolean","example":"true"},"result":{"description":"返回的错误码以及每个错误码对应的SQL数量列表。","type":"array","items":{"description":"返回的错误码以及每个错误码对应的SQL数量列表。","type":"object","properties":{"instanceId":{"description":"实例ID。","type":"string","example":"rm-2ze8g2am97624****"},"errorCode":{"description":"错误码。","type":"string","example":"1062"},"count":{"description":"错误码对应SQL的数量。","type":"integer","format":"int32","example":"1"}}}}},"example":"{     \"fail\": false,     \"data\": [       {         \"instanceId\": \"rm-2ze8g2am97624****\",         \"count\": 1,         \"errorCode\": \"1062\"       },       {         \"instanceId\": \"rm-2ze8g2am97624****\",         \"count\": 2,         \"errorCode\": \"1064\"      }     ],     \"resultId\": \"async__fcd7c35788e62324622c3b4a03de****\",     \"isFinish\": true,     \"state\": \"SUCCESS\",     \"complete\": true,     \"timestamp\": 1644560866961   }"},"RequestId":{"description":"请求的ID。","type":"string","example":"840F51F7-9C01-538D-94F6-AE712905****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n\n- **false**：执行失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"fail\\\": false,\\n    \\\"isFinish\\\": true,\\n    \\\"resultId\\\": \\\"async__fcd7c35788e62324622c3b4a03de****\\\",\\n    \\\"state\\\": \\\"SUCCESS\\\",\\n    \\\"timestamp\\\": 1644560866961,\\n    \\\"complete\\\": true,\\n    \\\"result\\\": [\\n      {\\n        \\\"instanceId\\\": \\\"rm-2ze8g2am97624****\\\",\\n        \\\"errorCode\\\": \\\"1062\\\",\\n        \\\"count\\\": 1\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"840F51F7-9C01-538D-94F6-AE712905****\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetAsyncErrorRequestStatByCodeResponse>\\n    <Code>200</Code>\\n    <Message>Successful</Message>\\n    <Data>\\n        <fail>false</fail>\\n        <isFinish>true</isFinish>\\n        <resultId>async__fcd7c35788e62324622c3b4a03de****</resultId>\\n        <state>SUCCESS</state>\\n        <timestamp>1644560866961</timestamp>\\n        <complete>true</complete>\\n        <result>\\n            <instanceId>rm-2ze8g2am97624****</instanceId>\\n            <errorCode>1062</errorCode>\\n            <count>1</count>\\n        </result>\\n    </Data>\\n    <RequestId>840F51F7-9C01-538D-94F6-AE712905****</RequestId>\\n    <Success>true</Success>\\n</GetAsyncErrorRequestStatByCodeResponse>\",\"errorExample\":\"\"}]","title":"查询MySQL错误码以及每个错误码对应的SQL数量","summary":"调用GetAsyncErrorRequestStatByCode接口，异步查询数据库实例SQL洞察结果中的MySQL错误码以及每个错误码对应的SQL数量。","description":"> 异步调用后不会立即返回完整结果，当返回数据中**isFinish**取值为**false**时，请等待1s后重新发起调用，直到**isFinish**取值为**true**时，返回完整结果。\n\n- 目前仅支持RDS MySQL和PolarDB MySQL版实例，请确保在使用该接口前，该实例已经开启DAS企业版，具体请参见[购买DAS企业版](~~163298~~)。\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。"}