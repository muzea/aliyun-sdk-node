{"summary":"调用GetBlockingDetailList接口，查询RDS SQL Server实例的锁阻塞列表。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"list"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"数据库实例ID。\n\n","type":"string","required":true,"example":"rm-t4nfalp2ap421****"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为Unix时间戳，单位为毫秒。","type":"string","required":true,"example":"1679429913757"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，格式为Unix时间戳，单位为毫秒。","type":"string","required":true,"example":"1682490480548"}},{"name":"PageNo","in":"query","schema":{"description":"页码，取值大于0且不超过Integer数据类型的最大值，默认值为1。","type":"string","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页最大记录数，取值大于0且不超过Integer数据类型的最大值，默认值为10。","type":"string","required":false,"example":"10"}},{"name":"QueryHash","in":"query","schema":{"description":"SQL哈希值。将SQL语句进行Hash之后得出的值，同一种SQL对应同一个QueryHash。","type":"string","required":false,"example":"DC08B955CAD25E7B"}},{"name":"DbNameList","in":"query","schema":{"description":"数据库名。传入多个数据库时，各个数据库名称间使用英文逗号（,）进行分隔。","type":"string","required":false,"example":"testdb1,testdb2"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Message":{"description":"请求返回消息。\n> 请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"返回的数据。","type":"object","properties":{"List":{"description":"返回信息列表。","type":"array","items":{"description":"数据详情。","type":"object","properties":{"BatchId":{"description":"采集批次。","type":"integer","format":"int64","example":"1683530096156"},"ClientAppName":{"description":"客户端名称。","type":"string","example":".Net SqlClient Data Provider"},"DataBase":{"description":"数据库名称。","type":"string","example":"testdb1"},"HostName":{"description":"客户端主机名称。","type":"string","example":"ALLBNMGTAPPRD01"},"LoginId":{"description":"登录用户名。","type":"string","example":"Testuser"},"QueryHash":{"description":"SQL HASH值。","type":"string","example":"DC08B955CAD25E7B"},"Spid":{"description":"会话ID。","type":"string","example":"1717"},"SqlText":{"description":"SQL语句。","type":"string","example":"select * from test1"},"StartTime":{"description":"开始执行的时间。格式为Unix时间戳，单位为毫秒。","type":"string","example":"1608888296000"},"WaitTimeMs":{"description":"阻塞时长，单位毫秒。","type":"integer","format":"int64","example":"30000"},"WaitType":{"description":"等待类型。更多等待类型及说明，请参见[等待类型](https://learn.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql?view=sql-server-ver15)。","type":"string","example":"MISCELLANEOUS"},"CurrentCollectionTime":{"description":"阻塞的采集时间。格式为Unix时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1700065800000"}}}},"PageNo":{"description":"页码。","type":"integer","format":"int64","example":"1"},"PageSize":{"description":"分页大小。","type":"integer","format":"int64","example":"10"},"Total":{"description":"总记录数。","type":"integer","format":"int64","example":"19"}}},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"List\\\": [\\n      {\\n        \\\"BatchId\\\": 1683530096156,\\n        \\\"ClientAppName\\\": \\\".Net SqlClient Data Provider\\\",\\n        \\\"DataBase\\\": \\\"testdb1\\\",\\n        \\\"HostName\\\": \\\"ALLBNMGTAPPRD01\\\",\\n        \\\"LoginId\\\": \\\"Testuser\\\",\\n        \\\"QueryHash\\\": \\\"DC08B955CAD25E7B\\\",\\n        \\\"Spid\\\": \\\"1717\\\",\\n        \\\"SqlText\\\": \\\"select * from test1\\\",\\n        \\\"StartTime\\\": \\\"1608888296000\\\",\\n        \\\"WaitTimeMs\\\": 30000,\\n        \\\"WaitType\\\": \\\"MISCELLANEOUS\\\",\\n        \\\"CurrentCollectionTime\\\": 1700065800000\\n      }\\n    ],\\n    \\\"PageNo\\\": 1,\\n    \\\"PageSize\\\": 10,\\n    \\\"Total\\\": 19\\n  },\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Success\\\": \\\"true\\\"\\n}\",\"type\":\"json\"}]","title":"查询RDS SQL Server实例的锁阻塞列表","description":"* 本接口仅适用于RDS SQL Server版实例。\n* 使用阿里云或DAS的SDK时，建议使用最新版本。\n* 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。"}