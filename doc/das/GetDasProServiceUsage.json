{"summary":"调用GetDasProServiceUsage接口，查询数据库实例DAS企业版 V1或企业版 V2存储空间的使用情况。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"UserId","in":"query","schema":{"description":"用户ID，即创建数据库实例的阿里云主账号ID。\n\n> 非必填，输入目标数据库实例ID后，在调用API接口时，系统会自动获取用户ID。","type":"string","required":false,"example":"196278346919****"}},{"name":"InstanceId","in":"query","schema":{"description":"数据库实例ID。","type":"string","required":true,"example":"rm-2ze8g2am97624****"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"请求返回消息。\n\n> 请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"RequestId":{"description":"请求ID。","type":"string","example":"7172BECE-588A-5961-8126-C216E16B****"},"Data":{"description":"返回数据。","type":"object","properties":{"storageFreeQuotaInMB":{"description":"赠送的SQL洞察数据存储空间，单位为MB。","type":"number","format":"double","example":"5120"},"ip":{"description":"数据库实例的地址。","type":"string","example":"rm-2ze8g2am97624****.mysql.****.com"},"userId":{"description":"用户ID，即创建数据库实例的阿里云主账号ID。","type":"string","example":"196278346919****"},"expireTime":{"description":"数据库实例企业版到期时间，格式为Unix时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1648742400000"},"instanceId":{"description":"数据库实例ID。","type":"string","example":"rm-2ze8g2am97624****"},"storageUsed":{"description":"数据库实例已使用的SQL洞察数据存储空间，单位为Byte。","type":"integer","format":"int64","example":"35903498"},"engine":{"description":"数据库引擎。","type":"string","example":"MySQL"},"instanceAlias":{"description":"数据库实例名称。","type":"string","example":"TESTDB01"},"port":{"description":"端口号。","type":"integer","format":"int32","example":"3306"},"vpcId":{"description":"VPC ID。","type":"string","example":"vpc-2zentqj1sk4qmolci****"},"commodityInstanceId":{"description":"DAS企业版ID。","type":"string","example":"daspro-cn-v0h1l6i****"},"startTime":{"description":"开启企业版的时间，格式为Unix时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1646100892000"},"isSpare":{"description":"数据库实例的企业版是否过期：\n\n- **true**：过期。\n- **false**：未过期。","type":"boolean","example":"false"},"region":{"description":"数据库实例所属的地域。","type":"string","example":"cn-shanghai"},"serviceUnitId":{"description":"服务单元ID。","type":"string","example":"4"},"sqlRetention":{"description":"SQL洞察数据存储时长，单位为天。","type":"string","example":"180"},"migrationPredictRemainingTime":{"description":"旧版SQL洞察和审计迁移到新版的预计剩余时间，单位为毫秒。\n><notice>仅当进行旧版SQL洞察和审计迁移到新版操作时，返回此参数。\n></notice>","type":"integer","format":"int64","example":"60000"}},"example":"{         \"storageFreeQuotaInMB\": 5120,         \"ip\": \"rm-2ze8g2am97624****.mysql.****.com\",         \"custinsId\": 12448331,         \"userId\": \"196278346919****\",         \"uuid\": \"hdm_b0ae36343407609bf3e8df8709d8****\",         \"expireTime\": 1924963200000,         \"instanceId\": \"rm-2ze8g2am97624****\",         \"storageUsed\": 10773752667393,         \"engine\": \"MySQL\",         \"instanceAlias\": \"TESTDB01_PROD\",         \"port\": 3310,         \"vpcId\": \"hdm_****\",         \"commodityInstanceId\": \"daspro-****\",         \"startTime\": 1606381940000,         \"isSpare\": false,         \"region\": \"cn-shanghai\",         \"serviceUnitId\": \"5\",         \"sqlRetention\": 30     }"},"Code":{"description":"返回的状态码。","type":"integer","format":"int64","example":"200"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"RequestId\\\": \\\"7172BECE-588A-5961-8126-C216E16B****\\\",\\n  \\\"Data\\\": {\\n    \\\"storageFreeQuotaInMB\\\": 5120,\\n    \\\"ip\\\": \\\"rm-2ze8g2am97624****.mysql.****.com\\\",\\n    \\\"userId\\\": \\\"196278346919****\\\",\\n    \\\"expireTime\\\": 1648742400000,\\n    \\\"instanceId\\\": \\\"rm-2ze8g2am97624****\\\",\\n    \\\"storageUsed\\\": 35903498,\\n    \\\"engine\\\": \\\"MySQL\\\",\\n    \\\"instanceAlias\\\": \\\"TESTDB01\\\",\\n    \\\"port\\\": 3306,\\n    \\\"vpcId\\\": \\\"vpc-2zentqj1sk4qmolci****\\\",\\n    \\\"commodityInstanceId\\\": \\\"daspro-cn-v0h1l6i****\\\",\\n    \\\"startTime\\\": 1646100892000,\\n    \\\"isSpare\\\": false,\\n    \\\"region\\\": \\\"cn-shanghai\\\",\\n    \\\"serviceUnitId\\\": \\\"4\\\",\\n    \\\"sqlRetention\\\": \\\"180\\\",\\n    \\\"migrationPredictRemainingTime\\\": 60000\\n  },\\n  \\\"Code\\\": 200,\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetDasProServiceUsageResponse>\\n    <Message>Successful</Message>\\n    <RequestId>7172BECE-588A-5961-8126-C216E16B****</RequestId>\\n    <Data>\\n        <storageFreeQuotaInMB>5120</storageFreeQuotaInMB>\\n        <ip>rm-2ze8g2am97624****.mysql.****.com</ip>\\n        <userId>196278346919****</userId>\\n        <expireTime>1648742400000</expireTime>\\n        <instanceId>rm-2ze8g2am97624****</instanceId>\\n        <storageUsed>35903498</storageUsed>\\n        <engine>MySQL</engine>\\n        <instanceAlias>TESTDB01</instanceAlias>\\n        <port>3306</port>\\n        <vpcId>vpc-2zentqj1sk4qmolci****</vpcId>\\n        <commodityInstanceId>daspro-cn-v0h1l6i****</commodityInstanceId>\\n        <startTime>1646100892000</startTime>\\n        <isSpare>false</isSpare>\\n        <region>cn-shanghai</region>\\n        <serviceUnitId>4</serviceUnitId>\\n        <sqlRetention>180</sqlRetention>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</GetDasProServiceUsageResponse>\",\"errorExample\":\"\"}]","title":"查询DAS企业版（V1或V2）存储空间使用情况","description":"- 当前支持的数据库请参见[DAS企业版使用说明](~~190912~~)。\n- 使用阿里云或DAS的SDK时，建议使用最新版本。\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。\n- 该接口仅适用于DAS企业版 V1、V2。"}