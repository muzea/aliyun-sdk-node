{"summary":"获取用户输入IP地址到指定数据库实例的网络连通性诊断结果。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"query","schema":{"title":"实例ID","description":"实例ID。","type":"string","required":true,"example":"rm-2ze8g2am97624****"}},{"name":"SrcIp","in":"query","schema":{"title":"源IP","description":"源IP地址。","type":"string","required":true,"example":"47.100.XX.XX"}}],"responses":{"200":{"schema":{"description":"返回信息列表。","type":"object","properties":{"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"Data":{"description":"详细信息列表。","type":"object","properties":{"instanceId":{"title":"实例ID","description":"实例ID。","type":"string","example":"rm-2ze8g2am97624****"},"success":{"title":"是否检测通过","description":"是否检测通过：\n\n- **true**：检测通过。\n- **false**：检测不通过。","type":"boolean","enumValueTitles":{},"example":"false"},"failType":{"title":"异常类型","description":"异常类型：\n\n- **0**：用户可自助处理的。\n- **1**：需要联系值班人员处理的。","type":"string","example":"0"},"connCheckErrorCode":{"title":"异常检测项","description":"异常检测项：\n\n- **SRC\\_IP\\_NOT\\_IN\\_USER\\_WHITELIST**：源IP地址没有配置在用户白名单中。\n- **VIP\\_NOT\\_EXISTS**：VIP对应的ALB实例不存在。\n- **RS\\_NOT\\_EXISTS**：RS不正常挂载。\n- **VIP\\_TUNNEL\\_ID\\_NOT\\_CONSISTENT**：VPC类型VIP使用的TUNNEL ID与VPC对应的实际TUNNEL ID不一致。\n- **VIP\\_VPC\\_CLOUD\\_INSTANCE\\_NOT\\_EXISTS**：VPC类型VIP不存在。\n- **VIP\\_IS\\_NOT\\_NGLB**：VIP关闭了NGLB模式。\n- **CUSTINS\\_NOT\\_ASSOCIATE\\_ECS\\_SECURITY\\_GROUP**：实例没有关联安全组。\n- **SRC\\_IP\\_NOT\\_IN\\_USER\\_WHITELIST**：源IP地址没有配置在用户白名单中。\n- **SRC\\_IP\\_NOT\\_IN\\_ADMIN\\_WHITELIST**：源IP地址没有配置在管理机白名单中。\n- **SRC\\_IP\\_NOT\\_IN\\_ECS\\_SECURITY\\_GROUP**：源IP地址没有配置在实例关联的安全组中。\n- **VPC\\_INSTANCE\\_IP\\_NOT\\_WORKING\\_STATUS**：VPC IP地址状态异常。","type":"string","example":"SRC_IP_NOT_IN_USER_WHITELIST"},"connCheckErrorMessage":{"title":"异常检测详情信息","description":"异常检测详情信息。","type":"string","example":"Src ip:47.100.XX.XX not in user whitelist"}}},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Success":{"description":"请求是否执行成功：\n* **true**：执行成功。\n* **false**：执行失败。","type":"string","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"Data\\\": {\\n    \\\"instanceId\\\": \\\"rm-2ze8g2am97624****\\\",\\n    \\\"success\\\": false,\\n    \\\"failType\\\": \\\"0\\\",\\n    \\\"connCheckErrorCode\\\": \\\"SRC_IP_NOT_IN_USER_WHITELIST\\\",\\n    \\\"connCheckErrorMessage\\\": \\\"Src ip:47.100.XX.XX not in user whitelist\\\"\\n  },\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Success\\\": \\\"true\\\"\\n}\",\"type\":\"json\"}]","title":"获取数据库实例网络连通性诊断结果","description":"使用该接口需满足以下前提条件：\n\n- 使用阿里云或DAS的SDK时，建议使用最新版本。\n- 使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。\n- 数据库实例已接入DAS。"}