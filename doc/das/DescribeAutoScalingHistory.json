{"summary":"调用DescribeAutoScalingHistory接口，查询实例弹性伸缩历史信息。","methods":["get"],"schemes":["https","http"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。\n\n> 当前仅支持RDS MySQL实例。","type":"string","required":true,"example":"rm-2ze8g2am97624****"}},{"name":"AutoScalingTaskType","in":"query","schema":{"description":"查询的弹性伸缩业务种类。当前仅支持**SPEC**，表示仅支持查询自动性能扩展历史信息。","type":"string","required":true,"example":"SPEC"}},{"name":"StartTime","in":"query","schema":{"description":"查询任务的开始时间，格式为Unix时间戳，单位为毫秒。\n\n>查询任务的开始时间最大不能早于当前时间45天。","type":"integer","format":"int64","required":true,"example":"1675833788056"}},{"name":"EndTime","in":"query","schema":{"description":"查询任务结束时间，格式为Unix时间戳，单位为毫秒。\n>查询任务结束时间需晚于查询任务开始时间。","type":"integer","format":"int64","required":true,"example":"1676605305796"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。200表示成功。","type":"string","example":"200"},"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"},"Data":{"title":"AutoScalingInstanceHistory","description":"弹性伸缩历史记录。","type":"object","properties":{"InstanceId":{"description":"实例ID。","type":"string","example":"rm-2ze1jdv45i7l6****"},"SpecHistory":{"description":"自动性能扩展历史记录。","type":"array","items":{"description":"自动性能扩展历史信息。","type":"object","properties":{"ScaleType":{"description":"自动性能扩展任务类型，取值：\n- **SCALE_UP**：规格自动扩容。\n- **SCALE_DOWN**：规格自动缩容。","type":"string","example":"SCALE_UP"},"TaskExcuteStatus":{"description":"任务执行状态：\n- **true**：执行成功。\n- **false**：执行失败。","type":"boolean","example":"true"},"ErrorCode":{"description":"扩缩容内部任务返回的错误码：\n\n- **Insufficient_Balance** ：用户余额不足或存在未支付订单。\n- **REACH_SPEC_UPPERBOUND** ：已达到用户规格上限。\n- **Control_Error_Timeout_Msg** ：管控任务超时。\n- **Invoke_Rds_Api_Error_Msg** ：调用RDS API失败。","type":"string","example":"Insufficient_Balance"},"OriginInstanceClass":{"description":"原始实例规格码。","type":"string","example":"mysql.n2.large.2c"},"TargetInstanceClass":{"description":"目标实例规格码。","type":"string","example":"mysql.n2.xlarge.2c"},"OriginCore":{"description":"原始实例CPU核数。","type":"integer","format":"int32","example":"4"},"OriginMemory":{"description":"原始实例内存大小，单位GB。","type":"number","format":"double","example":"8"},"TargetCore":{"description":"目标实例CPU核数。","type":"integer","format":"int32","example":"8"},"TargetMemory":{"description":"目标实例内存大小，单位GB。","type":"number","format":"double","example":"16"},"TaskTime":{"description":"任务执行时间，格式为Unix时间戳，单位为毫秒。","type":"integer","format":"int64","example":"1684830763000"}}}},"Storage":{"description":"存储扩容历史记录，暂不支持。","type":"array","items":{"description":"实例存储扩容历史信息。","type":"object","example":"None"}},"Resource":{"description":"Redis资源扩容历史记录，暂不支持。","type":"array","items":{"description":"Redis资源扩容历史信息。","type":"object","example":"None"}},"Shard":{"description":"Redis自动分片扩容历史记录，暂不支持。","type":"array","items":{"description":"Redis自动分片扩容历史信息。","type":"object","example":"None"}},"Bandwidth":{"description":"Redis带宽弹性伸缩历史记录，暂不支持。","type":"array","items":{"description":"Redis带宽弹性伸缩历史信息。","type":"object","example":"None"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"Data\\\": {\\n    \\\"InstanceId\\\": \\\"rm-2ze1jdv45i7l6****\\\",\\n    \\\"SpecHistory\\\": [\\n      {\\n        \\\"ScaleType\\\": \\\"SCALE_UP\\\",\\n        \\\"TaskExcuteStatus\\\": true,\\n        \\\"ErrorCode\\\": \\\"Insufficient_Balance\\\",\\n        \\\"OriginInstanceClass\\\": \\\"mysql.n2.large.2c\\\",\\n        \\\"TargetInstanceClass\\\": \\\"mysql.n2.xlarge.2c\\\",\\n        \\\"OriginCore\\\": 4,\\n        \\\"OriginMemory\\\": 8,\\n        \\\"TargetCore\\\": 8,\\n        \\\"TargetMemory\\\": 16,\\n        \\\"TaskTime\\\": 1684830763000\\n      }\\n    ],\\n    \\\"Storage\\\": [\\n      {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      }\\n    ],\\n    \\\"Resource\\\": [\\n      {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      }\\n    ],\\n    \\\"Shard\\\": [\\n      {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      }\\n    ],\\n    \\\"Bandwidth\\\": [\\n      {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"查询实例弹性伸缩历史信息","description":"- 当前仅支持查询RDS MySQL高可用系列云盘版的自动性能扩展历史信息。\n- 使用阿里云或DAS的SDK时，建议使用最新版本。\n\n- 在使用SDK调用DAS服务时，需要将地域指定为cn-shanghai。","requestParamsDescription":"AutoScalingTaskType取值为SPEC时，表示查询自动性能扩展历史，当前仅支持取值为SPEC。"}