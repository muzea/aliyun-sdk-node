{"summary":"调用CreateCloudBenchTasks接口，创建压测任务。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"TaskType","in":"query","schema":{"description":"压测任务类型。取值：\n- **pressure test**（默认）：智能压测，将从源实例上捕获的流量，按照目标实例规格支持的极限速度，在目标实例上进行回放。\n- **smart pressure test**：生成压测，通过分析和学习短时间内在源实例上捕获的流量，生成和原始流量的业务模型和流量分布基本一致的流量进行持续压测，减少从源实例采集数据的时间，降低存储成本和性能开销。","type":"string","required":true,"example":"pressure test"}},{"name":"SrcInstanceId","in":"query","schema":{"description":"源实例ID，仅支持RDS MySQL、PolarDB MySQL版实例，您可通过调用[GetInstanceInspections](~~202857~~)接口获取。\n>当**DstType**为**Instance**时，本参数需要传入。","type":"string","required":true,"example":"rm-2ze1jdv45i7l6****"}},{"name":"Description","in":"query","allowEmptyValue":false,"schema":{"description":"压测任务描述。","type":"string","required":true,"example":"test-das-bench-0501"}},{"name":"SrcPublicIp","in":"query","schema":{"description":"备用参数。","type":"string","required":false,"example":"None"}},{"name":"DstInstanceId","in":"query","schema":{"description":"目标实例ID，仅支持RDS MySQL、PolarDB MySQL版实例，您可通过调用[GetInstanceInspections](~~202857~~)接口获取。\n>当**DstType**为**Instance**时，本参数需要传入。","type":"string","required":false,"example":"rm-2ze1jdv45i7l6****"}},{"name":"GatewayVpcId","in":"query","schema":{"description":"数据库网关的专有网络ID。\n>若**ClientType**取值为**ECS**，则此参数必传入。","type":"string","required":false,"example":"vpc-t4nsnwvpbc1h76ja4****"}},{"name":"GatewayVpcIp","in":"query","schema":{"description":"数据库网关的IP地址或域名。\n>若**ClientType**取值为**ECS**，则此参数必传入。","type":"string","required":false,"example":"172.30.XX.XX"}},{"name":"ClientType","in":"query","schema":{"description":"压测机器类型。取值：\n\n- **ECS**：您需要自己准备[数据库网关](~~64905~~)。\n- **DAS_ECS**：DAS自动购买和部署的ECS。","type":"string","required":true,"example":"ECS"}},{"name":"RequestStartTime","in":"query","schema":{"description":"压测任务的开始时间，格式为Unix时间戳，单位为毫秒。","type":"string","required":false,"example":"1608888296000"}},{"name":"RequestEndTime","in":"query","schema":{"description":"压测任务的结束时间，格式为Unix时间戳，单位为毫秒。","type":"string","required":false,"example":"1608888296001"}},{"name":"RequestDuration","in":"query","schema":{"description":"压测任务的持续时间，单位为毫秒。","type":"string","required":false,"example":"86400000"}},{"name":"Rate","in":"query","schema":{"description":"源实例流量在目标实例上的回放速度，回放速度必须是正整数，取值：**1**~**30**，默认为**1**。","type":"string","required":false,"example":"1"}},{"name":"SmartPressureTime","in":"query","schema":{"description":"生成压测的持续时间，单位为毫秒。\n>当**TaskType**为**smart pressure test**时本参数需要传入。","type":"string","required":false,"example":"86400000"}},{"name":"DtsJobClass","in":"query","schema":{"description":"DTS迁移任务规格，您可以通过调用[DescribeCloudbenchTask](~~230669~~)接口获取。\n>压测任务需要先将源实例基准数据迁移至目标实例，当您新建DTS任务时需要传入本参数。","type":"string","required":false,"example":"medium"}},{"name":"DtsJobId","in":"query","schema":{"description":"DTS迁移任务ID，您可调用[ConfigureDtsJob](~~208399~~)接口获取。\n>已在DTS控制台创建完DTS任务时本参数必传入。","type":"string","required":false,"example":"23127"}},{"name":"SrcSuperAccount","in":"query","schema":{"description":"源端实例高权限账号。取值：**admin**。\n>当**DstType**为**Instance**时，本参数需要传入。","type":"string","required":false,"example":"admin"}},{"name":"SrcSuperPassword","in":"query","schema":{"description":"源端实例高权限账号的密码。\n>当**DstType**为**Instance**时，本参数需要传入。","type":"string","required":false,"example":"test123"}},{"name":"DstSuperAccount","in":"query","schema":{"description":"目标实例的高权限账号。","type":"string","required":false,"example":"root"}},{"name":"DstSuperPassword","in":"query","schema":{"description":"目标实例高权限账号的密码。","type":"string","required":false,"example":"test123"}},{"name":"DstType","in":"query","schema":{"description":"目标实例的类型。取值：\n- **Instance**（默认）：实例ID。\n- **ConnectionString**：实例的连接地址。","type":"string","required":false,"example":"Instance"}},{"name":"DstConnectionString","in":"query","schema":{"description":"目标实例的连接地址，仅支持RDS MySQL、PolarDB MySQL版实例。\n>**DstType**为**ConnectionString**本参数有效。","type":"string","required":false,"example":"rm-de21209****.mysql.rds.aliyuncs.com"}},{"name":"DstPort","in":"query","schema":{"description":"目标实例的端口。\n>**DstType**为**ConnectionString**本参数有效。","type":"string","required":false,"example":"3306"}},{"name":"WorkDir","in":"query","schema":{"description":"压测生成的临时目录。","type":"string","required":false,"example":"/tmp/bench/"}},{"name":"BackupId","in":"query","schema":{"description":"备份集ID，可通过查询备份列表接口[DescribeBackups](~~26273~~)获取。","type":"string","required":false,"example":"229132"}},{"name":"BackupTime","in":"query","schema":{"description":"备份的时间。格式为：yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","required":false,"example":"2021-04-23T13:22:14Z"}},{"name":"Amount","in":"query","schema":{"description":"创建压测任务的总个数，取值：**0**~**30**，默认为**1**。","type":"string","required":false,"example":"1","default":"1"}},{"name":"EndState","in":"query","schema":{"description":"压测任务结束后的状态。取值：\n\n- **WAIT_TARGET**：准备压测的目标实例。\n- **WAIT_DBGATEWAY**：准备压测部署。\n- **WAIT_SQL**：准备全量SQL。\n- **WAIT_LOGIC**：准备开始回放流量。\n\n>当压测任务执行完EndState设置的状态之后，任务将直接到达完成状态。","type":"string","required":false,"example":"WAIT_TARGET"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"返回的状态码。","type":"string","example":"200"},"Message":{"description":"请求返回消息。\n>请求成功时该参数返回**Successful**，请求失败时会返回请求异常信息（如错误码等）。","type":"string","example":"Successful"},"RequestId":{"description":"请求ID。","type":"string","example":"B6D17591-B48B-4D31-9CD6-9B9796B2****"},"Success":{"description":"请求是否执行成功：\n\n- **true**：执行成功。\n- **false**：执行失败。","type":"string","example":"true"},"Data":{"type":"object","properties":{"taskIds":{"description":"详细信息列表。","type":"array","items":{"description":"详细信息列表，包括信息总数、错误码等。","type":"string","example":"\"Data\": { \"total\": 1, \"list\":[...] }, \"Code\": 200, \"Success\": true }"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParams","errorMessage":"The request parameters are invalid."}],"403":[{"errorCode":"NoPermission","errorMessage":"You are not authorized to do this action."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"Successful\\\",\\n  \\\"RequestId\\\": \\\"B6D17591-B48B-4D31-9CD6-9B9796B2****\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"Data\\\": {\\n    \\\"taskIds\\\": [\\n      \\\"\\\\\\\"Data\\\\\\\": { \\\\\\\"total\\\\\\\": 1, \\\\\\\"list\\\\\\\":[...] }, \\\\\\\"Code\\\\\\\": 200, \\\\\\\"Success\\\\\\\": true }\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateCloudBenchTasksResponse>\\n    <Code>200</Code>\\n    <Message>Successful</Message>\\n    <RequestId>B6D17591-B48B-4D31-9CD6-9B9796B2****</RequestId>\\n    <Success>true</Success>\\n    <Data>\\\"Data\\\": { \\\"total\\\": 1, \\\"list\\\":[...] }, \\\"Code\\\": 200, \\\"Success\\\": true }</Data>\\n</CreateCloudBenchTasksResponse>\",\"errorExample\":\"\"}]","title":"创建压测任务","description":"数据库自治服务DAS提供智能压测功能，帮助您验证您的实例规格是否需要扩容，有效应对业务流量高峰。更多信息，请参见[智能压测](~~155068~~)。数据库需满足如下前提条件：\n\n   - 源数据库仅支持RDS MySQL高可用系列或三节点企业系列、PolarDB MySQL版的集群版或高压缩引擎（X-Engine）。\n   - 目标数据库实例为RDS MySQL、PolarDB MySQL版。\n   - 实例已接入DAS，详情请参见[接入阿里云数据库实例](~~65405~~)。\n   - 需开启DAS企业版，详情请参见[DAS企业版](~~190912~~)。"}