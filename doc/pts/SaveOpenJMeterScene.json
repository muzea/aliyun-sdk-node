{"summary":"新建或更新JMeter场景。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]},{"APP":[]},{"PrivateKey":[]},{"BearerToken":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"OpenJMeterScene","in":"query","style":"json","schema":{"title":"场景详情","description":"场景详情。","type":"object","properties":{"SceneName":{"title":"场景名","description":"场景名。","type":"string","required":true,"example":"test"},"EnvironmentId":{"title":"关联的环境id","description":"关联的环境ID。","type":"string","required":false,"example":"I8PZIH"},"JmeterPluginLabel":{"title":"jmeter插件的环境标签","description":"jmeter插件标签。","type":"string","required":false,"example":"test","maxLength":32,"pattern":"^[A-Z0-9]+$"},"TestFile":{"title":"测试文件","description":"测试文件。","type":"string","required":true,"example":"test.jmx"},"FileList":{"title":"文件列表","description":"文件列表。","type":"array","items":{"description":"文件详情。","type":"object","properties":{"FileName":{"title":"文件名","description":"文件名。","type":"string","required":true,"example":"test.jmx"},"FileOssAddress":{"title":"文件公网可访问的oss地址","description":"文件在公网可访问的OSS地址。\n>目前仅支持上海地域。","type":"string","required":true,"example":"https://test.cn-shanghai.aliyuncs.com/test.jmx"},"Md5":{"title":"文件的MD5","description":"文件的MD5。","type":"string","required":false,"example":"DA70F97A74D76B6A3BEF9CC8AE0D89EB"},"FileId":{"title":"文件id","description":"文件ID。","type":"integer","format":"int64","required":false,"example":"61232"},"SplitCsv":{"title":"是否切分，仅针对csv有效","description":"是否切分，仅针对CSV有效。","type":"boolean","required":false,"example":"false"},"FileSize":{"title":"文件大小，单位byte","description":"文件大小，文件总大小不超过500 M，单位Byte。","type":"integer","format":"int64","required":false,"example":"28880"},"Tags":{"title":"文件tag","description":"文件标签。","type":"string","required":false,"example":"空"}},"required":false},"required":true},"JMeterProperties":{"title":"Jmeter属性","description":"JMeter属性。","type":"array","items":{"description":"属性详情。","type":"object","properties":{"Name":{"description":"属性名。","type":"string","required":false,"example":"https.sessioncontext.shared"},"Value":{"description":"属性值。","type":"string","required":false,"example":"false"}},"required":false},"required":false},"RampUp":{"title":"预热时间","description":"预热时间，单位秒。","type":"integer","format":"int32","required":false,"example":"600"},"Steps":{"title":"预热阶段","description":"预热阶段。","type":"integer","format":"int32","required":false,"example":"3"},"Concurrency":{"title":"最大并发","description":"最大并发，并发上限由用户的资源包决定。","type":"integer","format":"int32","required":false,"example":"1000"},"Duration":{"title":"压测持续时间","description":"压测持续时间，最长压测时间不超过一天，单位秒，取值范围为 60~86400。","type":"integer","format":"int32","required":true,"example":"600"},"SceneId":{"title":"场景ID","description":"场景ID。没有传场景ID表示新建场景，传场景ID表示更新场景。","type":"string","required":false,"example":"DYYPZIH"},"IsVpcTest":{"title":"是否为VPC测试，默认为false表示公网测试，此值为true时VPC相关配置才生效","description":"是否为VPC测试。默认为false，表示公网测试。当此值为true时，VPC相关配置才会生效。","type":"boolean","required":false,"example":"true","default":"false"},"DnsCacheConfig":{"title":"DNS配置","description":"DNS配置。","type":"object","properties":{"ClearCacheEachIteration":{"description":"每次循环是否清空缓存。","type":"boolean","required":false,"example":"true"},"DnsServers":{"description":"DNS服务器。","type":"array","items":{"description":"DNS服务器详情。","type":"string","required":false,"example":"[8.8.8.8]"},"required":false},"HostTable":{"description":"域名绑定。","type":"object","required":false,"additionalProperties":{"type":"string","example":"\"ns.server.om\":\"8.8.8.8\"","description":"域名绑定详情。"}}},"required":false},"AgentCount":{"title":"施压引擎数量","description":"施压机数量。","type":"integer","format":"int32","required":true,"example":"2"},"RegionId":{"title":"region的id，VPC压测时配置","description":"地域ID，在VPC压测时配置。","type":"string","required":false,"example":"cn-beijing"},"VpcId":{"title":"vpc的id，VPC压测时配置","description":"VPC的ID，在VPC压测时配置。","type":"string","required":false,"example":"vpc-2ze2sahjdgahsebjkqhf4pyj"},"SecurityGroupId":{"title":"安全组id，VPC压测时配置","description":"安全组ID，在VPC压测时配置。","type":"string","required":false,"example":"sg-2zeid0dd7bhahsgdahspaly"},"VSwitchId":{"title":"交换机id，VPC压测时配置","description":"交换机ID，在VPC压测时配置。","type":"string","required":false,"example":"vsw-2zehsgdhsahw1r"},"SyncTimerType":{"title":"synchronizing timer 类型","description":"JMeter中的同步定时器类型。","type":"string","required":false,"example":"GLOBAL"},"ConstantThroughputTimerType":{"title":"constantThroughputTimerType","description":"JMeter中的固定吞吐量定时器类型。","type":"string","required":false,"example":"GLOBAL"},"Mode":{"title":"压力模式","description":"施压模型。","type":"string","required":true,"example":"CONCURRENCY"},"StartRps":{"description":"起始的RPS，RPS模式下生效。","type":"integer","format":"int32","required":false,"example":"10"},"MaxRps":{"description":"最大RPS，RPS模式下生效。","type":"integer","format":"int32","required":false,"example":"100"},"StartConcurrency":{"description":"起始并发，并发模式下生效。","type":"integer","format":"int32","required":false,"example":"10"},"RegionalCondition":{"description":"施压机地域定制","type":"array","items":{"description":"单地域施压机数量","type":"object","properties":{"Region":{"description":"地域id","type":"string","required":false,"example":"cn-hangzhou"},"Amount":{"description":"施压机数量，所有地域施压机数量之和需要等于场景的AgentCount值。","type":"integer","format":"int32","required":false,"example":"1"}},"required":false},"required":false}},"required":true,"docRequired":true}}],"responses":{"200":{"schema":{"description":"返回示例。","type":"object","properties":{"SceneId":{"title":"场景id","description":"创建或更新的场景ID。","type":"string","example":"DYYPZIH"},"RequestId":{"description":"请求ID。","type":"string","example":"A8E16480-15C1-555A-922F-B736A005E52D"},"Message":{"description":"错误提示信息，若成功则为空。","type":"string","example":"空"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Code":{"description":"系统状态码。","type":"string","example":"200"},"Success":{"description":"是否成功。\n- true：成功\n- false：失败","type":"boolean","example":"true"}}}}},"errorCodes":{"403":[{"errorCode":"SaveOpenJMeterSceneFail","errorMessage":"The scene cannot be empty."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SceneId\\\": \\\"DYYPZIH\\\",\\n  \\\"RequestId\\\": \\\"A8E16480-15C1-555A-922F-B736A005E52D\\\",\\n  \\\"Message\\\": \\\"空\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SaveOpenJMeterSceneResponse>\\n    <SceneId>DYYPZIH</SceneId>\\n    <RequestId>A8E16480-15C1-555A-922F-B736A005E52D</RequestId>\\n    <Message>空</Message>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</SaveOpenJMeterSceneResponse>\",\"errorExample\":\"\"}]","title":"保存场景"}