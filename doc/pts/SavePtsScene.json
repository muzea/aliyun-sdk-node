{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]},{"APP":[]},{"PrivateKey":[]},{"BearerToken":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{},"parameters":[{"name":"Scene","in":"query","style":"json","schema":{"title":"场景详细信息","description":"场景详细信息。","type":"object","properties":{"SceneId":{"title":"场景ID，不传为新建，传递为修改","description":"场景ID。没有传场景ID表示新建场景，传场景ID表示更新场景。","type":"string","required":false,"example":"IUYAHGJ"},"SceneName":{"title":"场景名","description":"场景名。","type":"string","required":true,"example":"test"},"RelationList":{"title":"链路配置","description":"链路配置。","type":"array","items":{"type":"object","properties":{"RelationName":{"title":"链路名","description":"链路名。","type":"string","required":true,"example":"链路1"},"RelationId":{"title":"链路id","description":"链路ID。","type":"string","required":false,"example":"1"},"ApiList":{"title":"链路下的API信息","description":"链路下的API信息。","type":"array","items":{"type":"object","properties":{"ApiName":{"title":"API名","description":"API名称。","type":"string","required":true,"example":"api"},"Url":{"title":"压测URL","description":"压测URL。","type":"string","required":true,"example":"http://www.example.com"},"Method":{"title":"请求方法","description":"请求方法。","type":"string","required":true,"example":"GET"},"ApiId":{"title":"API的id","description":"API的ID。","type":"string","required":false,"example":"1"},"ExportList":{"title":"出参","description":"出参。","type":"array","items":{"type":"object","properties":{"ExportType":{"title":"出参来源 请求体(BODY_TEXT)，请求体(BODY_JSON)，请求头(HEADER)，响应状态码(STATUS_CODE)","description":"出参来源。包括：\n\n- 请求体（BODY_TEXT）\n- 请求体（BODY_JSON）\n- 请求头（HEADER）\n- 响应状态码（STATUS_CODE）","type":"string","required":false,"example":"BODY_JSON"},"ExportName":{"title":"出参名","description":"出参名。","type":"string","required":false,"example":"test"},"Count":{"title":"第几个匹配项，可以是数字 或 random（ BODY_TEXT情况下才需要count）","description":"第几个匹配项。可以是数字或Random，当出参来源为请求体（BODY_TEXT）时需要填写该项。","type":"string","required":false,"example":"0"},"ExportValue":{"title":"出参的解析表达式","description":"出参的解析表达式。","type":"string","required":false,"example":"data.itemlist[0]"}},"required":false},"required":false},"HeaderList":{"title":"headerList","description":"Header请求头。","type":"array","items":{"type":"object","properties":{"HeaderName":{"title":"header参数名","description":"Header参数名。","type":"string","required":false,"example":"Accept-Encoding"},"HeaderValue":{"title":"参数对应的值","description":"参数对应的值。","type":"string","required":false,"example":"gzip, deflate, br"}},"required":false},"required":false},"CheckPointList":{"title":"检查点","description":"检查点。","type":"array","items":{"type":"object","properties":{"Operator":{"title":"检查条件 CheckPointOperator 中","description":"检查点条件。","type":"string","required":false,"example":"ctn"},"ExpectValue":{"title":"检查内容，即期望值","description":"检查内容，即期望值。","type":"string","required":false,"example":"111"},"CheckType":{"title":"检查点类型 响应body(BODY_TEXT)，响应header(HEADER)， 响应状态码(STATUS_CODE) ，出参（EXPORTED_PARAM）","description":"检查点类型。包括：\n\n- 响应Body（BODY_TEXT）\n- 响应Header（HEADER）\n- 响应状态码（STATUS_CODE）\n- 出参（EXPORTED_PARAM）","type":"string","required":false,"example":"EXPORTED_PARAM"},"CheckPoint":{"title":"检查对象 type=HEADER 时，表示header中的字段，type=EXPORTED_PARAM ，表示出参名","description":"检查对象。\n\n当`type=HEADER`时，表示Header中的字段；当`type=EXPORTED_PARAM` 时，表示出参名。","type":"string","required":false,"example":"userId"}},"required":false},"required":false},"TimeoutInSecond":{"title":"API超时时间，单位秒，默认5s，范围[1-60]","description":"API超时时间。单位秒，默认5s，取值范围[1-60]。","type":"integer","format":"int32","required":false,"example":"5"},"Body":{"title":"请求body","description":"请求Body。","type":"object","properties":{"ContentType":{"title":"body 类型，默认 application/x-www-form-urlencoded","description":"Body类型，默认`application/x-www-form-urlencoded`。","type":"string","required":false,"example":"application/x-www-form-urlencoded"},"BodyValue":{"title":"body 的实际内容 形式 {\"key1\":\"value2\",\"key2\":\"value2\"}","description":"body的实际内容。例如， {\"key1\":\"value2\",\"key2\":\"value2\"}。","type":"string","required":false,"example":"{\\\"global\\\":\\\"${global}\\\",\\\"name\\\":\\\"${name}\\\"}"}},"required":false},"RedirectCountLimit":{"title":"重定向次数，只能是0（允许重定向）或者10（不允许重定向）","description":"重定向次数。只能是0（允许重定向）或者10（不允许重定向），用户根据自己的情况配置。","type":"integer","format":"int32","required":true,"example":"0"}},"required":false},"required":true},"FileParameterExplainList":{"title":"链路中的文件参数配置信息","description":"链路中的文件参数配置信息。","type":"array","items":{"type":"object","properties":{"FileName":{"title":"文件名","description":"文件名。","type":"string","required":true,"example":"fileName.csv"},"FileParamName":{"title":"文件使用的参数列名","description":"文件使用的参数列名。","type":"string","required":true,"example":"name,uid,age"},"BaseFile":{"title":"是否作为基准文件","description":"是否作为基准文件。","type":"boolean","required":false,"example":"true"},"CycleOnce":{"title":"文件是否轮询一次","description":"文件是否轮询一次。","type":"boolean","required":false,"example":"true"}},"required":false},"required":false}},"required":false},"required":true},"LoadConfig":{"title":"施压配置","description":"施压配置。","type":"object","properties":{"TestMode":{"title":"施压模式，并发模式(concurrency_mode) 和RPS模式(tps_mode)","description":"施压模式。包括：\n\n- 并发模式（concurrency_mode）\n- RPS模式（tps_mode）","type":"string","required":true,"example":"concurrency_mode"},"Configuration":{"title":"场景施压量级配置信息","description":"场景施压量级配置信息。","type":"object","properties":{"AllRpsBegin":{"title":"所有API的起始RPS总值，均分给每个API，在RPS模式下使用，若不设置该值，则apiLoadConfig必须填写","description":"所有API的起始RPS总值。\n\n均分给每个API，在RPS模式下使用，若不设置该值，则**apiLoadConfig**必须填写。","type":"integer","format":"int32","required":false,"example":"100"},"AllRpsLimit":{"title":"所有API的最大RPS总值，均分给每个API，在RPS模式下使用，若不设置该值，则apiLoadConfig必须填写","description":"所有API的最大RPS总值。\n\n均分给每个API，在RPS模式下使用，若不设置该值，则**apiLoadConfig**必须填写。","type":"integer","format":"int32","required":false,"example":"100"},"AllConcurrencyBegin":{"title":"所有链路的起始并发总值，均分给每个链路，在并发模式下使用，若不设置该值，则relationLoadConfig必须填写","description":"所有链路的起始并发总值。\n\n均分给每个链路，在并发模式下使用，若不设置该值，则**relationLoadConfig**必须填写。","type":"integer","format":"int32","required":false,"example":"100"},"AllConcurrencyLimit":{"title":"所有链路的最大并发总值，均分给每个链路，在并发模式下使用，若不设置该值，则relationLoadConfig必须填写","description":"所有链路的最大并发总值。\n\n均分给每个链路，在并发模式下使用，若不设置该值，则**relationLoadConfig**必须填写。","type":"integer","format":"int32","required":false,"example":"100"}},"required":true},"MaxRunningTime":{"title":"施压时长，单位分钟，[1-1440]","description":"施压时长。单位分钟，取值范围[1-1440]。","type":"integer","format":"int32","required":true,"example":"10"},"AutoStep":{"title":"是否自动递增，只有在并发模式下有效，即 testMode=concurrency_mode 时","description":"是否自动递增。只有在并发模式下有效，即`testMode=concurrency_mode`时有效。","type":"boolean","required":false,"example":"true"},"AgentCount":{"title":"指定机器数，并发必须大于250(RPS大于2000)才能使用，最大扩展机器数不能超过 最大并发/250(最大RPS/2000)","description":"指定机器数。并发需要＞250（RPS＞2000）时使用，最大扩展机器数不能超过最大并发数/250（最大RPS/2000）。","type":"integer","format":"int32","required":false,"example":"1"},"Increment":{"title":"递增百分比，取值范围[10,100]，且是整十倍；只有在并发模式且是自动递增模式下有效，即 testMode=concurrency_mode 且 autoStep=true 时","description":"递增百分比。取值范围[10,100]，取值需是10的倍数。\n\n只在并发模式且同时是自动递增模式下有效，即`testMode=concurrency_mode`且`autoStep=true`时有效。","type":"integer","format":"int32","required":false,"example":"30"},"KeepTime":{"title":"单量级持续时长，单位分钟，一定是小于施压时长 maxRunningTime","description":"单量级持续时长。单位分钟，该时长需小于施压时长**maxRunningTime**。","type":"integer","format":"int32","required":false,"example":"3"},"ApiLoadConfigList":{"title":"API的起始、最大RPS值设置，在RPS模式下使用","description":"API的起始、最大RPS值设置，在RPS模式下使用。","type":"array","items":{"type":"object","properties":{"ApiId":{"title":"apiId","description":"API ID。","type":"string","required":true,"example":"1"},"RpsLimit":{"title":"最大RPS值","description":"最大RPS值。","type":"integer","format":"int32","required":true,"example":"100"},"RpsBegin":{"title":"起始RPS值","description":"起始RPS值。","type":"integer","format":"int32","required":true,"example":"100"}},"required":false},"required":false},"VpcLoadConfig":{"title":"VPC配置","description":"VPC配置。","type":"object","properties":{"VpcId":{"title":"vpcId","description":"VPC ID。","type":"string","required":true,"example":"vpc-akjhsdajgjsfggahjkga"},"VSwitchId":{"title":"交换机的Id","description":"交换机 ID。","type":"string","required":true,"example":"vsw-skjfhlahsljkhsfalkjdoiw"},"SecurityGroupId":{"title":"安全组的Id","description":"安全组 ID。","type":"string","required":true,"example":"sg-jkasgfieiajidsjakjscb"},"RegionId":{"title":"regionId","description":"地域ID。","type":"string","required":true,"example":"cn-beijing"}},"required":false},"RelationLoadConfigList":{"title":"链路的起始、最大并发值设置，在并发模式下使用","description":"链路的起始、最大并发值设置，在并发模式下使用。","type":"array","items":{"type":"object","properties":{"RelationId":{"title":"链路id","description":"链路ID。","type":"string","required":false,"example":"1"},"ConcurrencyLimit":{"title":"最大并发","description":"最大并发数。","type":"integer","format":"int32","required":true,"example":"100"},"ConcurrencyBegin":{"title":"concurrencyBegin","description":"起始并发。","type":"integer","format":"int32","required":true,"example":"100"}},"required":false},"required":false}},"required":true},"AdvanceSetting":{"title":"高级设置","description":"高级设置。","type":"object","properties":{"LogRate":{"title":"日志采样率，[1,50]，且是10的倍数","description":"日志采样率。取值范围[1,50]，大于2时取值需要是10的倍数，即[1,10,20,30,40,50]。","type":"integer","format":"int32","required":false,"example":"1"},"DomainBindingList":{"title":"域名绑定IP关系","description":"域名绑定IP关系。","type":"array","items":{"type":"object","properties":{"Domain":{"title":"域名","description":"域名。","type":"string","required":false,"example":"www.example.com"},"Ips":{"title":"对应的IP","description":"对应的IP。","type":"array","items":{"type":"string","required":false,"example":"[\"192.168.1.1\",\"192.168.1.2\"]"},"required":false}},"required":false},"required":false},"ConnectionTimeoutInSecond":{"title":"超时时间，单位秒","description":"超时时间，单位秒。","type":"integer","format":"int32","required":false,"example":"5"},"SuccessCode":{"title":"新增成功状态码，多个用英文逗号隔开","description":"新增成功状态码，多个需用半角逗号（,）隔开。","type":"string","required":false,"example":"205"}},"required":false},"GlobalParameterList":{"title":"全局自定义参数","description":"全局自定义参数。","type":"array","items":{"type":"object","properties":{"ParamName":{"title":"参数名","description":"参数名。","type":"string","required":false,"example":"global"},"ParamValue":{"title":"全局参数值，不可参数化","description":"全局参数值，不可参数化。","type":"string","required":false,"example":"11111"}},"required":false},"required":false},"FileParameterList":{"title":"文件参数","description":"文件参数。","type":"array","items":{"type":"object","properties":{"FileName":{"title":"文件名","description":"文件名。","type":"string","required":false,"example":"test.csv"},"FileOssAddress":{"title":"文件的oss地址，必须是公网可访问的","description":"您自己的OSS文件地址，要求公网可访问。","type":"string","required":false,"example":"https://jmeter-pts-testing-version.oss-cn-shanghai.aliyuncs.com/param-file.csv"}},"required":false},"required":false}},"required":true}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"错误信息提示，若成功则为空。","type":"string","example":"空"},"RequestId":{"description":"请求ID。","type":"string","example":"A8E16480-15C1-555A-922F-B736A005E52D"},"HttpStatusCode":{"description":"HTTP状态码。","type":"integer","format":"int32","example":"200"},"Code":{"description":"系统状态码。","type":"string","example":"200"},"Success":{"description":"是否成功。\n\n- true：成功\n- false：失败","type":"boolean","example":"true"},"SceneId":{"title":"场景ID","description":"场景ID","type":"string","example":"IUYAHGJ"}}}}},"errorCodes":{"400":[{"errorCode":"ModifyPtsSceneFail","errorMessage":"The scene does not exit"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"空\\\",\\n  \\\"RequestId\\\": \\\"A8E16480-15C1-555A-922F-B736A005E52D\\\",\\n  \\\"HttpStatusCode\\\": 200,\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true,\\n  \\\"SceneId\\\": \\\"IUYAHGJ\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<SavePtsSceneResponse>\\n    <Message>空</Message>\\n    <RequestId>A8E16480-15C1-555A-922F-B736A005E52D</RequestId>\\n    <HttpStatusCode>200</HttpStatusCode>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n    <SceneId>IUYAHGJ</SceneId>\\n</SavePtsSceneResponse>\",\"errorExample\":\"\"}]","title":"保存或修改场景","summary":"保存或修改场景。"}