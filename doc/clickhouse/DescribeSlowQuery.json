{"summary":"调用DescribeSlowQuery接口对指定云数据库ClickHouse云原生版的单个计算组进行慢查询明细诊断操作。","methods":["get","post"],"schemes":["https","http"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"parameters":[{"name":"StartTime","in":"query","schema":{"title":"时间窗口起点 UTC时间 默认值当前时间减1小时","description":"开始时间。格式：yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","required":false,"example":"2021-02-02T08:30:00Z"}},{"name":"EndTime","in":"query","schema":{"title":"时间窗口终点 UTC时间 默认值当前时间","description":"结束时间。格式：yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","required":false,"example":"2021-02-02T09:30:00Z"}},{"name":"QueryDurationMs","in":"query","schema":{"title":"查询最小持续时间 毫秒 最小值1000 默认值1000","description":"最短的查询耗时。最小值为**1000**，默认值为**1000**。单位：毫秒。返回参数将返回超过该耗时的查询。","type":"integer","format":"int64","required":false,"example":"1000"}},{"name":"PageNumber","in":"query","schema":{"title":"分页码 从1开始 默认值1","description":"页码，取值为大于0且不超过Integer数据类型的最大值，默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"title":"分页大小 默认值30","description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"VirtualWareHouseId","in":"query","schema":{"title":"计算组ID","description":"计算组ID。您可以通过调用[ListVirtualWareHouses](~~419058~~)接口查询目标地域下所有的计算组信息，包括计算组ID。","type":"string","required":true,"example":"vw-uf62965t8lt50****"}},{"name":"DBClusterId","in":"query","schema":{"description":"集群ID。您可以通过调用[ListClusters](~~419072~~)接口查询目标地域下所有的集群信息，包括集群ID。","type":"string","required":false,"example":"cc-bp1qx68m06981****"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。您可以通过调用[DescribeRegions](~~416820~~)接口查询地域ID。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"title":"PaginationResponse<List<SlowQueryRecord>>","description":"PaginationResponse<List<SlowQueryRecord>>","type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"integer","format":"int32","example":"1"},"PageNumber":{"description":"页码，取值为大于0且不超过Integer数据类型的最大值，默认值为**1**。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页记录数，取值：\n- **30**（默认值）\n- **50**\n- **100**","type":"integer","format":"int32","example":"30"},"Data":{"type":"array","items":{"type":"object","properties":{"InitialQueryId":{"title":"查询ID","description":"查询ID。","type":"string","example":"7c28bbbb-753b-4eba-98b1-efcbe2b9bdf6"},"InitialUser":{"title":"查询用户","description":"查询用户。","type":"string","example":"test"},"InitialAddress":{"title":"查询源地址","description":"发起查询的客户端IP地址。","type":"string","example":"::ffff:10.1.XX.XX"},"QueryDurationMs":{"title":"查询持续时间 毫秒","description":"查询耗时。单位：毫秒。","type":"integer","format":"int64","example":"2000"},"QueryStartTime":{"title":"查询起始时间 UTC时间","description":"开始时间。格式：yyyy-MM-ddTHH:mm:ssZ（UTC时间）。","type":"string","example":"2021-02-02T08:30:00Z"},"Query":{"description":"查询语句。","type":"string","example":"select * from test order by score limit 1;"},"ReadRows":{"description":"扫描数据行数。","type":"integer","format":"int64","example":"1000000"},"ReadBytes":{"description":"扫描数据大小。单位：Byte。","type":"integer","format":"int64","example":"9141300000"},"ResultRows":{"description":"结果数据行数。","type":"integer","format":"int64","example":"1"},"ResultBytes":{"description":"结果数据大小。单位：Byte。","type":"integer","format":"int64","example":"8174"},"MemoryUsage":{"title":"查询内存使用峰值","description":"查询内存使用峰值。单位：Byte。","type":"integer","format":"int64","example":"1024000000"},"QueryState":{"title":"查询状态","description":"查询状态。取值说明：\n- **QueryFinish**：查询结束。\n- **Processing**：查询运行中。","type":"string","example":"QueryFinish"}}}},"RequestId":{"description":"请求ID。","type":"string","example":"48CBEEBE-FA07-5A06-8BA4-567B92ADD6A0"}}}}},"errorCodes":{"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error, exception or failure."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"TotalCount\\\": 1,\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 30,\\n  \\\"Data\\\": [\\n    {\\n      \\\"InitialQueryId\\\": \\\"7c28bbbb-753b-4eba-98b1-efcbe2b9bdf6\\\",\\n      \\\"InitialUser\\\": \\\"test\\\",\\n      \\\"InitialAddress\\\": \\\"::ffff:10.1.XX.XX\\\",\\n      \\\"QueryDurationMs\\\": 2000,\\n      \\\"QueryStartTime\\\": \\\"2021-02-02T08:30:00Z\\\",\\n      \\\"Query\\\": \\\"select * from test order by score limit 1;\\\",\\n      \\\"ReadRows\\\": 1000000,\\n      \\\"ReadBytes\\\": 9141300000,\\n      \\\"ResultRows\\\": 1,\\n      \\\"ResultBytes\\\": 8174,\\n      \\\"MemoryUsage\\\": 1024000000,\\n      \\\"QueryState\\\": \\\"QueryFinish\\\"\\n    }\\n  ],\\n  \\\"RequestId\\\": \\\"48CBEEBE-FA07-5A06-8BA4-567B92ADD6A0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSlowQueryResponse>\\n    <TotalCount>1</TotalCount>\\n    <PageNumber>1</PageNumber>\\n    <PageSize>30</PageSize>\\n    <Data>\\n        <InitialQueryId>7c28bbbb-753b-4eba-98b1-efcbe2b9bdf6</InitialQueryId>\\n        <InitialUser>test</InitialUser>\\n        <InitialAddress>::ffff:10.1.XX.XX</InitialAddress>\\n        <QueryDurationMs>2000</QueryDurationMs>\\n        <QueryStartTime>2021-02-02T08:30:00Z</QueryStartTime>\\n        <Query>select * from test order by score limit 1;</Query>\\n        <ReadRows>1000000</ReadRows>\\n        <ReadBytes>9141300000</ReadBytes>\\n        <ResultRows>1</ResultRows>\\n        <ResultBytes>8174</ResultBytes>\\n        <MemoryUsage>1024000000</MemoryUsage>\\n        <QueryState>QueryFinish</QueryState>\\n    </Data>\\n    <RequestId>48CBEEBE-FA07-5A06-8BA4-567B92ADD6A0</RequestId>\\n</DescribeSlowQueryResponse>\",\"errorExample\":\"\"}]","title":"查询计算组的慢查询"}