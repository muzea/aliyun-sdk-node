{"methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"abilityTreeCode":"197520","abilityTreeNodes":["FEATUREdms1KPGDT"]},"parameters":[{"name":"GatewayId","in":"formData","schema":{"description":"网关ID。","type":"string","required":true,"docRequired":true,"example":"dg-8d9bqu1030m****"}},{"name":"Host","in":"formData","schema":{"description":"通过网关所在宿主机去访问数据库的地址。","type":"string","required":true,"docRequired":true,"example":"127.0.XX.XX"}},{"name":"Port","in":"formData","schema":{"description":"通过网关所在宿主机去访问数据库的端口。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"3306"}},{"name":"DbType","in":"formData","schema":{"description":"数据库类型。","type":"string","required":false,"docRequired":true,"example":"MYSQL"}},{"name":"DbUserName","in":"formData","schema":{"description":"访问数据库所用的用户名。","type":"string","required":false,"docRequired":true,"example":"test_usr"}},{"name":"DbPassword","in":"formData","schema":{"description":"访问数据库所用的密码。\n\n> 仅用于验证数据库是否可以连接成功，不做任何其他工作。","type":"string","required":false,"docRequired":true,"example":"1234!2#%A***"}},{"name":"DbDescription","in":"formData","schema":{"description":"数据库的描述。","type":"string","required":false,"example":"测试"}},{"name":"RegionId","in":"formData","schema":{"description":"数据库所在地域。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"DbName","in":"formData","schema":{"description":"数据库名称。","type":"string","required":false,"example":"test"}},{"name":"ClientToken","in":"formData","schema":{"description":"该参数值由客户端生成，用于确保请求的幂等性。该参数值在不同请求间是唯一的，并且区分大小写，长度不超过64个ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCzxxxx"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"响应码。","type":"string","example":"200"},"ErrorMsg":{"description":"报错信息。","type":"string","example":"SYSTEM_ERR"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"A8B2EED2-70EF-51F1-8820-914F9AC9BAD2"},"Success":{"description":"请求是否成功，返回值如下：\n- **true**：请求成功\n- **false**：请求失败","type":"boolean","example":"true"},"DbInstance":{"description":"数据库连接实例列表。","type":"object","properties":{"Port":{"title":"通过网关所在宿主机去访问数据库的端口。","description":"通过网关所在宿主机去访问数据库的端口。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"3306"},"Host":{"title":"通过网关所在宿主机去访问数据库的地址。","description":"通过网关所在宿主机去访问数据库的地址。","type":"string","required":true,"docRequired":true,"example":"127.0.0.1"},"GatewayId":{"title":"网关ID。","description":"网关ID。","type":"string","deprecated":false,"required":true,"example":"dg-8d9bqu1030mhk0ix","pattern":"","default":""},"DbType":{"title":"数据库类型。","description":"数据库类型。","type":"string","deprecated":false,"required":false,"example":"MYSQL","pattern":"","default":""},"RegionId":{"title":"所在的地域编号","description":"地域ID。","type":"string","deprecated":false,"required":true,"example":"cn-hangzhou","pattern":"","default":""},"ConnectHost":{"title":"连接使用的主机","description":"数据库连接在DG服务侧的映射地址。","type":"string","deprecated":false,"example":"10.0.0.1","pattern":"","default":""},"ConnectPort":{"description":"数据库连接在DG服务侧的映射端口。","type":"integer","format":"int32","deprecated":false,"example":"32875"},"ServiceType":{"title":"服务类型","description":"DG服务器类型。","type":"string","deprecated":false,"example":"ECS","pattern":"","default":""},"NetworkType":{"title":"网络类型","description":"DG服务器网络类型。","type":"string","deprecated":false,"example":"VPC","pattern":"","default":""},"NodeId":{"title":"节点的ID","description":"DG服务器节点ID。","type":"string","deprecated":false,"example":"dg-node-r0SR-E90lsIRNgj6B_9m","pattern":"","default":""},"InstanceStatus":{"title":"当前实例的状态","description":"当前DG网关实例的状态。","type":"string","deprecated":false,"example":"SUCCESS","pattern":"","default":"","enum":["SUCCESS","EXCEPTION","INIT","DELETED"]},"DbDescription":{"title":"备注信息","description":"备注信息","type":"string","deprecated":false,"example":"test","pattern":"","default":""},"InstanceId":{"title":"数据库实例ID","description":"数据库连接实例ID。","type":"string","deprecated":false,"example":"dg-db-rgfg9p4586o7y79b","pattern":"","default":""},"GatewayName":{"title":"网关名称","description":"网关名称。","type":"string","deprecated":false,"example":"测试","pattern":"","default":""},"UserId":{"title":"用户ID","description":"用户ID。","type":"string","deprecated":false,"example":"167xxxxxxxxxx","pattern":"","default":""},"ParentId":{"title":"归属主账号ID","description":"归属主账号ID。","type":"string","deprecated":false,"example":"167xxxxxxxxxx","pattern":"","default":""},"VpcId":{"title":"VpcId","description":"DG服务器所在VpcId","type":"string","deprecated":false,"example":"vpc-xxxxx","pattern":"","default":""},"VpcInstanceId":{"title":"VpcInstanceId","description":"DG服务器Vpc实例ID","type":"string","deprecated":false,"example":"i-xxxxxxx","pattern":"","default":""}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"ErrorMsg\\\": \\\"SYSTEM_ERR\\\",\\n  \\\"RequestId\\\": \\\"A8B2EED2-70EF-51F1-8820-914F9AC9BAD2\\\",\\n  \\\"Success\\\": true,\\n  \\\"DbInstance\\\": {\\n    \\\"Port\\\": 3306,\\n    \\\"Host\\\": \\\"127.0.0.1\\\",\\n    \\\"GatewayId\\\": \\\"dg-8d9bqu1030mhk0ix\\\",\\n    \\\"DbType\\\": \\\"MYSQL\\\",\\n    \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n    \\\"ConnectHost\\\": \\\"10.0.0.1\\\",\\n    \\\"ConnectPort\\\": 32875,\\n    \\\"ServiceType\\\": \\\"ECS\\\",\\n    \\\"NetworkType\\\": \\\"VPC\\\",\\n    \\\"NodeId\\\": \\\"dg-node-r0SR-E90lsIRNgj6B_9m\\\",\\n    \\\"InstanceStatus\\\": \\\"SUCCESS\\\",\\n    \\\"DbDescription\\\": \\\"test\\\",\\n    \\\"InstanceId\\\": \\\"dg-db-rgfg9p4586o7y79b\\\",\\n    \\\"GatewayName\\\": \\\"测试\\\",\\n    \\\"UserId\\\": \\\"167xxxxxxxxxx\\\",\\n    \\\"ParentId\\\": \\\"167xxxxxxxxxx\\\",\\n    \\\"VpcId\\\": \\\"vpc-xxxxx\\\",\\n    \\\"VpcInstanceId\\\": \\\"i-xxxxxxx\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"通过DG接入数据库","summary":"调用此API可以将他云或本地的数据库接入至阿里云。"}