{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update","abilityTreeCode":"94009","abilityTreeNodes":["FEATUREoosCPYH5Z"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"TemplateName","in":"query","schema":{"description":"模板名称。内容限制为字母、数字、中划线、下划线，长度200字符，且不能以ALIYUN、ACS、ALIBABA、ALICLOUD开头。","type":"string","required":true,"docRequired":true,"example":"MyTemplate"}},{"name":"Content","in":"query","schema":{"description":"模板内容。JSON或YAML格式，长度限制为 64 KB。","type":"string","required":true,"docRequired":true,"example":"{\n  \"FormatVersion\": \"OOS-2019-06-01\",\n  \"Description\": {\n    \"en\": \"Bulky starts the ECS instances\",\n    \"zh-cn\": \"批量启动ECS实例\",\n    \"name-en\": \"Bulky Start Instances\",\n    \"name-zh-cn\": \"批量启动实例\"\n  },\n  \"Parameters\": {\n    \"regionId\": {\n      \"Type\": \"String\",\n      \"Label\": {\n        \"en\": \"RegionId\",\n        \"zh-cn\": \"地域ID\"\n      },\n      \"AssociationProperty\": \"RegionId\",\n      \"Default\": \"{{ ACS::RegionId }}\"\n    },\n    \"targets\": {\n      \"Type\": \"Json\",\n      \"Label\": {\n        \"en\": \"TargetInstance\",\n        \"zh-cn\": \"目标实例\"\n      },\n      \"AssociationProperty\": \"Targets\",\n      \"AssociationPropertyMetadata\": {\n        \"ResourceType\": \"ALIYUN::ECS::Instance\",\n        \"RegionId\": \"regionId\"\n      }\n    },\n    \"rateControl\": {\n      \"Label\": {\n        \"en\": \"RateControl\",\n        \"zh-cn\": \"任务执行的并发比率\"\n      },\n      \"Type\": \"Json\",\n      \"AssociationProperty\": \"RateControl\",\n      \"Default\": {\n        \"Mode\": \"Concurrency\",\n        \"MaxErrors\": 0,\n        \"Concurrency\": 10\n      }\n    },\n    \"OOSAssumeRole\": {\n      \"Label\": {\n        \"en\": \"OOSAssumeRole\",\n        \"zh-cn\": \"OOS扮演的RAM角色\"\n      },\n      \"Type\": \"String\",\n      \"Default\": \"OOSServiceRole\"\n    }\n  },\n  \"RamRole\": \"{{ OOSAssumeRole }}\",\n  \"Tasks\": [\n    {\n      \"Name\": \"getInstance\",\n      \"Description\": {\n        \"en\": \"Views the ECS instances\",\n        \"zh-cn\": \"获取ECS实例\"\n      },\n      \"Action\": \"ACS::SelectTargets\",\n      \"Properties\": {\n        \"ResourceType\": \"ALIYUN::ECS::Instance\",\n        \"RegionId\": \"{{ regionId }}\",\n        \"Filters\": [\n          \"{{ targets }}\"\n        ]\n      },\n      \"Outputs\": {\n        \"instanceIds\": {\n          \"Type\": \"List\",\n          \"ValueSelector\": \"Instances.Instance[].InstanceId\"\n        }\n      }\n    },\n    {\n      \"Name\": \"startInstance\",\n      \"Action\": \"ACS::ECS::StartInstance\",\n      \"Description\": {\n        \"en\": \"Starts the ECS instances\",\n        \"zh-cn\": \"启动实例\"\n      },\n      \"Properties\": {\n        \"regionId\": \"{{ regionId }}\",\n        \"instanceId\": \"{{ ACS::TaskLoopItem }}\"\n      },\n      \"Loop\": {\n        \"RateControl\": \"{{ rateControl }}\",\n        \"Items\": \"{{ getInstance.instanceIds }}\"\n      }\n    }\n  ],\n  \"Outputs\": {\n    \"instanceIds\": {\n      \"Type\": \"List\",\n      \"Value\": \"{{ getInstance.instanceIds }}\"\n    }\n  }\n}"}},{"name":"Tags","in":"query","style":"json","schema":{"description":"标签键及值，键值对数量限制为1至20。","type":"object","required":false,"example":"{\"k1\":\"k2\",\"k2\":\"v2\"}"}},{"name":"VersionName","in":"query","schema":{"description":"模版版本名称。","type":"string","required":false,"example":"v2"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmxsn4m4******"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID","type":"string","example":"2075899A-585D-4A41-A9B2-28DF4F534F"},"Template":{"description":"模板元信息","type":"object","properties":{"Hash":{"description":"模板内容的SHA256","type":"string","example":"4bc7d7a21b3e003434b9c223f6e6d2578b5ebfeb5be28c1fcf8a8a1b11907bb4"},"UpdatedDate":{"description":"模板更新时间","type":"string","example":"2019-05-16T10:26:14Z"},"UpdatedBy":{"description":"模板更新者","type":"string","example":"root(1309000)"},"Tags":{"description":"标签键及值，键值对数量限制为1至20。","type":"object","example":"{\"k1\":\"k2\",\"k2\":\"v2\"}"},"TemplateName":{"description":"模板名称","type":"string","example":"MyTemplate"},"TemplateVersion":{"description":"模板版本。以“v”+数字的形式，数字从1开始。","type":"string","example":"v2"},"TemplateFormat":{"description":"模板格式。系统字段判断，为JSON或YAML。","type":"string","example":"JSON"},"Description":{"description":"模板说明","type":"string","example":"Describe instances of given status"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-acfmxsn4m4******"},"CreatedBy":{"description":"模板创建者","type":"string","example":"root(130920000)"},"CreatedDate":{"description":"模板创建时间","type":"string","example":"2019-05-16T10:26:14Z"},"TemplateId":{"description":"模板ID","type":"string","example":"t-94753deed38"},"HasTrigger":{"description":"是否成功触发","type":"boolean","example":"true"},"ShareType":{"description":"模板共享类型。目前用户创建的模板的共享类型均为 **Private**。","type":"string","example":"Private"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2075899A-585D-4A41-A9B2-28DF4F534F\\\",\\n  \\\"Template\\\": {\\n    \\\"Hash\\\": \\\"4bc7d7a21b3e003434b9c223f6e6d2578b5ebfeb5be28c1fcf8a8a1b11907bb4\\\",\\n    \\\"UpdatedDate\\\": \\\"2019-05-16T10:26:14Z\\\",\\n    \\\"UpdatedBy\\\": \\\"root(1309000)\\\",\\n    \\\"Tags\\\": {\\n      \\\"k1\\\": \\\"k2\\\",\\n      \\\"k2\\\": \\\"v2\\\"\\n    },\\n    \\\"TemplateName\\\": \\\"MyTemplate\\\",\\n    \\\"TemplateVersion\\\": \\\"v2\\\",\\n    \\\"TemplateFormat\\\": \\\"JSON\\\",\\n    \\\"Description\\\": \\\"Describe instances of given status\\\",\\n    \\\"ResourceGroupId\\\": \\\"rg-acfmxsn4m4******\\\",\\n    \\\"CreatedBy\\\": \\\"root(130920000)\\\",\\n    \\\"CreatedDate\\\": \\\"2019-05-16T10:26:14Z\\\",\\n    \\\"TemplateId\\\": \\\"t-94753deed38\\\",\\n    \\\"HasTrigger\\\": true,\\n    \\\"ShareType\\\": \\\"Private\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateTemplateResponse>\\n    <RequestId>2075899A-585D-4A41-A9B2-28DF4F534F</RequestId>\\n    <Template>\\n        <Hash>4bc7d7a21b3e003434b9c223f6e6d2578b5ebfeb5be28c1fcf8a8a1b11907bb4</Hash>\\n        <UpdatedDate>2019-05-16T10:26:14Z</UpdatedDate>\\n        <UpdatedBy>root(1309000)</UpdatedBy>\\n        <TemplateName>MyTemplate</TemplateName>\\n        <TemplateVersion>v2</TemplateVersion>\\n        <TemplateFormat>JSON</TemplateFormat>\\n        <Description>Describe instances of given status</Description>\\n        <ResourceGroupId>rg-acfmxsn4m4******</ResourceGroupId>\\n        <CreatedBy>root(130920000)</CreatedBy>\\n        <CreatedDate>2019-05-16T10:26:14Z</CreatedDate>\\n        <TemplateId>t-94753deed38</TemplateId>\\n        <HasTrigger>true</HasTrigger>\\n        <Tags>\\n            <k1>v1</k1>\\n            <k2>v2</k2>\\n        </Tags>\\n        <ShareType>Private</ShareType>\\n    </Template>\\n</UpdateTemplateResponse>\",\"errorExample\":\"\"}]","title":"更新一个已经存在的模板","summary":"更新一个已经存在的模板。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}