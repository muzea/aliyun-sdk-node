{"summary":"创建工作流任务。","path":"/api/v1/pipelineruns","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":[],"produces":[],"deprecated":false,"parameters":[{"name":"body","in":"body","style":"json","schema":{"description":"工作流任务。","type":"object","properties":{"PipelineId":{"title":"Pipeline的id; PipelineId和PipelineManifest 二选一","description":"工作流的ID。\nPipelineId和PipelineManifest二选一。\n\n","type":"string","required":false,"example":"flow-rer7y***"},"Name":{"title":"Run的名字，若为空，则自动生成名字","description":"工作流任务名字。若为空，则自动生成名字。\n\n","type":"string","required":false,"example":"testName"},"PipelineManifest":{"title":"Pipeline内容; PipelineId和PipelineManifest 二选一一","description":"工作流定义，具体样例见下方请求参数补充说明。\nPipelineId和PipelineManifest二选一。","type":"string","required":false,"example":"apiVersion: \"core/v1\"*********\n"},"Arguments":{"title":"参数","description":"参数。\n\n","type":"string","required":false,"example":"arguments:   parameters:   - name: \"execution_maxcompute\"     value:       endpoint: \"http://service***\"       odpsProject: \"pai***\""},"NoConfirmRequired":{"title":"true代表直接启动; false代表只创建run但先不启动","description":"是否直接启动pipelineRun，取值如下：\n- true代表直接启动（默认）。\n- false代表只创建run，但先不启动。","type":"boolean","required":false,"example":"true"},"WorkspaceId":{"title":"项目空间id","description":"工作空间ID。\n\n","type":"string","required":true,"example":"84***"},"SourceType":{"title":"来源，支持如下值：SDK; PAI_STUDIO; M6; UNKNOWN;","description":"工作流任务来源类型，支持如下值：\n- UNKNOWN（默认）\n- SDK\n- DESIGNER\n- M6","type":"string","required":false,"example":"UNKNOWN"},"SourceId":{"title":"实验id","description":"来源ID。\n\n","type":"string","required":false,"example":"experiment-ybpy***"},"Options":{"title":"选项，json格式","description":"创建工作流任务选项，格式为JSON。\n\n","type":"string","required":false,"example":"{\"mlflow\":{\"experimentId\":\"exp-1jdk***\"}}"},"Accessibility":{"title":"PUBLIC 公开；PRIVATE 私有","description":"工作空间可见性：\n- PUBLIC（默认）\n- PRIVATE\n\n","type":"string","required":false,"example":"PUBLIC"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回结构体。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。\n\n","type":"string","example":"DA869D1B-035A-43B2-ACC1-C56681BD9FAA"},"PipelineRunId":{"title":"run的id","description":"工作流任务ID。\n\n","type":"string","example":"flow-rbvg***"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"DA869D1B-035A-43B2-ACC1-C56681BD9FAA\\\",\\n  \\\"PipelineRunId\\\": \\\"flow-rbvg***\\\"\\n}\",\"type\":\"json\"}]","title":"创建工作流任务\t","requestParamsDescription":"工作流定义样例：该工作流由读数据表（`data_source`），类型转换（`type_transform`）组成。\n\n```\napiVersion: \"core/v1\"\nmetadata:\n  provider: \"1557702098******\"\n  version: \"v1\"\n  identifier: \"my_pipeline\"\n  name: \"source-transform\"\nspec:\n  inputs:\n    parameters:\n    - name: \"execution_maxcompute\"\n      type: \"Map\"\n  pipelines:\n  - apiVersion: \"core/v1\"\n    metadata:\n      provider: \"pai\"\n      version: \"v1\"\n      identifier: \"data_source\"\n      name: \"data_source\"\n      displayName: \"读数据表-1\"\n    spec:\n      arguments:\n        parameters:\n        - name: \"inputTableName\"\n          value: \"pai_online_project.wumai_data\"\n        - name: \"partition\"\n          value: \"20220101\"\n        - name: \"execution\"\n          from: \"{{inputs.parameters.execution_maxcompute}}\"\n  - apiVersion: \"core/v1\"\n    metadata:\n      provider: \"pai\"\n      version: \"v1\"\n      identifier: \"type_transform\"\n      name: \"type_transform\"\n      displayName: \"类型转换-1\"\n    spec:\n      arguments:\n        artifacts:\n        - name: \"inputTable\"\n          from: \"{{pipelines.data_source.outputs.artifacts.outputTable}}\"\n        parameters:\n        - name: \"cols_to_double\"\n          value: \"time,hour,pm2,pm10,so2,co,no2\"\n        - name: \"execution\"\n          from: \"{{inputs.parameters.execution_maxcompute}}\"\n      dependencies:\n      - \"data_source\"\n```"}