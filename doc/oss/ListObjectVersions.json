{"summary":"列出Bucket中包括删除标记（Delete Marker）在内的所有Object的版本信息。","path":"/?versions","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/xml"],"produces":["application/xml"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"bucket","in":"host","schema":{"description":"Bucket名称。","type":"string","required":true,"example":"examplebucket"}},{"name":"delimiter","in":"query","schema":{"title":"The character used to group objects by name","description":"对Object名字进行分组的字符。所有Object名字包含指定的前缀（prefix），第一次出现delimiter字符之间的Object作为一组元素（即CommonPrefixes）。\n如果将prefix设为文件夹名称后，再把delimiter设置为正斜线（/），则只返回该文件夹下的文件，该文件夹下的子文件名在CommonPrefixes中返回，子文件夹下递归的文件和文件夹不显示。\n\n默认值：无","type":"string","required":false,"example":"/"}},{"name":"key-marker","in":"query","schema":{"title":"The name of the object from which the list operation begins","description":"设定结果从key-marker之后按字母序开始返回，与version-id-marker组合使用。\n参数的长度必须小于1024字节。\n\n默认值：无\n\n>如果version-id-marker不为空，则key-marker不能为空","type":"string","required":false,"example":"example"}},{"name":"version-id-marker","in":"query","schema":{"title":"The version id of the object from which the list operation begins","description":"设定结果从key-marker对象的version-id-marker之后按新旧版本排序开始返回。如果version-id-marker未设定，则默认从key-marker按字母序排序的下一个Key的第一个版本开始返回。\n\n默认值：无\n\n有效值：版本ID","type":"string","required":false,"example":"CAEQMxiBgICbof2D0BYiIGRhZjgwMzJiMjA3MjQ0ODE5MWYxZDYwMzJlZjU1****"}},{"name":"max-keys","in":"query","schema":{"title":"The maximum number of objects to return","description":"限定此次返回Object的最大个数。\n如果因为max-keys的设定无法一次完成列举，返回结果会附加`NextKeyMarker`和`NextVersionIdMarker`作为下一次列举的marker。列举结果中包含`NextKeyMarker`和`NextVersionIdMarker`的值。\n取值：大于0小于1000\n默认值：100","type":"integer","format":"int64","required":false,"example":"100"}},{"name":"prefix","in":"query","schema":{"title":"The prefix that the returned object names must contain","description":"限定返回的Object Key必须以prefix作为前缀。\n\n- prefix的长度必须小于1024字节。\n- 使用prefix查询时，返回结果的Key仍会包含prefix。\n\n如果将prefix设为某个文件夹名，则列举以此prefix开头的文件，即该文件夹下递归的所有的文件和子文件夹。\n\n默认值：无","type":"string","required":false,"example":"fun"}},{"name":"encoding-type","in":"query","schema":{"title":"The encoding type of the object name in the response","description":"对返回的内容进行编码并指定编码类型。\n默认值：无\n可选值：URL\n>delimiter、marker、prefix、NextMarker以及Key使用UTF-8字符。如果delimiter、marker、prefix、NextMarker以及Key中包含XML\n                                    1.0标准不支持的控制字符，您可以通过指定encoding-type对返回结果中的Delimiter、Marker、Prefix、NextMarker以及Key进行编码。","required":false,"$ref":"#/components/schemas/EncodeType"}}],"responses":{"200":{"schema":{"description":"GetBucketVersions接口的响应体。","type":"object","properties":{"ListVersionsResult":{"description":"保存GetBucketVersions请求结果的容器。","type":"object","properties":{"Name":{"title":"The bucket name","description":"Bucket名称。","type":"string","example":"example-bucket"},"Prefix":{"title":"The prefix that the names of returned objects must contain","description":"本次查询结果的前缀。","type":"string","example":"logs/"},"KeyMarker":{"title":"Indicates the object from which the operation starts","description":"标识此次GetBucketVersions的起点Object。","type":"string","example":"abc"},"VersionIdMarker":{"title":"This parameter is returned with KeyMarker together to indicate the version from which the operation starts","description":"与KeyMarker参数一同使用，以指定ListObjectVersions（GetBucketVersions）的起点。","type":"string","example":"CAEQGBiBgIC_jq7P9xYiIDRiZWJkNjY2Y2Q4NDQ5ZTI5ZGE5ODIxMTIyZThl****"},"MaxKeys":{"title":"The maximum number of returned objects in the response","description":"响应请求内返回结果的最大数目。","type":"integer","format":"int64","example":"20"},"Delimiter":{"description":"用于对Object名字进行分组的字符。所有名字包含指定的前缀且第一次出现Delimiter字符之间的Object作为一组元素CommonPrefixes。","type":"string","example":"/"},"IsTruncated":{"title":"Indicates whether the returned results are truncated","description":"指明是否已返回所有结果。\n\ntrue：表示本次没有返回全部结果。\n\nfalse：表示本次已返回全部结果。","type":"boolean","example":"true"},"EncodingType":{"description":"指明返回结果中编码使用的类型。如果请求的参数中指定了encoding-type，则表示对返回结果中的Delimiter、Marker、Prefix、NextMarker和Key这些元素进行编码。","type":"string","example":"url"},"NextKeyMarker":{"description":"如果本次没有返回全部结果，响应请求中将包含NextKeyMarker元素，用于标明接下来请求的key-marker。","type":"string","example":"def"},"NextVersionIdMarker":{"description":"如果本次没有返回全部结果，响应请求中将包含NextVersionIdMarker元素，用于标明接下来请求的version-id-marker。","type":"string","example":"CAEQMxiBgICbof2D0BYiIGRhZjgwMzJiMjA3MjQ0ODE5MWYxZDYwMzJlZjU1****"},"Version":{"title":"The container that stores the versions of objects except for delete markers","description":"保存除删除标记以外的Object版本信息的列表。","type":"array","items":{"description":"保存除删除标记以外的Object版本的容器。","$ref":"#/components/schemas/ObjectVersion"}},"DeleteMarker":{"title":"The container that stores delete markers","description":"保存删除标记信息的列表。","type":"array","items":{"description":"保存删除标记的容器。","$ref":"#/components/schemas/DeleteMarkerEntry"}},"CommonPrefixes":{"title":"Objects whose names contain the same string that ranges from the prefix to the next occurrence of the delimiter are grouped as a single result element","description":"如果请求中指定了delimiter参数，则OSS返回的响应中包含CommonPrefixes元素。该元素标明以delimiter结尾，并有共同前缀的Object名称的集合。","type":"array","items":{"description":"以delimiter结尾，并有共同前缀的Object名称。","$ref":"#/components/schemas/CommonPrefix"}}}}}}},"4xx":{},"5xx":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ListVersionsResult\\\": {\\n    \\\"Name\\\": \\\"example-bucket\\\",\\n    \\\"Prefix\\\": \\\"logs/\\\",\\n    \\\"KeyMarker\\\": \\\"abc\\\",\\n    \\\"VersionIdMarker\\\": \\\"CAEQGBiBgIC_jq7P9xYiIDRiZWJkNjY2Y2Q4NDQ5ZTI5ZGE5ODIxMTIyZThl****\\\",\\n    \\\"MaxKeys\\\": 20,\\n    \\\"Delimiter\\\": \\\"/\\\",\\n    \\\"IsTruncated\\\": true,\\n    \\\"EncodingType\\\": \\\"url\\\",\\n    \\\"NextKeyMarker\\\": \\\"def\\\",\\n    \\\"NextVersionIdMarker\\\": \\\"CAEQMxiBgICbof2D0BYiIGRhZjgwMzJiMjA3MjQ0ODE5MWYxZDYwMzJlZjU1****\\\",\\n    \\\"Version\\\": [\\n      {\\n        \\\"Key\\\": \\\"\\\",\\n        \\\"VersionId\\\": \\\"\\\",\\n        \\\"IsLatest\\\": true,\\n        \\\"LastModified\\\": \\\"\\\",\\n        \\\"ETag\\\": \\\"\\\",\\n        \\\"Size\\\": 0,\\n        \\\"Owner\\\": {\\n          \\\"ID\\\": \\\"\\\",\\n          \\\"DisplayName\\\": \\\"\\\"\\n        }\\n      }\\n    ],\\n    \\\"DeleteMarker\\\": [\\n      {\\n        \\\"Key\\\": \\\"\\\",\\n        \\\"VersionId\\\": \\\"\\\",\\n        \\\"IsLatest\\\": true,\\n        \\\"LastModified\\\": \\\"\\\",\\n        \\\"Owner\\\": {\\n          \\\"ID\\\": \\\"\\\",\\n          \\\"DisplayName\\\": \\\"\\\"\\n        }\\n      }\\n    ],\\n    \\\"CommonPrefixes\\\": [\\n      {\\n        \\\"Prefix\\\": \\\"\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"获取文件的版本信息","description":"- GetBucket(ListObjects)接口仅返回Object的当前版本，且当前版本不能为删除标记。\n- GetBucketVersions(ListObjectVersions)接口返回Bucket中所有Object的所有版本。\n\n不同Object之间按字母排序返回，同一个Object的不同版本则按从新到旧排序，与版本ID的字母序无关。"}