{"summary":"拷贝同一地域下相同或不同存储空间（Bucket）之间的文件（Object）。","path":"/{key}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/xml"],"produces":["application/xml"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"bucket","in":"host","schema":{"description":"Bucket名称。","type":"string","required":true,"example":"oss-example"}},{"name":"key","in":"path","schema":{"description":"Object完整路径。","type":"string","required":true,"example":"exampledir/exampleobject.txt"}},{"name":"x-oss-copy-source","in":"header","schema":{"description":"指定拷贝的源地址。\n默认值：无","type":"string","required":true,"example":"/oss-example/oss.jpg"}},{"name":"x-oss-forbid-overwrite","in":"header","schema":{"description":"指定CopyObject操作时是否覆盖同名目标Object。当目标Bucket处于已开启或已暂停版本控制状态时，**x-oss-forbid-overwrite**请求Header设置无效，即允许覆盖同名Object。\n  - 未指定**x-oss-forbid-overwrite**或者指定**x-oss-forbid-overwrite**为**false**时，表示允许覆盖同名目标Object。\n  - 指定**x-oss-forbid-overwrite**为**true**时，表示禁止覆盖同名Object。\n\n设置**x-oss-forbid-overwrite**请求Header会导致QPS处理性能下降，如果您有大量的操作需要使用x-**x-oss-forbid-overwrite**请求Header（QPS>1000），请联系技术支持，避免影响您的业务。\n默认值：false","type":"string","required":false,"example":"true"}},{"name":"x-oss-copy-source-if-match","in":"header","schema":{"description":"如果源Object的ETag值和您提供的ETag相等，则执行拷贝操作，并返回200 OK。\n默认值：无\n","type":"string","required":false,"example":"5B3C1A2E053D763E1B002CC607C5****"}},{"name":"x-oss-copy-source-if-none-match","in":"header","schema":{"description":"如果源Object的ETag值和您提供的ETag不相等，则执行拷贝操作，并返回200 OK。\n默认值：无","type":"string","required":false,"example":"5B3C1A2E053D763E1B002CC607C5****"}},{"name":"x-oss-copy-source-if-unmodified-since","in":"header","schema":{"description":"如果指定的时间等于或者晚于文件实际修改时间，则正常拷贝文件，并返回200 OK。\n默认值：无","type":"string","required":false,"example":"2019-04-09T07:01:56.000Z"}},{"name":"x-oss-copy-source-if-modified-since","in":"header","schema":{"description":"如果源Object在用户指定的时间以后被修改过，则执行拷贝操作。\n默认值：无","type":"string","required":false,"example":"2019-04-09T07:01:56.000Z"}},{"name":"x-oss-metadata-directive","in":"header","schema":{"description":"指定如何设置目标Object的元信息。\n  - **COPY**（默认值）：复制源Object的元数据到目标Object。\nOSS不会复制源Object的**x-oss-server-side-encryption**属性配置到目标Object。目标Object的服务器端加密编码方式取决于当前拷贝操作是否指定了**x-oss-server-side-encryption**。\n  - **REPLACE**：忽略源Object的元数据，直接采用请求中指定的元数据。\n\n> 如果拷贝操作的源Object地址和目标Object地址相同，且未开启版本控制时，则无论x-oss-metadata-directive为何值，都会忽略源Object的元数据，目标Object将直接采用请求中指定的元数据。","type":"string","required":false,"example":"COPY"}},{"name":"x-oss-server-side-encryption","in":"header","schema":{"description":"指定OSS创建目标Object时，服务器端熵编码加密算法 。\n取值：**AES256**、**KMS**\n您只有购买了KMS套件，才能使用KMS加密算法，否则OSS会返回KmsServiceNotEnabled错误。\n  - 如果拷贝操作中未指定**x-oss-server-side-encryption**，则无论源Object是否进行过服务器端加密编码，拷贝后的目标Object均不进行服务器端加密编码。\n  - 如果拷贝操作中指定了**x-oss-server-side-encryption**，则无论源Object是否进行过服务器端加密编码，拷贝后的目标Object均会进行服务器端加密编码。并且拷贝操作的响应头中会包含**x-oss-server-side-encryption**，值为目标Object的加密算法。\n在目标Object被下载时，响应头中也会包含**x-oss-server-side-encryption**，值为该Object的加密算法。","type":"string","required":false,"example":"AES256"}},{"name":"x-oss-server-side-data-encryption","in":"header","schema":{"description":"指定Object的加密算法。如果未指定此选项，表明Object使用AES256加密算法。此选项仅当x-oss-server-side-encryption为KMS时有效。","type":"string","required":false,"example":"SM4"}},{"name":"x-oss-server-side-encryption-key-id","in":"header","schema":{"description":"表示KMS托管的用户主密钥。\n该参数仅在**x-oss-server-side-encryption**为KMS时有效。","type":"string","required":false,"example":"9468da86-3509-4f8d-a61e-6eab1eac****"}},{"name":"x-oss-object-acl","in":"header","schema":{"description":"指定OSS创建目标Object时的访问权限。\n\n取值：\n\n- default（默认）：Object遵循所在存储空间的访问权限。\n- private：Object是私有资源。只有Object的拥有者和授权用户有该Object的读写权限，其他用户没有权限操作该Object。\n- public-read：Object是公共读资源。只有Object的拥有者和授权用户有该Object的读写权限，其他用户只有该Object的读权限。请谨慎使用该权限。\n- public-read-write：Object是公共读写资源。所有用户都有该Object的读写权限。请谨慎使用该权限。\n\n关于访问权限的更多信息，请参见**[读写权限ACL](~~100676~~)**。","required":false,"$ref":"#/components/schemas/ObjectACL"}},{"name":"x-oss-storage-class","in":"header","schema":{"description":"指定Object的存储类型。\n对于任意存储类型Bucket，如果上传Object时指定该值，则此次上传的Object将存储为指定的类型。例如在IA类型的Bucket中上传Object时，如果指定**x-oss-storage-class**为Standard，则该Object直接存储为Standard类型。\n\n取值：\n- Standard：标准存储\n- IA：低频访问\n- Archive：归档存储\n- ColdArchive：冷归档存储\n\n关于存储类型的更多信息，请参见**[存储类型介绍](~~51374~~)**。","required":false,"$ref":"#/components/schemas/StorageClass"}},{"name":"x-oss-tagging","in":"header","schema":{"description":"指定Object的对象标签，可同时设置多个标签，例如TagA=A&TagB=B。\n> Key和Value需要先进行URL编码，如果某项没有“=”，则看作Value为空字符串。","type":"string","required":false,"example":"a:1"}},{"name":"x-oss-tagging-directive","in":"header","schema":{"description":"指定如何设置目标Object的对象标签。取值如下：\n  - **Copy**（默认值）：复制源Object的对象标签到目标 Object。\n  - **Replace**：忽略源Object的对象标签，直接采用请求中指定的对象标签。","type":"string","required":false,"example":"Copy"}},{"name":"x-oss-meta-*","in":"header","schema":{"description":"如果配置以x-oss-meta-*为前缀的参数，则该参数视为元数据。\n元数据大小限制：一个Object可以包含多个元数据，但所有的元数据总大小不能超过8 KB。\n元数据命名规则：支持短划线（-）、数字、英文字母（a~z）。英文字符的大写字母会被转成小写字母，不支持下划线（_）在内的其他字符。","type":"object","required":false,"additionalProperties":{"type":"string","description":"元数据命名规则：支持短划线（-）、数字、英文字母（a~z）。英文字符的大写字母会被转成小写字母，不支持下划线（_）在内的其他字符。","example":"mx-oss-meta-owner"}}}],"responses":{"200":{"headers":{"x-oss-copy-source-version-id":{"schema":{"type":"string"}},"x-oss-version-id":{"schema":{"type":"string"}}},"schema":{"description":"保存CopyObject结果的响应体。","type":"object","properties":{"CopyObjectResult":{"description":"保存CopyObject结果的容器。","type":"object","properties":{"ETag":{"description":"目标Object的ETag值。","type":"string","example":"5B3C1A2E053D763E1B002CC607C5****"},"LastModified":{"description":"目标Object最后更新时间。","type":"string","example":"Fri, 24 Feb 2012 07:18:48 GMT"}}}}}},"5XX":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"CopyObjectResult\\\": {\\n    \\\"ETag\\\": \\\"5B3C1A2E053D763E1B002CC607C5****\\\",\\n    \\\"LastModified\\\": \\\"Fri, 24 Feb 2012 07:18:48 GMT\\\"\\n  }\\n}\",\"type\":\"json\"}]","title":"拷贝文件","description":"**版本控制**\n\n- `x-oss-copy-source`默认拷贝Object的当前版本，您可以在x-oss-copy-source中加入versionId来拷贝指定的Object版本。拷贝Object时，如果源Object的对应版本为删除标记，则返回404表示该Object不存在。\n- 如果需要恢复Object的早期版本为当前版本，您只需将Object的早期版本拷贝到同一个Bucket中，OSS会将该Object对应早期版本置为当前版本。\n- 如果目标Bucket已开启版本控制，OSS将会为新拷贝的Object自动生成唯一的版本ID，此版本ID将会在响应Header中的x-oss-version-id返回。如果目标Bucket未开启或者暂停了版本控制，OSS将会为新拷贝的Object自动生成version ID为null的版本，且会覆盖原有versionId为null的版本。\n\n**使用限制**\n\n- 使用CopyObject接口时，Object的大小限制说明如下：\n\n    - 如果源Bucket和目标Bucket相同，则Object的大小无限制。\n\n    - 如果源Bucket和目标Bucket不同，则建议拷贝小于1 GB的Object。当您需要拷贝大于1 GB的Object时，请使用[UploadPartCopy](~~31994~~)接口。\n  \n     使用CopyObject或UploadPartCopy接口均要求对源Object有读权限。\n\n- 在非版本控制的Bucket中，当调用CopyObject接口拷贝文件时，如果源Object与目标Object为同一个Object，则OSS只修改源Object的元数据，不拷贝源Object的内容。\n- 在版本控制的Bucket中，不支持拷贝通过追加上传方式生成的Object。\n- 如果源Object为软链接，则只拷贝软链接，无法拷贝软链接指向的文件内容。\n\n**计量计费**\n\n- 调用一次CopyObject接口会对源Object和目标Object所在的Bucket各增加一次Get请求次数。\n- 调用CopyObject接口会对目标Object所在的Bucket增加相应的存储量。\n- 调用CopyObject接口更改Object存储类型会涉及数据覆盖。例如低频访问IA创建后10天内被覆盖为标准存储Standard，则会产生20天的低频访问不足规定时长容量费用。关于存储费用的更多信息，请参见**[存储费用](~~173534~~)**。"}