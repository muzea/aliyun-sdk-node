{"summary":"查询Prometheus实例指定监控配置。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClusterId","in":"query","schema":{"description":"Prometheus实例ID。","type":"string","required":true,"example":"cc7a37ee31aea4ed1a059eff8034b****"}},{"name":"Type","in":"query","schema":{"title":"容器服务类型的实例支持：serviceMonitor、podMonitor、customJob、probe\necs类型的实例支持：customJob、probe","description":"容器服务类型的实例支持：serviceMonitor、podMonitor、customJob、probe。\necs类型的实例支持：customJob、probe。","type":"string","required":true,"docRequired":true,"example":"customJob"}},{"name":"MonitoringName","in":"query","schema":{"title":"","description":"监控配置名称。","type":"string","required":true,"docRequired":true,"example":"customJob1"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"Id of the request","type":"string","example":"78901766-3806-4E96-8E47-CFEF59E4****"},"Code":{"description":"状态码。说明 200表示成功。","type":"integer","format":"int32","example":"200"},"Data":{"description":"返回结构体。","type":"object","properties":{"ClusterId":{"description":"Prometheus实例ID。","type":"string","example":"c589a1b8db05c4561aefbb898ca8fb1cf"},"MonitoringName":{"description":"监控配置名称。","type":"string","example":"customJob1"},"Type":{"title":"serviceMonitor、podMonitor、customJob、probe","description":"监控配置类型：serviceMonitor、podMonitor、customJob、probe。","type":"string","example":"serviceMonitor"},"Status":{"title":"run, stop","description":"监控配置状态：run, stop。","type":"string","example":"run"},"ConfigYaml":{"description":"监控配置yaml串。","type":"string","example":"参见返回参数补充说明。"}}},"Message":{"description":"返回结果的提示信息。","type":"string","example":"message"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"78901766-3806-4E96-8E47-CFEF59E4****\\\",\\n  \\\"Code\\\": 200,\\n  \\\"Data\\\": {\\n    \\\"ClusterId\\\": \\\"c589a1b8db05c4561aefbb898ca8fb1cf\\\",\\n    \\\"MonitoringName\\\": \\\"customJob1\\\",\\n    \\\"Type\\\": \\\"serviceMonitor\\\",\\n    \\\"Status\\\": \\\"run\\\",\\n    \\\"ConfigYaml\\\": \\\"参见返回参数补充说明。\\\"\\n  },\\n  \\\"Message\\\": \\\"message\\\"\\n}\",\"type\":\"json\"}]","title":"查询Prometheus实例指定监控配置","responseParamsDescription":"serviceMonitor示例：\n```\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: tomcat-demo\n  namespace: default\nspec:\n  endpoints:\n    - interval: 30s\n      path: /metrics\n      port: tomcat-monitor\n  namespaceSelector:\n    any: true\n  selector:\n    matchLabels:\n      app: tomcat\n```\n\npodMonitor示例：\n```\napiVersion: \"monitoring.coreos.com/v1\"\nkind: \"PodMonitor\"\nmetadata:\n  name: \"podmonitor-demo\"\n  namespace: \"default\"\nspec:\n  namespaceSelector:\n    any: true\n  podMetricsEndpoints:\n    - interval: \"30s\"\n      path: \"/metrics\"\n      port: \"tomcat-monitor\"\n  selector:\n    matchLabels:\n      app: \"nginx2-exporter\"\n```\n\ncustomJob示例：\n```\nscrape_configs:\n  - job_name: prometheus1\n    honor_timestamps: false\n    honor_labels: false\n    scheme: http\n    metrics_path: /metric\n    static_configs:\n      - targets:\n          - 127.0.0.1:9090\n```\n\nprobe示例：\n```\napiVersion: monitoring.coreos.com/v1\nkind: Probe\nmetadata:\n  name: name1-tcp-blackbox #规则：xxx-{tcp/http/ping}-blackbox\n  namespace: arms-prom #可选\nspec:\n  interval: 30s\n  jobName: blackbox\n  module: tcp_connect\n  prober:\n    path: /blackbox/probe\n    scheme: http\n    url: 'localhost:9335'\n  targets:\n    staticConfig:\n      static:\n        - 'arms-prom-admin.arms-prom:9335'\n```"}