{"summary":"更新Prometheus for GlobalView聚合数据源。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-shenzhen"}},{"name":"GroupName","in":"query","schema":{"description":"聚合实例名称。","type":"string","required":false,"docRequired":true,"example":"zyGlobalView"}},{"name":"MostRegionId","in":"query","schema":{"description":"聚合实例所属地域ID。","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClusterId","in":"query","schema":{"description":"Prometheus实例ID。","type":"string","required":true,"example":"global****"}},{"name":"ResourceGroupId","in":"query","schema":{"title":"prometheus实例的资源组id","description":"Prometheus实例的资源组ID。","type":"string","required":false,"example":"rg-acfmxyexli2****"}},{"name":"SubClustersJson","in":"query","schema":{"title":"聚合的集群的信息列表；示例：[{\"headers\":{},\"regionId\":\"cn-hangzhou\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c39a1048921e04fceb039db2fbb73ede6\",\"sourceName\":\"arms-luyao-test\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"},{\"headers\":{},\"regionId\":\"cn-beijing\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c6b6485496d5b400abde22cb47b5d790f\",\"sourceName\":\"agent-321-测试\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"},{\"headers\":{},\"regionId\":\"cn-zhangjiakou\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c261a4f3200c446659133f1ade789b15e\",\"sourceName\":\"zaifeng-cardinality-01\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"}]","description":"需要聚合的Ali Prometheus集群或数据源的信息列表。","type":"string","required":true,"docRequired":true,"example":"[\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-hangzhou\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c39a1048921e04f***********\",\n        \"sourceName\":\"arms-luyao-test\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    },\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-beijing\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c6b6485496d5b40***********\",\n        \"sourceName\":\"agent-321-测试\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    },\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-zhangjiakou\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c261a4f3200c446***********\",\n        \"sourceName\":\"zaifeng-cardinality-01\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    }\n]"}},{"name":"AllSubClustersSuccess","in":"query","schema":{"title":"创建GlobalView时，是否要求所有子实例都校验成功时，才创建GlobalView实例。后台默认是false，即可以部分成功。","description":"创建GlobalView时，是否要求所有子实例都校验成功时，才创建GlobalView实例。默认是false，即可以部分成功。","type":"boolean","required":true,"docRequired":true,"example":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Data":{"description":"返回结构体。","type":"object","properties":{"Success":{"description":"更新是否成功。\n\n- `true`：成功。\n- `false`：失败。","type":"boolean","example":"true"},"FailedInstances":{"description":"更新失败的集群或数据源列表。","type":"array","items":{"type":"object","properties":{"SourceName":{"description":"数据源名称。","type":"string","example":"sourcename-test"},"SourceType":{"title":"AlibabaPrometheus\nMetricStore\nCustomPrometheus","description":"数据源类型：\n\n-   AlibabaPrometheus\n-   MetricStore\n-   CustomPrometheus","type":"string","example":"AlibabaPrometheus"},"UserId":{"description":"用户标识。","type":"string","example":"23784673825*******"},"ClusterId":{"description":"Prometheus实例ID。","type":"string","example":"cdb65ed2d527345*********"}}}}}},"RequestId":{"description":"请求ID，用于定位日志，排查问题。","type":"string","example":"E9C9DA3D-10FE-472E-9EEF-2D0A3E41****"},"Message":{"description":"安装失败时响应描述。","type":"string","example":"message"},"Code":{"description":"状态码。说明200表示成功。","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": {\\n    \\\"Success\\\": true,\\n    \\\"FailedInstances\\\": [\\n      {\\n        \\\"SourceName\\\": \\\"sourcename-test\\\",\\n        \\\"SourceType\\\": \\\"AlibabaPrometheus\\\",\\n        \\\"UserId\\\": \\\"23784673825*******\\\",\\n        \\\"ClusterId\\\": \\\"cdb65ed2d527345*********\\\"\\n      }\\n    ]\\n  },\\n  \\\"RequestId\\\": \\\"E9C9DA3D-10FE-472E-9EEF-2D0A3E41****\\\",\\n  \\\"Message\\\": \\\"message\\\",\\n  \\\"Code\\\": 200\\n}\",\"type\":\"json\"}]","title":"更新Prometheus for GlobalView聚合数据源"}