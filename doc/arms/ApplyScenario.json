{"methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":false,"example":"cn-zhangjiakou"}},{"name":"Scenario","in":"query","schema":{"description":"使用场景。选项：\n\n- `USER-DEFINED`（默认）：用户自定义。\n- `EDAS-ROLLOUT`：EDAS应用发布。\n- `OAM-ROLLOUT`：OAM应用发布。\n- `MSC-CANARY`：MSE金丝雀发布。","type":"string","required":false,"example":"USER-DEFINED"}},{"name":"Name","in":"query","schema":{"description":"业务监控名称。","type":"string","required":true,"docRequired":true,"example":"测试POP业务监控"}},{"name":"AppId","in":"query","schema":{"description":"应用ID。","type":"string","required":true,"docRequired":true,"example":"b590lhguqs@28f515462f******"}},{"name":"Sign","in":"query","schema":{"description":"场景编码。新建业务监控时无需设置，更新业务监控时必须设置。","type":"string","required":false,"docRequired":false,"example":"a9f8****"}},{"name":"Config","in":"query","style":"json","schema":{"description":"业务监控配置JSON字段。关于此字段的详细说明参见下文关于参数**Config**的补充说明。","type":"object","required":true,"docRequired":true,"example":"{\"rpcType\":\"0\",\"nameMatchType\":\"EQUALS\",\"service\":\"/api/pop/test\",\"operator\":\"and\",\"filterItems\":[{\"type\":\"HttpHeaders\",\"key\":\"uid\",\"opt\":\"==\",\"value\":\"123456789\"}],\"group\":{\"type\":\"HttpRequestParameters\",\"key\":\"name\"}}"}},{"name":"SnTransfer","in":"query","schema":{"description":"染色标是否向下透传。\n\n- `true`\n- `false`（默认）","type":"boolean","required":false,"example":"false"}},{"name":"SnStat","in":"query","schema":{"description":"染色标是否统计流量。\n- `true`\n- `false`（默认）","type":"boolean","required":false,"example":"false"}},{"name":"SnDump","in":"query","schema":{"description":"染色标的链路是否Dump业务参数。\n- `true`\n- `false`（默认）","type":"boolean","required":false,"example":"false"}},{"name":"SnForce","in":"query","schema":{"description":"染色标的链路是否全量采集。\n- `true`\n- `false`（默认）","type":"boolean","required":false,"example":"false"}},{"name":"UpdateOption","in":"query","schema":{"description":"是否更新操作。\n\n- `true`：更新操作。\n- `false`：插入操作。","type":"boolean","required":true,"docRequired":true,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Result":{"description":"场景编码，即染色标。","type":"string","example":"2b97****"},"RequestId":{"description":"请求ID。","type":"string","example":"EA24D522-AD35-47B8-8CB2-ADBC38******"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Result\\\": \\\"2b97****\\\",\\n  \\\"RequestId\\\": \\\"EA24D522-AD35-47B8-8CB2-ADBC38******\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ApplyScenarioResponse>\\n    <RequestId>EA24D522-AD35-47B8-8CB2-ADBC38******</RequestId>\\n    <Result>2b97****</Result>\\n</ApplyScenarioResponse>\",\"errorExample\":\"\"}]","title":"创建或更新业务监控","summary":"创建或更新业务监控。","requestParamsDescription":"## 关于参数**Config**的补充说明\n**JSON串示例及说明**\n\n```\n{\n    \"rpcType\":\"0\",   //服务类型。0：HTTP入口；255：Kubernete Pod Metadata。\n    \"nameMatchType\":\"EQUALS\",    //服务名称匹配规则。EQUALS：等于；STARTSWITH：开始等于；CONTAINS：包含；ENDSWITH：结束等于；PATTERNS：模式匹配。\n    \"service\":\"/api/pop/test\",      //服务名称。\n    \"operator\":\"and\",    //过滤规则关系。 and：同时满足规则；or：满足任一规则。\n    \"filterItems\":    //过滤规则。\n        [{\n            \"type\":\"HttpHeaders\",    //过滤规则匹配参数，详见下一节。\n            \"key\":\"uid\",    //过滤字段匹配Key值。\n            \"opt\":\"==\",    //匹配方式。支持==、!=和contains。\n            \"value\":\"123456789\"    //过滤字段阈值。\n        }],\n    \"group\":    //分组规则。\n        {\n            \"type\":\"HttpRequestParameters\",    //分组规则匹配参数，详见下一节。\n            \"key\":\"name\"    //分组规则匹配Key值。\n        }\n}\n```\n**过滤规则匹配参数**\n\n当服务类型设置为rpcType=0（即HTTP入口）时的匹配参数：\n- HttpRequestParameters\n- HttpHeaders\n- HttpCookies\n- HttpMethod\n- HttpPathVariables\n\n当服务类型设置为rpcType=255（即Kubernete Pod Metadata）时的匹配参数：\n- k8sPodLabel\n- k8sPodAnnotation\n- k8sPodName\n- k8sPodNamespace\n- k8sPodUID\n- k8sPodIp\n- k8sPodServiceAccount\n\n**分组规则匹配参数**\n\n当服务类型设置为rpcType=0（即HTTP入口）时的匹配参数：\n- HttpRequestParameters\n- HttpHeaders\n- HttpCookies\n- HttpMethod\n- HttpPathVariables\n\n当服务类型设置为rpcType=255（即Kubernete Pod Metadata）时的匹配参数：\n- k8sPodLabel\n- k8sPodAnnotation\n- k8sPodName\n- k8sPodNamespace\n- k8sPodUID\n- k8sPodIp\n- k8sPodServiceAccount","responseParamsDescription":" ","extraInfo":" "}