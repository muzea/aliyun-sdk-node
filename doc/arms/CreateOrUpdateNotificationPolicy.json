{"summary":"创建或更新通知策略。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"Id","in":"formData","schema":{"title":"通知策略ID","description":"通知策略ID。\n\n- 不填代表创建新的通知策略。\n- 填写代表修改指定通知策略信息。","type":"integer","format":"int64","required":false,"example":"1234"}},{"name":"Name","in":"formData","schema":{"title":"通知策略名称","description":"通知策略名称。","type":"string","required":true,"example":"notificationpolicy_test"}},{"name":"MatchingRules","in":"formData","schema":{"title":"事件匹配规则列表","description":"匹配告警事件规则。格式如下：\n\n```\n[\n {\n \"matchingConditions\": [\n { \n \"value\": \"test\",    //匹配告警事件规则Value。\n \"key\": \"alertname\",     //匹配告警事件规则Key。\n \"operator\": \"eq\"   //规则聚合方式，包括eq（等于）、neq（不等于）、in（包含）、nin（不包含）、re（匹配正则）、nre（正则不匹配）。  \n }\n ]\n } \n ]\n```\n","type":"string","required":false,"example":"[ \t\t { \t\t \"matchingConditions\": [          { \t\t \"value\": \"test\", \t\t \"key\": \"alertname\", \t\t \"operator\": \"eq\"         }       ]     }   ]"}},{"name":"SendRecoverMessage","in":"formData","schema":{"title":"是否发送恢,不填默认为：true复通知","description":"当告警下面全部事件都恢复时，告警状态是否自动恢复为已解决。当告警恢复时，系统将会发送通知给处理人。\n\n- `true`（默认）：发送通知。\n- `false`：不发送通知。","type":"boolean","required":false,"example":"true"}},{"name":"GroupRule","in":"formData","schema":{"title":"分组规则","description":"设置事件分组。\n\t\n\n- 不填（默认）：所有告警会按`alertname`分组发送给处理人。\n- 设置分组字段：相同字段的告警内容会分别通过独立信息发送给处理人。\n分组格式如下：\n\n```\n{ \n\"groupWait\":5,    //分组等待时间。\n\"groupInterval\":30,     //分组间隔时间。\n\"groupingFields\":[\"alertname\"]       //分组字段。\n}\n```","type":"string","required":false,"example":"{ \t\"groupWait\":5, \t\"groupInterval\":30, \t\"groupingFields\":[\"alertname\"] }"}},{"name":"NotifyRule","in":"formData","schema":{"title":"通知规则,通知对象，必填","description":"设置通知规则。格式如下：\n```\n{ \n \"notifyStartTime\":\"00:00\",      //通知时间段开始时间。\n \"notifyEndTime\":\"23:59\",       //通知时间段结束时间。\n \"notifyChannels\":[\"dingTalk\", \"email\", \"sms\", \"tts\", \"webhook\"],       //通知方式，包括dingTalk(钉钉）、email（邮件）、sms（短信）、tts（电话）和webhook。\n \"notifyObjects\":[{       //通知对象。\n \"notifyObjectType\":\"CONTACT\",       //通知对象类型，包括CONTACT（联系人）、CONTACT_GROUP（联系人组）、ARMS_CONTACT（ARMS联系人）、ARMS_CONTACT_GROUP（ARMS联系人组）、DING_ROBOT_GROUP（钉钉/飞书/企业微信 IM机器人）、CONTACT_SCHEDULE（排班表）。\n \"notifyObjectId\":123,       //通知对象ID。\n \"notifyObjectName\":\"test\"       //通知对象名称。\n \"notifyChannels\": [\t\t\t//通知对象为联系人时单独指定的联系方式。包括email（邮件）、sms（短信）、tts（电话）\n                \"email\",\t\t\n                \"sms\",\n                \"tts\"\n            ],\n }]\n```","type":"string","required":true,"example":"{\n    \"notifyStartTime\": \"00:00\",\n    \"notifyEndTime\": \"23:59\",\n    \"notifyChannels\": [\n        \"dingTalk\",\n        \"email\",\n        \"sms\",\n        \"tts\",\n        \"webhook\"\n    ],\n    \"notifyObjects\": [\n        {\n            \"notifyObjectType\": \"CONTACT\",\n            \"notifyObjectId\": 123,\n            \"notifyObjectName\": \"test\",\n            \"notifyChannels\": [\n                \"email\",\n                \"sms\",\n                \"tts\"\n            ],\n            \n        }\n    ]\n}\n"}},{"name":"NotifyTemplate","in":"formData","schema":{"title":"通知模板","description":"通知模板。示例模板请参见表格下方说明。","type":"string","required":false,"example":"{ \"robotContent\":\"{{if .commonLabels.clustername }}   >  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}   >  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} >  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \"true\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}\" }"}},{"name":"EscalationPolicyId","in":"formData","schema":{"title":"升级规则ID","description":"升级规则ID。","type":"integer","format":"int64","required":false,"example":"123"}},{"name":"Repeat","in":"formData","schema":{"title":"是否重复通知,不填默认为true，需要必填重复通知时间间隔；false，需要必填升级规则ID","description":"对于长期未解决的告警是否发送重复通知。\n\n- `true`（默认）：设置为`true`后，必须设置**RepeatInterval**。\n- `false`：设置为`false`后，必须设置**EscalationPolicyId**。","type":"boolean","required":false,"example":"true"}},{"name":"RepeatInterval","in":"formData","schema":{"title":"重复通知时间间隔,单位：s","description":"重复通知时间间隔，单位为秒。","type":"integer","format":"int64","required":false,"example":"600"}},{"name":"IntegrationId","in":"formData","schema":{"title":"集成ID","description":"告警需要推送到的工单系统，填写工单系统的集成ID。","type":"integer","format":"int64","required":false,"example":"34"}},{"name":"RegionId","in":"formData","schema":{"description":"地域ID。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"DirectedMode","in":"formData","schema":{"title":"极简模式","description":"极简模式","type":"boolean","required":false,"example":"false"}},{"name":"State","in":"formData","schema":{"title":"通知策略是否启用，enable 启用，disable 停用","description":"通知策略是否启用，enable 启用，disable 停用","type":"string","required":false,"example":"enable"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"A5EC8221-08F2-4C95-9AF1-49FD998C****"},"NotificationPolicy":{"title":"通知策略对象","description":"通知策略对象。","type":"object","properties":{"Id":{"title":"通知策略ID","description":"通知策略ID。","type":"integer","format":"int64","example":"1234"},"Name":{"title":"通知策略名称","description":"通知策略名称。","type":"string","example":"notificationpolicy_test"},"MatchingRules":{"title":"事件匹配规则列表","description":"匹配告警事件规则。","type":"array","items":{"type":"object","properties":{"MatchingConditions":{"description":"匹配条件。","type":"array","items":{"type":"object","properties":{"Key":{"title":"条件字段","description":"匹配条件Key。","type":"string","example":"altertname"},"Value":{"title":"条件字段值","description":"匹配条件Value。","type":"string","example":"test"},"Operator":{"title":"对应关系","description":"匹配条件聚合方式。\n\n- `eq`：等于\n- `neq`：不等于\n- `in`：包含\n- `nin`：不包含\n- `re`：匹配正则\n- `nre`：正则不匹配","type":"string","example":"eq"}}}}}}},"SendRecoverMessage":{"title":"是否发送恢复通知","description":"当告警下面全部事件都恢复时，告警状态是否自动恢复为已解决。当告警恢复时，系统将会发送通知给处理人。\n\n- `true`（默认）：发送通知。\n- `false`：不发送通知。","type":"boolean","example":"true"},"GroupRule":{"title":"分组规则","description":"事件分组。","type":"object","properties":{"GroupingFields":{"title":"分组字段,为空则不分组，默认按照alertname分组","description":"设置事件分组。\n\t\n\n- 不填（默认）：所有告警会按`alertname`分组发送给处理人。\n- 设置分组字段：相同字段的告警内容会分别通过独立信息发送给处理人。","type":"array","items":{"description":"分组字段。","type":"string","example":"[\"alertName\",\"clustname\"]"}},"GroupWait":{"title":"分组等待时间，选填，默认是5秒","description":"分组等待时间，默认为5秒。","type":"integer","format":"int64","example":"5"},"GroupInterval":{"title":"分组间隔时间，选填，默认是30s","description":"分组间隔时间，默认为30秒。","type":"integer","format":"int64","example":"30"}}},"NotifyRule":{"title":"通知规则","description":"通知规则。","type":"object","properties":{"NotifyStartTime":{"title":"通知时间段开始时间","description":"通知时间段开始时间。","type":"string","example":"00:00"},"NotifyEndTime":{"title":"通知时间段结束时间","description":"通知时间段结束时间。","type":"string","example":"23:59"},"NotifyChannels":{"title":"通知渠道","description":"通知方式。","type":"array","items":{"description":"通知方式。\n\n- `dingTalk`：钉钉\n- `email`：邮件\n- `sms`：短信\n- `tts`：电话\n- `webhook`：Webhook","type":"string","example":"[\"dingTalk\", \"email\", \"sms\", \"tts\", \"webhook\"]"}},"NotifyObjects":{"title":"通知对象","description":"通知对象列表。","type":"array","items":{"description":"通知对象","type":"object","properties":{"NotifyObjectType":{"title":"通知对象类型，CONTACT, CONTACT_GROUP, ARMS_CONTACT, DING_ROBOT","description":"通知对象类型。\n\n- CONTACT：联系人\n- CONTACT_GROUP：联系人组 \n- ARMS_CONTACT：ARMS联系人\n- ARMS_CONTACT_GROUP：ARMS联系人组\n- DING_ROBOT_GROUP：钉钉/飞书/企业微信 IM机器人\n- CONTACT_SCHEDULE：排班表","type":"string","example":"CONTACT"},"NotifyObjectId":{"title":"通知对象ID","description":"通知对象ID。","type":"integer","format":"int64","example":"123"},"NotifyObjectName":{"title":"通知对象名称","description":"通知对象名称。","type":"string","example":"test"},"NotifyChannels":{"title":"通知对象为联系人时的联系方式","description":"通知对象为联系人时的单独的联系方式","type":"array","items":{"title":"","description":"通知方式。\n\n- `email`：邮件\n- `sms`：短信\n- `tts`：电话","type":"string","example":"sms"}}}}}}},"NotifyTemplate":{"title":"通知模板","description":"通知模板。","type":"object","properties":{"EmailTitle":{"title":"邮件标题","description":"邮件告警通知标题。","type":"string","example":"{{ .commonLabels.alertname }}"},"EmailContent":{"title":"邮件内容","description":"邮件告警通知内容。","type":"string","example":"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }}  <a href=\"{{.generatorURL}}\" > 详情链接</a>  {{ end }} {{ end }}"},"EmailRecoverTitle":{"title":"恢复告警邮件标题","description":"邮件告警恢复通知标题。","type":"string","example":"{{ .commonLabels.alertname }}"},"EmailRecoverContent":{"title":"恢复告警邮件内容","description":"邮件告警恢复通知内容。","type":"string","example":"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }} <a href=\"{{.generatorURL}}\" > 详情链接</a>  {{ end }} {{ end }}"},"SmsContent":{"title":"短信内容","description":"短信告警通知内容。","type":"string","example":"发生{{ .level }}告警 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}"},"SmsRecoverContent":{"title":"恢复告警短信内容","description":"短信告警恢复通知内容。","type":"string","example":"告警已经恢复 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}"},"TtsContent":{"title":"智能语音告警内容","description":"电话告警通知内容。","type":"string","example":"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}"},"TtsRecoverContent":{"title":"智能语音恢复告警内容","description":"电话告警恢复通知内容。","type":"string","example":"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}"},"RobotContent":{"title":"机器人告警内容","description":"机器人告警通知内容。","type":"string","example":"{{if .commonLabels.clustername }}   >  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}   >  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} >  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \"true\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}"}}},"EscalationPolicyId":{"title":"升级规则ID","description":"升级规则ID。","type":"integer","format":"int64","example":"123"},"Repeat":{"title":"是否重复通知","description":"对于长期未解决的告警是否发送重复通知。\n\n- `true`（默认）：按设置的重复通知时间间隔发送通知。\n- `false`：根据设置升级策略发送通知。","type":"boolean","example":"true"},"RepeatInterval":{"title":"重复通知时间间隔","description":"重复通知时间间隔，单位为秒。","type":"integer","format":"int64","example":"600"},"IntegrationId":{"title":"集成ID","description":"告警需要推送到的工单系统，显示为工单系统的集成ID。","type":"integer","format":"int64","example":"34"},"DirectedMode":{"title":"极简模式","description":"极简模式","type":"boolean"},"State":{"title":"通知策略是否启用，enable 启用，disable 停用","description":"通知策略是否启用，enable 启用，disable 停用","type":"string","example":"enable"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A5EC8221-08F2-4C95-9AF1-49FD998C****\\\",\\n  \\\"NotificationPolicy\\\": {\\n    \\\"Id\\\": 1234,\\n    \\\"Name\\\": \\\"notificationpolicy_test\\\",\\n    \\\"MatchingRules\\\": [\\n      {\\n        \\\"MatchingConditions\\\": [\\n          {\\n            \\\"Key\\\": \\\"altertname\\\",\\n            \\\"Value\\\": \\\"test\\\",\\n            \\\"Operator\\\": \\\"eq\\\"\\n          }\\n        ]\\n      }\\n    ],\\n    \\\"SendRecoverMessage\\\": true,\\n    \\\"GroupRule\\\": {\\n      \\\"GroupingFields\\\": [\\n        \\\"[\\\\\\\"alertName\\\\\\\",\\\\\\\"clustname\\\\\\\"]\\\"\\n      ],\\n      \\\"GroupWait\\\": 5,\\n      \\\"GroupInterval\\\": 30\\n    },\\n    \\\"NotifyRule\\\": {\\n      \\\"NotifyStartTime\\\": \\\"00:00\\\",\\n      \\\"NotifyEndTime\\\": \\\"23:59\\\",\\n      \\\"NotifyChannels\\\": [\\n        \\\"[\\\\\\\"dingTalk\\\\\\\", \\\\\\\"email\\\\\\\", \\\\\\\"sms\\\\\\\", \\\\\\\"tts\\\\\\\", \\\\\\\"webhook\\\\\\\"]\\\"\\n      ],\\n      \\\"NotifyObjects\\\": [\\n        {\\n          \\\"NotifyObjectType\\\": \\\"CONTACT\\\",\\n          \\\"NotifyObjectId\\\": 123,\\n          \\\"NotifyObjectName\\\": \\\"test\\\",\\n          \\\"NotifyChannels\\\": [\\n            \\\"sms\\\"\\n          ]\\n        }\\n      ]\\n    },\\n    \\\"NotifyTemplate\\\": {\\n      \\\"EmailTitle\\\": \\\"{{ .commonLabels.alertname }}\\\",\\n      \\\"EmailContent\\\": \\\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }}  <a href=\\\\\\\"{{.generatorURL}}\\\\\\\" > 详情链接</a>  {{ end }} {{ end }}\\\",\\n      \\\"EmailRecoverTitle\\\": \\\"{{ .commonLabels.alertname }}\\\",\\n      \\\"EmailRecoverContent\\\": \\\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }} <a href=\\\\\\\"{{.generatorURL}}\\\\\\\" > 详情链接</a>  {{ end }} {{ end }}\\\",\\n      \\\"SmsContent\\\": \\\"发生{{ .level }}告警 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\",\\n      \\\"SmsRecoverContent\\\": \\\"告警已经恢复 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\",\\n      \\\"TtsContent\\\": \\\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\",\\n      \\\"TtsRecoverContent\\\": \\\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\",\\n      \\\"RobotContent\\\": \\\"{{if .commonLabels.clustername }}   >  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }}   >  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} >  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \\\\\\\"true\\\\\\\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}\\\"\\n    },\\n    \\\"EscalationPolicyId\\\": 123,\\n    \\\"Repeat\\\": true,\\n    \\\"RepeatInterval\\\": 600,\\n    \\\"IntegrationId\\\": 34,\\n    \\\"DirectedMode\\\": true,\\n    \\\"State\\\": \\\"enable\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateOrUpdateNotificationPolicyResponse>\\n    <RequestId>A5EC8221-08F2-4C95-9AF1-49FD998C****</RequestId>\\n    <NotificationPolicy>\\n        <Id>1234</Id>\\n        <Name>notificationpolicy_test</Name>\\n        <MatchingRules>\\n            <MatchingConditions>\\n                <Key>altertname</Key>\\n                <Value>test</Value>\\n                <Operator>eq</Operator>\\n            </MatchingConditions>\\n        </MatchingRules>\\n        <SendRecoverMessage>true</SendRecoverMessage>\\n        <GroupRule>\\n            <GroupingFields>[\\\"alertName\\\",\\\"clustname\\\"]</GroupingFields>\\n            <GroupWait>5</GroupWait>\\n            <GroupInterval>30</GroupInterval>\\n        </GroupRule>\\n        <NotifyRule>\\n            <NotifyStartTime>00:00</NotifyStartTime>\\n            <NotifyEndTime>23:59</NotifyEndTime>\\n            <NotifyChannels>[\\\"dingTalk\\\", \\\"email\\\", \\\"sms\\\", \\\"tts\\\", \\\"webhook\\\"]</NotifyChannels>\\n            <NotifyObjects>\\n                <NotifyObjectType>CONTACT</NotifyObjectType>\\n                <NotifyObjectId>123</NotifyObjectId>\\n                <NotifyObjectName>test</NotifyObjectName>\\n            </NotifyObjects>\\n        </NotifyRule>\\n        <NotifyTemplate>\\n            <EmailTitle>{{ .commonLabels.alertname }}</EmailTitle>\\n            <EmailContent>告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }}  &lt;a href=\\\"{{.generatorURL}}\\\" &gt; 详情链接&lt;/a&gt;  {{ end }} {{ end }}</EmailContent>\\n            <EmailRecoverTitle>{{ .commonLabels.alertname }}</EmailRecoverTitle>\\n            <EmailRecoverContent>告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }} &lt;a href=\\\"{{.generatorURL}}\\\" &gt; 详情链接&lt;/a&gt;  {{ end }} {{ end }}</EmailRecoverContent>\\n            <SmsContent>发生{{ .level }}告警 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}</SmsContent>\\n            <SmsRecoverContent>告警已经恢复 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}</SmsRecoverContent>\\n            <TtsContent>告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}</TtsContent>\\n            <TtsRecoverContent>告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}</TtsRecoverContent>\\n            <RobotContent>{{if .commonLabels.clustername }}   &gt;  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }}   &gt;  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} &gt;  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \\\"true\\\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}</RobotContent>\\n        </NotifyTemplate>\\n        <EscalationPolicyId>123</EscalationPolicyId>\\n        <Repeat>true</Repeat>\\n        <RepeatInterval>600</RepeatInterval>\\n        <IntegrationId>34</IntegrationId>\\n    </NotificationPolicy>\\n</CreateOrUpdateNotificationPolicyResponse>\",\"errorExample\":\"\"}]","title":"新增及修改通知策略","requestParamsDescription":"### NotifyTemplate默认通知模板示例\n\n```\n{\n//邮件告警通知\n\"emailTitle\":\"{{ .commonLabels.alertname }}\",\n\n\"emailContent\":\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }}  <a href=\"{{.generatorURL}}\" > 详情链接</a>  {{ end }} {{ end }}\",\n\n//邮件告警恢复通知\n\"emailRecoverTitle\":\"{{ .commonLabels.alertname }}\",\n\n\"emailRecoverContent\":\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }}  {{if .generatorURL }} <a href=\"{{.generatorURL}}\" > 详情链接</a>  {{ end }} {{ end }}\",\n\n//短信告警通知\n\"smsContent\":\"发生{{ .level }}告警 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\",\n\n//短信告警恢复通知\n\"smsRecoverContent\":\"告警已经恢复 告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\",\n\n//电话告警通知\n\"ttsContent\":\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 告警时间：{{ .startTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\",\n\n//电话告警恢复通知\n\"ttsRecoverContent\":\"告警名称：{{ .commonLabels.alertname }}{{if .commonLabels.clustername }} 集群名称：{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }} 应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }} 通知策略：{{ .dispatchRuleName }} 恢复时间：{{ .endTime }} 告警内容：{{ for .alerts }} {{ .annotations.message }} {{ end }}\",\n\n//机器人告警通知\n\"robotContent\":\"{{if .commonLabels.clustername }}   >  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}   >  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} >  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \"true\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}\",\n\n//机器人告警恢复通知\n\"robotRecoverContent\":\"{{if .commonLabels.clustername }}   >  集群名称：{{ .commonLabels.clustername }}    {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}   >  应用名称：{{ .commonLabels._aliyun_arms_involvedObject_name }}    {{ end }}{{ for .alerts }} >  {{ .annotations.message }} {{if .generatorURL }} [详情链接]({{.generatorURL}}) {{end}} {{if  eq \"true\" .labels._aliyun_arms_is_denoise_filtered }} （疑似噪音） {{end}}  {{end}}\"\n\n}\n```"}