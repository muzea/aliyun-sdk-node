{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none","abilityTreeCode":"44446","abilityTreeNodes":["FEATUREarmsVBCGEE"]},"parameters":[{"name":"Id","in":"query","schema":{"description":"分派策略ID。","type":"string","required":true,"docRequired":false,"example":"12345"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"34ED024E-9E31-434A-9E4E-D9D15C3****"},"DispatchRule":{"description":"返回结构体。\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","type":"object","properties":{"Name":{"description":"分派策略名称。","type":"string","example":"Prometheus Alert"},"IsRecover":{"description":"是否发送恢复的告警。\n\n- `true`：发送\n- `false`：不发送","type":"boolean","example":"true"},"DispatchType":{"description":"告警处理方式。\n\n- CREATE_ALERT：生成报警。\n- DISCARD_ALERT：丢弃报警事件，即不告警。","type":"string","example":"CREATE_ALERT"},"State":{"description":"是否启用该分派策略。\n\n- `true`：启用\n- `false`：关闭","type":"string","example":"true"},"RuleId":{"description":"分派规则ID。","type":"integer","format":"int64","example":"10282"},"GroupRules":{"description":"事件分组。","type":"array","items":{"type":"object","properties":{"RepeatInterval":{"description":"重复告警静默时间。所有告警会以设置的时间间隔循环发送告警信息直至告警消失，单位为秒。","type":"integer","format":"int64","example":"20"},"GroupId":{"description":"分组ID。","type":"integer","format":"int64","example":"1"},"GroupWaitTime":{"description":"分组等待时间。","type":"integer","format":"int64","example":"10"},"GroupInterval":{"description":"分组间隔时间。","type":"integer","format":"int64","example":"15"},"GroupingFields":{"description":"分组字段列表。","type":"array","items":{"description":"分组字段列表。","type":"string","example":"_aliyun_arms_involvedObject_kind"}}}}},"NotifyRules":{"description":"通知方式集合。","type":"array","items":{"type":"object","properties":{"NotifyObjects":{"description":"通知对象集合。","type":"array","items":{"type":"object","properties":{"NotifyObjectId":{"description":"联系人或联系人组的ID。","type":"string","example":"1"},"NotifyType":{"description":"通知对象类型：\n\n- `CONTACT`：联系人\n- `CONTACT_GROUP`：联系人组","type":"string","example":"CONTACT"},"Name":{"description":"联系人或联系人组的名称。","type":"string","example":"JohnDoe"}}}},"NotifyChannels":{"description":"通知方式列表。","type":"array","items":{"description":"通知方式：\n\n- `dingTalk`\n-  `sms`\n-  `webhook`\n-  `email`\n- `wechat`\n\n","type":"string","example":"email"}}}}},"LabelMatchExpressionGrid":{"description":"分派规则。","type":"object","properties":{"LabelMatchExpressionGroups":{"description":"分派条件集合。","type":"array","items":{"type":"object","properties":{"LabelMatchExpressions":{"description":"分派规则的条件。","type":"array","items":{"type":"object","properties":{"Key":{"description":"分派条件标签：\n\n- `_aliyun_arms_userid` ：用户ID\n-  `_aliyun_arms_involvedObject_kind`：关联对象类型\n-  `_aliyun_arms_involvedObject_id`：关联对象ID\n- `_aliyun_arms_involvedObject_name`：关联对象名称\n- `_aliyun_arms_alert_name`：告警名称\n- `_aliyun_arms_alert_rule_id`：告警规则对应的ID\n- `_aliyun_arms_alert_type`：告警类型\n- `_aliyun_arms_alert_level`：告警等级","type":"string","example":"_aliyun_arms_involvedObject_kind"},"Value":{"description":"标签取值。","type":"string","example":"app"},"Operator":{"description":"选项：\n\n- `eq`：等于\n- `re`：匹配正则","type":"string","example":"eq"}}}}}}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"34ED024E-9E31-434A-9E4E-D9D15C3****\\\",\\n  \\\"DispatchRule\\\": {\\n    \\\"Name\\\": \\\"Prometheus Alert\\\",\\n    \\\"IsRecover\\\": true,\\n    \\\"DispatchType\\\": \\\"CREATE_ALERT\\\",\\n    \\\"State\\\": \\\"true\\\",\\n    \\\"RuleId\\\": 10282,\\n    \\\"GroupRules\\\": [\\n      {\\n        \\\"RepeatInterval\\\": 20,\\n        \\\"GroupId\\\": 1,\\n        \\\"GroupWaitTime\\\": 10,\\n        \\\"GroupInterval\\\": 15,\\n        \\\"GroupingFields\\\": [\\n          \\\"_aliyun_arms_involvedObject_kind\\\"\\n        ]\\n      }\\n    ],\\n    \\\"NotifyRules\\\": [\\n      {\\n        \\\"NotifyObjects\\\": [\\n          {\\n            \\\"NotifyObjectId\\\": \\\"1\\\",\\n            \\\"NotifyType\\\": \\\"CONTACT\\\",\\n            \\\"Name\\\": \\\"JohnDoe\\\"\\n          }\\n        ],\\n        \\\"NotifyChannels\\\": [\\n          \\\"email\\\"\\n        ]\\n      }\\n    ],\\n    \\\"LabelMatchExpressionGrid\\\": {\\n      \\\"LabelMatchExpressionGroups\\\": [\\n        {\\n          \\\"LabelMatchExpressions\\\": [\\n            {\\n              \\\"Key\\\": \\\"_aliyun_arms_involvedObject_kind\\\",\\n              \\\"Value\\\": \\\"app\\\",\\n              \\\"Operator\\\": \\\"eq\\\"\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeDispatchRuleResponse>\\n<RequestId>34ED024E-9E31-434A-9E4E-D9D15C3****</RequestId>\\n<DispatchRule>\\n    <GroupRules>\\n        <GroupInterval>15</GroupInterval>\\n        <GroupWaitTime>10</GroupWaitTime>\\n        <GroupId>1</GroupId>\\n    </GroupRules>\\n    <GroupRules>\\n        <GroupingFields>_aliyun_arms_involvedObject_kind</GroupingFields>\\n    </GroupRules>\\n    <State>true</State>\\n    <RuleId>10282</RuleId>\\n    <LabelMatchExpressionGrid>\\n        <LabelMatchExpressionGroups>\\n            <LabelMatchExpressions>\\n                <Operator>eq</Operator>\\n                <Value>app</Value>\\n                <Key>_aliyun_arms_involvedObject_kind</Key>\\n            </LabelMatchExpressions>\\n        </LabelMatchExpressionGroups>\\n    </LabelMatchExpressionGrid>\\n    <NotifyRules>\\n        <NotifyObjects>\\n            <NotifyType>CONTACT</NotifyType>\\n            <NotifyObjectId>1</NotifyObjectId>\\n            <Name>JohnDoe</Name>\\n        </NotifyObjects>\\n    </NotifyRules>\\n    <NotifyRules>\\n        <NotifyChannels>email</NotifyChannels>\\n    </NotifyRules>\\n    <Name>Prometheus Alert</Name>\\n</DispatchRule>\\n</DescribeDispatchRuleResponse>\",\"errorExample\":\"\"}]","title":"查询分派策略信息","summary":"调用DescribeDispatchRule接口查询分派策略信息。","description":"当前接口已不再维护，请使用新版告警管理的ListNotificationPolicies接口查询通知策略信息。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}