{"summary":"查看Prometheus告警规则列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"Name","in":"query","schema":{"description":"告警规则名称。","type":"string","required":false,"docRequired":false,"example":"Prometheus_Alert"}},{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClusterId","in":"query","schema":{"description":"集群ID。","type":"string","required":true,"docRequired":true,"example":"c0bad479465464e1d8c1e641b0afb****"}},{"name":"Type","in":"query","schema":{"description":"告警规则类型。","type":"string","required":false,"example":"自定义"}},{"name":"Status","in":"query","schema":{"description":"告警规则启用状态，取值：\n\n- `1`：开启\n- `0`：关闭","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"MatchExpressions","in":"query","schema":{"description":"标签匹配条件的JSON串。关于此字段的详细说明参见下文**关于参数MatchExpressions的补充说明**。","type":"string","required":false,"example":"[{\"key\":\"severity\",\"value\":\"critical\",\"operator\":\"re\"}]"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"description":"标签。","type":"array","items":{"description":"标签。","type":"object","properties":{"Key":{"description":"标签的键(key)。","type":"string","required":false,"example":"owner"},"Value":{"description":"标签的值（value）。","type":"string","required":false,"example":"zhangsan"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"9FEA6D00-317F-45E3-9004-7FB8B0B7****"},"PrometheusAlertRules":{"description":"返回结构体。","type":"array","items":{"description":"返回结构体。","type":"object","properties":{"Status":{"description":"告警规则启用状态，取值：\n\n- `1`：开启\n- `0`：关闭","type":"integer","format":"int32","example":"1"},"Type":{"description":"告警规则类型。","type":"string","example":"自定义"},"NotifyType":{"description":"通知类型， 取值：\n\n- `ALERT_MANAGER`：通过报警运维中心通知。\n- `DISPATCH_RULE`：指定通知策略进行通知。","type":"string","example":"ALERT_MANAGER"},"Expression":{"description":"告警表达式。","type":"string","example":"100 * (sum(rate(container_cpu_usage_seconds_total[1m])) by (pod_name) / sum(label_replace(kube_pod_container_resource_limits_cpu_cores, \\\"pod_name\\\", \\\"$1\\\", \\\"pod\\\", \\\"(.*)\\\")) by (pod_name))>75"},"Message":{"description":"告警通知消息，支持按照{{$labels.xxx}}格式来引用标签。","type":"string","example":"${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%"},"Duration":{"description":"持续时间，范围在1m~1440m，单位为分钟。","type":"string","example":"1m"},"DispatchRuleId":{"description":"通知策略ID，当**NotifyType**指定为`DISPATCH_RULE`时显示此参数。","type":"integer","format":"int64","example":"10282"},"AlertName":{"description":"告警规则名称。","type":"string","example":"Prometheus_Alert"},"AlertId":{"description":"告警规则ID。","type":"integer","format":"int64","example":"3888704"},"ClusterId":{"description":"集群ID。","type":"string","example":"c0bad479465464e1d8c1e641b0afb****"},"Labels":{"description":"告警规则的标签。","type":"array","items":{"description":"告警规则的标签。","type":"object","properties":{"Name":{"description":"标签的名称。","type":"string","example":"severity"},"Value":{"description":"标签的值。","type":"string","example":"critical"}}}},"Annotations":{"description":"告警规则的注释。","type":"array","items":{"description":"告警规则的注释。","type":"object","properties":{"Name":{"description":"注释的名称。","type":"string","example":"message"},"Value":{"description":"注释的值。","type":"string","example":"${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%"}}}},"Tags":{"description":"标签。","type":"array","items":{"description":"标签。","type":"object","properties":{"Key":{"description":"Tag的主键。","type":"string","example":"key"},"Value":{"description":"Tag的值。","type":"string","example":"value"}}}}}}},"Code":{"description":"状态码。200为成功，其他状态码为异常。","type":"integer","format":"int64","example":"200"},"Message":{"description":"返回结果的提示信息。","type":"string","example":"success"},"Success":{"description":"调用是否成功。","type":"boolean","example":"True"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"9FEA6D00-317F-45E3-9004-7FB8B0B7****\\\",\\n  \\\"PrometheusAlertRules\\\": [\\n    {\\n      \\\"Status\\\": 1,\\n      \\\"Type\\\": \\\"自定义\\\",\\n      \\\"NotifyType\\\": \\\"ALERT_MANAGER\\\",\\n      \\\"Expression\\\": \\\"100 * (sum(rate(container_cpu_usage_seconds_total[1m])) by (pod_name) / sum(label_replace(kube_pod_container_resource_limits_cpu_cores, \\\\\\\\\\\\\\\"pod_name\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"$1\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"pod\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"(.*)\\\\\\\\\\\\\\\")) by (pod_name))>75\\\",\\n      \\\"Message\\\": \\\"${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%\\\",\\n      \\\"Duration\\\": \\\"1m\\\",\\n      \\\"DispatchRuleId\\\": 10282,\\n      \\\"AlertName\\\": \\\"Prometheus_Alert\\\",\\n      \\\"AlertId\\\": 3888704,\\n      \\\"ClusterId\\\": \\\"c0bad479465464e1d8c1e641b0afb****\\\",\\n      \\\"Labels\\\": [\\n        {\\n          \\\"Name\\\": \\\"severity\\\",\\n          \\\"Value\\\": \\\"critical\\\"\\n        }\\n      ],\\n      \\\"Annotations\\\": [\\n        {\\n          \\\"Name\\\": \\\"message\\\",\\n          \\\"Value\\\": \\\"${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%\\\"\\n        }\\n      ],\\n      \\\"Tags\\\": [\\n        {\\n          \\\"Key\\\": \\\"key\\\",\\n          \\\"Value\\\": \\\"value\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"success\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ListPrometheusAlertRulesResponse>\\n    <PrometheusAlertRules>\\n        <Status>1</Status>\\n        <NotifyType>ALERT_MANAGER</NotifyType>\\n        <Type>自定义</Type>\\n        <AlertId>3888704</AlertId>\\n        <AlertName>Prometheus_Alert</AlertName>\\n        <Message>${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%</Message>\\n        <ClusterId>c0bad479465464e1d8c1e641b0afb****</ClusterId>\\n        <Expression>100 * (sum(rate(container_cpu_usage_seconds_total[1m])) by (pod_name) / sum(label_replace(kube_pod_container_resource_limits_cpu_cores, \\\\\\\"pod_name\\\\\\\", \\\\\\\"$1\\\\\\\", \\\\\\\"pod\\\\\\\", \\\\\\\"(.*)\\\\\\\")) by (pod_name))&amp;gt;75</Expression>\\n        <DispatchRuleId>10282</DispatchRuleId>\\n        <Duration>1m</Duration>\\n        <Labels>\\n            <Value>critical</Value>\\n            <Name>severity</Name>\\n        </Labels>\\n        <Annotations>\\n            <Value>${{$labels.pod_name}}CPU使用率大于80%，当前值{{$value}}%</Value>\\n            <Name>message</Name>\\n        </Annotations>\\n    </PrometheusAlertRules>\\n    <RequestId>9FEA6D00-317F-45E3-9004-7FB8B0B7****</RequestId>\\n</ListPrometheusAlertRulesResponse>\",\"errorExample\":\"\"}]","title":"查看告警规则列表","requestParamsDescription":"##  关于参数**MatchExpressions**的补充说明\n**JSON串示例及说明**\n```\n[\n{\n    \"key\":\"severity\",                           // 标签的Key。\n    \"value\":\"critical\",                           // 标签的Value。\n    \"operator\":\"re\"                           // eq：等于；re：匹配正则。\n}\n]\n```","responseParamsDescription":" ","extraInfo":" "}