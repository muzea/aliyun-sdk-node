{"summary":"创建或更新云拨测定时任务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID。","type":"string","required":true,"example":"cn-hangzhou"}},{"name":"TaskName","in":"query","schema":{"description":"任务名称。如果需要更新已创建的云拨测任务，此处填写已有的任务名称，并设置**UpdateTask**参数为**true**。","type":"string","required":true,"example":"网络拨测任务"}},{"name":"Url","in":"query","schema":{"description":"拨测地址。","type":"string","required":true,"example":"https://www.example.com"}},{"name":"MonitorList","in":"query","style":"json","schema":{"description":"监测点列表。","type":"array","items":{"type":"object","properties":{"CityCode":{"description":"城市ID。","type":"integer","format":"int64","required":true,"example":"1100101"},"NetServiceId":{"description":"运营商ID。","type":"integer","format":"int64","required":true,"example":"18"},"MonitorType":{"description":"运营商类型：\n\n- IDC\n- LastMilie","type":"integer","format":"int64","required":true,"example":"IDC"}},"required":false},"required":true}},{"name":"TaskType","in":"query","schema":{"description":"任务类型：\n\n1. 3：网页性能-IE\n2. 34：网页性能-Chrome\n3. 0：网络质量\n4. 40：文件下载\n5. 7：API性能","type":"integer","format":"int64","required":true,"example":"0"}},{"name":"IntervalTime","in":"query","schema":{"description":"拨测频率，单位为分钟。可选频率如下：\n\n- 1\n- 5\n- 10\n- 15\n- 20\n- 30\n- 60\n- 120\n- 180\n- 240\n- 360\n- 480\n- 720\n- 1440","type":"string","required":true,"example":"5"}},{"name":"IntervalType","in":"query","schema":{"description":"监测周期类型：\n\n- 0：每天\n- 1：自定义扩展频率","type":"string","required":true,"example":"0"}},{"name":"ExtendInterval","in":"query","style":"json","schema":{"description":"自定义扩展频率。","type":"object","properties":{"StartTime":{"description":"周期开始时间。格式为`yyyy-MM-dd HH`。","type":"string","required":false,"example":"2022-07-20 10"},"EndTime":{"description":"周期结束时间 。格式为`yyyy-MM-dd HH`。","type":"string","required":false,"example":"2022-08-20 10"},"Days":{"description":"拨测执行周期。","type":"array","items":{"description":"拨测执行周期。\n\n- -1：每天\n- 0：周日\n- 1：周一\n- 2：周二\n- 3：周三\n- 4：周四\n- 5：周五\n- 6：周六","type":"integer","format":"int64","required":false,"example":"-1"},"required":false},"StartHour":{"description":"当天开始拨测时间的小时数。","type":"integer","format":"int64","required":false,"example":"00"},"StartMinute":{"description":"当天开始拨测时间的分钟数。","type":"integer","format":"int64","required":false,"example":"00"},"EndHour":{"description":"当天结束拨测时间的小时数。","type":"integer","format":"int64","required":false,"example":"23"},"EndMinute":{"description":"当天结束拨测时间的分钟数。","type":"integer","format":"int64","required":false,"example":"00"}},"required":false}},{"name":"IpType","in":"query","schema":{"description":"IP类型：\n\n- 0：自动\n- 1：IPv4\n- 2：IPpv6","type":"integer","format":"int64","required":true,"example":"0"}},{"name":"Net","in":"query","style":"json","schema":{"description":"网络任务。","type":"object","properties":{"NetICMPSwitch":{"description":"Ping监测开关。\n\n- 0：关。\n- 1：开，开启后需设置ICMP参数。","type":"integer","format":"int64","required":false,"example":"1"},"NetICMPActive":{"description":"协议类型：\n\n- 0：ICMP\n- 1：TCP ","type":"integer","format":"int64","required":false,"example":"0"},"NetICMPInterval":{"description":"执行时间间隔。单位为秒。","type":"integer","format":"int64","required":false,"example":"1"},"NetICMPNum":{"description":"Package数量。","type":"integer","format":"int64","required":false,"example":"4"},"NetICMPSize":{"description":"Package大小。","type":"integer","format":"int64","required":false,"example":"32"},"NetDNSSwitch":{"description":"DNS监测开关。\n\n- 0：关。\n- 1：开，开启后需设置DNS参数。","type":"integer","format":"int64","required":false,"example":"1"},"NetDNSTimeout":{"description":"DNS监测超时时间。默认值为5秒，取值范围为0~45秒。","type":"integer","format":"int64","required":false,"example":"5"},"NetDNSQueryMethod":{"description":"DNS查询方式：\n\n- 1：递归\n- 2：迭代","type":"integer","format":"int64","required":false,"example":"1"},"NetDNSNs":{"description":"指定NS服务器。","type":"string","required":false,"example":"114.114.XX.XX"},"NetDigSwitch":{"description":"是否以dig数据格式展示数据内容。\n\n- 0：否\n- 1：是\n","type":"integer","format":"int64","required":false,"example":"0"},"NetDNSServer":{"description":"DNS服务器类型：\n\n- 0：IPv4\n- 1：IPv6\n- 2：自动","type":"integer","format":"int64","required":false,"example":"0"},"NetTraceRouteSwitch":{"description":"Tracert监测开关。\n\n- 0：关。\n- 1：开，开启后需设置Tracert参数。\n","type":"integer","format":"int64","required":false,"example":"1"},"NetTraceRouteTimeout":{"description":"监测超时，取值范围为0~300秒。","type":"integer","format":"int64","required":false,"example":"60"},"NetTraceRouteNum":{"description":"最大活跃点数。","type":"integer","format":"int64","required":false,"example":"20"},"WhiteList":{"description":"\nDNS劫持白名单。填写格式：`域名:匹配规则`。\n\n> WAP网络不支持劫持。","type":"string","required":false,"example":"www.aliyun.com:202.0.3.55|203.3.44.67"},"NetICMPTimeout":{"description":"监测超时取值范围。","type":"integer","format":"int64","required":false,"example":"20"},"NetICMPDataCut":{"description":"切分Package开关。\n\n- 0：关\n- 1：开\n","type":"integer","format":"int64","required":false,"example":"0"}},"required":false}},{"name":"CommonParam","in":"query","style":"json","schema":{"description":"公共参数。","type":"object","properties":{"AlarmFlag":{"description":"是否创建报警：\n\n- 1：创建报警\n- 0：不创建报警","type":"string","required":false,"example":"1"},"AlertList":{"description":"告警参数。","type":"array","items":{"type":"object","properties":{"Name":{"description":"告警规则名称。\n\n网络拨测：\n\n- 时延：PING_SET\n- 丢包率：PING_LOST_RATE\n- 劫持：HIJACKPER","type":"string","required":false,"example":"PING_SET"},"IsCritical":{"description":"是否是必要条件。","type":"integer","format":"int64","required":false,"example":"true"},"Symbols":{"description":"条件判断：\n\n- 1：大于\n- 0：小于","type":"integer","format":"int64","required":false,"example":"1"}},"required":false},"required":false},"AlertPolicyId":{"description":"通知策略ID。","type":"string","required":false,"example":"1234"},"AlertNotifierId":{"description":"告警联系人ID，多个联系人之间通过半角逗号（,）分隔。","type":"string","required":false,"example":"123"},"StartExecutionTime":{"description":"起始执行时间。","type":"integer","format":"int64","required":false,"example":"2022-07-20 10"},"MonitorSamples":{"description":"是否均匀分配监测样本 ：\n\n- 0：否\n- 1：是","type":"integer","format":"int64","required":false,"example":"0"}},"required":false}},{"name":"Navigation","in":"query","style":"json","schema":{"description":"浏览任务监测关联项。","type":"object","properties":{"NavDisableCache":{"description":"是否禁用缓存。\n\n- 1：禁用\n- 0：不禁用\n","type":"integer","format":"int64","required":false,"example":"1"},"NavReturnElement":{"description":"是否返回页面的元素。\n\n- 1：否，返回基础文档数据。\n- 2：是，返回所有文档数据。\n","type":"integer","format":"int64","required":false,"example":"2"},"NavRedirection":{"description":"当出现重定向后，是否要继续浏览。\n\n- 1：是\n- 0：否\n","type":"integer","format":"int64","required":false,"example":"1"},"NavDisableCompression":{"description":"通过Accept-Encoding字段判断是否接受压缩文件。\n\n- 1：禁用\n- 0：不禁用\n","type":"string","required":false,"example":"1"},"NavAutomaticScrolling":{"description":"是否支持自动滚动屏幕，加载页面。\n\n- 1：是\n- 0：否\n","type":"string","required":false,"example":"1"},"NavIgnoreCertificateError":{"description":"是否忽略在SSL握手中证书校验过程中的证书错误而继续浏览。\n\n- 1：忽略\n- 0：不忽略\n","type":"integer","format":"int64","required":false,"example":"1"},"FilterInvalidIP":{"description":"是否过滤非有效IP。\n\n- 1：不过滤\n- 0：过滤\n","type":"integer","format":"int64","required":false,"example":"1"},"ExecuteApplication":{"description":"是否执行Applet。\n\n- 1：执行\n- 0：不执行\n\n> 仅IE全元素支持此参数。","type":"integer","format":"int64","required":false,"example":"1"},"ExecuteActiveX":{"description":"是否执行ActiveX。\n\n- 3：执行\n- 0：不执行\n\n> 仅IE全元素支持此参数。","type":"integer","format":"int64","required":false,"example":"3"},"ExecuteScript":{"description":"是否执行脚本。\n\n- 1：执行\n- 0：不执行\n\n> 仅IE全元素支持此参数。","type":"integer","format":"int64","required":false,"example":"1"},"QUICVersion":{"description":"设置QUIC版本。\n\n- 0（默认）\n- 35\n- 39\n- 43\n- 44\n\n> 仅Chrome全元素支持此参数。\n","type":"integer","format":"int64","required":false,"example":"0"},"QUICDomain":{"description":"输入QUIC请求元素域名。\n> 仅Chrome全元素支持此参数。","type":"string","required":false,"example":"www.example.com"},"RequestHeader":{"description":"是否返回请求头。\n\n- 0：不返回\n- 1：返回基础文档Header\n- 2：返回所有Header\n","type":"integer","format":"int64","required":false,"example":"0"},"NavCustomHost":{"description":"选择自定义Host模式。\n\n- 1：轮循\n- 0：随机\n","type":"integer","format":"int64","required":false,"example":"1"},"NavCustomHostIp":{"description":"自定义Host IP。可以填写多个IP，每个IP用半角逗号（,）分隔。","type":"string","required":false,"example":"ipv4:192.168.2.1,192.168.2.5:img.a.com|192.168.2.1[8080]:img.a.com"},"NavCustomHeader":{"description":"自定义header。\n\n- 0：关\n- 1：修改第一包\n- 2：修改全部包","type":"string","required":false,"example":"0"},"NavCustomHeaderContent":{"description":"自定义Header格式。可以填写多个字段，多个字段以竖线（|）隔开。","type":"string","required":false,"example":"Host:www.example.com|Referer:www.example.com"},"ElementBlacklist":{"description":"元素黑名单。","type":"string","required":false,"example":"*.a.com"},"ProcessName":{"description":"进程标识。","type":"string","required":false,"example":"ssh"},"VerifyStringBlacklist":{"description":"验证字符串黑名单。截取页面代码中所包含的一段字符串，若检测样本中不包含则报错，支持正则表达配置格式【Regex:验证内容】，字符串黑名单多以\"|\"隔开。","type":"string","required":false,"example":"Regex:*.example|expalme|"},"VerifyStringWhiteList":{"description":"验证字符串白名单。截取页面代码中所包含的一段字符串，若检测样本中不包含则报错，支持正则表达配置格式【Regex:验证内容】，字符串白名单多以\"|\"隔开。","type":"string","required":false,"example":"Regex:*.example|expalme|"},"MonitorTimeout":{"description":"监测超时，单位为秒。","type":"string","required":false,"example":"20"},"WaitCompletionTime":{"description":"等待完成时间，单位为秒。","type":"number","format":"double","required":false,"example":"15"},"SlowElementThreshold":{"description":"慢元素阈值，单位为秒。","type":"number","format":"double","required":false,"example":"5"},"DNSHijackWhiteList":{"description":"DNS劫持白名单。填写格式：域名:匹配规则。","type":"string","required":false,"example":"www.aliyun.com:202.0.3.55|203.3.44.67"},"PageTamper":{"description":"页面篡改。填写规则：冒号前部分为要判断的域名，冒号后部分为匹配规则；匹配规则支持确切IP\\ip通配符\\子网掩码\\cname，多个以竖线分割。","type":"string","required":false,"example":"www.example.com:202.0.3.55|203.3.44.67"},"FlowHijackJumpTimes":{"description":"识别元素。","type":"integer","format":"int64","required":false,"example":"50"},"FlowHijackLogo":{"description":"劫持标识。劫持判断关键字或关键元素，可以带星号（*）。","type":"string","required":false,"example":"test"},"ResponseHeader":{"description":"返回响应头。\n\n- 0：不返回\n- 1：返回基础文档Header\n- 2：返回所有Header","type":"integer","format":"int64","required":false,"example":"0"}},"required":false}},{"name":"Download","in":"query","style":"json","schema":{"description":"文件下载任务。","type":"object","properties":{"DownloadTransmissionSize":{"description":"传输大小，单位为KB。","type":"integer","format":"int64","required":false,"example":"10240"},"DownloadCustomHost":{"description":"自定义Host。\n\n- 1：轮循\n- 0：随机\n","type":"integer","format":"int64","required":false,"example":"1"},"DownloadCustomHostIp":{"description":"自定义Host IP。可以填写多个IP，每个IP用半角逗号（,）分隔。","type":"string","required":false,"example":"ipv4:192.168.2.1,192.168.2.5:img.a.com|192.168.2.1[8080]:img.a.com"},"WhiteList":{"description":"DNS劫持白名单。","type":"string","required":false,"example":"[{\\\"src\\\":\\\"211.154.166.174\\\"}]"},"DownloadKernel":{"description":"下载内核。\n\n- 1：curl\n- 0：WinInet\n","type":"integer","format":"int64","required":false,"example":"1"},"QuickProtocol":{"description":"Quick协议\n\n- 1：http1\n- 2：http2\n- 3：http3\n","type":"string","required":false,"example":"1"},"MonitorTimeout":{"description":"监测时长。","type":"integer","format":"int64","required":false,"example":"30"},"ConnectionTimeout":{"description":"连接超时。","type":"number","format":"double","required":false,"example":"200"},"VerifyWay":{"description":"验证方式。\n\n- 0：不验证 \n- 1：验证字符串 \n- 2：MD5验证","type":"integer","format":"int64","required":false,"example":"0"},"ValidateKeywords":{"description":"验证关键词。截取响应头中所包含的一段字符串，若监测样本中不包含则报错。","type":"string","required":false,"example":"keyword"},"DownloadRedirection":{"description":"是否支持重定向。","type":"integer","format":"int64","required":false,"example":"0"},"DownloadCustomHeaderContent":{"description":"自定义Header格式。可以填写多个字段，多个字段以竖线（|）隔开。","type":"string","required":false,"example":"Host:www.example.com|Referer:www.example.com"},"DownloadIgnoreCertificateError":{"description":"证书错误忽略内容。将复选框的值用竖线（|）拼接传递。复选框的值支持1:忽略证书状态错误;2:忽略证书不可信错误;4:忽略无效主机名错误。","type":"string","required":false,"example":"1|2|4"}},"required":false}},{"name":"Protocol","in":"query","style":"json","schema":{"description":"API性能任务。","type":"object","properties":{"RequestContent":{"description":"请求内容，包含Header和Body。\n","type":"object","properties":{"Method":{"description":"请求方法。\n\n- POST\n- GET\n","type":"string","required":false,"example":"POST"},"Header":{"description":"自定义发起API性能拨测时的请求Header。","type":"array","items":{"type":"object","properties":{"Key":{"description":"Header的Key。","type":"string","required":false,"example":"regionId"},"Value":{"description":"Header的Value。","type":"string","required":false,"example":"cn-hangzhou"}},"required":false},"required":false},"Body":{"description":"自定义发起API性能拨测时的请求Body。","type":"object","properties":{"Mode":{"description":"内容类型。\n\n- form-data\n- x-www-form-urlencoded\n- raw\n","type":"string","required":false,"example":"form-data"},"FormData":{"description":"**Mode**设置为**form-data**时传入的数据内容。\n","type":"array","items":{"type":"object","properties":{"Key":{"description":"**form-data**的Key。","type":"string","required":false,"example":"appId"},"Value":{"description":"**form-data**的Value。","type":"string","required":false,"example":"3425"}},"required":false},"required":false},"UrlEncoding":{"description":"**Mode**设置为**x-www-form-urlencoded**时传入的数据内容。\n","type":"array","items":{"type":"object","properties":{"Key":{"description":"**x-www-form-urlencoded**的Key。","type":"string","required":false,"example":"appId"},"Value":{"description":"**x-www-form-urlencoded**的Value。","type":"string","required":false,"example":"11080"}},"required":false},"required":false},"Raw":{"description":"**Mode**设置为**raw**时传入的数据内容。\n","type":"string","required":false,"example":"content"},"Language":{"description":"Mode设置为raw时选择的语言。\n\n- json\n- xml\n- javascript\n- html\n- text","type":"string","required":false,"example":"json"}},"required":false}},"required":false},"CharacterEncoding":{"description":"字符编码。\n\n- 0：utf-8\n- 1：gbk\n- 2：gb2312\n- 3：unicode\n","type":"integer","format":"int64","required":false,"example":"0"},"VerifyWay":{"description":"验证响应内容。\n\n- 0：不验证\n- 1：字符串完全匹配\n- 2：字符串部分包含\n- 3：MD5验证\n","type":"integer","format":"int64","required":false,"example":"0"},"VerifyContent":{"description":"验证内容。","type":"string","required":false,"example":"\"code\":200"},"ReceivedDataSize":{"description":"接收数据大小。验证响应内容选择**部分包含**时填写。","type":"integer","format":"int64","required":false,"example":"500"},"ProtocolMonitorTimeout":{"description":"监测超时时间，单位为秒。","type":"string","required":false,"example":"30"},"CustomHost":{"description":"自定义Host。\n\n- 1：轮循\n- 0：随机","type":"integer","format":"int64","required":false,"example":"1"},"CustomHostIp":{"description":"自定义Host IP。可以填写多个IP，每个IP用半角逗号（,）分隔。","type":"string","required":false,"example":"ipv4:192.168.2.1,192.168.2.5:img.a.com|192.168.2.1[8080]:img.a.com"},"ProtocolConnectionTime":{"description":"协议连接超时时间，单位为秒。","type":"integer","format":"int64","required":false,"example":"3"}},"required":false}},{"name":"UpdateTask","in":"query","schema":{"description":"是否更新已有云拨测任务。\n\n- true：更新任务。\n- false：新建任务。","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"A5EC8221-08F2-4C95-9AF1-49FD998C****"},"Code":{"description":"系统返回状态码：\n\n- 1001：请求成功\n- 1002：请求失败\n- 1003：参数错误\n- 1004：鉴权失败\n- 1006：任务不存在\n- 1099：内部错误","type":"string","example":"1001"},"Msg":{"description":"任务创建失败的返回说明。","type":"string","example":"null"},"Data":{"description":"云拨测任务信息。","type":"object","properties":{"TaskId":{"description":"云拨测任务ID。","type":"integer","format":"int64","example":"1234"}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A5EC8221-08F2-4C95-9AF1-49FD998C****\\\",\\n  \\\"Code\\\": \\\"1001\\\",\\n  \\\"Msg\\\": \\\"null\\\",\\n  \\\"Data\\\": {\\n    \\\"TaskId\\\": 1234\\n  }\\n}\",\"type\":\"json\"}]","title":"创建或更新云拨测任务"}