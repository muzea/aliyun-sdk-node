{"summary":"创建或修改Webhook告警联系人。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"WebhookId","in":"formData","schema":{"title":"告警webhook ID","description":"Webhook告警联系人ID。\n\n- 不填代表创建新的Webhook告警联系人。\n- 填写代表修改指定Webhook告警联系人信息。","type":"integer","format":"int64","required":false,"example":"123"}},{"name":"WebhookName","in":"formData","schema":{"title":"告警webhook名称","description":"Webhook告警联系人名称。","type":"string","required":true,"example":"Webhook告警"}},{"name":"Method","in":"formData","schema":{"title":"Http请求方法","description":"HTTP请求方法。\n\n- Post\n\n- Get","type":"string","required":true,"example":"Post"}},{"name":"Url","in":"formData","schema":{"title":"Url","description":"**Method**的请求方法URL。","type":"string","required":true,"example":"https://oapi.dingtalk.com/robot/send?access_token=e1a049121******"}},{"name":"BizHeaders","in":"formData","schema":{"title":"http请求头","description":"HTTP请求头。","type":"string","required":false,"example":"[{\"Content-Type\":\"application/json;charset=utf-8\"}]"}},{"name":"BizParams","in":"formData","schema":{"title":"http请求参数","description":"HTTP请求参数。","type":"string","required":false,"example":"[{\"content\":\"mike\"}]"}},{"name":"Body","in":"formData","schema":{"title":"告警通知模板","description":"告警触发时发送的通知模板，当**Method**设置为**Post**时必填，可使用`$content`占位符输出通知内容，不可超过500个字符。更多信息，请参见[通知模板的变量说明](~~251834~~)。","type":"string","required":false,"example":"{ \"告警名称\":\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\", \"集群名称\":\"{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}\", \"应用名称\":\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\", \"通知策略\":\"{{ .dispatchRuleName }}\", \"告警时间\":\"{{ .startTime }}\", \"告警内容\":\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\" }"}},{"name":"RecoverBody","in":"formData","schema":{"title":"告警恢复模板","description":"告警恢复时发送的通知模板，当**Method**设置为**Post**时必填，可使用`$content`占位符输出通知内容，不可超过500个字符。更多信息，请参见[通知模板的变量说明](~~251834~~)。","type":"string","required":false,"example":"{ \"告警名称\":\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\", \"集群名称\":\"{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}\", \"应用名称\":\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\", \"通知策略\":\"{{ .dispatchRuleName }}\", \"恢复时间\":\"{{ .endTime }}\", \"告警内容\":\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\" }"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"16AF921B-8187-489F-9913-43C808B4****"},"WebhookContact":{"description":"返回的WebhookContact对象。","type":"object","properties":{"WebhookId":{"title":"告警webhook ID","description":"Webhook告警联系人ID。","type":"number","format":"float","example":"123"},"WebhookName":{"title":"告警webhook名称","description":"Webhook告警联系人名称。","type":"string","example":"Webhook告警"},"Webhook":{"description":"返回的Webhook对象。","type":"object","properties":{"Method":{"title":"Http请求方法","description":"HTTP请求方法。\n\n- Post\n\n- Get","type":"string","example":"Post"},"Url":{"title":"url","description":"请求方法URL。","type":"string","example":"https://oapi.dingtalk.com/robot/send?access_token=e1a049121******"},"BizHeaders":{"title":"http请求头","description":"HTTP请求头。","type":"string","example":"[{\"Content-Type\":\"application/json;charset=utf-8\"}]"},"BizParams":{"title":"http请求参数","description":"HTTP请求参数。","type":"string","example":"[{\"content\":\"mike\"}]"},"Body":{"title":"告警通知模板","description":"告警通知模板。","type":"string","example":"{ \"告警名称\":\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\", \"集群名称\":\"{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}\", \"应用名称\":\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\", \"通知策略\":\"{{ .dispatchRuleName }}\", \"告警时间\":\"{{ .startTime }}\", \"告警内容\":\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\" }"},"RecoverBody":{"title":"告警恢复模板","description":"告警恢复模板。","type":"string","example":"{ \"告警名称\":\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\", \"集群名称\":\"{{ .commonLabels.clustername }} {{ end }}{{if eq \"app\" .commonLabels._aliyun_arms_involvedObject_kind }}\", \"应用名称\":\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\", \"通知策略\":\"{{ .dispatchRuleName }}\", \"恢复时间\":\"{{ .endTime }}\", \"告警内容\":\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\" }"}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"16AF921B-8187-489F-9913-43C808B4****\\\",\\n  \\\"WebhookContact\\\": {\\n    \\\"WebhookId\\\": 123,\\n    \\\"WebhookName\\\": \\\"Webhook告警\\\",\\n    \\\"Webhook\\\": {\\n      \\\"Method\\\": \\\"Post\\\",\\n      \\\"Url\\\": \\\"https://oapi.dingtalk.com/robot/send?access_token=e1a049121******\\\",\\n      \\\"BizHeaders\\\": \\\"[{\\\\\\\"Content-Type\\\\\\\":\\\\\\\"application/json;charset=utf-8\\\\\\\"}]\\\",\\n      \\\"BizParams\\\": \\\"[{\\\\\\\"content\\\\\\\":\\\\\\\"mike\\\\\\\"}]\\\",\\n      \\\"Body\\\": \\\"{ \\\\\\\"告警名称\\\\\\\":\\\\\\\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\\\\\\\", \\\\\\\"集群名称\\\\\\\":\\\\\\\"{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }}\\\\\\\", \\\\\\\"应用名称\\\\\\\":\\\\\\\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\\\\\\\", \\\\\\\"通知策略\\\\\\\":\\\\\\\"{{ .dispatchRuleName }}\\\\\\\", \\\\\\\"告警时间\\\\\\\":\\\\\\\"{{ .startTime }}\\\\\\\", \\\\\\\"告警内容\\\\\\\":\\\\\\\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\\\\\" }\\\",\\n      \\\"RecoverBody\\\": \\\"{ \\\\\\\"告警名称\\\\\\\":\\\\\\\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\\\\\\\", \\\\\\\"集群名称\\\\\\\":\\\\\\\"{{ .commonLabels.clustername }} {{ end }}{{if eq \\\\\\\"app\\\\\\\" .commonLabels._aliyun_arms_involvedObject_kind }}\\\\\\\", \\\\\\\"应用名称\\\\\\\":\\\\\\\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\\\\\\\", \\\\\\\"通知策略\\\\\\\":\\\\\\\"{{ .dispatchRuleName }}\\\\\\\", \\\\\\\"恢复时间\\\\\\\":\\\\\\\"{{ .endTime }}\\\\\\\", \\\\\\\"告警内容\\\\\\\":\\\\\\\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\\\\\" }\\\"\\n    }\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateOrUpdateWebhookContactResponse>\\n    <RequestId>16AF921B-8187-489F-9913-43C808B4****</RequestId>\\n    <WebhookContact>\\n        <WebhookId>123</WebhookId>\\n        <WebhookName>Webhook告警</WebhookName>\\n        <Webhook>\\n            <Method>Post</Method>\\n            <Url>https://oapi.dingtalk.com/robot/send?access_token=e1a049121******</Url>\\n            <BizHeaders>[{\\\"Content-Type\\\":\\\"application/json;charset=utf-8\\\"}]</BizHeaders>\\n            <BizParams>[{\\\"content\\\":\\\"mike\\\"}]</BizParams>\\n            <Body>{ \\\"告警名称\\\":\\\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\\\", \\\"集群名称\\\":\\\"{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }}\\\", \\\"应用名称\\\":\\\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\\\", \\\"通知策略\\\":\\\"{{ .dispatchRuleName }}\\\", \\\"告警时间\\\":\\\"{{ .startTime }}\\\", \\\"告警内容\\\":\\\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\" }</Body>\\n            <RecoverBody>{ \\\"告警名称\\\":\\\"{{ .commonLabels.alertname }}{{if .commonLabels.clustername }}\\\", \\\"集群名称\\\":\\\"{{ .commonLabels.clustername }} {{ end }}{{if eq \\\"app\\\" .commonLabels._aliyun_arms_involvedObject_kind }}\\\", \\\"应用名称\\\":\\\"{{ .commonLabels._aliyun_arms_involvedObject_name }} {{ end }}\\\", \\\"通知策略\\\":\\\"{{ .dispatchRuleName }}\\\", \\\"恢复时间\\\":\\\"{{ .endTime }}\\\", \\\"告警内容\\\":\\\"{{ for .alerts }} {{ .annotations.message }} {{ end }}\\\" }</RecoverBody>\\n        </Webhook>\\n    </WebhookContact>\\n</CreateOrUpdateWebhookContactResponse>\",\"errorExample\":\"\"}]","title":"创建或修改Webhook告警联系人"}