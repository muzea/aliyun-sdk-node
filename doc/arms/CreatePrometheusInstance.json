{"summary":"新建Prometheus实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"title":"国内Prometheus for 云服务：固定值cn-shanghai。\n其它类型的实例：实际regionId。","description":"实际Region。","type":"string","required":true,"docRequired":true,"example":"cn-shanghai"}},{"name":"ClusterType","in":"query","schema":{"title":"类型：\n  remote-write（Prometheus for Remote Write）\n  ecs（Prometheus for ECS）\n  global-view（Prometheus for GlobalView）\n  aliyun-cs\u0000\u0000（Prometheus for 容器服务）","description":"类型有： \n-  remote-write：Prometheus for Remote Write\n-  ecs（不再支持）：Prometheus for ECS\n-  global-view：Prometheus for GlobalView\n-  aliyun-cs（不再支持）：Prometheus for 容器服务\n- cloud-product（不再支持）：Prometheus for 云服务\n- cloud-monitor（不再支持）：Prometheus for 企业云监控\n- flink（不再支持）: Prometheus for Flink","type":"string","required":true,"docRequired":true,"example":"remote-write"}},{"name":"VpcId","in":"query","schema":{"title":"当clusterType为ecs或者创建托管版ask容器集群时，需要传此参数：用户专有网络VPC","description":"用户专有网络VPC。当clusterType为ecs或者aliyun-cs的托管版ask容器集群时，需要传此参数。","type":"string","required":false,"example":"vpc-rpn**********"}},{"name":"VSwitchId","in":"query","schema":{"title":"当clusterType为ecs或者创建托管版ask容器集群时，需要传此参数：用户专有网络交换机VSwitch","description":"用户专有网络交换机VSwitch。当clusterType为ecs或者aliyun-cs的托管版ask容器集群时，需要传此参数。","type":"string","required":false,"docRequired":false,"example":"vsw-bp1*********"}},{"name":"SecurityGroupId","in":"query","schema":{"title":"当clusterType为ecs或者创建托管版ask容器集群时，需要传此参数：用户专有网络安全组SecurityGroup","description":"用户专有网络安全组SecurityGroup。当clusterType为ecs或者aliyun-cs的托管版ask容器集群时，需要传此参数。","type":"string","required":false,"docRequired":false,"example":"sg-bp1********"}},{"name":"ClusterId","in":"query","schema":{"title":"当clusterType为aliyun-cs时，需要传此参数：用户容器服务集群ID","description":"用户容器服务集群ID。当clusterType为aliyun-cs时，需要传此参数。","type":"string","required":false,"docRequired":false,"example":"cc7a37ee31aea4ed1a059eff8034b****"}},{"name":"ClusterName","in":"query","schema":{"title":"当clusterType为remote-write、ecs、global-view时，需要传此参数：用户新建集群的名称。\necs类型实例时，ClusterName的命名规则“name-vpc-id”，且name长度不允许超过24个字符。如“mytest1-vpc-xxxxxxxxxxx”。","description":"用户新建集群的名称。当clusterType为remote-write、ecs、global-view时，需要传此参数。\n\n若是ecs类型实例，ClusterName的命名规则为“name-vpc-id”，且name部分的长度不允许超过24个字符，例如“mytest1-vpc-xxxxxxxxxxx”。","type":"string","required":false,"docRequired":false,"example":"clusterNameOfTest"}},{"name":"SubClustersJson","in":"query","schema":{"title":"当clusterType为global-view时，需要传此参数：需要聚合的集群的信息列表；示例：[{\"headers\":{},\"regionId\":\"cn-hangzhou\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c39a1048921e04fceb039db2fbb73ede6\",\"sourceName\":\"arms-luyao-test\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"},{\"headers\":{},\"regionId\":\"cn-beijing\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c6b6485496d5b400abde22cb47b5d790f\",\"sourceName\":\"agent-321-测试\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"},{\"headers\":{},\"regionId\":\"cn-zhangjiakou\",\"sourceType\":\"AlibabaPrometheus\",\"extras\":{},\"clusterId\":\"c261a4f3200c446659133f1ade789b15e\",\"sourceName\":\"zaifeng-cardinality-01\",\"dataSource\":\"\",\"userId\":\"1672753017899339\"}]","description":"globalView实例的子实例JSON串。","type":"string","required":false,"docRequired":false,"example":"当clusterType为global-view时，需要传此参数：需要聚合的集群的信息列表；示例：\n[\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-hangzhou\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c39a1048921e04f***********\",\n        \"sourceName\":\"arms-luyao-test\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    },\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-beijing\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c6b6485496d5b40***********\",\n        \"sourceName\":\"agent-321-测试\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    },\n    {\n        \"headers\":{\n\n        },\n        \"regionId\":\"cn-zhangjiakou\",\n        \"sourceType\":\"AlibabaPrometheus\",\n        \"extras\":{\n\n        },\n        \"clusterId\":\"c261a4f3200c446***********\",\n        \"sourceName\":\"zaifeng-cardinality-01\",\n        \"dataSource\":\"\",\n        \"userId\":\"1672753***********\"\n    }\n]"}},{"name":"AllSubClustersSuccess","in":"query","schema":{"title":"创建GlobalView时，是否要求所有子实例都校验成功时，才创建GlobalView实例。后台默认是false，即可以部分成功。","description":"创建GlobalView时，是否要求所有子实例都校验成功时，才创建GlobalView实例。默认是false，即可以部分成功。","type":"boolean","required":false,"docRequired":false,"example":"true"}},{"name":"GrafanaInstanceId","in":"query","schema":{"title":"Grafana工作区ID；共享版Grafana时，填\"free\"。","description":"绑定的Grafana工作区ID。使用共享版Grafana时，值为“free”。","type":"string","required":false,"docRequired":true,"example":"grafana-bp1*****"}},{"name":"ResourceGroupId","in":"query","schema":{"title":"用户资源组ID","description":"资源组ID。","type":"string","required":false,"docRequired":false,"example":"rg-acfmxyexli2****"}},{"name":"Tags","in":"query","style":"repeatList","schema":{"title":"可以传此参数，给实例创建标签进行管理","description":"用户自定义标签。","type":"array","items":{"description":"标签列表。","type":"object","properties":{"Key":{"title":"标签名","description":"标签的键（Key）。","type":"string","required":false,"example":"TestKey"},"Value":{"title":"标签值","description":"标签的值（Value）。","type":"string","required":false,"example":"TestValue"}},"required":false},"required":false,"example":"[\n    {\n        \"labelName\":\"labelValue\"\n    },\n    {\n        \"testName\":\"clusterA\"\n    }\n]","maxItems":21}},{"name":"Duration","in":"query","schema":{"title":"存储时长（天）。","description":"数据存储时长（天）。","type":"integer","format":"int32","required":false,"example":"90"}},{"name":"ArchiveDuration","in":"query","schema":{"title":"存储到期后，自动归档保存的天数（可选值：60、90、180、365）。0表示不归档保存。","description":"存储到期后，自动归档保存的天数（可选值：60、90、180、365）。0表示不归档保存。","type":"integer","format":"int32","required":false,"example":"90"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Data":{"title":"集群id","description":"新建实例成功后的实例ID。\n\n- 如果是aliyun-cs实例，则Prometheus实例ID就是CS的集群ID。\n\n- 如果是ecs实例，则Prometheus实例ID就是VPCID。","type":"string","example":"qduukd****"},"RequestId":{"description":"请求ID。","type":"string","example":"70675725-8F11-4817-8106-CFE0AD71****"},"Message":{"description":"返回信息。","type":"string","example":"message"},"Code":{"description":"接口状态码：\n\n- `2XX`：成功\n- `3XX`：重定向\n- `4XX`：请求错误\n- `5XX`：服务器错误","type":"integer","format":"int32","example":"200"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"Data\\\": \\\"qduukd****\\\",\\n  \\\"RequestId\\\": \\\"70675725-8F11-4817-8106-CFE0AD71****\\\",\\n  \\\"Message\\\": \\\"message\\\",\\n  \\\"Code\\\": 200\\n}\",\"type\":\"json\"}]","title":"新建Prometheus实例"}