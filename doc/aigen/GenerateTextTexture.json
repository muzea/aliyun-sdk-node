{"summary":"本文介绍生成专区（aigen）类目下的锦书-文字纹理生成GenerateTextTexture的语法及示例。","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"none"},"parameters":[{"name":"ImageUrl","in":"formData","schema":{"description":"用户输入的文字图像URL。输入限制如下：\n\n- 图像大小小于5 MB，黑底白字。\n- 图像格式：JPG、PNG、JPEG、BMP。\n- 宽高比不超过2:1，图像最长边不超过2048像素。\n\n> - 当图像分辨率超过最大限制时，请先将图片进行缩放，调整图片大小，具体请参见[图片缩放](~~44688~~)。\n- 若输入**ImageUrl**字段，则不能使用与文字输入相关的字段：**TextContent**、**TtfUrl**、**FontName**和**OutputImageRatio**。\n- URL地址中不能包含中文字符。\n","type":"string","required":false,"example":"http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/aigen/xxx01.png","isFileTransferUrl":true}},{"name":"TextContent","in":"formData","schema":{"description":"用户输入的文字内容。输入限制如下：\n\n- 小于6个字符，且不能为空。\n- 支持中文、阿拉伯数字、英文字母。若提供ttf文件，字符的支持范围由ttf文件决定。\n> **TtfUrl**和**FontName**参数二选一即可。","type":"string","required":false,"example":"文字创意"}},{"name":"TtfUrl","in":"formData","schema":{"description":"用户传入的ttf格式字体文件。标准的ttf文件，文件大小小于30 MB。\n> **TtfUrl**和**FontName**参数二选一即可。","type":"string","required":false,"example":"http://viapi-test.oss-cn-shanghai.aliyuncs.com/viapi-3.0domepic/aigen/xxx02.png","isFileTransferUrl":true}},{"name":"FontName","in":"formData","schema":{"description":"使用预置字体的名称。取值范围如下：\n\n- **dongfangdakai**（默认）：阿里妈妈东方大楷\n- **puhuiti_m**：阿里巴巴普惠体\n- **shuheiti**：阿里妈妈数黑体\n- **jinbuti**：钉钉进步体\n- **kuheiti**：站酷酷黑体\n- **kuaileti**：站酷快乐体\n- **wenyiti**：站酷文艺体\n- **logoti**：站酷小薇LOGO体\n- **cangeryuyangti_m**：站酷仓耳渔阳体\n- **siyuansongti_b**：思源宋体\n- **siyuanheiti_m**：思源黑体\n- **fangzhengkaiti**：方正楷体\n\n> **TtfUrl**和**FontName**参数任选其一即可。","type":"string","required":false,"example":"dongfangdakai"}},{"name":"OutputImageRatio","in":"formData","schema":{"description":"文字输入的图片的宽高比。取值范围如下：\n\n- 1:1（默认）\n- 16:9\n- 9:16","type":"string","required":false,"example":"1:1"}},{"name":"Prompt","in":"formData","schema":{"description":"期望文字纹理创意样式的描述提示词。长度小于200，且不能为空。","type":"string","required":true,"example":"水果，蔬菜"}},{"name":"TextureStyle","in":"query","schema":{"description":"纹理风格的类型。取值范围如下：\n\n- material（默认）：立体材质\n- scene：场景融合","type":"string","required":false,"example":"material"}},{"name":"ImageShortSize","in":"formData","schema":{"description":"生成的图片短边的长度。取值范围为[512, 1024]， 若输入数值非64的整数倍数，则最终取值为不大于该数值的能被64整除的最大数。默认为704。","type":"integer","format":"int64","required":false,"example":"512"}},{"name":"N","in":"formData","schema":{"description":"生成的图片数量。取值范围为\\[1, 4]，默认为1。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"AlphaChannel","in":"formData","schema":{"description":"是否返回带alpha通道的图片。取值范围如下：\n\n- true：带回。\n- false（默认）：不带回。\t","type":"boolean","required":false,"example":"false"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"59697D68-2A6E-4553-89BD-0FADD07881E8"},"Data":{"description":"返回的结果数据内容。该数据需要在异步任务执行成功后，通过调用[GetAsyncJobResult](~~607824~~)接口，对其Result字段进行JSON反序列化之后得到。","type":"object","properties":{"ResultUrl":{"description":"文字纹理生成结果图的URL地址。\n\n> 该URL地址为临时地址，有效期为30分钟，过期后将无法访问。若需要长时间或者永久保存文件，请在30分钟内访问URL地址，下载文件转存到自己的OSS或者其他存储空间。","type":"string","example":"https://dashscope-result-sh.oss-cn-shanghai.aliyuncs.com/viapi-video/person_image_cartoonizer/2023-10-25/55798d04-0957-4ab1-accc-0e4d2d01a039/20231025092636774205_styleanime_n2vedxruht.jpg?Expires=1698283596&OSSAccessKeyId=LTAI4FoLmvQ9urWXgSR****&Signature=ut2kn46Lz%2FRwqJ9jWJ0RBDut12****"}}},"Message":{"description":"提交异步任务后的提示信息。","type":"string","example":"该调用为异步调用，任务已提交成功，请以requestId的值作为jobId参数调用同类目下GetAsyncJobResult接口查询任务执行状态和结果。"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"59697D68-2A6E-4553-89BD-0FADD07881E8\\\",\\n  \\\"Data\\\": {\\n    \\\"ResultUrl\\\": \\\"https://dashscope-result-sh.oss-cn-shanghai.aliyuncs.com/viapi-video/person_image_cartoonizer/2023-10-25/55798d04-0957-4ab1-accc-0e4d2d01a039/20231025092636774205_styleanime_n2vedxruht.jpg?Expires=1698283596&OSSAccessKeyId=LTAI4FoLmvQ9urWXgSR****&Signature=ut2kn46Lz%2FRwqJ9jWJ0RBDut12****\\\"\\n  },\\n  \\\"Message\\\": \\\"该调用为异步调用，任务已提交成功，请以requestId的值作为jobId参数调用同类目下GetAsyncJobResult接口查询任务执行状态和结果。\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GenerateTextTextureResponse>\\n    <RequestId>59697D68-2A6E-4553-89BD-0FADD07881E8</RequestId>\\n    <Message>该调用为异步调用，任务已提交成功，请以requestId的值作为jobId参数调用同类目下GetAsyncJobResult接口查询任务执行状态和结果。</Message>\\n</GenerateTextTextureResponse>\",\"errorExample\":\"\"}]","title":"锦书-文字纹理生成","description":"## 功能描述\n锦书-文字纹理生成能力可以对输入的文字内容或文字图片进行创意设计，根据提示词内容对文字添加材质和纹理，实现立体凸显或场景融合的效果，生成效果精美、风格多样的艺术字，结合背景可以直接作为文字海报使用。\n示例图如下：\n![](https://img.alicdn.com/imgextra/i1/O1CN010KPThd1wVrgOH3B8U_!!6000000006314-0-tps-744-434.jpg\" width=\"500)\n\n风格说明：目前支持立体材质（material）和场景融合（scene）两种风格，立体材质风格的背景一般为纯色或简单光影，Prompt建议描述文字本身的材质为主，如“乐高”、“花卉”等；场景融合风格为文字与背景融合在一起，形成完整的语义画面，建议Prompt对背景和整体环境进行描述，如“森林”、“天空”等。\n示例图如下：\n![](https://img.alicdn.com/imgextra/i1/O1CN0104uM631kzNosYnDk1_!!6000000004754-0-tps-750-456.jpg\" width=\"500)\n\n锦书-文字纹理生成可以对输入的文字边缘轮廓进行创意变形，根据提示词内容进行边缘变化，实现一种字体的更多种创意用法，返回带有文字内容的黑底白色蒙版图。\n- 输入文字：桂林山水\n- 描述提示词（Prompt）：山峦叠嶂、漓江蜿蜒、岩石奇秀\n\n示例图如下：\n![](https://img.alicdn.com/imgextra/i1/O1CN01ohzPn51bLgxEf5VVM_!!6000000003449-0-tps-741-202.jpg\" width=\"500)\n\n> - 您可以进入[在线咨询](https://www.aliyun.com/core/online-consult?from=aZgW6LJHr2)获取在线人工帮助。\n- 当前能力可在视觉智能开放平台有完整的免费产品体验，您可以单击[立即试用](https://vision.aliyun.com/experience/detail?tagName=aigen&children=GenerateTextTexture)对该能力进行更直观试用以及在线购买。\n- 阿里云视觉智能开放平台视觉AI能力API接入、接口使用或问题咨询等，请通过钉钉群（23109592）加入阿里云视觉智能开放平台咨询群联系我们。\n\n## 应用场景\n\n- 海报文字制作：围绕海报文字设计场景，通过简单的提示词描述即可实现创意字形、艺术纹理和个性字体的智能生成，批量生成丰富有趣的具有特效艺术字内容的个性化海报。\n- 文档艺术字创作：办公文档艺术字创作设计场景，批量生成丰具有特效艺术字内容的个性化字体嵌入到文档中，实现内容多样性创作。\n- 文字配图创意营销：电商、互动娱乐、视频制作等泛娱乐场景，可根据场景主题风格通过特定的提示词描述生成智能配图的艺术纹理和个性字体。\n\n## 特色优势\n- 灵活创意字体打造：通过简单灵活的提示词描述即可实现创意字形、艺术纹理和个性字体的智能打造。\n- 文字边缘风格多变：文字变形可以对输入的文字边缘轮廓进行风格创意变形，根据提示词内容进行边缘变化。\n- 批量稳定特效生成：批量生成丰富有趣的特效艺术字内容，在文字的辨识度、创意感、艺术性实现精准可控。\n\n## 接入指引\n1. 注册阿里云账号：打开[阿里云官网](https://www.aliyun.com)，在阿里云官网右上角，单击**立即注册**，按照操作提示完成账号注册。\n2. 开通能力：请确保您已开通生成专区服务，若未开通服务请[立即开通](https://common-buy.aliyun.com/?commodityCode=viapi_synthesis_public_cn)。\n3. 创建AccessKey：请确保您已[创建AccessKey](~~175144~~)，如果您使用的是子账号AccessKey，您需要给子账号赋予AliyunVIAPIFullAccess权限，具体操作，请参见[RAM授权](~~145025~~)。\n4. 在线调试（可选）：您可以通过[OpenAPI Explorer](https://next.api.aliyun.com/api/aigen/2024-01-11/GenerateTextDeformation)在线调试能力，查看完整的调用示例代码及SDK依赖信息，也可以下载完整的工程。\n5. 开发接入步骤：\n- 在[SDK总览](~~145033~~)中选择您要接入使用的SDK语言。\n- 在对应语言的SDK文档中找到AI类目为生成专区（aigen）的SDK包进行安装。\n- 参考文档中提供的示例代码进行适当修改后调用。\n\n6. 示例代码：该能力常用语言的示例代码，请参见[锦书-文字纹理生成示例代码](~~2699416~~)，常用语言查询异步任务结果的示例代码，请参见[查询异步任务结果示例代码](~~607974~~)。\n7. 客户端直接调用：该能力常用的客户端调用方式包括以下几种。\n- [Web前端直接调用](~~467779~~)\n- [小程序场景下直接调用](~~467780~~)\n- [Android端直接调用](~~467781~~)\n- [iOS端直接调用](~~467782~~)\n\n## 输入限制\n- 锦书-文字纹理生成支持图像输入和文本输入，两种方式任选其一即可。\n    - 图像输入要求（**ImageUrl**）：黑底白字，图片大小小于5 MB，图像格式推荐JPG、PNG、JPEG、BMP，宽高比不超过2:1，图像最长边不超过2048像素。\n    - 文本输入要求（**TextContent**/**TtfUrl**/**FontName**/**OutputImageRatio**）：要求小于6个字符，且不能为空。支持中文、阿拉伯数字、英文字母。若提供ttf文件，必须为标准的ttf文件，文件大小小于30 MB。**TtfUrl**和**FontName**参数二选一即可。\n\n- 提示词Prompt长度小于200，且不能为空。\n- URL地址中不能包含中文字符。\n\n## 调用步骤\n该能力为异步能力，需分两步进行调用。\n第一步调用GenerateTextTexture接口提交任务，请求成功后，得到一个任务ID。\n第二步调用[GetAsyncJobResult](~~607824~~)接口查询结果，根据任务ID查询任务执行状态和结果。如果任务还在处理中，可稍等一段时间后再进行查询。\n\n## 计费说明\n锦书-文字纹理生成能力目前处于公测期，可免费调用。","responseParamsDescription":"## 查询结果\n该接口为异步接口，当前并未返回真实的请求结果，您需要通过返回的RequestId调用GetAsyncJobResult接口来获取该接口的真实请求结果。详情请参见[GetAsyncJobResult](~~607824~~)。\n\n## SDK参考\n阿里云视觉AI生成专区类目下的锦书-文字纹理生成能力推荐使用SDK调用，支持多种编程语言，调用时请选择AI类目为生成专区（aigen）的SDK包，文件参数通过SDK调用可支持本地文件及任意URL，具体可参见[SDK总览](~~145033~~)。\n\n## 示例代码\n该能力常用语言的示例代码，请参见[锦书-文字纹理生成示例代码](~~2699416~~)。","extraInfo":"## 错误码\n关于锦书-文字纹理生成的错误码，具体请参见[常见错误码](~~2699435~~)。\n\n## 安全声明\n- 请确保上传的图片或文件来源符合相应的法律法规。\n- 通过体验调试上传的临时文件有效期为1小时，在24小时后会被系统自动清理删除。"}