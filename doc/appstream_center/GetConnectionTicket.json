{"summary":"获取云应用连接凭证。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"ProductType","in":"formData","schema":{"description":"产品类型。","type":"string","required":true,"enumValueTitles":{"CloudApp":"云应用","AndroidCloud":"安卓云"},"example":"CloudApp"}},{"name":"EndUserId","in":"formData","schema":{"description":"便捷账号ID。","type":"string","required":true,"example":"alice"}},{"name":"BizRegionId","in":"formData","schema":{"description":"地域ID。\n\n> 当传入本参数时，仅会在参数指定地域的交付组中分配应用实例。","type":"string","required":false,"enumValueTitles":{},"example":"cn-hangzhou"}},{"name":"TaskId","in":"formData","schema":{"description":"任务ID。\n\n> 非首次调用时必填。使用本参数查询任务状态和连接凭证。","type":"string","required":false,"example":"28778acb-a469-4bc0-8e0f****"}},{"name":"AppId","in":"formData","schema":{"description":"应用ID。\n\n> 首次调用时必填，后续调用时选填。","type":"string","required":false,"example":"ca-e4s0puhmwi7v****"}},{"name":"AppVersion","in":"formData","schema":{"description":"应用版本。传入本参数时，仅会打开参数所指定版本的应用。如果不传入本参数，则会打开已授权的任意版本的应用。","type":"string","required":false,"example":"1.0.0"}},{"name":"AppStartParam","in":"formData","schema":{"description":"应用启动参数。关于启动参数的获取方法，请参见[如何获取应用安装参数与启动参数](https://help.aliyun.com/zh/wuying-appstreaming/user-guide/create-an-application?#how-to-get-installation-and-startup-para)。","type":"string","required":false,"example":"/q /n"}},{"name":"AppInstanceGroupIdList","in":"formData","style":"repeatList","schema":{"description":"交付组列表。\n\n> - 当传入本参数时，仅会在参数指定的且已授权的交付组中分配应用实例。\n> - 当传入`AppInstanceId`或`AppInstancePersistentId `参数时，本参数必填。","type":"array","items":{"description":"交付组ID。","type":"string","required":false,"example":"aig-4xz0oy8x4ipyv****"},"required":false,"maxItems":100}},{"name":"AppInstancePersistentId","in":"formData","schema":{"description":"持久会话ID。","type":"string","required":false,"example":"p-0bxls9m3cl7s****"}},{"name":"AppInstanceId","in":"formData","schema":{"description":"应用实例ID。\n\n> \n> - 当传入本参数时，仅会尝试分配参数所指定的应用实例。\n> - 当传入本参数时，必须同时传入`AppInstanceGroupIdList`参数，且`AppInstanceGroupIdList`中交付组ID的数量为1。","type":"string","required":false,"example":"ai-1rznfnrvsa99d****"}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"返回信息集合。","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"1CBAFFAB-B697-4049-A9B1-67E1FC5F****"},"TaskStatus":{"description":"任务状态。","type":"string","enumValueTitles":{"Finished":"已完成","Failed":"已失败","Running":"执行中"},"example":"Running"},"TaskId":{"description":"任务ID。","type":"string","example":"f3d1b31c-605e-4d04-a896****"},"BizRegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"Ticket":{"description":"连接云应用的凭证。\n> 非首次调用时显示此参数。","type":"string","example":"DQpbRGVza3RvcF0NCkZvcmNlVGxzVHlwZT0xDQpHV1Rva2VuUGFydDE9MDAva09ROW1FUTU3dU****"},"AppInstanceGroupId":{"description":"交付组ID。","type":"string","example":"aig-53fvrq1oan****"},"AppInstancePersistentId":{"description":"持久会话ID。","type":"string","example":"p-0bxls9m3cl7s****"},"AppInstanceId":{"description":"应用实例ID。","type":"string","example":"ai-7ybdeiyoeh5e****"},"OsType":{"description":"操作系统类型。","type":"string","enumValueTitles":{"Windows":"Windows操作系统"},"example":"Windows"},"TenantId":{"description":"租户ID（阿里云账号UID）。","type":"integer","format":"int64","example":"148871678899****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1CBAFFAB-B697-4049-A9B1-67E1FC5F****\\\",\\n  \\\"TaskStatus\\\": \\\"Running\\\",\\n  \\\"TaskId\\\": \\\"f3d1b31c-605e-4d04-a896****\\\",\\n  \\\"BizRegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"Ticket\\\": \\\"DQpbRGVza3RvcF0NCkZvcmNlVGxzVHlwZT0xDQpHV1Rva2VuUGFydDE9MDAva09ROW1FUTU3dU****\\\",\\n  \\\"AppInstanceGroupId\\\": \\\"aig-53fvrq1oan****\\\",\\n  \\\"AppInstancePersistentId\\\": \\\"p-0bxls9m3cl7s****\\\",\\n  \\\"AppInstanceId\\\": \\\"ai-7ybdeiyoeh5e****\\\",\\n  \\\"OsType\\\": \\\"Windows\\\",\\n  \\\"TenantId\\\": 0\\n}\",\"type\":\"json\"}]","title":"获取云应用连接凭证","description":"本接口需要多次调用（至少两次）才能最终获得连接凭证。\n\n第一次调用，会为指定的便捷账号分配应用实例，并启动应用。返回启动任务ID（`TaskID`）。\n\n后续调用，需要在请求参数中传入`TaskID`参数，查询任务是否结束，当返回的任务状态（`TaskStatus`）为已完成（`Finished`）时，会同时返回连接凭证（`Ticket`）。"}