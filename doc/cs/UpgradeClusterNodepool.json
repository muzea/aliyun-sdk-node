{"summary":"您可以调用UpgradeClusterNodepool接口升级指定集群节点池的kubelet版本（建议与控制面版本一致）、操作系统版本或容器运行时版本。","path":"/clusters/{ClusterId}/nodepools/{NodepoolId}/upgrade","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ClusterId","in":"path","schema":{"description":"集群ID。","type":"string","required":true,"docRequired":true,"example":"c106f377e16f34eb1808d6b9362c9****"}},{"name":"NodepoolId","in":"path","schema":{"description":"节点池ID。","type":"string","required":true,"docRequired":true,"example":"np31da1b38983f4511b490fc62108a****"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求参数。","type":"object","properties":{"image_id":{"title":"节点系统镜像ID。","description":"节点系统镜像ID。","type":"string","required":false,"example":"aliyun_2_1903_x64_20G_alibase_20200529.vhd"},"runtime_version":{"title":"节点运行时版本。","description":"节点运行时版本。您可以调用[DescribeKubernetesVersionMetadata](~~2667899~~)在runtime中获取运行时版本信息。","type":"string","required":false,"example":"1.5.10"},"kubernetes_version":{"title":"节点Kubernetes版本。","description":"节点Kubernetes版本。您可以调用[DescribeKubernetesVersionMetadata](~~2667899~~)在current_version中获取当前集群版本信息。","type":"string","required":false,"example":"1.22.15-aliyun.1"},"runtime_type":{"description":"运行时类型。您可以调用[DescribeKubernetesVersionMetadata](~~2667899~~)在runtime中获取运行时信息。","type":"string","required":false,"example":"containerd"},"use_replace":{"description":"是否使用替盘升级。取值：\n- true：使用。\n- false：不使用。\n\n默认值：false","type":"boolean","required":false,"example":"false"},"rolling_policy":{"title":"变更策略。","description":"轮转配置。","type":"object","properties":{"pause_policy":{"title":"暂停策略。可取值：\n- FirstBatch：第一批完成后暂停\n- EveryBatch：每批完成后暂停\n- NotPause： 不暂停","description":"暂停策略。取值：\n- FirstBatch：第一批完成后暂停。\n- EveryBatch：每批完成后暂停。\n- NotPause： 不暂停。","type":"string","required":false,"example":"NotPause","default":"NotPause","enum":["FirstBatch","EveryBatch","NotPause"]},"batch_interval":{"title":"批次之间的升级间隔时间，仅在暂停策略为NotPause时生效，单位为分钟，取值范围5-120分钟。","description":"批次之间的升级间隔时间，仅在暂停策略为NotPause时生效，单位为分钟，取值范围5-120分钟。","type":"integer","format":"int32","required":false,"example":"5分钟","default":"0"},"max_parallelism":{"title":"升级时的最大并发节点数。","description":"最大不可用节点数。","type":"integer","format":"int32","required":false,"example":"3","default":"10"}},"required":false},"node_names":{"title":"指定升级的节点列表。未指定时默认升级节点池内所有节点。","description":"指定升级的节点列表。未指定时默认升级节点池内所有节点。","type":"array","items":{"title":"节点名称。","description":"节点名称。","type":"string","required":false,"example":"test"},"required":false}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"2D69A58F-345C-4FDE-88E4-BF518944****"},"task_id":{"description":"任务ID。","type":"string","example":"T-5fd211e924e1d0078700****"}}}},"5XX":{"schema":{"type":"object","properties":{"RequestId":{"type":"string"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2D69A58F-345C-4FDE-88E4-BF518944****\\\",\\n  \\\"task_id\\\": \\\"T-5fd211e924e1d0078700****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpgradeClusterNodepoolResponse>\\n    <RequestId>2D69A58F-345C-4FDE-88E4-BF518944****</RequestId>\\n    <task_id>T-5fd211e924e1d0078700xxxx</task_id>\\n</UpgradeClusterNodepoolResponse>\",\"errorExample\":\"\"}]","title":"升级节点池","description":"通过UpgradeClusterNodepool可升级指定集群节点池内节点的Kubernetes版本、操作系统版本或容器运行时版本。成功调用UpgradeClusterNodepool接口后，该API将返回此次升级任务的`task_id`，您可以通过调用任务API管理该操作任务：\n\n- [调用DescribeTaskInfo查询任务详情](~~2667985~~)\n- [调用PauseTask暂停正在运行中的任务](~~2667986~~)\n- [调用ResumeTask恢复运行已暂停的任务](~~2667987~~)\n- [调用CancelTask取消运行中的任务](~~2667988~~)"}