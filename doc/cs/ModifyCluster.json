{"summary":"创建ACK集群后，如需修改集群的配置，您可以调用ModifyCluster接口来完成。","path":"/api/v2/clusters/{ClusterId}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update","abilityTreeCode":"384","abilityTreeNodes":["FEATUREcskEUXDVA"]},"parameters":[{"name":"ClusterId","in":"path","schema":{"title":"集群ID。","description":"集群ID。\n\n","type":"string","required":true,"example":"cb95aa626a47740afbf6aa099b65****"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体参数","description":"请求体参数。","type":"object","properties":{"api_server_eip":{"title":"集群是否绑定EIP，用于公网访问API Server。 true | false","description":"集群是否绑定EIP，用于公网访问API Server。取值：\n\n- `true`：集群绑定EIP。\n- `false`：集群不绑定EIP。","type":"boolean","required":false,"example":"true"},"api_server_eip_id":{"title":"集群API Server 公网连接端点。","description":"集群API Server绑定的EIP实例ID，仅当`api_server_eip`取值为`true`时生效。","type":"string","required":false,"example":"eip-wz9fnasl6dsfhmvci****"},"deletion_protection":{"title":"集群是否开启删除保护。默认值false。","description":"集群删除保护，防止通过控制台或API误删除集群。取值：\n\n- `true`：启用集群删除保护，将不能通过控制台或API删除集群。\n- `false`：不启用集群删除保护，则能通过控制台或API删除集群。\n\n默认值：`false`。","type":"boolean","required":false,"example":"true"},"instance_deletion_protection":{"title":"实例删除保护，防止通过控制台或API误删除释放节点。","description":"实例删除保护，防止通过控制台或API误删除释放节点。取值：\n\n- `true`: 不能通过控制台或API误删除集群。\n- `false`：能通过控制台或API误删除集群。\n\n默认值：`false`。","type":"boolean","required":false,"example":"true"},"ingress_domain_rebinding":{"title":"域名是否重新绑定到Ingress的SLB地址。","description":"重新绑定集群测试域名。取值：\n\n- `true`：重新绑定集群测试域名。\n- `false`：不重新绑定集群测试域名。\n\n默认值：`false`。","type":"boolean","required":false,"example":"true"},"ingress_loadbalancer_id":{"title":"集群的Ingress SLB的ID。","description":"被修改集群的SLB实例ID。","type":"string","required":false,"example":"lb-wz97kes8tnndkpodw****"},"resource_group_id":{"title":"集群资源组ID。","description":"集群资源组ID。","type":"string","required":false,"example":"rg-acfmyvw3wjm****"},"maintenance_window":{"description":"集群维护窗口，该功能只在Pro托管版集群中生效。","required":false,"$ref":"#/components/schemas/maintenance_window"},"enable_rrsa":{"title":"启用或禁用 RRSA 功能（只有托管版集群支持配置该参数）。true: 启用，false: 禁用","description":"启用或禁用RRSA功能（只有托管版集群支持配置该参数）。取值：\n\n- `true`：启用。\n- `false`：禁用。","type":"boolean","required":false,"example":"true"},"access_control_list":{"description":"注册集群 API Server SLB 访问控制列表。","type":"array","items":{"description":"注册集群 API Server SLB 访问控制列表。\n\n**注意**：不允许填写0.0.0.0/0网段。","type":"string","required":false,"example":"192.168.1.0/24"},"required":false},"cluster_name":{"title":"集群名称。","description":"集群名称。\n\n命名规则：由数字、汉字、英文字符或短划线（-）组成，长度范围1~63个字符，且不能以短划线（-）开头。","type":"string","required":false,"example":"cluster-new-name"},"system_events_logging":{"title":"系统事件存储配置。","description":"系统事件存储配置。","type":"object","properties":{"enabled":{"title":"是否开启系统事件存储。","description":"是否开启系统事件存储。","type":"boolean","required":false,"example":"true"},"logging_project":{"title":"系统事件存储的LogProject名称。","description":"系统事件存储的LogProject名称。","type":"string","required":false,"example":"k8s-log-cb95aa626a47740afbf6aa099b65****"}},"required":false},"operation_policy":{"title":"集群自动运维策略。","description":"集群自动运维策略。","type":"object","properties":{"cluster_auto_upgrade":{"title":"集群自动升级。","description":"集群自动升级。","type":"object","properties":{"enabled":{"title":"是否开启集群自动升级。","description":"是否开启集群自动升级。","type":"boolean","required":false,"example":"true"},"channel":{"title":"集群自动升级频次。可取值：\n- patch\n- stable\n- rapid","description":"集群自动升级频次。可取值：\n- patch\n- stable\n- rapid","type":"string","required":false,"example":"patch"}},"required":false}},"required":false},"api_server_custom_cert_sans":{"title":"自定义ApiServer证书SAN（只有托管版集群支持配置该参数）。","description":"自定义 API Server 证书 SAN（只有托管版集群支持配置该参数）。","type":"object","properties":{"action":{"title":"覆盖或追加SAN配置。overwrite: 覆盖，append: 追加","description":"覆盖或追加 SAN 配置。取值：\n- overwrite: 覆盖\n- append: 追加","type":"string","required":false,"example":"append","enum":["append","overwrite"]},"subject_alternative_names":{"title":"SAN列表","description":"SAN 列表。","type":"array","items":{"title":"SAN","description":"SAN。","type":"string","required":false,"example":"192.168.0.119"},"required":false}},"required":false}},"required":false,"example":"true"}}],"responses":{"200":{"schema":{"title":"返回数据体。","description":"返回数据体。","type":"object","properties":{"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"cb95aa626a47740afbf6aa09****"},"request_id":{"title":"请求ID。","description":"请求ID。","type":"string","example":"687C5BAA-D103-4993-884B-C35E4314****"},"task_id":{"title":"任务ID。","description":"任务ID。","type":"string","example":"T-5a54309c80282e39ea00****"}}}},"5XX":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"cluster_id\\\": \\\"cb95aa626a47740afbf6aa09****\\\",\\n  \\\"request_id\\\": \\\"687C5BAA-D103-4993-884B-C35E4314****\\\",\\n  \\\"task_id\\\": \\\"T-5a54309c80282e39ea00****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<cluster_id>cb95aa626a47740afbf6aa09****</cluster_id>\\n<request_id>687C5BAA-D103-4993-884B-C35E4314****</request_id>\\n<task_id>T-5a54309c80282e39ea00****</task_id>\",\"errorExample\":\"\"}]","title":"修改集群配置"}