{"summary":"您可以在ACK集群中选择安全策略类型，配置策略实例的治理动作（告警或拦截）、作用的命名空间范围等，以创建并部署一个策略实例。您可以调用DeployPolicyInstance接口，在指定集群的命名空间中部署策略规则实例。","path":"/clusters/{cluster_id}/policies/{policy_name}","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"cluster_id","in":"path","schema":{"title":"目标集群id","description":"目标集群ID。","type":"string","required":true,"example":"c8155823d057948c69a****"}},{"name":"policy_name","in":"path","schema":{"title":"策略治理规则名称","description":"策略治理规则名称。","type":"string","required":true,"example":"ACKAllowedRepos"}},{"name":"body","in":"body","schema":{"description":"请求结构。","type":"object","properties":{"action":{"title":"规则治理动作","description":"规则治理动作，取值：\n\n- `deny`：拦截违规部署\n- `warn`：告警","type":"string","required":false,"example":"deny"},"namespaces":{"title":"限制策略实施的命名空间，为空时表示所有命名空间","description":"限制策略实施的命名空间，为空时表示所有命名空间。","type":"array","items":{"description":"限制策略实施的命名空间，为空时表示所有命名空间。","type":"string","required":false,"example":"default"},"required":false},"parameters":{"title":"当前规则实例的配置参数","description":"当前规则实例的参数配置。每个策略治理规则支持的参数以及对应的参数说明，详见 [容器安全策略规则库说明](https://www.alibabacloud.com/help/doc-detail/359819.html) 。","type":"object","required":false,"example":"{   \"repos\": [     \"registry-vpc.cn-hangzhou.aliyuncs.com/acs/\",     \"registry.cn-hangzhou.aliyuncs.com/acs/\"   ] }"}},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"instances":{"title":"策略实例列表","description":"策略实例列表。","type":"array","items":{"description":"已部署的实例名称列表。","type":"string","example":"[ \"allowed-repos-kqxnc\" ]"}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"instances\\\": [\\n    \\\"[ \\\\\\\"allowed-repos-kqxnc\\\\\\\" ]\\\"\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DeployPolicyInstanceResponse>\\n    <instances>allowed-repos-kqxnc</instances>\\n</DeployPolicyInstanceResponse>\",\"errorExample\":\"\"}]","title":"部署策略规则实例"}