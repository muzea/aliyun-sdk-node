{"summary":"添加已有ECS实例到ACK集群。","path":"/clusters/{ClusterId}/attach","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ClusterId","in":"path","schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":true,"example":"c106f377e16f34eb1808d6b9362c9****"}},{"name":"body","in":"body","schema":{"title":"请求体","description":"请求体参数。","type":"object","properties":{"instances":{"title":"实例列表。","description":"待添加实例列表。","type":"array","items":{"description":"待添加的实例ID。","type":"string","required":false,"example":"i-2zed0sswuau6o89b****"},"required":true},"key_pair":{"title":"key_pair名称，与login_password二选一","description":"待添加实例的密钥对名称，和`login_password`二选一。\n\n> 指定`nodepool_id`后，该参数不支持。","type":"string","required":false,"example":"security-key"},"password":{"title":"password，与key_pair二选一。","description":"待添加实例的SSH登录密码，和`key_pair`二选一。密码规则为8~30个字符，且至少同时包含三项（大小写字母、数字和特殊符号），不支持反斜线（\\）和半角双引号（\"）两个符号。\n\n出于安全性考虑，密码传输过程中都是经过加密处理的。","type":"string","required":false,"example":"Hello1234"},"format_disk":{"title":"是否格式化数据盘。","description":"是否将容器数据和镜像存储在数据盘中。取值：\n\n- `true`：将容器数据和镜像存储在数据盘。\n\n- `false`：不将容器数据和镜像存储在数据盘。\n\n默认值：`false`。\n\n\n数据盘挂载规则：\n\n- 如果ECS已挂载数据盘，且最后一块数据盘的文件系统未初始化，系统会自动将该数据盘格式化为EXT4，用来存放内容/var/lib/docker、/var/lib/kubelet。\n- 如果ECS未挂载数据盘，则不会挂载新的数据盘。\n>当选择将数据存储至数据盘并且ECS已挂载数据盘，数据盘内原有数据将丢失，请注意备份数据。","type":"boolean","required":false,"example":"false"},"keep_instance_name":{"title":"是否保留实例名称。","description":"是否保留原实例名称。取值：\n\n- `true`：保留实例名称。\n\n- `false`：不保留实例名称。\n\n默认值：`false`。","type":"boolean","required":false,"example":"false"},"is_edge_worker":{"title":"是否为边缘节点。","description":"是否为边缘节点，即ENS节点。取值：\n\n- `true`：表示添加的节点是边缘节点。\n\n- `false`：表示添加的节点是不是边缘节点。\n\n默认值：`false`。\n\n> 如果是边缘节点，取值必须是`true`，用于标识该节点类型为ENS节点。","type":"boolean","required":false,"example":"false"},"nodepool_id":{"title":"节点池ID，欲将节点添加到哪个节点池中。。","description":"节点池ID。如果不指定，则将节点添加到默认节点池中。","type":"string","required":false,"example":"np615c0e0966124216a0412e10afe0****"},"image_id":{"title":"自定义镜像ID。","description":"自定义镜像ID，如果不传则使用默认系统镜像。\n\n>- 实例系统盘镜像将被替换为该镜像。\n- 指定`nodepool_id`后，该参数不支持。\n","type":"string","required":false,"example":"aliyun_2_1903_x64_20G_alibase_20200529.vhd"},"cpu_policy":{"title":"CPU亲和策略。","description":"节点CPU管理策略。当集群版本在1.12.6及以上时支持以下两种策略：\n\n- `static`：允许为节点上具有某些资源特征Pod增强其CPU亲和性和独占性。\n- `none`：表示启用现有的默认CPU亲和性方案。\n\n默认值：`none`。\n\n> 指定`nodepool_id`后，该参数不支持。","type":"string","required":false,"example":"none"},"user_data":{"title":"节点自定义数据。","description":"节点自定义数据。更多详情，请参见[生成实例自定义数据](~~49121~~)。\n\n> 指定`nodepool_id`后，该参数不支持。","type":"string","required":false,"example":"IyEvdXNyL2Jpbi9iYXNoCmVjaG8gIkhlbGxvIEFDSyEi"},"rds_instances":{"title":"RDS实例列表。","description":"RDS实例列表。\n","type":"array","items":{"description":"RDS实例ID。\n\n> 指定`nodepool_id`后，该参数不支持。","type":"string","required":false,"example":"rm-67yawhau****"},"required":false},"runtime":{"description":"容器运行时。\n> 指定`nodepool_id`后，该参数不支持。","required":false,"$ref":"#/components/schemas/runtime"},"tags":{"title":"节点标签。","description":"节点标签。标签定义规则：\n\n- 标签由区分大小写的键值对组成，您最多可以设置20个标签。\n- 标签键不可以重复，最长为64个字符；标签值可以为空，最长为128个字符。标签键和标签值都不能以`aliyun`、`acs:`、`https://`或`http://`开头。详情请参见[Labels and Selectors](https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set)。\n> 指定`nodepool_id`后，该参数不支持。","type":"array","items":{"description":"节点标签。","required":false,"$ref":"#/components/schemas/tag"},"required":false}},"required":false}}],"responses":{"200":{"schema":{"title":"返回体数据。","description":"返回体参数。","type":"object","properties":{"list":{"title":"节点信息列表。","description":"节点添加信息列表。","type":"array","items":{"description":"节点添加结果详情。","type":"object","properties":{"code":{"title":"状态码。","description":"节点添加结果状态码。","type":"string","example":"200"},"instanceId":{"title":"实例ID。","description":"实例ID。","type":"string","example":"i-2ze0lgm3y6iylcbt****"},"message":{"title":"添加结果描述。","description":"节点添加结果描述信息。","type":"string","example":"successful"}}}},"task_id":{"title":"任务ID。","description":"任务ID。","type":"string","example":"T-5a544aff80282e39ea000039"}}}},"5XX":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"list\\\": [\\n    {\\n      \\\"code\\\": \\\"200\\\",\\n      \\\"instanceId\\\": \\\"i-2ze0lgm3y6iylcbt****\\\",\\n      \\\"message\\\": \\\"successful\\\"\\n    }\\n  ],\\n  \\\"task_id\\\": \\\"T-5a544aff80282e39ea000039\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<AttachInstancesResponse>\\n    <list>\\n        <code>200</code>\\n        <instanceId>i-2ze0lgm3y6iylcbt****</instanceId>\\n        <message>successful</message>\\n    </list>\\n    <task_id>T-5a544aff80282e39ea000039</task_id>\\n</AttachInstancesResponse>\",\"errorExample\":\"\"}]","title":"添加已有实例到集群"}