{"summary":"发起集群诊断","path":"/clusters/{cluster_id}/diagnosis","methods":["post"],"schemes":["https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","riskType":"none","chargeType":"free","abilityTreeCode":"211970","abilityTreeNodes":["FEATUREcskVD3FWR"]},"parameters":[{"name":"cluster_id","in":"path","schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":false,"example":"ce0da5a1d627e4e9e9f96cae8ad07****"}},{"name":"body","in":"body","style":"json","schema":{"description":"请求体参数。","type":"object","properties":{"type":{"title":"诊断类型。","description":"诊断类型。","type":"string","required":false,"enumValueTitles":{"node":"node","ingress":"ingress","cluster":"cluster","memory":"memory","pod":"pod","service":"service","network":"network"},"example":"node"},"target":{"title":"用于指定诊断对象的参数。","description":"用于指定诊断对象的参数。不同诊断类型的参数示例：\n\nnode:\n```\n{\"name\": \"cn-shanghai.10.10.10.107\"}\n```\n\npod\n```\n{\"namespace\": \"kube-system\", \"name\": \"csi-plugin-2cg9f\"}\n```\n\nnetwork\n```\n{\"src\": \"10.10.10.108\", \"dst\": \"10.11.247.16\", \"dport\": \"80\"}\n```\n\ningress\n```\n{\"url\": \"https://example.com\"}\n```\n\nmemory\n```\n{\"node\":\"cn-hangzhou.172.16.9.240\"}\n```\n\nservice\n```\n{\"namespace\": \"kube-system\", \"name\": \"nginx-ingress-lb\"}\n```","type":"object","required":false,"example":"{\"namespace\": \"kube-system\", \"name\": \"csi-plugin-2cg9f\"}"}},"required":false}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"c5cdf7e3938bc4f8eb0e44b21a80f****"},"diagnosis_id":{"title":"诊断ID。","description":"诊断ID。","type":"string","example":"6f719f23098240818eb26fe3a37d****"},"request_id":{"title":"请求ID。","description":"请求ID。","type":"string","example":"687C5BAA-D103-4993-884B-C35E4314****"}}}}},"staticInfo":{"returnType":"synchronous"},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cluster_id\\\": \\\"c5cdf7e3938bc4f8eb0e44b21a80f****\\\",\\n  \\\"diagnosis_id\\\": \\\"6f719f23098240818eb26fe3a37d****\\\",\\n  \\\"request_id\\\": \\\"687C5BAA-D103-4993-884B-C35E4314****\\\"\\n}\",\"type\":\"json\"}]","title":"发起集群诊断"}