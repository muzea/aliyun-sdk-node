{"summary":"您可以调用DescribeClusterNodes接口，查询符合条件的节点列表信息。","path":"/clusters/{ClusterId}/nodes","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"ClusterId","in":"path","schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":true,"example":"c82e6987e2961451182edacd74faf****"}},{"name":"instanceIds","in":"query","schema":{"title":"节点实例ID，按照实例ID进行过滤。  节点池ID不为空时会忽略此字段。多节点用逗号分割","description":"节点实例ID列表，多值使用英文逗号（,）分隔。","type":"string","required":false,"example":"\"i-bp11xjhwkj8k966u****,i-bp1dmhc2bu5igkyq****\""}},{"name":"nodepool_id","in":"query","schema":{"title":"节点池ID。","description":"节点池ID。","type":"string","required":false,"example":"np****"}},{"name":"state","in":"query","schema":{"title":"节点状态。默认值：all。","description":"集群节点状态，按照集群节点运行状态进行过滤，取值：\n\n- `all`：以下4种状态的集群节点。\n- `running`：正在运行的集群节点。\n- `removing`：正在删除的集群节点。\n- `initial`：正在初始化的集群节点。\n- `failed`：创建失败的集群节点。\n\n默认值：`all`。","type":"string","required":false,"example":"running"}},{"name":"pageSize","in":"query","schema":{"title":"每页大小。","description":"每页显示的记录数。取值范围为[1,100]。\n\n默认值：10。","type":"string","required":false,"example":"10"}},{"name":"pageNumber","in":"query","schema":{"title":"分页数量","description":"页码。\n\n默认值：1。","type":"string","required":false,"example":"1"}}],"responses":{"200":{"schema":{"title":"返回数据体。","description":"返回数据体。","type":"object","properties":{"nodes":{"title":"节点信息列表。","description":"节点详情列表。","type":"array","items":{"description":"节点详情。","type":"object","properties":{"creation_time":{"title":"节点创建时间。","description":"节点创建时间。","type":"string","example":"2020-08-25T11:25:35+08:00"},"error_message":{"title":"错误信息说明。","description":"节点创建时错误信息。","type":"string","example":"error***"},"expired_time":{"title":"节点过期时间。","description":"节点到期时间。","type":"string","example":"2099-12-31T23:59:00+08:00"},"host_name":{"title":"节点主机名。","description":"节点主机名。","type":"string","example":"iZ2vcckdmxp7u0urj2k****"},"image_id":{"title":"节点使用的镜像ID。","description":"节点使用的系统镜像ID。","type":"string","example":"aliyun_2_1903_x64_20G_alibase_20200529.vhd"},"instance_charge_type":{"title":"节点付费类型。","description":"节点付费类型。取值：\n\n- `PrePaid`：预付费，包年包月。选择该类付费方式时，您必须确认自己的账号支持余额支付或信用支付，否则将返回`InvalidPayMethod`的错误提示。\n\n- `PostPaid`：按量付费。","type":"string","example":"PostPaid"},"instance_id":{"title":"节点实例ID。","description":"节点实例ID。","type":"string","example":"i-2vcckdmxp7u0urj2****"},"instance_name":{"title":"节点名称。","description":"节点在集群中的名称。","type":"string","example":"worker-k8s-for-cs-c5cdf7e3938bc4f8eb0e44b21a80f****"},"instance_role":{"title":"节点实例角色类型，Master或Worker。","description":"节点角色类型：\n\n- Master：集群Master节点。\n- Worker：集群Worker节点。","type":"string","example":"Worker"},"instance_status":{"title":"节点实例状态，","description":"节点运行状态。","type":"string","example":"Running"},"instance_type":{"title":"节点实例类型。","description":"节点类型。","type":"string","example":"ecs.c5.xlarge"},"instance_type_family":{"title":"节点实例所属ECS实例簇名称。","description":"节点所属ECS族名称。","type":"string","example":"ecs.c5"},"ip_address":{"title":"节点IP地址。","description":"节点IP地址。","type":"array","items":{"description":"IP地址。","type":"string","example":"192.168.0.36"}},"is_aliyun_node":{"title":"节点是否为aliyun实例。","description":"是否为阿里云实例。取值：\n\n- `true`：是阿里云实例。\n\n- `false`：不是阿里云实例。","type":"boolean","example":"true"},"node_name":{"title":"节点名称，该名称是k8s专用名称。","description":"节点名称，集群内节点标识。","type":"string","example":"cn-chengdu.192.168.0.36"},"node_status":{"title":"节点状态，是否Ready。","description":"节点是否就绪。取值：\n\n- `Ready`：节点已就绪。\n\n- `NotReady`：节点未就绪。\n\n- `Unknown`：未知。\n\n- `Offline`：离线中。","type":"string","example":"Ready"},"nodepool_id":{"title":"节点池ID。","description":"节点池ID。","type":"string","example":"np0794239424a84eb7a95327369d56****"},"source":{"title":"节点通过什么方式创建出来的，例如：ROS。","description":"节点通过何种方式初始化，例如：手动创建或ROS创建。","type":"string","example":"ess_attach"},"state":{"title":"ECS运行状态，例如：Running。","description":"节点运行状态。取值：\n\n- `pending`：创建中。\n\n- `running`：运行中。\n\n- `starting`：启动中。\n\n- `stopping`：停止中。\n\n- `stopped`：已停止。","type":"string","example":"running"},"spot_strategy":{"title":"抢占时实例类型","description":"抢占式实例类型，取值：\n- NoSpot：非抢占式实例。\n- SpotWithPriceLimit：设置抢占实例价格上限。\n- SpotAsPriceGo：系统自动出价，跟随当前市场实际价格。\n","type":"string","example":"NoSpot"}}}},"page":{"title":"分页信息。","description":"分页信息。","type":"object","properties":{"page_number":{"title":"总页数。","description":"页码。","type":"integer","format":"int32","example":"1"},"page_size":{"title":"单页展示结果数量。","description":"每页显示的记录数。","type":"integer","format":"int32","example":"10"},"total_count":{"title":"结果总条数。","description":"结果总数。","type":"integer","format":"int32","example":"5"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"nodes\\\": [\\n    {\\n      \\\"creation_time\\\": \\\"2020-08-25T11:25:35+08:00\\\",\\n      \\\"error_message\\\": \\\"error***\\\",\\n      \\\"expired_time\\\": \\\"2099-12-31T23:59:00+08:00\\\",\\n      \\\"host_name\\\": \\\"iZ2vcckdmxp7u0urj2k****\\\",\\n      \\\"image_id\\\": \\\"aliyun_2_1903_x64_20G_alibase_20200529.vhd\\\",\\n      \\\"instance_charge_type\\\": \\\"PostPaid\\\",\\n      \\\"instance_id\\\": \\\"i-2vcckdmxp7u0urj2****\\\",\\n      \\\"instance_name\\\": \\\"worker-k8s-for-cs-c5cdf7e3938bc4f8eb0e44b21a80f****\\\",\\n      \\\"instance_role\\\": \\\"Worker\\\",\\n      \\\"instance_status\\\": \\\"Running\\\",\\n      \\\"instance_type\\\": \\\"ecs.c5.xlarge\\\",\\n      \\\"instance_type_family\\\": \\\"ecs.c5\\\",\\n      \\\"ip_address\\\": [\\n        \\\"192.168.0.36\\\"\\n      ],\\n      \\\"is_aliyun_node\\\": true,\\n      \\\"node_name\\\": \\\"cn-chengdu.192.168.0.36\\\",\\n      \\\"node_status\\\": \\\"Ready\\\",\\n      \\\"nodepool_id\\\": \\\"np0794239424a84eb7a95327369d56****\\\",\\n      \\\"source\\\": \\\"ess_attach\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"spot_strategy\\\": \\\"NoSpot\\\"\\n    }\\n  ],\\n  \\\"page\\\": {\\n    \\\"page_number\\\": 1,\\n    \\\"page_size\\\": 10,\\n    \\\"total_count\\\": 5\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeClusterNodesResponse>\\n    <nodes>\\n        <creation_time>2020-08-25T11:25:35+08:00</creation_time>\\n        <error_message>error***</error_message>\\n        <expired_time>2099-12-31T23:59:00+08:00</expired_time>\\n        <host_name>iZ2vcckdmxp7u0urj2k****</host_name>\\n        <image_id>aliyun_2_1903_x64_20G_alibase_20200529.vhd</image_id>\\n        <instance_charge_type>PostPaid</instance_charge_type>\\n        <instance_id>i-2vcckdmxp7u0urj2****</instance_id>\\n        <instance_name>worker-k8s-for-cs-c5cdf7e3938bc4f8eb0e44b21a80f****</instance_name>\\n        <instance_role>Worker</instance_role>\\n        <instance_status>Running</instance_status>\\n        <instance_type>ecs.c5.xlarge</instance_type>\\n        <instance_type_family>ecs.c5</instance_type_family>\\n        <ip_address>192.168.0.36</ip_address>\\n        <is_aliyun_node>true</is_aliyun_node>\\n        <node_name>cn-chengdu.192.168.0.36</node_name>\\n        <node_status>Ready</node_status>\\n        <nodepool_id>np0794239424a84eb7a95327369d56****</nodepool_id>\\n        <source>ess_attach</source>\\n        <state>running</state>\\n        <spot_strategy>NoSpot</spot_strategy>\\n    </nodes>\\n    <page>\\n        <page_number>1</page_number>\\n        <page_size>10</page_size>\\n        <total_count>5</total_count>\\n    </page>\\n</DescribeClusterNodesResponse>\",\"errorExample\":\"\"}]","title":"查询集群节点列表"}