{"summary":"您可以在ACK集群中选择安全策略类型，配置相关实施动作、作用范围等，创建并部署一个策略实例。您可以调用DescribePolicyInstances接口，获取集群中指定策略规则实例的详细信息，例如策略描述、治理等级等。","path":"/clusters/{cluster_id}/policies","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"cluster_id","in":"path","schema":{"title":"目标集群ID","description":"目标集群ID","type":"string","required":true,"example":"c8155823d057948c69a****"}},{"name":"policy_name","in":"query","schema":{"title":"策略类型","description":"策略治理规则名称","type":"string","required":false,"example":"ACKPSPCapabilities"}},{"name":"instance_name","in":"query","schema":{"title":"策略实例名称","description":"策略实例名称","type":"string","required":false,"example":"allowed-repos-cz4s2"}}],"responses":{"200":{"schema":{"title":"策略实例列表","description":"策略实例列表","type":"array","items":{"type":"object","properties":{"ali_uid":{"title":"策略实例实施者UID","description":"策略实例实施者UID","type":"string","example":"16298168****"},"cluster_id":{"title":"目标集群ID","description":"目标集群ID","type":"string","example":"c8155823d057948c69a****"},"instance_name":{"title":"规则实例名称","description":"规则实例名称","type":"string","example":"no-env-var-secrets-****"},"policy_name":{"title":"策略治理规则名称","description":"策略治理规则名称","type":"string","example":"ACKPSPCapabilities"},"policy_category":{"title":"策略类型名称","description":"策略类型名称","type":"string","example":"k8s-general"},"policy_description":{"title":"规则模板描述","description":"规则模板描述","type":"string","example":"Restricts secrets used in pod envs"},"policy_parameters":{"title":"当前规则实例的配置参数","description":"当前规则实例的配置参数","type":"string","example":"\"restrictedNamespaces\": [ \"test\" ]"},"policy_severity":{"title":"规则实例治理等级","description":"规则实例治理等级","type":"string","example":"low"},"policy_scope":{"title":"策略实例实施范围： 默认\"*\"代表集群所有ns 否则返回作用namespaces名称，多个namespaces以逗号分隔","description":"策略实例实施范围：\n\n默认\"*\"代表集群所有命名空间。\n\n否则返回作用Namespaces名称，多个Namespaces以逗号（,）分隔。","type":"string","example":"*"},"policy_action":{"title":"规则治理动作  deny: 拦截违规部署  warn：告警","description":"规则治理动作，取值：\n\n- `deny`：拦截违规部署\n\n- `warn`：告警","type":"string","example":"deny"}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"[\\n  {\\n    \\\"ali_uid\\\": \\\"16298168****\\\",\\n    \\\"cluster_id\\\": \\\"c8155823d057948c69a****\\\",\\n    \\\"instance_name\\\": \\\"no-env-var-secrets-****\\\",\\n    \\\"policy_name\\\": \\\"ACKPSPCapabilities\\\",\\n    \\\"policy_category\\\": \\\"k8s-general\\\",\\n    \\\"policy_description\\\": \\\"Restricts secrets used in pod envs\\\",\\n    \\\"policy_parameters\\\": \\\"\\\\\\\"restrictedNamespaces\\\\\\\": [ \\\\\\\"test\\\\\\\" ]\\\",\\n    \\\"policy_severity\\\": \\\"low\\\",\\n    \\\"policy_scope\\\": \\\"*\\\",\\n    \\\"policy_action\\\": \\\"deny\\\"\\n  }\\n]\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribePolicyInstancesResponse>\\n    <ali_uid>16298168****</ali_uid>\\n    <cluster_id>c8155823d057948c69a****</cluster_id>\\n    <instance_name>no-env-var-secrets-****</instance_name>\\n    <policy_name>ACKPSPCapabilities</policy_name>\\n    <policy_category>k8s-general</policy_category>\\n    <policy_description>Restricts secrets used in pod envs</policy_description>\\n    <policy_parameters>\\\"restrictedNamespaces\\\": [ \\\"test\\\" ]</policy_parameters>\\n    <policy_severity>low</policy_severity>\\n    <policy_scope>*</policy_scope>\\n    <policy_action>deny</policy_action>\\n</DescribePolicyInstancesResponse>\",\"errorExample\":\"\"}]","title":"查询策略实例列表"}