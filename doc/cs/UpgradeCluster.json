{"summary":"为避免过期版本集群潜在的安全和稳定性风险，同时享用新集群版本的新功能，请随ACK集群的版本发布节奏升级集群。升级集群前，请参考Kubernetes版本说明帮助文档了解待升级版本的版本解读、废弃资源API、升级注意事项等，避免因高版本的功能变更导致业务功能不兼容，继而影响集群正常运行。升级集群前请先进行集群升级检查。升级集群版本可能会影响业务，请评估影响后在业务低峰期操作并提前做好相关的数据备份。","path":"/api/v2/clusters/{ClusterId}/upgrade","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"ClusterId","in":"path","schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":true,"example":"c82e6987e2961451182edacd74faf****"}},{"name":"body","in":"body","style":"json","schema":{"title":"请求体","description":"请求体参数。","type":"object","properties":{"component_name":{"title":"组件名称，集群升级时取值\"k8s\"。","description":"已废弃，无需传递。","type":"string","deprecated":true,"required":false,"example":"k8s"},"next_version":{"title":"目标版本。","description":"集群升级的目标版本。","type":"string","required":false,"example":"1.24.6-aliyun.1"},"version":{"title":"已废弃，无需传递，请使用 next_version 参数传入升级目标版本。","description":"已废弃，无需传递，请使用 next_version 参数传入升级目标版本。","type":"string","deprecated":true,"required":false,"example":"1.24.6-aliyun.1"},"master_only":{"title":"是否仅升级master。","description":"是否仅升级master。\n- true：仅升级master。\n- false：升级master和worker。","type":"boolean","required":false,"example":"true","default":"false"}},"required":false,"example":"k8s"}}],"responses":{"200":{"schema":{"type":"object","properties":{"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"c82e6987e2961451182edacd74faf****"},"task_id":{"title":"任务ID。","description":"任务ID。","type":"string","example":"T-5faa48fb31b6b8078d00****"},"request_id":{"title":"请求ID。","description":"请求ID。","type":"string","example":"0527ac9a-c899-4341-a21a-****"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"cluster_id\\\": \\\"c82e6987e2961451182edacd74faf****\\\",\\n  \\\"task_id\\\": \\\"T-5faa48fb31b6b8078d00****\\\",\\n  \\\"request_id\\\": \\\"0527ac9a-c899-4341-a21a-****\\\"\\n}\",\"type\":\"json\"}]","title":"升级集群","description":"成功调用UpgradeCluster接口后，该API将返回此次升级任务的`task_id`，您可以通过调用任务API管理该操作任务：\n\n- [调用DescribeTaskInfo查询任务详情](~~2667985~~)\n- [调用PauseTask暂停正在运行中的任务](~~2667986~~)\n- [调用ResumeTask恢复运行已暂停的任务](~~2667987~~)\n- [调用CancelTask取消运行中的任务](~~2667988~~)"}