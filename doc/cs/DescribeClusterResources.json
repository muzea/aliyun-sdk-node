{"summary":"您在使用容器服务 Kubernetes 版过程中，会同时使用其他关联的阿里云云产品资源。您可以调用DescribeClusterResources接口查询指定集群的关联资源，例如VPC、SLB等。如果您需要查询节点池或节点资源，您可以调用DescribeClusterNodePools或DescribeClusterNodes接口。","path":"/clusters/{ClusterId}/resources","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","abilityTreeCode":"397","abilityTreeNodes":["FEATUREcskEUXDVA"]},"parameters":[{"name":"ClusterId","in":"path","schema":{"title":"集群ID。","description":"集群ID。\n\n关于如何查看集群ID，请参见[查看集群信息](~~89446~~)。\n\n您也可通过API接口[DescribeClustersV1](~~183905~~)，查看阿里云账号下所有创建的集群信息。","type":"string","required":true,"example":"cb95aa626a47740afbf6aa099b65****"}},{"name":"with_addon_resources","in":"query","schema":{"title":"是否同时查询集群组件创建的资源。","description":"是否同时查询集群组件创建的资源。","type":"boolean","required":false,"default":"false"}}],"responses":{"200":{"schema":{"title":"返回数据体。","description":"资源对象列表。","type":"array","items":{"description":"资源详情。","type":"object","properties":{"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"cb95aa626a47740afbf6aa099b65****"},"created":{"title":"资源创建时间。","description":"资源创建时间。","type":"string","example":"2023-08-15T14:34:42+08:00"},"instance_id":{"title":"资源实例ID。","description":"资源ID。","type":"string","example":"ngw-wz9sphwk42sdtjixo****"},"resource_info":{"title":"资源元信息。","description":"资源信息。关于资源的源信息，请参见[ListStackResources](~~133836~~)。","type":"string","example":"{\\\"Id\\\":\\\"k8s_NAT_Gateway\\\",\\\"Name\\\":\\\"k8s_NAT_Gateway\\\",\\\"Type\\\":\\\"ALIYUN::VPC::NatGateway\\\",\\\"Status\\\":\\\"CREATE_COMPLETE\\\",\\\"StatusReason\\\":\\\"state changed\\\",\\\"Updated\\\":\\\"2023-08-15T06:33:10\\\",\\\"PhysicalId\\\":\\\"ngw-wz9sphwk42sdtjixo****\\\"}"},"resource_type":{"title":"资源类型。","description":"资源类型。","type":"string","example":"ALIYUN::VPC::NatGateway"},"state":{"title":"资源状态。","description":"资源状态。可选值：\n\n- `CREATE_COMPLETE`：成功创建资源。\n- `CREATE_FAILED`：创建资源失败。\n- `CREATE_IN_PROGRESS`：创建资源中。\n- `DELETE_FAILED`：删除资源失败。\n- `DELETE_IN_PROGRESS`：删除资源中。\n- `ROLLBACK_COMPLETE`：成功回滚。\n- `ROLLBACK_FAILED`：回滚失败。\n- `ROLLBACK_IN_PROGRESS`：回滚中。","type":"string","example":"CREATE_COMPLETE"},"auto_create":{"title":"是否为自动创建。","description":"资源是否由ACK创建：\n\n- 1：表示由ACK创建\n- 0：表示该资源为已有资源","type":"integer","format":"int64","example":"1"},"dependencies":{"title":"依赖的资源。","description":"依赖资源列表。","type":"array","items":{"description":"依赖资源详情。","type":"object","properties":{"cluster_id":{"title":"依赖资源的集群ID。","description":"依赖资源的集群ID。","type":"string","example":"cc5ee03f63e43425cb6f71f1a1756****"},"resource_type":{"title":"依赖资源类型。","description":"依赖资源类型。","type":"string","example":"ALIYUN::VPC::NatGateway"},"instance_id":{"title":"依赖资源实例ID。","description":"依赖资源实例ID。","type":"string","example":"ngw-wz9sphwk42sdtjixo****"}}}},"associated_object":{"title":"资源关联的k8s对象。","description":"资源关联的k8s对象。","type":"object","properties":{"kind":{"title":"k8s对象类型。","description":"k8s对象类型。","type":"string","example":"Service"},"namespace":{"title":"k8s对象命名空间。","description":"k8s对象命名空间。","type":"string","example":"kube-system"},"name":{"title":"k8s对象名称。","description":"k8s对象名称。","type":"string","example":"nginx-ingress-lb"}}},"delete_behavior":{"title":"删除集群时该资源的删除行为。","description":"删除集群时该资源的删除行为。","type":"object","properties":{"delete_by_default":{"title":"删除集群时是否默认删除该资源。","description":"删除集群时是否默认删除该资源。","type":"boolean","example":"false"},"changeable":{"title":"delete_by_default中返回的默认行为是否可以更改。","description":"delete_by_default中返回的默认行为是否可以更改。","type":"boolean","example":"false"}}},"creator_type":{"title":"该资源创建者的类型。可能的取值：\n- user：由用户自行创建；\n- system：由ACK管控系统创建；\n- addon：由集群组件创建。","description":"该资源创建者的类型。可能的取值：\n- user：由用户自行创建；\n- system：由ACK管控系统创建；\n- addon：由集群组件创建。","type":"string","example":"addon","enum":["user","system","addon"]},"extra_info":{"title":"资源的其他信息。","description":"资源的其他信息。","type":"object","example":"{\"IP\": \"xx.xx.xx.xx\"}"}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"[\\n  {\\n    \\\"cluster_id\\\": \\\"cb95aa626a47740afbf6aa099b65****\\\",\\n    \\\"created\\\": \\\"2023-08-15T14:34:42+08:00\\\",\\n    \\\"instance_id\\\": \\\"ngw-wz9sphwk42sdtjixo****\\\",\\n    \\\"resource_info\\\": \\\"{\\\\\\\\\\\\\\\"Id\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"k8s_NAT_Gateway\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Name\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"k8s_NAT_Gateway\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Type\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ALIYUN::VPC::NatGateway\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Status\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"CREATE_COMPLETE\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"StatusReason\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"state changed\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"Updated\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"2023-08-15T06:33:10\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"PhysicalId\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"ngw-wz9sphwk42sdtjixo****\\\\\\\\\\\\\\\"}\\\",\\n    \\\"resource_type\\\": \\\"ALIYUN::VPC::NatGateway\\\",\\n    \\\"state\\\": \\\"CREATE_COMPLETE\\\",\\n    \\\"auto_create\\\": 1,\\n    \\\"dependencies\\\": [\\n      {\\n        \\\"cluster_id\\\": \\\"cc5ee03f63e43425cb6f71f1a1756****\\\",\\n        \\\"resource_type\\\": \\\"ALIYUN::VPC::NatGateway\\\",\\n        \\\"instance_id\\\": \\\"ngw-wz9sphwk42sdtjixo****\\\"\\n      }\\n    ],\\n    \\\"associated_object\\\": {\\n      \\\"kind\\\": \\\"Service\\\",\\n      \\\"namespace\\\": \\\"kube-system\\\",\\n      \\\"name\\\": \\\"nginx-ingress-lb\\\"\\n    },\\n    \\\"delete_behavior\\\": {\\n      \\\"delete_by_default\\\": false,\\n      \\\"changeable\\\": false\\n    },\\n    \\\"creator_type\\\": \\\"addon\\\",\\n    \\\"extra_info\\\": {\\n      \\\"IP\\\": \\\"xx.xx.xx.xx\\\"\\n    }\\n  }\\n]\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeClusterResourcesResponse>\\n    <cluster_id>cb95aa626a47740afbf6aa099b65****</cluster_id>\\n    <created>2023-08-15T14:34:42+08:00</created>\\n    <instance_id>ngw-wz9sphwk42sdtjixo****</instance_id>\\n    <resource_info>{\\\\\\\"Id\\\\\\\":\\\\\\\"k8s_NAT_Gateway\\\\\\\",\\\\\\\"Name\\\\\\\":\\\\\\\"k8s_NAT_Gateway\\\\\\\",\\\\\\\"Type\\\\\\\":\\\\\\\"ALIYUN::VPC::NatGateway\\\\\\\",\\\\\\\"Status\\\\\\\":\\\\\\\"CREATE_COMPLETE\\\\\\\",\\\\\\\"StatusReason\\\\\\\":\\\\\\\"state changed\\\\\\\",\\\\\\\"Updated\\\\\\\":\\\\\\\"2023-08-15T06:33:10\\\\\\\",\\\\\\\"PhysicalId\\\\\\\":\\\\\\\"ngw-wz9sphwk42sdtjixo****\\\\\\\"}</resource_info>\\n    <resource_type>ALIYUN::VPC::NatGateway</resource_type>\\n    <state>CREATE_COMPLETE</state>\\n    <auto_create>1</auto_create>\\n    <dependencies>\\n        <cluster_id>cc5ee03f63e43425cb6f71f1a1756****</cluster_id>\\n        <resource_type>ALIYUN::VPC::NatGateway</resource_type>\\n        <instance_id>ngw-wz9sphwk42sdtjixo****</instance_id>\\n    </dependencies>\\n</DescribeClusterResourcesResponse>\",\"errorExample\":\"\"}]","title":"查询指定集群的关联资源"}