{"summary":"您可以调用DescribeTaskInfo接口，查询集群任务的详细信息，例如任务类型、运行状态、运行阶段等。","path":"/tasks/{task_id}","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"task_id","in":"path","schema":{"title":"任务ID。","description":"任务ID。","type":"string","required":true,"example":"T-5faa48fb31b6b8078d00****"}}],"responses":{"200":{"schema":{"title":"返回体参数。","description":"返回体数据。","type":"object","properties":{"task_id":{"title":"任务ID。","description":"任务ID。","type":"string","example":"T-5faa48fb31b6b8078d000006"},"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"c78592bfe92244365b3c3ad47f1de****"},"task_type":{"title":"当前任务类型。","description":"任务类型，扩容任务的类型为`cluster_scaleout`。","type":"string","example":"cluster_scaleout"},"state":{"title":"任务当前状态。","description":"代表任务的运行状态。取值：\n- `running`：任务正在运行中。\n- `fail`：任务运行失败。\n- `success`：任务运行完成。\n","type":"string","example":"running"},"created":{"title":"任务创建时间。","description":"任务创建时间。","type":"string","example":"2020-11-10T16:02:04+08:00"},"updated":{"title":"任务更新时间。","description":"任务更新时间。","type":"string","example":"2020-11-10T16:03:06+08:00"},"target":{"title":"任务执行对象。","description":"任务执行对象。","type":"object","properties":{"id":{"title":"任务执行对象ID。","description":"任务执行对象ID。","type":"string","example":"c78592bfe92244365b3c3ad47f1de****\n"},"type":{"title":"任务执行对象类型。","description":"任务执行对象类型。","type":"string","example":"cluster"}}},"parameters":{"title":"任务参数。","description":"任务参数。","type":"object"},"stages":{"title":"任务阶段。","description":"任务阶段。","type":"array","items":{"description":"任务阶段。","type":"object","properties":{"state":{"title":"任务阶段状态。","description":"任务阶段状态。","type":"string","example":"running"},"start_time":{"title":"任务阶段开始时间。","description":"任务阶段开始时间。","type":"string","example":"2022-12-15 23:00:00"},"end_time":{"title":"任务阶段结束时间。","description":"任务阶段结束时间。","type":"string","example":"2022-12-15 23:00:00"},"message":{"title":"任务阶段信息。","description":"任务阶段信息。","type":"string","example":"success to xxxxx"},"outputs":{"title":"任务阶段输出。","description":"任务阶段输出。","type":"object"}}}},"current_stage":{"title":"任务当前运行阶段。","description":"任务当前运行阶段。","type":"string","example":"DrainNodes"},"events":{"title":"任务产生的事件。","description":"任务产生的事件。","type":"array","items":{"description":"事件详情。","type":"object","properties":{"action":{"title":"事件动作。","description":"事件动作。","type":"string","example":"start"},"level":{"title":"事件等级。","description":"事件等级。","type":"string","example":"Normal"},"message":{"title":"事件消息。","description":"事件消息。","type":"string","example":"start to xxx"},"reason":{"title":"事件原因。","description":"事件原因。","type":"string","example":"NodePoolUpgradeStart"},"source":{"title":"事件来源。","description":"事件来源。","type":"string","example":"ACK"},"timestamp":{"title":"事件生成时间。","description":"事件生成时间。","type":"string","example":"1669706229286"}}}},"task_result":{"title":"任务执行详情。","description":"任务执行详情。","type":"array","items":{"description":"任务详情。","type":"object","properties":{"data":{"title":"操作的资源，例如：实例ID。","description":"任务操作的资源，例如：扩容时操作资源是实例，那么此处就是实例ID。","type":"string","example":"i-xxx"},"status":{"title":"资源的状态。","description":"资源扩容的状态。取值：\n- `success`：扩容成功。\n- `failed`：扩容失败。\n- `initial`：初始化中。","type":"string","example":"success"}}}},"error":{"title":"任务错误信息。","description":"任务错误信息。","type":"object","properties":{"code":{"title":"错误码。","description":"错误码。","type":"string","example":"400"},"message":{"title":"错误消息。","description":"错误消息。","type":"string","example":"failed to xxx"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"task_id\\\": \\\"T-5faa48fb31b6b8078d000006\\\",\\n  \\\"cluster_id\\\": \\\"c78592bfe92244365b3c3ad47f1de****\\\",\\n  \\\"task_type\\\": \\\"cluster_scaleout\\\",\\n  \\\"state\\\": \\\"running\\\",\\n  \\\"created\\\": \\\"2020-11-10T16:02:04+08:00\\\",\\n  \\\"updated\\\": \\\"2020-11-10T16:03:06+08:00\\\",\\n  \\\"target\\\": {\\n    \\\"id\\\": \\\"c78592bfe92244365b3c3ad47f1de****\\\\n\\\",\\n    \\\"type\\\": \\\"cluster\\\"\\n  },\\n  \\\"parameters\\\": {\\n    \\\"test\\\": \\\"test\\\",\\n    \\\"test2\\\": 1\\n  },\\n  \\\"stages\\\": [\\n    {\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"start_time\\\": \\\"2022-12-15 23:00:00\\\",\\n      \\\"end_time\\\": \\\"2022-12-15 23:00:00\\\",\\n      \\\"message\\\": \\\"success to xxxxx\\\",\\n      \\\"outputs\\\": {\\n        \\\"test\\\": \\\"test\\\",\\n        \\\"test2\\\": 1\\n      }\\n    }\\n  ],\\n  \\\"current_stage\\\": \\\"DrainNodes\\\",\\n  \\\"events\\\": [\\n    {\\n      \\\"action\\\": \\\"start\\\",\\n      \\\"level\\\": \\\"Normal\\\",\\n      \\\"message\\\": \\\"start to xxx\\\",\\n      \\\"reason\\\": \\\"NodePoolUpgradeStart\\\",\\n      \\\"source\\\": \\\"ACK\\\",\\n      \\\"timestamp\\\": \\\"1669706229286\\\"\\n    }\\n  ],\\n  \\\"task_result\\\": [\\n    {\\n      \\\"data\\\": \\\"i-xxx\\\",\\n      \\\"status\\\": \\\"success\\\"\\n    }\\n  ],\\n  \\\"error\\\": {\\n    \\\"code\\\": \\\"400\\\",\\n    \\\"message\\\": \\\"failed to xxx\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<cluster_id>c78592bfe92244365b3c3ad47f1de****</cluster_id>\\n<task_id>T-5faa48fb31b6b8078d000006</task_id>\\n<created>2020-11-10T16:02:04+08:00</created>\\n<updated>2020-11-10T16:03:06+08:00</updated>\\n<state>running</state>\\n<task_type>cluster_scaleout</task_type>\\n<task_result>\\n    <data>i-xxx</data>\\n    <status>success</status>\\n</task_result>\",\"errorExample\":\"\"}]","title":"查询任务详情"}