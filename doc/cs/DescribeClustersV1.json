{"summary":"您可以调用DescribeClustersV1接口查看本账号下符合条件的ACK集群（例如指定集群类型、集群规格）列表信息。","path":"/api/v1/clusters","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"name","in":"query","schema":{"title":"通过集群名称进行模糊查询。","description":"集群名称。\n\n命名规则：由数字、汉字、英文字符或短划线（-）组成，长度范围1~63个字符，且不能以短划线（-）开头。","type":"string","required":false,"example":"cluster-demo"}},{"name":"cluster_type","in":"query","schema":{"title":"集群类型。","description":"- `Kubernetes`: ACK专有集群。\n- `ManagedKubernetes`：ACK托管类的集群，包括ACK托管集群（ACK集群Pro版、ACK集群基础版）、ACK Serverless集群（Pro版、基础版）、ACK Edge集群（Pro版、基础版）、ACK灵骏集群（Pro版）。\n- `ExternalKubernetes`：注册集群。","type":"string","required":false,"example":"Kubernetes"}},{"name":"page_size","in":"query","schema":{"title":"单页大小。","description":"每页显示的记录数。","type":"integer","format":"int64","required":false,"example":"10"}},{"name":"page_number","in":"query","schema":{"title":"分页数。","description":"当前页码。","type":"integer","format":"int64","required":false,"example":"3"}},{"name":"profile","in":"query","schema":{"title":"集群标识。","description":"当您选择`cluster_type`为`ManagedKubernetes`时，即ACK托管类的集群时，您可以进一步指定集群的子类型。\n- `Default`：ACK托管集群，包括ACK集群Pro版和ACK集群基础版。\n\n- `Edge`：ACK Edge集群，包括ACK Edge集群Pro版和ACK Edge集群基础版。\n\n- `Serverless`：ACK Serverless集群，包括ACK Serverless集群Pro版和ACK Serverless集群基础版。\n\n- `Lingjun`：ACK灵骏集群，提供Pro版。","type":"string","required":false,"example":"Default"}},{"name":"cluster_spec","in":"query","schema":{"title":"集群规格。","description":"当您选择`cluster_type`为`ManagedKubernetes`并配置`profile`后，您可以进一步指定集群的规格。\n\n- `ack.pro.small`：集群Pro版。\n\n- `ack.standard`：集群基础版（取值为空时默认选择）。","type":"string","required":false,"example":"ack.pro.small"}},{"name":"region_id","in":"query","schema":{"title":"地域。","description":"集群地域。通过指定该字段，可以过滤出该地域下的集群列表。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"cluster_id","in":"query","schema":{"title":"集群ID。","description":"集群ID。","type":"string","required":false,"example":"c3fb96524f9274b4495df0f12a6b5****"}}],"responses":{"200":{"schema":{"title":"返回数据体。","description":"返回体数据。","type":"object","properties":{"clusters":{"title":"集群详情列表。","description":"集群信息列表。","type":"array","items":{"description":"集群实例。\n\n","type":"object","properties":{"cluster_id":{"title":"集群ID。","description":"集群ID。","type":"string","example":"c3fb96524f9274b4495df0f12a6b5****"},"cluster_type":{"title":"集群类型。","description":"- `Kubernetes`: ACK专有集群。\n\n- `ManagedKubernetes`：ACK托管类的集群，包括ACK托管集群（ACK集群Pro版、ACK集群基础版）、ACK Serverless集群（Pro版、基础版）、ACK Edge集群（Pro版、基础版）、ACK灵骏集群（Pro版）。\n\n- `ExternalKubernetes`：注册集群。","type":"string","example":"Kubernetes"},"created":{"title":"集群初始化时间。","description":"集群创建时间。","type":"string","example":"2020-08-20T10:51:29+08:00"},"init_version":{"title":"集群初始化版本。","description":"集群版本，与Kubernetes社区基线版本保持一致。建议选择最新版本，若不指定，默认使用最新版本。\n\n目前ACK控制台提供两种最新Kubernetes版本的集群。您可以通过API创建其他Kubernetes版本集群。ACK支持的Kubernetes版本，请参见[Kubernetes版本发布概览](~~185269~~)。","type":"string","example":"1.16.9-aliyun.1"},"current_version":{"title":"集群当前版本。","description":"集群当前版本。","type":"string","example":"1.16.9-aliyun.1"},"next_version":{"title":"集群可升级版本。","description":"集群可升级版本。","type":"string","example":"1.18.8-aliyun.1"},"deletion_protection":{"title":"集群是否开启删除保护。","description":"集群删除保护，防止通过控制台或API误删除集群。取值：\n\n- `true`：启用集群删除保护，将不能通过控制台或API删除集群。\n- `false`：不启用集群删除保护，则能通过控制台或API删除集群。\n","type":"boolean","example":"true"},"docker_version":{"title":"集群使用的Docker版本。","description":"集群Docker版本。","type":"string","example":"19.03.5"},"external_loadbalancer_id":{"title":"集群负载均衡服务的ID。","description":"集群中Ingress SLB实例。\n\n默认实例规格：性能保障型（slb.s1.small）。","type":"string","example":"lb-2vcrbmlevo6kjpgch****"},"master_url":{"title":"集群访问地址列表。","description":"集群API Server访问地址，包含内网访问地址以及公网访问地址。","type":"string","example":"{\\\"api_server_endpoint\\\":\\\"\\\",\\\"intranet_api_server_endpoint\\\":\\\"https://192.168.0.251:6443\\\"}"},"meta_data":{"title":"集群元数据信息。","description":"集群元数据信息。","type":"string","example":"{\\\"Addons\\\":[{\\\"config\\\":***}"},"name":{"title":"集群名称。","description":"集群名称。\n\n命名规则：由数字、汉字、英文字符或短划线（-）组成，长度范围1~63个字符，且不能以短划线（-）开头。","type":"string","example":"cluster-demo"},"network_mode":{"title":"集群使用的网络类型，例如：VPC网络。","description":"集群网络模式。取值：\n\n- `classic`：经典网络。\n- `vpc`：专有网络。\n- `overlay`：叠加网络。\n- `calico`：Calico网络。\n","type":"string","example":"vpc"},"private_zone":{"title":"集群是否开启Private Zone。","description":"集群Private Zone配置。取值：\n\n- `true`：启用Private Zone。\n- `false`：不启用Private Zone。\n","type":"boolean","example":"false"},"profile":{"title":"边缘集群表示，用于区分边缘托管版集群。","description":"集群标识，取值：\n\n- `Default`：ACK托管集群，包括ACK集群Pro版和ACK集群基础版。\n\n- `Edge`：ACK Edge集群，包括ACK Edge集群Pro版和ACK Edge集群基础版。\n\n- `Serverless`：ACK Serverless集群，包括ACK Serverless集群Pro版和ACK Serverless集群基础版。\n\n- `Lingjun`：ACK灵骏集群，提供Pro版。","type":"string","example":"Default"},"region_id":{"title":"地域ID。","description":"集群所在地域ID。","type":"string","example":"cn-beijing"},"resource_group_id":{"title":"集群资源组ID。","description":"集群资源组ID。","type":"string","example":"rg-acfmyvw3wjm****"},"security_group_id":{"title":"集群安全组ID。","description":"集群安全组ID。","type":"string","example":"sg-2vcgwsrwgt5mp0yi****"},"size":{"title":"集群节点数。","description":"集群当前节点数量，包含Master节点以及Worker节点。","type":"integer","format":"int64","example":"5"},"state":{"title":"集群运行状态。","description":"集群运行状态，取值：\n\n- `initial`：集群创建中。\n- `failed`：集群创建失败。\n- `running`：集群运行中。\n- `updating`：集群升级中。\n- ` updating_failed`：集群升级失败。\n- `scaling`：集群伸缩中。\n- `stopped`：集群已经停止运行。\n- `deleting`：集群删除中。\n- `deleted`：集群已经被删除。\n- `delete_failed`：集群删除失败。   ","type":"string","example":"running"},"subnet_cidr":{"title":"POD网段地址。","description":"Pod网络地址段，必须是有效的私有网段，即以下网段及其子网：\n- 10.0.0.0/8\n- 172.16-31.0.0/12-16\n- 192.168.0.0/16\n\n不能与VPC及VPC内已有Kubernetes集群使用的网段重复，创建成功后不能修改。\n\n关于集群网络规划，请参见[VPC下Kubernetes的网络地址段规划](~~86500~~)。","type":"string","example":"172.21.0.0/16"},"tags":{"title":"集群标签。","description":"集群资源标签。","type":"array","items":{"description":"集群资源标签。","$ref":"#/components/schemas/tag"}},"updated":{"title":"集群更新时间。","description":"集群更新时间。","type":"string","example":"2020-09-16T11:09:55+08:00"},"vpc_id":{"title":"集群所在的VPC ID。","description":"集群专有网络ID，创建集群时必传。","type":"string","example":"vpc-2vcg932hsxsxuqbgl****"},"vswitch_id":{"title":"集群使用的虚拟交换ID。","description":"虚拟交换机ID，创建集群时可选择1~3个虚拟交换机。为保证集群高可用，建议选择不同可用区的虚拟交换机。","type":"string","example":"vsw-2vc41xuumx5z2rdma****,vsw-2vc41xuumx5z2rdma****"},"worker_ram_role_name":{"title":"集群Worker RAM角色。","description":"Worker RAM角色名称，授权ECS实例为集群Woker节点。","type":"string","example":"KubernetesWorkerRole-ec87d15b-edca-4302-933f-c8a16bf0****"},"zone_id":{"title":"可用区ID。","description":"集群所属可用区ID。","type":"string","example":"cn-beijing-b"},"cluster_spec":{"title":"托管版集群类型，面向托管集群。 • ack.pro.small：专业托管集群。 • ack.standard ：标准托管集群。","description":"当您选择`cluster_type`为`ManagedKubernetes`并配置`profile`后，您可以进一步指定集群的规格。\n\n- `ack.pro.small`：集群Pro版。\n\n- `ack.standard`：集群基础版（取值为空时默认选择）。","type":"string","example":"ack.standard"},"maintenance_window":{"description":"集群维护窗口，该功能只在ACK托管集群和ACK Serverless集群中生效。","$ref":"#/components/schemas/maintenance_window"}}}},"page_info":{"title":"分页信息。","description":"分页信息。\n","type":"object","properties":{"page_number":{"title":"分页数。","description":"分页数。","type":"integer","format":"int32","example":"3"},"page_size":{"title":"单页大小。","description":"单页大小。","type":"integer","format":"int32","example":"20"},"total_count":{"title":"结果总数。","description":"结果总数。","type":"integer","format":"int32","example":"50"}}}}}},"5XX":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"clusters\\\": [\\n    {\\n      \\\"cluster_id\\\": \\\"c3fb96524f9274b4495df0f12a6b5****\\\",\\n      \\\"cluster_type\\\": \\\"Kubernetes\\\",\\n      \\\"created\\\": \\\"2020-08-20T10:51:29+08:00\\\",\\n      \\\"init_version\\\": \\\"1.16.9-aliyun.1\\\",\\n      \\\"current_version\\\": \\\"1.16.9-aliyun.1\\\",\\n      \\\"next_version\\\": \\\"1.18.8-aliyun.1\\\",\\n      \\\"deletion_protection\\\": true,\\n      \\\"docker_version\\\": \\\"19.03.5\\\",\\n      \\\"external_loadbalancer_id\\\": \\\"lb-2vcrbmlevo6kjpgch****\\\",\\n      \\\"master_url\\\": \\\"{\\\\\\\\\\\\\\\"api_server_endpoint\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"intranet_api_server_endpoint\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"https://192.168.0.251:6443\\\\\\\\\\\\\\\"}\\\",\\n      \\\"meta_data\\\": \\\"{\\\\\\\\\\\\\\\"Addons\\\\\\\\\\\\\\\":[{\\\\\\\\\\\\\\\"config\\\\\\\\\\\\\\\":***}\\\",\\n      \\\"name\\\": \\\"cluster-demo\\\",\\n      \\\"network_mode\\\": \\\"vpc\\\",\\n      \\\"private_zone\\\": false,\\n      \\\"profile\\\": \\\"Default\\\",\\n      \\\"region_id\\\": \\\"cn-beijing\\\",\\n      \\\"resource_group_id\\\": \\\"rg-acfmyvw3wjm****\\\",\\n      \\\"security_group_id\\\": \\\"sg-2vcgwsrwgt5mp0yi****\\\",\\n      \\\"size\\\": 5,\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"subnet_cidr\\\": \\\"172.21.0.0/16\\\",\\n      \\\"tags\\\": [\\n        {\\n          \\\"key\\\": \\\"env\\\",\\n          \\\"value\\\": \\\"prod\\\"\\n        }\\n      ],\\n      \\\"updated\\\": \\\"2020-09-16T11:09:55+08:00\\\",\\n      \\\"vpc_id\\\": \\\"vpc-2vcg932hsxsxuqbgl****\\\",\\n      \\\"vswitch_id\\\": \\\"vsw-2vc41xuumx5z2rdma****,vsw-2vc41xuumx5z2rdma****\\\",\\n      \\\"worker_ram_role_name\\\": \\\"KubernetesWorkerRole-ec87d15b-edca-4302-933f-c8a16bf0****\\\",\\n      \\\"zone_id\\\": \\\"cn-beijing-b\\\",\\n      \\\"cluster_spec\\\": \\\"ack.standard\\\",\\n      \\\"maintenance_window\\\": {\\n        \\\"enable\\\": false,\\n        \\\"maintenance_time\\\": \\\"03:00:00Z\\\",\\n        \\\"duration\\\": \\\"3h\\\",\\n        \\\"weekly_period\\\": \\\"Monday,Thursday\\\",\\n        \\\"recurrence\\\": \\\"FREQ=WEEKLY;INTERVAL=4;BYDAY=MO,TU\\\"\\n      }\\n    }\\n  ],\\n  \\\"page_info\\\": {\\n    \\\"page_number\\\": 3,\\n    \\\"page_size\\\": 20,\\n    \\\"total_count\\\": 50\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeClustersV1Response>\\n    <clusters>\\n        <cluster_id>c3fb96524f9274b4495df0f12a6b5****</cluster_id>\\n        <cluster_type>Kubernetes</cluster_type>\\n        <created>2020-08-20T10:51:29+08:00</created>\\n        <init_version>1.16.9-aliyun.1</init_version>\\n        <current_version>1.16.9-aliyun.1</current_version>\\n        <next_version>1.18.8-aliyun.1</next_version>\\n        <deletion_protection>true</deletion_protection>\\n        <docker_version>19.03.5</docker_version>\\n        <external_loadbalancer_id>lb-2vcrbmlevo6kjpgch****</external_loadbalancer_id>\\n        <master_url>{\\\\\\\"api_server_endpoint\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"intranet_api_server_endpoint\\\\\\\":\\\\\\\"https://192.168.0.251:6443\\\\\\\"}</master_url>\\n        <meta_data>{\\\\\\\"Addons\\\\\\\":[{\\\\\\\"config\\\\\\\":***}</meta_data>\\n        <name>cluster-demo</name>\\n        <network_mode>vpc</network_mode>\\n        <private_zone>false</private_zone>\\n        <profile>Default</profile>\\n        <region_id>cn-beijing</region_id>\\n        <resource_group_id>rg-acfmyvw3wjm****</resource_group_id>\\n        <security_group_id>sg-2vcgwsrwgt5mp0yi****</security_group_id>\\n        <size>5</size>\\n        <state>running</state>\\n        <subnet_cidr>172.21.0.0/16</subnet_cidr>\\n        <tags>\\n            <key>env</key>\\n            <value>prod</value>\\n        </tags>\\n        <updated>2020-09-16T11:09:55+08:00</updated>\\n        <vpc_id>vpc-2vcg932hsxsxuqbgl****</vpc_id>\\n        <vswitch_id>vsw-2vc41xuumx5z2rdma****,vsw-2vc41xuumx5z2rdma****</vswitch_id>\\n        <worker_ram_role_name>KubernetesWorkerRole-ec87d15b-edca-4302-933f-c8a16bf0****</worker_ram_role_name>\\n        <zone_id>cn-beijing-b</zone_id>\\n        <cluster_spec>ack.standard</cluster_spec>\\n        <maintenance_window>\\n            <enable>false</enable>\\n            <maintenance_time>03:00:00Z</maintenance_time>\\n            <duration>3h</duration>\\n            <weekly_period>Monday,Thursday</weekly_period>\\n        </maintenance_window>\\n    </clusters>\\n    <page_info>\\n        <page_number>3</page_number>\\n        <page_size>20</page_size>\\n        <total_count>50</total_count>\\n    </page_info>\\n</DescribeClustersV1Response>\",\"errorExample\":\"\"}]","title":"查询集群列表"}