{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"Namespace","in":"query","schema":{"description":"命名空间。","type":"string","required":true,"docRequired":true,"example":"default"}},{"name":"AppName","in":"query","schema":{"description":"应用名，若为EDAS应用，则AppName为EDAS中的App ID，可在EDAS控制台“应用管理>基本信息”中查看对应的ID。","type":"string","required":true,"docRequired":true,"example":"ahas-demo"}},{"name":"MetricType","in":"query","schema":{"description":"统计维度，0表示并发数，1表示通过请求数。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"1"}},{"name":"Threshold","in":"query","schema":{"description":"热点规则中针对每个热点参数的阈值，取值范围为≥0的整数。","type":"number","format":"float","required":true,"docRequired":true,"example":"20"}},{"name":"Enable","in":"query","schema":{"description":"是否开启，默认false。","type":"boolean","required":false,"example":"true"}},{"name":"Resource","in":"query","schema":{"description":"资源名。不能超过1024个字符，且该资源名需要与接口详情页面的资源名称相对应。","type":"string","required":true,"docRequired":true,"example":"handleService"}},{"name":"ParamIdx","in":"query","schema":{"description":"参数位置索引，埋点传入参数的索引位置。对应`SphU.entry(xxx,args)`中的参数索引位置。\n\n例如：`SphU.entry(resourceName,Entry Type.IN,1,paramA,paramB)`埋点中，`paramA`的参数索引是0，`paramB`的参数索引是1。\n","type":"integer","format":"int32","required":true,"docRequired":true,"example":"1"}},{"name":"StatDurationSec","in":"query","schema":{"description":"统计周期时间，单位秒。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"1"}},{"name":"ControlBehavior","in":"query","schema":{"description":"流控效果，0表示快速失败，2表示排队等待。","type":"integer","format":"int32","required":true,"docRequired":true,"example":"0"}},{"name":"BurstCount","in":"query","schema":{"description":"缓冲请求数，流控效果为快速失败时需要设置。","type":"integer","format":"int32","required":false,"example":"2"}},{"name":"MaxQueueingTimeMs","in":"query","schema":{"description":"超时时间，流控效果为排队等待时需要设置，单位毫秒。","type":"integer","format":"int32","required":false,"example":"3000"}},{"name":"AhasRegionId","in":"query","schema":{"description":"地域。","type":"string","required":false,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"错误信息。","type":"string","example":"null"},"RequestId":{"description":"请求Request ID。","type":"string","example":"3FEEAD12-CE22-4EDE-A729-CE94EC070610"},"Data":{"description":"业务数据。","type":"object","properties":{"ParamIdx":{"description":"参数位置索引。\n","type":"integer","format":"int32","example":"1"},"Namespace":{"description":"命名空间。","type":"string","example":"default"},"ParamFlowItemList":{"description":"热点参数例外项。","type":"array","items":{"type":"object","properties":{"ItemValue":{"description":"例外项参数值。","type":"string","example":"apple"},"ItemType":{"description":"例外项类型。\n","type":"string","example":"String"},"Threshold":{"description":"例外项阈值。","type":"number","format":"float","example":"10"}}}},"StatDurationSec":{"description":"统计周期时间，单位秒。\n","type":"integer","format":"int64","example":"1"},"BurstCount":{"description":"缓冲请求数。\n","type":"integer","format":"int32","example":"2"},"RuleId":{"description":"热点规则ID。","type":"integer","format":"int64","example":"123"},"Resource":{"description":"资源名。不能超过1024个字符，且该资源名需要与接口详情页面的资源名称相对应。","type":"string","example":"handleService"},"AppName":{"description":"应用名，若为EDAS应用，则AppName为EDAS中的App ID，可在EDAS控制台“应用管理>基本信息”中查看对应的ID。\n","type":"string","example":"ahas-demo"},"MaxQueueingTimeMs":{"description":"流控效果为排队等待时对应的超时时间，单位毫秒。","type":"integer","format":"int32","example":"3000"},"ControlBehavior":{"description":"流控效果，0表示快速失败，2表示排队等待。","type":"integer","format":"int32","example":"0"},"MetricType":{"description":"统计维度，0表示并发数，1表示通过请求数。","type":"integer","format":"int32","example":"0"},"Threshold":{"description":"单机阈值。","type":"number","format":"float","example":"20"},"Enable":{"description":"规则是否开启。","type":"boolean","example":"true"}}},"Code":{"description":"返回码、错误码。","type":"string","example":"200"},"Success":{"description":"是否成功。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"IllegalArgument.AppName","errorMessage":"The specified AppName is invalid."},{"errorCode":"IllegalArgument.BurstCount","errorMessage":"The specified BurstCount is invalid."},{"errorCode":"IllegalArgument.ControlBehavior","errorMessage":"The specified ControlBehavior is invalid."},{"errorCode":"IllegalArgument.DurationInSec","errorMessage":"The specified DurationInSec is invalid."},{"errorCode":"IllegalArgument.MaxQueueingTimeM","errorMessage":"The specified MaxQueueingTimeMs is invalid."},{"errorCode":"IllegalArgument.MetricType","errorMessage":"The specified MetricType is invalid."},{"errorCode":"IllegalArgument.Namespace","errorMessage":"The specified Namespace is invalid."},{"errorCode":"IllegalArgument.ParamIdx","errorMessage":"The specified ParamIdx is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"null\\\",\\n  \\\"RequestId\\\": \\\"3FEEAD12-CE22-4EDE-A729-CE94EC070610\\\",\\n  \\\"Data\\\": {\\n    \\\"ParamIdx\\\": 1,\\n    \\\"Namespace\\\": \\\"default\\\",\\n    \\\"ParamFlowItemList\\\": [\\n      {\\n        \\\"ItemValue\\\": \\\"apple\\\",\\n        \\\"ItemType\\\": \\\"String\\\",\\n        \\\"Threshold\\\": 10\\n      }\\n    ],\\n    \\\"StatDurationSec\\\": 1,\\n    \\\"BurstCount\\\": 2,\\n    \\\"RuleId\\\": 123,\\n    \\\"Resource\\\": \\\"handleService\\\",\\n    \\\"AppName\\\": \\\"ahas-demo\\\",\\n    \\\"MaxQueueingTimeMs\\\": 3000,\\n    \\\"ControlBehavior\\\": 0,\\n    \\\"MetricType\\\": 0,\\n    \\\"Threshold\\\": 20,\\n    \\\"Enable\\\": true\\n  },\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateHotParamRuleResponse>\\n    <Message>null</Message>\\n    <RequestId>3FEEAD12-CE22-4EDE-A729-CE94EC070610</RequestId>\\n    <Data>\\n        <ParamIdx>1</ParamIdx>\\n        <Namespace>default</Namespace>\\n        <ParamFlowItemList>\\n            <ItemValue>apple</ItemValue>\\n            <ItemType>String</ItemType>\\n            <Threshold>10</Threshold>\\n        </ParamFlowItemList>\\n        <StatDurationSec>1</StatDurationSec>\\n        <BurstCount>2</BurstCount>\\n        <RuleId>123</RuleId>\\n        <Resource>handleService</Resource>\\n        <AppName>ahas-demo</AppName>\\n        <MaxQueueingTimeMs>3000</MaxQueueingTimeMs>\\n        <ControlBehavior>0</ControlBehavior>\\n        <MetricType>0</MetricType>\\n        <Threshold>20</Threshold>\\n        <Enable>true</Enable>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</CreateHotParamRuleResponse>\",\"errorExample\":\"\"}]","title":"创建热点规则","summary":"调用CreateHotParamRule接口创建热点规则。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}