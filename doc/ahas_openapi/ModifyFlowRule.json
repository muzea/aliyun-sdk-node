{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"Namespace","in":"query","schema":{"description":"命名空间。","type":"string","required":false,"docRequired":true,"example":"default"}},{"name":"RuleId","in":"query","schema":{"description":"规则ID。","type":"integer","format":"int64","required":true,"docRequired":true,"example":"123"}},{"name":"RelationStrategy","in":"query","schema":{"description":"统计维度。0表示当前接口，1表示关联接口，2表示链路入口。","type":"integer","format":"int32","required":false,"example":"0"}},{"name":"Threshold","in":"query","schema":{"description":"流控阈值。","type":"number","format":"float","required":false,"example":"50"}},{"name":"LimitOrigin","in":"query","schema":{"description":"来源应用。","type":"string","required":false,"example":"default"}},{"name":"RefResource","in":"query","schema":{"description":"关联接口名、入口资源名。当统计维度relationStrategy值为1（关联接口）或2（链路入口）时，需要设置该字段。","type":"string","required":false,"example":"handleServiceB"}},{"name":"ControlBehavior","in":"query","schema":{"description":"流控效果。0表示快速失败，1表示预热启动，2表示排队等待。","type":"string","required":false,"example":"0"}},{"name":"WarmUpPeriodSec","in":"query","schema":{"description":"预热时间。当controlBehavior值为1（预热启动）时，需要设置该字段。","type":"integer","format":"int32","required":false,"example":"30"}},{"name":"MaxQueueingTimeMs","in":"query","schema":{"description":"超时时间。当controlBehavior值为2（排队等待）时，需要设置该字段。","type":"integer","format":"int32","required":false,"example":"2000"}},{"name":"AhasRegionId","in":"query","schema":{"description":"地域。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"ThresholdMode","in":"query","schema":{"description":"流控阈值模式。","type":"integer","format":"int32","required":false,"example":"2"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Message":{"description":"错误信息。","type":"string","example":"null"},"RequestId":{"description":"请求ID。","type":"string","example":"3FEEAD12-CE22-4EDE-A729-CE94E*****10"},"Data":{"description":"返回数据。","type":"object","properties":{"RefResource":{"description":"关联接口名、入口资源名。","type":"string","example":"handleServiceB"},"ClusterFallbackThreshold":{"description":"退化单机阈值，当退化策略为退化到单机（ClusterFallbackStrategy=0）时返回。","type":"integer","format":"int32","example":"0"},"Namespace":{"description":"命名空间。","type":"string","example":"default"},"LimitOrigin":{"description":"来源应用。","type":"string","example":"default"},"StatDurationMs":{"description":"集群模式下统计窗口时长。","type":"integer","format":"int32","example":"0"},"ClusterThresholdType":{"description":"阈值模式，0表示单机均摊阈值，1表示集群阈值。","type":"integer","format":"int32","example":"0"},"RuleId":{"description":"规则ID。","type":"integer","format":"int64","example":"123"},"RelationStrategy":{"description":"统计维度。","type":"integer","format":"int32","example":"0"},"AppName":{"description":"应用名，若为EDAS应用，则AppName为EDAS中的App ID，可在EDAS控制台“应用管理>基本信息”中查看对应的ID。","type":"string","example":"ahas-demo"},"Resource":{"description":"接口资源名。","type":"string","example":"handleServiceA"},"MaxQueueingTimeMs":{"description":"超时时间。","type":"integer","format":"int32","example":"2000"},"ClusterEstimatedMaxQps":{"description":"集群接口预估最大QPS。","type":"number","format":"float","example":"0"},"ControlBehavior":{"description":"流控效果。0表示快速失败，1表示预热启动，2表示排队等待。","type":"integer","format":"int32","example":"0"},"WarmUpPeriodSec":{"description":"预热时间。\n","type":"integer","format":"int32","example":"30"},"ClusterFallbackStrategy":{"description":"集群流控通信失败退化策略，0表示退化到单机，1表示直接通过。","type":"integer","format":"int32","example":"0"},"Threshold":{"description":"流控阈值。","type":"number","format":"float","example":"50"},"ThresholdMode":{"description":"流控阈值模式。","type":"integer","format":"int32","example":"2"},"ClusterMode":{"description":"是否为集群模式。","type":"boolean","example":"false"},"Enable":{"description":"规则是否开启。","type":"boolean","example":"true"}}},"Code":{"description":"返回码。","type":"string","example":"200"},"Success":{"description":"是否成功。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"IllegalArgument.AppName","errorMessage":"The specified AppName is invalid."},{"errorCode":"IllegalArgument.ControlBehavior","errorMessage":"The specified ControlBehavior is invalid."},{"errorCode":"IllegalArgument.Namespace","errorMessage":"The specified Namespace is invalid."},{"errorCode":"IllegalArgument.RefResource","errorMessage":"The specified RefResource is invalid."},{"errorCode":"IllegalArgument.RelationStrategy","errorMessage":"The specified RelationStrategy is invalid."},{"errorCode":"IllegalArgument.Resource","errorMessage":"The specified Resource is invalid."},{"errorCode":"IllegalArgument.RuleId","errorMessage":"The specified RuleId is invalid."},{"errorCode":"IllegalArgument.Threshold","errorMessage":"The specified Threshold is invalid."},{"errorCode":"IllegalArgument.WarmUpPeriodSec","errorMessage":"The specified WarmUpPeriodSec is invalid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Message\\\": \\\"null\\\",\\n  \\\"RequestId\\\": \\\"3FEEAD12-CE22-4EDE-A729-CE94E*****10\\\",\\n  \\\"Data\\\": {\\n    \\\"RefResource\\\": \\\"handleServiceB\\\",\\n    \\\"ClusterFallbackThreshold\\\": 0,\\n    \\\"Namespace\\\": \\\"default\\\",\\n    \\\"LimitOrigin\\\": \\\"default\\\",\\n    \\\"StatDurationMs\\\": 0,\\n    \\\"ClusterThresholdType\\\": 0,\\n    \\\"RuleId\\\": 123,\\n    \\\"RelationStrategy\\\": 0,\\n    \\\"AppName\\\": \\\"ahas-demo\\\",\\n    \\\"Resource\\\": \\\"handleServiceA\\\",\\n    \\\"MaxQueueingTimeMs\\\": 2000,\\n    \\\"ClusterEstimatedMaxQps\\\": 0,\\n    \\\"ControlBehavior\\\": 0,\\n    \\\"WarmUpPeriodSec\\\": 30,\\n    \\\"ClusterFallbackStrategy\\\": 0,\\n    \\\"Threshold\\\": 50,\\n    \\\"ThresholdMode\\\": 2,\\n    \\\"ClusterMode\\\": false,\\n    \\\"Enable\\\": true\\n  },\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<ModifyFlowRuleResponse>\\n    <Message>null</Message>\\n    <RequestId>3FEEAD12-CE22-4EDE-A729-CE94E*****10</RequestId>\\n    <Data>\\n        <RefResource>handleServiceB</RefResource>\\n        <ClusterFallbackThreshold>0</ClusterFallbackThreshold>\\n        <Namespace>default</Namespace>\\n        <LimitOrigin>default</LimitOrigin>\\n        <StatDurationMs>0</StatDurationMs>\\n        <ClusterThresholdType>0</ClusterThresholdType>\\n        <RuleId>123</RuleId>\\n        <RelationStrategy>0</RelationStrategy>\\n        <AppName>ahas-demo</AppName>\\n        <Resource>handleServiceA</Resource>\\n        <MaxQueueingTimeMs>2000</MaxQueueingTimeMs>\\n        <ClusterEstimatedMaxQps>0</ClusterEstimatedMaxQps>\\n        <ControlBehavior>0</ControlBehavior>\\n        <WarmUpPeriodSec>30</WarmUpPeriodSec>\\n        <ClusterFallbackStrategy>0</ClusterFallbackStrategy>\\n        <Threshold>50</Threshold>\\n        <ThresholdMode>2</ThresholdMode>\\n        <ClusterMode>false</ClusterMode>\\n        <Enable>true</Enable>\\n    </Data>\\n    <Code>200</Code>\\n    <Success>true</Success>\\n</ModifyFlowRuleResponse>\",\"errorExample\":\"\"}]","title":"修改流控规则","summary":"调用ModifyFlowRule接口修改流控规则。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}