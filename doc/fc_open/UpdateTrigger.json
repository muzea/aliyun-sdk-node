{"summary":"更新触发器信息。","path":"/2021-04-06/services/{serviceName}/functions/{functionName}/triggers/{triggerName}","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"If-Match","in":"header","schema":{"title":"用于确保实际更改的资源和期望更改的资源是一致的，该值来自Create，Get和Update API的响应","description":"用于确保实际更改的资源和期望更改的资源是一致的，该值来自[CreateTrigger](~~190054~~)、[GetTrigger](~~190056~~)和[UpdateTrigger](~~190055~~)的响应。","type":"string","required":false,"example":"e19d5cd5af0378da05f63f891c7467af"}},{"name":"serviceName","in":"path","schema":{"title":"service名称","description":"服务的名称。","type":"string","required":true,"example":"demoService"}},{"name":"functionName","in":"path","schema":{"title":"function名称","description":"函数的名称。","type":"string","required":true,"example":"demoFunction"}},{"name":"triggerName","in":"path","schema":{"title":"trigger名称","description":"触发器的名称。","type":"string","required":true,"example":"demoTrigger"}},{"name":"body","in":"body","style":"json","schema":{"title":"trigger更新结构体","description":"触发器的定义。","type":"object","properties":{"invocationRole":{"title":"event source，如OSS，使用该role去invoke function","description":"事件源（如OSS）调用函数所需的角色。更多信息，请参见[触发器简介](~~53102~~)。","type":"string","required":false,"example":"acs:ram::123456xxxx:role/fc-test"},"qualifier":{"title":"service版本","description":"服务的版本或别名。","type":"string","required":false,"example":"LATEST"},"triggerConfig":{"title":"trigger配置，针对不同的trigger类型，trigger配置会有所不同\t","description":"触发器配置，针对不同类型的触发器，配置有所不同。具体格式请参考如下对应的数据结构：\n\n  - OSS触发器：请参见[OSSTriggerConfig](~~415697~~)。\n  - 日志服务触发器：请参见[LogTriggerConfig](~~415694~~)。\n  - 定时触发器：请参见[TimeTriggerConfig](~~415712~~)。\n  - HTTP触发器：请参见[HTTPTriggerConfig](~~415685~~)。\n  - Tablestore触发器：只需要填写完整的**SourceArn**参数便可，这里无需额外配置，取值为空{}。\n  - CDN事件触发器：请参见[CDNEventsTriggerConfig](~~415674~~)。\n  - MNS主题触发器：请参见[MnsTopicTriggerConfig](~~415695~~)。\n  - EventBridge触发器：请参见[EventBridgeTriggerConfig](~~2508622~~)。","type":"string","required":false,"example":"{\"events\": [\"oss:ObjectCreated:*\"], \"filter\": {\"key\": {\"prefix\": \"/prefix\", \"suffix\": \".zip\"}}}"},"description":{"description":"触发器的描述。","type":"string","required":false,"example":"trigger for test"}},"required":false}},{"name":"X-Fc-Account-Id","in":"header","schema":{"description":"您的阿里云账号（主账号）ID。","type":"string","required":false,"example":"188077086902****"}},{"name":"X-Fc-Date","in":"header","schema":{"description":"客户端发起请求的时间。格式为**EEE,d MMM yyyy HH:mm:ss GMT**。","type":"string","required":false,"example":"Wed, 11 May 2022 09:00:00 GMT"}},{"name":"X-Fc-Trace-Id","in":"header","schema":{"description":"自定义请求ID。","type":"string","required":false,"example":"my-test-trace-id"}}],"responses":{"200":{"headers":{"ETag":{"schema":{"title":"trigger etag，用于更改trigger。以确保实际更改的trigger和期望更改的trigger是一致的","type":"string","example":"5e547e5605e1dc17a78a6191bc18fbc5"}}},"schema":{"title":"TriggerResponse","description":"返回的触发器定义。","type":"object","properties":{"createdTime":{"title":"创建时间","description":"创建时间。","type":"string","example":"2016-08-15T15:00:00.000+0000"},"invocationRole":{"title":"调用函数使用的RAM角色的ARN","description":"事件源调用函数使用的RAM角色的ARN。","type":"string","example":"acs:ram::123456xxxx:role/fc-test"},"lastModifiedTime":{"title":"上次修改时间","description":"上次修改时间。","type":"string","example":"016-08-15T17:00:00.000+0000"},"qualifier":{"title":"service版本","description":"服务的版本或别名。","type":"string","example":"LATEST"},"sourceArn":{"title":"event source的Aliyun Resource Name（ARN","description":"事件源的Aliyun Resource Name。","type":"string","example":"acs:oss:cn-shanghai:12345xxxx:mybucket"},"triggerConfig":{"title":"trigger配置对象","description":"触发器配置，针对不同类型的触发器，配置有所不同。","type":"string","example":"{\"events\": [\"oss:ObjectCreated:*\"], \"filter\": {\"key\": {\"prefix\": \"/prefix\", \"suffix\": \".zip\"}}}"},"triggerName":{"title":"trigger名称","description":"触发器的名称。","type":"string","example":"demoTrigger"},"triggerType":{"title":"trigger类型，如 oss, log, tablestore, timer, http, cdn_events, mns_topic","description":"触发器的类型，例如**oss**、**log**、**tablestore**、**timer**、**http**、**cdn_events**、**mns\\_topic**、**eventbridge**。","type":"string","example":"oss"},"description":{"description":"触发器的描述。","type":"string","example":"trigger for test"},"triggerId":{"description":"触发器的唯一ID。","type":"string","example":"3e270f2f-cef2-421a-bc86-ff4e8088****"},"domainName":{"title":"域名名称，使用域名名称拼接上函数计算域名，可以采用HTTP协议调用到触发器对应版本的函数。例如{domainName}.cn-shanghai.fc.aliyuncs.com","description":"域名名称，使用域名名称拼接上函数计算域名，可以采用HTTP协议调用到触发器对应版本的函数。例如`{domainName}.cn-shanghai.fc.aliyuncs.com`。","type":"string","example":"demo-service-demo-function-jkhksh"},"urlInternet":{"title":"公网域名地址。在互联网可以通过HTTP协议或者HTTPS协议访问HTTP Trigger。","description":"公网域名地址。在互联网可以通过HTTP协议或者HTTPS协议访问HTTP Trigger。","type":"string","example":"https://svc-func-xxxxxxxx.cn-hangzhou.fcapp.run"},"urlIntranet":{"title":"私网域名地址。在VPC可以通过HTTP协议或者HTTPS协议访问HTTP Trigger。","description":"私网域名地址。在VPC可以通过HTTP协议或者HTTPS协议访问HTTP Trigger。","type":"string","example":"https://svc-func-xxxxxxxx.cn-hangzhou-vpc.fcapp.run"},"status":{"title":"触发器当前状态，仅对EventBridge类型的触发器有效","description":"触发器当前状态，仅对EventBridge类型的触发器有效","type":"string","example":"RUNNING"},"targetArn":{"title":"触发器关联的函数ResourceArn","description":"触发器关联的函数ResourceArn","type":"string","example":"acs:fc::123456xxxx:services/my-test-service.LATEST/functions/my-test-function"}}}},"400":{},"403":{},"404":{},"409":{},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"createdTime\\\": \\\"2016-08-15T15:00:00.000+0000\\\",\\n  \\\"invocationRole\\\": \\\"acs:ram::123456xxxx:role/fc-test\\\",\\n  \\\"lastModifiedTime\\\": \\\"016-08-15T17:00:00.000+0000\\\",\\n  \\\"qualifier\\\": \\\"LATEST\\\",\\n  \\\"sourceArn\\\": \\\"acs:oss:cn-shanghai:12345xxxx:mybucket\\\",\\n  \\\"triggerConfig\\\": \\\"{\\\\\\\"events\\\\\\\": [\\\\\\\"oss:ObjectCreated:*\\\\\\\"], \\\\\\\"filter\\\\\\\": {\\\\\\\"key\\\\\\\": {\\\\\\\"prefix\\\\\\\": \\\\\\\"/prefix\\\\\\\", \\\\\\\"suffix\\\\\\\": \\\\\\\".zip\\\\\\\"}}}\\\",\\n  \\\"triggerName\\\": \\\"demoTrigger\\\",\\n  \\\"triggerType\\\": \\\"oss\\\",\\n  \\\"description\\\": \\\"trigger for test\\\",\\n  \\\"triggerId\\\": \\\"3e270f2f-cef2-421a-bc86-ff4e8088****\\\",\\n  \\\"domainName\\\": \\\"demo-service-demo-function-jkhksh\\\",\\n  \\\"urlInternet\\\": \\\"https://svc-func-xxxxxxxx.cn-hangzhou.fcapp.run\\\",\\n  \\\"urlIntranet\\\": \\\"https://svc-func-xxxxxxxx.cn-hangzhou-vpc.fcapp.run\\\",\\n  \\\"status\\\": \\\"RUNNING\\\",\\n  \\\"targetArn\\\": \\\"acs:fc::123456xxxx:services/my-test-service.LATEST/functions/my-test-function\\\"\\n}\",\"type\":\"json\"}]","title":"更新触发器"}