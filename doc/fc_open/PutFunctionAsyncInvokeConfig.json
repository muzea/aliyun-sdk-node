{"summary":"创建或更新函数的异步调用配置。","path":"/2021-04-06/services/{serviceName}/functions/{functionName}/async-invoke-config","methods":["put"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"serviceName","in":"path","schema":{"title":"服务名称","description":"服务名称。","type":"string","required":true,"example":"demo-service"}},{"name":"functionName","in":"path","schema":{"title":"函数名称","description":"函数名称。","type":"string","required":true,"example":"helloworld"}},{"name":"qualifier","in":"query","schema":{"title":"别名或版本","description":"服务的版本或别名。","type":"string","required":false,"enumValueTitles":{},"example":"test"}},{"name":"body","in":"body","style":"json","schema":{"title":"异步调用配置","description":"异步调用配置。","type":"object","properties":{"destinationConfig":{"description":"异步调用目标的配置结构体。","required":false,"$ref":"#/components/schemas/DestinationConfig"},"maxAsyncEventAgeInSeconds":{"title":"消息最大存活时长","description":"消息最大存活时长，取值范围\\[1,604800]，默认为 86400，单位为秒。","type":"integer","format":"int64","required":false,"example":"300"},"maxAsyncRetryAttempts":{"title":"异步调用失败后的最大重试次数","description":"异步调用失败后的最大重试次数，非必填。取值范围\\[0,8]。当您未进行配置时，系统内部默认重试次数为3。","type":"integer","format":"int64","required":false,"example":"3"},"statefulInvocation":{"description":"是否开启异步任务。\n\n- **true**：表示已开启异步任务。\n- **false**：表示未开启异步任务。","type":"boolean","required":false,"example":"true"}},"required":false}},{"name":"X-Fc-Account-Id","in":"header","schema":{"description":"您的阿里云账号（主账号）ID。","type":"string","required":false,"example":"188077086902****"}},{"name":"X-Fc-Date","in":"header","schema":{"description":"函数的调用开始日期，格式为**EEE,d MMM yyyy HH:mm:ss GMT**。","type":"string","required":false,"example":"Wed, 11 May 2022 09:00:00 GMT"}},{"name":"X-Fc-Trace-Id","in":"header","schema":{"description":"函数计算调用请求的调用链ID。","type":"string","required":false,"example":"ksdfjkdmkki***"}}],"responses":{"200":{"schema":{"title":"异步调用配置","description":"异步调用配置。","type":"object","properties":{"createdTime":{"title":"创建时间","description":"创建时间。","type":"string","example":"2020-09-10T02:45:02Z"},"destinationConfig":{"description":"异步调用目标的配置结构体。","example":" {\"onSuccess\": null,\"onFailure\": {\"destination\": \"acs:mns:cn-shanghai:123:/queues/xxx/messages\"}}","$ref":"#/components/schemas/DestinationConfig"},"function":{"title":"函数名称","description":"函数名称。","type":"string","example":"helloworld"},"lastModifiedTime":{"title":"最后更改时间","description":"最后更改时间。","type":"string","example":"2020-09-10T02:45:02Z"},"maxAsyncEventAgeInSeconds":{"title":"消息最大存活时长","description":"消息最大存活时长。","type":"integer","format":"int64","example":"300"},"maxAsyncRetryAttempts":{"title":"异步调用失败后的最大重试次数","description":"异步调用失败后的最大重试次数。","type":"integer","format":"int64","example":"3"},"qualifier":{"title":"限定符","description":"服务的版本或别名。","type":"string","example":"test"},"service":{"title":"服务名称","description":"服务名称。","type":"string","example":"demo-service"},"statefulInvocation":{"description":"是否开启异步任务。\n\n- **true**：表示已开启异步任务。\n- **false**：表示未开启异步任务。","type":"boolean","example":"true"}}}},"400":{},"403":{},"404":{},"500":{}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"createdTime\\\": \\\"2020-09-10T02:45:02Z\\\",\\n  \\\"destinationConfig\\\": {\\n    \\\"onSuccess\\\": {\\n      \\\"destination\\\": \\\"\\\"\\n    },\\n    \\\"onFailure\\\": {\\n      \\\"destination\\\": \\\"\\\"\\n    }\\n  },\\n  \\\"function\\\": \\\"helloworld\\\",\\n  \\\"lastModifiedTime\\\": \\\"2020-09-10T02:45:02Z\\\",\\n  \\\"maxAsyncEventAgeInSeconds\\\": 300,\\n  \\\"maxAsyncRetryAttempts\\\": 3,\\n  \\\"qualifier\\\": \\\"test\\\",\\n  \\\"service\\\": \\\"demo-service\\\",\\n  \\\"statefulInvocation\\\": true\\n}\",\"type\":\"json\"}]","title":"配置函数异步请求配置","description":"配置中的StatefulAsyncInvocation即为异步任务的配置项。异步任务在普通的异步调用基础上增加了状态管理的功能，更适用于各类任务场景。"}