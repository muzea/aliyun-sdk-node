{"summary":"创建服务。","path":"/2021-04-06/services","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"body","in":"body","style":"json","schema":{"title":"服务","description":"服务定义。","type":"object","properties":{"description":{"title":"服务描述","description":"服务的描述。","type":"string","required":false,"example":"service_description"},"internetAccess":{"title":"公网访问设置","description":"是否允许函数访问公网：\n\n- **true**：允许函数访问公网，默认值。\n- **false**：不允许函数访问公网。","type":"boolean","required":false,"example":"true"},"logConfig":{"description":"日志配置。函数产生的日志会被写入到配置的日志库中。","required":false,"$ref":"#/components/schemas/LogConfig"},"nasConfig":{"description":"NAS配置。配置此参数后，函数可以访问指定的NAS资源。","required":false,"$ref":"#/components/schemas/NASConfig"},"role":{"title":"服务角色","description":"授予函数计算所需权限的RAM角色，使用场景包含：\n\n- 把函数产生的日志发送到您的日志库中。\n- 为函数在执行过程中访问其他云资源生成的临时访问令牌。","type":"string","required":false,"example":"acs:ram::188077086902****:role/fc-test"},"serviceName":{"title":"服务名称","description":"服务的名称。只能包含字母、数字、下划线（_）和短划线（-）。不能以数字、短划线（-）开头。长度范围为1~128个字符。","type":"string","required":true,"example":"service_Name"},"vpcConfig":{"description":"VPC配置。配置此参数后，函数可以访问指定的VPC资源。","required":false,"$ref":"#/components/schemas/VPCConfig"},"tracingConfig":{"description":"链路追踪配置。当函数计算与链路追踪集成后，您可以记录请求在函数计算的耗时时间、查看函数的冷启动时间、记录函数内部时间的消耗等。更多信息，请参见[链路追踪](~~189804~~)。","required":false,"$ref":"#/components/schemas/TracingConfig"},"ossMountConfig":{"title":"OSS挂载配置","description":"OSS挂载配置。","required":false,"$ref":"#/components/schemas/OSSMountConfig"}},"required":false}},{"name":"X-Fc-Account-Id","in":"header","schema":{"description":"您的阿里云账号（主账号）ID。","type":"string","required":false,"example":"188077086902****"}},{"name":"X-Fc-Date","in":"header","schema":{"description":"函数的调用开始日期，格式为**EEE,d MMM yyyy HH:mm:ss GMT**。","type":"string","required":false,"example":"Wed, 11 May 2022 09:00:00 GMT"}},{"name":"X-Fc-Trace-Id","in":"header","schema":{"description":"自定义请求ID。","type":"string","required":false,"example":"asdf****"}}],"responses":{"200":{"headers":{"etag":{"schema":{"title":"etag，用于更改服务。以确保实际更改的服务和期望更改的服务是一致的","type":"string","example":"5e547e5605e1dc17a78a6191bc18fbc5"}}},"schema":{"title":"服务定义","description":"创建服务请求的返回值。","type":"object","properties":{"createdTime":{"title":"创建时间","description":"服务的创建时间。","type":"string","example":"2016-08-15T16:06:05.000+0000"},"description":{"title":"服务描述","description":"服务的描述。","type":"string","example":"service_description"},"internetAccess":{"title":"公网访问设置","description":"是否允许函数访问公网：\n\n- **true**：允许函数访问公网。\n- **false**：不允许函数访问公网。","type":"boolean","example":"true"},"lastModifiedTime":{"title":"上次更新时间","description":"服务上一次被更新的时间。","type":"string","example":"2016-08-15T16:06:05.000+0000"},"logConfig":{"description":"日志配置。函数产生的日志会被写入到配置的日志库中。","$ref":"#/components/schemas/LogConfig"},"nasConfig":{"description":"NAS配置。配置此参数后，函数可以访问指定的NAS资源。","$ref":"#/components/schemas/NASConfig"},"role":{"title":"服务角色","description":"授予函数计算所需权限的RAM角色，使用场景包含：\n\n- 把函数产生的日至发送到您的日志库中。\n- 为函数在执行过程中访问其他云资源生成的临时访问令牌。","type":"string","example":"acs:ram::188077086902****:role/fc-test"},"serviceId":{"title":"服务ID","description":"系统为服务生成的ID，全网唯一。","type":"string","example":"2d28e0e9-9ba5-4eed-8b1a-d3d9cd24e737"},"serviceName":{"title":"服务名称","description":"服务的名称。","type":"string","example":"service_Name"},"vpcConfig":{"description":"VPC配置。配置此参数后，函数可以访问指定的VPC资源。","$ref":"#/components/schemas/VPCConfig"},"tracingConfig":{"description":"链路追踪配置。当函数计算与链路追踪集成后，您可以记录请求在函数计算的耗时时间、查看函数的冷启动时间、记录函数内部时间的消耗等。更多信息，请参见[链路追踪](~~189804~~)。","$ref":"#/components/schemas/TracingConfig"},"ossMountConfig":{"title":"OSS挂载配置","description":"OSS挂载配置。","$ref":"#/components/schemas/OSSMountConfig"},"useSLRAuthentication":{"description":"服务是否使用服务关联角色授权模式：\n- true：使用服务关联角色授权模式。\n- false：未使用服务关联角色授权模式。","type":"boolean","example":"true"}}}},"400":{},"403":{},"409":{},"500":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"createdTime\\\": \\\"2016-08-15T16:06:05.000+0000\\\",\\n  \\\"description\\\": \\\"service_description\\\",\\n  \\\"internetAccess\\\": true,\\n  \\\"lastModifiedTime\\\": \\\"2016-08-15T16:06:05.000+0000\\\",\\n  \\\"logConfig\\\": {\\n    \\\"logstore\\\": \\\"test-prj\\\",\\n    \\\"project\\\": \\\"test-logstore\\\",\\n    \\\"enableRequestMetrics\\\": true,\\n    \\\"enableInstanceMetrics\\\": true,\\n    \\\"logBeginRule\\\": \\\"DefaultRegex\\\"\\n  },\\n  \\\"nasConfig\\\": {\\n    \\\"groupId\\\": 100,\\n    \\\"mountPoints\\\": [\\n      {\\n        \\\"mountDir\\\": \\\"/home/test\\\",\\n        \\\"serverAddr\\\": \\\"***-uni85.cn-hangzhou.nas.aliyuncs.com:/\\\",\\n        \\\"enableTLS\\\": false\\n      }\\n    ],\\n    \\\"userId\\\": 100\\n  },\\n  \\\"role\\\": \\\"acs:ram::188077086902****:role/fc-test\\\",\\n  \\\"serviceId\\\": \\\"2d28e0e9-9ba5-4eed-8b1a-d3d9cd24e737\\\",\\n  \\\"serviceName\\\": \\\"service_Name\\\",\\n  \\\"vpcConfig\\\": {\\n    \\\"securityGroupId\\\": \\\"sg-bp18hj1wtxgy3b0***\\\",\\n    \\\"vSwitchIds\\\": [\\n      \\\"vsw-bp1ozpcrdc6r****\\\"\\n    ],\\n    \\\"vpcId\\\": \\\"vpc-***\\\",\\n    \\\"role\\\": \\\"\\\"\\n  },\\n  \\\"tracingConfig\\\": {\\n    \\\"type\\\": \\\"Jaeger\\\",\\n    \\\"params\\\": {\\n      \\\"key\\\": \\\"http://tracing-analysis-dc-hz.aliyuncs.com/adapt_xxx/api/otlp/traces\\\"\\n    }\\n  },\\n  \\\"ossMountConfig\\\": {\\n    \\\"mountPoints\\\": [\\n      {\\n        \\\"bucketName\\\": \\\"my-bucket\\\",\\n        \\\"mountDir\\\": \\\"/mnt/dir\\\",\\n        \\\"readOnly\\\": true,\\n        \\\"endpoint\\\": \\\"http://oss-cn-shanghai.aliyuncs.com\\\",\\n        \\\"bucketPath\\\": \\\"/my-dir\\\"\\n      }\\n    ]\\n  },\\n  \\\"useSLRAuthentication\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"创建服务","description":"\n"}