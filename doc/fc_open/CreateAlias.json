{"summary":"创建别名。","path":"/2021-04-06/services/{serviceName}/aliases","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"consumes":["application/json"],"produces":["application/json"],"operationType":"readAndWrite","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"serviceName","in":"path","allowEmptyValue":false,"schema":{"title":"服务名称","description":"服务的名称。","type":"string","required":true,"example":"service_name"}},{"name":"body","in":"body","style":"json","schema":{"title":"别名","description":"别名的定义。","type":"object","properties":{"additionalVersionWeight":{"title":"额外版本权重","description":"别名指向的灰度版本以及灰度权重。\n\n- 灰度版本只在调用函数时生效。\n- 由版本号和对应的权重组成，例如，2:0.05表明调用函数时，版本2为灰度版本，切5%的流量到灰度版本，95%的流量默认到主版本。","type":"object","required":false,"additionalProperties":{"type":"number","format":"float","example":"1","description":"流量权重，取值范围\\[0,1]。"}},"aliasName":{"title":"别名名称","description":"别名的名称。只能包含字母、数字、下划线（\\_）和中划线（-），不能以数字、中划线（-）开头，长度范围为1~128个字符，且值不能为**LATEST**。","type":"string","required":true,"example":"alias_test"},"description":{"title":"别名描述","description":"别名的描述。","type":"string","required":false,"example":"test_description"},"versionId":{"title":"版本ID","description":"别名指向的版本ID。","type":"string","required":true,"example":"1"},"resolvePolicy":{"title":"灰度方式：随机灰度或者规则灰度，默认值为随机灰度\n枚举值：\nRandom\nContent","description":"灰度方式。取值如下：\n\n- **Random**：随机灰度。\n- **Content**：规则灰度。\n默认值：无。","type":"string","required":false,"example":"Random","default":"Random"},"routePolicy":{"title":"灰度规则：满足灰度规则条件的流量，会被路由至灰度实例","description":"灰度规则。满足灰度规则条件的流量，会被路由至灰度实例。","required":false,"$ref":"#/components/schemas/RoutePolicy"}},"required":false}},{"name":"X-Fc-Account-Id","in":"header","schema":{"description":"您的阿里云账号（主账号）ID。","type":"string","required":false,"example":"188077086902****"}},{"name":"X-Fc-Date","in":"header","schema":{"description":"函数的调用开始日期，格式为**EEE,d MMM yyyy HH:mm:ss GMT**。","type":"string","required":false,"example":"Wed, 11 May 2022 09:00:00 GMT"}},{"name":"X-Fc-Trace-Id","in":"header","schema":{"description":"函数计算调用请求的调用链ID。","type":"string","required":false,"example":"r9s89isisi****"}}],"responses":{"200":{"headers":{"etag":{"schema":{"type":"string"}}},"schema":{"title":"别名定义","description":"别名的定义。","type":"object","properties":{"additionalVersionWeight":{"title":"额外版本权重","description":"别名指向的灰度版本以及灰度权重。\n\n- 灰度版本只在调用函数时生效。\n- 由版本号和对应的权重组成，例如，2:0.05表明调用函数时，版本2为灰度版本，切5%的流量到灰度版本，95%的流量默认到主版本。","type":"object","additionalProperties":{"type":"number","format":"float","example":"1","description":"流量权重，取值范围\\[0,1]。"}},"aliasName":{"title":"别名名称","description":"别名的名称。","type":"string","example":"alias_test"},"createdTime":{"title":"创建时间","description":"别名的创建时间。","type":"string","example":"2020-04-23T06:32:43Z"},"description":{"title":"别名描述","description":"别名的描述。","type":"string","example":"test_description"},"lastModifiedTime":{"title":"上次更新时间","description":"别名上一次被更新的时间。","type":"string","example":"2020-04-23T06:32:43Z"},"versionId":{"title":"版本ID","description":"别名指向的版本ID。","type":"string","example":"1"},"resolvePolicy":{"description":"灰度方式。取值如下：\n\n- **Random**：随机灰度，为默认值。\n- **Content**：规则灰度。","type":"string","example":"Random"},"routePolicy":{"description":"灰度规则：满足灰度规则条件的流量，打向灰度实例。","$ref":"#/components/schemas/RoutePolicy"}}}},"400":{},"403":{},"404":{},"409":{},"500":{}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"additionalVersionWeight\\\": {\\n    \\\"key\\\": 1\\n  },\\n  \\\"aliasName\\\": \\\"alias_test\\\",\\n  \\\"createdTime\\\": \\\"2020-04-23T06:32:43Z\\\",\\n  \\\"description\\\": \\\"test_description\\\",\\n  \\\"lastModifiedTime\\\": \\\"2020-04-23T06:32:43Z\\\",\\n  \\\"versionId\\\": \\\"1\\\",\\n  \\\"resolvePolicy\\\": \\\"Random\\\",\\n  \\\"routePolicy\\\": {\\n    \\\"condition\\\": \\\"AND\\\",\\n    \\\"policyItems\\\": [\\n      {\\n        \\\"type\\\": \\\"Header\\\",\\n        \\\"key\\\": \\\"x-test-uid\\\",\\n        \\\"value\\\": \\\"11111\\\",\\n        \\\"operator\\\": \\\"=\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateAliasResponse>\\n    <additionalVersionWeight>\\n        <key>1</key>\\n    </additionalVersionWeight>\\n    <aliasName>alias_test</aliasName>\\n    <createdTime>2020-04-23T06:32:43Z</createdTime>\\n    <description>test_description</description>\\n    <lastModifiedTime>2020-04-23T06:32:43Z</lastModifiedTime>\\n    <versionId>1</versionId>\\n</CreateAliasResponse>\",\"errorExample\":\"\"}]","title":"创建别名"}