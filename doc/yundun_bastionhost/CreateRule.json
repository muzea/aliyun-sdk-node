{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"堡垒机的实例ID。\n> 您可以调用[DescribeInstances](~~153281~~)接口获取该参数。","type":"string","required":true,"example":"bastionhost-cn-5yd2ymfsa0e"}},{"name":"RegionId","in":"query","schema":{"description":"堡垒机的地域ID。\n> 地域ID和地域名称的对应关系，请参见[地域和可用区](~~40654~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"RuleName","in":"query","schema":{"description":"授权规则名称。最大128字符。","type":"string","required":true,"example":"rule"}},{"name":"Comment","in":"query","schema":{"description":"授权规则备注。最大500字符。","type":"string","required":false,"example":"comment"}},{"name":"EffectiveStartTime","in":"query","schema":{"description":"授权规则有效期开始时间（秒，时间戳格式）","type":"integer","format":"int64","required":false,"example":"1669630029"}},{"name":"EffectiveEndTime","in":"query","schema":{"description":"授权规则有效期结束时间（秒，时间戳格式）","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"UserIds","in":"query","style":"flat","schema":{"description":"用户ID数组。","type":"array","items":{"description":"用户ID。\n> 您可以调用[ListUsers](~~204522~~)接口获取该参数。","type":"string","required":false,"example":"1"},"required":false}},{"name":"UserGroupIds","in":"query","style":"flat","schema":{"description":"用户组ID数组。","type":"array","items":{"description":"用户组ID。\n> 您可以调用[ListUserGroups](~~204509~~)接口获取该参数。","type":"string","required":false,"example":"1"},"required":false}},{"name":"Hosts","in":"query","style":"flat","schema":{"description":"主机信息。","type":"array","items":{"description":"要授权的主机ID与主机账户ID。","type":"object","properties":{"HostId":{"description":"主机ID。","type":"string","required":false,"example":"1"},"HostAccountIds":{"description":"主机账户ID数组。","type":"array","items":{"description":"主机账户ID。","type":"string","required":false,"example":"1"},"required":false}},"required":false},"required":false}},{"name":"Databases","in":"query","style":"flat","schema":{"description":"数据库信息。","type":"array","items":{"description":"要授权的数据库实例ID与数据库账户ID。","type":"object","properties":{"DatabaseId":{"description":"数据库实例ID。","type":"string","required":false,"example":"2"},"DatabaseAccountIds":{"description":"数据库账户ID数组。","type":"array","items":{"description":"数据库账户ID。","type":"string","required":false,"example":"4"},"required":false}},"required":false},"required":false}},{"name":"HostGroups","in":"query","style":"flat","schema":{"description":"要授权的资产组信息。","type":"array","items":{"description":"要授权的资产组。","type":"object","properties":{"HostGroupId":{"description":"资产组ID。","type":"string","required":false,"example":"3"},"HostAccountNames":{"description":"资产账户名数组。","type":"array","items":{"description":"资产账户名。","type":"string","required":false,"example":"root"},"required":false}},"required":false},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"BFA818E3-0A53-51F4-8DB5-AF2A62A6D042"},"RuleId":{"description":"授权规则ID。","type":"string","example":"1"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"The argument is invalid."},{"errorCode":"RuleAlreadyExists","errorMessage":"The rule already exists."}],"500":[{"errorCode":"InternalError","errorMessage":"An unknown error occurred."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"BFA818E3-0A53-51F4-8DB5-AF2A62A6D042\\\",\\n  \\\"RuleId\\\": \\\"1\\\"\\n}\",\"type\":\"json\"}]","title":"创建授权规则","summary":"通过创建授权规则，按需求为多个用户批量授权资产，以及设置这些用户访问资产的有效期。授权规则功能不仅可以提升管理用户和资产的效率，还可以对用户访问资产的时间加以控制。","requestParamsDescription":"### Hosts 数组\n#### Host结构\n| 字段 | 类型 | 描述 |\n|---|---|---|\n| HostId | string | 主机ID |\n| HostAccountIds | array[string] | 主机账号ID数组 |\n\n### HostGroups 数组\n#### HostGroup结构\n| 字段 | 类型 | 描述 |\n|---|---|---|\n| HostGroupId | string | 主机组ID |\n| HostAccountNames | array[string] | 主机账号名数组 |\n\n#### AssetGroup结构\n| 字段 | 类型 | 描述 |\n|---|---|---|\n| AssetGroupId | string | 资产组ID |\n| AssetAccountNames | array[string] | 资产账号名数组 |"}