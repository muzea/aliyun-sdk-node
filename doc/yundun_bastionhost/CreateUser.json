{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"要新建用户的堡垒机实例的ID。\n>  您可以调用[DescribeInstances](~~153281~~)接口获取该参数。","type":"string","required":true,"example":"bastionhost-cn-st220aw****"}},{"name":"RegionId","in":"query","schema":{"description":"要新建的用户的堡垒机的地域ID。\n>地域ID和地域名称的对应关系，请参见[地域和可用区](~~40654~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"Source","in":"query","schema":{"description":"要新建的用户的来源。取值：\n\n- **Local**：本地用户\n- **Ram**：RAM用户\n-  **AD**：AD用户\n-  **LDAP**：LDAP用户","type":"string","required":true,"example":"Local"}},{"name":"UserName","in":"query","schema":{"description":"要新建的用户的登录名称。该参数只能由字母、数字、下划线（_）组成，最多支持128字符。","type":"string","required":true,"example":"abc_def"}},{"name":"Password","in":"query","schema":{"description":"要新建的用户的登录密码。 至少8位，至少包含大小写字母、数字、特殊符号，最多支持128字符。\n> 新创建用户来源为本地用户（即Source取值为Local）时，该参数为必填项。","type":"string","required":false,"example":"213****"}},{"name":"DisplayName","in":"query","schema":{"description":"要新建的用户的显示姓名。最多支持128字符。\n> 未填写则默认采用登录名作为显示姓名。","type":"string","required":false,"example":"Bob"}},{"name":"Comment","in":"query","schema":{"description":"要新建的用户的备注信息。最多支持500字符。","type":"string","required":false,"example":"comment"}},{"name":"Email","in":"query","schema":{"description":"要新建的用户的邮箱。\n> - 当TwoFactorStatus为“Enable”，且TwoFactorMethods为“email”时，或当TwoFactorStatus为“Global”，且全局双因子配置中TwoFactorMethods为“email”时，该参数为必填。\n> - 您可以调用[GetInstanceTwoFactor](~~462968~~)接口获取全局双因子配置","type":"string","required":false,"example":"username@example.com"}},{"name":"Mobile","in":"query","schema":{"description":"要新建的用户的手机号码。\n> - 当TwoFactorStatus为“Enable”，且TwoFactorMethods为“sms”或“dingtalk”时，或当TwoFactorStatus为“Global”，且全局双因子配置中TwoFactorMethods为“sms”或“dingtalk”时，该参数为必填。\n> - 您可以调用[GetInstanceTwoFactor](~~462968~~)接口获取全局双因子配置","type":"string","required":false,"example":"1359999****"}},{"name":"SourceUserId","in":"query","schema":{"description":"要新建的用户的唯一标识。\n>- 该参数是堡垒机用户对应的RAM用户的唯一标识。新创建用户来源为RAM用户（即Source取值为Ram）时，该参数为必填项。您可以调用访问控制的[ListUsers](~~28684~~)接口从返回数据UserId获取该参数。\n> - 新创建用户来源为AD或LDAP时，该参数为必填项，取值为用户的DN。","type":"string","required":false,"example":"122748924538****"}},{"name":"MobileCountryCode","in":"query","schema":{"description":"要新建的用户手机号的国际域名。默认值为CN，取值：\n\n- **CN**：中国内地（+86）\n- **HK**：中国香港（+852）\n- **MO**：中国澳门（+853）\n- **TW**：中国台湾（+886）\n- **RU**：俄罗斯（+7）\n- **SG**：新加坡（+65）\n- **MY**：马来西亚（+60）\n- **ID**：印度尼西亚（+62）\n- **DE**：德国（+49）\n- **AU**：澳大利亚（+61）\n- **US**：美国（+1）\n- **AE**：迪拜（+971）\n- **JP**：日本（+81）\n- **GB**：英国（+44）\n- **IN**：印度（+91）\n- **KR**：韩国（+82）\n- **PH**：菲律宾（+63）\n- **CH**：瑞士（+41）\n- **SE**：瑞典（+46）\n- **SA**：沙特（+966）","type":"string","required":false,"example":"CN"}},{"name":"EffectiveStartTime","in":"query","schema":{"title":"开始生效时间戳，单位秒","description":"用户有效期开始时间（秒，时间戳格式）","type":"integer","format":"int64","required":false,"example":"1669630029"}},{"name":"EffectiveEndTime","in":"query","schema":{"title":"有效期结束时间戳。单位秒","description":"用户有效期结束时间（秒，时间戳格式）","type":"integer","format":"int64","required":false,"example":"1672502400"}},{"name":"NeedResetPassword","in":"query","schema":{"title":"下次登录是否需要重置密码","description":"下次登录是否需要重置密码。取值：\n\n- **true**：是\n- **false**：否\n\n> 未填时默认为false。","type":"boolean","required":false,"example":"true"}},{"name":"TwoFactorStatus","in":"query","schema":{"description":"用户双因子状态，取值：\n\n- **Global**：遵循全局设定\n- **Disable**：关闭双因子\n- **Enable**：开启双因子，遵循单个用户设定\n\n> 未填时默认为Global。","type":"string","required":false,"example":"Enable"}},{"name":"TwoFactorMethods","in":"query","schema":{"description":"打开双因子认证方式的数组，目前最多支持一个，取值：\n\n- **sms**：短信\n- **email**：邮件\n- **dingtalk**：钉钉\n- **totp**：OTP令牌\n- **gmusbkey**：国密USBKEY\n>当TwoFactorStatus为“Enable”时，至少指定一种。","type":"string","required":false,"example":"[\"sms\"]"}},{"name":"LanguageStatus","in":"query","schema":{"description":"消息通知语言设置。\n- **Global**：遵循全局\n- **Custom**：自定义\n\n> 未填时默认为Global。","type":"string","required":false,"example":"Custom"}},{"name":"Language","in":"query","schema":{"description":"当LanguageStatus为Custom 时，Language为必填。\n取值：\n- **zh-cn**：简体中文\n- **en**：英文","type":"string","required":false,"example":"en"}}],"responses":{"200":{"schema":{"description":"响应数据。","type":"object","properties":{"UserId":{"description":"新建的用户的ID。","type":"string","example":"1"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"EC9BF0F4-8983-491A-BC8C-1B4DD94976DE"}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"The argument is invalid."},{"errorCode":"UserAlreadyExists","errorMessage":"The user already exists."}],"500":[{"errorCode":"InternalError","errorMessage":"An unknown error occurred."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"UserId\\\": \\\"1\\\",\\n  \\\"RequestId\\\": \\\"EC9BF0F4-8983-491A-BC8C-1B4DD94976DE\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateUserResponse>\\n    <RequestId>EC9BF0F4-8983-491A-BC8C-1B4DD94976DE</RequestId>\\n    <UserId>1</UserId>\\n</CreateUserResponse>\",\"errorExample\":\"\"}]","title":"创建用户","summary":"创建用户。","description":"本接口用于创建堡垒机的用户，支持添加本地用户、RAM用户、AD用户和LDAP用户。堡垒机管理员为运维员创建登录堡垒机的账户（即新建用户）后，运维员才能使用该账户登录堡垒机运维已授权的主机。\n\n本接口的单用户QPS限制为10次/秒。超过限制，API调用会被限流，这可能会影响您的业务，请合理调用。","requestParamsDescription":"调用API时，除了本文中该API的请求参数，还需加入阿里云API公共请求参数。公共请求参数的详细介绍，请参见[公共参数](~~148139~~)。\n\n调用API的请求格式，请参见本文示例中的请求示例。"}