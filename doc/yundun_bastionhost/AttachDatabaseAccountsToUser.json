{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"指定要授权数据库和数据库账户的用户所在堡垒机的实例ID。\n> 您可以调用[DescribeInstances](~~153281~~)接口获取该参数。","type":"string","required":true,"example":"bastionhost-cn-wwo36qbv601"}},{"name":"RegionId","in":"query","schema":{"description":"堡垒机的地域ID。\n> 地域ID和地域名称的对应关系，请参见[地域和可用区](~~40654~~)。","type":"string","required":false,"example":"cn-hangzhou"}},{"name":"UserId","in":"query","schema":{"description":"要授权的用户ID。\n> 您可以调用[ListUsers](~~204522~~)接口获取该参数。","type":"string","required":true,"example":"1"}},{"name":"Databases","in":"query","style":"flat","schema":{"description":"数据库对象数组。\n> 最大数据库数10个，数据库账号数10个。允许不传账号，不传账号则代表授权到数据库。","type":"array","items":{"type":"object","properties":{"DatabaseId":{"description":"要授权的数据库实例 ID。","type":"string","required":false,"example":"22"},"DatabaseAccountIds":{"description":"数据库账户ID数组。","type":"array","items":{"description":"数据库账户ID。","type":"string","required":false,"example":"1"},"required":false}},"required":false},"required":false}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"阿里云为该请求生成的唯一标识符。","type":"string","example":"23120B8E-8737-50BD-A3A3-902A7821F04D"},"Results":{"description":"接口的调用结果。","type":"array","items":{"type":"object","properties":{"Code":{"description":"错误码。错误码为**OK**时，表示授权成功；其他错误码表示授权失败。","type":"string","example":"OK"},"DatabaseAccounts":{"description":"数据库账号信息的列表。","type":"array","items":{"type":"object","properties":{"Code":{"description":"错误码。错误码为OK时，表示授权成功；其他错误码表示授权失败。","type":"string","example":"OK"},"DatabaseAccountId":{"description":"数据库账户ID。","type":"string","example":"6"},"Message":{"description":"错误信息。","type":"string","example":"success"}}}},"DatabaseId":{"description":"数据库实例 ID。","type":"string","example":"22"},"Message":{"description":"错误信息。","type":"string","example":"无"},"UserId":{"description":"用户ID。","type":"string","example":"1"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"The argument is invalid."}],"500":[{"errorCode":"InternalError","errorMessage":"An unknown error occurred."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"23120B8E-8737-50BD-A3A3-902A7821F04D\\\",\\n  \\\"Results\\\": [\\n    {\\n      \\\"Code\\\": \\\"OK\\\",\\n      \\\"DatabaseAccounts\\\": [\\n        {\\n          \\\"Code\\\": \\\"OK\\\",\\n          \\\"DatabaseAccountId\\\": \\\"6\\\",\\n          \\\"Message\\\": \\\"success\\\"\\n        }\\n      ],\\n      \\\"DatabaseId\\\": \\\"22\\\",\\n      \\\"Message\\\": \\\"无\\\",\\n      \\\"UserId\\\": \\\"1\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"为用户授权数据库及数据库账户","summary":"为用户授权数据库及数据库账户。","requestParamsDescription":"入参数据结构\n\nDatabase对象数组\n\n| 字段 | 类型 | 描述 |\n| --- | --- | --- |\n| DatabaseId | string |数据库ID。|\n| DatabaseAccountIds | array[string] | 账号ID数组。最多10个 |\n\n以下是该参数的取值示例。\n\n```\n[\n{\"DatabaseId\":\"1\"}                                           // 只授权数据库\n{\"DatabaseId\":\"2\",\"DatabaseAccountIds\":[\"1\",\"2\",\"3\",...]},       // 授权数据库，且授权账号\n{\"DatabaseId\":\"5\",\"DatabaseAccountIds\":[]}                       // 不支持\n]\n```"}