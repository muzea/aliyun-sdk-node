{"methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"VersionId","in":"query","schema":{"description":"凭据的版本号，在该凭据内唯一。","type":"string","required":true,"docRequired":true,"example":"v3"}},{"name":"SecretName","in":"query","schema":{"description":"凭据名称或凭据资源名称（ARN）。\n>访问其他阿里云账号下的凭据时，必须输入凭据ARN。凭据ARN的格式为`acs:kms:${region}:${account}:secret/${secret-name}`。\n","type":"string","required":true,"docRequired":true,"example":"secret001"}},{"name":"SecretData","in":"query","schema":{"description":"凭据值。加密后存入指定的新版本中。","type":"string","required":true,"docRequired":true,"example":"importantdata"}},{"name":"SecretDataType","in":"query","schema":{"description":"凭据值类型。取值：\n- text（默认值）\n- binary","type":"string","required":false,"docRequired":false,"example":"text","default":"text","enum":["text","binary"]}},{"name":"VersionStages","in":"query","schema":{"description":"凭据版本在存入时需要被同时标记的版本状态。如果您不指定此参数，KMS默认为新版本标记ACSCurrent。","type":"string","required":false,"docRequired":false,"example":"[\"ACSCurrent\",\"ACSNext\"]"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SecretName":{"description":"凭据名称。","type":"string","example":"secret001"},"VersionId":{"description":"凭据的版本号。","type":"string","example":"v3"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"f94ec9d3-2d10-4922-9a5c-5dcd5ebcb5e8"},"VersionStages":{"type":"object","properties":{"VersionStage":{"description":"凭据的版本状态。","type":"array","items":{"description":"凭据的版本状态。","type":"string","example":"{ \"VersionStage\": [ \"ACSCurrent\", \"ACSNext\" ] }"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidParameter","errorMessage":"some of the specified parameters \"\\\" is not valid"},{"errorCode":"Rejected.LimitExceeded","errorMessage":"exceed secret limits error"}],"403":[{"errorCode":"Forbidden.NoPermission","errorMessage":"This operation is forbidden by permission system"}],"404":[{"errorCode":"Forbidden.ResourceNotFound","errorMessage":"Resource not found"}],"409":[{"errorCode":"Rejected.ResourceExist","errorMessage":"The request was rejected becasue key already exsit"}],"500":[{"errorCode":"InternalFailure","errorMessage":"Internal Failure"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SecretName\\\": \\\"secret001\\\",\\n  \\\"VersionId\\\": \\\"v3\\\",\\n  \\\"RequestId\\\": \\\"f94ec9d3-2d10-4922-9a5c-5dcd5ebcb5e8\\\",\\n  \\\"VersionStages\\\": {\\n    \\\"VersionStage\\\": [\\n      \\\"{ \\\\\\\"VersionStage\\\\\\\": [ \\\\\\\"ACSCurrent\\\\\\\", \\\\\\\"ACSNext\\\\\\\" ] }\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PutSecretValueResponse>\\n    <SecretName>secret001</SecretName>\\n    <VersionId>v3</VersionId>\\n    <RequestId>f94ec9d3-2d10-4922-9a5c-5dcd5ebcb5e8</RequestId>\\n    <VersionStages>{ \\\"VersionStage\\\": [ \\\"ACSCurrent\\\", \\\"ACSNext\\\" ] }</VersionStages>\\n</PutSecretValueResponse>\",\"errorExample\":\"\"}]","title":"为凭据存入一个新版本的凭据值","summary":"调用PutSecretValue接口为凭据存入一个新版本的凭据值。","description":">仅通用凭据支持本接口，每个通用凭据最多保存10个凭据版本，超出时KMS会滚动删除最早的凭据版本。\n\n默认情况下，新存入的凭据值被标记为ACSCurrent，而ACSCurrent标记的前一个版本被标记为ACSPrevious。您可以通过指定VersionStage参数来覆盖该默认行为。\n\n此接口用于存入新版本的凭据值，而不能用于修改已有版本的凭据值。存入新版本时需指定版本号，KMS按照如下规则进行操作：\n- 版本号在凭据内不存在：创建新版本并存入凭据值。\n- 版本号在凭据内存在：如果入参中的凭据值和凭据内该版本号对应的凭据值相同，则请求会被忽略，并且返回成功（请求是幂等的），不相同时则请求会被拒绝，且返回失败。\n\n本文将提供一个示例，为凭据名称是`secret001`的凭据存入一个新版本的凭据值，新凭据版本号`VersionId`为`v3`、凭据值`SecretData`为`importantdata`。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~69007~~)。","responseParamsDescription":" ","extraInfo":" "}