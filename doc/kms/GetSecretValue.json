{"summary":"调用GetSecretValue接口获取凭据值。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"SecretName","in":"query","schema":{"description":"凭据名称或凭据资源名称（ARN）。\n>访问其他阿里云账号下的凭据时，必须输入凭据ARN。凭据ARN的格式为`acs:kms:${region}:${account}:secret/${secret-name}`。","type":"string","required":true,"docRequired":true,"example":"secret001"}},{"name":"VersionStage","in":"query","schema":{"description":"版本状态。默认值：ACSCurrent。\n\n输入该参数时返回指定版本状态的凭据值，不输入该参数时返回ACSCurrent版本状态的凭据值。\n> RDS凭据、RAM凭据和ECS凭据只能获取ACSPrevious和ACSCurrent对应版本的凭据值。","type":"string","required":false,"example":"ACSCurrent"}},{"name":"VersionId","in":"query","schema":{"description":"版本号。\n\n> RDS凭据、RAM凭据和ECS凭据不支持指定VersionId，设置该参数将被忽略。","type":"string","required":false,"example":"v1"}},{"name":"FetchExtendedConfig","in":"query","schema":{"description":"是否获取凭据的拓展配置。取值：\n\n- true：获取\n- false（默认值）：不获取\n\n> 通用凭据不支持拓展配置，设置该参数将被忽略。","type":"boolean","required":false,"example":"true"}}],"responses":{"200":{"schema":{"type":"object","properties":{"SecretDataType":{"description":"凭据值类型。取值：\n- text\n- binary","type":"string","example":"binary"},"CreateTime":{"description":"创建凭据的时间。","type":"string","example":"2024-02-21T15:39:26Z"},"VersionId":{"description":"凭据的版本号。","type":"string","example":"v1"},"NextRotationDate":{"description":"下一次轮转的时间。  \n\n> 当自动轮转开启时，返回该参数。","type":"string","example":"2024-07-06T18:22:03Z"},"SecretData":{"description":"凭据值。KMS将存储的密文凭据值进行解密后返回该参数。  \n\n- 通用凭据返回您指定的凭据值。\n\n- RDS凭据返回的凭据值满足格式：`{\"AccountName\":\"\",\"AccountPassword\":\"\"}`  。\n\n- RAM凭据返回的凭据值满足格式：`{\"AccessKeyId\":\"Adfdsfd\",\"AccessKeySecret\":\"fdsfdsf\",\"GenerateTimestamp\": \"2023-03-25T10:42:40Z\"}`  。  \n\n- ECS凭据返回的凭据值满足以下格式：  \n  - 口令类型凭据：`{\"UserName\":\"ecs-user\",\"Password\":\"H5asdasdsads****\"} `。  \n  - 公私钥类型凭据（私钥格式为PEM）：`{\"UserName\":\"ecs-user\",\"PublicKey\":\"ssh-rsa ****mKwnVix9YTFY9Rs= imported-openssh-key\",\"PrivateKey\": \"d6bee1cb-2e14-4277-ba6b-73786b21****\"} `。","type":"string","example":"testdata1"},"RotationInterval":{"description":"凭据自动轮转的周期。    \n格式为`integer[unit]`，其中`integer`表示时间长度，`unit`表示时间单位。 `unit`取值：s（秒）。例如：7天的轮转周期为604800s。\n\n> 当自动轮转开启时，返回该参数。","type":"string","example":"604800s"},"ExtendedConfig":{"description":"凭据的拓展配置。  \n\n> 当FetchExtendedConfig取值为true时，仅RDS凭据、RAM凭据或ECS凭据返回该参数。","type":"string","example":"{\\\"SecretSubType\\\":\\\"SingleUser\\\", \\\"DBInstanceId\\\":\\\"rm-uf667446pc955****\\\",  \\\"CustomData\\\":{} }"},"LastRotationDate":{"description":"最近一次轮转的时间。  \n\n> 当凭据发生过轮转时返回该参数。","type":"string","example":"2023-07-05T08:22:03Z"},"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"6a3e9c36-1150-4881-84d3-eb8672fcafad"},"SecretName":{"description":"凭据名称。","type":"string","example":"secret001"},"AutomaticRotation":{"description":"是否开启了自动轮转。取值：\n- Enabled：开启了自动轮转。\n- Disabled：未开启自动轮转。\n- Invalid：轮转状态异常，KMS无法为您自动轮转。\n\n> 仅RDS凭据、RAM凭据或ECS凭据返回该参数。","type":"string","example":"Enabled"},"SecretType":{"description":"凭据类型。取值：\n- Generic：通用凭据。  \n- Rds：RDS凭据。  \n- RAMCredentials：RAM凭据。  \n- ECS：ECS凭据。","type":"string","example":"Generic"},"VersionStages":{"type":"object","properties":{"VersionStage":{"description":"凭据版本的状态标记。","type":"array","items":{"description":"凭据版本的状态标记。","type":"string","example":"{ \"VersionStage\": [ \t\"ACSCurrent\" \t] }"}}}}}}}},"errorCodes":{"403":[{"errorCode":"Forbidden.DKMSInstanceStateInvalid","errorMessage":"The DKMS instance state is invalid."},{"errorCode":"Forbidden.DKMSInstanceNotFound","errorMessage":"The specified DKMS Instance is not found."}],"404":[{"errorCode":"Forbidden.KeyNotFound","errorMessage":"The specified Key is not found."},{"errorCode":"Forbidden.ResourceNotFound","errorMessage":"Resource not found."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"SecretDataType\\\": \\\"binary\\\",\\n  \\\"CreateTime\\\": \\\"2024-02-21T15:39:26Z\\\",\\n  \\\"VersionId\\\": \\\"v1\\\",\\n  \\\"NextRotationDate\\\": \\\"2024-07-06T18:22:03Z\\\",\\n  \\\"SecretData\\\": \\\"testdata1\\\",\\n  \\\"RotationInterval\\\": \\\"604800s\\\",\\n  \\\"ExtendedConfig\\\": \\\"{\\\\\\\\\\\\\\\"SecretSubType\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"SingleUser\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"DBInstanceId\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"rm-uf667446pc955****\\\\\\\\\\\\\\\",  \\\\\\\\\\\\\\\"CustomData\\\\\\\\\\\\\\\":{} }\\\",\\n  \\\"LastRotationDate\\\": \\\"2023-07-05T08:22:03Z\\\",\\n  \\\"RequestId\\\": \\\"6a3e9c36-1150-4881-84d3-eb8672fcafad\\\",\\n  \\\"SecretName\\\": \\\"secret001\\\",\\n  \\\"AutomaticRotation\\\": \\\"Enabled\\\",\\n  \\\"SecretType\\\": \\\"Generic\\\",\\n  \\\"VersionStages\\\": {\\n    \\\"VersionStage\\\": [\\n      \\\"{ \\\\\\\"VersionStage\\\\\\\": [ \\\\t\\\\\\\"ACSCurrent\\\\\\\" \\\\t] }\\\"\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<GetSecretValueResponse>\\n    <SecretDataType>binary</SecretDataType>\\n    <CreateTime>2024-02-21T15:39:26Z</CreateTime>\\n    <VersionId>v1</VersionId>\\n    <NextRotationDate>2024-07-06T18:22:03Z</NextRotationDate>\\n    <SecretData>testdata1</SecretData>\\n    <RotationInterval>604800s</RotationInterval>\\n    <ExtendedConfig>{\\\\\\\"SecretSubType\\\\\\\":\\\\\\\"SingleUser\\\\\\\", \\\\\\\"DBInstanceId\\\\\\\":\\\\\\\"rm-uf667446pc955****\\\\\\\",  \\\\\\\"CustomData\\\\\\\":{} }</ExtendedConfig>\\n    <LastRotationDate>2023-07-05T08:22:03Z</LastRotationDate>\\n    <RequestId>6a3e9c36-1150-4881-84d3-eb8672fcafad</RequestId>\\n    <SecretName>secret001</SecretName>\\n    <AutomaticRotation>Enabled</AutomaticRotation>\\n    <SecretType>Generic</SecretType>\\n    <VersionStages>{ \\\"VersionStage\\\": [ \\t\\\"ACSCurrent\\\" \\t] }</VersionStages>\\n</GetSecretValueResponse>\",\"errorExample\":\"\"}]","title":"获取凭据值","description":"如果不指定版本号或版本状态，则KMS默认返回被标记为ACSCurrent的版本凭据值。\n如果凭据使用了用户指定的密钥来保护凭据值，则需要调用者同时具备相应主密钥的`kms:Decrypt`权限。\n\n本文将提供一个示例，获取一个名为`secret001`凭据的凭据值，返回结果显示凭据值`SecretData`为`testdata1`。","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~69007~~)。","responseParamsDescription":" ","extraInfo":" "}