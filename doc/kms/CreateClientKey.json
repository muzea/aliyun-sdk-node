{"methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{},"parameters":[{"name":"AapName","in":"query","schema":{"description":"绑定的应用接入点名称。","type":"string","required":true,"docRequired":true,"example":"aap_test"}},{"name":"Password","in":"query","schema":{"description":"Client Key加密口令。\n\n8~64位，支持数字、英文大小写、特殊字符`~!@#$%^&*?_-`，且必须包含其中的两种。","type":"string","required":true,"docRequired":true,"example":"bcfefe15-46f0****"}},{"name":"NotAfter","in":"query","schema":{"description":"ClientKey的有效期结束时间。\n\n按照ISO8601标准表示，并使用UTC时间。格式为：YYYY-MM-DDThh:mm:ssZ。\n\n >- 如果您未输入NotAfter，取值默认为ClientKey的创建时间加上5年。\n- 如果您输入了NotAfter，必须输入NotBefore。\n","type":"string","required":false,"example":"2028-08-31T17:14:33Z"}},{"name":"NotBefore","in":"query","schema":{"description":"ClientKey的有效期起始时间。\n\n按照ISO8601标准表示，并使用UTC时间。格式为：YYYY-MM-DDThh:mm:ssZ。\n\n >- 如果您未输入NotBefore，取值默认为ClientKey的创建时间。\n- 如果您输入了NotBefore，必须输入NotAfter。","type":"string","required":false,"example":"2023-08-31T17:14:33Z"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"本次调用请求的ID，是由阿里云为该请求生成的唯一标识符，可用于排查和定位问题。","type":"string","example":"2312e45f-b2fa-4c34-ad94-3eca50932916"},"ClientKeyId":{"description":"ClientKey的ID。","type":"string","example":"KAAP.66abf237-63f6-4625-b8cf-47e1086e****"},"KeyAlgorithm":{"description":"加密ClientKey私钥内容的算法。目前仅支持RSA_2048。","type":"string","example":"RSA_2048"},"PrivateKeyData":{"description":"ClientKey的私钥内容。","type":"string","example":"MIIJqwIBAzCCCXcGCSqGSIb3DQEHAaCCCWgEgglkMIIJYDCCBBcGCSqGSIb3DQEHBqCCBAgwgg******"},"NotBefore":{"description":"ClientKey的有效期起始时间。","type":"string","example":"2023-08-31T17:14:33Z"},"NotAfter":{"description":"ClientKey的有效期结束时间。","type":"string","example":"2028-08-31T17:14:33Z"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"2312e45f-b2fa-4c34-ad94-3eca50932916\\\",\\n  \\\"ClientKeyId\\\": \\\"KAAP.66abf237-63f6-4625-b8cf-47e1086e****\\\",\\n  \\\"KeyAlgorithm\\\": \\\"RSA_2048\\\",\\n  \\\"PrivateKeyData\\\": \\\"MIIJqwIBAzCCCXcGCSqGSIb3DQEHAaCCCWgEgglkMIIJYDCCBBcGCSqGSIb3DQEHBqCCBAgwgg******\\\",\\n  \\\"NotBefore\\\": \\\"2023-08-31T17:14:33Z\\\",\\n  \\\"NotAfter\\\": \\\"2028-08-31T17:14:33Z\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateClientKeyResponse>\\n    <RequestId>2312e45f-b2fa-4c34-ad94-3eca50932916</RequestId>\\n    <ClientKeyId>KAAP.66abf237-63f6-4625-b8cf-47e1086e****</ClientKeyId>\\n    <KeyAlgorithm>RSA_2048</KeyAlgorithm>\\n    <PrivateKeyData>MIIJqwIBAzCCCXcGCSqGSIb3DQEHAaCCCWgEgglkMIIJYDCCBBcGCSqGSIb3DQEHBqCCBAgwgg******</PrivateKeyData>\\n    <NotBefore>2023-08-31T17:14:33Z</NotBefore>\\n    <NotAfter>2028-08-31T17:14:33Z</NotAfter>\\n</CreateClientKeyResponse>\",\"errorExample\":\"\"}]","title":"创建应用身份凭证","summary":"创建一个应用身份凭证（ClientKey）。","description":"### 使用说明\n自建应用进行密码运算操作、获取凭据值前，需要通过应用身份凭证（ClientKey）访问KMS实例。创建应用接入点AAP和身份凭证（ClientKey）的整体流程如下：\n\n1. 创建网络控制规则：设置允许访问KMS的私网IP或私网网段。更多信息，请参见[CreateNetworkRule](~~2539407~~)。\n2. 创建权限策略：设置允许应用访问的密钥和凭据，并绑定网络控制规则。更多信息，请参见[CreatePolicy](~~2539454~~)。\n3. 创建应用接入点：设置认证方式，并绑定权限策略。更多信息，请参见[CreateApplicationAccessPoint](~~2539467~~)。\n4. 创建应用身份凭证（ClientKey）：设置ClientKey的加密口令、有效期，并绑定应用接入点。即本文介绍的内容。\n### 注意事项\nClientKey有使用期限，到期后KMS将不允许集成该Client Key的应用访问KMS实例，请您在Client Key到期前完成更换。建议您在更换完成后，在KMS删除过期的Client Key。"}