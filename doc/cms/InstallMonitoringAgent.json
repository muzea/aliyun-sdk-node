{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"Force","in":"query","schema":{"description":"是否强制安装云监控插件。取值：\n- true（默认值）：强制安装。\n- false：不强制安装。","type":"boolean","required":false,"example":"true","default":"true"}},{"name":"InstanceIds","in":"query","style":"repeatList","schema":{"description":"阿里云主机ID。\n\nN的取值范围：1~10。\n\n> `InstallCommand`和`InstanceIds`必须二选一。","type":"array","items":{"description":"阿里云主机ID。\n\nN的取值范围：1~10。\n\n> `InstallCommand`和`InstanceIds`必须二选一。","type":"string","required":false,"example":"i-m5e0k0bexac8tykr****"},"required":false,"example":"i-m5e0k0bexac8tykr****","maxItems":10}},{"name":"InstallCommand","in":"query","schema":{"description":"为当前阿里云账号下的所有阿里云主机安装云监控插件。取值：\n\n- `onlyInstallNotHasAgent` ： 仅为未安装云监控插件的阿里云主机安装最新版本插件。\n\n- `onlyUpgradeAgent`：仅为已安装非最新版本云监控插件的阿里云主机升级插件。\n\n- `installAndUpgrade`：不仅为未安装云监控插件的阿里云主机安装最新版本插件，且为已安装非最新版本云监控插件的阿里云主机升级插件。\n\n> 如果您已设置该参数，参数`InstanceIds`的设置无效。","type":"string","required":false,"example":"onlyInstallNotHasAgent"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。\n\n>200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The specified resource is not found."},"RequestId":{"description":"请求ID。","type":"string","example":"0BDAF8A8-04DC-5F0C-90E4-724D42C41945"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"}}}}},"errorCodes":{"400":[{"errorCode":"ParameterInvalid","errorMessage":"Illegal parameters."}],"403":[{"errorCode":"AccessForbidden","errorMessage":"User not authorized to operate on the specified resource."}],"404":[{"errorCode":"ResourceNotFound","errorMessage":"The specified resource is not found."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The specified resource is not found.\\\",\\n  \\\"RequestId\\\": \\\"0BDAF8A8-04DC-5F0C-90E4-724D42C41945\\\",\\n  \\\"Success\\\": true\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<InstallMonitoringAgentResponse>\\r\\n\\t<RequestId>0BDAF8A8-04DC-5F0C-90E4-724D42C41945</RequestId>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n</InstallMonitoringAgentResponse>\",\"errorExample\":\"\"}]","title":"为指定阿里云主机安装云监控插件","summary":"调用InstallMonitoringAgent接口为指定阿里云主机安装云监控插件。","description":"# 前提条件\n请确保阿里云主机已安装云助手。关于如何安装云助手，请参见[云助手概述](~~64601~~)。\n\n# 背景信息\n本接口仅适用于阿里云主机，即ECS实例。\n通过API安装云监控插件的成功率约为95%，如果安装失败，则请手动安装。关于如何安装云监控插件，请参见[安装和卸载C++版本插件](~~183482~~)。\n\n# 使用说明\n本文将提供一个示例，强制为阿里云主机`i-m5e0k0bexac8tykr****`安装最新版本云监控插件。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}