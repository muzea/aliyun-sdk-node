{"summary":"调用CreateHybridMonitorTask接口创建阿里云产品的数据接入任务或SLS日志的监控项。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"Namespace","in":"query","schema":{"description":"指标仓库名称。\n\n关于如何获取指标仓库名称，请参见[DescribeHybridMonitorNamespaceList](~~428880~~)。","type":"string","required":true,"docRequired":false,"example":"aliyun"}},{"name":"Description","in":"query","schema":{"description":"监控任务描述。","type":"string","required":false,"docRequired":false,"example":"阿里云产品数据接入任务。"}},{"name":"TaskName","in":"query","schema":{"description":"监控任务名称。\n\n- 当`TaskType`为`aliyun_fc`时，输入阿里云产品的数据接入任务名称。\n- 当`TaskType`为`aliyun_sls`时，输入SLS日志的监控项名称。","type":"string","required":false,"docRequired":false,"example":"aliyun_task"}},{"name":"TaskType","in":"query","schema":{"description":"监控任务类型。取值：\n\n- aliyun_fc：阿里云产品的数据接入任务。\n- aliyun_sls：SLS日志的监控项。","type":"string","required":true,"docRequired":true,"enumValueTitles":{"aliyun_fc":"aliyun_fc","aliyun_sls":"aliyun_sls"},"example":"aliyun_fc"}},{"name":"CollectTargetType","in":"query","schema":{"description":"监控数据的采集目标类型。\n- 当`TaskType`为`aliyun_fc`时，输入`aliyun_fc`。\n- 当`TaskType`为`aliyun_sls`时，输入SLS日志的Logstore组名称。","type":"string","required":true,"example":"aliyun_fc"}},{"name":"CollectInterval","in":"query","schema":{"description":"监控项的采集周期。取值：\n\n- 15\n- 60（默认值）\n\n单位：秒。\n\n> 仅当`TaskType`为`aliyun_sls`时，需要设置该参数。","type":"string","required":false,"enumValueTitles":{"15":"15","60":"60"},"example":"60"}},{"name":"GroupId","in":"query","schema":{"description":"应用分组ID。\n\n关于如何获取应用分组ID，请参见[DescribeMonitorGroups](~~115032~~)。\n\n> 仅当`TaskType`为`aliyun_sls`时，需要设置该参数。","type":"string","required":false,"docRequired":false,"example":"3607****"}},{"name":"YARMConfig","in":"query","schema":{"description":"接入企业云监控的阿里云产品的配置文件。\n\n- namespace：阿里云产品的命名空间。关于如何查询阿里云产品的命名空间，请参见[DescribeMetricMetaList](~~98846~~)。\n- metric_list：阿里云服务的监控项。关于如何查询阿里云产品的监控项，请参见[DescribeMetricMetaList](~~98846~~)。\n\n配置文件示例如下：\n\n```\nproducts:\n- namespace: acs_ecs_dashboard\n  metric_info:\n  - metric_list:\n    - cpu_total\n    - cpu_idle\n    - diskusage_utilization\n    - CPUUtilization\n    - DiskReadBPS\n    - InternetOut\n    - IntranetOut\n    - cpu_system\n- namespace: acs_rds_dashboard\n  metric_info:\n  - metric_list:\n    - MySQL_QPS\n    - MySQL_TPS\n```\n> 当`TaskType`为`aliyun_fc`时，必须设置该参数。","type":"string","required":false,"docRequired":false,"example":"products:- namespace: acs_ecs_dashboard  metric_info:  - metric_list:    - cpu_total"}},{"name":"TargetUserId","in":"query","schema":{"description":"成员ID。\n\n当您通过管理账号调用API时，可以选择将资源目录中的任意成员的阿里云产品接入企业云监控。通过资源目录实现企业跨账号统一监控目标阿里云产品。\n\n> 仅当`TaskType`为`aliyun_fc`时，需要设置该参数。","type":"string","required":false,"docRequired":false,"example":"120886317861****"}},{"name":"AttachLabels","in":"query","style":"repeatList","schema":{"description":"监控项的标签。\n\n> 仅当`TaskType`为`aliyun_sls`时，需要设置该参数。","type":"array","items":{"description":"无。","type":"object","properties":{"Value":{"description":"监控项的标签值。","type":"string","required":false,"example":"testValue"},"Name":{"description":"监控项的标签键。","type":"string","required":false,"example":"app_service"}},"required":false},"required":false,"maxItems":10}},{"name":"TargetUserIdList","in":"query","schema":{"description":"成员ID。多个成员ID之间用半角逗号（,）分隔。\n\n> 仅当您通过管理账号调用本接口时，需要设置该参数。","type":"string","required":false,"example":"120886317861****"}},{"name":"SLSProcessConfig","in":"query","style":"flat","schema":{"description":"SLS日志配置。\n\n> 仅当`TaskType`为`aliyun_sls`时，需要设置该参数。","type":"object","properties":{"Filter":{"description":"SLS日志中参数的过滤条件。","type":"object","properties":{"Relation":{"description":"多个参数过滤条件之间的关系。取值：\n\n- and（默认值）：满足所有过滤条件，才处理日志。\n- or：满足任意过滤条件，即可处理日志。","type":"string","required":false,"enumValueTitles":{"or":"or","and":"and"},"example":"and"},"Filters":{"description":"SLS日志中参数的过滤条件列表。","type":"array","items":{"description":"无。","type":"object","properties":{"SLSKeyName":{"description":"SLS日志中过滤的参数名称。","type":"string","required":false,"example":"code"},"Operator":{"description":"SLS日志中参数值的过滤方式。取值：\n- `contain`：包含。\n- `notContain`：不包含。\n- `>`：大于。\n- `<`：小于。\n- `=`：等于。\n- `!=`：不等于。\n- `>=`：大于等于。\n- `<=`：小于等于。","type":"string","required":false,"example":"=","enum":[">",">=","=","<=","<","!=","contain","notContain"]},"Value":{"description":"SLS日志中参数的过滤值。","type":"string","required":false,"example":"200"}},"required":false},"required":false}},"required":false},"Statistics":{"description":"SLS日志的统计方式。","type":"array","items":{"description":"无。","type":"object","properties":{"SLSKeyName":{"description":"SLS日志统计的参数名称。","type":"string","required":false,"example":"name"},"Function":{"description":"在计算周期内根据选定的统计方法对日志数据进行聚合处理。取值：\n- count：计数。\n- sum：求和。\n- avg：平均值。\n- max：最大值。\n- min：最小值。\n- value：周期内采样。\n- countps：计算统计周期内指定字段求count后的每秒平均值。\n- sumps：计算统计周期内指定字段求sum后的每秒平均值。\n- distinct：去重后计算统计周期内指定字段出现的次数。\n- distribution：计算字段值在一个区间内的出现次数。\n- percentile：计算字段值的分布值，例如：P50。","type":"string","required":false,"example":"count"},"Alias":{"description":"SLS日志统计结果的别名。","type":"string","required":false,"example":"level_count","minLength":0,"pattern":"^[a-zA-Z_][a-zA-Z0-9_]{1,39}$"},"Parameter1":{"description":"SLS日志的统计值。\n\n- 当`Function`为`distribution`时，表示统计区间的下限，例如：统计HttpCode的2XX数量，填写200。\n\n- 当`Function`为`percentile`时，表示统计分布的百分位，例如：0.5表示P50。\n","type":"string","required":false,"example":"200"},"Parameter2":{"description":"SLS日志的统计值。\n\n> 仅当`Function`为`distribution`时，需要设置该参数。表示统计区间的上限，例如：统计HttpCode的2XX数量，填写299。\n","type":"string","required":false,"example":"299"}},"required":false},"required":false},"GroupBy":{"description":"对数据进行空间维度聚合，相当于SQL中的Group By。","type":"array","items":{"description":"无。","type":"object","properties":{"SLSKeyName":{"description":"SLS日志统计的参数名称。","type":"string","required":false,"example":"code"},"Alias":{"description":"SLS日志统计结果的别名。","type":"string","required":false,"example":"ApiResult","pattern":"^[a-zA-Z_][a-zA-Z0-9_]{1,39}$"}},"required":false},"required":false},"Express":{"description":"SLS日志统计结果的扩展字段的四则运算结果。","type":"array","items":{"description":"无。","type":"object","properties":{"Express":{"description":"SLS日志统计结果的扩展字段的四则运算结果。","type":"string","required":false,"example":"success_count"},"Alias":{"description":"SLS日志统计结果的扩展字段的四则运算结果的别名。","type":"string","required":false,"example":"SuccRate","pattern":"^[a-zA-Z_][a-zA-Z0-9_]{1,39}$"}},"required":false},"required":false}},"required":false}},{"name":"CloudAccessId","in":"query","style":"flat","schema":{"description":"其他云厂商接入云监控的主账号ID列表。","type":"array","items":{"description":"其他云厂商接入云监控的主账号ID。","type":"string","required":false,"example":"n5n9ik1b****"},"required":false,"maxItems":50,"minItems":1}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"Code":{"description":"状态码。\n\n> 200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"yamlConfigFail"},"RequestId":{"description":"请求ID。","type":"string","example":"28CEA2E0-3E90-51B2-A7E8-B1ED75534E49"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n- false：失败。","type":"string","example":"true"},"TaskId":{"description":"监控任务ID。","type":"integer","format":"int64","example":"36****"}}}}},"errorCodes":{"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"%s","errorMessage":"%s"}],"409":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"%s","errorMessage":"%s"},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"yamlConfigFail\\\",\\n  \\\"RequestId\\\": \\\"28CEA2E0-3E90-51B2-A7E8-B1ED75534E49\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"TaskId\\\": 0\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateHybridMonitorTaskResponse>\\n\\t<TaskId>36****</TaskId>\\n\\t<RequestId>28CEA2E0-3E90-51B2-A7E8-B1ED75534E49</RequestId>\\n\\t<Code>200</Code>\\n\\t<Success>true</Success>\\n</CreateHybridMonitorTaskResponse>\\t\",\"errorExample\":\"\"}]","title":"创建监控任务","description":"# 前提条件\n\n- 请确保您已开通企业云监控。具体操作，请参见[开通企业云监控](~~250773~~)。\n\n- 如果您需要创建SLS日志的监控项，请确保您已开通SLS日志服务，且已创建日志项目（Project）和日志库（Logstore）。具体操作，请参见[快速入门](~~54604~~)。\n\n# 使用说明\n本文将提供一个示例，创建阿里云产品的数据接入任务`aliyun_task`，将云服务器ECS的监控项`cpu_total`接入指标仓库`aliyun`。返回结果显示，创建数据接入任务成功。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。"}