{"summary":"调用CreateSiteMonitor接口创建一次性探测任务。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"Address","in":"query","schema":{"description":"探测任务的URL或IP地址。","type":"string","required":true,"example":"http://www.aliyun.com"}},{"name":"TaskType","in":"query","schema":{"description":"探测任务的类型。\n目前探测任务的类型包括：HTTP、PING、TCP、UDP和DNS。","type":"string","required":true,"example":"HTTP"}},{"name":"TaskName","in":"query","schema":{"description":"探测任务的名称。\n\n<props=\"china\">长度4~100个字符，取值可包含英文字母、数字、下划线（_）和汉字。</props>\n\n\n<props=\"intl\">长度4~100个字符，取值可包含英文字母、数字和下划线（_）。</props>\n\n<props=\"partner\">长度4~100个字符，取值可包含英文字母、数字和下划线（_）。</props>\n","type":"string","required":true,"example":"task1"}},{"name":"IspCities","in":"query","schema":{"description":"探测点信息。如果该参数取值为空，则系统随机选择3个探测点。\n\n格式为`JSONArray`，例如：[{\"city\":\"546\",\"isp\":\"465\"},{\"city\":\"572\",\"isp\":\"465\"},{\"city\":\"738\",\"isp\":\"465\"}]，分别对应北京、杭州、青岛。\n\n关于如何获取探测点信息，请参见[DescribeSiteMonitorISPCityList](~~115045~~)。\n\n> `IspCities`和`RandomIspCity`必须二选一。","type":"string","required":false,"example":"[{\"city\":\"546\",\"isp\":\"465\"},{\"city\":\"572\",\"isp\":\"465\"},{\"city\":\"738\",\"isp\":\"465\"}]"}},{"name":"OptionsJson","in":"query","schema":{"description":"探测任务对应协议类型的高级扩展选项。不同探测任务的协议类型对应不同的扩展选项。","type":"string","required":false,"example":"{\"time_out\":5000}"}},{"name":"RandomIspCity","in":"query","schema":{"description":"探测点的数量。\n\n> - `IspCities`和`RandomIspCity`必须二选一。- 如果您设置了参数`RandomIspCity`，参数`IspCities`自动失效。","type":"integer","format":"int32","required":false,"example":"1","default":"0"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。\n\n> 200表示成功。","type":"string","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"successful"},"RequestId":{"description":"请求ID。","type":"string","example":"68192f5d-0d45-4b98-9724-892813f86c71"},"Success":{"description":"操作是否成功。取值：\n* true：成功。\n* false：失败。","type":"string","example":"true"},"CreateResultList":{"description":"创建一次性探测任务的结果列表。","type":"array","items":{"description":"创建一次性探测任务的结果列表。","type":"object","properties":{"TaskId":{"description":"探测任务ID。","type":"string","example":"2c8dbdf9-a3ab-46a1-85a4-f094965e****"},"TaskName":{"description":"探测任务名称。","type":"string","example":"task1"}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidQueryParameter","errorMessage":"%s"},{"errorCode":"IllegalAddress","errorMessage":"Illegal HTTP address"},{"errorCode":"OperationError","errorMessage":"Operation failed"},{"errorCode":"TaskNotExists","errorMessage":"Task does not exist"},{"errorCode":"OperatorInvalid","errorMessage":"Operator invalid"},{"errorCode":"OperatorCityInvalid","errorMessage":"Operator City invalid"},{"errorCode":"NameRepeat","errorMessage":"Task name repeat"},{"errorCode":"CreateAlarmError","errorMessage":"Create alarm error"},{"errorCode":"NameNotExists","errorMessage":"Task name not exists"}],"401":[{"errorCode":"AccessDeniedException","errorMessage":"You donot have sufficient access to perform this action."}],"402":[{"errorCode":"LimitExceeded","errorMessage":"The quota for this customer had been reached."}],"403":[{"errorCode":"%s","errorMessage":"%s"},{"errorCode":"Forbidden","errorMessage":"%s"}],"406":[{"errorCode":"ExceedingQuota","errorMessage":"Exceeding quota limits."}],"409":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"%s"}],"503":[{"errorCode":"%s","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"RequestId\\\": \\\"68192f5d-0d45-4b98-9724-892813f86c71\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"CreateResultList\\\": [\\n    {\\n      \\\"TaskId\\\": \\\"2c8dbdf9-a3ab-46a1-85a4-f094965e****\\\",\\n      \\\"TaskName\\\": \\\"task1\\\"\\n    }\\n  ]\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateInstantSiteMonitorResponse>\\r\\n\\t<Message>successful</Message>\\r\\n\\t<RequestId>68192f5d-0d45-4b98-9724-892813f86c71</RequestId>\\r\\n\\t<Code>200</Code>\\r\\n\\t<CreateResultList>\\r\\n\\t\\t<TaskId>2c8dbdf9-a3ab-46a1-85a4-f094965e****</TaskId>\\r\\n\\t\\t<TaskName>task1</TaskName>\\r\\n\\t</CreateResultList>\\r\\n\\t<Success>true</Success>\\r\\n</CreateInstantSiteMonitorResponse>\\t\",\"errorExample\":\"\"}]","title":"创建一次性探测任务","description":"仅开通网络分析与监控的阿里云账号，才能创建一次性探测任务。\n\n本文将提供一个示例，创建一次性探测任务，该探测任务的名称为`task1`，探测地址为`http://www.aliyun.com`，探测类型为`HTTP`，探测点数量为`1`。","requestParamsDescription":"# TaskType的高级参数说明\n\n`TaskType`中HTTP、PING、TCP、UDP和DNS的高级参数的设置方法如下表所示。\n\n- HTTP\n\n|参数 |类型 |描述|\n| ----- | -------------- | ----------- |\n|http_method |String |HTTP请求方式。支持三种请求方式：GET、POST、HEAD。默认值：GET。           |\n|header |String |换行符（\\n）分隔的自定义HTTP header。<br>每行Header格式需符合HTTP协议（使用半角冒号分隔的键值）。          |\n|cookie |String |Cookie和HTTP请求标准的写法一致。   |\n|request_content |String |请求内容。支持两种格式：JSON和表单。不提供时，请求中不含正文。 |\n|response_content |String |期望的回应内容。探测时会检查HTTP服务器返回的前64个字节。        |\n|match_rule |String |0：回应中不含response_content时，探测成功。<br>1：回应中含response_content时，探测成功。      |\n|username |String |如果提供用户名，则会在HTTP请求中携带BasicAuth header。          |\n|password |String |HTTP请求验证密码。        |\n|time_out |int |超时时间。单位：毫秒。默认值：30000。      |\n|max_redirect |int |最大跳转次数。ECS探针默认5次，运营商探针默认2次。<br>如果需要禁止跳转，则将该参数设置为0。<br>取值范围：0~50 。  |\n\n \n- PING\n\n|参数  |类型  |描述 |\n| ----- | -------------- | ----------- |\n|failure_rate |int |当PING失败率超过该参数时，探测失败，返回610（PingAllFail）或615（PingPartialFail）。<br>默认值：0.1。      |\n|ping_num |int |PING次数，默认值：20。<br>取值范围：1~100。    |\n\n- TCP或UDP\n\n|参数  |类型  |描述 |\n| ----- | -------------- | ----------- |\n|port |int |TCP或UDP服务器的端口。 |\n|request_content |string |请求内容。当request_format为hex时，request_content内容为十六进制紧凑格式。 |\n|request_format |string |当request_format为其他值时，request_content作为普通字符串发送给TCP或UDP服务器。 |\n|response_content |string |回应内容。当TCP或UDP服务器返回的内容中不含response_content时，探测失败。<br>当response_format为hex时，response_content中的内容为十六进制紧凑格式。<br>当response_content为其他值时，response_content为普通字符串。 |\n\n- DNS\n\n|参数  |类型  |描述 |\n| ----- | -------------- | ----------- |\n|dns_server |string |DNS服务器地址，可以为域名或IP地址。   |\n|dns_type |string |DNS查询类型。取值：A、NS、CNAME、MX、TXT、ANY。 |\n|expect_value |string |英文空白符分隔的期望值列表。   |\n|match_rule |string |期望值列表与DNS列表的关系，当不满足指定关系时，探测失败。  <br>空字符串或IN_DNS：期望值列表是DNS列表的子集。 <br>DNS_IN：DNS列表是期望值列表的子集。   <br>EQUAL：DNS列表与期望值列表相等。  <br>ANY：DNS列表与期望值列表有交集（交集不为空）。  |","responseParamsDescription":" ","extraInfo":" "}