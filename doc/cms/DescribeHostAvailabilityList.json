{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Id","in":"query","schema":{"description":"单个可用性监控任务ID。","type":"integer","format":"int64","required":false,"example":"123456"}},{"name":"Ids","in":"query","schema":{"description":"多个可用性监控任务ID。多个可用性监控任务ID之间用半角逗号（,）分隔。","type":"string","required":false,"example":"123456,345678"}},{"name":"TaskName","in":"query","schema":{"description":"可用性监控任务名称。","type":"string","required":false,"example":"ecs_instance"}},{"name":"PageNumber","in":"query","schema":{"description":"页码。\n\n起始值：1。默认值：1。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页时每页显示的数据行数。\n\n起始值：1。默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"GroupId","in":"query","schema":{"description":"应用分组ID。","type":"integer","format":"int64","required":false,"example":"12345"}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。\n\n>200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The specified resource is not found."},"RequestId":{"description":"请求ID。","type":"string","example":"4A288E86-45C3-4858-9DB0-6D85B10BD92A"},"Total":{"description":"总记录条数。","type":"integer","format":"int32","example":"1"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"TaskList":{"type":"object","properties":{"NodeTaskConfig":{"description":"可用性监控任务列表。","type":"array","items":{"description":"可用性监控任务列表。","type":"object","properties":{"TaskType":{"description":"任务类型。取值：\n\n- PING\n- TELNET\n- HTTP","type":"string","example":"HTTP"},"GroupName":{"description":"应用分组名称。","type":"string","example":"Group_ECS"},"GroupId":{"description":"应用分组ID。","type":"integer","format":"int64","example":"12345"},"TaskName":{"description":"可用性监控任务名称。","type":"string","example":"ecs_instance"},"Disabled":{"description":"可用性监控任务是否禁用。取值：\n\n- true：禁用。\n\n- false：启用。","type":"boolean","example":"false"},"TaskScope":{"description":"可用性监控任务的探测范围。取值：\n\n- GROUP：表示将当前应用分组内的所有ECS实例作为探测任务的探针。\n- GROUP_SPEC_INSTANCE：表示将当前应用分组内的指定ECS实例作为探测任务的探针。","type":"string","example":"GROUP"},"Id":{"description":"可用性监控任务ID。","type":"integer","format":"int64","example":"123456"},"Instances":{"type":"object","properties":{"Instance":{"description":"发起探测的ECS实例列表。","type":"array","items":{"description":"发起探测的ECS实例列表。","type":"string","example":"i-abcdefgh12****"}}}},"TaskOption":{"description":"可用性监控任务的参数选项。","type":"object","properties":{"HttpMethod":{"description":"探测类型的方法。取值：\n\n- GET\n- POST\n- HEAD","type":"string","example":"GET"},"Interval":{"description":"探测频率。单位：秒。 ","type":"integer","format":"int32","example":"60"},"HttpURI":{"description":"HTTP探测类型的探测URI地址。","type":"string","example":"https://www.aliyun.com"},"TelnetOrPingHost":{"description":"探测的域名或地址。","type":"string","example":"ssh.aliyun.com"},"HttpResponseCharset":{"description":"HTTP探测类型的响应字符集。","type":"string","example":"UTF-8"},"HttpPostContent":{"description":"HTTP探测类型探测请求的Post内容。","type":"string","example":"params1=paramsValue1"},"HttpNegative":{"description":"匹配HTTP响应内容的报警规则。取值：\n- true：如果HTTP响应内容包含设置的报警规则，则报警。\n- false：如果HTTP响应内容不包含设置的报警规则，则报警。","type":"boolean","example":"true"},"HttpKeyword":{"description":"HTTP探测类型匹配响应内容。","type":"string","example":"OK"}}},"AlertConfig":{"description":"报警规则配置。","type":"object","properties":{"SilenceTime":{"description":"通道沉默时间。单位：秒。默认值：86400。","type":"integer","format":"int32","example":"86400"},"EndTime":{"description":"报警生效的结束时间。取值范围：0~23。\n\n例如：`AlertConfig.StartTime`为0，`AlertConfig.EndTime`为22，表示报警生效时间为00:00:00至22:00:00。\n\n>如果报警不在生效时间内，则超过阈值也不会发送报警通知。","type":"integer","format":"int32","example":"22"},"StartTime":{"description":"报警生效的开始时间。取值范围：0~23。\n\n例如：`AlertConfig.StartTime`为0，`AlertConfig.EndTime`为22，表示报警生效时间为00:00:00至22:00:00。\n\n>如果报警不在生效时间内，则超过阈值也不会发送报警通知。","type":"integer","format":"int32","example":"0"},"WebHook":{"description":"报警发生回调时的URL地址。\n\n云监控会将报警信息通过POST请求推送到该地址，目前仅支持HTTP协议。","type":"string","example":"https://www.aliyun.com"},"NotifyType":{"description":"报警通知类型。取值：\n\n<props=\"china\">- 2：电话+短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 1：短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 0：邮件+钉钉机器人。</props>\n\n<props=\"intl\">- 2：邮件+钉钉机器人。</props>\n\n<props=\"intl\">- 1：邮件+钉钉机器人。</props>\n\n<props=\"intl\">- 0：邮件+钉钉机器人。</props>","type":"integer","format":"int32","example":"1"},"EscalationList":{"type":"object","properties":{"escalationList":{"description":"报警触发条件。","type":"array","items":{"description":"报警触发条件。","type":"object","properties":{"Value":{"description":"报警阈值。","type":"string","example":"400"},"MetricName":{"description":"报警监控项。取值：\n\n- HttpStatus：HTTP状态码。\n- HttpLatency：HTTP等待时间。\n- TelnetStatus：TELNET状态码。\n- TelnetLatency：TELNET等待时间。\n- PingLostRate：PING丢包率。","type":"string","example":"HttpStatus"},"Operator":{"description":"报警规则比较符号。取值：\n\n- `>`\n- `>=`\n- `<`\n- `<=`\n- `=`","type":"string","example":"="},"Times":{"description":"报警周期。即连续几个周期超过阈值。","type":"string","example":"3"},"Aggregate":{"description":"报警统计方法。不同监控项的取值如下：\n\n- Value：HTTP状态码的值。\n- Average：HTTP等待时间的平均值。\n- Value：TELNET状态码的值。\n- TelnetLatency：TELNET等待时间的平均值。\n- Average：PING丢包率的平均值。","type":"string","example":"Value"}}}}}},"TargetList":{"type":"object","properties":{"Target":{"description":"报警目标列表。","type":"array","items":{"description":"报警目标列表。","type":"object","properties":{"Id":{"description":"报警触发目标ID。","type":"string","example":"1"},"Arn":{"description":"ARN资源描述。\n\n格式：`arn:acs:${Service}:${Region}:${Account}:${ResourceType}/${ResourceId}`。各字段含义如下：\n\n- Service：云服务Code。\n\n- Region：地域ID。\n\n- Account：阿里云账号ID。\n\n- ResourceType：资源类型。\n\n- ResourceId：资源ID。","type":"string","example":"acs:mns:cn-hangzhou:17754132319*****:/queues/test/messages"},"Level":{"description":"报警级别。取值：\n\n- INFO：信息。\n- WARN：警告。\n- CRITICAL：紧急。","type":"string","example":"INFO"},"JsonParams":{"description":"报警回调的JSON格式参数。","type":"string","example":"{\"key1\":\"value1\"}"}}}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"ParameterInvalid","errorMessage":"Illegal parameters."}],"403":[{"errorCode":"AccessForbidden","errorMessage":"User not authorized to operate on the specified resource."}],"404":[{"errorCode":"ResourceNotFound","errorMessage":"The specified resource is not found."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The specified resource is not found.\\\",\\n  \\\"RequestId\\\": \\\"4A288E86-45C3-4858-9DB0-6D85B10BD92A\\\",\\n  \\\"Total\\\": 1,\\n  \\\"Success\\\": true,\\n  \\\"TaskList\\\": {\\n    \\\"NodeTaskConfig\\\": [\\n      {\\n        \\\"TaskType\\\": \\\"HTTP\\\",\\n        \\\"GroupName\\\": \\\"Group_ECS\\\",\\n        \\\"GroupId\\\": 12345,\\n        \\\"TaskName\\\": \\\"ecs_instance\\\",\\n        \\\"Disabled\\\": false,\\n        \\\"TaskScope\\\": \\\"GROUP\\\",\\n        \\\"Id\\\": 123456,\\n        \\\"Instances\\\": {\\n          \\\"Instance\\\": [\\n            \\\"i-abcdefgh12****\\\"\\n          ]\\n        },\\n        \\\"TaskOption\\\": {\\n          \\\"HttpMethod\\\": \\\"GET\\\",\\n          \\\"Interval\\\": 60,\\n          \\\"HttpURI\\\": \\\"https://www.aliyun.com\\\",\\n          \\\"TelnetOrPingHost\\\": \\\"ssh.aliyun.com\\\",\\n          \\\"HttpResponseCharset\\\": \\\"UTF-8\\\",\\n          \\\"HttpPostContent\\\": \\\"params1=paramsValue1\\\",\\n          \\\"HttpNegative\\\": true,\\n          \\\"HttpKeyword\\\": \\\"OK\\\"\\n        },\\n        \\\"AlertConfig\\\": {\\n          \\\"SilenceTime\\\": 86400,\\n          \\\"EndTime\\\": 22,\\n          \\\"StartTime\\\": 0,\\n          \\\"WebHook\\\": \\\"https://www.aliyun.com\\\",\\n          \\\"NotifyType\\\": 1,\\n          \\\"EscalationList\\\": {\\n            \\\"escalationList\\\": [\\n              {\\n                \\\"Value\\\": \\\"400\\\",\\n                \\\"MetricName\\\": \\\"HttpStatus\\\",\\n                \\\"Operator\\\": \\\"=\\\",\\n                \\\"Times\\\": \\\"3\\\",\\n                \\\"Aggregate\\\": \\\"Value\\\"\\n              }\\n            ]\\n          },\\n          \\\"TargetList\\\": {\\n            \\\"Target\\\": [\\n              {\\n                \\\"Id\\\": \\\"1\\\",\\n                \\\"Arn\\\": \\\"acs:mns:cn-hangzhou:17754132319*****:/queues/test/messages\\\",\\n                \\\"Level\\\": \\\"INFO\\\",\\n                \\\"JsonParams\\\": \\\"{\\\\\\\"key1\\\\\\\":\\\\\\\"value1\\\\\\\"}\\\"\\n              }\\n            ]\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeHostAvailabilityListResponse>\\r\\n\\t<RequestId>4A288E86-45C3-4858-9DB0-6D85B10BD92A</RequestId>\\r\\n\\t<Total>1</Total>\\r\\n\\t<TaskList>\\r\\n\\t\\t<NodeTaskConfig>\\r\\n\\t\\t\\t<GroupName>Group_ECS</GroupName>\\r\\n\\t\\t\\t<TaskOption>\\r\\n\\t\\t\\t\\t<HttpURI>https://aliyun.com</HttpURI>\\r\\n\\t\\t\\t\\t<HttpMethod>GET</HttpMethod>\\r\\n\\t\\t\\t</TaskOption>\\r\\n\\t\\t\\t<AlertConfig>\\r\\n\\t\\t\\t\\t<NotifyType>1</NotifyType>\\r\\n\\t\\t\\t\\t<SilenceTime>86400</SilenceTime>\\r\\n\\t\\t\\t\\t<EndTime>22</EndTime>\\r\\n\\t\\t\\t\\t<StartTime>0</StartTime>\\r\\n\\t\\t\\t\\t<EscalationList>\\r\\n\\t\\t\\t\\t\\t<escalationList>\\r\\n\\t\\t\\t\\t\\t\\t<Operator>=</Operator>\\r\\n\\t\\t\\t\\t\\t\\t<MetricName>HttpStatus</MetricName>\\r\\n\\t\\t\\t\\t\\t\\t<Times>3</Times>\\r\\n\\t\\t\\t\\t\\t\\t<Value>400</Value>\\r\\n\\t\\t\\t\\t\\t\\t<Aggregate>Value</Aggregate>\\r\\n\\t\\t\\t\\t\\t</escalationList>\\r\\n\\t\\t\\t\\t\\t<escalationList>\\r\\n\\t\\t\\t\\t\\t\\t<Operator>=</Operator>\\r\\n\\t\\t\\t\\t\\t\\t<MetricName>HttpLatency</MetricName>\\r\\n\\t\\t\\t\\t\\t\\t<Times>3</Times>\\r\\n\\t\\t\\t\\t\\t\\t<Value>500</Value>\\r\\n\\t\\t\\t\\t\\t\\t<Aggregate>Average</Aggregate>\\r\\n\\t\\t\\t\\t\\t</escalationList>\\r\\n\\t\\t\\t\\t</EscalationList>\\r\\n\\t\\t\\t</AlertConfig>\\r\\n\\t\\t\\t<TaskName>ecs_instance</TaskName>\\r\\n\\t\\t\\t<TaskScope>GROUP</TaskScope>\\r\\n\\t\\t\\t<TaskType>HTTP</TaskType>\\r\\n\\t\\t\\t<Id>123456</Id>\\r\\n\\t\\t\\t<Disabled>false</Disabled>\\r\\n\\t\\t\\t<GroupId>12345</GroupId>\\r\\n\\t\\t</NodeTaskConfig>\\r\\n\\t</TaskList>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n</DescribeHostAvailabilityListResponse>\\t\",\"errorExample\":\"\"}]","title":"查询可用性监控任务列表","summary":"调用DescribeHostAvailabilityList接口查询可用性监控任务列表。","description":"本文将提供一个示例，查询当前账号的可用性监控任务列表。返回结果显示，当前账号存在一条可用性监控任务记录`ecs_instance`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}