{"summary":"调用DescribeMetricList接口查询指定云产品的指定监控项的监控数据。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Namespace","in":"query","schema":{"description":"云产品的数据命名空间。\n\n关于云产品的数据命名空间，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"docRequired":true,"example":"acs_ecs_dashboard"}},{"name":"MetricName","in":"query","schema":{"description":"云产品的监控项名称。\n\n关于监控项名称，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"docRequired":true,"example":"cpu_idle"}},{"name":"Period","in":"query","schema":{"description":"监控数据的统计周期。\n\n取值：15、60、900和3600。\n\n单位：秒。\n\n> - 如果不设置统计周期，则按照注册监控项时申请的上报周期来查询监控数据。\n- 每个云产品的监控项（`MetricName`）的统计周期不同。更多信息，请参见[云产品监控项](~~163515~~)。\n","type":"string","required":false,"example":"60"}},{"name":"StartTime","in":"query","schema":{"description":"开始时间。支持的格式：\n\n- Unix时间戳：从1970年1月1日开始所经过的毫秒数。\n- Format格式：YYYY-MM-DDThh:mm:ssZ。 \n\n> - 开始和结束时间执行的是左开右闭的模式，StartTime不能等于或大于EndTime。\n- StartTime和EndTime之间的间隔小于等于31天。","type":"string","required":false,"example":"2019-01-30 00:00:00"}},{"name":"EndTime","in":"query","schema":{"description":"结束时间。支持的格式：\n\n- Unix时间戳：从1970年1月1日开始所经过的毫秒数。\n- Format格式：YYYY-MM-DDThh:mm:ssZ。 \n\n> StartTime和EndTime之间的间隔小于等于31天。\n ","type":"string","required":false,"example":"2019-01-30 00:10:00"}},{"name":"Dimensions","in":"query","schema":{"description":"指定资源的监控维度。\n\n格式：`key:value`键值对形式的集合，例如：`{\"userId\":\"120886317861****\"}`和`{\"instanceId\":\"i-2ze2d6j5uhg20x47****\"}`。\n\n> 单次请求最多支持批量查询50个实例。","type":"string","required":false,"example":"[{\"instanceId\":\"i-2ze2d6j5uhg20x47****\"}]"}},{"name":"NextToken","in":"query","schema":{"description":"分页游标标识。\n\n\n>如果不设置该参数，则表示获取第一页的数据。当该参数有返回值时，说明还有下一页，您可以将返回的NextToken作为参数再次请求获得下一页的数据，直到返回为Null为止，表示获取到了所有的数据。","type":"string","required":false,"example":"15761485350009dd70bb64cff1f0fff750b08ffff073be5fb1e785e2b020f1a949d5ea14aea7fed82f01dd8****"}},{"name":"Length","in":"query","schema":{"description":"每页显示的记录条数，用于分页查询。\n\n> 单次请求Length的最大值为1440。","type":"string","required":false,"example":"1000"}},{"name":"Express","in":"query","schema":{"description":"查询出的现有结果进行实时计算的表达式。\n\n> 目前仅支持groupby，类似数据库的groupby语句。","type":"string","required":false,"example":"{\"groupby\":[\"userId\",\"instanceId\"]}"}}],"responses":{"200":{"schema":{"type":"object","properties":{"NextToken":{"description":"分页游标标识。","type":"string","example":"15761441850009dd70bb64cff1f0fff6d0b08ffff073be5fb1e785e2b020f7fed9b5e137bd810a6d6cff5ae****"},"RequestId":{"description":"请求ID。","type":"string","example":"3121AE7D-4AFF-4C25-8F1D-C8226EBB1F42"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"Datapoints":{"description":"监控数据列表。","type":"string","example":"[{\"timestamp\":1548777660000,\"userId\":\"120886317861****\",\"instanceId\":\"i-abc\",\"Minimum\":9.92,\"Average\":9.92,\"Maximum\":9.92}]"},"Code":{"description":"状态码。\n\n>200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The specified resource is not found."},"Period":{"description":"时间间隔。单位：秒。取值：60、300、900。","type":"string","example":"60"}}}}},"errorCodes":{"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"ResourceNotFound","errorMessage":"The specified resource is not found."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"NextToken\\\": \\\"15761441850009dd70bb64cff1f0fff6d0b08ffff073be5fb1e785e2b020f7fed9b5e137bd810a6d6cff5ae****\\\",\\n  \\\"RequestId\\\": \\\"3121AE7D-4AFF-4C25-8F1D-C8226EBB1F42\\\",\\n  \\\"Success\\\": true,\\n  \\\"Datapoints\\\": \\\"[{\\\\\\\"timestamp\\\\\\\":1548777660000,\\\\\\\"userId\\\\\\\":\\\\\\\"120886317861****\\\\\\\",\\\\\\\"instanceId\\\\\\\":\\\\\\\"i-abc\\\\\\\",\\\\\\\"Minimum\\\\\\\":9.92,\\\\\\\"Average\\\\\\\":9.92,\\\\\\\"Maximum\\\\\\\":9.92}]\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The specified resource is not found.\\\",\\n  \\\"Period\\\": \\\"60\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeMetricListResponse>\\r\\n\\t<Period>60</Period>\\r\\n\\t<Datapoints>\\r\\n\\t\\t<timestamp>1490152860000</timestamp>\\r\\n\\t\\t<Maximum>100</Maximum>\\r\\n\\t\\t<userId>120886317861****</userId>\\r\\n\\t\\t<Minimum>93.1</Minimum>\\r\\n\\t\\t<instanceId>i-abcdefgh12****</instanceId>\\r\\n\\t\\t<Average>99.52</Average>\\r\\n\\t</Datapoints>\\r\\n\\t<RequestId>6A5F022D-AC7C-460E-94AE-B9E75083D027</RequestId>\\r\\n\\t<Success>true</Success>\\r\\n\\t<Code>200</Code>\\r\\n</DescribeMetricListResponse>\",\"errorExample\":\"\"}]","title":"查询指定云产品的指定监控项的监控数据","description":"### 使用限制\n单个API的调用次数限制为50次/秒。一个阿里云账号及该账号下的RAM用户共用50次/秒。\n> 当您调用API时，如果返回信息`Throttling.User`或`Request was denied due to user flow control`，则说明该API被限流。处理方法，请参见[如何处理查询API限流问题](~~2615031~~)。\n### 注意事项\n各云产品监控数据的存储时长与`Period`（统计周期）有关，`Period`越大，查询的监控数据越稀疏，监控数据的存储时间越长，具体关系如下：\n- `Period`小于60秒，存储时长为7天。\n- `Period`等于60秒，存储时长为31天。\n- `Period`等于300秒，存储时长为91天。\n### 使用说明\n本文将提供一个示例，查询云产品`acs_ecs_dashboard`的监控项`cpu_idle`的监控数据。返回结果显示，当前账号`120886317861****`下实例`i-abcdefgh12****`间隔60秒的最大值为100、最小值为93.1、平均值为99.52。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}