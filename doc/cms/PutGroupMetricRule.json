{"summary":"调用PutGroupMetricRule接口创建或修改指定应用分组中的报警规则。","methods":["post","get","put"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"GroupId","in":"query","schema":{"description":"应用分组ID。\n\n关于如何获取应用分组ID，请参见[DescribeMonitorGroups](~~115032~~)。","type":"string","required":true,"example":"17285****"}},{"name":"RuleId","in":"query","schema":{"description":"报警规则ID。\n\n- 当您为该应用分组创建报警规则时，直接输入报警规则ID。\n\n- 当您修改该应用分组中的指定报警规则时，需要获取报警规则ID。关于如何获取报警规则ID，请参见[DescribeMetricRuleList](~~114941~~)。","type":"string","required":true,"example":"123456"}},{"name":"Category","in":"query","schema":{"description":"云产品名称缩写。\n\n关于如何获取云产品名称缩写，请参见[DescribeProjectMeta](~~114916~~)接口的返回参数`Labels`中的`metricCategory`。","type":"string","required":false,"example":"ECS"}},{"name":"RuleName","in":"query","schema":{"description":"报警规则名称。\n\n- 当您为该应用分组创建报警规则时，直接输入报警规则名称。\n\n- 当您修改该应用分组中的指定报警规则时，需要获取报警规则名称。关于如何获取报警规则名称，请参见[DescribeMetricRuleList](~~114941~~)。","type":"string","required":true,"example":"Rule_01"}},{"name":"Namespace","in":"query","schema":{"description":"云产品的命名空间。\n\n关于如何获取云产品的命名空间，请参见[DescribeMetricMetaList](~~98846~~)或[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"acs_ecs_dashboard"}},{"name":"MetricName","in":"query","schema":{"description":"监控项名称。\n\n关于如何获取监控项名称，请参见[DescribeMetricMetaList](~~98846~~)或[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"cpu_total"}},{"name":"Dimensions","in":"query","schema":{"description":"应用分组中报警规则的第一级维度。\n\n格式：`key:value`键值对形式的集合，例如：`{\"userId\":\"120886317861****\"}`和`{\"instanceId\":\"i-m5e1qg6uo38rztr4****\"}`。\n","type":"string","required":false,"example":"[{\"instanceId\":\"i-m5e1qg6uo38rztr4****\"}]"}},{"name":"ExtraDimensionJson","in":"query","schema":{"description":"应用分组中报警规则的第二级或第三级维度。\n\n格式：`key:value`键值对形式的集合，例如：`port:80`、`/dev/xvda:d-m5e6yphgzn3aprwu****`。\n\n当报警规则的第一级维度为`{\"instanceId\":\"i-m5e1qg6uo38rztr4****\"}`时，其第二级维度为该实例中的云盘`{\"/dev/xvda\":\"d-m5e6yphgzn3aprwu****\"}`。\n\n","type":"string","required":false,"example":"{\"/dev/xvda\":\"d-m5e6yphgzn3aprwu****\"}"}},{"name":"EffectiveInterval","in":"query","schema":{"description":"报警规则的生效时间范围。","type":"string","required":false,"example":"05:31-23:59"}},{"name":"NoEffectiveInterval","in":"query","schema":{"description":"报警规则的失效时间范围。","type":"string","required":false,"example":"00:00-05:30"}},{"name":"SilenceTime","in":"query","schema":{"description":"通道沉默周期。\n\n单位：秒。默认值：86400。","type":"integer","format":"int32","required":false,"example":"86400"}},{"name":"Period","in":"query","schema":{"description":"监控数据的上报周期。\n\n`Period`的取值为60或60的整数倍。单位：秒。默认值：300。","type":"string","required":false,"example":"60"}},{"name":"Interval","in":"query","schema":{"description":"报警规则的探测周期。单位：秒。\n\n> 建议报警规则的探测周期和数据上报周期保持一致。如果报警规则的探测周期小于数据上报周期，会因为数据不足而不能触发报警。","type":"string","required":false,"example":"60"}},{"name":"Webhook","in":"query","schema":{"description":"报警发生回调时的URL地址。\n\n填写公网可访问的URL地址，云监控会将报警信息通过POST请求推送到该地址，目前仅支持HTTP协议。","type":"string","required":false,"example":"https://www.aliyun.com"}},{"name":"EmailSubject","in":"query","schema":{"description":"报警邮件主题。","type":"string","required":false,"example":"ECS实例"}},{"name":"ContactGroups","in":"query","schema":{"description":"报警联系组。","type":"string","required":false,"example":"ECS_Group"}},{"name":"Escalations.Critical.Statistics","in":"query","schema":{"description":"Critical级别报警统计方法。多个统计方法之间用半角逗号（,）分隔。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"Average"}},{"name":"Escalations.Critical.ComparisonOperator","in":"query","schema":{"description":"Critical级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"}},{"name":"Escalations.Critical.Threshold","in":"query","schema":{"description":"Critical级别报警阈值。","type":"string","required":false,"example":"90"}},{"name":"Escalations.Critical.Times","in":"query","schema":{"description":"Critical级别报警重试次数。","type":"integer","format":"int32","required":false,"example":"3"}},{"name":"Escalations.Warn.Statistics","in":"query","schema":{"description":"Warn级别报警统计方法。多个统计方法之间用半角逗号（,）分隔。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"Average"}},{"name":"Escalations.Warn.ComparisonOperator","in":"query","schema":{"description":"Warn级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"}},{"name":"Escalations.Warn.Threshold","in":"query","schema":{"description":"Warn级别报警阈值。","type":"string","required":false,"example":"90"}},{"name":"Escalations.Warn.Times","in":"query","schema":{"description":"Warn级别报警重试次数。","type":"integer","format":"int32","required":false,"example":"3"}},{"name":"Escalations.Info.Statistics","in":"query","schema":{"description":"Info级别报警统计方法。多个统计方法之间用半角逗号（,）分隔。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"Average"}},{"name":"Escalations.Info.ComparisonOperator","in":"query","schema":{"description":"Info级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"}},{"name":"Escalations.Info.Threshold","in":"query","schema":{"description":"Info级别报警阈值。","type":"string","required":false,"example":"90"}},{"name":"Escalations.Info.Times","in":"query","schema":{"description":"Info级别报警重试次数。","type":"integer","format":"int32","required":false,"example":"3"}},{"name":"NoDataPolicy","in":"query","schema":{"description":"无监控数据时报警的处理方式。取值：\n- KEEP_LAST_STATE（默认值）：不做任何处理。\n- INSUFFICIENT_DATA：报警内容为无数据。\n- OK：正常。","type":"string","required":false,"example":"KEEP_LAST_STATE"}},{"name":"Labels","in":"query","style":"repeatList","schema":{"description":"报警规则标签。\n\n报警通知中会包含标签。","type":"array","items":{"description":"无。","type":"object","properties":{"Key":{"description":"报警规则的标签键。","type":"string","required":false,"example":"key1"},"Value":{"description":"报警规则的标签值。","type":"string","required":false,"example":"value1"}},"required":false},"required":false,"maxItems":20,"minItems":0}},{"name":"Options","in":"query","schema":{"description":"高级设置。\n\n格式：{\"key1\":\"value1\",\"key2\":\"value2\"}，例如：{\"NotSendOK\":true}，表示是否发送报警恢复通知，key为NotSendOK，value为true（不发送）或false（默认发送）。","type":"string","required":false,"example":"{\"NotSendOK\":true}"}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"Code":{"description":"状态码。\n\n>200表示成功。","type":"string","example":"200"},"Message":{"description":"报错信息。","type":"string","example":"The Request is not authorization."},"RequestId":{"description":"请求ID。","type":"string","example":"461CF2CD-2FC3-4B26-8645-7BD27E7D0F1D"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"Result":{"description":"创建或修改报警规则的结果。","type":"object","properties":{"RuleId":{"description":"报警规则ID。","type":"string","example":"123456"}}}}}}},"errorCodes":{"204":[{"errorCode":"%s","errorMessage":"%s"}],"206":[{"errorCode":"%s","errorMessage":"%s"}],"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"%s","errorMessage":"%s"}],"406":[{"errorCode":"%s","errorMessage":"%s"}],"499":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"%s","errorMessage":"%s"}],"503":[{"errorCode":"%s","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The Request is not authorization.\\\",\\n  \\\"RequestId\\\": \\\"461CF2CD-2FC3-4B26-8645-7BD27E7D0F1D\\\",\\n  \\\"Success\\\": true,\\n  \\\"Result\\\": {\\n    \\\"RuleId\\\": \\\"123456\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PutGroupMetricRuleResponse>\\r\\n\\t<Message></Message>\\r\\n\\t<RequestId>461CF2CD-2FC3-4B26-8645-7BD27E7D0F1D</RequestId>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n\\t<Result>\\r\\n\\t\\t<RuleId>123456</RuleId>\\r\\n\\t</Result>\\r\\n</PutGroupMetricRuleResponse>\",\"errorExample\":\"\"}]","title":"创建或修改指定应用分组中的报警规则","description":"本文将提供一个示例，为应用分组`17285****`中的云服务器ECS的监控项`cpu_total`创建一条报警规则，其中报警规则的ID为`123456`，报警规则名称为`Rule_test`，报警级别为`Critical`，报警统计方法为`Average`，报警阈值比较符为`GreaterThanOrEqualToThreshold`，报警阈值为`90`，报警重试次数为`3`。返回结果显示，创建报警规则成功，报警规则ID为`123456`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}