{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"Namespace","in":"query","schema":{"description":"云产品的数据命名空间。\n\n关于云产品的数据命名空间，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"docRequired":true,"example":"acs_ecs_dashboard"}},{"name":"MetricName","in":"query","schema":{"description":"云产品的监控项名称。\n\n关于云产品的监控项名称，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"docRequired":true,"example":"cpu_idle"}},{"name":"Period","in":"query","schema":{"description":"监控项的统计周期。\n\n取值：15、60、900和3600。\n\n单位：秒。\n\n> - 如果不设置统计周期，则按照注册监控项时申请的上报周期来查询监控数据。\n- 监控项（`MetricName`）的统计周期，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"60"}},{"name":"StartTime","in":"query","schema":{"description":"查询监控数据的开始时间。\n\n- 当您未设置`StartTime`和`EndTime`时，查询当前时间最近一个统计周期`Period`的监控数据。\n\n- 当您同时设置`StartTime`和`EndTime`时，查询指定时间段内距离`EndTime`最近一个统计周期`Period`的监控数据。具体如下：\n\n   - 当`Period`设置为15秒时，指定时间段必须小于或等于20分钟。例如：StartTime为2021-05-08 08:10:00，EndTime为2021-05-08 08:30:00，统计距离2021-05-08 08:30:00最近一个15秒的监控数据。\n\n   - 当`Period`设置为60秒或900秒时，指定时间段必须小于或等于2小时。例如：Period为60秒，StartTime为2021-05-08 08:00:00，EndTime为2021-05-08 10:00:00，统计距离2021-05-08 10:00:00最近一个60秒的监控数据。\n\n   - 当`Period`设置为3600秒时，指定时间段必须小于或等于2天。例如：StartTime为2021-05-08 08:00:00，EndTime为2021-05-10 08:00:00，统计距离2021-05-10 08:00:00最近一个3600秒的监控数据。\n\n开始时间支持的格式：\n\n- Unix时间戳：从1970年1月1日开始所经过的毫秒数。\n\n- Format格式：YYYY-MM-DDThh:mm:ssZ。\n\n> - `StartTime`如果设置过早，则无效。\n- 建议您使用Unix时间戳，避免时区的问题。","type":"string","required":false,"example":"1618368900000"}},{"name":"EndTime","in":"query","schema":{"description":"查询监控数据的结束时间。\n\n- 当您未设置`StartTime`和`EndTime`时，查询当前时间最近一个统计周期`Period`的监控数据。\n\n- 当您同时设置`StartTime`和`EndTime`时，查询指定时间段内距离`EndTime`最近一个统计周期`Period`的监控数据。具体如下：\n\n   - 当`Period`设置为15秒时，指定时间段必须小于或等于20分钟。例如：StartTime为2021-05-08 08:10:00，EndTime为2021-05-08 08:30:00，统计距离2021-05-08 08:30:00最近一个15秒的监控数据。\n\n   - 当`Period`设置为60秒或900秒时，指定时间段必须小于或等于2小时。例如：Period为60秒，StartTime为2021-05-08 08:00:00，EndTime为2021-05-08 10:00:00，统计距离2021-05-08 10:00:00最近一个60秒的监控数据。\n\n   - 当`Period`设置为3600秒时，指定时间段必须小于或等于2天。例如：StartTime为2021-05-08 08:00:00，EndTime为2021-05-10 08:00:00，统计距离2021-05-10 08:00:00最近一个3600秒的监控数据。\n\n\n\n结束时间支持的格式：\n\n- Unix时间戳：从1970年1月1日开始所经过的毫秒数。\n\n- Format格式：YYYY-MM-DDThh:mm:ssZ。\n\n> 建议您使用Unix时间戳，避免时区的问题。\n\n ","type":"string","required":false,"example":"1618368960000"}},{"name":"Dimensions","in":"query","schema":{"description":"维度Map，用于查询指定资源的监控数据。\n\n格式：key-value键值对形式的集合，常用的key-value集合为`instanceId:i-2ze2d6j5uhg20x47****`。\n\n> 单次请求最多支持批量查询50个实例。\n","type":"string","required":false,"example":"[{\"instanceId\": \"i-abcdefgh12****\"}]"}},{"name":"Express","in":"query","schema":{"description":"对查询出的现有结果进行实时计算的表达式。\n\n> 目前仅支持`groupby`（类似数据库`groupby`语句）。","type":"string","required":false,"example":"{\"groupby\":[\"userId\",\"instanceId\"]}"}},{"name":"Length","in":"query","schema":{"description":"每页显示的记录条数，用于分页查询。\n\n默认值：1000。\n\n> 单次请求Length的最大值为1440。","type":"string","required":false,"example":"1000"}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"Code":{"description":"状态码。\n\n> 200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The specified resource is not found."},"RequestId":{"description":"请求ID。","type":"string","example":"6A5F022D-AC7C-460E-94AE-B9E75083D027"},"Datapoints":{"description":"监控数据列表。包括如下信息：\n\n- `timestamp`：发生报警的时间戳。\n\n- `userId`：发生报警的用户ID。\n\n- `instanceId`：发生报警的实例ID。\n\n- `Minimum`、`Average`、`Maximum`：报警规则。","type":"string","example":"[{\\\"timestamp\\\":1618368900000,\\\"Average\\\":95.8291666666667,\\\"Minimum\\\":65.48,\\\"Maximum\\\":100.0},{\\\"timestamp\\\":1618368960000,\\\"Average\\\":95.8683333333333,\\\"Minimum\\\":67.84,\\\"Maximum\\\":100.0}]"},"Period":{"description":"监控数据的统计周期。\n\n取值：15、60、900和3600。\n\n单位：秒。","type":"string","example":"60"}}}}},"errorCodes":{"400":[{"errorCode":"ParameterInvalid","errorMessage":"Illegal parameters."}],"403":[{"errorCode":"AccessForbidden","errorMessage":"User not authorized to operate on the specified resource."}],"404":[{"errorCode":"ResourceNotFound","errorMessage":"The specified resource is not found."}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The specified resource is not found.\\\",\\n  \\\"RequestId\\\": \\\"6A5F022D-AC7C-460E-94AE-B9E75083D027\\\",\\n  \\\"Datapoints\\\": \\\"[{\\\\\\\\\\\\\\\"timestamp\\\\\\\\\\\\\\\":1618368900000,\\\\\\\\\\\\\\\"Average\\\\\\\\\\\\\\\":95.8291666666667,\\\\\\\\\\\\\\\"Minimum\\\\\\\\\\\\\\\":65.48,\\\\\\\\\\\\\\\"Maximum\\\\\\\\\\\\\\\":100.0},{\\\\\\\\\\\\\\\"timestamp\\\\\\\\\\\\\\\":1618368960000,\\\\\\\\\\\\\\\"Average\\\\\\\\\\\\\\\":95.8683333333333,\\\\\\\\\\\\\\\"Minimum\\\\\\\\\\\\\\\":67.84,\\\\\\\\\\\\\\\"Maximum\\\\\\\\\\\\\\\":100.0}]\\\",\\n  \\\"Period\\\": \\\"60\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeMetricDataResponse>\\r\\n\\t<RequestId>7598FEED-3B79-4B4A-AD01-435F34DA8EDC</RequestId>\\r\\n\\t<Period>60</Period>\\t\\r\\n    <Datapoints>[{\\\\\\\"timestamp\\\\\\\":1618368900000,\\\\\\\"Average\\\\\\\":95.8291666666667,\\\\\\\"Minimum\\\\\\\":65.48,\\\\\\\"Maximum\\\\\\\":100.0},{\\\\\\\"timestamp\\\\\\\":1618368960000,\\\\\\\"Average\\\\\\\":95.8683333333333,\\\\\\\"Minimum\\\\\\\":67.84,\\\\\\\"Maximum\\\\\\\":100.0}]</Datapoints>\\r\\n\\t<Code>200</Code>\\r\\n</DescribeMetricDataResponse>\\t\",\"errorExample\":\"\"}]","title":"查询指定云产品的某个监控项的监控数据","summary":"调用DescribeMetricData接口查询指定云产品的某个监控项的监控数据。","description":"### 使用限制\n单个API的调用次数限制为10次/秒。一个阿里云账号及该账号下的RAM用户共用10次/秒。\n\n### 使用说明\n> 与[DescribeMetricList](~~51936~~)不同，本接口具有统计功能（即`Dimension={\"instanceId\": \"i-abcdefgh12****\"}`），将该账号下的所有监控数据进行聚合统计。\n\n本文将提供一个示例，查询云产品`acs_ecs_dashboard`监控项`cpu_idle`的监控数据。\n\n","requestParamsDescription":" 关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}