{"summary":"调用CreateGroupMetricRules接口批量为指定应用分组创建报警规则。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"GroupId","in":"query","schema":{"description":"应用分组ID。\n\n关于如何获取应用分组ID，请参见[DescribeMonitorGroups](~~115032~~)。\n\n","type":"integer","format":"int64","required":true,"docRequired":true,"example":"3607****"}},{"name":"GroupMetricRules","in":"query","style":"repeatList","schema":{"description":"应用分组的监控项规则列表。","type":"array","items":{"description":"应用分组的监控项规则。","type":"object","properties":{"Escalations.Info.Threshold":{"description":"普通级别报警阈值。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"10"},"MetricName":{"description":"监控项名称。\n\nN的取值范围：1~200。\n\n关于如何获取监控项名称，请参见[DescribeMetricMetaList](~~98846~~)或[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"cpu_total"},"Escalations.Warn.Threshold":{"description":"警告级别报警阈值。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"20"},"EffectiveInterval":{"description":"报警规则的生效时间范围。N的取值范围：1~200。","type":"string","required":false,"example":"05:31-23:59"},"NoEffectiveInterval":{"description":"报警规则的失效时间范围。N的取值范围：1~200。","type":"string","required":false,"example":"00:00-05:30"},"RuleId":{"description":"报警规则ID。\n\nN的取值范围：1~200。\n\n","type":"string","required":true,"example":"456789"},"Escalations.Critical.Times":{"description":"发送紧急报警通知需要监控指标达到报警阈值的次数。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"3"},"Dimensions":{"description":"指定资源的监控维度。\n\n格式：`key:value`键值对形式的集合，例如：`{\"userId\":\"120886317861****\"}`和`{\"instanceId\":\"i-2ze2d6j5uhg20x47****\"}`。","type":"string","required":false,"example":"[{\"instanceId\":\"i-m5e1qg6uo38rztr4****\"}]"},"Escalations.Critical.Threshold":{"description":"触发紧急级别报警通知的阈值。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"90"},"Escalations.Critical.Statistics":{"description":"紧急级别报警统计方法。\n\nN的取值范围：1~200。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"Escalations.Warn.ComparisonOperator":{"description":"警告级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。 \n- GreaterThanThreshold：大于。 \n- LessThanOrEqualToThreshold：小于等于。 \n- LessThanThreshold：小于。 \n- NotEqualToThreshold：不等于。 \n- GreaterThanYesterday：同比昨天时间上涨。 \n- LessThanYesterday：同比昨天时间下降。 \n- GreaterThanLastWeek：同比上周同一时间上涨。 \n- LessThanLastWeek：同比上周同一时间下降。 \n- GreaterThanLastPeriod：环比上周期上涨。 \n- LessThanLastPeriod：环比上周期下降。 \n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Escalations.Info.Times":{"description":"发送普通报警通知需要监控指标达到报警阈值的次数。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"1"},"SilenceTime":{"description":"报警通知的沉默周期。N的取值范围：1~200。\n\n单位：秒。默认值：86400。最小值：3600。\n\n","type":"integer","format":"int32","required":false,"example":"86400"},"Webhook":{"description":"报警发生回调时的URL地址。N的取值范围：1~200。\n\n填写公网可访问的URL地址，云监控会将报警信息通过POST请求推送到该地址，目前仅支持HTTP协议。","type":"string","required":false,"example":"https://www.aliyun.com"},"Namespace":{"description":"云产品的数据命名空间。\n\nN的取值范围：1~200。\n\n关于如何获取云产品的数据命名空间，请参见[DescribeMetricMetaList](~~98846~~)或[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"acs_ecs_dashboard"},"EmailSubject":{"description":"报警邮件主题。\n\nN的取值范围：1~200。","type":"string","required":false,"example":"ECS实例"},"Period":{"description":"监控数据的上报周期。\n\nN的取值范围：1~200。 \n\n`Period`的取值为60或60的整数倍。单位：秒。默认值：300。\n\n\n\n\n\n","type":"string","required":false,"example":"60"},"RuleName":{"description":"报警规则名称。\n\nN的取值范围：1~200。","type":"string","required":true,"example":"ECS_Rule1"},"Escalations.Info.Statistics":{"description":"普通级别报警统计方法。\n\nN的取值范围：1~200。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"Escalations.Warn.Times":{"description":"发送警告报警通知需要监控指标达到报警阈值的次数。\n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"3"},"Escalations.Info.ComparisonOperator":{"description":"普通级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。 \n- GreaterThanThreshold：大于。 \n- LessThanOrEqualToThreshold：小于等于。 \n- LessThanThreshold：小于。 \n- NotEqualToThreshold：不等于。 \n- GreaterThanYesterday：同比昨天时间上涨。 \n- LessThanYesterday：同比昨天时间下降。 \n- GreaterThanLastWeek：同比上周同一时间上涨。 \n- LessThanLastWeek：同比上周同一时间下降。 \n- GreaterThanLastPeriod：环比上周期上涨。 \n- LessThanLastPeriod：环比上周期下降。 \n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Interval":{"description":"报警规则的探测周期。\n\nN的取值范围：1~200。\n\n单位：秒。秒默认为监控项的最小频率。\n\n> 建议报警规则的探测周期和数据上报周期保持一致。如果报警规则的探测周期小于数据上报周期，会因为数据不足而不能触发报警。","type":"string","required":false,"example":"60"},"Category":{"description":"云产品名称缩写。\n\nN的取值范围：1~200。\n\n关于如何获取云产品名称缩写，请参见[DescribeProjectMeta](~~114916~~)接口的返回参数`Labels`中的`metricCategory`。","type":"string","required":true,"example":"ECS"},"Escalations.Critical.ComparisonOperator":{"description":"紧急级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。 \n- GreaterThanThreshold：大于。 \n- LessThanOrEqualToThreshold：小于等于。 \n- LessThanThreshold：小于。 \n- NotEqualToThreshold：不等于。 \n- GreaterThanYesterday：同比昨天时间上涨。 \n- LessThanYesterday：同比昨天时间下降。 \n- GreaterThanLastWeek：同比上周同一时间上涨。 \n- LessThanLastWeek：同比上周同一时间下降。 \n- GreaterThanLastPeriod：环比上周期上涨。 \n- LessThanLastPeriod：环比上周期下降。 \n\nN的取值范围：1~200。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Escalations.Warn.Statistics":{"description":"警告级别报警统计方法。\n\nN的取值范围：1~200。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"NoDataPolicy":{"description":"无监控数据时报警的处理方式。取值：\n- KEEP_LAST_STATE（默认值）：不做任何处理。\n- INSUFFICIENT_DATA：报警内容为无数据。\n- OK：正常。\n\nN的取值范围：1~200。","type":"string","required":false,"example":"KEEP_LAST_STATE"},"ContactGroups":{"description":"报警联系人组。\n\nN的取值范围：1~200。\n\n关于如何获取报警联系人组，请参见[DescribeContactGroupList](~~114922~~)。\n\n","type":"string","required":false,"example":"ECS_Group"},"Labels":{"description":"报警规则的标签键。","type":"array","items":{"description":"报警规则的标签键。","type":"object","properties":{"Key":{"description":"报警规则的标签键。报警通知中会包含标签。\n\nN的取值范围：1~200。","type":"string","required":false,"example":"key1"},"Value":{"description":"报警规则的标签值。报警通知中会包含标签。\n\nN的取值范围：1~200。","type":"string","required":false,"example":"value1"}},"required":false},"required":false,"maxItems":20,"minItems":0},"Options":{"description":"高级设置。\n\n格式：{\"key1\":\"value1\",\"key2\":\"value2\"}，例如：{\"NotSendOK\":true}，表示是否发送报警恢复通知，key为NotSendOK，value为true（不发送）或false（默认发送）。","type":"string","required":false,"example":"{\n      \"NotSendOK\": true\n}"}},"required":false},"required":false,"maxItems":200}}],"responses":{"200":{"schema":{"type":"object","properties":{"Code":{"description":"状态码。\n>200表示成功。","type":"integer","format":"int32","example":"200"},"Message":{"description":"报错信息。","type":"string","example":"The Request is not authorization."},"RequestId":{"description":"请求ID。","type":"string","example":"461CF2CD-2FC3-4B26-8645-7BD27E7D0F1D"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"Resources":{"type":"object","properties":{"AlertResult":{"description":"报警规则列表。","type":"array","items":{"type":"object","properties":{"Code":{"description":"新创建报警规则的状态码。\n>200表示成功。","type":"integer","format":"int32","example":"200"},"Message":{"description":"新创建报警规则的错误信息。","type":"string","example":"Metric not found."},"Success":{"description":"新创建报警规则是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"RuleName":{"description":"新创建报警规则的名称。","type":"string","example":"ECS_Rule1"},"RuleId":{"description":"新创建报警规则的ID。","type":"string","example":"456789"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"%s","errorMessage":"%s"}],"409":[{"errorCode":"%s","errorMessage":"%s"}],"412":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"%s","errorMessage":"%s"},{"errorCode":"500","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"The Request is not authorization.\\\",\\n  \\\"RequestId\\\": \\\"461CF2CD-2FC3-4B26-8645-7BD27E7D0F1D\\\",\\n  \\\"Success\\\": true,\\n  \\\"Resources\\\": {\\n    \\\"AlertResult\\\": [\\n      {\\n        \\\"Code\\\": 200,\\n        \\\"Message\\\": \\\"Metric not found.\\\",\\n        \\\"Success\\\": true,\\n        \\\"RuleName\\\": \\\"ECS_Rule1\\\",\\n        \\\"RuleId\\\": \\\"456789\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateGroupMetricRulesResponse>\\r\\n\\t<RequestId>CED22B00-CFD8-5BDF-A645-CAF7B81FAE45</RequestId>\\r\\n\\t<Resources>\\r\\n\\t\\t<AlertResult>\\r\\n\\t\\t\\t<RuleId>456789</RuleId>\\r\\n\\t\\t\\t<Code>200</Code>\\r\\n\\t\\t\\t<Success>true</Success>\\r\\n\\t\\t\\t<RuleName>ECS_Rule1</RuleName>\\r\\n\\t\\t</AlertResult>\\r\\n\\t</Resources>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n</CreateGroupMetricRulesResponse>\\t\",\"errorExample\":\"\"}]","title":"批量为指定应用分组创建报警规则","description":"本文将提供一个示例，为应用分组`123456`中的云服务器ECS的监控项`cpu_total`创建一条报警规则，其中报警规则ID为`456789`，报警规则名称为`ECS_Rule1`，报警级别为`Critical`，报警统计方法为`Average`，报警阈值比较符为`GreaterThanOrEqualToThreshold`，报警阈值为`90`，报警重试次数为`3`。返回结果显示，报警规则`ECS_Rule1`创建成功。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}