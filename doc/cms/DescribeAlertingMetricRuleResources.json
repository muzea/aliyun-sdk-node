{"summary":"调用DescribeAlertingMetricRuleResources接口查询指定报警规则中正在发生报警的资源列表。","methods":["get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","systemTags":{"operationType":"get"},"parameters":[{"name":"RuleId","in":"query","schema":{"description":"报警规则ID。关于如何查询报警规则ID，请参见[DescribeMetricRuleList](~~114941~~)。","type":"string","required":false,"docRequired":false,"example":"putNewAlarm_user_7e78d765-0e3e-4671-ba6d-7ce39108****"}},{"name":"GroupId","in":"query","schema":{"description":"应用分组ID。关于如何查询应用分组ID，请参见[DescribeMonitorGroups](~~115032~~)。","type":"string","required":false,"docRequired":false,"example":"7671****"}},{"name":"Page","in":"query","schema":{"description":"分页页码。 \n\n默认值：1 。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"分页大小。\n\n默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"Namespace","in":"query","schema":{"description":"云产品的数据命名空间。\n\n关于如何获取云产品的数据命名空间，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"acs_mns_new"}},{"name":"Dimensions","in":"query","schema":{"description":"维度Map，用于查询指定资源的监控数据。","type":"string","required":false,"example":"{\\\"userId\\\":\\\"120886317861****\\\",\\\"region\\\":\\\"cn-huhehaote\\\",\\\"queue\\\":\\\"test-0128\\\"}"}},{"name":"AlertBeforeTime","in":"query","schema":{"description":"用于查询在这个时刻之前发生的报警。支持毫秒时间戳。","type":"string","required":false,"example":"1698827400000"}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"Code":{"description":"状态码。\n>200表示成功。","type":"integer","format":"int32","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The request processing has failed due to some unknown error."},"RequestId":{"description":"请求ID。","type":"string","example":"0724011B-D9E0-4B2F-8C51-F17A894CC42C"},"Total":{"description":"总记录条数。","type":"integer","format":"int32","example":"2"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"Resources":{"type":"object","properties":{"Resource":{"description":"报警规则的资源列表。","type":"array","items":{"description":"无。","type":"object","properties":{"MetricName":{"description":"监控项名称。","type":"string","example":"ActiveMessages"},"RetryTimes":{"description":"报警重试次数。","type":"string","example":"3"},"MetricValues":{"description":"触发报警时监控项的值。格式为一个JSON字符串。","type":"string","example":"{\\\"timestamp\\\":1623727500000,\\\"Sum\\\":926,\\\"value\\\":463,\\\"Maximum\\\":463,\\\"Minimum\\\":463,\\\"Average\\\":463,\\\"SampleCount\\\":2,\\\"userId\\\":\\\"120886317861****\\\",\\\"region\\\":\\\"cn-huhehaote\\\",\\\"queue\\\":\\\"test-0128\\\"}"},"Namespace":{"description":"云产品的数据命名空间。","type":"string","example":"acs_mns_new"},"RuleName":{"description":"报警规则名称。","type":"string","example":"test123456789"},"RuleId":{"description":"报警规则ID。","type":"string","example":"putNewAlarm_user_7e78d765-0e3e-4671-ba6d-7ce39108****"},"ProductCategory":{"description":"云产品类型。","type":"string","example":"mns"},"StartTime":{"description":"资源被关联到报警规则的时间戳。\n\n单位：毫秒。","type":"string","example":"1622427900000"},"Resource":{"description":"报警的资源。","type":"string","example":"userId=120886317861****,region=cn-huhehaote,queue=test-0128"},"LastModifyTime":{"description":"最后一次修改报警规则的时间戳。\n\n单位：毫秒。","type":"string","example":"1622827900000"},"GroupId":{"description":"应用分组ID。\n>如果报警规则与指定应用分组关联，则显示该应用分组ID。","type":"string","example":"7671****"},"Dimensions":{"description":"维度Map，用于查询指定资源的监控数据。","type":"string","example":"{\\\"region\\\":\\\"cn-huhehaote\\\",\\\"queue\\\":\\\"test-0128\\\",\\\"userId\\\":\\\"120886317861****\\\"}"},"LastAlertTime":{"description":"最后一次触发报警的时间戳。\n\n单位：毫秒。","type":"string","example":"1622427900000"},"Level":{"description":"报警的级别和通知方式。取值：\n\n<props=\"china\">- 2：电话+短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 3：短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"china\">- OK：无报警。</props>\n\n<props=\"intl\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"intl\">- OK：无报警。</props>\n\n<props=\"partner\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"partner\">- OK：无报警。</props>","type":"integer","format":"int32","example":"3"},"Threshold":{"description":"报警阈值。","type":"string","example":"10"},"Statistics":{"description":"报警统计方法。","type":"string","example":"Average"},"Enable":{"description":"是否启用报警规则。取值：\n\n- true：启用报警规则。\n\n- false：不启用报警规则。\n","type":"string","example":"true"},"Escalation":{"type":"object","properties":{"Resource":{"description":"触发报警的规则。","type":"array","items":{"description":"无。","type":"object","properties":{"ComparisonOperator":{"description":"阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n\n- GreaterThanThreshold：大于。\n\n- LessThanOrEqualToThreshold：小于等于。\n\n- LessThanThreshold：小于。\n\n- NotEqualToThreshold：不等于。\n\n- GreaterThanYesterday：同比昨天时间上涨。\n\n- LessThanYesterday：同比昨天时间下降。\n\n- GreaterThanLastWeek：同比上周同一时间上涨。\n\n- LessThanLastWeek：同比上周同一时间下降。\n\n- GreaterThanLastPeriod：环比上周期上涨。\n\n- LessThanLastPeriod：环比上周期下降。","type":"string","example":"GreaterThanOrEqualToThreshold"},"PreCondition":{"description":"阈值比较符号。取值：\n\n- `>=`\n\n- `=`\n\n- `<=`\n\n- `>`\n\n- `<`\n\n- `!=`","type":"string","example":">="},"Expression":{"description":"触发报警的规则描述。\n\n> 报警规则的主体，当监控数据满足报警条件时，触发报警规则。","type":"string","example":"$Average>=10"},"Times":{"description":"报警重试次数。","type":"integer","format":"int32","example":"1"},"Tag":{"description":"该参数已废弃，无需关注。","type":"string","example":"无"},"Threshold":{"description":"报警阈值。","type":"string","example":"10"},"Level":{"description":"报警的级别和通知方式。取值：\n\n<props=\"china\">- 2：电话+短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 3：短信+邮件+钉钉机器人。</props>\n\n<props=\"china\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"china\">- OK：无报警。</props>\n\n<props=\"intl\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"intl\">- OK：无报警。</props>\n\n<props=\"partner\">- 4：邮件+钉钉机器人。</props>\n\n<props=\"partner\">- OK：无报警。</props>","type":"integer","format":"int32","example":"3"},"ExpressionListJoin":{"description":"多个监控项之间的关系。取值：\n\n- &&：当所有监控项都满足报警条件时，发送报警通知。\n- ||：当其中一个监控项满足报警条件时，发送报警通知。","type":"string","example":"&&"},"ExpressionList":{"type":"object","properties":{"ExpressionList":{"description":"多指标报警规则描述。","type":"array","items":{"description":"无。","type":"object","properties":{"ComparisonOperator":{"description":"报警级别的阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。","type":"string","example":"GreaterThanOrEqualToThreshold"},"MetricName":{"description":"监控项名称。","type":"string","example":"cpu_total"},"Period":{"description":"监控项的统计周期。单位：秒。默认为监控项的原始上报周期。","type":"string","example":"60"},"Statistics":{"description":"报警级别的统计方法。取值：\n\n- Maximum：最大值。\n- Minimum：最小值。\n- Average：平均值。","type":"string","example":"Average"},"Threshold":{"description":"报警阈值。\n ","type":"string","example":"90"}}}}}},"ExpressionRaw":{"description":"表达式创建的报警条件。包括但不限于以下情况：\n\n- 为部分资源设置报警黑名单，例如：`$instanceId != 'i-io8kfvcpp7x5****' ``&&`` $Average > 50`，表示当报警规则中的实例`i-io8kfvcpp7x5****`的`Average`大于50时，也不会产生报警。\n- 对规则中的指定实例设置特殊报警阈值，例如：`$Average > ($instanceId == 'i-io8kfvcpp7x5****'? 80: 50)`，表示当报警规则中的实例`i-io8kfvcpp7x5****`的`Average`大于80时，才报警，其他实例的`Average`大于50，即可报警。\n- 对规则中超过阈值的实例数量进行限制，例如：`count($Average > 20) > 3`，表示当报警规则中的`Average`大于20的实例数大于3个时，才进行报警。\n","type":"string","example":"$Average > ($instanceId == 'i-io8kfvcpp7x5****'? 80: 50)"}}}}}}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"%s","errorMessage":"%s"},{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}],"503":[{"errorCode":"%s","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": 200,\\n  \\\"Message\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n  \\\"RequestId\\\": \\\"0724011B-D9E0-4B2F-8C51-F17A894CC42C\\\",\\n  \\\"Total\\\": 2,\\n  \\\"Success\\\": true,\\n  \\\"Resources\\\": {\\n    \\\"Resource\\\": [\\n      {\\n        \\\"MetricName\\\": \\\"ActiveMessages\\\",\\n        \\\"RetryTimes\\\": \\\"3\\\",\\n        \\\"MetricValues\\\": \\\"{\\\\\\\\\\\\\\\"timestamp\\\\\\\\\\\\\\\":1623727500000,\\\\\\\\\\\\\\\"Sum\\\\\\\\\\\\\\\":926,\\\\\\\\\\\\\\\"value\\\\\\\\\\\\\\\":463,\\\\\\\\\\\\\\\"Maximum\\\\\\\\\\\\\\\":463,\\\\\\\\\\\\\\\"Minimum\\\\\\\\\\\\\\\":463,\\\\\\\\\\\\\\\"Average\\\\\\\\\\\\\\\":463,\\\\\\\\\\\\\\\"SampleCount\\\\\\\\\\\\\\\":2,\\\\\\\\\\\\\\\"userId\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"120886317861****\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"region\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"cn-huhehaote\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"queue\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"test-0128\\\\\\\\\\\\\\\"}\\\",\\n        \\\"Namespace\\\": \\\"acs_mns_new\\\",\\n        \\\"RuleName\\\": \\\"test123456789\\\",\\n        \\\"RuleId\\\": \\\"putNewAlarm_user_7e78d765-0e3e-4671-ba6d-7ce39108****\\\",\\n        \\\"ProductCategory\\\": \\\"mns\\\",\\n        \\\"StartTime\\\": \\\"1622427900000\\\",\\n        \\\"Resource\\\": \\\"userId=120886317861****,region=cn-huhehaote,queue=test-0128\\\",\\n        \\\"LastModifyTime\\\": \\\"1622827900000\\\",\\n        \\\"GroupId\\\": \\\"7671****\\\",\\n        \\\"Dimensions\\\": \\\"{\\\\\\\\\\\\\\\"region\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"cn-huhehaote\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"queue\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"test-0128\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"userId\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"120886317861****\\\\\\\\\\\\\\\"}\\\",\\n        \\\"LastAlertTime\\\": \\\"1622427900000\\\",\\n        \\\"Level\\\": 3,\\n        \\\"Threshold\\\": \\\"10\\\",\\n        \\\"Statistics\\\": \\\"Average\\\",\\n        \\\"Enable\\\": \\\"true\\\",\\n        \\\"Escalation\\\": {\\n          \\\"Resource\\\": [\\n            {\\n              \\\"ComparisonOperator\\\": \\\"GreaterThanOrEqualToThreshold\\\",\\n              \\\"PreCondition\\\": \\\">=\\\",\\n              \\\"Expression\\\": \\\"$Average>=10\\\",\\n              \\\"Times\\\": 1,\\n              \\\"Tag\\\": \\\"无\\\",\\n              \\\"Threshold\\\": \\\"10\\\",\\n              \\\"Level\\\": 3,\\n              \\\"ExpressionListJoin\\\": \\\"&&\\\",\\n              \\\"ExpressionList\\\": {\\n                \\\"ExpressionList\\\": [\\n                  {\\n                    \\\"ComparisonOperator\\\": \\\"GreaterThanOrEqualToThreshold\\\",\\n                    \\\"MetricName\\\": \\\"cpu_total\\\",\\n                    \\\"Period\\\": \\\"60\\\",\\n                    \\\"Statistics\\\": \\\"Average\\\",\\n                    \\\"Threshold\\\": \\\"90\\\"\\n                  }\\n                ]\\n              },\\n              \\\"ExpressionRaw\\\": \\\"$Average > ($instanceId == 'i-io8kfvcpp7x5****'? 80: 50)\\\"\\n            }\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeAlertingMetricRuleResourcesResponse>\\r\\n\\t<RequestId>0724011B-D9E0-4B2F-8C51-F17A894CC42C</RequestId>\\r\\n\\t<Message></Message>\\r\\n\\t<Total>2</Total>\\r\\n\\t<Resources>\\r\\n\\t\\t<Resource>\\r\\n\\t\\t\\t<RuleId>putNewAlarm_user_7e78d765-0e3e-4671-ba6d-7ce39108****</RuleId>\\r\\n\\t\\t\\t<Escalation>\\r\\n\\t\\t\\t\\t<Resource>\\r\\n\\t\\t\\t\\t\\t<Expression>$Average>=10</Expression>\\r\\n\\t\\t\\t\\t\\t<Times>1</Times>\\r\\n\\t\\t\\t\\t\\t<Level>3</Level>\\r\\n\\t\\t\\t\\t\\t<Tag>mns</Tag>\\r\\n\\t\\t\\t\\t</Resource>\\r\\n\\t\\t\\t</Escalation>\\r\\n\\t\\t\\t<Resource>userId=120886317861****,region=cn-huhehaote,queue=test-0128</Resource>\\r\\n\\t\\t\\t<StartTime>1622427900000</StartTime>\\r\\n\\t\\t\\t<Dimensions>{\\\\\\\"userId\\\\\\\":\\\\\\\"120886317861****\\\\\\\",\\\\\\\"region\\\\\\\":\\\\\\\"cn-huhehaote\\\\\\\",\\\\\\\"queue\\\\\\\":\\\\\\\"test-0128\\\\\\\"}</Dimensions>\\r\\n\\t\\t\\t<MetricValues>{\\\\\\\"timestamp\\\\\\\":1623727500000,\\\\\\\"Sum\\\\\\\":926,\\\\\\\"value\\\\\\\":463,\\\\\\\"Maximum\\\\\\\":463,\\\\\\\"Minimum\\\\\\\":463,\\\\\\\"Average\\\\\\\":463,\\\\\\\"SampleCount\\\\\\\":2,\\\\\\\"userId\\\\\\\":\\\\\\\"120886317861****\\\\\\\",\\\\\\\"region\\\\\\\":\\\\\\\"cn-huhehaote\\\\\\\",\\\\\\\"queue\\\\\\\":\\\\\\\"test-0128\\\\\\\"}</MetricValues>\\r\\n\\t\\t\\t<LastModifyTime>1623727904000</LastModifyTime>\\r\\n\\t\\t\\t<Statistics>Average</Statistics>\\r\\n\\t\\t\\t<Namespace>acs_mns_new</Namespace>\\r\\n\\t\\t\\t<GroupId>7671****</GroupId>\\r\\n\\t\\t\\t<MetricName>ActiveMessages</MetricName>\\r\\n\\t\\t\\t<LastAlertTime>1622427900000</LastAlertTime>\\r\\n\\t\\t\\t<ProductCategory>mns</ProductCategory>\\r\\n\\t\\t\\t<Enable>true</Enable>\\r\\n\\t\\t\\t<Level>3</Level>\\r\\n\\t\\t\\t<RuleName>test123456789</RuleName>\\r\\n\\t\\t\\t<RetryTimes>1</RetryTimes>\\r\\n\\t\\t\\t<Threshold>10</Threshold>\\r\\n\\t\\t</Resource>\\r\\n\\t\\t<Resource>\\r\\n\\t\\t\\t<RuleId>putNewAlarm_user_7e78d765-0e3e-4671-ba6d-7ce39108****</RuleId>\\r\\n\\t\\t\\t<Escalation>\\r\\n\\t\\t\\t\\t<Resource>\\r\\n\\t\\t\\t\\t\\t<Expression>$Average>=10</Expression>\\r\\n\\t\\t\\t\\t\\t<Times>1</Times>\\r\\n\\t\\t\\t\\t\\t<Level>3</Level>\\r\\n\\t\\t\\t\\t\\t<Tag>mns</Tag>\\r\\n\\t\\t\\t\\t</Resource>\\r\\n\\t\\t\\t</Escalation>\\r\\n\\t\\t\\t<Resource>userId=120886317861****,region=cn-huhehaote,queue=test-022401-1</Resource>\\r\\n\\t\\t\\t<StartTime>1622427900000</StartTime>\\r\\n\\t\\t\\t<Dimensions>{\\\\\\\"userId\\\\\\\":\\\\\\\"120886317861****\\\\\\\",\\\\\\\"region\\\\\\\":\\\\\\\"cn-huhehaote\\\\\\\",\\\\\\\"queue\\\\\\\":\\\\\\\"test-022401-1\\\\\\\"}</Dimensions>\\r\\n\\t\\t\\t<MetricValues>{\\\\\\\"timestamp\\\\\\\":1623727500000,\\\\\\\"queue\\\\\\\":\\\\\\\"test-022401-1\\\\\\\",\\\\\\\"Maximum\\\\\\\":349,\\\\\\\"Minimum\\\\\\\":349,\\\\\\\"Sum\\\\\\\":698,\\\\\\\"value\\\\\\\":349,\\\\\\\"userId\\\\\\\":\\\\\\\"120886317861****\\\\\\\",\\\\\\\"region\\\\\\\":\\\\\\\"cn-huhehaote\\\\\\\",\\\\\\\"Average\\\\\\\":349,\\\\\\\"SampleCount\\\\\\\":2}</MetricValues>\\r\\n\\t\\t\\t<LastModifyTime>1623727904000</LastModifyTime>\\r\\n\\t\\t\\t<Statistics>Average</Statistics>\\r\\n\\t\\t\\t<Namespace>acs_mns_new</Namespace>\\r\\n\\t\\t\\t<GroupId>7671****</GroupId>\\r\\n\\t\\t\\t<MetricName>ActiveMessages</MetricName>\\r\\n\\t\\t\\t<LastAlertTime>1622427900000</LastAlertTime>\\r\\n\\t\\t\\t<ProductCategory>mns</ProductCategory>\\r\\n\\t\\t\\t<Enable>true</Enable>\\r\\n\\t\\t\\t<Level>3</Level>\\r\\n\\t\\t\\t<RuleName>test123456789</RuleName>\\r\\n\\t\\t\\t<RetryTimes>1</RetryTimes>\\r\\n\\t\\t\\t<Threshold>10</Threshold>\\r\\n\\t\\t</Resource>\\r\\n\\t</Resources>\\r\\n\\t<Success>true</Success>\\r\\n</DescribeAlertingMetricRuleResourcesResponse>\\t\",\"errorExample\":\"\"}]","title":"查询指定报警规则中正在发生报警的资源列表","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}