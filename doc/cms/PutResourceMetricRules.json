{"summary":"调用PutResourceMetricRules接口为指定资源的指定监控项设置多条阈值报警规则。","methods":["post","get","put"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"create"},"parameters":[{"name":"Rules","in":"query","style":"repeatList","schema":{"description":"阈值报警规则列表。\n\nN的取值范围：1~500。","type":"array","items":{"description":"无。","type":"object","properties":{"Escalations.Info.Threshold":{"description":"Info级别报警阈值。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"90"},"MetricName":{"description":"监控项名称。\n\nN的取值范围：1~500。\n\n关于如何查询监控项名称，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"cpu_total"},"Escalations.Warn.Threshold":{"description":"Warn级别报警阈值。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"90"},"EffectiveInterval":{"description":"报警规则的生效时间范围。\n\nN的取值范围：1~500。","type":"string","required":false,"example":"00:00-23:59"},"NoEffectiveInterval":{"description":"报警规则的失效时间范围。\n\nN的取值范围：1~500。","type":"string","required":false,"example":"00:00-06:00"},"RuleId":{"description":"报警规则ID。\n\nN的取值范围：1~500。\n\n您可以输入新的报警规则ID，也可以使用云监控已存在的报警规则ID。关于如何查询报警规则ID，请参见[DescribeMetricRuleList](~~114941~~)。\n\n> 输入新的报警规则ID，表示创建一条阈值报警规则。","type":"string","required":true,"example":"a151cd6023eacee2f0978e03863cc1697c89508****"},"Escalations.Critical.Times":{"description":"Critical级别报警重试次数。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"3"},"Escalations.Critical.Threshold":{"description":"Critical级别报警阈值。\n\nN的取值范围：1~500。\n\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"90"},"Escalations.Critical.Statistics":{"description":"Critical级别报警统计方法。\n\nN的取值范围：1~500。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"Escalations.Warn.ComparisonOperator":{"description":"Warn级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Escalations.Info.Times":{"description":"Info级别报警重试次数。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"3"},"Resources":{"description":"资源信息，例如：`[{\"instanceId\":\"i-uf6j91r34rnwawoo****\"}]`、`[{\"userId\":\"100931896542****\"}]`。\n\nN的取值范围：1~500。\n\n关于资源信息支持的维度Dimensions，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"[{\"instanceId\":\"i-uf6j91r34rnwawoo****\"}]"},"SilenceTime":{"description":"通道沉默周期。\n\n单位：秒，默认值：86400。\n\nN的取值范围：1~500。\n\n> 通道沉默周期是指报警发生后未恢复正常，间隔多久重新发送一次报警通知。","type":"integer","format":"int32","required":false,"example":"86400"},"Webhook":{"description":"报警发生回调时指定的URL地址，向URL发送POST请求。\n\nN的取值范围：1~500。","type":"string","required":false,"example":"https://alert.aliyun.com.com:8080/callback"},"ContactGroups":{"description":"报警联系组。报警通知会发送给该报警联系组中的报警联系人。\n\nN的取值范围：1~500。\n\n> 报警联系组是一组报警联系人，可以包含一个或多个报警联系人。关于如何创建报警联系人和报警联系组，请参见[PutContact](~~114923~~)和[PutContactGroup](~~114929~~)。","type":"string","required":true,"example":"ECS_Group"},"Namespace":{"description":"云产品的数据命名空间。\n\nN的取值范围：1~500。\n\n关于如何查询云产品的数据命名空间，请参见[云产品监控项](~~163515~~)。","type":"string","required":true,"example":"acs_ecs_dashboard"},"EmailSubject":{"description":"报警邮件主题。\n\nN的取值范围：1~500。","type":"string","required":false,"example":"ECS实例报警"},"Period":{"description":"监控项的统计周期。\n\n单位：秒。默认为监控项的原始上报周期。\n\nN的取值范围：1~500。\n\n>关于如何查询监控项的统计周期，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"60"},"RuleName":{"description":"报警规则名称。\n\nN的取值范围：1~500。\n\n您可以输入新的报警规则名称，也可以使用云监控已存在的报警规则名称。关于如何查询报警规则名称，请参见[DescribeMetricRuleList](~~114941~~)。\n\n> 输入新的报警规则名称，表示创建一条阈值报警规则。","type":"string","required":true,"example":"test123"},"Escalations.Info.Statistics":{"description":"Info级别报警统计方法。\n\nN的取值范围：1~500。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"Escalations.Warn.Times":{"description":"Warn级别报警重试次数。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"integer","format":"int32","required":false,"example":"3"},"Escalations.Info.ComparisonOperator":{"description":"Info级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Interval":{"description":"报警规则的触发周期。\n\n单位：秒。\n\nN的取值范围：1~500。\n\n>关于如何查询监控项的统计周期，请参见[云产品监控项](~~163515~~)。","type":"string","required":false,"example":"60"},"Escalations.Critical.ComparisonOperator":{"description":"Critical级别阈值比较符。取值：\n\n- GreaterThanOrEqualToThreshold：大于等于。\n- GreaterThanThreshold：大于。\n- LessThanOrEqualToThreshold：小于等于。\n- LessThanThreshold：小于。\n- NotEqualToThreshold：不等于。\n- GreaterThanYesterday：同比昨天时间上涨。\n- LessThanYesterday：同比昨天时间下降。\n- GreaterThanLastWeek：同比上周同一时间上涨。\n- LessThanLastWeek：同比上周同一时间下降。\n- GreaterThanLastPeriod：环比上周期上涨。\n- LessThanLastPeriod：环比上周期下降。\n\nN的取值范围：1~500。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"GreaterThanOrEqualToThreshold"},"Escalations.Warn.Statistics":{"description":"Warn级别报警统计方法。\n\nN的取值范围：1~500。\n\n该参数的取值由指定云产品的`MetricName`对应的`Statistics`列决定，例如：Maximum、Minimum和Average。关于如何获取该参数的取值，请参见[云产品监控项](~~163515~~)。\n\n> 报警级别Critical（严重）、Warn（警告）或Info（信息）至少设置一个，且该报警级别中的参数Statistics、ComparisonOperator、Threshold和Times必须同时设置。","type":"string","required":false,"example":"Average"},"NoDataPolicy":{"description":"无监控数据时报警的处理方式。取值：\n\n- KEEP_LAST_STATE（默认值）：不做任何处理。\n- INSUFFICIENT_DATA：报警内容为无数据。\n- OK：正常。\n\nN的取值范围：1~500。","type":"string","required":false,"example":"KEEP_LAST_STATE"},"Labels":{"description":"当监控项达到报警条件并进行报警时，标签同时写入监控项，在报警通知中进行展示。","type":"array","items":{"description":"无。","type":"object","properties":{"Key":{"description":"标签键。","type":"string","required":false,"example":"tagKey1"},"Value":{"description":"标签值。\n\n> 标签值支持模板参数，将模板参数替换为实际标签值。","type":"string","required":false,"example":"ECS"}},"required":false},"required":false,"maxItems":20,"minItems":0}},"required":false},"required":true,"maxItems":500}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"Code":{"description":"状态码。\n\n>200表示成功。","type":"string","example":"200"},"Message":{"description":"错误信息。","type":"string","example":"The request processing has failed due to some unknown error."},"RequestId":{"description":"请求ID。","type":"string","example":"15D1440E-BF24-5A41-93E4-36864635179E"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"true"},"FailedListResult":{"type":"object","properties":{"Target":{"description":"为资源设置报警规则的失败结果列表。","type":"array","items":{"description":"无。","type":"object","properties":{"RuleId":{"description":"报警规则ID。","type":"string","example":"a151cd6023eacee2f0978e03863cc1697c89508****"},"Result":{"description":"失败结果。","type":"object","properties":{"Code":{"description":"状态码。","type":"string","example":"404"},"Message":{"description":"错误信息。","type":"string","example":"The request processing has failed due to some unknown error."},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"boolean","example":"false"}}}}}}}}}}}},"errorCodes":{"204":[{"errorCode":"%s","errorMessage":"%s"}],"206":[{"errorCode":"%s","errorMessage":"%s"}],"400":[{"errorCode":"%s","errorMessage":"%s"}],"403":[{"errorCode":"%s","errorMessage":"%s"}],"404":[{"errorCode":"%s","errorMessage":"%s"}],"406":[{"errorCode":"%s","errorMessage":"%s"}],"422":[{"errorCode":"%s","errorMessage":"%s"}],"499":[{"errorCode":"%s","errorMessage":"%s"}],"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}],"503":[{"errorCode":"%s","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n  \\\"RequestId\\\": \\\"15D1440E-BF24-5A41-93E4-36864635179E\\\",\\n  \\\"Success\\\": true,\\n  \\\"FailedListResult\\\": {\\n    \\\"Target\\\": [\\n      {\\n        \\\"RuleId\\\": \\\"a151cd6023eacee2f0978e03863cc1697c89508****\\\",\\n        \\\"Result\\\": {\\n          \\\"Code\\\": \\\"404\\\",\\n          \\\"Message\\\": \\\"The request processing has failed due to some unknown error.\\\",\\n          \\\"Success\\\": false\\n        }\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<PutResourceMetricRulesResponse>\\r\\n\\t<Message></Message>\\r\\n\\t<RequestId>15D1440E-BF24-5A41-93E4-36864635179E</RequestId>\\r\\n\\t<FailedListResult></FailedListResult>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n</PutResourceMetricRulesResponse>\\t\",\"errorExample\":\"\"}]","title":"为指定资源的指定监控项设置多条阈值报警规则","description":"本文将提供一个示例，为云服务器ECS `acs_ecs_dashboard`的实例`i-uf6j91r34rnwawoo****`中的监控项`cpu_total`设置阈值报警规则。该报警规则的报警联系组为`ECS_Group`、报警规则名称为`test123`、报警规则ID为`a151cd6023eacee2f0978e03863cc1697c89508****`、Critical级别的统计方法为`Average`、Critical级别的比较符为`GreaterThanOrEqualToThreshold`、Critical级别的阈值为`90`和Critical级别的报警重试次数为`3`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}