{"summary":"调用DescribeSiteMonitorList接口查询站点监控任务列表。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"TaskId","in":"query","schema":{"description":"站点监控任务ID。","type":"string","required":false,"example":"a1ecd34a-8157-44d9-b060-14950837****"}},{"name":"TaskType","in":"query","schema":{"description":"站点监控任务探测类型。云监控支持的探测类型包括：HTTP 、PING 、TCP 、UDP 、DNS 、SMTP 、POP3 、FTP。","type":"string","required":false,"example":"HTTP"}},{"name":"Keyword","in":"query","schema":{"description":"查询站点监控任务的关键字。\n\n> 支持根据任务名称或任务地址模糊搜索。","type":"string","required":false,"example":"site"}},{"name":"Page","in":"query","schema":{"description":"分页页码。默认值：1。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"query","schema":{"description":"每页显示条数。默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}},{"name":"TaskState","in":"query","schema":{"description":"任务状态。取值：\n\n- 1：正常。\n\n- 2：禁用。","type":"string","required":false,"example":"1"}}],"responses":{"200":{"schema":{"description":"无。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"A80DB41C-AF6C-50E1-ADB5-66DCBA3D266B"},"Success":{"description":"操作是否成功。取值：\n\n- true：成功。\n\n- false：失败。","type":"string","example":"true"},"Code":{"description":"状态码。\n\n> 200表示成功。","type":"string","example":"200"},"Message":{"description":"返回信息。","type":"string","example":"successful"},"PageNumber":{"description":"分页页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页显示记录条数。","type":"integer","format":"int32","example":"10"},"TotalCount":{"description":"总记录条数。","type":"integer","format":"int32","example":"1"},"SiteMonitors":{"type":"object","properties":{"SiteMonitor":{"description":"站点监控任务列表。","type":"array","items":{"description":"无。","type":"object","properties":{"TaskType":{"description":"站点监控任务探测类型。云监控支持的探测类型包括：HTTP 、PING 、TCP 、UDP 、DNS 、SMTP 、POP3 、FTP。","type":"string","example":"TCP"},"UpdateTime":{"description":"站点监控任务更新时间。","type":"string","example":"2022-03-08 17:14:31"},"Interval":{"description":"探测频率。单位：分钟。","type":"string","example":"1"},"TaskState":{"description":"任务状态。取值：\n\n- 1：正常。\n\n- 2：禁用。","type":"string","example":"1"},"CreateTime":{"description":"任务的创建时间。","type":"string","example":"2021-11-01 11:05:18"},"TaskName":{"description":"站点监控任务名称。","type":"string","example":"新的探测任务"},"Address":{"description":"任务的探测URL地址或IP地址。","type":"string","example":"https://aliyun.com"},"TaskId":{"description":"站点监控任务ID。","type":"string","example":"f5783760-1b39-4b6b-80e8-453d962a****"},"OptionsJson":{"description":"扩展选项。每一种探测类型有不同的扩展类型，详情请参见[CreateSiteMonitor](~~115048~~)。","type":"object","properties":{"password":{"description":"SMTP、POP3或FTP探测类型的密码。","type":"string","example":"123****"},"request_format":{"description":"HTTP请求内容格式。取值：\n- hex：十六进制格式。\n- txt：文本格式。","type":"string","example":"hex"},"response_content":{"description":"匹配响应内容。\n- 十六进制格式：当请求的内容是字节串，且无法用可见字符表达时，可以将字节串转换为十六进制表示的可见字符串形式。具体转换规则为：一个字节转换成二字节的十六进制字符，例如：1字节（1B）转换成十六进制为`01`， 27字节（27B）转换成十六进制为`1B`。二进制数组（Java形式）为`{(byte)1, (byte)27}`，转换成十六进制为`011b`或`011B`。站点监控对十六进制不区分大小写。将字符串`011B`填入请求内容中，同时请求内容格式选择十六进制格式。\n\n- 文本格式：普通文本指字符串，即由可见字符组成的字符串。","type":"string","example":"cf0f85"},"failure_rate":{"description":"丢包率。\n\n> 该参数仅适用于PING探测类型。","type":"number","format":"float","example":"0.5"},"time_out":{"description":"超时时间。单位：毫秒。","type":"integer","format":"int64","example":"3000"},"header":{"description":"HTTP请求头。格式为`key1:value1`，通过回车键换行。","type":"string","example":"testKey:testValue"},"cookie":{"description":"发送HTTP请求的Cookie文本。","type":"string","example":"lang=en"},"port":{"description":"TCP、UDP、SMTP或POP3探测类型的端口。","type":"integer","format":"int32","example":"80"},"ping_num":{"description":"PING探测的次数设置。","type":"integer","format":"int32","example":"20"},"authentication":{"description":"是否开启安全验证。取值：\n- 0：开启。\n- 1：关闭。","type":"integer","format":"int32","example":"1"},"http_method":{"description":"HTTP的请求方法。取值：\n- get \n- post\n- head","type":"string","example":"get"},"match_rule":{"description":"是否包含报警规则。取值：\n- 0：包含。\n- 1：不包含。","type":"integer","format":"int32","example":"0"},"dns_match_rule":{"description":"DNS的匹配规则。取值：\n\n- IN_DNS：期望解析的别名或IP地址均在DNS应答中。\n- DNS_IN：所有的DNS应答都出现在期望解析的别名或IP地址中。\n- EQUAL：DNS应答和期望解析的别名或IP地址完全相同。\n- ANY：DNS应答和期望解析的别名或IP地址有交集。","type":"string","example":"IN_DNS"},"request_content":{"description":"HTTP探测请求内容。","type":"string","example":"cf0f85"},"username":{"description":"FTP、SMTP或POP3的用户名。","type":"string","example":"testUser"},"response_format":{"description":"HTTP响应内容格式。取值：\n- hex：十六进制格式。\n- txt：文本格式。","type":"string","example":"hex"},"dns_type":{"description":"DNS解析类型。仅适用于DNS探测类型。取值：\n- A（默认值）：指定主机名或域名对应的IP地址。\n- CNAME：将多个域名映射到另外一个域名。\n- NS：指定域名由某个DNS服务器解析。\n- MX：将域名指向一个邮件服务器地址。\n- TXT：主机名或域名的说明。文本长度限制512字节，通常用做SPF（Sender Policy Framework）记录，即反垃圾邮件。\n- AAAA：将域名解析到IPv6地址的DNS记录。","type":"string","example":"A"},"dns_server":{"description":"指定DNS解析服务器的域名或IP地址。\n","type":"string","example":"192.168.XX.XX"},"enable_operator_dns":{"description":"是否使用运营商的DNS。\n- true（默认值）：使用运营商的DNS。\n- false：不使用运营商的DNS。使用默认DNS或指定服务器的DNS。","type":"boolean","example":"true"},"attempts":{"description":"DNS失败后重试次数。","type":"integer","format":"int64","example":"3"},"protocol":{"description":"DNS探测协议类型。取值：\n- udp（默认值）\n- tcp\n- tcp-tls","type":"string","example":"udp"},"proxy_protocol":{"description":"是否开启ProxyProtocol。取值：\n- false（默认值）：不开启ProxyProtocol。\n- true：开启ProxyProtocol。","type":"boolean","example":"false"},"acceptable_response_code":{"description":"可接受的状态码。 \n\n> 建议您使用断言配置。","type":"string","example":"400"},"isBase64Encode":{"description":"是否对密码进行base64解码存储。取值：\n- true：对密码进行base64解码存储。\n- false（默认值）：不对密码进行base64解码存储。","type":"string","example":"false"},"cert_verify":{"description":"是否验证证书。取值：\n- false（默认值）：忽略证书验证。\n- true：证书验证。","type":"boolean","example":"false"},"unfollow_redirect":{"description":"如果出现301或302状态码，是否跟随再次做重定向探测。取值：\n- true：不跟随跳转。\n- false（默认值）：跟随跳转。","type":"boolean","example":"false"},"diagnosis_mtr":{"description":"是否开启任务失败后的自动MTR网络诊断。取值：\n- false（默认值）：不开启自动MTR网络诊断。\n- true  开启自动MTR网络诊断。","type":"boolean","example":"false"},"diagnosis_ping":{"description":"是否开启探测任务失败后自动Ping网络延时探测。取值：\n- false（默认值）：不开启。\n- true：开启。","type":"boolean","example":"false"},"retry_delay":{"description":"探测失败后重试次数。","type":"integer","format":"int32","example":"1"},"assertions":{"type":"object","properties":{"assertions":{"description":"断言配置组。","type":"array","items":{"description":"断言配置组。","type":"object","properties":{"property":{"description":"断言内容解析路径。\n\n- 如果断言类型为`body_json`，则路径为`json path`。\n\n- 如果断言类型是`body_xml`，则路径为`xml path`。\n","type":"string","example":"json path"},"type":{"description":"断言类型。取值：\n- response_time：判定响应时间是否符合预期。\n- status_code：判断HTTP响应状态码是否符合预期。\n- header：判定响应Header中的字段是否符合预期。\n- body_text：通过文本字符匹配判断返回Body中的内容是否符合预期。\n- body_json：通过JSON解析（JSON Path）判断返回Body中的内容是否符合预期。\n- body_xml：通过XML解析（XPath）判断返回Body中的内容是否符合预期。","type":"string","example":"response_time"},"operator":{"description":"断言比较操作符。取值：\n- contains：包含。\n- doesNotContain：不包含。\n- matches：正则匹配。\n- doesNotMatch：正则不匹配。\n- is：数值等于或字符匹配相等。\n- isNot：不等于。\n- lessThan：小于。\n- moreThan：大于。","type":"string","example":"lessThan"},"target":{"description":"断言匹配比较的目标数值或字符。","type":"string","example":"1000"}}}}}}}},"AgentGroup":{"description":"探针类型。取值：\n\n- PC：PC端。\n- MOBILE：移动端。","type":"string","example":"PC"}}}}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidQueryParameter","errorMessage":"%s"}],"401":[{"errorCode":"AccessDeniedException","errorMessage":"You donot have sufficient access to perform this action."}],"402":[{"errorCode":"LimitExceeded","errorMessage":"The quota for this customer had been reached."}],"403":[{"errorCode":"Forbidden","errorMessage":"You are not authorized to operate the specified resource."}],"406":[{"errorCode":"ExceedingQuota","errorMessage":"Exceeding quota limits."}],"409":[{"errorCode":"%s","errorMessage":"%s"}],"429":[{"errorCode":"ThrottlingException","errorMessage":"The request was denied due to request throttling."}],"500":[{"errorCode":"%s","errorMessage":"%s"},{"errorCode":"InternalError","errorMessage":"%s"}],"503":[{"errorCode":"%s","errorMessage":"%s"}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"A80DB41C-AF6C-50E1-ADB5-66DCBA3D266B\\\",\\n  \\\"Success\\\": \\\"true\\\",\\n  \\\"Code\\\": \\\"200\\\",\\n  \\\"Message\\\": \\\"successful\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 10,\\n  \\\"TotalCount\\\": 1,\\n  \\\"SiteMonitors\\\": {\\n    \\\"SiteMonitor\\\": [\\n      {\\n        \\\"TaskType\\\": \\\"TCP\\\",\\n        \\\"UpdateTime\\\": \\\"2022-03-08 17:14:31\\\",\\n        \\\"Interval\\\": \\\"1\\\",\\n        \\\"TaskState\\\": \\\"1\\\",\\n        \\\"CreateTime\\\": \\\"2021-11-01 11:05:18\\\",\\n        \\\"TaskName\\\": \\\"新的探测任务\\\",\\n        \\\"Address\\\": \\\"https://aliyun.com\\\",\\n        \\\"TaskId\\\": \\\"f5783760-1b39-4b6b-80e8-453d962a****\\\",\\n        \\\"OptionsJson\\\": {\\n          \\\"password\\\": \\\"123****\\\",\\n          \\\"request_format\\\": \\\"hex\\\",\\n          \\\"response_content\\\": \\\"cf0f85\\\",\\n          \\\"failure_rate\\\": 0.5,\\n          \\\"time_out\\\": 3000,\\n          \\\"header\\\": \\\"testKey:testValue\\\",\\n          \\\"cookie\\\": \\\"lang=en\\\",\\n          \\\"port\\\": 80,\\n          \\\"ping_num\\\": 20,\\n          \\\"authentication\\\": 1,\\n          \\\"http_method\\\": \\\"get\\\",\\n          \\\"match_rule\\\": 0,\\n          \\\"dns_match_rule\\\": \\\"IN_DNS\\\",\\n          \\\"request_content\\\": \\\"cf0f85\\\",\\n          \\\"username\\\": \\\"testUser\\\",\\n          \\\"response_format\\\": \\\"hex\\\",\\n          \\\"dns_type\\\": \\\"A\\\",\\n          \\\"dns_server\\\": \\\"192.168.XX.XX\\\",\\n          \\\"enable_operator_dns\\\": true,\\n          \\\"attempts\\\": 3,\\n          \\\"protocol\\\": \\\"udp\\\",\\n          \\\"proxy_protocol\\\": false,\\n          \\\"acceptable_response_code\\\": \\\"400\\\",\\n          \\\"isBase64Encode\\\": \\\"false\\\",\\n          \\\"cert_verify\\\": false,\\n          \\\"unfollow_redirect\\\": false,\\n          \\\"diagnosis_mtr\\\": false,\\n          \\\"diagnosis_ping\\\": false,\\n          \\\"retry_delay\\\": 1,\\n          \\\"assertions\\\": {\\n            \\\"assertions\\\": [\\n              {\\n                \\\"property\\\": \\\"json path\\\",\\n                \\\"type\\\": \\\"response_time\\\",\\n                \\\"operator\\\": \\\"lessThan\\\",\\n                \\\"target\\\": \\\"1000\\\"\\n              }\\n            ]\\n          }\\n        },\\n        \\\"AgentGroup\\\": \\\"PC\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSiteMonitorListResponse>\\r\\n\\t<TotalCount>1</TotalCount>\\r\\n\\t<RequestId>A80DB41C-AF6C-50E1-ADB5-66DCBA3D266B</RequestId>\\r\\n\\t<Message>successful</Message>\\r\\n\\t<PageSize>10</PageSize>\\r\\n\\t<PageNumber>1</PageNumber>\\r\\n\\t<Code>200</Code>\\r\\n\\t<Success>true</Success>\\r\\n\\t<SiteMonitors>\\r\\n\\t\\t<SiteMonitor>\\r\\n\\t\\t\\t<TaskId>f5783760-1b39-4b6b-80e8-453d962a****</TaskId>\\r\\n\\t\\t\\t<Address>https://aliyun.com</Address>\\r\\n\\t\\t\\t<EndTime></EndTime>\\r\\n\\t\\t\\t<TaskName>test123</TaskName>\\r\\n\\t\\t\\t<OptionsJson>\\r\\n\\t\\t\\t\\t<response_content></response_content>\\r\\n\\t\\t\\t\\t<request_format>hex</request_format>\\r\\n\\t\\t\\t\\t<response_format>hex</response_format>\\r\\n\\t\\t\\t\\t<request_content>cf0f85</request_content>\\r\\n\\t\\t\\t\\t<port>80</port>\\r\\n\\t\\t\\t</OptionsJson>\\r\\n\\t\\t\\t<TaskType>TCP</TaskType>\\r\\n\\t\\t\\t<CreateTime>2021-11-01 11:05:18</CreateTime>\\r\\n\\t\\t\\t<UpdateTime>2022-03-08 17:14:31</UpdateTime>\\r\\n\\t\\t\\t<TaskState>1</TaskState>\\r\\n\\t\\t\\t<Interval>1</Interval>\\r\\n\\t\\t</SiteMonitor>\\r\\n\\t</SiteMonitors>\\r\\n</DescribeSiteMonitorListResponse>\\t\",\"errorExample\":\"\"}]","title":"查询站点监控任务列表","description":"本文将提供一个示例，查询当前账号的站点监控任务列表。返回结果显示，当前账号存在一条站点监控记录`HanZhou_ECS2`。","requestParamsDescription":"关于公共请求参数的详情，请参见[公共参数](~~199331~~)。","responseParamsDescription":" ","extraInfo":" "}