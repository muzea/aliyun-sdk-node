{"summary":"根据 SQLID 查询一条 SQL 在时间段内的被判定为 Slow SQL 时的执行历史。","methods":["post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"TenantId","in":"formData","schema":{"title":"租户名","description":"租户 ID。","type":"string","required":true,"docRequired":true,"example":"t384tolsj****"}},{"name":"StartTime","in":"formData","schema":{"title":"开始时间","description":"查看慢 SQL 历史参数的起始时间。  \n该时间只支持 UTC 时间，格式为：YYYY-MM-DDThh:mm:ssZ。","type":"string","required":true,"docRequired":true,"example":"2021-12-14T02:34:49Z"}},{"name":"EndTime","in":"formData","schema":{"title":"结束时间","description":"查看慢 SQL 历史参数的结束时间。  \n该时间只支持 UTC 时间，格式为：YYYY-MM-DDThh:mm:ssZ。","type":"string","required":true,"docRequired":true,"example":"2021-12-14T08:34:49Z"}},{"name":"SQLId","in":"formData","schema":{"title":"SQL唯一标识","description":"SQLID，SQL 唯一标识。","type":"string","required":true,"docRequired":true,"example":"8D6E84735C0****1823D199E2CA1****"}},{"name":"PageNumber","in":"formData","schema":{"description":"分页查询的页码。\n- 起始值：1。  \n- 默认值：1。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"formData","schema":{"description":"分页查询时设置的每页行数。\n- 最大值：100。  \n- 默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"请求的返回结果","description":"请求的返回结果。","type":"object","properties":{"RequestId":{"title":"请求ID","description":"请求 ID。","type":"string","example":"EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C"},"SlowSQLHistoryList":{"title":"慢SQL历史列表","description":"慢 SQL 历史列表信息。","type":"object","properties":{"List":{"description":"请求的返回结果。","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"SqlId":{"description":"SQLID。","type":"string","example":"8D6E84****0B8FB1823D199E2CA1****"},"SqlType":{"description":"SQL 类型。","type":"string","example":"1"},"TenantName":{"description":"租户名称。","type":"string","example":"pay_online"},"UserName":{"description":"用户名。","type":"string","example":"tester"},"ClientIp":{"description":"客户端 IP。","type":"string","example":"1*2.***.1*3.***"},"DbName":{"description":"数据库名。","type":"string","example":"testdb"},"Event":{"description":"等待事件。","type":"string","example":"mysql response wait client"},"NodeIp":{"description":"节点 IP。","type":"string","example":"i-bp18qljorblo8es*****"},"AffectedRows":{"description":"影响行数。","type":"number","format":"double","example":"0"},"BlockCacheHit":{"description":"BlockCache 命中次数。","type":"number","format":"double","example":"14"},"BlockIndexCacheHit":{"description":"BlockIndexCache 命中次数。","type":"number","format":"double","example":"4"},"BloomFilterCacheHit":{"description":"BloomFilterCache 命中次数。","type":"number","format":"double","example":"0"},"Executions":{"description":"执行次数。","type":"number","format":"double","example":"89403"},"FailTimes":{"description":"失败次数。","type":"number","format":"double","example":"0"},"RPCCount":{"description":"RPC 次数。","type":"number","format":"double","example":"0"},"RemotePlans":{"description":"远程计划数。","type":"number","format":"double","example":"0"},"MissPlans":{"description":"未命中计划次数。","type":"number","format":"double","example":"0"},"ReturnRows":{"description":"返回行数。","type":"number","format":"double","example":"1"},"LogicalRead":{"description":"逻辑读。","type":"number","format":"double","example":"19"},"RetryCount":{"description":"重试次数。","type":"number","format":"double","example":"0"},"RowCacheHit":{"description":"RowCache 命中次数。","type":"number","format":"double","example":"0"},"DiskRead":{"description":"物理读。","type":"number","format":"double","example":"0"},"MemstoreReadRowCount":{"description":"读内存行数。","type":"number","format":"double","example":"527"},"SsstoreReadRowCount":{"description":"读磁盘行数。","type":"number","format":"double","example":"43086"},"ExecPerSecond":{"description":"每秒次数。","type":"number","format":"double","example":"163.0"},"AppWaitTime":{"description":"客户端等待。","type":"number","format":"double","example":"0.0"},"ElapsedTime":{"description":"平均响应时间。","type":"number","format":"double","example":"76.382"},"ExecuteTime":{"description":"内部执行时间。","type":"number","format":"double","example":"61.044"},"QueueTime":{"description":"队列等待。","type":"number","format":"double","example":"15.275"},"ConcurrencyWaitTime":{"description":"并发等待。","type":"number","format":"double","example":"0.0"},"CpuTime":{"description":"平均 CPU 时间。","type":"number","format":"double","example":"50.13"},"DecodeTime":{"description":"解码等待。","type":"number","format":"double","example":"0.0"},"NetWaitTime":{"description":"网络等待时间，单位 ms。","type":"number","format":"double","example":"0.0"},"IOWaitTime":{"description":"IO 等待。","type":"number","format":"double","example":"0.0"},"GetPlanTime":{"description":"硬解析时间，单位 ms。","type":"number","format":"double","example":"0.052"},"MaxElapsedTime":{"description":"最大响应时间。","type":"number","format":"double","example":"260.044"},"TotalWaitTime":{"description":"内部等待。","type":"number","format":"double","example":"10.966"},"ScheduleTime":{"description":"调度时间。","type":"number","format":"double","example":"0.0"},"MaxCpuTime":{"description":"最大 CPU 时间。","type":"number","format":"double","example":"257.967"},"EndTimeUTCString":{"description":"结束时间。","type":"string","example":"2021-12-28T02:08:18Z"}}}},"Count":{"description":"数量。","type":"integer","format":"int64","example":"1"}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C\\\",\\n  \\\"SlowSQLHistoryList\\\": {\\n    \\\"List\\\": [\\n      {\\n        \\\"SqlId\\\": \\\"8D6E84****0B8FB1823D199E2CA1****\\\",\\n        \\\"SqlType\\\": \\\"1\\\",\\n        \\\"TenantName\\\": \\\"pay_online\\\",\\n        \\\"UserName\\\": \\\"tester\\\",\\n        \\\"ClientIp\\\": \\\"1*2.***.1*3.***\\\",\\n        \\\"DbName\\\": \\\"testdb\\\",\\n        \\\"Event\\\": \\\"mysql response wait client\\\",\\n        \\\"NodeIp\\\": \\\"i-bp18qljorblo8es*****\\\",\\n        \\\"AffectedRows\\\": 0,\\n        \\\"BlockCacheHit\\\": 14,\\n        \\\"BlockIndexCacheHit\\\": 4,\\n        \\\"BloomFilterCacheHit\\\": 0,\\n        \\\"Executions\\\": 89403,\\n        \\\"FailTimes\\\": 0,\\n        \\\"RPCCount\\\": 0,\\n        \\\"RemotePlans\\\": 0,\\n        \\\"MissPlans\\\": 0,\\n        \\\"ReturnRows\\\": 1,\\n        \\\"LogicalRead\\\": 19,\\n        \\\"RetryCount\\\": 0,\\n        \\\"RowCacheHit\\\": 0,\\n        \\\"DiskRead\\\": 0,\\n        \\\"MemstoreReadRowCount\\\": 527,\\n        \\\"SsstoreReadRowCount\\\": 43086,\\n        \\\"ExecPerSecond\\\": 163,\\n        \\\"AppWaitTime\\\": 0,\\n        \\\"ElapsedTime\\\": 76.382,\\n        \\\"ExecuteTime\\\": 61.044,\\n        \\\"QueueTime\\\": 15.275,\\n        \\\"ConcurrencyWaitTime\\\": 0,\\n        \\\"CpuTime\\\": 50.13,\\n        \\\"DecodeTime\\\": 0,\\n        \\\"NetWaitTime\\\": 0,\\n        \\\"IOWaitTime\\\": 0,\\n        \\\"GetPlanTime\\\": 0.052,\\n        \\\"MaxElapsedTime\\\": 260.044,\\n        \\\"TotalWaitTime\\\": 10.966,\\n        \\\"ScheduleTime\\\": 0,\\n        \\\"MaxCpuTime\\\": 257.967,\\n        \\\"EndTimeUTCString\\\": \\\"2021-12-28T02:08:18Z\\\"\\n      }\\n    ],\\n    \\\"Count\\\": 1\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSlowSQLHistoryListResponse>\\n    <RequestId>EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C</RequestId>\\n    <SlowSQLHistoryList>\\n        <List>\\n            <SqlId>8D6E84****0B8FB1823D199E2CA1****</SqlId>\\n            <SqlType>1</SqlType>\\n            <TenantName>pay_online</TenantName>\\n            <UserName>tester</UserName>\\n            <ClientIp>1*2.***.1*3.***</ClientIp>\\n            <DbName>testdb</DbName>\\n            <Event>mysql response wait client</Event>\\n            <NodeIp>i-bp18qljorblo8es*****</NodeIp>\\n            <AffectedRows>0</AffectedRows>\\n            <BlockCacheHit>14</BlockCacheHit>\\n            <BlockIndexCacheHit>4</BlockIndexCacheHit>\\n            <BloomFilterCacheHit>0</BloomFilterCacheHit>\\n            <Executions>89403</Executions>\\n            <FailTimes>0</FailTimes>\\n            <RPCCount>0</RPCCount>\\n            <RemotePlans>0</RemotePlans>\\n            <MissPlans>0</MissPlans>\\n            <ReturnRows>1</ReturnRows>\\n            <LogicalRead>19</LogicalRead>\\n            <RetryCount>0</RetryCount>\\n            <RowCacheHit>0</RowCacheHit>\\n            <DiskRead>0</DiskRead>\\n            <MemstoreReadRowCount>527</MemstoreReadRowCount>\\n            <SsstoreReadRowCount>43086</SsstoreReadRowCount>\\n            <ExecPerSecond>163</ExecPerSecond>\\n            <AppWaitTime>0</AppWaitTime>\\n            <ElapsedTime>76.382</ElapsedTime>\\n            <ExecuteTime>61.044</ExecuteTime>\\n            <QueueTime>15.275</QueueTime>\\n            <ConcurrencyWaitTime>0</ConcurrencyWaitTime>\\n            <CpuTime>50.13</CpuTime>\\n            <DecodeTime>0</DecodeTime>\\n            <NetwaitTime>0</NetwaitTime>\\n            <IOWaitTime>0</IOWaitTime>\\n            <GetplanTime>0.052</GetplanTime>\\n            <MaxElapsedTime>260.044</MaxElapsedTime>\\n            <TotalWaitTime>10.966</TotalWaitTime>\\n            <ScheduleTime>0</ScheduleTime>\\n            <MaxCpuTime>257.967</MaxCpuTime>\\n            <EndTimeUTCString>2021-12-28T02:08:18Z</EndTimeUTCString>\\n        </List>\\n        <Count>1</Count>\\n    </SlowSQLHistoryList>\\n</DescribeSlowSQLHistoryListResponse>\",\"errorExample\":\"\"}]","title":"查询慢 SQL 历史列表","description":"为优化用户体验，云数据库对 SQL 诊断功能进行了升级，本接口已下线并由新的接口替代，详情请参见 <props=\"china\">[【通知】云数据库诊断管理 API 接口下线](https://help.aliyun.com/document_detail/2352272.html?spm=a2c4g.292641.0.0.8d3622f8LtqWiM)</props><props=\"intl\">[【通知】云数据库诊断管理 API 接口下线](https://www.alibabacloud.com/help/zh/apsaradb-for-oceanbase/latest/notice-cloud-database-diagnosis-management-api-interface-downline)</props>。"}