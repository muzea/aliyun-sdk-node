{"summary":"根据 SQLID 查询一条 SQL 在时间段内的执行历史。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"list"},"parameters":[{"name":"TenantId","in":"formData","schema":{"title":"租户ID","description":"租户 ID。","type":"string","required":true,"docRequired":true,"example":"t2mr3oae0****"}},{"name":"StartTime","in":"formData","schema":{"title":"参数历史查看的起始时间。","description":"查看 SQL 执行历史参数的起始时间。  \n该时间只支持 UTC 时间，格式为：YYYY-MM-DDThh:mm:ssZ。","type":"string","required":true,"docRequired":true,"example":"2021-06-13T15:40:43Z"}},{"name":"EndTime","in":"formData","schema":{"title":"参数历史查看的结束时间。","description":"查看 SQL 执行历史参数的结束时间。  \n该时间只支持 UTC 时间，格式为：YYYY-MM-DDThh:mm:ssZ。","type":"string","required":true,"docRequired":true,"example":"2021-09-13T15:40:43Z"}},{"name":"SQLId","in":"formData","schema":{"title":"SQLID","description":"SQLID。","type":"string","required":true,"docRequired":true,"example":"8D6E84****0B8FB1823D199E2CA1****"}},{"name":"PageNumber","in":"formData","schema":{"title":"页码","description":"页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"formData","schema":{"title":"每页数量","description":"每页数量。  \n默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"title":"请求的返回结果","description":"请求的返回结果。","type":"object","properties":{"RequestId":{"title":"请求ID。","description":"请求 ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"SQLHistoryList":{"title":"SQL历史信息","description":"SQL 历史信息。","type":"object","properties":{"List":{"title":"列表","description":"SQL 历史信息。","type":"array","items":{"description":"SQL 历史列表信息。","type":"object","properties":{"ExecPerSecond":{"title":"每秒次数","description":"每秒次数。","type":"integer","format":"int64","example":"163.0"},"MaxCpuTime":{"title":"最大CPU时间","description":"最大 CPU 时间。","type":"number","format":"float","example":"257.967"},"BlockCacheHit":{"title":"BlockCache命中次数","description":"BlockCache 命中次数。","type":"integer","format":"int64","example":"14"},"DecodeTime":{"title":"解码等待","description":"解码等待。","type":"number","format":"float","example":"0.0"},"RemotePlans":{"title":"远程计划数","description":"远程计划数。","type":"integer","format":"int64","example":"0"},"RPCCount":{"title":"RPC次数","description":"RPC 次数。","type":"integer","format":"int64","example":"0"},"NetWaitTime":{"title":"网络等待","description":"网络等待。","type":"number","format":"float","example":"0.0"},"DiskRead":{"title":"物理读","description":"物理读。","type":"integer","format":"int64","example":"0"},"NodeIp":{"title":"节点IP","description":"节点 IP。","type":"string","example":"i-bp18qljorblo8es*****"},"ConcurrencyWaitTime":{"title":"并发等待","description":"并发等待。","type":"number","format":"float","example":"0.0"},"DbName":{"title":"数据库名","description":"数据库名。","type":"string","example":"testdb"},"MemstoreReadRowCount":{"title":"读内存行数","description":"读内存行数。","type":"integer","format":"int64","example":"527"},"AppWaitTime":{"title":"客户端等待","description":"客户端等待。","type":"number","format":"float","example":"0.0"},"ElapsedTime":{"title":"平均响应时间","description":"平均响应时间。","type":"number","format":"float","example":"76.382"},"MissPlans":{"title":"未命中计划次数","description":"未命中计划次数。","type":"integer","format":"int64","example":"0"},"AffectedRows":{"title":"影响行数","description":"影响行数。","type":"integer","format":"int64","example":"0"},"ScheduleTime":{"title":"调度时间","description":"调度时间。","type":"number","format":"float","example":"0.0"},"Event":{"title":"等待事件","description":"等待事件。","type":"string","example":"mysql response wait client"},"TotalWaitTime":{"title":"内部等待","description":"内部等待。","type":"number","format":"float","example":"10.966"},"ReturnRows":{"title":"返回行数","description":"返回行数。","type":"integer","format":"int64","example":"1"},"ExecuteTime":{"title":"内部执行时间","description":"内部执行时间。","type":"number","format":"float","example":"61.044"},"UserName":{"title":"用户名","description":"用户名。","type":"string","example":"tester"},"Executions":{"title":"执行次数","description":"执行次数。","type":"integer","format":"int64","example":"89403"},"GetPlanTime":{"title":"硬解析时间","description":"硬解析时间。","type":"number","format":"float","example":"0.052"},"CpuTime":{"title":"平均CPU时间","description":"平均 CPU 时间。","type":"number","format":"float","example":"50.13"},"MaxElapsedTime":{"title":"最大响应时间","description":"最大响应时间。","type":"number","format":"float","example":"260.44"},"BlockIndexCacheHit":{"title":"BlockIndexCache命中次数","description":"BlockIndexCache 命中次数。","type":"integer","format":"int64","example":"4"},"EndTimeUTCString":{"title":"结束时间（零时区）","description":"结束时间（零时区）。","type":"string","example":"2021-12-28T02:08:18Z"},"EndTime":{"title":"结束时间","description":"结束时间。","type":"integer","format":"int64","example":"2021-12-28T02:08:18Z"},"RetryCount":{"title":"重试次数","description":"重试次数。","type":"integer","format":"int64","example":"0"},"ClientIp":{"title":"客户端IP","description":"客户端 IP。","type":"string","example":"1*2.***.1*3.***"},"BloomFilterCacheHit":{"title":"BloomFilterCache命中次数","description":"BloomFilterCache 命中次数。","type":"integer","format":"int64","example":"0"},"IOWaitTime":{"title":"IO等待","description":"IO 等待。","type":"number","format":"float","example":"0.0"},"FailTimes":{"title":"失败次数","description":"失败次数。","type":"integer","format":"int64","example":"0"},"QueueTime":{"title":"队列等待","description":"队列等待。","type":"number","format":"float","example":"15.275"},"RowCacheHit":{"title":"RowCache命中次数","description":"RowCache 命中次数。","type":"integer","format":"int64","example":"0"},"LogicalRead":{"title":"逻辑读","description":"逻辑读。","type":"integer","format":"int64","example":"19"},"SsstoreReadRowCount":{"title":"读磁盘行数","description":"读磁盘行数。","type":"integer","format":"int64","example":"43086"}}}},"Count":{"title":"数量","description":"数量。","type":"integer","format":"int64","example":"1"}}}}}}},"errorCodes":{"2014":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"SQLHistoryList\\\": {\\n    \\\"List\\\": [\\n      {\\n        \\\"ExecPerSecond\\\": 163,\\n        \\\"MaxCpuTime\\\": 257.967,\\n        \\\"BlockCacheHit\\\": 14,\\n        \\\"DecodeTime\\\": 0,\\n        \\\"RemotePlans\\\": 0,\\n        \\\"RPCCount\\\": 0,\\n        \\\"NetWaitTime\\\": 0,\\n        \\\"DiskRead\\\": 0,\\n        \\\"NodeIp\\\": \\\"i-bp18qljorblo8es*****\\\",\\n        \\\"ConcurrencyWaitTime\\\": 0,\\n        \\\"DbName\\\": \\\"testdb\\\",\\n        \\\"MemstoreReadRowCount\\\": 527,\\n        \\\"AppWaitTime\\\": 0,\\n        \\\"ElapsedTime\\\": 76.382,\\n        \\\"MissPlans\\\": 0,\\n        \\\"AffectedRows\\\": 0,\\n        \\\"ScheduleTime\\\": 0,\\n        \\\"Event\\\": \\\"mysql response wait client\\\",\\n        \\\"TotalWaitTime\\\": 10.966,\\n        \\\"ReturnRows\\\": 1,\\n        \\\"ExecuteTime\\\": 61.044,\\n        \\\"UserName\\\": \\\"tester\\\",\\n        \\\"Executions\\\": 89403,\\n        \\\"GetPlanTime\\\": 0.052,\\n        \\\"CpuTime\\\": 50.13,\\n        \\\"MaxElapsedTime\\\": 260.44,\\n        \\\"BlockIndexCacheHit\\\": 4,\\n        \\\"EndTimeUTCString\\\": \\\"2021-12-28T02:08:18Z\\\",\\n        \\\"EndTime\\\": 0,\\n        \\\"RetryCount\\\": 0,\\n        \\\"ClientIp\\\": \\\"1*2.***.1*3.***\\\",\\n        \\\"BloomFilterCacheHit\\\": 0,\\n        \\\"IOWaitTime\\\": 0,\\n        \\\"FailTimes\\\": 0,\\n        \\\"QueueTime\\\": 15.275,\\n        \\\"RowCacheHit\\\": 0,\\n        \\\"LogicalRead\\\": 19,\\n        \\\"SsstoreReadRowCount\\\": 43086\\n      }\\n    ],\\n    \\\"Count\\\": 1\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeSQLHistoryListResponse>\\n    <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E</RequestId>\\n    <SQLHistoryList>\\n        <List>\\n            <MaxCpuTime>257.967</MaxCpuTime>\\n            <BlockCacheHit>14</BlockCacheHit>\\n            <DecodeTime>0</DecodeTime>\\n            <RemotePlans>0</RemotePlans>\\n            <RPCCount>0</RPCCount>\\n            <NetWaitTime>0</NetWaitTime>\\n            <DiskRead>0</DiskRead>\\n            <NodeIp>i-bp18qljorblo8es*****</NodeIp>\\n            <ConcurrencyWaitTime>0</ConcurrencyWaitTime>\\n            <DbName>testdb</DbName>\\n            <MemstoreReadRowCount>527</MemstoreReadRowCount>\\n            <AppWaitTime>0</AppWaitTime>\\n            <ElapsedTime>76.382</ElapsedTime>\\n            <MissPlans>0</MissPlans>\\n            <AffectedRows>0</AffectedRows>\\n            <ScheduleTime>0</ScheduleTime>\\n            <Event>mysql response wait client</Event>\\n            <TotalWaitTime>10.966</TotalWaitTime>\\n            <ReturnRows>1</ReturnRows>\\n            <ExecuteTime>61.044</ExecuteTime>\\n            <UserName>tester</UserName>\\n            <Executions>89403</Executions>\\n            <GetPlanTime>0.052</GetPlanTime>\\n            <CpuTime>50.13</CpuTime>\\n            <MaxElapsedTime>260.44</MaxElapsedTime>\\n            <BlockIndexCacheHit>4</BlockIndexCacheHit>\\n            <EndTimeUTCString>2021-12-28T02:08:18Z</EndTimeUTCString>\\n            <RetryCount>0</RetryCount>\\n            <ClientIp>1*2.***.1*3.***</ClientIp>\\n            <BloomFilterCacheHit>0</BloomFilterCacheHit>\\n            <IOWaitTime>0</IOWaitTime>\\n            <FailTimes>0</FailTimes>\\n            <QueueTime>15.275</QueueTime>\\n            <RowCacheHit>0</RowCacheHit>\\n            <LogicalRead>19</LogicalRead>\\n            <SsstoreReadRowCount>43086</SsstoreReadRowCount>\\n        </List>\\n        <Count>1</Count>\\n    </SQLHistoryList>\\n</DescribeSQLHistoryListResponse>\",\"errorExample\":\"\"}]","title":"查询 SQL 执行历史","description":"为优化用户体验，云数据库对 SQL 诊断功能进行了升级，本接口已下线并由新的接口替代，详情请参见 <props=\"china\">[【通知】云数据库诊断管理 API 接口下线](https://help.aliyun.com/document_detail/2352272.html?spm=a2c4g.292641.0.0.8d3622f8LtqWiM)</props><props=\"intl\">[【通知】云数据库诊断管理 API 接口下线](https://www.alibabacloud.com/help/zh/apsaradb-for-oceanbase/latest/notice-cloud-database-diagnosis-management-api-interface-downline)</props>。"}