{"summary":"查询某个 OceanBase 集群的拓扑信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"InstanceId","in":"formData","schema":{"title":"Oceanbase集群ID。","description":"Oceanbase 集群 ID。","type":"string","required":true,"docRequired":true,"example":"ob317v4uif****"}}],"responses":{"200":{"schema":{"title":"请求的返回结果。","description":"请求的返回结果。","type":"object","properties":{"RequestId":{"title":"请求ID。","description":"请求 ID。","type":"string","example":"EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C"},"InstanceTopology":{"title":"集群的拓扑信息。","description":"集群的拓扑信息。","type":"object","properties":{"Tenants":{"title":"租户信息。","description":"租户列表信息。","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"TenantId":{"title":"租户ID。","description":"租户 ID。","type":"string","example":"t33h8y08k****"},"TenantName":{"title":"租户名称。","description":"租户名称。","type":"string","example":"pay_online"},"TenantCpu":{"title":"租户CPU，单位：核。","description":"租户 CPU，单位：核。","type":"number","format":"float","example":"2"},"TenantMemory":{"title":"租户内存大小，单位：GB。","description":"租户内存大小，单位：GB。","type":"number","format":"float","example":"10"},"TenantMode":{"title":"租户模式。 - Oracle：Oracle模式 - MySQL：MySQL模式。","description":"租户模式。  \n- Oracle：Oracle模式。  \n- MySQL：MySQL模式。","type":"string","example":"Oracle"},"TenantZones":{"title":"租户的可用区信息。","description":"租户的可用区列表信息。","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"TenantZoneRole":{"title":"可用区的访问角色。 - ReadWrite：可读可写 - ReadOnly：只读。","description":"可用区的访问角色。  \n - ReadWrite：可读可写；\n - ReadOnly：只读。","type":"string","example":"ReadWrite"},"IsPrimaryTenantZone":{"description":"是否为主可用区。","type":"boolean","example":"true"},"TenantZoneId":{"title":"可用区ID。","description":"可用区 ID。","type":"string","example":"cn-hangzhou-h"},"Units":{"title":"资源节点信息列表","description":"资源节点信息列表","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"UnitId":{"title":"资源节点ID","description":"资源节点 ID。","type":"string","example":"1002"},"UnitStatus":{"title":"资源节点的状态。 ONLINE: 运行中 IMMIGRATING 迁入中 EMIGRATING: 迁出中 CANCEL_EMIGRATING: 取消迁入中 CANCEL_EMIGRATING：取消迁出中 DELETING：删除中","description":"资源节点的状态。\n- ONLINE: 运行中；\n- IMMIGRATING：迁入中；\n- EMIGRATING: 迁出中；\n- CANCEL_EMIGRATING: 取消迁入中；\n- CANCEL_EMIGRATING：取消迁出中；\n- DELETING：删除中。","type":"string","example":"ONLINE"},"NodeId":{"title":"资源节点所在的observer节点ID","description":"资源节点所在的 OBServer 节点 ID。","type":"string","example":"i-bp16niirq4zdmgvm****"},"UnitCpu":{"title":"资源节点CPU，单位：核。","description":"资源节点CPU，单位：核。","type":"number","format":"float","example":"2"},"UnitMemory":{"title":"资源节点内存大小，单位：GB。","description":"资源节点内存大小，单位：GB。","type":"number","format":"float","example":"10"},"EnableMigrateUnit":{"title":"是否可做迁移。","description":"是否可做迁移。","type":"boolean","example":"true"},"ManualMigrate":{"title":"是否为手动迁移。","description":"是否为手动迁移。","type":"boolean","example":"true"},"EnableCancelMigrateUnit":{"title":"是否可以取消迁移。该字段只对正在手动迁入中或手动迁出中的unit有效。","description":"是否可以取消迁移。  \n该字段只对正在手动迁入中或手动迁出中的 unit 有效。","type":"boolean","example":"true"},"UnitDataSize":{"title":"Unit使用的数据量大小。","description":"Unit使用的数据量大小。","type":"integer","format":"int64","example":"10"},"ReplicaType":{"type":"string"}}}},"LogicalZone":{"title":"副本ID","description":"副本ID","type":"string"},"ReplicaType":{"title":"租户的副本类型","description":"租户的副本类型","type":"string"}}}},"TenantStatus":{"title":"租户状态。 - PENDING_CREATE: 创建中 - RESTORE: 恢复中 - ONLINE: 运行中 - SPEC_MODIFYING: 规格修改中 - ALLOCATING_INTERNET_ADDRESS: 公网地址分配中 - PENDING_OFFLINE_INTERNET_ADDRESS: 公网地址关闭中 - PRIMARY_ZONE_MODIFYING: 切主可用区中 - PARAMETER_MODIFYING: 参数修改中 - WHITE_LIST_MODIFING: 白名单修改中","description":"租户状态。  \n- PENDING_CREATE: 创建中。  \n- RESTORE: 恢复中。  \n- ONLINE: 运行中。  \n- SPEC_MODIFYING: 规格修改中。  \n- ALLOCATING_INTERNET_ADDRESS: 公网地址分配中。  \n- PENDING_OFFLINE_INTERNET_ADDRESS: 公网地址关闭中。  \n- PRIMARY_ZONE_MODIFYING: 切主可用区中。  \n- PARAMETER_MODIFYING: 参数修改中。  \n- WHITE_LIST_MODIFING: 白名单修改中。  ","type":"string","example":"ONLINE"},"TenantDeployType":{"title":"租户的部署类型。 - multiple：多机房 - single：单机房 - dual：双机房。","description":"租户的部署类型。\n- multiple：多机房。  \n- single：单机房。  \n- dual：双机房。","type":"string","example":"multiple"},"TenantUnitNum":{"title":"租户的unit个数。","description":"租户的 unit 个数。","type":"integer","format":"int32","example":"1"},"PrimaryZoneDeployType":{"title":"主可用区部署模式","description":"主可用区部署模式。","type":"string","enumValueTitles":{"RANDOM":"RANDOM","STATIC":"STATIC"},"example":"RANDOM"},"TenantDiskSize":{"title":"租户数据量","description":"租户数据量","type":"number","format":"float"},"TenantUnitCpu":{"title":"租户单节点CPU","description":"租户单节点CPU","type":"number","format":"float"},"TenantUnitMemory":{"title":"租户单节点内存","description":"租户单节点内存","type":"number","format":"float"}}}},"Zones":{"title":"集群的可用区信息。","description":"集群的可用区信息。","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"ZoneId":{"title":"可用区ID。","description":"可用区 ID。","type":"string","example":"cn-hangzhou-i"},"Region":{"title":"地域ID。","description":"地域 ID。","type":"string","example":"cn-hangzhou"},"ZoneDisk":{"title":"可用区的存储容量。","description":"可用区的存储容量。","type":"string","example":"200 GB"},"Nodes":{"title":"节点信息。","description":"节点列表信息。","type":"array","items":{"description":"请求的返回结果。","type":"object","properties":{"NodeId":{"title":"节点ID。","description":"节点 ID。","type":"string","example":"i-bp16niirq4zdmgvm****"},"NodeCopyId":{"title":"节点归属的副本ID。","description":"节点归属的副本 ID。","type":"integer","format":"int64","example":"1"},"NodeStatus":{"title":"节点运行状态。","description":"节点运行状态。","type":"string","example":"ONLINE"},"NodeResource":{"title":"节点资源列表信息","description":"节点资源列表信息。","type":"object","properties":{"Cpu":{"title":"节点CPU资源信息。","description":"节点CPU资源信息。","type":"object","properties":{"UsedCpu":{"title":"节点已使用的CPU，单位：核。","description":"节点已使用的CPU，单位：核。","type":"number","format":"float","example":"4"},"TotalCpu":{"title":"节点总的CPU，单位：核。","description":"节点总的CPU，单位：核。","type":"integer","format":"int32","example":"14"}}},"Memory":{"title":"节点内存资源信息。","description":"节点内存资源信息。","type":"object","properties":{"UsedMemory":{"title":"节点已使用的内存，单位：GB。","description":"节点已使用的内存，单位：GB。","type":"number","format":"float","example":"10"},"TotalMemory":{"title":"节点的总内存，单位：GB。","description":"节点的总内存，单位：GB。","type":"integer","format":"int64","example":"70"}}},"DiskSize":{"title":"节点存储资源信息。","description":"节点存储资源信息。","type":"object","properties":{"TotalDiskSize":{"title":"节点总存储空间，单位：GB。","description":"节点总存储空间，单位：GB。","type":"number","format":"double"},"UsedDiskSize":{"title":"节点已使用的存储空间，单位：GB。","description":"节点已使用的存储空间，单位：GB。","type":"number","format":"double"}}}}},"ReplicaType":{"type":"string"},"FullCopyId":{"type":"integer","format":"int64"},"ReadOnlyCopyId":{"type":"integer","format":"int64"},"LogicalZone":{"title":"副本ID","description":"副本ID","type":"string"}}}},"ZoneResource":{"title":"zone资源信息","description":"可用区信息。","type":"object","properties":{"DiskSize":{"title":"存储资源信息","description":"节点存储资源信息。","type":"object","properties":{"MaxDiskUsedPercent":{"title":"最大磁盘使用量百分比","description":"磁盘使用率最大值（百分比）。","type":"number","format":"double","example":"0.14"},"MaxDiskUsedObServer":{"description":"磁盘服务器使用率最大值。","type":"array","items":{"description":"磁盘服务器使用率最大值。","type":"string","example":"i-bp1fhj23fs32dfbg4****"}}}}}}}}},"Replicas":{"type":"array","items":{"type":"object","properties":{"LogicalZone":{"title":"副本ID","description":"副本ID","type":"string"},"NodeNum":{"title":"副本节点数","description":"副本节点数","type":"integer","format":"int32"},"ZoneLogicalName":{"title":"副本地域","description":"副本地域","type":"string"},"ZoneRegionName":{"title":"副本可用区","description":"副本可用区","type":"string"},"ReplicaResource":{"type":"object","properties":{"Memory":{"type":"object","properties":{"UsedMemory":{"title":"副本已使用内存","description":"副本已使用内存","type":"integer","format":"int64"},"TotalMemory":{"title":"副本总内存","description":"副本总内存","type":"integer","format":"int64"}}},"DiskSize":{"type":"object","properties":{"UsedDiskSize":{"title":"副本已使用数据量","description":"副本已使用数据量","type":"number","format":"float"},"TotalDiskSize":{"title":"副本总数据量","description":"副本总数据量","type":"integer","format":"int64"}}},"Cpu":{"type":"object","properties":{"TotalCpu":{"title":"副本总CPU","description":"副本总CPU","type":"integer","format":"int32"},"UsedCpu":{"title":"副本已使用CPU","description":"副本已使用CPU","type":"integer","format":"int32"}}}}},"ZoneLogicalId":{"title":"副本编号","description":"副本编号","type":"integer","format":"int32"},"ReplicaType":{"title":"副本类型","description":"副本类型","type":"string"},"Status":{"title":"副本状态，返回枚举类型（ACTIVE/INACTIVE/UNKNOWN）","description":"副本状态，返回枚举类型（ACTIVE/INACTIVE/UNKNOWN）","type":"string","enum":["ACTIVE","INACTIVE","UNKNOWN"]}}}}}}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C\\\",\\n  \\\"InstanceTopology\\\": {\\n    \\\"Tenants\\\": [\\n      {\\n        \\\"TenantId\\\": \\\"t33h8y08k****\\\",\\n        \\\"TenantName\\\": \\\"pay_online\\\",\\n        \\\"TenantCpu\\\": 2,\\n        \\\"TenantMemory\\\": 10,\\n        \\\"TenantMode\\\": \\\"Oracle\\\",\\n        \\\"TenantZones\\\": [\\n          {\\n            \\\"TenantZoneRole\\\": \\\"ReadWrite\\\",\\n            \\\"IsPrimaryTenantZone\\\": true,\\n            \\\"TenantZoneId\\\": \\\"cn-hangzhou-h\\\",\\n            \\\"Units\\\": [\\n              {\\n                \\\"UnitId\\\": \\\"1002\\\",\\n                \\\"UnitStatus\\\": \\\"ONLINE\\\",\\n                \\\"NodeId\\\": \\\"i-bp16niirq4zdmgvm****\\\",\\n                \\\"UnitCpu\\\": 2,\\n                \\\"UnitMemory\\\": 10,\\n                \\\"EnableMigrateUnit\\\": true,\\n                \\\"ManualMigrate\\\": true,\\n                \\\"EnableCancelMigrateUnit\\\": true,\\n                \\\"UnitDataSize\\\": 10,\\n                \\\"ReplicaType\\\": \\\"\\\"\\n              }\\n            ],\\n            \\\"LogicalZone\\\": \\\"\\\",\\n            \\\"ReplicaType\\\": \\\"\\\"\\n          }\\n        ],\\n        \\\"TenantStatus\\\": \\\"ONLINE\\\",\\n        \\\"TenantDeployType\\\": \\\"multiple\\\",\\n        \\\"TenantUnitNum\\\": 1,\\n        \\\"PrimaryZoneDeployType\\\": \\\"RANDOM\\\",\\n        \\\"TenantDiskSize\\\": 0,\\n        \\\"TenantUnitCpu\\\": 0,\\n        \\\"TenantUnitMemory\\\": 0\\n      }\\n    ],\\n    \\\"Zones\\\": [\\n      {\\n        \\\"ZoneId\\\": \\\"cn-hangzhou-i\\\",\\n        \\\"Region\\\": \\\"cn-hangzhou\\\",\\n        \\\"ZoneDisk\\\": \\\"200 GB\\\",\\n        \\\"Nodes\\\": [\\n          {\\n            \\\"NodeId\\\": \\\"i-bp16niirq4zdmgvm****\\\",\\n            \\\"NodeCopyId\\\": 1,\\n            \\\"NodeStatus\\\": \\\"ONLINE\\\",\\n            \\\"NodeResource\\\": {\\n              \\\"Cpu\\\": {\\n                \\\"UsedCpu\\\": 4,\\n                \\\"TotalCpu\\\": 14\\n              },\\n              \\\"Memory\\\": {\\n                \\\"UsedMemory\\\": 10,\\n                \\\"TotalMemory\\\": 70\\n              },\\n              \\\"DiskSize\\\": {\\n                \\\"TotalDiskSize\\\": 0,\\n                \\\"UsedDiskSize\\\": 0\\n              }\\n            },\\n            \\\"ReplicaType\\\": \\\"\\\",\\n            \\\"FullCopyId\\\": 0,\\n            \\\"ReadOnlyCopyId\\\": 0,\\n            \\\"LogicalZone\\\": \\\"\\\"\\n          }\\n        ],\\n        \\\"ZoneResource\\\": {\\n          \\\"DiskSize\\\": {\\n            \\\"MaxDiskUsedPercent\\\": 0.14,\\n            \\\"MaxDiskUsedObServer\\\": [\\n              \\\"i-bp1fhj23fs32dfbg4****\\\"\\n            ]\\n          }\\n        }\\n      }\\n    ],\\n    \\\"Replicas\\\": [\\n      {\\n        \\\"LogicalZone\\\": \\\"\\\",\\n        \\\"NodeNum\\\": 0,\\n        \\\"ZoneLogicalName\\\": \\\"\\\",\\n        \\\"ZoneRegionName\\\": \\\"\\\",\\n        \\\"ReplicaResource\\\": {\\n          \\\"Memory\\\": {\\n            \\\"UsedMemory\\\": 0,\\n            \\\"TotalMemory\\\": 0\\n          },\\n          \\\"DiskSize\\\": {\\n            \\\"UsedDiskSize\\\": 0,\\n            \\\"TotalDiskSize\\\": 0\\n          },\\n          \\\"Cpu\\\": {\\n            \\\"TotalCpu\\\": 0,\\n            \\\"UsedCpu\\\": 0\\n          }\\n        },\\n        \\\"ZoneLogicalId\\\": 0,\\n        \\\"ReplicaType\\\": \\\"\\\",\\n        \\\"Status\\\": \\\"\\\"\\n      }\\n    ]\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeInstanceTopologyResponse>\\n    <RequestId>EE205C00-30E4-XXXX-XXXX-87E3A8A2AA0C</RequestId>\\n    <InstanceTopology>\\n        <Tenants>\\n            <TenantId>t33h8y08k****</TenantId>\\n            <TenantName>pay_online</TenantName>\\n            <TenantCpu>2</TenantCpu>\\n            <TenantMemory>10</TenantMemory>\\n            <TenantMode>Oracle</TenantMode>\\n            <TenantZones>\\n                <TenantZoneRole>ReadWrite</TenantZoneRole>\\n                <IsPrimaryTenantZone>true</IsPrimaryTenantZone>\\n                <TenantZoneId>cn-hangzhou-h</TenantZoneId>\\n                <Units>\\n                    <UnitId>1002</UnitId>\\n                    <UnitStatus>ONLINE</UnitStatus>\\n                    <NodeId>i-bp16niirq4zdmgvm****</NodeId>\\n                    <UnitCpu>2</UnitCpu>\\n                    <UnitMemory>10</UnitMemory>\\n                    <EnableMigrateUnit>true</EnableMigrateUnit>\\n                    <ManualMigrate>true</ManualMigrate>\\n                    <EnableCancelMigrateUnit>true</EnableCancelMigrateUnit>\\n                </Units>\\n            </TenantZones>\\n            <TenantStatus>ONLINE</TenantStatus>\\n            <TenantDeployType>multiple</TenantDeployType>\\n            <TenantUnitNum>1</TenantUnitNum>\\n        </Tenants>\\n        <Zones>\\n            <ZoneId>cn-hangzhou-i</ZoneId>\\n            <Region>cn-hangzhou</Region>\\n            <ZoneDisk>200 GB</ZoneDisk>\\n            <Nodes>\\n                <NodeId>i-bp16niirq4zdmgvm****</NodeId>\\n                <NodeCopyId>1</NodeCopyId>\\n                <NodeStatus>ONLINE</NodeStatus>\\n                <NodeResource>\\n                    <Cpu>\\n                        <UsedCpu>4</UsedCpu>\\n                        <TotalCpu>14</TotalCpu>\\n                    </Cpu>\\n                    <Memory>\\n                        <UsedMemory>10</UsedMemory>\\n                        <TotalMemory>70</TotalMemory>\\n                    </Memory>\\n                    <DiskSize>\\n                        <TotalDiskSize>400</TotalDiskSize>\\n                        <UsedDiskSize>200</UsedDiskSize>\\n                    </DiskSize>\\n                </NodeResource>\\n            </Nodes>\\n            <ZoneResource>\\n                <DiskSize>\\n                    <MaxDiskUsedPercent>0.14</MaxDiskUsedPercent>\\n                    <MaxDiskUsedObServer>i-bp1fhj23fs32dfbg4****</MaxDiskUsedObServer>\\n                </DiskSize>\\n            </ZoneResource>\\n        </Zones>\\n    </InstanceTopology>\\n</DescribeInstanceTopologyResponse>\",\"errorExample\":\"\"}]","title":"查询集群拓扑信息"}