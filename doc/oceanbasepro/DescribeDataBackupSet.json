{"summary":"查询 OceanBase 备份集信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{},"parameters":[{"name":"InstanceId","in":"formData","schema":{"title":"集群ID","description":"OceanBase 集群 ID。","type":"string","required":true,"docRequired":true,"example":"ob317v4uif****"}},{"name":"Status","in":"formData","schema":{"title":"按照备份集状态查询","description":"按照备份集状态查询。","type":"string","required":false,"example":"DONE","enum":["BEGINNING","DOING","DONE","FAILED","OVERDUE","UNKNOWN"]}},{"name":"BackupObjectType","in":"formData","schema":{"title":"按照备份对象类型查询","description":"按照备份对象类型查询。","type":"string","required":false,"example":"tenant","enum":["cluster","tenant","table","database"]}},{"name":"StartTime","in":"formData","schema":{"description":"开始时间，\n\n格式：<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":false,"docRequired":true,"example":"2022-12-27T16:00:00Z"}},{"name":"EndTime","in":"formData","schema":{"description":"备份集结束时间。","type":"string","required":false,"example":"2023-01-06T15:59:59Z"}},{"name":"PageNumber","in":"formData","schema":{"description":"页码。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"PageSize","in":"formData","schema":{"description":"每页数量。  \n默认值：10。","type":"integer","format":"int32","required":false,"example":"10"}}],"responses":{"200":{"schema":{"description":"请求的返回结果。","type":"object","properties":{"TotalCount":{"description":"总记录数。","type":"integer","format":"int32","example":"2"},"RequestId":{"description":"请求 ID。","type":"string","example":"EE205C00-30E4-****-****-87E3A8A2AA0C"},"Data":{"description":"备份集详情。","type":"array","items":{"description":"备份集详情。","type":"object","properties":{"EndTime":{"description":"备份结束时间。","type":"string","example":"2023-04-13T03:38:10Z"},"Status":{"description":"备份集状态。","type":"string","example":"RUNNING"},"Type":{"description":"备份类型。","type":"string","example":"manual"},"StartTime":{"description":"备份开始时间。","type":"string","example":"2020-05-22T17:04:18"},"DataSize":{"description":"备份集数据大小。","type":"integer","format":"int32","example":"31457280"},"Policy":{"description":"备份策略。","type":"string","example":"automated"},"SetId":{"description":"备份集 ID。","type":"integer","format":"int32","example":"imm-test-set-cb****ee-b7d7-11ed-956f-****3e10bd70"},"Method":{"description":"备份方法。","type":"string","example":"logical"},"Checkpoint":{"description":"位点时间。","type":"string","example":"2023-05-15T07:11:08Z"},"DataVersion":{"description":"数据版本号。","type":"integer","format":"int32","example":"1678847020352"},"BackupObjectType":{"title":"备份对象类型","description":"备份对象类型。","type":"string","example":"cluster"},"BackupObjects":{"title":"备份对象列表","description":"备份对象列表。","type":"array","items":{"description":"备份集详情。","type":"object","properties":{"ClusterName":{"description":"集群名称。","type":"string","example":"test-****way"},"TenantName":{"description":"租户名称。","type":"string","example":"ob2mr3oae0****"},"DatabaseTablesList":{"description":"备份集列表。","type":"array","items":{"description":"备份集列表。","type":"object","properties":{"Database":{"description":"数据库名称。","type":"string","example":"sms_pre"},"Tables":{"description":"表列表。","type":"array","items":{"description":"表列表。","type":"string","example":"{'Tables': []}"}}}}}}}},"BackupResults":{"title":"备份结果","description":"备份结果。","type":"array","items":{"description":"备份结果详情。","type":"object","properties":{"ClusterName":{"description":"集群名称。","type":"string","example":"container-opa-****-02"},"TenantName":{"description":"租户名称。","type":"string","example":"ob2mr3oae0****\n"},"TableBackupResults":{"description":"表恢复结果。","type":"array","items":{"description":"表恢复结果。","type":"object","properties":{"Database":{"description":"数据库名称。","type":"string","example":"order_ce****_online"},"Table":{"description":"表名称。","type":"string","example":"tr_sale_order_****"},"Status":{"description":"备份状态。","type":"string","example":"RUNNING"},"Message":{"description":"错误描述。","type":"string","example":"Create tag success"}}}}}}},"DownloadTaskStatus":{"title":"目标备份集所对应的备份任务状态","description":"目标备份集所对应的备份任务状态。","type":"string","example":"not_exist"},"DownloadTaskId":{"title":"目标备份集所对应的备份任务ID","description":"目标备份集所对应的备份任务 ID。","type":"integer","format":"int64","example":"100***012"},"Validity":{"title":"有效性，可空；","description":"有效性，可空。","type":"string","example":"VALID","enum":["VALID","INVALID"]},"Progress":{"title":"备份进度","description":"备份进度。","type":"string","example":"52"},"StorageClass":{"title":"备份集类型，standard：一级备份、\narchive：归档（二级）备份","description":"备份集类型。\n- standard：一级备份。\n- archive：归档（二级）备份。","type":"string","example":"standard"}}}}}}}},"errorCodes":{"500":[{"errorCode":"InternalError","errorMessage":"The request processing has failed due to some unknown error."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"TotalCount\\\": 2,\\n  \\\"RequestId\\\": \\\"EE205C00-30E4-****-****-87E3A8A2AA0C\\\",\\n  \\\"Data\\\": [\\n    {\\n      \\\"EndTime\\\": \\\"2023-04-13T03:38:10Z\\\",\\n      \\\"Status\\\": \\\"RUNNING\\\",\\n      \\\"Type\\\": \\\"manual\\\",\\n      \\\"StartTime\\\": \\\"2020-05-22T17:04:18\\\",\\n      \\\"DataSize\\\": 31457280,\\n      \\\"Policy\\\": \\\"automated\\\",\\n      \\\"SetId\\\": 0,\\n      \\\"Method\\\": \\\"logical\\\",\\n      \\\"Checkpoint\\\": \\\"2023-05-15T07:11:08Z\\\",\\n      \\\"DataVersion\\\": 1678847020352,\\n      \\\"BackupObjectType\\\": \\\"cluster\\\",\\n      \\\"BackupObjects\\\": [\\n        {\\n          \\\"ClusterName\\\": \\\"test-****way\\\",\\n          \\\"TenantName\\\": \\\"ob2mr3oae0****\\\",\\n          \\\"DatabaseTablesList\\\": [\\n            {\\n              \\\"Database\\\": \\\"sms_pre\\\",\\n              \\\"Tables\\\": [\\n                \\\"{'Tables': []}\\\"\\n              ]\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"BackupResults\\\": [\\n        {\\n          \\\"ClusterName\\\": \\\"container-opa-****-02\\\",\\n          \\\"TenantName\\\": \\\"ob2mr3oae0****\\\\n\\\",\\n          \\\"TableBackupResults\\\": [\\n            {\\n              \\\"Database\\\": \\\"order_ce****_online\\\",\\n              \\\"Table\\\": \\\"tr_sale_order_****\\\",\\n              \\\"Status\\\": \\\"RUNNING\\\",\\n              \\\"Message\\\": \\\"Create tag success\\\"\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"DownloadTaskStatus\\\": \\\"not_exist\\\",\\n      \\\"DownloadTaskId\\\": 0,\\n      \\\"Validity\\\": \\\"VALID\\\",\\n      \\\"Progress\\\": \\\"52\\\",\\n      \\\"StorageClass\\\": \\\"standard\\\"\\n    }\\n  ]\\n}\",\"type\":\"json\"}]","title":"查询备份集信息"}