{"summary":"调用CreateVpcEndpointService接口，创建终端节点服务。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"终端节点服务所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-huhehaote"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符。\n\n\n\n","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe637760"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求，取值：\n\n- **true**：发送检查请求，不会创建资源。检查项包括是否填写了必需参数、请求格式、业务限制。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n\n- **false**（默认值）：发送正常请求，通过检查后返回HTTP 2xx状态码并直接进行操作。","type":"boolean","required":false,"example":"false"}},{"name":"ServiceDescription","in":"query","schema":{"description":"终端节点服务的描述信息。","type":"string","required":false,"example":"This is my EndpointService."}},{"name":"AutoAcceptEnabled","in":"query","schema":{"description":"是否自动接受终端节点连接，取值：\n\n- **true**：自动接受终端节点连接。\n\n- **false**（默认值）：不自动接受终端节点连接。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"Payer","in":"query","schema":{"description":"付费方，取值：\n\n- **Endpoint**：服务使用方。\n\n- **EndpointService**：服务提供方。","type":"string","required":false,"example":"Endpoint"}},{"name":"ZoneAffinityEnabled","in":"query","schema":{"description":"是否支持连接服务的终端节点域名就近解析，取值：\n\n- **true**：是。\n\n- **false**（默认值）：否。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"ServiceResourceType","in":"query","schema":{"description":"服务资源类型。取值：\n\n- **slb** ：表示服务资源类型为传统型负载均衡CLB（Classic Load Balancer）。\n\n- **alb** ：表示服务资源类型为应用型负载均衡ALB（Application Load Balancer）。\n- **nlb** ：表示服务资源类型为网络型负载均衡NLB（Network Load Balancer ）。\n\n> 不支持访问NLB的TCPSSL类型监听。","type":"string","required":false,"example":"slb"}},{"name":"Resource","in":"query","style":"repeatList","schema":{"description":"终端节点服务资源合集。","type":"array","items":{"description":"终端节点服务资源合集。","type":"object","properties":{"ResourceType":{"description":"添加到终端节点服务中的服务资源的类型，一个终端节点服务最多支持添加20个服务资源。取值：\n\n- **slb** ：表示服务资源类型为传统型负载均衡CLB（Classic Load Balancer）。\n\n- **alb** ：表示服务资源类型为应用型负载均衡ALB（Application Load Balancer）。\n- **nlb** ：表示服务资源类型为网络型负载均衡NLB（Network Load Balancer ）。\n\n> 在支持私网连接功能的地域内，专有网络类型的传统型负载均衡CLB实例均支持作为终端节点服务的服务资源。不支持访问NLB的TCPSSL类型监听。","type":"string","required":false,"example":"slb"},"ResourceId":{"description":"添加到终端节点服务中的服务资源ID。最多支持20个资源ID。","type":"string","required":false,"example":"lb-hp32z1wp5peaoox2q****"},"ZoneId":{"description":"可用区ID。","type":"string","required":false,"example":"cn-huhehaote-a"}},"required":false},"required":false,"maxItems":10}},{"name":"RegionId","in":"query","schema":{"description":"终端节点服务所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-huhehaote"}},{"name":"ServiceSupportIPv6","in":"query","schema":{"description":"终端节点服务是否支持IPv6功能。取值：\n\n- **true**：是。\n\n- **false**（默认值）：否。","type":"boolean","required":false,"example":"false"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmy*****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。\n","type":"array","items":{"description":"标签列表。\n","type":"object","properties":{"Key":{"description":"实例的标签键。最多支持20个标签键。一旦传入该值，则不允许为空字符串。\n\n最多支持64个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"env"},"Value":{"description":"实例的标签值。最多支持20个标签值。一旦传入该值，可以为空字符串。\n\n最多支持128个字符，不能以`aliyun`和`acs:`开头，不能包含`http://`或者`https://`。","type":"string","required":false,"example":"prod"}},"required":false},"required":false,"maxItems":21}}],"responses":{"200":{"schema":{"type":"object","properties":{"ServiceBusinessStatus":{"description":"终端节点服务的业务状态。取值：\n\n- **Normal**：正常。\n\n- **FinancialLocked**：欠费锁定。","type":"string","example":"Normal"},"RequestId":{"description":"请求ID。","type":"string","example":"8D8992C1-6712-423C-BAC5-E5E817484C6B"},"ServiceName":{"description":"终端节点服务的名称。","type":"string","example":"com.aliyuncs.privatelink.cn-huhehaote.epsrv-hp3vpx8yqxblby3i****"},"ServiceStatus":{"description":"终端节点服务的状态。取值：\n\n- **Creating**：创建中。\n\n- **Pending**：修改中。\n\n- **Active**：可用。\n\n- **Deleting**：删除中。","type":"string","example":"Active"},"ServiceDescription":{"description":"终端节点服务的描述信息。","type":"string","example":"This is my EndpointService."},"CreateTime":{"description":"终端节点服务的创建时间。","type":"string","example":"2022-01-02T19:11:12Z"},"ServiceDomain":{"description":"终端节点服务的服务域名。","type":"string","example":"epsrv-hp3vpx8yqxblby3i****.cn-huhehaote.privatelink.aliyuncs.com"},"ZoneAffinityEnabled":{"description":"是否支持连接服务的终端节点域名就近解析。取值：\n\n- **true**：是。\n- **false**：否。","type":"boolean","example":"false"},"AutoAcceptEnabled":{"description":"是否自动接受终端节点连接。取值：\n\n- **true**：自动接受终端节点连接。\n- **false**：不自动接受终端节点连接。","type":"boolean","example":"false"},"ServiceId":{"description":"终端节点服务的ID。","type":"string","example":"epsrv-hp3vpx8yqxblby3i****"},"ServiceSupportIPv6":{"description":"终端节点服务是否支持IPv6功能。取值：\n\n- **true**：是。\n\n- **false**：否。","type":"boolean","example":"false"},"ResourceGroupId":{"description":"资源组ID。","type":"string","example":"rg-acfmy*****"}}}}},"errorCodes":{"400":[{"errorCode":"EndpointServiceExist","errorMessage":"The specified Endpoint Service already exists."},{"errorCode":"AlbNotFound","errorMessage":"The specified Alb does not exist."},{"errorCode":"LoadBalancerNotFound","errorMessage":"The specified load balancer does not exist."},{"errorCode":"LoadBalancerNotSupportPrivateLink","errorMessage":"The specified SLB does not support PrivateLink."},{"errorCode":"GenerateResourceIdFailed","errorMessage":"Failed to generate ResourceId."},{"errorCode":"QuotaMisMatched","errorMessage":"The resource you applied for has exceeded the quota."},{"errorCode":"VSwitchNotFound","errorMessage":"The specified VSwitch does not exist."},{"errorCode":"EndpointServicePayerForbidden","errorMessage":"The parameter EndpointServicePayer is forbidden. The user is not in the whitelist."},{"errorCode":"NeedOpenProduct","errorMessage":"The product is not activated."},{"errorCode":"EndpointServiceNotSupportedZone","errorMessage":"The specified endpoint service does not support the zone."},{"errorCode":"IllegalParamFormat.%s","errorMessage":"The param format of %s is illegal."},{"errorCode":"MissingParam.%s","errorMessage":"The param of %s is missing."},{"errorCode":"ResourceNotFound.NatGateway","errorMessage":"The specified resource %s is not found."},{"errorCode":"Mismatch.ResourceType","errorMessage":"The %s is mismatched for %s and %s."},{"errorCode":"EndpointServiceNotSupportIpv6","errorMessage":"The param supportIpv6 of EndpointService is forbidden , resource is not support ipv6."},{"errorCode":"OperationDenied.PrivateDomainNotSupport","errorMessage":"The operation is not allowed because of PrivateDomainNotSupport."},{"errorCode":"Conflict.ServiceName","errorMessage":"The ServiceName %s is conflict."},{"errorCode":"InvalidParam.PrivateDnsName","errorMessage":"The parameter of PrivateDnsName is illegal, which needs to end with aliyun.com, aliyun-inc.com, or aliyuncs.com."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"ServiceBusinessStatus\\\": \\\"Normal\\\",\\n  \\\"RequestId\\\": \\\"8D8992C1-6712-423C-BAC5-E5E817484C6B\\\",\\n  \\\"ServiceName\\\": \\\"com.aliyuncs.privatelink.cn-huhehaote.epsrv-hp3vpx8yqxblby3i****\\\",\\n  \\\"ServiceStatus\\\": \\\"Active\\\",\\n  \\\"ServiceDescription\\\": \\\"This is my EndpointService.\\\",\\n  \\\"CreateTime\\\": \\\"2022-01-02T19:11:12Z\\\",\\n  \\\"ServiceDomain\\\": \\\"epsrv-hp3vpx8yqxblby3i****.cn-huhehaote.privatelink.aliyuncs.com\\\",\\n  \\\"ZoneAffinityEnabled\\\": false,\\n  \\\"AutoAcceptEnabled\\\": false,\\n  \\\"ServiceId\\\": \\\"epsrv-hp3vpx8yqxblby3i****\\\",\\n  \\\"ServiceSupportIPv6\\\": false,\\n  \\\"ResourceGroupId\\\": \\\"rg-acfmy*****\\\"\\n}\",\"type\":\"json\"}]","title":"创建终端节点服务","description":"- 创建终端节点服务之前，请确保您已创建支持私网连接的负载均衡资源。具体操作，请参见[创建负载均衡实例](~~174064~~)。\n- **CreateVpcEndpointService**接口属于异步接口，即系统会返回一个实例ID，但该终端节点服务尚未创建完成，系统后台任务仍在进行中。您可以调用[GetVpcEndpointServiceAttribute](~~183542~~)查询终端节点服务的创建状态：\n\n     - 当终端节点服务处于**Creating**状态时，表示终端节点服务正在创建。\n\n     - 当终端节点服务处于**Active**状态时，表示终端节点服务创建完成。"}