{"summary":"调用UpdateVpcEndpointZoneConnectionResourceAttribute接口，替换终端节点可用区连接服务资源。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"要修改的终端节点连接带宽的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符。","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe637760"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。取值：\n- **true**：发送检查请求，不会修改服务资源。检查项包括是否填写了必需参数、请求格式、业务限制。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n- **false**（默认值）：发送正常请求，通过检查后返回HTTP 2xx状态码并直接进行操作。","type":"boolean","required":false,"example":"false"}},{"name":"ServiceId","in":"query","schema":{"description":"终端节点服务ID。","type":"string","required":true,"docRequired":true,"example":"epsrv-hp3vpx8yqxblby3i****"}},{"name":"EndpointId","in":"query","schema":{"description":"终端节点ID。","type":"string","required":true,"docRequired":true,"example":"ep-hp33b2e43fays7s8****"}},{"name":"ZoneId","in":"query","schema":{"description":"可用区ID。","type":"string","required":true,"maximum":"2147483647","minimum":"0","example":"cn-hangzhou-b"}},{"name":"ResourceAllocateMode","in":"query","schema":{"description":"资源分配模式，只能在终端节点连接处于**已断开**时调整资源分配模式。取值：\n\n- **Auto**：自动分配服务资源（随机分配），此时会清除已经指定的服务资源。\n\n- **Manual**：手动分配服务资源，此时必须输入**ResourceId**和**ResourceType**参数。","type":"string","required":false,"example":"Auto","enum":[]}},{"name":"ResourceReplaceMode","in":"query","schema":{"description":"服务资源迁移方式。取值：\n\n- **Graceful**：平滑迁移，此时可用区连接平滑迁移服务资源。\n\n- **Force**：强制迁移，此时可用区连接强制迁移服务资源。\n\n\n>只能在终端节点连接处于**已连接**且需要迁移服务资源时输入此参数，此时必须输入**ResourceId**和**ResourceType**参数。 ","type":"string","required":false,"example":"Graceful","enum":[]}},{"name":"ResourceType","in":"query","schema":{"description":"服务资源类型。取值：\n\n- **slb**：表示服务资源类型为专有网络类型且支持PrivateLink功能的传统型负载均衡CLB（Classic Load Balancer）。\n\n-  **alb**：表示服务资源类型为专有网络类型且支持PrivateLink功能的应用型负载均衡ALB（Application Load Balancer）。\n\n> 当**ResourceAllocateMode**为**Manual**或指定**ResourceReplaceMode**参数时，此参数必选。","type":"string","required":false,"example":"slb"}},{"name":"ResourceId","in":"query","schema":{"description":"终端节点连接所在可用区手动分配或迁移的服务资源ID。\n\n> 当**ResourceAllocateMode**为**Manual**或指定**ResourceReplaceMode**参数时，此参数必选。","type":"string","required":false,"example":"lb-hp32z1wp5peaoox2q****"}},{"name":"RegionId","in":"query","schema":{"description":"要修改的终端节点连接带宽的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"}}}}},"errorCodes":{"400":[{"errorCode":"EndpointServiceNotFound","errorMessage":"The specified Service does not exist."},{"errorCode":"EndpointConnectionNotFound","errorMessage":"The specified endpoint connection does not exist."},{"errorCode":"EndpointConnectionOperationDenied","errorMessage":"The endpoint is being connected."},{"errorCode":"EndpointNotFound","errorMessage":"The specified Endpoint does not exist."},{"errorCode":"EndpointServiceLocked","errorMessage":"The specified Service is locked."},{"errorCode":"EndpointLocked","errorMessage":"The specified Endpoint is locked."},{"errorCode":"EndpointZoneNotFound","errorMessage":"The specified zone of Endpoint does not exist."},{"errorCode":"EndpointServiceResourceTypeNotSupport","errorMessage":"The specified resource type is not supported."},{"errorCode":"EndpointServiceResourceNotFound","errorMessage":"The specified service resource is not found."},{"errorCode":"ZoneOperationDenied","errorMessage":"You cannot operate the specified zone."},{"errorCode":"IllegalParam.ResourceAllocateMode","errorMessage":"The param of %s is illegal."},{"errorCode":"IllegalParam.ResourceReplaceMode","errorMessage":"The param of %s is illegal."},{"errorCode":"MissingParam.ResourceId","errorMessage":"The param of %s is missing."},{"errorCode":"MissingParam.ResourceAllocateMode","errorMessage":"The param of %s is missing."},{"errorCode":"OperationDenied.CurrentResourceAutoAllocated","errorMessage":"The operation is not allowed because of CurrentResourceAutoAllocated."},{"errorCode":"Mismatch.ZoneId","errorMessage":"The %s is mismatched for %s and %s."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<UpdateVpcEndpointZoneConnectionResourceAttributeResponse>\\n    <RequestId>0ED8D006-F706-4D23-88ED-E11ED28DCAC0</RequestId>\\n</UpdateVpcEndpointZoneConnectionResourceAttributeResponse>\",\"errorExample\":\"\"}]","title":"替换终端节点可用区连接服务资源","description":"- 替换终端节点可用区连接服务资源的功能默认不开放，请登录[配额中心控制台](https://quotas.console.aliyun.com/white-list-products/privatelink/quotas)，搜索ID`privatelink_whitelist/svc_res_mgt_uat`进行申请。\n\n- 请确保旧的服务资源不允许自动分配，具体操作，请参见[UpdateVpcEndpointServiceResourceAttribute](~~469340~~)。\n\n- 终端节点连接处于**未连接**状态时，支持手动分配可用区的服务资源。\n- 终端节点连接处于**已连接**状态后，支持手动迁移可用区的服务资源（此时有断连风险）。\n- **UpdateVpcEndpointZoneConnectionResourceAttribute**接口属于异步接口，即系统会返回一个请求ID，但终端节点连接可用区的服务资源尚未修改完成，系统后台修改任务仍在进行中。您可以调用[GetVpcEndpointServiceAttribute](~~469330~~)查询服务资源的修改状态：\n\n    - 当终端节点服务处于**Pending**状态时，表示服务资源正在修改中。\n    - 当终端节点服务处于**Active**状态时，表示服务资源修改完成。\n\n- **UpdateVpcEndpointZoneConnectionResourceAttribute**接口不支持在同一个终端节点实例下并发修改终端节点连接可用区的服务资源。"}