{"summary":"调用CreateVpcEndpoint接口，创建终端节点。","methods":["post","get"],"schemes":["https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"终端节点所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。 ","type":"string","required":true,"docRequired":true,"example":"cn-huhehaote"}},{"name":"ClientToken","in":"query","schema":{"description":"客户端Token，用于保证请求的幂等性。\n\n从您的客户端生成一个参数值，确保不同请求间该参数值唯一。**ClientToken**只支持ASCII字符。\n","type":"string","required":false,"example":"0c593ea1-3bea-11e9-b96b-88e9fe637760"}},{"name":"DryRun","in":"query","schema":{"description":"是否只预检此次请求。取值：\n- **true**：发送检查请求，不会创建终端节点。检查项包括是否填写了必需参数、请求格式、业务限制。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n- **false**（默认值）：发送正常请求，通过检查后返回HTTP 2xx状态码并直接进行操作。","type":"boolean","required":false,"example":"false"}},{"name":"EndpointName","in":"query","schema":{"description":"终端节点名称。\n\n长度为2~128个字符，以英文字母或中文开头，可包含数字、短划线（-）和下划线（_）。","type":"string","required":false,"example":"test"}},{"name":"EndpointType","in":"query","schema":{"description":"终端节点类型。\n\n仅取值： **Interface**，表示接口终端节点，您可以添加应用型负载均衡ALB（Application Load Balancer）、传统型负载均衡CLB（Classic Load Balancer）和网络型负载均衡NLB（Network Load Balancer ）的服务资源类型。","type":"string","required":false,"example":"Interface"}},{"name":"ZonePrivateIpAddressCount","in":"query","schema":{"description":"每个可用区ENI的私网IP的数量。仅取值：**1**。\n","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"EndpointDescription","in":"query","schema":{"description":"终端节点描述。\n\n描述长度为2~256个字符，开头不能为`http://`和`https://`。","type":"string","required":false,"example":"This is my Endpoint."}},{"name":"VpcId","in":"query","schema":{"description":"终端节点所属的专有网络。","type":"string","required":true,"docRequired":true,"example":"vpc-hp356stwkxg3fn2xe****"}},{"name":"ServiceId","in":"query","schema":{"description":"终端节点关联的终端节点服务。","type":"string","required":false,"docRequired":true,"example":"epsrv-hp3xdsq46ael67lo****"}},{"name":"ServiceName","in":"query","schema":{"description":"终端节点关联的终端节点服务的名称。","type":"string","required":false,"example":"com.aliyuncs.privatelink.cn-huhehaote.epsrv-hp3vpx8yqxblby3i****"}},{"name":"Zone","in":"query","style":"repeatList","schema":{"description":"终端节点可用区列表。","type":"array","items":{"description":"当前地域下的可用区ID。\n\n系统将在您指定的可用区下创建资源。","type":"object","properties":{"VSwitchId":{"description":"在可用区内要创建终端节点网卡的交换机。\n您最多可以设置10个交换机。","type":"string","required":false,"example":"vsw-hp3uf6045ljdhd5zr****"},"ZoneId":{"description":"终端节点服务对应的可用区。\n\n您最多可以设置10个可用区。","type":"string","required":false,"example":"cn-huhehaote-b"},"ip":{"description":"指定终端节点可用区的IP。\n\n您最多可以指定10个IP。","type":"string","required":false,"example":"192.168.XX.XX"}},"required":false},"required":false,"maxItems":10}},{"name":"SecurityGroupId","in":"query","style":"repeatList","schema":{"description":"终端节点网卡关联的安全组列表。","type":"array","items":{"description":"终端节点网卡关联的安全组，安全组可以管控VPC到终端节点网卡的数据通信。","type":"string","required":false,"example":"sg-bp1fg655nh68xyz9****"},"required":false,"example":"sg-hp33bw6ynvm2yb0e****","maxItems":10}},{"name":"ProtectedEnabled","in":"query","schema":{"description":"是否开启托管保护，STS调用方式下生效。取值：\n \n- **true**：开启。开启托管保护后，只有和创建时相同的用户才能通过STS方式对该终端节点进行修改或者删除等操作。\n- **false**（默认值）：不开启。","type":"boolean","required":false,"example":"false"}},{"name":"RegionId","in":"query","schema":{"description":"终端节点所在的地域ID。\n\n您可以通过调用[DescribeRegions](~~120468~~)接口获取地域ID。 ","type":"string","required":true,"docRequired":true,"example":"cn-huhehaote"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"标签列表。\n","type":"array","items":{"description":"标签列表。\n","type":"object","properties":{"Key":{"description":"标签键。","type":"string","required":false,"example":"env"},"Value":{"description":"标签值。","type":"string","required":false,"example":"prod"}},"required":false},"required":false,"maxItems":21}},{"name":"ResourceGroupId","in":"query","schema":{"description":"资源组ID。","type":"string","required":false,"example":"rg-acfmy*****"}},{"name":"PolicyDocument","in":"query","schema":{"description":"RAM权限策略。关于策略定义的更多信息，请参见[权限策略基本元素](~~93738~~)。","type":"string","required":false,"example":"{\n  \"Version\": \"1\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"oss:List*\",\n        \"oss:PutObject\",\n        \"oss:GetObject\"\n      ],\n      \"Resource\": [\n        \"acs:oss:oss-*:*:pvl-policy-test/policy-test.txt\"\n      ],\n      \"Principal\": {\n        \"RAM\": [\n          \"acs:ram::14199xxxxxx:*\"\n        ]\n      }\n    }\n  ]\n}"}}],"responses":{"200":{"schema":{"type":"object","properties":{"EndpointDomain":{"description":"终端节点域名。","type":"string","example":"ep-hp33b2e43fays7s8****.epsrv-hp3xdsq46ael67lo****.cn-huhehaote.privatelink.aliyuncs.com"},"RequestId":{"description":"请求ID。","type":"string","example":"0ED8D006-F706-4D23-88ED-E11ED28DCAC0"},"CreateTime":{"description":"终端节点的创建时间。","type":"string","example":"2022-01-02T19:11:12Z"},"EndpointBusinessStatus":{"description":"终端节点的业务状态。取值：\n\n- **Normal**：正常。\n\n- **FinancialLocked**：欠费锁定。","type":"string","example":"Normal"},"EndpointDescription":{"description":"终端节点描述。","type":"string","example":"This is my Endpoint."},"ServiceId":{"description":"终端节点关联的终端节点服务的ID。","type":"string","example":"epsrv-hp3vpx8yqxblby3i****"},"EndpointStatus":{"description":"终端节点状态。取值：\n\n- **Creating**：创建中。\n\n- **Active**：可用。\n\n- **Pending**：修改中。\n\n- **Deleting**：删除中。","type":"string","example":"Active"},"VpcId":{"description":"终端节点所属的专有网络。","type":"string","example":"vpc-hp356stwkxg3fn2xe****"},"EndpointName":{"description":"终端节点名称。","type":"string","example":"test"},"ServiceName":{"description":"终端节点关联的终端节点服务的名称。","type":"string","example":"com.aliyuncs.privatelink.cn-huhehaote.epsrv-hp3xdsq46ael67lo****"},"Bandwidth":{"description":"终端节点的连接带宽，单位：Mbps。","type":"integer","format":"int64","example":"200"},"EndpointId":{"description":"终端节点ID。","type":"string","example":"ep-hp33b2e43fays7s8****"},"ConnectionStatus":{"description":"终端节点连接状态。取值：\n\n- **Pending**：修改中。\n\n- **Connecting**：连接中。\n\n- **Connected**：已连接。\n\n- **Disconnecting**：断开连接中。\n\n- **Disconnected**：未连接。\n\n- **Deleting**：删除中。","type":"string","example":"Disconnected"}}}}},"errorCodes":{"400":[{"errorCode":"EndpointExist","errorMessage":"The specified Endpoint already exists."},{"errorCode":"EndpointZoneDuplicated","errorMessage":"The zone is duplicated for the Endpoint."},{"errorCode":"EndpointServiceNotFound","errorMessage":"The specified Service does not exist."},{"errorCode":"EndpointServiceNotSupportedZone","errorMessage":"The specified endpoint service does not support the zone."},{"errorCode":"VSwitchNotFound","errorMessage":"The specified VSwitch does not exist."},{"errorCode":"SecurityGroupNotFound","errorMessage":"The specified security group does not exist."},{"errorCode":"VpcTunnelNotFound","errorMessage":"The specified VPC tunnel does not exist."},{"errorCode":"VpcNotFound","errorMessage":"The specified VPC does not exist."},{"errorCode":"GenerateResourceIdFailed","errorMessage":"Failed to generate ResourceId."},{"errorCode":"QuotaMisMatched","errorMessage":"The resource you applied for has exceeded the quota."},{"errorCode":"EndpointMustContainSecurityGroup","errorMessage":"The specified endpoint must have at least one security group."},{"errorCode":"EndpointDuplicated","errorMessage":"The endpoint of the service already exists and cannot be created again."},{"errorCode":"EndpointServiceDeleted","errorMessage":"The specified Service is already deleted."},{"errorCode":"EndpointServiceResourceNotFound","errorMessage":"The specified service resource is not found."},{"errorCode":"SecurityGroupTypeNotSupport","errorMessage":"The specified security group type is not supported."},{"errorCode":"EniIpUnavailable","errorMessage":"The specified IP address is unavailable."},{"errorCode":"EndpointServiceNotAuthorized","errorMessage":"The specified endpoint service is not authorized to user."},{"errorCode":"SecurityGroupTypeOnlySingleTypeSupporteded","errorMessage":"The specified security group only support one type."},{"errorCode":"QuotaExceeded.IpQuotaPerEp","errorMessage":"The quota of %s is exceeded, usage %s/%s."},{"errorCode":"Mismatch.EndpointType","errorMessage":"The %s is mismatched for %s and %s."},{"errorCode":"IncorrectStatus.VpcEndpointService","errorMessage":"The status of %s [%s] is incorrect."},{"errorCode":"CheckServiceLinkRoleError","errorMessage":"The ServiceLink role check error."},{"errorCode":"ResourceNotEnough.VSwitchIp","errorMessage":"The specified resource of VSwitchIp is not enough."},{"errorCode":"VSwitchStatusNotAllowed","errorMessage":"The specified vswitch status is not Available."},{"errorCode":"QuotaExceeded.epZonePerEndpoint","errorMessage":"The quota of %s is exceeded, usage %s/%s."},{"errorCode":"QuotaExceeded.totalEpPerVpc","errorMessage":"The quota of %s is exceeded, usage %s/%s."},{"errorCode":"QuotaExceeded.totalIdleEndpoint","errorMessage":"The quota of %s is exceeded, usage %s/%s."},{"errorCode":"OperationDenied.EndpointPolicyNotSupport","errorMessage":"The operation is not allowed because of EndpointPolicyNotSupport."},{"errorCode":"OperationDenied.PrivateDomainStatusNotSupport","errorMessage":"The operation is not allowed because of %s."},{"errorCode":"OperationDenied.PrivateDomainNotSupport","errorMessage":"The operation is not allowed because of PrivateDomainNotSupport."},{"errorCode":"DependencyViolation.PrivateDnsName","errorMessage":"The specified resource of %s depends on %s, so the operation cannot be completed."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"EndpointDomain\\\": \\\"ep-hp33b2e43fays7s8****.epsrv-hp3xdsq46ael67lo****.cn-huhehaote.privatelink.aliyuncs.com\\\",\\n  \\\"RequestId\\\": \\\"0ED8D006-F706-4D23-88ED-E11ED28DCAC0\\\",\\n  \\\"CreateTime\\\": \\\"2022-01-02T19:11:12Z\\\",\\n  \\\"EndpointBusinessStatus\\\": \\\"Normal\\\",\\n  \\\"EndpointDescription\\\": \\\"This is my Endpoint.\\\",\\n  \\\"ServiceId\\\": \\\"epsrv-hp3vpx8yqxblby3i****\\\",\\n  \\\"EndpointStatus\\\": \\\"Active\\\",\\n  \\\"VpcId\\\": \\\"vpc-hp356stwkxg3fn2xe****\\\",\\n  \\\"EndpointName\\\": \\\"test\\\",\\n  \\\"ServiceName\\\": \\\"com.aliyuncs.privatelink.cn-huhehaote.epsrv-hp3xdsq46ael67lo****\\\",\\n  \\\"Bandwidth\\\": 200,\\n  \\\"EndpointId\\\": \\\"ep-hp33b2e43fays7s8****\\\",\\n  \\\"ConnectionStatus\\\": \\\"Disconnected\\\"\\n}\",\"type\":\"json\"}]","title":"创建终端节点","description":"**CreateVpcEndpoint**接口属于异步接口，即系统会返回一个实例ID，但该终端节点尚未创建完成，系统后台任务仍在进行中。您可以调用[GetVpcEndpointAttribute](~~183568~~)查询终端节点的创建状态：\n\n- 当终端节点处于**Creating**状态时，表示终端节点正在创建中。\n- 当终端节点处于**Active**状态时，表示终端节点创建完成。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}