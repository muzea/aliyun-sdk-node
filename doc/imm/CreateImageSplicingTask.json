{"summary":"将多张图片按设定的规则拼接成一张图片，并保存到指定的OSS文件对象地址。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"144838","abilityTreeNodes":["FEATUREimm4NW8UR"]},"parameters":[{"name":"ProjectName","in":"query","schema":{"title":"A short description of struct","description":"项目名称，获取方式请参见[创建项目](~~478153~~)。","type":"string","required":true,"example":"test-project"}},{"name":"Sources","in":"query","style":"json","schema":{"description":"输入图片列表，拼接顺序为输入列表URI顺序。","type":"array","items":{"description":"输入图片信息。","type":"object","properties":{"URI":{"description":"源图片的OSS地址。\n\nOSS地址规则为oss://${Bucket}/${Object}，其中`${Bucket}`为和当前项目处于同一区域(Region)的OSS Bucket名称，`${Object}`为包含文件扩展名的文件完整路径。\n\n支持的图片格式：jpg、png。","type":"string","required":true,"example":"oss://examplebucket/sampleobject.jpg"},"Rotate":{"description":"图片旋转角度。可取值如下：\n\n- 0（默认）\n- 90\n- 180\n- 270","type":"integer","format":"int64","required":false,"example":"90"}},"required":false},"required":true,"minItems":1}},{"name":"TargetURI","in":"query","schema":{"description":"输出图片存储的OSS地址。\n\nOSS地址规则为oss://${bucketname}/${objectname}，其中${bucketname}为和当前项目处于同一地域的OSS Bucket名称，${objectname}为包含文件名称的文件路径。","type":"string","required":true,"example":"oss://examplebucket/outputImage.jpg"}},{"name":"ImageFormat","in":"query","schema":{"description":"输出图片的压缩格式。可取值如下：\n\n- jpg（默认）\n- png\n- webp","type":"string","required":false,"enumValueTitles":{"jpg":"jpg","png":"png","webp":"webp"},"example":"jpg"}},{"name":"Quality","in":"query","schema":{"description":"输出图片压缩质量，仅对jpg和webp图片格式生效。取值范围为0~100，默认值为80。","type":"integer","format":"int64","required":false,"example":"80"}},{"name":"Direction","in":"query","schema":{"description":"图片拼接方法。可取值如下：\n\n- vertical（默认）：垂直方向拓展，所有被拼接图片需要对齐宽度。\n- horizontal：水平方向拓展，所有被拼接图片需要对齐高度。","type":"string","required":false,"example":"vertical"}},{"name":"ScaleType","in":"query","schema":{"description":"被拼接图片在对齐宽度或高度时的缩放方式。可取值如下：\n\n- fit（默认）：缩放并不保留黑边（仅等比缩放）。\n- stretch：拉伸以填满。\n- horizon：仅垂直拉伸。\n- vertical：仅水平拉伸。","type":"string","required":false,"example":"stretch"}},{"name":"Align","in":"query","schema":{"description":"被拼接图片宽或高需要对齐的像素值。取值范围为1~4096。\n\n- 当参数**Direction**取值为`vertical`时，此参数表示对齐宽度的像素值。\n- 当参数**Direction**取值为`horizontal`时，此参数表示对齐高度的像素值。\n\n> 若不填写此参数（默认），则默认与拼接的第一张图片的宽或高一致。","type":"integer","format":"int64","required":false,"example":"192"}},{"name":"Padding","in":"query","schema":{"description":"拼接后图片中子图的间隔，默认值为0，单位为px。","type":"integer","format":"int64","required":false,"example":"2"}},{"name":"Margin","in":"query","schema":{"description":"拼接后图片的空白边缘，默认值为0，单位为px。","type":"integer","format":"int64","required":false,"example":"2"}},{"name":"BackgroundColor","in":"query","schema":{"description":"参数`Padding`与`Margin`对应区域的填充颜色，支持`#FFFFFF`形式与预设的`red`、`alpha`等关键字。","type":"string","required":false,"example":"red"}},{"name":"UserData","in":"query","schema":{"description":"用户自定义信息，在异步消息通知中会为您返回，用于方便您系统内对消息通知进行关联处理。最大长度为2048字节。","type":"string","required":false,"example":"test-data"}},{"name":"CredentialConfig","in":"query","style":"json","schema":{"description":"链式授权配置。更多信息，请参见[使用链式授权访问其他实体资源](~~465340~~)。","required":false,"$ref":"#/components/schemas/CredentialConfig"}},{"name":"Tags","in":"query","style":"json","schema":{"description":"自定义标签，用于对异步任务进行搜索、过滤。","type":"object","required":false,"example":"{\n      \"User\": \"Jane\"\n}"}},{"name":"Notification","in":"query","style":"json","schema":{"description":"消息通知配置，详细内容请单击Notification查看，异步通知消息格式请参见[异步通知消息格式](~~471456~~)。","required":false,"$ref":"#/components/schemas/Notification"}}],"responses":{"200":{"schema":{"description":"图片拼接结果。","type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"94D6F994-E298-037E-8E8B-0090F27*****"},"EventId":{"description":"事件ID。","type":"string","example":"10C-1R6p7Km0H5Ieg38LKXTIvw*****"},"TaskId":{"description":"任务ID。","type":"string","example":"ImageSplicing-537cc157-7645-444a-a631-c8db4d02*****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"94D6F994-E298-037E-8E8B-0090F27*****\\\",\\n  \\\"EventId\\\": \\\"10C-1R6p7Km0H5Ieg38LKXTIvw*****\\\",\\n  \\\"TaskId\\\": \\\"ImageSplicing-537cc157-7645-444a-a631-c8db4d02*****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"创建图片拼接任务","description":"- **请确保在使用该接口前，已充分了解智能媒体管理产品的收费方式和[价格](~~88317~~)。**\n- 调用该接口前，请确保当前Region已经存在可用的项目（Project），详见[项目管理](~~478152~~)。\n- 该接口最大支持拼接10张图片，每张图片的单边长不能超过32876像素，总像素不能超过10亿像素。\n- 该接口为异步接口，获取任务开始执行后，任务信息只保存7天，超过7天则无法再获取。调用[GetTask](~~478241~~)或[ListTasks](~~478242~~)接口获取返回的`TaskId`，查看任务信息。也可以通过设置[Notification](~~471456~~)消息通知参数，通过消息通知获取任务信息。"}