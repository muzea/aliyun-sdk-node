{"summary":"创建一个故事。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"103261","abilityTreeNodes":["FEATUREimmPQ568C"]},"parameters":[{"name":"ProjectName","in":"formData","schema":{"description":"项目名称。获取方式请参见[创建项目](~~478153~~)。","type":"string","required":true,"example":"test-project"}},{"name":"DatasetName","in":"formData","schema":{"description":"数据集名称。获取方式请参见[创建数据集](~~478160~~)。","type":"string","required":true,"example":"test-dataset"}},{"name":"ObjectId","in":"formData","schema":{"description":"故事对象ID。该参数不是必填参数。如果为空，IMM会为生成的故事创建一个ID，该ID是故事的唯一标识符，可用于对该故事的查询、更新等操作。ID也可由用户生成，生成之后通过该参数传入，IMM可记录下用户传入的ID作为该故事的唯一标识。如果传入已存在的ID，则会更新该ID对应的故事。","type":"string","required":false,"example":"id1"}},{"name":"StoryType","in":"formData","schema":{"description":"故事类型，指定需要生成相册故事的类型。具体类型描述和可取值请参见[故事类型和子类型](~~475311~~)。","type":"string","required":true,"example":"PeopleMemory"}},{"name":"StorySubType","in":"formData","schema":{"description":"故事子类型，指定需要生成的相册故事的子类型，具体类型描述和可取值请参见[故事类型和子类型](~~475311~~)。","type":"string","required":false,"example":"Solo"}},{"name":"StoryStartTime","in":"formData","schema":{"description":"待创建故事的照片集合的开始时间。与StoryEndTime共同组成时间区间，IMM会根据该时间区间来筛选候选照片生成故事。该参数是一个RFC3339时间格式的字符串。","type":"string","required":false,"example":"2016-12-30T16:00:00Z"}},{"name":"StoryEndTime","in":"formData","schema":{"description":"待创建故事的照片集合的结束时间。与StoryStartTime共同组成时间区间，IMM会根据该时间区间来筛选候选照片生成故事。该参数是一个RFC3339时间格式的字符串。","type":"string","required":false,"example":"2021-12-30T16:00:00Z"}},{"name":"StoryName","in":"formData","schema":{"description":"故事名称。","type":"string","required":false,"example":"name1"}},{"name":"MinFileCount","in":"formData","schema":{"description":"生成的故事中包含的照片文件最小个数，实际生成的故事照片数量会在MinFileCount和MaxFileCount之间。该参数取值为大于1的整数，若待生成故事的候选照片集中的可用照片张数小于该参数，则会返回空故事。","type":"integer","format":"int64","required":false,"example":"1"}},{"name":"MaxFileCount","in":"formData","schema":{"description":"生成的故事中包含的照片文件最大个数，生成的故事照片数量会在MinFileCount和MaxFileCount之间。该参数取值范围为大于MinFileCount的整数。（为保证故事生成的效果，算法内部会将最大数量限制在1500，当MaxFileCount大于1500时，该参数没有效果）","type":"integer","format":"int64","required":false,"example":"3"}},{"name":"NotifyTopicName","in":"formData","schema":{"description":"异步反向通知的TopicName。","type":"string","required":false,"example":"test-topic"}},{"name":"CustomLabels","in":"formData","style":"json","schema":{"description":"自定义标签。该标签标记了用户对该故事自定义的信息，可作检索使用。","type":"object","required":false,"example":"{\"Bucket\": \"examplebucket\"}"}},{"name":"CustomId","in":"formData","schema":{"description":"自定义ID。用户自定义的生成故事的标识（可与ObjectID不相同），可供用户后期对故事进行检索、排序等。","type":"string","required":false,"example":"test"}},{"name":"Address","in":"formData","style":"json","schema":{"description":"待生成故事的地址信息。IMM会根据该参数标识出的地址位置信息，筛选拍摄地符合该地址信息的照片生成故事，该参数在故事类型为旅行故事（TravelMemory）时生效。\n\n> 根据相关规定，无法在中国香港、中国澳门、中国台湾及海外提供将中国内地的GPS信息解析为地址的能力。\n>","required":false,"$ref":"#/components/schemas/AddressForStory"}},{"name":"Tags","in":"query","style":"json","schema":{"description":"此参数提供一种标签机制，可在以下场景中使用：\n\n- 设置自定义数据，这些数据会在MNS消息中返回。\n\n- 作为搜索条件搜索任务。\n\n- 作为变量在TargetURI中使用。","type":"object","required":false,"example":"{\"key\":\"val\"}"}},{"name":"UserData","in":"query","schema":{"description":"用户自定义信息，在异步消息通知中会为您返回，用于方便您系统内对消息通知进行关联处理。最大长度为2048字节。","type":"string","required":false,"example":"{\"ID\": \"testuid\",\"Name\": \"test-user\",\"Avatar\": \"http://test.com/testuid\"}"}},{"name":"Notification","in":"query","style":"json","schema":{"description":"消息通知配置，详细内容请单击Notification查看，异步通知消息格式请参见[异步通知消息格式](~~471456~~)。","required":false,"$ref":"#/components/schemas/Notification"}}],"responses":{"200":{"headers":{},"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"当次请求的Request ID。","type":"string","example":"1B3D5E0A-D8B8-4DA0-8127-ED32C851****"},"TaskId":{"description":"任务ID。","type":"string","example":"CreateStory-4ef6ff43-edf3-4612-9cc4-0c7f9e19****"},"EventId":{"description":"事件ID。","type":"string","example":"392-1CqzvESGTEeNZ2OWFbRKIM****"}}}}},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"1B3D5E0A-D8B8-4DA0-8127-ED32C851****\\\",\\n  \\\"TaskId\\\": \\\"CreateStory-4ef6ff43-edf3-4612-9cc4-0c7f9e19****\\\",\\n  \\\"EventId\\\": \\\"392-1CqzvESGTEeNZ2OWFbRKIM****\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"\",\"errorExample\":\"\"}]","title":"创建故事","description":"- **请确保在使用该接口前，已充分了解智能媒体管理产品的收费方式和[价格](~~477042~~)。**\n- 调用该接口前，请确保您已通过绑定方式（[CreateBinding](~~478202~~)）或者主动索引（[IndexFileMeta](~~478166~~)或者[BatchIndexFileMeta](~~478167~~)）方式将文件索引到数据集（Dataset）中。\n- 该接口为异步接口，任务开始执行后，任务信息只保存7天，超过7天则无法再获取。调用[GetTask](~~478241~~)或者[ListTasks](~~478242~~)接口获取返回的TaskId，查看任务信息。也可以通过设置[Notification](~~611278~~)消息通知参数，通过消息通知获取任务信息。"}