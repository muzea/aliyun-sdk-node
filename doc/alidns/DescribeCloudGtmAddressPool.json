{"methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get"},"parameters":[{"name":"AcceptLanguage","in":"query","schema":{"description":"返回值语言，取值：\n\n- zh-CN：中文。\n\n- en-US：英文。","type":"string","required":false,"example":"en-US"}},{"name":"ClientToken","in":"query","schema":{"description":"用户生成的请求token。用于保证请求的幂等性。注意  由客户端生成该参数值，要保证在不同请求间唯一，最大值不超过64个ASCII字符。","type":"string","required":false,"example":"1ae05db4-10e7-11ef-b126-00163e24**22"}},{"name":"AddressPoolId","in":"query","schema":{"description":"地址池Id，地址池的唯一标识码。","type":"string","required":false,"example":"pool-89564674533755**96"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"唯一请求识别码。","type":"string","example":"6856BCF6-11D6-4D7E-AC53-FD579933522B"},"CreateTime":{"title":"创建时间","description":"地址池创建时间。","type":"string","example":"2024-03-15T01:46Z"},"CreateTimestamp":{"description":"地址池创建时间（时间戳）。","type":"integer","format":"int64","example":"1527690629357"},"UpdateTime":{"title":"修改时间","description":"地址池最后一次修改时间。","type":"string","example":"2024-03-15T01:46Z"},"UpdateTimestamp":{"description":"地址池最后一次修改时间（时间戳）。","type":"integer","format":"int64","example":"1527690629357"},"AddressPoolId":{"title":"地址池Id","description":"地址池Id，地址池的唯一标识码。","type":"string","example":"pool-89564674533755**96"},"AddressPoolName":{"title":"地址池名称","description":"地址池名称。","type":"string","example":"AddressPool-1"},"AddressPoolType":{"title":"地址池类型ipv4、ipv6、domain","description":"地址池类型：\n\n- IPv4\n\n- IPv6\n\n- domain","type":"string","example":"IPv4"},"AddressLbStrategy":{"title":"地址负载策略","description":"地址池中地址间负载均衡策略：\n\n- round_robin：轮询，对于任何来源的解析请求，返回所有地址。并且每次对于所有地址进行轮转排序。\n\n- sequence：顺序，对于任何来源的解析请求，返回顺序号较小的地址（顺序号标识地址返回的优先级，越小优先级越高）。若顺序号较小的地址不可用时，返回下一个序号较小的地址。\n\n- weight：权重，支持对每个地址设置不同的权重值，实现解析查询按照权重比例返回地址。\n\n- source_nearest：来源就近，即智能解析功能，GTM可以根据不同的解析请求来源返回不同的地址，实现用户就近访问的效果。","type":"string","example":"round_robin"},"SequenceLbStrategyMode":{"title":"顺序负载策略模式（抢占式、非抢占式）","description":"地址间负载均衡策略为顺序模式时，前序资源异常恢复服务模式：\n\n- preemptive：抢占模式，前序资源恢复，优先使用顺序号较小的地址；\n\n- non_preemptive：非抢占模式，前序资源恢复，仍然使用当前地址；","type":"string","example":"preemptive"},"EnableStatus":{"title":"启用状态","description":"地址池启用状态：\n\n- enable：启用状态\n\n- disable：禁用状态","type":"string","example":"enable"},"HealthJudgement":{"title":"健康判定","description":"地址池健康状态判定条件：\n\n- any_ok：地址池内至少1个地址是可用地址；\n\n- p30_ok：地址池内至少30%地址是可用地址；\n\n- p50_ok：地址池内至少50%地址是可用地址；\n\n- p70_ok：地址池内至少70%地址是可用地址；\n\n- all_ok：地址池内地址全部可用；","type":"string","example":"any_ok"},"HealthStatus":{"title":"健康状态","description":"地址池健康状态：\n\n- ok：正常，地址池引用的所有地址全部可用。\n\n- ok_alert：警告，地址池引用的地址部分不可用，但是地址池状态判定为正常。警告状态下，可用的地址池正常解析，不可用的地址池停止解析\n\n- exceptional：异常，地址池引用的地址部分或全部不可用，地址池状态判定为异常。","type":"string","example":"ok"},"AvailableStatus":{"title":"可用性状态","description":"地址池可用性状态：\n\n- available：可用\n\n- unavailable：不可用","type":"string","example":"available"},"Addresses":{"type":"object","properties":{"Address":{"description":"地址列表。","type":"array","items":{"description":"地址信息。","type":"object","properties":{"CreateTime":{"title":"创建时间","description":"地址创建时间。","type":"string","example":"2024-03-15T01:46Z\n"},"CreateTimestamp":{"description":"地址创建时间（时间戳）。","type":"integer","format":"int64","example":"1527690629357"},"UpdateTime":{"title":"修改时间","description":"地址最后一次修改时间。","type":"string","example":"2024-03-15T01:46Z\n"},"UpdateTimestamp":{"description":"地址的最后一次的修改时间（时间戳）。","type":"integer","format":"int64","example":"1527690629357"},"AddressId":{"title":"地址 ID","description":"地址 ID，地址的唯一标识码。","type":"string","example":"addr-89518218114368**92\n"},"WeightValue":{"title":"权重","description":"权重值（1-100内的整数，包括1和100），支持对每个地址设置不同的权重值，实现解析查询按照权重比例返回地址。","type":"integer","format":"int32","example":"1"},"SerialNumber":{"title":"序号","description":"顺序号，标识地址返回的优先级，越小优先级越高。","type":"integer","format":"int32","example":"1"},"RequestSource":{"type":"object","properties":{"RequestSource":{"description":"解析请求来源列表。","type":"array","items":{"description":"请求来源，是指解析请求的来源，GTM是根据终端所用LocalDNS的出口IP进行调度。若LocalDNS支持ECS (edns-client-subnet)，也可以根据访问终端的IP进行智能调度。","type":"string","example":"[\"default\"]"}}}},"Name":{"title":"地址名称","description":"地址名称。","type":"string","example":"Address-1"},"Type":{"title":"地址类型","description":"地址类型：\n\n- IPv4：ipv4地址\n\n- IPv6：ipv6地址\n\n- domain：域名","type":"string","example":"IPv4"},"Address":{"description":"IP地址或域名。","type":"string","example":"223.5.XX.XX"},"AttributeInfo":{"title":"地址归属信息","description":"地址归属信息，当前版本不支持返回此参数。","type":"string","example":"当前版本不支持返回此参数。"},"Remark":{"title":"备注","description":"地址的备注。","type":"string","example":"test"},"EnableStatus":{"title":"启用状态 enable： 可用， disable：不可用","description":"地址启用状态，表示地址当前是否可用：\n\n- enable：启用状态\n\n- disable：禁用状态","type":"string","example":"enable"},"AvailableMode":{"title":"可用状态设置模式","description":"地址探测异常切换方式：\n\n- auto：自动模式（根据健康检查探测结果确定，探测异常停止解析，探测正常恢复解析）\n\n- manual：手动模式（异常状态下停止解析，健康检查正常也不会恢复解析；正常状态下恢复解析，健康检查异常也只是告警，但不会停止解析。）","type":"string","example":"auto"},"ManualAvailableStatus":{"title":"手动设置的可用状态","description":"当地址探测异常切换模式为manual时，地址设置的可用状态：\n\n- available：正常，此状态下该地址正常解析，健康检查异常也只是告警，但不会停止解析；\n\n- unavailable：异常，此状态下停止解析，健康检查正常也不会恢复解析；","type":"string","example":"available"},"AvailableStatus":{"title":"地址可用状态","description":"地址可用状态：\n\n- available：地址可用\n\n- unavailable：地址不可用","type":"string","example":"available"},"HealthStatus":{"title":"地址的健康状态：","description":"地址健康探测状态：\n\n- ok：地址引用的健康探测模板探测任务全部正常；\n\n- ok_alert：地址引用的健康探测模板探测任务部分异常，但地址判定为正常状态；\n\n- ok_no_monitor：地址没有引用任何健康探测模板，状态正常；\n\n- exceptional：地址引用的健康探测模板探测任务部分或全部异常，且地址判定为异常状态；","type":"string","example":"ok"},"HealthJudgement":{"title":"地址健康状态判定为ok 的方式：","description":"地址健康状态判定条件：\n\n- any_ok：所有探测模板至少一个探测正常\n\n- p30_ok：所有探测模板至少30%探测正常\n\n- p50_ok：所有探测模板至少50%探测正常\n\n- p70_ok：所有探测模板至少70%探测正常\n\n- all_ok：所有探测模板全部探测正常","type":"string","example":"any_ok"},"HealthTasks":{"type":"object","properties":{"HealthTask":{"title":"健康探测任务列表","description":"健康探测任务列表。","type":"array","items":{"description":"健康探测任务配置。","type":"object","properties":{"Port":{"description":"健康检查探测的目标地址服务端口，当健康检查选择Ping协议时，不支持服务端口的配置。","type":"integer","format":"int32","example":"80"},"TemplateId":{"description":"地址关联的健康探测模板ID。","type":"string","example":"mtp-89518052425100**80\n"},"TemplateName":{"description":"健康探测模板名称。","type":"string","example":"IPv4-Ping"}}}}}},"SeqNonPreemptiveSchedule":{"description":"是否是顺序（非抢占）模式调度对象，针对于融合云纳管场景：\n\n- true：是\n\n- false：不是","type":"boolean","example":"false"}}}}}},"Remark":{"description":"地址的备注。","type":"string","example":"test"}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"6856BCF6-11D6-4D7E-AC53-FD579933522B\\\",\\n  \\\"CreateTime\\\": \\\"2024-03-15T01:46Z\\\",\\n  \\\"CreateTimestamp\\\": 1527690629357,\\n  \\\"UpdateTime\\\": \\\"2024-03-15T01:46Z\\\",\\n  \\\"UpdateTimestamp\\\": 1527690629357,\\n  \\\"AddressPoolId\\\": \\\"pool-89564674533755**96\\\",\\n  \\\"AddressPoolName\\\": \\\"AddressPool-1\\\",\\n  \\\"AddressPoolType\\\": \\\"IPv4\\\",\\n  \\\"AddressLbStrategy\\\": \\\"round_robin\\\",\\n  \\\"SequenceLbStrategyMode\\\": \\\"preemptive\\\",\\n  \\\"EnableStatus\\\": \\\"enable\\\",\\n  \\\"HealthJudgement\\\": \\\"any_ok\\\",\\n  \\\"HealthStatus\\\": \\\"ok\\\",\\n  \\\"AvailableStatus\\\": \\\"available\\\",\\n  \\\"Addresses\\\": {\\n    \\\"Address\\\": [\\n      {\\n        \\\"CreateTime\\\": \\\"2024-03-15T01:46Z\\\\n\\\",\\n        \\\"CreateTimestamp\\\": 1527690629357,\\n        \\\"UpdateTime\\\": \\\"2024-03-15T01:46Z\\\\n\\\",\\n        \\\"UpdateTimestamp\\\": 1527690629357,\\n        \\\"AddressId\\\": \\\"addr-89518218114368**92\\\\n\\\",\\n        \\\"WeightValue\\\": 1,\\n        \\\"SerialNumber\\\": 1,\\n        \\\"RequestSource\\\": {\\n          \\\"RequestSource\\\": [\\n            \\\"[\\\\\\\"default\\\\\\\"]\\\"\\n          ]\\n        },\\n        \\\"Name\\\": \\\"Address-1\\\",\\n        \\\"Type\\\": \\\"IPv4\\\",\\n        \\\"Address\\\": \\\"223.5.XX.XX\\\",\\n        \\\"AttributeInfo\\\": \\\"当前版本不支持返回此参数。\\\",\\n        \\\"Remark\\\": \\\"test\\\",\\n        \\\"EnableStatus\\\": \\\"enable\\\",\\n        \\\"AvailableMode\\\": \\\"auto\\\",\\n        \\\"ManualAvailableStatus\\\": \\\"available\\\",\\n        \\\"AvailableStatus\\\": \\\"available\\\",\\n        \\\"HealthStatus\\\": \\\"ok\\\",\\n        \\\"HealthJudgement\\\": \\\"any_ok\\\",\\n        \\\"HealthTasks\\\": {\\n          \\\"HealthTask\\\": [\\n            {\\n              \\\"Port\\\": 80,\\n              \\\"TemplateId\\\": \\\"mtp-89518052425100**80\\\\n\\\",\\n              \\\"TemplateName\\\": \\\"IPv4-Ping\\\"\\n            }\\n          ]\\n        },\\n        \\\"SeqNonPreemptiveSchedule\\\": false\\n      }\\n    ]\\n  },\\n  \\\"Remark\\\": \\\"test\\\"\\n}\",\"type\":\"json\"}]","title":"获取地址池"}