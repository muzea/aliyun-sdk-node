{"summary":"创建Tair版实例。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create","abilityTreeCode":"56360","abilityTreeNodes":["FEATUREkvstoreSIWMD9"]},"parameters":[{"name":"RegionId","in":"query","schema":{"description":"地域ID，可调用[DescribeRegions](~~61012~~)查询，使用此参数指定要创建实例的地域。","type":"string","required":true,"docRequired":true,"example":"cn-hangzhou"}},{"name":"InstanceName","in":"query","schema":{"description":"实例名称，需满足下述要求：\n* 长度为2~80个字符。\n* 以大小写英文字母或中文开头，不支持空格和特殊字符：`@/:=”<>{[]}`。","type":"string","required":false,"example":"apitest"}},{"name":"Password","in":"query","schema":{"description":"实例密码，需满足下述要求：\n* 长度为8~32位。\n* 需包含大写字母、小写字母、特殊字符和数字中的至少三种，支持的特殊字符为`!@#$%^&*()_+-=`。","type":"string","required":false,"example":"Pass!123456"}},{"name":"InstanceClass","in":"query","schema":{"description":"实例规格，更多信息，请参见：\n- [内存型规格](~~443844~~)。\n- [持久内存型规格](~~443845~~)。\n- [磁盘型规格](~~443846~~)。","type":"string","required":true,"docRequired":true,"example":"tair.scm.standard.4m.32d"}},{"name":"ZoneId","in":"query","schema":{"description":"主可用区ID，可调用[DescribeRegions](~~61012~~)查询，使用此参数指定要创建实例的可用区。\n> 您也可以再传入SecondaryZoneId参数指定备可用区，主备节点将分别部署在指定的主可用区和备可用区，实现同城双中心主备架构。例如指定ZoneId参数为\"cn-hangzhou-h\"，指定SecondaryZoneId参数为\"cn-hangzhou-g\"。","type":"string","required":false,"docRequired":true,"example":"cn-hangzhou-h"}},{"name":"ChargeType","in":"query","schema":{"description":"付费类型，取值：\n- **PrePaid**（默认）：预付费，即包年包月。\n- **PostPaid**：按量付费。","type":"string","required":false,"enumValueTitles":{"PostPaid":"PostPaid","PrePaid":"PrePaid"},"example":"PrePaid","default":"PrePaid","enum":["PrePaid","PostPaid"]}},{"name":"VpcId","in":"query","schema":{"description":"专有网络ID，可调用专有网络VPC的[DescribeVpcs](~~35739~~)获取。","type":"string","required":true,"docRequired":true,"example":"vpc-bp1nme44gek34slfc****"}},{"name":"VSwitchId","in":"query","schema":{"description":"该专有网络下的虚拟交换机ID，可调用专有网络VPC的[DescribeVpcs](~~35739~~)获取。","type":"string","required":true,"docRequired":true,"example":"vsw-bp1e7clcw529l773d****"}},{"name":"Period","in":"query","schema":{"description":"付费周期，单位为月，取值：**1**~**9**、**12**、**24**、**36**、**60** 。\n> 当**ChargeType**取值为**PrePaid**时，本参数必须传入。","type":"integer","format":"int32","required":false,"example":"1"}},{"name":"BusinessInfo","in":"query","schema":{"description":"活动ID、业务信息。","type":"string","required":false,"example":"000000000"}},{"name":"CouponNo","in":"query","schema":{"description":"优惠码。","type":"string","required":false,"example":"youhuiquan_promotion_option_id_for_blank","default":"default"}},{"name":"SrcDBInstanceId","in":"query","schema":{"description":"如需基于某个实例的备份集创建新实例，请先在此参数中指定源实例ID。\n> 然后通过**BackupId**、**ClusterBackupId**（云原生集群架构建议使用ClusterBackupId）或**RestoreTime**参数指定需要使用的备份集或指定时间点，本参数需要与上述3个中的任意一个参数组合使用。","type":"string","required":false,"example":"r-bp1zxszhcgatnx****"}},{"name":"BackupId","in":"query","schema":{"description":"若您的实例是云原生架构实例，并且是集群实例，则建议您使用[DescribeClusterBackupList](~~2679158~~)查询出集群备份集id，例如\"cb-xx\"，然后填入ClusterBackupId请求参数来达到克隆集群实例的目的，免去您输入各个分片备份集id的烦恼。  \n\n\n您可在此参数中指定源实例的备份集ID，系统将使用该备份集中保存的数据创建新实例。通过调用[DescribeBackups](~~61081~~)可查询BackupId。如果源实例是集群实例，则此处需要填写源实例各个分片的备份集id，并且通过逗号隔开，例如\"10**,11**,15**\"","type":"string","required":false,"example":"2158****20"}},{"name":"ClusterBackupId","in":"query","schema":{"description":"部分新集群架构支持集群备份集ID，您可以通过[DescribeClusterBackupList](~~2679158~~)接口获取。\n* 若支持，可输入指定的集群备份集ID即可，无需再填写**BackupId**参数。\n* 若不支持，请在BackupId参数中填写为原实例各个分片下的备份集ID，通过逗号隔开，例如\"2158\\*\\*\\*\\*20,2158\\*\\*\\*\\*22\"等。","type":"string","required":false,"example":"cb-hyxdof5x9kqb****"}},{"name":"RecoverConfigMode","in":"query","schema":{"type":"string","required":false}},{"name":"PrivateIpAddress","in":"query","schema":{"description":"指定实例的内网IP地址。\n\n> 该地址需在实例所属交换机的网段内，您可以调用专有网络VPC的[DescribeVSwitches](~~35748~~)获取网段信息。","type":"string","required":false,"example":"172.16.88.***"}},{"name":"AutoUseCoupon","in":"query","schema":{"description":"是否使用代金券，取值：\n* **true**：使用代金券。\n* **false**（默认）：不使用代金券。","type":"string","required":false,"example":"true","default":"false"}},{"name":"AutoRenew","in":"query","schema":{"description":"是否开启自动续费，取值：\n* **true**：开启。\n* **false**（默认）：不开启。","type":"string","required":false,"example":"true","default":"false"}},{"name":"AutoRenewPeriod","in":"query","schema":{"description":"自动续费周期，单位为月，取值：**1**、**2**、**3**、**6**、**12**。\n> 当**AutoRenew**取值为**true**时，本参数必须传入。","type":"string","required":false,"example":"3","default":"1"}},{"name":"ResourceGroupId","in":"query","schema":{"description":"目标资源组ID。\n\n> * 您可以通过调用[ListResourceGroups](~~158855~~)接口或通过控制台获取资源组ID列表。相关操作，请参见[查看资源组基本信息](~~151181~~)。\n> * 修改实例所属的资源组之前，您可以调用[ListResources](~~158866~~)接口查看实例现在所属的资源组。","type":"string","required":false,"maximum":"4096","minimum":"1","example":"rg-acfmyiu4ekp****"}},{"name":"AutoPay","in":"query","schema":{"description":"自动支付，取值固定为**true**。\n\n","type":"boolean","required":false,"example":"true","default":"true","enum":["true"]}},{"name":"ClientToken","in":"query","schema":{"description":"用于保证请求的幂等性。由客户端生成该参数值，要保证在不同请求间唯一，大小写敏感、不超过64个ASCII字符。","type":"string","required":false,"example":"ETnLKlblzczshOTUbOCz****"}},{"name":"StorageType","in":"query","schema":{"description":"存储类型，取值为**essd_pl1**、**essd_pl2**、**essd_pl3**。\n> 当**InstanceType**取值为**tair_essd**时，且创建ESSD型时，才需要输入本参数。","type":"string","required":false,"example":"essd_pl1","enum":["essd_pl0","essd_pl1","essd_pl2","essd_pl3"]}},{"name":"Storage","in":"query","schema":{"description":"磁盘型实例的存储空间，不同的规格取值范围有所区别，详情请参见[磁盘型规格](~~443846~~)。\n> 当**InstanceType**取值为**tair_essd**时，且创建ESSD型时，才需要输入本参数。","type":"integer","format":"int32","required":false,"example":"60"}},{"name":"ShardType","in":"query","schema":{"description":"实例类型，取值：\n- **MASTER_SLAVE**（默认）：高可用，采用主从架构，可保障可用性。\n- **STAND_ALONE**：单副本，采用单节点架构。在节点故障后，数据会丢失，系统会自动拉起新的空实例。仅在**单可用区**时支持，且不支持创建集群与读写分离架构。","type":"string","required":false,"example":"MASTER_SLAVE","default":"MASTER_SLAVE","enum":["STAND_ALONE","MASTER_SLAVE"]}},{"name":"ShardCount","in":"query","schema":{"description":"实例中的数据节点个数，取值：\n* **1**：默认值，即表示创建的实例为[标准架构](~~52228~~)，仅拥有1个数据节点。\n* **2**~**32**：传入该范围的值，即表示创建的实例为[集群架构](~~52228~~)，拥有指定数量的数据节点。\n\n> 当**InstanceType**取值为**tair_rdb**或**tair_scm**时，本参数才可以传入**2**~**32**，即只有内存型和持久内存型支持集群架构。","type":"integer","format":"int32","required":false,"docRequired":false,"maximum":"64","minimum":"1","example":"2","default":"1"}},{"name":"ReadOnlyCount","in":"query","schema":{"description":"主可用区的只读节点数，本参数仅适用于创建云盘版读写分离架构实例，您可以通过该参数实现自定义只读节点数量，取值：1~9。\n> 但该参数与SlaveReadOnlyCount的总和不能大于9。","type":"integer","format":"int32","required":false,"docRequired":false,"maximum":"5","minimum":"1","example":"5"}},{"name":"EngineVersion","in":"query","schema":{"description":"数据库版本，默认取值：**1.0**，不同 Tair 产品类型传参规则：\n- Tair_rdb: Tair 内存型兼容Redis 5.0和Redis 6.0协议，传**5.0**或者**6.0**。\n- Tair_scm: Tair 持久内存兼容Redis 6.0协议，传**1.0**。\n- Tair_essd: Tair 磁盘（ESSD/SSD）兼容Redis 6.0协议。 创建ESSD型请传入**1.0**、创建SSD型请传入**2.0**。","type":"string","required":false,"example":"1.0","default":"1.0","enum":["1.0","5.0","6.0","2.0"]}},{"name":"InstanceType","in":"query","schema":{"description":"存储介质，取值：\n* **tair_rdb**：内存型。\n* **tair_scm**：持久内存型。\n* **tair_essd**：磁盘型。","type":"string","required":true,"docRequired":true,"example":"tair_scm","enum":["tair_scm","tair_essd","tair_rdb"]}},{"name":"SecondaryZoneId","in":"query","schema":{"description":"备可用区ID，可调用[DescribeRegions](~~61012~~)查询。\n\n> 本参数和ZoneId参数传入的值不能相同，且不可传入多可用区对应的ID。","type":"string","required":false,"example":"cn-hangzhou-g"}},{"name":"GlobalInstanceId","in":"query","schema":{"description":"是否将本次新建的实例作为分布式实例中的子实例，通过该方式可创建分布实例。\n* 若希望新建的实例作为第一个子实例，请输入**true**。\n* 若希望新建的实例作为第二、三个子实例，请输入分布式实例 ID，例如gr-bp14rkqrhac****。\n* 不作为分布式实例，您无需输入任何值。\n> 若希望作为分布式实例，本次新建的实例需为Tair内存型。","type":"string","required":false,"example":"gr-bp14rkqrhac****"}},{"name":"Tag","in":"query","style":"repeatList","schema":{"description":"实例的标签信息。","type":"array","items":{"description":"标签信息。","type":"object","properties":{"Key":{"description":"标签的键，与Tag Value组成标签的键值对。\n> 单次最多支持传入5组标签的键值对。","type":"string","required":false,"example":"key1_test"},"Value":{"description":"标签的值。\n> **N**表示传入第几个标签的值。例如**Tag.1.Value**表示传入第一个标签的值；**Tag.2.Value**表示传入第二个标签的值。","type":"string","required":false,"example":"value1_test"}},"required":false},"required":false,"maxItems":21}},{"name":"DryRun","in":"query","schema":{"description":"是否对本次创建实例的操作执行预检查，取值：\n* **true**：执行预检查操作，不创建实例。检查项目包含请求参数、请求格式、业务限制和库存。如果检查不通过，则返回对应错误。如果检查通过，则返回错误码`DryRunOperation`。\n* **false**（默认）：发送正常请求，通过检查后直接创建实例。","type":"boolean","required":false,"example":"false","default":"false"}},{"name":"Port","in":"query","allowEmptyValue":false,"schema":{"description":"实例的服务端口，取值范围：1024~65535，默认值为6379。","type":"integer","format":"int32","required":false,"maximum":"65535","minimum":"1024","exclusiveMinimum":false,"example":"6379","default":"6379"}},{"name":"GlobalSecurityGroupIds","in":"query","schema":{"description":"实例的全局IP白名单模板，多个IP白名单模板请用英文逗号（,）分隔，不可重复。","type":"string","required":false,"example":"g-zsldxfiwjmti0kcm****"}},{"name":"ParamGroupId","in":"query","schema":{"description":"参数模板ID，根据新创建的参数模板参数创建实例，不可重复。","type":"string","required":false,"example":"g-50npzjcqb1ua6q6j****"}},{"name":"SlaveReadOnlyCount","in":"query","schema":{"description":"用于多可用区读写分离实例创建时，指定备可用区的只读节点数量，该参数与ReadOnlyCount的总和不能大于9。\n><notice>创建多可用区读写分离实例 SlaveReadOnlyCount  和 SecondaryZoneId 需要同时指定。></notice>","type":"integer","format":"int32","required":false,"example":"1","default":"0"}},{"name":"RestoreTime","in":"query","schema":{"description":"若源实例已开启数据闪回，您可在此参数中指定源实例备份保留周期内的任意时间点，系统将使用源实例在该时间点的备份数据创建新实例。格式为<i>yyyy-MM-dd</i>T<i>HH:mm:ss</i>Z（UTC时间）。","type":"string","required":false,"example":"2021-07-06T07:25:57Z"}}],"responses":{"200":{"schema":{"description":"对象。","type":"object","properties":{"QPS":{"description":"每秒处理的最大读写操作数，单位为次/秒，此处为当前实例规格的理论值。","type":"integer","format":"int64","example":"100000"},"ConnectionDomain":{"description":"实例的内网连接地址。","type":"string","example":"r-bp13ac3d047b****.tairpena.rds.aliyuncs.com"},"ChargeType":{"description":"实例的付费类型，返回值：\n- **PrePaid**：预付费。\n- **PostPaid**：按量付费。","type":"string","example":"PrePaid"},"InstanceId":{"description":"实例ID。","type":"string","example":"r-bp13ac3d047b****"},"Port":{"description":"实例的端口号。","type":"integer","format":"int32","example":"6379"},"Config":{"description":"实例的详细配置，格式为JSON字符串。关于各参数的详细解释，请参见[参数配置说明](~~43885~~)。","type":"string","example":"{\\\"EvictionPolicy\\\":\\\"volatile-lru\\\",\\\"hash-max-ziplist-entries\\\":512,\\\"zset-max-ziplist-entries\\\":128,\\\"list-max-ziplist-entries\\\":512,\\\"list-max-ziplist-value\\\":64,\\\"zset-max-ziplist-value\\\":64,\\\"set-max-intset-entries\\\":512,\\\"hash-max-ziplist-value\\\":64}"},"RegionId":{"description":"地域ID。","type":"string","example":"cn-hangzhou"},"RequestId":{"description":"请求ID。","type":"string","example":"12123216-4B00-4378-BE4B-08005BFC****"},"Bandwidth":{"description":"实例的最大带宽，单位：MB/s。","type":"integer","format":"int64","example":"96"},"Connections":{"description":"实例的最大连接数。","type":"integer","format":"int64","example":"10000"},"InstanceName":{"description":"实例名称。\n> 当传入了请求参数**InstanceName**时，本参数才会返回。","type":"string","example":"redistest"},"ZoneId":{"description":"可用区ID。","type":"string","example":"cn-hangzhou-h"},"InstanceStatus":{"description":"实例当前的状态，返回值固定为**Creating**（创建中）。","type":"string","example":"Creating"},"TaskId":{"description":"任务ID。","type":"string","example":"10****"},"OrderId":{"description":"订单ID。","type":"integer","format":"int64","example":"2084452111111"}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"Period is mandatory for this action."},{"errorCode":"InvalidToken.Malformed","errorMessage":"The Specified parameter Token is not valid."},{"errorCode":"InvalidInstanceName.Malformed","errorMessage":"The Specified parameter InstanceName is not valid."},{"errorCode":"InvalidPassword.Malformed","errorMessage":"The Specified parameter Password is not valid."},{"errorCode":"InsufficientBalance","errorMessage":"Your account does not have enough balance."},{"errorCode":"QuotaExceed.AfterpayInstance","errorMessage":"Living afterpay instances quota exceeded."},{"errorCode":"InvalidCapacity.NotFound","errorMessage":"The Capacity provided does not exist in our records."},{"errorCode":"ResourceNotAvailable","errorMessage":"Resource you requested is not available for finance user."},{"errorCode":"PaymentMethodNotFound","errorMessage":"No payment method has been registered on the account."},{"errorCode":"IdempotentParameterMismatch","errorMessage":"Request uses a client token in a previous request but is not identical to that request."},{"errorCode":"QuotaNotEnough","errorMessage":"Quota not enough in this zone."},{"errorCode":"QuotaExceed","errorMessage":"Living afterpay instances quota exceed."},{"errorCode":"VpcServiceError","errorMessage":"Invoke vpc service failed."},{"errorCode":"IzNotSupportVpcError","errorMessage":"Specify iz not support vpc."},{"errorCode":"InvalidvSwitchId","errorMessage":"The vpc does not cover the vswitch."},{"errorCode":"InvalidIzNo.NotSupported","errorMessage":"The Specified vpc zone not supported."},{"errorCode":"InvalidAccountPassword.Format","errorMessage":"Specified account password is not valid."},{"errorCode":"InstanceClass.NotMatch","errorMessage":"Current instance class and instance type is not match."},{"errorCode":"InvalidVPCId.NotFound","errorMessage":"Specified virtual vpc is not found."},{"errorCode":"AccountMoneyValidateError","errorMessage":"Account money validate error."},{"errorCode":"RequestTokenConflict","errorMessage":"Specified request token conflict."},{"errorCode":"InvalidIPNotInSubnet","errorMessage":"Error ip not in subnet."},{"errorCode":"InvalidEngineVersion.Malformed","errorMessage":"Specified engine version is not valid."},{"errorCode":"Zone.Closed","errorMessage":"The specified zone is closed."},{"errorCode":"VSwithNotBelongToNotVpcFault","errorMessage":"The vSwitch does not belong to current vpc."},{"errorCode":"PayIllegalAgreement","errorMessage":"Pay mayi with holding agreement illegal."},{"errorCode":"IllegalParamError","errorMessage":"validateSaleConditionWithSubArticle failed."},{"errorCode":"CASH_BOOK_INSUFFICIENT","errorMessage":"No payment method is specified for your account. We recommend that you add a payment method or maitain a minimum prepayment balance of INR 1000."},{"errorCode":"InvalidRegion.Format","errorMessage":"Specified Region is not valid."}],"403":[{"errorCode":"RealNameAuthenticationError","errorMessage":"Your account has not passed the real-name authentication yet."},{"errorCode":"AuthorizationFailure","errorMessage":"The request processing has failed due to authorization failure."},{"errorCode":"TokenServiceError","errorMessage":"The specified token is duplicated, please change it."},{"errorCode":"UserCannotBuyNotInnerCommodity","errorMessage":"The user can not buy this commodity without alibaba group tag."}],"404":[{"errorCode":"InvalidCapacity.NotFound","errorMessage":"The Capacity provided does not exist in our records."},{"errorCode":"InvalidvSwitchId","errorMessage":"The Specified vSwitchId zone not supported."},{"errorCode":"InvalidVpcIdOrVswitchId.NotSupported","errorMessage":"The Specified vpcId or vSwitchId not supported."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"QPS\\\": 100000,\\n  \\\"ConnectionDomain\\\": \\\"r-bp13ac3d047b****.tairpena.rds.aliyuncs.com\\\",\\n  \\\"ChargeType\\\": \\\"PrePaid\\\",\\n  \\\"InstanceId\\\": \\\"r-bp13ac3d047b****\\\",\\n  \\\"Port\\\": 6379,\\n  \\\"Config\\\": \\\"{\\\\\\\\\\\\\\\"EvictionPolicy\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"volatile-lru\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"hash-max-ziplist-entries\\\\\\\\\\\\\\\":512,\\\\\\\\\\\\\\\"zset-max-ziplist-entries\\\\\\\\\\\\\\\":128,\\\\\\\\\\\\\\\"list-max-ziplist-entries\\\\\\\\\\\\\\\":512,\\\\\\\\\\\\\\\"list-max-ziplist-value\\\\\\\\\\\\\\\":64,\\\\\\\\\\\\\\\"zset-max-ziplist-value\\\\\\\\\\\\\\\":64,\\\\\\\\\\\\\\\"set-max-intset-entries\\\\\\\\\\\\\\\":512,\\\\\\\\\\\\\\\"hash-max-ziplist-value\\\\\\\\\\\\\\\":64}\\\",\\n  \\\"RegionId\\\": \\\"cn-hangzhou\\\",\\n  \\\"RequestId\\\": \\\"12123216-4B00-4378-BE4B-08005BFC****\\\",\\n  \\\"Bandwidth\\\": 96,\\n  \\\"Connections\\\": 10000,\\n  \\\"InstanceName\\\": \\\"redistest\\\",\\n  \\\"ZoneId\\\": \\\"cn-hangzhou-h\\\",\\n  \\\"InstanceStatus\\\": \\\"Creating\\\",\\n  \\\"TaskId\\\": \\\"10****\\\",\\n  \\\"OrderId\\\": 2084452111111\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateTairInstanceResponse>\\r\\n    <Connections>10000</Connections>\\r\\n    <TaskId>10****</TaskId>\\r\\n    <RequestId>F371C892-2143-4640-810E-74553F37****</RequestId>\\r\\n    <ZoneId>cn-hangzhou-h</ZoneId>\\r\\n    <InstanceId>r-bp13ac3d047b****</InstanceId>\\r\\n    <Config>{\\\"EvictionPolicy\\\":\\\"volatile-lru\\\",\\\"hash-max-ziplist-entries\\\":512,\\\"zset-max-ziplist-entries\\\":128,\\\"list-max-ziplist-entries\\\":512,\\\"list-max-ziplist-value\\\":64,\\\"zset-max-ziplist-value\\\":64,\\\"set-max-intset-entries\\\":512,\\\"hash-max-ziplist-value\\\":64}</Config>\\r\\n    <Port>6379</Port>\\r\\n    <InstanceName>redistest</InstanceName>\\r\\n    <ConnectionDomain>r-bp13ac3d047b****.tairpena.rds.aliyuncs.com</ConnectionDomain>\\r\\n    <QPS>100000</QPS>\\r\\n    <InstanceStatus>Creating</InstanceStatus>\\r\\n    <ChargeType>PrePaid</ChargeType>\\r\\n    <Bandwidth>96</Bandwidth>\\r\\n    <RegionId>cn-hangzhou</RegionId>\\r\\n</CreateTairInstanceResponse>\",\"errorExample\":\"\"}]","title":"创建Tair实例","description":"选型参考资料，请参见[阿里云Redis产品选型必读](~~223808~~)。\n\n请确保在使用该接口前，已充分了解云数据库Redis产品的收费方式和[价格](~~54532~~)。\n\n> * 关于控制台的操作方法，请参见[创建Tair实例](~~443863~~)。\n> * 如需创建其他类型的实例，例如社区版或[Tair内存型](~~126164~~)经典版实例，您可以调用[CreateInstance](~~60873~~)接口。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}