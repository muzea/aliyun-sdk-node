{"summary":"恢复指定备份文件中的数据到Redis实例中。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"update"},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"r-bp1zxszhcgatnx****"}},{"name":"BackupId","in":"query","schema":{"description":"实例的备份文件ID。您可以调用[DescribeBackups](~~61081~~)查询。","type":"string","required":false,"docRequired":false,"example":"78241****","default":"0"}},{"name":"RestoreType","in":"query","schema":{"description":"恢复类型，取值：\n* **0**：默认值，恢复指定的备份集。><danger>备份集的数据会覆盖当前数据库中所有数据，请谨慎操作。></danger>\n* **1**：恢复至指定的时间点，仅当实例开启了[数据闪回](~~148479~~)功能时，您才可以传入该值。传入为该值时，您还需要传入**RestoreTime**参数。","type":"string","required":false,"example":"1","pattern":"^\\d+$","default":"0","enum":["0","1"]}},{"name":"RestoreTime","in":"query","schema":{"description":"要恢复的时间点，格式为<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。\n\n> * 当实例开启了[数据闪回](~~148479~~)后，您可以传入本参数和**FilterKey**参数实现将指定Key的数据恢复至某个时间点（秒级），其他的Key不受影响，可实现更精细化的数据恢复。\n> * 传入本参数时，要求**RestoreType**参数传入的值为**1**。","type":"string","required":false,"example":"2021-07-06T07:25:57Z"}},{"name":"FilterKey","in":"query","schema":{"description":"指定要恢复的Key，支持正则表达式，多个值使用英文逗号（,）分隔。\n\n> * 例如正则表达式中，星号（`*`）表示匹配前面子表达式任意次，本参数传入`h.*llo`，系统将匹配`hllo`或`heeeello`等字符串。\n> * 传入本参数时，要求**RestoreType**参数传入的值为**1**。","type":"string","required":false,"example":"key:00000007198*"}},{"name":"TimeShift","in":"query","allowEmptyValue":true,"schema":{"description":"对Key的过期时间进行偏移处理，格式为yyyy-MM-ddTHH:mmZ（UTC时间）。实例会将Key在指定闪回时间点所剩余的过期时长，偏移至设置的过期偏移时间点开始计算。\n> 该时间点不能早于指定的闪回时间点，也不能晚于提交恢复任务的时间点。","type":"string","required":false,"example":"2021-07-06T08:25:57Z"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"8D0C0AFC-E9CD-47A4-8395-5C31BF9B****"}}}}},"errorCodes":{"400":[{"errorCode":"ServiceNotSupport","errorMessage":"This service not supported."},{"errorCode":"MissingParameter","errorMessage":"Missing Required Param: BackupId or RestoreTime or RestoreType."},{"errorCode":"ResroreParamNotMatch","errorMessage":"restoreType is not match with backupId or restoreTime."},{"errorCode":"InvalidRestoreTime.Format","errorMessage":"Specified restore time is not valid."},{"errorCode":"ZoneMigrationError.StillingRunning","errorMessage":"Zone migration task is still running"},{"errorCode":"InvalidBinlog.NotValid","errorMessage":"The available binlog is not valid in recovery time."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"8D0C0AFC-E9CD-47A4-8395-5C31BF9B****\\\"\\n}\",\"errorExample\":\"{\\n\\\"RequestId\\\" : \\\"AFA391BF-808F-4DA6-80A2-A382108A0945\\\"\\n}\"},{\"type\":\"xml\",\"example\":\"<RestoreInstanceResponse>\\n    <RequestId>8D0C0AFC-E9CD-47A4-8395-5C31BF9B****</RequestId>\\n</RestoreInstanceResponse>\",\"errorExample\":\"<RestoreInstanceResponse>\\n <RequestId>8D0C0AFC-E9CD-47A4-8395-5C31BF9B3E76</RequestId>\\n</RestoreInstanceResponse>\"}]","title":"恢复Redis数据","description":"> * 当您的实例为[内存型（兼容Redis 5.0）](~~443827~~)或[持久内存型](~~443828~~)，且已开启了[数据闪回](~~443784~~)，您可以调用本接口将指定Key的数据恢复至某个秒级时间点，其他的Key不受影响，可实现更精细化的数据恢复。\n> * 除上述以外的实例，调用本接口会使用备份数据覆盖Redis实例的现有数据，存在较大风险，请务必谨慎操作。 推荐调用[CreateInstance](~~60873~~)接口，将备份数据恢复至新实例中。","requestParamsDescription":" ","responseParamsDescription":" ","extraInfo":" "}