{"summary":"查询Redis实例的备份文件信息。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"read","deprecated":false,"systemTags":{"operationType":"get","riskType":"none","chargeType":"free","abilityTreeCode":"56385","abilityTreeNodes":["FEATUREkvstore6TUUNS"]},"parameters":[{"name":"InstanceId","in":"query","schema":{"description":"实例ID。","type":"string","required":true,"docRequired":true,"example":"r-bp1zxszhcgatnx****"}},{"name":"BackupId","in":"query","schema":{"description":"备份文件的ID。","type":"integer","format":"int64","required":false,"example":"11611111"}},{"name":"BackupJobId","in":"query","schema":{"description":"备份任务ID，由CreateBackup返回，CreateBackup若返回多个BackupJobId，则需要使用本接口分别对其查询。","type":"integer","format":"int64","required":false,"example":"10001"}},{"name":"PageSize","in":"query","schema":{"description":"每页最大记录数，取值：30、50、100、200或300。","type":"integer","format":"int32","required":false,"example":"30","default":"30","enum":["30","50","100","200","300"]}},{"name":"PageNumber","in":"query","schema":{"description":"页码，取值大于**0**且不超过Integer数据类型的最大值，默认值为**1**。","type":"integer","format":"int32","required":false,"example":"1","default":"1"}},{"name":"StartTime","in":"query","schema":{"description":"查询开始时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2019-03-11T10:00Z"}},{"name":"EndTime","in":"query","schema":{"description":"查询结束时间，必须晚于查询开始时间，格式为<i>yyyy-MM-dd</i>T<i>HH:mm</i>Z（UTC时间）。","type":"string","required":true,"docRequired":true,"example":"2019-03-14T18:00Z"}},{"name":"NeedAof","in":"query","schema":{"description":"是否开启AoF落盘，取值：\n* **0**：关闭。\n* **1**：开启。\n\n> 默认值：**0**。","type":"string","required":false,"example":"1"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"963C20F0-7CE1-4591-AAF3-6F3CD1CE****"},"PageNumber":{"description":"页码。","type":"integer","format":"int32","example":"1"},"PageSize":{"description":"每页最大记录数。","type":"integer","format":"int32","example":"30"},"TotalCount":{"description":"备份总个数。","type":"integer","format":"int32","example":"5"},"FullStorageSize":{"description":"当前实例全量备份文件的大小，单位是字节。全量备份来源于每天定时备份、手动备份、缓存分析时生成的备份等。\n> 该值和当前请求所响应的备份集数量以及大小无关，而是该实例当前所有有效全量备份的大小。","type":"integer","format":"int64","example":"1000"},"LogStorageSize":{"description":"当前实例日志备份文件的大小，单位是字节，当且仅当开启闪回时才有效。\n> 该值和当前请求所响应的备份集数量以及大小无关，而是该实例当前所有有效日志备份的大小。","type":"integer","format":"int64","example":"5000"},"FreeSize":{"description":"<props=\"china\">该实例的免费备份额度，单位是字节，免费额度为实例规格默认内存量，更多信息请参见[备份商业化通知](~~2664017~~)。\n全量备份和日志备份共享该免费额度。当变配实例规格时，实例的免费额度会产生变化。</props>\n<props=\"intl\">该参数未生效，请忽略该参数。</props>","type":"integer","format":"int64","example":"100000"},"Backups":{"type":"object","properties":{"Backup":{"description":"备份集详情。","type":"array","items":{"type":"object","properties":{"BackupStatus":{"description":"备份状态，返回值：\n* **Success**：成功。\n* **Failed**：失败。","type":"string","example":"Success"},"BackupStartTime":{"description":"备份开始时间。","type":"string","example":"2019-03-14T05:28:50Z"},"BackupType":{"description":"备份类型，返回值：\n* **FullBackup**：全量备份。\n* **IncrementalBackup**：增量备份。","type":"string","example":"FullBackup"},"BackupDownloadURL":{"description":"备份文件的外网下载地址。","type":"string","example":"https://rdsbak-hk45-v2.oss-cn-hongkong.aliyuncs.com/********"},"NodeInstanceId":{"description":"节点ID。\n> 当实例的架构为标准版时，本参数返回的是实例ID。","type":"string","example":"r-bp10noxlhcoim2****-db-1"},"BackupEndTime":{"description":"备份结束时间。","type":"string","example":"2019-03-14T05:31:13Z"},"BackupId":{"description":"备份文件ID。","type":"integer","format":"int64","example":"165*****50"},"BackupDBNames":{"description":"备份的数据库，默认为**all**，即备份所有数据库。","type":"string","example":"all"},"EngineVersion":{"description":"引擎版本，即Redis实例的大版本。","type":"string","example":"4.0"},"BackupIntranetDownloadURL":{"description":"备份文件的内网下载地址。\n\n> 您可以在与该Redis实例连通的ECS（二者需属于同地域的经典网络或者在同一VPC内）上使用该地址下载目标备份文件。","type":"string","example":"https://rdsbak-hk45-v2.oss-cn-hongkong.aliyuncs.com/********"},"BackupSize":{"description":"备份文件大小。","type":"integer","format":"int64","example":"1024"},"BackupMode":{"description":"备份模式，返回值：\n* **Automated**：自动备份。\n* **Manual**：手动备份。\n         ","type":"string","example":"Automated"},"BackupMethod":{"description":"备份方法，返回值：\n* **Logical**：逻辑备份。\n* **Physical**：物理备份。 \n         ","type":"string","example":"Physical"},"BackupJobID":{"description":"备份任务ID。","type":"integer","format":"int64","example":"24340"},"RecoverConfigMode":{"type":"string"}}}}}},"AccessDeniedDetail":{"description":"本组参数已弃用，请忽略。","type":"object","properties":{"AuthAction":{"description":"说明如上。","type":"string","example":"-"},"AuthPrincipalDisplayName":{"description":"说明如上。","type":"string","example":"-"},"AuthPrincipalOwnerId":{"description":"说明如上。","type":"string","example":"-"},"AuthPrincipalType":{"description":"说明如上。","type":"string","example":"-"},"EncodedDiagnosticMessage":{"description":"说明如上。","type":"string","example":"-"},"NoPermissionType":{"description":"说明如上。","type":"string","example":"-"},"PolicyType":{"description":"说明如上。","type":"string","example":"-"}}}}}}},"errorCodes":{"400":[{"errorCode":"InvalidStartTime.Malformed","errorMessage":"The Specified parameter StartTime is not valid."},{"errorCode":"InvalidEndTime.Malformed","errorMessage":"The Specified parameter EndTime is not valid."},{"errorCode":"InvalidEngineVersion.Malformed","errorMessage":"The Specified EngieVersion is not valid."},{"errorCode":"InvalidStartTimeAndEndTime.Malformed","errorMessage":"The end time must be greater than the start time."},{"errorCode":"InvalidPageSize.Malformed","errorMessage":"The specified  parameter PageSize is not valid."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"963C20F0-7CE1-4591-AAF3-6F3CD1CE****\\\",\\n  \\\"PageNumber\\\": 1,\\n  \\\"PageSize\\\": 30,\\n  \\\"TotalCount\\\": 5,\\n  \\\"FullStorageSize\\\": 1000,\\n  \\\"LogStorageSize\\\": 5000,\\n  \\\"FreeSize\\\": 100000,\\n  \\\"Backups\\\": {\\n    \\\"Backup\\\": [\\n      {\\n        \\\"BackupStatus\\\": \\\"Success\\\",\\n        \\\"BackupStartTime\\\": \\\"2019-03-14T05:28:50Z\\\",\\n        \\\"BackupType\\\": \\\"FullBackup\\\",\\n        \\\"BackupDownloadURL\\\": \\\"https://rdsbak-hk45-v2.oss-cn-hongkong.aliyuncs.com/********\\\",\\n        \\\"NodeInstanceId\\\": \\\"r-bp10noxlhcoim2****-db-1\\\",\\n        \\\"BackupEndTime\\\": \\\"2019-03-14T05:31:13Z\\\",\\n        \\\"BackupId\\\": 0,\\n        \\\"BackupDBNames\\\": \\\"all\\\",\\n        \\\"EngineVersion\\\": \\\"4.0\\\",\\n        \\\"BackupIntranetDownloadURL\\\": \\\"https://rdsbak-hk45-v2.oss-cn-hongkong.aliyuncs.com/********\\\",\\n        \\\"BackupSize\\\": 1024,\\n        \\\"BackupMode\\\": \\\"Automated\\\",\\n        \\\"BackupMethod\\\": \\\"Physical\\\",\\n        \\\"BackupJobID\\\": 24340,\\n        \\\"RecoverConfigMode\\\": \\\"\\\"\\n      }\\n    ]\\n  },\\n  \\\"AccessDeniedDetail\\\": {\\n    \\\"AuthAction\\\": \\\"-\\\",\\n    \\\"AuthPrincipalDisplayName\\\": \\\"-\\\",\\n    \\\"AuthPrincipalOwnerId\\\": \\\"-\\\",\\n    \\\"AuthPrincipalType\\\": \\\"-\\\",\\n    \\\"EncodedDiagnosticMessage\\\": \\\"-\\\",\\n    \\\"NoPermissionType\\\": \\\"-\\\",\\n    \\\"PolicyType\\\": \\\"-\\\"\\n  }\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<DescribeBackupsResponse>\\n    <TotalCount>1</TotalCount>\\n    <RequestId>721E2D39-351D-40E2-BF7C-B5075B0A****</RequestId>\\n    <PageSize>30</PageSize>\\n    <PageNumber>1</PageNumber>\\n    <Backups>\\n        <Backup>\\n            <BackupMethod>Physical</BackupMethod>\\n            <EngineVersion>4.0</EngineVersion>\\n            <BackupIntranetDownloadURL>http://rdsbak-hz-v3.oss-cn-hangzhou-internal.aliyuncs.com/********</BackupIntranetDownloadURL>\\n            <BackupMode>Automated</BackupMode>\\n            <BackupSize>2263040</BackupSize>\\n            <BackupId>775661111</BackupId>\\n            <NodeInstanceId>r-bp12fdcf4dea****</NodeInstanceId>\\n            <BackupDBNames>all</BackupDBNames>\\n            <BackupDownloadURL>http://rdsbak-hz-v3.oss-cn-hangzhou.aliyuncs.com/********</BackupDownloadURL>\\n            <BackupEndTime>2020-10-30T17:31:26Z</BackupEndTime>\\n            <BackupStartTime>2020-10-30T17:28:28Z</BackupStartTime>\\n            <BackupType>FullBackup</BackupType>\\n            <BackupJobID>27717</BackupJobID>\\n            <BackupStatus>Success</BackupStatus>\\n        </Backup>\\n    </Backups>\\n</DescribeBackupsResponse>\",\"errorExample\":\"\"}]","title":"查看备份集列表"}