{"summary":"调用CreateLoadBalancerTCPListener创建TCP监听。","methods":["get","post"],"schemes":["http","https"],"security":[{"AK":[]}],"deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"LoadBalancerId","in":"query","schema":{"title":"负载均衡实例的ID。","description":"负载均衡实例的ID。","type":"string","required":true,"example":"lb-5ovkn1piwqmoqrfjdyhq4****"}},{"name":"ListenerPort","in":"query","schema":{"title":"负载均衡实例前端使用的端口。  取值：1-65535。","description":"负载均衡对外提供服务，接收请求并向后端服务器进行请求转发的监听端口。取值：**1**~**65535**。","type":"integer","format":"int32","required":true,"maximum":"65535","minimum":"1","example":"80"}},{"name":"Description","in":"query","schema":{"title":"设置监听的描述信息。  长度限制为1-80个字符，允许包含字母、数字、“-”、“/”、“.”和“_”等字符。支持中文描述。","description":"设置监听名称。长度限制为**1**~**80**个字符。\n> 不能以`http://`和`https://`开头。","type":"string","required":false,"example":"example","maxLength":80,"minLength":1}},{"name":"Scheduler","in":"query","schema":{"title":"度算法。取值：  wrr（默认值）：权重值越高的后端服务器，被轮询到的次数（概率）也越高。 wlc：除了根据每台后端服务器设定的权重值来进行轮询，同时还考虑后端服务器的实际负载（即连接数）。当权重值相同时，当前连接数越小的后端服务器被轮询到的次数（概率）也越高。 rr：按照访问顺序依次将外部请求依序分发到后端服务器。 sch：基于源IP地址的一致性hash，相同的源地址会调度到相同的后端服务器。","description":"调度算法。取值：\n- **wrr**（默认值）：权重值越高的后端服务器，被轮询到的次数（概率）也越高。\n- **wlc**：除了根据每台后端服务器设定的权重值来进行轮询，同时还考虑后端服务器的实际负载（即连接数）。当权重值相同时，当前连接数越小的后端服务器被轮询到的次数（概率）也越高。\n- **rr**：按照访问顺序依次将外部请求依序分发到后端服务器。\n- **sch**：基于源IP地址的一致性Hash，相同的源地址会调度到相同的后端服务器。\n- **qch**：基于QUIC Connection ID一致性Hash，相同的QUIC Connection ID会调度到相同的后端服务器。\n- **iqch**：针对iQUIC CID的特定三个字节进行一致Hash，第2~第4三个字节相同的会调度到相同的后端服务器。\n","type":"string","required":false,"example":"wrr","enum":["wrr","wlc","rr","sch"]}},{"name":"PersistenceTimeout","in":"query","schema":{"title":"会话保持的超时时间。  取值：0~3600（秒）。  默认值：0，表示关闭会话保持。","description":"会话保持的超时时间。\n\n- 默认值：0，表示关闭会话保持。\n- 取值：**0**~**3600**。\n- 单位：秒。\n","type":"integer","format":"int32","required":false,"maximum":"3600","minimum":"0","example":"0"}},{"name":"EstablishedTimeout","in":"query","schema":{"title":"连接超时时间。  取值：10~900（秒）。","description":"连接超时时间，取值：**10**~**900**，默认值为**900**，单位：秒。","type":"integer","format":"int32","required":false,"maximum":"900","minimum":"10","example":"500"}},{"name":"HealthyThreshold","in":"query","schema":{"title":"健康检查连续成功多少次后，将后端服务器的健康检查状态由fail判定为success。  取值： 2~10。","description":"健康检查连续成功多少次后，将后端服务器的健康检查状态由fail（后台服务器不可达）判定为success（后台服务器可达）。取值：**2**~**10**，默认值为**3**。\n","type":"integer","format":"int32","required":false,"maximum":"10","minimum":"2","example":"4"}},{"name":"UnhealthyThreshold","in":"query","schema":{"title":"健康检查连续失败多少次后，将后端服务器的健康检查状态由success判定为fail。  取值：2~10。","description":"健康检查连续失败多少次后，将后端服务器的健康检查状态由success（后台服务器可达）判定为fail（后台服务器不可达）。取值：**2**~**10**，默认值为**3**。\n","type":"integer","format":"int32","required":false,"maximum":"10","minimum":"2","example":"4"}},{"name":"HealthCheckConnectTimeout","in":"query","schema":{"title":"每次健康检查响应的最大超时时间。  取值：1~300（秒）。  默认值：5。","description":"接收来自运行状况检查的响应需要等待的时间。如果后端ENS在指定的时间内没有响应，则判定为健康检查失败。\n- 默认值：5秒。\n- 取值：**1**~**300**。\n- 单位：秒。\n\n> 如果HealthCheckConnectTimeout的值小于HealthCheckInterval的值，则HealthCheckConnectTimeout无效，超时时间为HealthCheckInterval的值。","type":"integer","format":"int32","required":false,"maximum":"300","minimum":"1","example":"100"}},{"name":"HealthCheckInterval","in":"query","schema":{"title":"健康检查的时间间隔。  取值：1~50（秒）。","description":"健康检查的时间间隔。取值：**1**~**50**，默认值为**2**，单位：秒。\n","type":"integer","format":"int32","required":false,"maximum":"50","minimum":"1","example":"3"}},{"name":"HealthCheckDomain","in":"query","schema":{"title":"用于健康检查的域名","description":"用于健康检查的域名。\n","type":"string","required":false,"example":"www.aliyundoc.com","maxLength":80,"minLength":1}},{"name":"HealthCheckURI","in":"query","schema":{"title":"用于健康检查的URI。长度限制为1~80，只能使用字母、数字、短横线（-）、正斜杠（/）、点号（.）、百分号（%）、#和&amp;这些字符。 URL不能只为/，但必须以/开头。  当TCP监听需要使用HTTP健康检查时可配置此参数，如不配置则按TCP健康检查。","description":"用于健康检查的URI。长度限制为**1**~**80**。\n> URL不能只有`/`，但必须以`/`开头。\n","type":"string","required":false,"example":"/checkpreload.htm","maxLength":80,"minLength":1}},{"name":"HealthCheckHttpCode","in":"query","schema":{"title":"健康检查正常的HTTP状态码，多个状态码用逗号（,）分割。  取值：http_2xx（默认值） | http_3xx | http_4xx | http_5xx。","description":"健康检查正常时的HTTP状态码。取值：\n\n- **http_2xx**（默认值）。\n- **http_3xx**。\n- **http_4xx**。\n- **http_5xx**。\n\n","type":"string","required":false,"example":"http_2xx"}},{"name":"HealthCheckType","in":"query","schema":{"title":"健康检查类型。  取值：tcp（默认值） | http。","description":"健康检查类型。取值：\n- **tcp**（默认值）。\n- **http**。","type":"string","required":false,"example":"tcp","enum":["tcp","http"]}},{"name":"BackendServerPort","in":"query","schema":{"title":"负载均衡实例后端使用的端口，取值：1~65535","description":"负载均衡实例后端服务器使用的端口，取值：**1**~**65535**。","type":"integer","format":"int32","required":false,"maximum":"65535","minimum":"1","example":"8080"}},{"name":"HealthCheckConnectPort","in":"query","schema":{"title":"健康检查使用的端口。  取值：1~65535。  不设置此参数时，表示使用后端服务端口（BackendServerPort）。","description":"健康检查使用的端口，取值：**1**~**65535**。不设置此参数时，表示使用后端服务端口（BackendServerPort）。\n","type":"integer","format":"int32","required":false,"maximum":"65535","minimum":"1","example":"8080"}},{"name":"EipTransmit","in":"query","schema":{"description":"是否开启EIP透传，取值：\n- **on**：开启。\n- **off**（默认值）：关闭。\n","type":"string","required":false,"example":"on","enum":["on","off"]}}],"responses":{"200":{"schema":{"title":"Schema of Response","description":"Schema of Response","type":"object","properties":{"RequestId":{"title":"Id of the request","description":"请求ID。","type":"string","example":"06F00FBB-3D9E-4CCE-9D43-1A6946A75456"}}}}},"errorCodes":{"400":[{"errorCode":"Invalid%s","errorMessage":"The specified parameter %s is invalid."},{"errorCode":"Missing%s","errorMessage":"You must specify the parameter %s."},{"errorCode":"LoadBalancerNotFound","errorMessage":"The input parameter loadBalancerId that is not found."},{"errorCode":"IncorrectInstanceStatus","errorMessage":"The current status of the resource does not support this operation."},{"errorCode":"ListenerAlreadyExists","errorMessage":"The listener already exists."},{"errorCode":"ens.interface.error","errorMessage":"Failed to call API."},{"errorCode":"NoPermission","errorMessage":"Permission denied."},{"errorCode":"InvalidParameter.%s","errorMessage":"The specified field %s invalid. Please check it again."}]},"responseDemo":"[{\"type\":\"json\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"06F00FBB-3D9E-4CCE-9D43-1A6946A75456\\\"\\n}\",\"errorExample\":\"\"},{\"type\":\"xml\",\"example\":\"<CreateLoadBalancerTCPListenerResponse>\\n    <RequestId>06F00FBB-3D9E-4CCE-9D43-1A6946A75456</RequestId>\\n</CreateLoadBalancerTCPListenerResponse>\",\"errorExample\":\"\"}]","title":"创建TCP监听","description":"- API调用频率：100次/秒。\n- 单用户调用频率：10次/秒。"}