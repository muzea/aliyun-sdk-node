{"summary":"调用RunServiceSchedule根据客户ID&IP基本信息，为终端设备最优调度空闲资源（实例设备/容器POD），并完成虚拟设备环境的初始化。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{},"parameters":[{"name":"AppId","in":"query","schema":{"description":"应用ID","type":"string","required":true,"example":"474bdef0-d149-4695-abfb-52912d9143f0"}},{"name":"Uuid","in":"query","schema":{"description":"设备UUID","type":"string","required":true,"example":"hdm_d4f1059a8e1afc0956bd71b497faa433"}},{"name":"ClientIp","in":"query","schema":{"description":"客户端的IP地址。","type":"string","required":true,"example":"180.166.45.146"}},{"name":"ServiceAction","in":"query","schema":{"description":"调度服务操作。枚举类型，取值范围：\n\n容器化场景：\n\n- Start：选择并激活一个可调度云设备，启动服务\n- Stop：结束并释放云设备\n- Console：Uuid处于调度中状态时，进行命令交互\n\n裸金属/虚机场景：\n  \n- PreSchedule：预调度并锁定虚机实例\n- Confirm：确认调度\n- Cancel：取消调度\n- Console：Uuid处于调度中状态时，进行命令交互","type":"string","required":true,"enumValueTitles":{"Start":"选择并激活一个可调度云设备，启动服务","Stop":"结束并释放云设备","Cancel":"取消调度","PreSchedule":"预调度并锁定虚机实例","Console":"Uuid处于调度中状态时，进行命令交互","Confirm":"确认调度"},"example":"Start"}},{"name":"PodConfigName","in":"query","schema":{"description":"无效参数","type":"string","required":false,"example":"android"}},{"name":"PreLockedTimeout","in":"query","schema":{"description":"锁定空闲设备的时间上限，单位秒，仅ServiceAction=PreSchedule有效。默认300。","type":"integer","format":"int32","required":false,"example":"300"}},{"name":"Directorys","in":"query","schema":{"description":"需要挂载的用户数据文件的目录列表。必须是全路径，不支持'/../'，取值示例： [\"/data/app01\", \"/data/user\"]。\n注意：输入的目录路径是虚拟设备\"/data\"目录的相对目录，即实际对应的虚拟设备路径为\"/data/{输入路径}\"","type":"string","required":false,"example":"[\\\"/data/app01\\\", \\\"/data/user\\\"]"}},{"name":"ServiceCommands","in":"query","schema":{"description":"容器服务命令列表。Json数组格式的字符串。","type":"string","required":false,"example":"[{\\\"containerName\\\": \\\"android\\\",       \\\"commands\\\":[\\\"cat /tmp/token.json\\\"]    },    {      \\\"commands\\\":[\\\"ls -l /data/data\\\"]    }]"}},{"name":"ScheduleStrategy","in":"query","schema":{"description":"设备调度策略。Json格式的字符串。","type":"string","required":false,"example":"{\\\"selectLevel\\\": \\\"RegionId\\\", \\\"values\\\": [\\\"cn-chengdu-telecom-2\\\"]  }"}}],"responses":{"200":{"schema":{"type":"object","properties":{"CommandResults":{"type":"object","properties":{"CommandResult":{"description":"容器服务命令的执行结果。","type":"array","items":{"description":"容器命令的执行信息。","type":"object","properties":{"Command":{"description":"设备(容器)命令。","type":"string","example":"ls -l /data"},"ContainerName":{"description":"容器名。","type":"string","example":"android"},"ResultMsg":{"description":"命令执行结果。","type":"string","example":"success"}}}}}},"Index":{"description":"调度的目标虚拟设备（容器Pod）索引号。","type":"integer","format":"int32","example":"1"},"InstanceId":{"description":"调度的目标实例ID。","type":"string","example":"i-5qvji3mom4ec013dyygmtxlkj"},"InstanceIp":{"description":"调度的目标实例IP。","type":"string","example":"172.16.246.11"},"InstancePort":{"description":"调度的目标实例Port起始端口。","type":"integer","format":"int32","example":"1024"},"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"RequestRepeated":{"description":"除ServcieAction=Console外，其余ServcieAction是否是重复操作。","type":"string","example":"false"},"TcpPorts":{"description":"调度的目标虚机实例/容器的tcp服务端口范围，取值格式：${from}-${to}，如80-88。","type":"boolean","example":"\"80-88\""}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"The input parameter that is mandatory for processing this request is not supplied."},{"errorCode":"NoPermission","errorMessage":"Permission denied."},{"errorCode":"InvalidParameter.%s","errorMessage":"The specified field %s invalid. Please check it again."},{"errorCode":"InvalidParameter","errorMessage":"The errorMessage is %s. Please check it again."},{"errorCode":"LimitExceeded.SecurityGroup","errorMessage":"The number of securityGroup exceeds the limit."},{"errorCode":"ens.interface.error","errorMessage":"An error occurred while calling the API."},{"errorCode":"CallInterface","errorMessage":"Call Interface Happen Error."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"CommandResults\\\": {\\n    \\\"CommandResult\\\": [\\n      {\\n        \\\"Command\\\": \\\"ls -l /data\\\",\\n        \\\"ContainerName\\\": \\\"android\\\",\\n        \\\"ResultMsg\\\": \\\"success\\\"\\n      }\\n    ]\\n  },\\n  \\\"Index\\\": 1,\\n  \\\"InstanceId\\\": \\\"i-5qvji3mom4ec013dyygmtxlkj\\\",\\n  \\\"InstanceIp\\\": \\\"172.16.246.11\\\",\\n  \\\"InstancePort\\\": 1024,\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"RequestRepeated\\\": \\\"false\\\",\\n  \\\"TcpPorts\\\": true\\n}\",\"type\":\"json\"}]","title":"执行设备服务调度"}