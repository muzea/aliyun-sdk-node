{"summary":"调用UpgradeApplication异步进行容器版本更新，支持多种灰度策略。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"systemTags":{"operationType":"update"},"parameters":[{"name":"AppId","in":"query","schema":{"description":"应用ID。","type":"string","required":true,"example":"a2bac6f4-75dc-455e-8389-2dc8e47526d3"}},{"name":"Template","in":"query","schema":{"description":"灰度升级信息模版，Json格式的字符串，内容包括：\n\n- 待升级版本范围\n- 目标版本配置信息\n- 资源灰度选择策略\n- 智能升级策略（时间窗口、水位等信息）","type":"string","required":true,"example":"{\\\"fromAppVersions\\\":{        \\\"operator\\\":\\\"In\\\",        \\\"values\\\":[            \\\"v1\\\",            \\\"v2\\\"        ]    },    \\\"toAppVersion\\\":\\\"v3\\\",    \\\"descrip\\\":\\\"xxx\\\",    \\\"workload\\\":[        {            \\\"name\\\":\\\"nginx\\\",            \\\"podSpec\\\":{            }        }    ],    \\\"upgradeStrategy\\\":{        \\\"name\\\":\\\"ScheduleToISP\\\",        \\\"parameters\\\":{            \\\"operator\\\":\\\"In\\\",            \\\"values\\\":[                \\\"telecom\\\"            ]        }    },    \\\"autoUpgradeStrategy\\\":{        \\\"name\\\":\\\"AdjustToPodUsage\\\",        \\\"checkInterval\\\":600,        \\\"startTime\\\":\\\"2021-02-19 00:00:00\\\",        \\\"startHourPoint\\\":\\\"0\\\",        \\\"endHourPoint\\\":\\\"8\\\",        \\\"endTime\\\":\\\"2021-02-19 08:00:00\\\",        \\\"level\\\":\\\"RegionId\\\",        \\\"rules\\\":[            {                \\\"regionCodes\\\":[                    \\\"cn-wuxi-telecom_unicom_cmcc\\\",                    \\\"cn-shijiazhuang-telecom_unicom_cmcc\\\"                ],                \\\"usageRatioLimit\\\":{                    \\\"maxPodUsageRatio\\\":50                },                \\\"maxUpgradingRatio\\\":50            },            {                \\\"regionCodes\\\":[                    \\\"cn-wuhan-telecom_unicom_cmcc\\\"                ],                \\\"usageRatioLimit\\\":{                    \\\"maxPodUsageRatio\\\":30                },                \\\"maxUpgradingRatio\\\":20            },            {                \\\"regionCodes\\\":[                    \\\"All\\\"                ],                \\\"usageRatioLimit\\\":{                    \\\"maxPodUsageRatio\\\":20                },                \\\"maxUpgradingRatio\\\":50,                \\\"maxUpgradingCount\\\":2            }        ]    }}"}},{"name":"Timeout","in":"query","schema":{"description":"应用异步升级的超时时间，单位秒。默认300。","type":"integer","format":"int32","required":false,"example":"1800"}}],"responses":{"200":{"schema":{"type":"object","properties":{"RequestId":{"description":"请求ID。","type":"string","example":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E"},"TaskId":{"description":"任务ID，可以通过任务ID查询升级进度或状态。","type":"string","example":"6f24a774-6bd5-4026-bb7d-deffb1dad875"}}}}},"errorCodes":{"400":[{"errorCode":"MissingParameter","errorMessage":"The input parameter that is mandatory for processing this request is not supplied."},{"errorCode":"NoPermission","errorMessage":"Permission denied."},{"errorCode":"InvalidParameter.%s","errorMessage":"The specified field %s invalid. Please check it again."},{"errorCode":"InvalidParameter","errorMessage":"The errorMessage is %s. Please check it again."},{"errorCode":"ens.interface.error","errorMessage":"An error occurred while calling the API."},{"errorCode":"CallInterface","errorMessage":"Call Interface Happen Error."}]},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"RequestId\\\": \\\"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E\\\",\\n  \\\"TaskId\\\": \\\"6f24a774-6bd5-4026-bb7d-deffb1dad875\\\"\\n}\",\"type\":\"json\"}]","title":"应用容器版本升级"}