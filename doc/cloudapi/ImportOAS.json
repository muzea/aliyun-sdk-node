{"summary":"使用标准OAS定义导入API。","methods":["post","get"],"schemes":["http","https"],"security":[{"AK":[]}],"operationType":"write","deprecated":false,"systemTags":{"operationType":"create"},"parameters":[{"name":"GroupId","in":"query","schema":{"description":"API分组的ID","type":"string","required":true,"docRequired":true,"example":"08ae4aa0f95e4321849ee57f4e0b3077"}},{"name":"Data","in":"formData","schema":{"description":"OAS文本内容，或OSS链接","type":"string","required":true,"docRequired":true,"example":"swagger: \"2.0\"\ninfo:\n  version: \"1.0.0\"\n  title: \"Swagger Petstore 2.0\"\nbasePath: \"/\"\nschemes:\n- \"https\"\n- \"http\"\npaths:\n  /pet/findByStatus:\n    get:\n      tags:\n      - \"pet\"\n      summary: \"Finds Pets by status\"\n      operationId: \"findPetsByStatus\"\n      parameters:\n      - name: \"status\"\n        in: \"query\"\n        required: true\n        type: \"array\"\n        items:\n          type: \"string\"\n          enum:\n          - \"available\"\n          - \"pending\"\n          - \"sold\"\n          default: \"available\"\n        collectionFormat: \"multi\"\n      responses:\n        \"200\":\n          description: \"successful operation\"\n          schema:\n            type: \"array\"\n            items:\n              $ref: \"#/definitions/Pet\"\n        \"400\":\n          description: \"Invalid status value\"\ndefinitions:\n  Category:\n    type: \"object\"\n    properties:\n      id:\n        type: \"integer\"\n        format: \"int64\"\n      name:\n        type: \"string\"\n  Tag:\n    type: \"object\"\n    properties:\n      id:\n        type: \"integer\"\n        format: \"int64\"\n      name:\n        type: \"string\"\n  Pet:\n    type: \"object\"\n    required:\n    - \"name\"\n    - \"photoUrls\"\n    properties:\n      id:\n        type: \"integer\"\n        format: \"int64\"\n      category:\n        $ref: \"#/definitions/Category\"\n      name:\n        type: \"string\"\n        example: \"doggie\"\n      photoUrls:\n        type: \"array\"\n        items:\n          type: \"string\"\n      tags:\n        type: \"array\"\n        items:\n          $ref: \"#/definitions/Tag\"\n      status:\n        type: \"string\"\n        description: \"pet status in the store\"\n        enum:\n        - \"available\"\n        - \"pending\"\n        - \"sold\""}},{"name":"Overwrite","in":"query","schema":{"description":"是否覆盖现有API。\n\n覆盖检测条件为：API的HTTP请求类型+后端请求路径相同。","type":"boolean","required":true,"docRequired":true,"example":"true"}},{"name":"IgnoreWarning","in":"query","schema":{"description":"忽略警告信息","type":"boolean","required":false,"docRequired":false,"example":"true"}},{"name":"SkipDryRun","in":"query","schema":{"description":"跳过预检查，进行导入","type":"boolean","required":false,"docRequired":false,"example":"true"}},{"name":"OASVersion","in":"query","schema":{"description":"OAS版本信息","type":"string","required":false,"docRequired":false,"example":"OAS2"}},{"name":"BackendName","in":"query","schema":{"description":"后端服务名称","type":"string","required":false,"docRequired":false,"example":"testBackendService"}},{"name":"AuthType","in":"query","schema":{"description":"API安全认证类型，目前可以取值：\n\n- **APP**：只允许已授权的APP调用\n- **ANONYMOUS**：允许匿名调用，设置为允许匿名调用需要注意：\n     - 任何能够获取该API服务信息的人，都将能够调用该API。网关不会对调用者做身份认证，也无法设置按用户的流量控制，若开放该API请设置好按API的流量控制。","type":"string","required":false,"docRequired":false,"example":"APP"}},{"name":"RequestMode","in":"query","schema":{"description":"入参请求的模式，取值为：\n\n- MAPPING：入参映射（过滤未知参数）\n\n- PASSTHROUGH：入参透传","type":"string","required":false,"docRequired":false,"example":"PASSTHROUGH"}}],"responses":{"200":{"schema":{"type":"object","properties":{"OperationId":{"description":"进行导入操作时生成的异步任务ID，用来查询导入任务的执行情况","type":"string","example":"c16a1880f5164d779f6a54f64d997cd9"},"RequestId":{"description":"请求ID","type":"string","example":"E7FE7172-AA75-5880-B6F7-C00893E9BC06"},"ErrorMessages":{"type":"object","properties":{"ErrorMessage":{"description":"OAS定义中不支持的错误内容","type":"array","items":{"description":"OAS定义中不支持的错误内容","type":"string","example":"Invalid extensions:x-aliyun-apigateway-auth-type. Option value [ANONYMOUS, APP]."}}}},"WarningMessages":{"type":"object","properties":{"WarningMessage":{"description":"OAS定义中不支持的警告信息，可以忽略","type":"array","items":{"description":"OAS定义中不支持的警告信息，可以忽略","type":"string","example":"There is no valid api definition in your file."}}}},"SuccessApis":{"type":"object","properties":{"SuccessApi":{"description":"预检成功的API信息","type":"array","items":{"description":"预检成功的API信息","type":"object","properties":{"Path":{"description":"创建API时配置的请求路径","type":"string","example":"/st1"},"HttpMethod":{"description":"创建API时配置的HTTP方法","type":"string","example":"POST"},"ApiId":{"description":"API的ID。\n","type":"string","example":"92af1abffc2443eaa2b815fdbd9c13f1"},"ApiOperation":{"description":"该API是创建（CREATE）或修改（MODIFY）","type":"string","example":"CREATE"}}}}}},"FailedApis":{"type":"object","properties":{"FailedApi":{"description":"预检失败的API信息","type":"array","items":{"description":"预检失败的API信息","type":"object","properties":{"Path":{"description":"创建API时配置的请求路径","type":"string","example":"/st1"},"HttpMethod":{"description":"创建API时配置的HTTP方法","type":"string","example":"POST"},"ErrorMsg":{"description":"错误信息","type":"string","example":"Invalid Api Definition."}}}}}},"FailedModels":{"type":"object","properties":{"FailedModel":{"description":"预检失败的模型信息","type":"array","items":{"description":"预检失败的模型信息","type":"object","properties":{"ErrorMsg":{"description":"错误信息","type":"string","example":"Invalid Model Definition."},"ModelName":{"description":"模型名称","type":"string","example":"test"},"GroupId":{"description":"API 分组 ID","type":"string","example":"2c1bc62e19614cc68c6b0b484bc9c5db"}}}}}},"SuccessModels":{"type":"object","properties":{"SuccessModel":{"description":"预检成功的模型信息","type":"array","items":{"description":"预检成功的模型信息","type":"object","properties":{"ModelUid":{"description":"模型uid","type":"string","example":"1r4efwee19614cc68c6b0b484bc9c5dbs"},"ModelName":{"description":"模型名称","type":"string","example":"test"},"GroupId":{"description":"API 分组 ID","type":"string","example":"feaccf67040643bcbdedb253e59eb527"},"ModelOperation":{"description":"模型操作，创建（CREATE）或修改（MODIFY）","type":"string","example":"CREATE"}}}}}}}}}},"responseDemo":"[{\"errorExample\":\"\",\"example\":\"{\\n  \\\"OperationId\\\": \\\"c16a1880f5164d779f6a54f64d997cd9\\\",\\n  \\\"RequestId\\\": \\\"E7FE7172-AA75-5880-B6F7-C00893E9BC06\\\",\\n  \\\"ErrorMessages\\\": {\\n    \\\"ErrorMessage\\\": [\\n      \\\"Invalid extensions:x-aliyun-apigateway-auth-type. Option value [ANONYMOUS, APP].\\\"\\n    ]\\n  },\\n  \\\"WarningMessages\\\": {\\n    \\\"WarningMessage\\\": [\\n      \\\"There is no valid api definition in your file.\\\"\\n    ]\\n  },\\n  \\\"SuccessApis\\\": {\\n    \\\"SuccessApi\\\": [\\n      {\\n        \\\"Path\\\": \\\"/st1\\\",\\n        \\\"HttpMethod\\\": \\\"POST\\\",\\n        \\\"ApiId\\\": \\\"92af1abffc2443eaa2b815fdbd9c13f1\\\",\\n        \\\"ApiOperation\\\": \\\"CREATE\\\"\\n      }\\n    ]\\n  },\\n  \\\"FailedApis\\\": {\\n    \\\"FailedApi\\\": [\\n      {\\n        \\\"Path\\\": \\\"/st1\\\",\\n        \\\"HttpMethod\\\": \\\"POST\\\",\\n        \\\"ErrorMsg\\\": \\\"Invalid Api Definition.\\\"\\n      }\\n    ]\\n  },\\n  \\\"FailedModels\\\": {\\n    \\\"FailedModel\\\": [\\n      {\\n        \\\"ErrorMsg\\\": \\\"Invalid Model Definition.\\\",\\n        \\\"ModelName\\\": \\\"test\\\",\\n        \\\"GroupId\\\": \\\"2c1bc62e19614cc68c6b0b484bc9c5db\\\"\\n      }\\n    ]\\n  },\\n  \\\"SuccessModels\\\": {\\n    \\\"SuccessModel\\\": [\\n      {\\n        \\\"ModelUid\\\": \\\"1r4efwee19614cc68c6b0b484bc9c5dbs\\\",\\n        \\\"ModelName\\\": \\\"test\\\",\\n        \\\"GroupId\\\": \\\"feaccf67040643bcbdedb253e59eb527\\\",\\n        \\\"ModelOperation\\\": \\\"CREATE\\\"\\n      }\\n    ]\\n  }\\n}\",\"type\":\"json\"}]","title":"通过OAS导入API"}